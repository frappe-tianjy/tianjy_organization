frappe.dom.set_style("/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=style-css&index=0 */\n.toggle-btn[data-v-c3964969] {\n  display: flex;\n  margin-right: var(--margin-sm);\n  cursor: pointer;\n  --icon-stroke: var(--gray-500);\n}\n.toggle-btn .sidebar-toggle-placeholder[data-v-c3964969] {\n  transition: all 0.5s ease-in-out;\n}\n.toggle-btn .sidebar-toggle-icon[data-v-c3964969] {\n  transition: all 0.5s ease-in-out;\n  display: none;\n}\n.toggle-btn:hover .sidebar-toggle-placeholder[data-v-c3964969] {\n  display: none;\n}\n.toggle-btn:hover .sidebar-toggle-icon[data-v-c3964969] {\n  display: block;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=style-css&index=0 */\n.title[data-v-2cbdb5e9] {\n  height: 75px;\n  display: flex;\n  align-items: center;\n  line-height: 75px;\n}\n.guigu-container[data-v-2cbdb5e9] {\n  height: var(--2cbdb5e9-height);\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n}\n.guigu-container .main-container[data-v-2cbdb5e9] {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n.guigu-container .main-container .sider[data-v-2cbdb5e9] {\n  min-width: 50px;\n  min-height: 50px;\n}\n.guigu-container .main-container.horizon[data-v-2cbdb5e9] {\n  flex-direction: row;\n}\n.guigu-container .main-container.horizon .sider[data-v-2cbdb5e9] {\n  width: 300px;\n}\n.guigu-container .main-container.horizon .sider.onlySider[data-v-2cbdb5e9] {\n  width: 100%;\n}\n.guigu-container .main-container.vertical[data-v-2cbdb5e9] {\n  flex-direction: column;\n}\n.guigu-container .main-container.vertical .sider[data-v-2cbdb5e9] {\n  height: 300px;\n}\n.guigu-container .main-container.vertical .sider.onlySider[data-v-2cbdb5e9] {\n  height: 100%;\n}\n.guigu-container .main-container .resizer-container[data-v-2cbdb5e9] {\n  position: relative;\n  border: 0;\n}\n.guigu-container .main-container .resizer-container .resizer[data-v-2cbdb5e9] {\n  position: absolute;\n  z-index: 1;\n  background-color: #d9d9d9;\n  opacity: 0.5;\n}\n.guigu-container .main-container .resizer-container.horizon[data-v-2cbdb5e9] {\n  padding: 0 4px;\n  width: 12px;\n  height: 100%;\n}\n.guigu-container .main-container .resizer-container.horizon .resizer[data-v-2cbdb5e9] {\n  width: 2px;\n  height: 100%;\n  cursor: col-resize;\n}\n.guigu-container .main-container .resizer-container.vertical[data-v-2cbdb5e9] {\n  padding: 4px 0;\n  width: 100%;\n  height: 12px;\n}\n.guigu-container .main-container .resizer-container.vertical .resizer[data-v-2cbdb5e9] {\n  height: 2px;\n  width: 100%;\n  cursor: row-resize;\n}\n.guigu-container .main-container .right[data-v-2cbdb5e9] {\n  display: flex;\n  flex: 1;\n  overflow: auto;\n}\n.guigu-container .main-container .right.horizon[data-v-2cbdb5e9] {\n  flex-direction: row;\n}\n.guigu-container .main-container .right.horizon .main[data-v-2cbdb5e9] {\n  width: 50%;\n}\n.guigu-container .main-container .right.horizon .main.noDetail[data-v-2cbdb5e9] {\n  width: 100%;\n}\n.guigu-container .main-container .right.horizon .detail[data-v-2cbdb5e9] {\n  flex: 1;\n  min-width: 150px;\n}\n.guigu-container .main-container .right.vertical[data-v-2cbdb5e9] {\n  flex-direction: column;\n}\n.guigu-container .main-container .right.vertical .main[data-v-2cbdb5e9] {\n  height: 50%;\n}\n.guigu-container .main-container .right.vertical .main.noDetail[data-v-2cbdb5e9] {\n  height: 100%;\n}\n.guigu-container .main-container .right.vertical .detail[data-v-2cbdb5e9] {\n  flex: 1;\n  min-height: 150px;\n}\n.tools[data-v-2cbdb5e9] {\n  padding: 8px 0;\n}\n.small-meta_tools[data-v-2cbdb5e9] {\n  display: flex;\n  justify-content: space-between;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=style-css&index=0 */\n[data-v-a835aba7] .delete {\n  color: #f00;\n}\n.create_type[data-v-a835aba7] {\n  height: 24px;\n}\n.create-menu[data-v-a835aba7] {\n  border-right: 0;\n  padding: 0;\n}\n.custom-tree-node[data-v-a835aba7] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n  padding-right: 8px;\n}\n.custom-tree-node .el-dropdown-link[data-v-a835aba7] {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  visibility: hidden;\n}\n.custom-tree-node:hover .el-dropdown-link[data-v-a835aba7] {\n  visibility: visible;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=style-css&index=0 */\n.sider-container[data-v-7ff9d4db] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 8px;\n}\n.sider-container .tree-container[data-v-7ff9d4db] {\n  overflow-y: auto;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=style-css&index=0 */\n._header_pve6u_1 {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 6;\n  position: sticky;\n  top: 0;\n  box-shadow: var(--shadow-sm);\n  background-color: var(--card-bg);\n  margin-bottom: 5px;\n  height: 48px;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=style-css&index=0 */\n.form-container[data-v-c54e1258] {\n  border: 1px solid #eee;\n}\n.form-container[data-v-c54e1258] .form-section .form-column:first-child {\n  padding-left: 15px;\n}\n.form-container .placeholder[data-v-c54e1258] {\n  height: 500px;\n  line-height: 500px;\n  text-align: center;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=style-css&index=0 */\n.content[data-v-89a027f3] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.content[data-v-89a027f3] .page-body {\n  overflow: auto;\n}\n.content[data-v-89a027f3] .page-head {\n  position: static;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=style-css&index=0 */\n.member[data-v-b487dc22] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.member .btn-container[data-v-b487dc22] {\n  text-align: right;\n  margin-bottom: 8px;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=style-css&index=0 */\n.organization-tabs[data-v-cb280acd] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.workspace[data-v-cb280acd],\n.member[data-v-cb280acd] {\n  height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL1RvZ2dsZUJ0bi52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wIiwgInNmYy1zdHlsZS1jc3M6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi50b2dnbGUtYnRuW2RhdGEtdi1jMzk2NDk2OV0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLW1hcmdpbi1zbSk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLS1pY29uLXN0cm9rZTogdmFyKC0tZ3JheS01MDApO1xufVxuLnRvZ2dsZS1idG4gLnNpZGViYXItdG9nZ2xlLXBsYWNlaG9sZGVyW2RhdGEtdi1jMzk2NDk2OV0ge1xuICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLWluLW91dDtcbn1cbi50b2dnbGUtYnRuIC5zaWRlYmFyLXRvZ2dsZS1pY29uW2RhdGEtdi1jMzk2NDk2OV0ge1xuICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLWluLW91dDtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi50b2dnbGUtYnRuOmhvdmVyIC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlcltkYXRhLXYtYzM5NjQ5NjldIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi50b2dnbGUtYnRuOmhvdmVyIC5zaWRlYmFyLXRvZ2dsZS1pY29uW2RhdGEtdi1jMzk2NDk2OV0ge1xuICBkaXNwbGF5OiBibG9jaztcbn1cbiIsICIudGl0bGVbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGhlaWdodDogNzVweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDc1cHg7XG59XG4uZ3VpZ3UtY29udGFpbmVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IHZhcigtLTJjYmRiNWU5LWhlaWdodCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZmxleDogMTtcbiAgZGlzcGxheTogZmxleDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5zaWRlcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgbWluLXdpZHRoOiA1MHB4O1xuICBtaW4taGVpZ2h0OiA1MHB4O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIuaG9yaXpvbltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyLmhvcml6b24gLnNpZGVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICB3aWR0aDogMzAwcHg7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lci5ob3Jpem9uIC5zaWRlci5vbmx5U2lkZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIudmVydGljYWxbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lci52ZXJ0aWNhbCAuc2lkZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGhlaWdodDogMzAwcHg7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lci52ZXJ0aWNhbCAuc2lkZXIub25seVNpZGVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmVzaXplci1jb250YWluZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYm9yZGVyOiAwO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJlc2l6ZXItY29udGFpbmVyIC5yZXNpemVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDE7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkOWQ5ZDk7XG4gIG9wYWNpdHk6IDAuNTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yZXNpemVyLWNvbnRhaW5lci5ob3Jpem9uW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBwYWRkaW5nOiAwIDRweDtcbiAgd2lkdGg6IDEycHg7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yZXNpemVyLWNvbnRhaW5lci5ob3Jpem9uIC5yZXNpemVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICB3aWR0aDogMnB4O1xuICBoZWlnaHQ6IDEwMCU7XG4gIGN1cnNvcjogY29sLXJlc2l6ZTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yZXNpemVyLWNvbnRhaW5lci52ZXJ0aWNhbFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgcGFkZGluZzogNHB4IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEycHg7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmVzaXplci1jb250YWluZXIudmVydGljYWwgLnJlc2l6ZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGhlaWdodDogMnB4O1xuICB3aWR0aDogMTAwJTtcbiAgY3Vyc29yOiByb3ctcmVzaXplO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0W2RhdGEtdi0yY2JkYjVlOV0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC5ob3Jpem9uW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0Lmhvcml6b24gLm1haW5bZGF0YS12LTJjYmRiNWU5XSB7XG4gIHdpZHRoOiA1MCU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmlnaHQuaG9yaXpvbiAubWFpbi5ub0RldGFpbFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmlnaHQuaG9yaXpvbiAuZGV0YWlsW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBmbGV4OiAxO1xuICBtaW4td2lkdGg6IDE1MHB4O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0LnZlcnRpY2FsW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0LnZlcnRpY2FsIC5tYWluW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IDUwJTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC52ZXJ0aWNhbCAubWFpbi5ub0RldGFpbFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0LnZlcnRpY2FsIC5kZXRhaWxbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGZsZXg6IDE7XG4gIG1pbi1oZWlnaHQ6IDE1MHB4O1xufVxuLnRvb2xzW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBwYWRkaW5nOiA4cHggMDtcbn1cbi5zbWFsbC1tZXRhX3Rvb2xzW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG4iLCAiW2RhdGEtdi1hODM1YWJhN10gLmRlbGV0ZSB7XG4gIGNvbG9yOiAjZjAwO1xufVxuLmNyZWF0ZV90eXBlW2RhdGEtdi1hODM1YWJhN10ge1xuICBoZWlnaHQ6IDI0cHg7XG59XG4uY3JlYXRlLW1lbnVbZGF0YS12LWE4MzVhYmE3XSB7XG4gIGJvcmRlci1yaWdodDogMDtcbiAgcGFkZGluZzogMDtcbn1cbi5jdXN0b20tdHJlZS1ub2RlW2RhdGEtdi1hODM1YWJhN10ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmctcmlnaHQ6IDhweDtcbn1cbi5jdXN0b20tdHJlZS1ub2RlIC5lbC1kcm9wZG93bi1saW5rW2RhdGEtdi1hODM1YWJhN10ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbi5jdXN0b20tdHJlZS1ub2RlOmhvdmVyIC5lbC1kcm9wZG93bi1saW5rW2RhdGEtdi1hODM1YWJhN10ge1xuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xufVxuIiwgIi5zaWRlci1jb250YWluZXJbZGF0YS12LTdmZjlkNGRiXSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZy10b3A6IDhweDtcbn1cbi5zaWRlci1jb250YWluZXIgLnRyZWUtY29udGFpbmVyW2RhdGEtdi03ZmY5ZDRkYl0ge1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuIiwgIi5faGVhZGVyX3B2ZTZ1XzEge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgei1pbmRleDogNjtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgdG9wOiAwO1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc20pO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnKTtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBoZWlnaHQ6IDQ4cHg7XG59XG4iLCAiLmZvcm0tY29udGFpbmVyW2RhdGEtdi1jNTRlMTI1OF0ge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xufVxuLmZvcm0tY29udGFpbmVyW2RhdGEtdi1jNTRlMTI1OF0gLmZvcm0tc2VjdGlvbiAuZm9ybS1jb2x1bW46Zmlyc3QtY2hpbGQge1xuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XG59XG4uZm9ybS1jb250YWluZXIgLnBsYWNlaG9sZGVyW2RhdGEtdi1jNTRlMTI1OF0ge1xuICBoZWlnaHQ6IDUwMHB4O1xuICBsaW5lLWhlaWdodDogNTAwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiIsICIuY29udGVudFtkYXRhLXYtODlhMDI3ZjNdIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmNvbnRlbnRbZGF0YS12LTg5YTAyN2YzXSAucGFnZS1ib2R5IHtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG4uY29udGVudFtkYXRhLXYtODlhMDI3ZjNdIC5wYWdlLWhlYWQge1xuICBwb3NpdGlvbjogc3RhdGljO1xufVxuIiwgIi5tZW1iZXJbZGF0YS12LWI0ODdkYzIyXSB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5tZW1iZXIgLmJ0bi1jb250YWluZXJbZGF0YS12LWI0ODdkYzIyXSB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG4iLCAiLm9yZ2FuaXphdGlvbi10YWJzW2RhdGEtdi1jYjI4MGFjZF0ge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4ud29ya3NwYWNlW2RhdGEtdi1jYjI4MGFjZF0sXG4ubWVtYmVyW2RhdGEtdi1jYjI4MGFjZF0ge1xuICBoZWlnaHQ6IDEwMCU7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQUE7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7OztBQ2pCRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUFBOzs7QUN6R0Y7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDeEJGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDUEY7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OztBQ1hGO0FBQ0U7QUFBQTtBQUVGO0FBQ0U7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7OztBQ1RGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7OztBQ1RGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTs7O0FDUEY7QUFDRTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQUE7QUFFRTtBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo= */\n");
(function(){
"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: true, configurable: true, writable: true, value }) : obj[key2] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
    get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
  }) : x)(function(x) {
    if (typeof require !== "undefined")
      return require.apply(this, arguments);
    throw new Error('Dynamic require of "' + x + '" is not supported');
  });
  var __objRest = (source, exclude) => {
    var target = {};
    for (var prop in source)
      if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
        target[prop] = source[prop];
    if (source != null && __getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(source)) {
        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
          target[prop] = source[prop];
      }
    return target;
  };
  var __commonJS = (cb, mod) => function __require2() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to2, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key2 of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to2, key2) && key2 !== except)
          __defProp(to2, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });
    }
    return to2;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // ../frappe/node_modules/editorjs-undo/dist/bundle.js
  var require_bundle = __commonJS({
    "../frappe/node_modules/editorjs-undo/dist/bundle.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Undo = e() : t.Undo = e();
      }(window, function() {
        return function(t) {
          var e = {};
          function n(i) {
            if (e[i])
              return e[i].exports;
            var o = e[i] = { i, l: false, exports: {} };
            return t[i].call(o.exports, o, o.exports, n), o.l = true, o.exports;
          }
          return n.m = t, n.c = e, n.d = function(t2, e2, i) {
            n.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: i });
          }, n.r = function(t2) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
          }, n.t = function(t2, e2) {
            if (1 & e2 && (t2 = n(t2)), 8 & e2)
              return t2;
            if (4 & e2 && "object" == typeof t2 && t2 && t2.__esModule)
              return t2;
            var i = /* @__PURE__ */ Object.create(null);
            if (n.r(i), Object.defineProperty(i, "default", { enumerable: true, value: t2 }), 2 & e2 && "string" != typeof t2)
              for (var o in t2)
                n.d(i, o, function(e3) {
                  return t2[e3];
                }.bind(null, o));
            return i;
          }, n.n = function(t2) {
            var e2 = t2 && t2.__esModule ? function() {
              return t2.default;
            } : function() {
              return t2;
            };
            return n.d(e2, "a", e2), e2;
          }, n.o = function(t2, e2) {
            return Object.prototype.hasOwnProperty.call(t2, e2);
          }, n.p = "/", n(n.s = 0);
        }([function(t, e, n) {
          "use strict";
          function i(t2, e2) {
            for (var n2 = 0; n2 < e2.length; n2++) {
              var i2 = e2[n2];
              i2.enumerable = i2.enumerable || false, i2.configurable = true, "value" in i2 && (i2.writable = true), Object.defineProperty(t2, i2.key, i2);
            }
          }
          n.r(e), n.d(e, "default", function() {
            return s;
          });
          var o = function() {
            function t2(e3, n3) {
              !function(t3, e4) {
                if (!(t3 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, t2), this.holder = "string" == typeof n3 ? document.getElementById(n3) : n3, this.observer = null, this.debounceTimer = 200, this.mutationDebouncer = this.debounce(function() {
                e3();
              }, this.debounceTimer);
            }
            var e2, n2, o2;
            return e2 = t2, (n2 = [{ key: "setMutationObserver", value: function() {
              var t3 = this, e3 = this.holder;
              this.observer = new MutationObserver(function(e4) {
                t3.mutationHandler(e4);
              }), this.observer.observe(e3, { childList: true, attributes: true, subtree: true, characterData: true, characterDataOldValue: true });
            } }, { key: "mutationHandler", value: function(t3) {
              var e3 = this, n3 = false;
              t3.forEach(function(t4) {
                switch (t4.type) {
                  case "childList":
                    t4.target === e3.holder ? e3.onDestroy() : n3 = true;
                    break;
                  case "characterData":
                    n3 = true;
                    break;
                  case "attributes":
                    t4.target.classList.contains("ce-block") || (n3 = true);
                }
              }), n3 && this.mutationDebouncer();
            } }, { key: "debounce", value: function(t3, e3) {
              var n3, i2 = this;
              return function() {
                for (var o3 = arguments.length, r2 = new Array(o3), s2 = 0; s2 < o3; s2++)
                  r2[s2] = arguments[s2];
                var a = i2;
                clearTimeout(n3), n3 = setTimeout(function() {
                  return t3.apply(a, r2);
                }, e3);
              };
            } }, { key: "onDestroy", value: function() {
              var t3 = new CustomEvent("destroy");
              document.dispatchEvent(t3), this.observer.disconnect();
            } }]) && i(e2.prototype, n2), o2 && i(e2, o2), t2;
          }();
          function r(t2, e2) {
            for (var n2 = 0; n2 < e2.length; n2++) {
              var i2 = e2[n2];
              i2.enumerable = i2.enumerable || false, i2.configurable = true, "value" in i2 && (i2.writable = true), Object.defineProperty(t2, i2.key, i2);
            }
          }
          var s = function() {
            function t2(e3) {
              var n3 = this, i3 = e3.editor, r2 = e3.onUpdate, s2 = e3.maxLength;
              !function(t3, e4) {
                if (!(t3 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, t2);
              var a = { maxLength: 30, onUpdate: function() {
              } }, u = i3.configuration;
              this.editor = i3, this.shouldSaveHistory = true, this.readOnly = u.readOnly, this.maxLength = s2 || a.maxLength, this.onUpdate = r2 || a.onUpdate, new o(function() {
                return n3.registerChange();
              }, u.holder).setMutationObserver(), this.setEventListeners(), this.initialItem = null, this.clear();
            }
            var e2, n2, i2;
            return e2 = t2, i2 = [{ key: "isReadOnlySupported", get: function() {
              return true;
            } }], (n2 = [{ key: "truncate", value: function(t3, e3) {
              for (; t3.length > e3; )
                t3.shift();
            } }, { key: "initialize", value: function(t3) {
              var e3 = "blocks" in t3 ? t3.blocks : t3, n3 = { index: e3.length - 1, state: e3 };
              this.stack[0] = n3, this.initialItem = n3;
            } }, { key: "clear", value: function() {
              this.stack = this.initialItem ? [this.initialItem] : [{ index: 0, state: [] }], this.position = 0, this.onUpdate();
            } }, { key: "registerChange", value: function() {
              var t3 = this;
              this.readOnly || (this.editor && this.editor.save && this.shouldSaveHistory && this.editor.save().then(function(e3) {
                t3.editorDidUpdate(e3.blocks) && t3.save(e3.blocks);
              }), this.shouldSaveHistory = true);
            } }, { key: "editorDidUpdate", value: function(t3) {
              var e3 = this.stack[this.position].state;
              return t3.length !== e3.length || JSON.stringify(e3) !== JSON.stringify(t3);
            } }, { key: "save", value: function(t3) {
              this.position >= this.maxLength && this.truncate(this.stack, this.maxLength), this.position = Math.min(this.position, this.stack.length - 1), this.stack = this.stack.slice(0, this.position + 1);
              var e3 = this.editor.blocks.getCurrentBlockIndex();
              this.stack.push({ index: e3, state: t3 }), this.position += 1, this.onUpdate();
            } }, { key: "undo", value: function() {
              var t3 = this;
              if (this.canUndo()) {
                this.shouldSaveHistory = false;
                var e3 = this.stack[this.position -= 1], n3 = e3.index, i3 = e3.state;
                this.onUpdate(), this.editor.blocks.render({ blocks: i3 }).then(function() {
                  return t3.editor.caret.setToBlock(n3, "end");
                });
              }
            } }, { key: "redo", value: function() {
              var t3 = this;
              if (this.canRedo()) {
                this.shouldSaveHistory = false;
                var e3 = this.stack[this.position += 1], n3 = e3.index, i3 = e3.state;
                this.onUpdate(), this.editor.blocks.render({ blocks: i3 }).then(function() {
                  return t3.editor.caret.setToBlock(n3, "end");
                });
              }
            } }, { key: "canUndo", value: function() {
              return !this.readOnly && this.position > 0;
            } }, { key: "canRedo", value: function() {
              return !this.readOnly && this.position < this.count();
            } }, { key: "count", value: function() {
              return this.stack.length - 1;
            } }, { key: "setEventListeners", value: function() {
              var t3 = this, e3 = /(Mac)/i.test(navigator.platform) ? "metaKey" : "ctrlKey", n3 = function(n4) {
                n4[e3] && "z" === n4.key && (n4.preventDefault(), t3.undo());
              }, i3 = function(n4) {
                n4[e3] && "y" === n4.key && (n4.preventDefault(), t3.redo());
              };
              document.addEventListener("keydown", n3), document.addEventListener("keydown", i3), document.addEventListener("destroy", function() {
                document.removeEventListener("keydown", n3), document.removeEventListener("keydown", i3);
              });
            } }]) && r(e2.prototype, n2), i2 && r(e2, i2), t2;
          }();
        }]).default;
      });
    }
  });

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.ts
  var import_vue35 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=script
  var import_vue32 = __require("vue");
  var import_vue33 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=script
  var import_vue4 = __require("vue");
  var import_vue5 = __require("vue");
  var import_icons_vue = __require("@element-plus/icons-vue");

  // ../guigu_pm/guigu_pm/public/js/components/page/useMetaQuery.ts
  var import_vue = __require("vue");
  function useMetaQuery() {
    const smallMeta = (0, import_vue.ref)("ontouchstart" in document.documentElement);
    let mQuery;
    function mediaChange() {
      if (mQuery.matches) {
        smallMeta.value = true;
      } else {
        smallMeta.value = false;
      }
    }
    (0, import_vue.onMounted)(() => {
      mQuery = window.matchMedia("(max-width: 640px)");
      if (mQuery.matches) {
        smallMeta.value = true;
      } else {
        smallMeta.value = false;
      }
      mQuery.addEventListener("change", mediaChange);
    });
    (0, import_vue.onUnmounted)(() => {
      mQuery.removeEventListener("change", mediaChange);
    });
    return smallMeta;
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=script
  var import_vue2 = __require("vue");
  var ToggleBtn_default = /* @__PURE__ */ (0, import_vue2.defineComponent)({
    __name: "ToggleBtn",
    props: {
      expand: { type: Boolean, required: true }
    },
    emits: ["update:expand"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function toggleSider() {
        emit("update:expand", !props.expand);
      }
      const __returned__ = { props, emit, toggleSider };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=style&index=0
  var ToggleBtn_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=template
  var import_vue3 = __require("vue");
  var _withScopeId = (n) => ((0, import_vue3.pushScopeId)("data-v-c3964969"), n = n(), (0, import_vue3.popScopeId)(), n);
  var _hoisted_1 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ (0, import_vue3.createElementVNode)("svg", { class: "icon icon-md sidebar-toggle-placeholder" }, [
    /* @__PURE__ */ (0, import_vue3.createElementVNode)("use", { href: "#icon-menu" })
  ], -1));
  var _hoisted_2 = { class: "sidebar-toggle-icon" };
  var _hoisted_3 = { class: "icon icon-md" };
  var _hoisted_4 = ["href"];
  function render(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue3.openBlock)(), (0, import_vue3.createElementBlock)("span", {
      class: "toggle-btn",
      title: "\u5207\u6362\u8FB9\u680F",
      onClick: $setup.toggleSider
    }, [
      _hoisted_1,
      (0, import_vue3.createElementVNode)("span", _hoisted_2, [
        ((0, import_vue3.openBlock)(), (0, import_vue3.createElementBlock)("svg", _hoisted_3, [
          (0, import_vue3.createElementVNode)("use", {
            href: $props.expand ? "#icon-sidebar-collapse" : "#icon-sidebar-expand"
          }, null, 8, _hoisted_4)
        ]))
      ])
    ]);
  }

  // ../guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue
  ToggleBtn_default2(ToggleBtn_default);
  ToggleBtn_default.render = render;
  ToggleBtn_default.__file = "../guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue";
  ToggleBtn_default.__scopeId = "data-v-c3964969";
  var ToggleBtn_default3 = ToggleBtn_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=script
  var page_default = /* @__PURE__ */ (0, import_vue4.defineComponent)({
    __name: "index",
    props: {
      mode: { type: String, required: false },
      rightMode: { type: String, required: false },
      siderStyle: { type: null, required: false },
      mainStyle: { type: null, required: false },
      detailStyle: { type: null, required: false }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      (0, import_vue4.useCssVars)((_ctx) => ({
        "2cbdb5e9-height": height.value
      }));
      const smallMeta = useMetaQuery();
      const sider = (0, import_vue5.ref)();
      const main = (0, import_vue5.ref)();
      const container = (0, import_vue5.ref)();
      const resizerContainer = (0, import_vue5.ref)();
      const mainResizerContainer = (0, import_vue5.ref)();
      const rightContainer = (0, import_vue5.ref)();
      const hasTitle = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().title));
      const hasTools = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().tools));
      const hasSider = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().sider));
      const hasMain = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().default));
      const hasDetail = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().detail));
      const height = (0, import_vue5.computed)(() => hasTitle.value ? `calc(100vh - 135px)` : `calc(100vh - 60px)`);
      const showSider = (0, import_vue5.ref)(true);
      function dragLRController(dragEvent) {
        var _a;
        if (!dragEvent.target) {
          return;
        }
        dragEvent.target.setPointerCapture(true);
        dragEvent.stopPropagation();
        dragEvent.target.style.background = "#999";
        let resizerContainerElement;
        let leftElement;
        let containerElement;
        const isSiderResize = dragEvent.target === ((_a = resizerContainer.value) == null ? void 0 : _a.firstChild);
        const mode = isSiderResize ? "mode" : "rightMode";
        if (isSiderResize) {
          resizerContainerElement = resizerContainer.value;
          leftElement = sider.value;
          containerElement = container.value;
        } else {
          resizerContainerElement = mainResizerContainer.value;
          leftElement = main.value;
          containerElement = rightContainer.value;
        }
        let startPo = 0;
        let containerClientSize = 0;
        let oldSiderSize = 0;
        let resizerContainerElementSize = 0;
        if (props[mode] === "vertical") {
          startPo = dragEvent.clientY;
          dragEvent.target.top = dragEvent.target.offsetTop;
          containerClientSize = (containerElement == null ? void 0 : containerElement.clientHeight) || 0;
          oldSiderSize = ((resizerContainerElement == null ? void 0 : resizerContainerElement.offsetTop) || 0) - ((containerElement == null ? void 0 : containerElement.offsetTop) || 0);
          resizerContainerElementSize = (resizerContainerElement == null ? void 0 : resizerContainerElement.clientHeight) || 0;
        } else {
          startPo = dragEvent.clientX;
          dragEvent.target.left = dragEvent.target.offsetLeft;
          containerClientSize = (containerElement == null ? void 0 : containerElement.clientWidth) || 0;
          oldSiderSize = ((resizerContainerElement == null ? void 0 : resizerContainerElement.offsetLeft) || 0) - ((containerElement == null ? void 0 : containerElement.offsetLeft) || 0);
          resizerContainerElementSize = (resizerContainerElement == null ? void 0 : resizerContainerElement.clientWidth) || 0;
        }
        let newSiderSize = oldSiderSize;
        document.onpointermove = function(moveEvent) {
          var _a2, _b, _c, _d;
          if (!dragEvent.target) {
            return;
          }
          let endPo = 0;
          if (props[mode] === "vertical") {
            endPo = moveEvent.clientY;
          } else {
            endPo = moveEvent.clientX;
          }
          let resizerDiff = endPo - startPo;
          newSiderSize = oldSiderSize + resizerDiff;
          const mainSize = containerClientSize - newSiderSize - resizerContainerElementSize;
          let mainMaxSize = isSiderResize ? 250 : 150;
          if (isSiderResize && props.mode === "vertical" && props.rightMode === "vertical" && ((_b = (_a2 = main.value) == null ? void 0 : _a2.style) == null ? void 0 : _b.height)) {
            const alreadyMainHeight = parseFloat(main.value.style.height.replaceAll("px", "") || "0");
            mainMaxSize = alreadyMainHeight + 150 + resizerContainerElementSize;
          } else if (isSiderResize && props.mode !== "vertical" && props.rightMode !== "vertical" && ((_d = (_c = main.value) == null ? void 0 : _c.style) == null ? void 0 : _d.width)) {
            const alreadyMainWidth = parseFloat(main.value.style.width.replaceAll("px", "") || "0");
            mainMaxSize = alreadyMainWidth + 150 + resizerContainerElementSize;
          }
          if (newSiderSize < 50) {
            newSiderSize = 50;
            resizerDiff = newSiderSize - oldSiderSize;
          }
          if (mainSize < mainMaxSize) {
            newSiderSize = containerClientSize - mainMaxSize - resizerContainerElementSize;
            resizerDiff = newSiderSize - oldSiderSize;
          }
          if (props[mode] === "vertical") {
            dragEvent.target.style.top = `${resizerDiff}px`;
          } else {
            dragEvent.target.style.left = `${resizerDiff}px`;
          }
        };
        document.onpointerup = function(evt) {
          if (!dragEvent.target) {
            return;
          }
          dragEvent.target.style.background = "#d9d9d9";
          dragEvent.target.style.left = "auto";
          dragEvent.target.style.top = "auto";
          if (!leftElement) {
            return;
          }
          if (props[mode] === "vertical") {
            leftElement.style.height = `${newSiderSize}px`;
          } else {
            leftElement.style.width = `${newSiderSize}px`;
          }
          document.onpointermove = null;
          document.onpointerup = null;
        };
      }
      (0, import_vue5.watch)(() => smallMeta.value, () => {
        if (smallMeta.value) {
          showSider.value = false;
        }
      }, { immediate: true });
      const showDrawer = (0, import_vue5.computed)(() => showSider.value && smallMeta.value);
      function closeDrawer() {
        showSider.value = false;
      }
      function toggleSider() {
        showSider.value = !showSider.value;
      }
      const __returned__ = { smallMeta, props, sider, main, container, resizerContainer, mainResizerContainer, rightContainer, hasTitle, hasTools, hasSider, hasMain, hasDetail, height, showSider, dragLRController, showDrawer, closeDrawer, toggleSider, get MoreFilled() {
        return import_icons_vue.MoreFilled;
      }, ToggleBtn: ToggleBtn_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=style&index=0
  var page_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=template
  var import_vue6 = __require("vue");
  var _hoisted_12 = {
    key: 0,
    class: "title container"
  };
  var _hoisted_22 = { class: "container guigu-container" };
  var _hoisted_32 = { class: "tools" };
  var _hoisted_42 = { class: "tools small-meta_tools" };
  var _hoisted_5 = { key: 1 };
  var _hoisted_6 = { class: "popover-tools" };
  function render2(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_icon = (0, import_vue6.resolveComponent)("el-icon");
    const _component_el_popover = (0, import_vue6.resolveComponent)("el-popover");
    const _component_el_drawer = (0, import_vue6.resolveComponent)("el-drawer");
    return (0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)(import_vue6.Fragment, null, [
      $setup.hasTitle ? ((0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)("div", _hoisted_12, [
        (0, import_vue6.createVNode)($setup["ToggleBtn"], {
          expand: $setup.showSider,
          "onUpdate:expand": _cache[0] || (_cache[0] = ($event) => $setup.showSider = $event)
        }, null, 8, ["expand"]),
        (0, import_vue6.renderSlot)(_ctx.$slots, "title", {}, void 0, true)
      ])) : (0, import_vue6.createCommentVNode)("v-if", true),
      (0, import_vue6.createElementVNode)("div", _hoisted_22, [
        (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", _hoisted_32, [
          (0, import_vue6.renderSlot)(_ctx.$slots, "tools", {}, void 0, true)
        ], 512), [
          [import_vue6.vShow, $setup.hasTools && !$setup.smallMeta]
        ]),
        (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", _hoisted_42, [
          !$setup.hasTitle ? ((0, import_vue6.openBlock)(), (0, import_vue6.createBlock)($setup["ToggleBtn"], {
            key: 0,
            expand: $setup.showSider,
            "onUpdate:expand": _cache[1] || (_cache[1] = ($event) => $setup.showSider = $event)
          }, null, 8, ["expand"])) : ((0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)("div", _hoisted_5)),
          (0, import_vue6.createVNode)(_component_el_popover, {
            placement: "bottom-start",
            width: 300,
            trigger: "click"
          }, {
            reference: (0, import_vue6.withCtx)(() => [
              (0, import_vue6.createVNode)(_component_el_icon, { size: "20px" }, {
                default: (0, import_vue6.withCtx)(() => [
                  (0, import_vue6.createVNode)($setup["MoreFilled"])
                ]),
                _: 1
              })
            ]),
            default: (0, import_vue6.withCtx)(() => [
              (0, import_vue6.createElementVNode)("div", _hoisted_6, [
                (0, import_vue6.renderSlot)(_ctx.$slots, "tools", {}, void 0, true)
              ])
            ]),
            _: 3
          })
        ], 512), [
          [import_vue6.vShow, $setup.smallMeta]
        ]),
        (0, import_vue6.createElementVNode)("div", {
          class: (0, import_vue6.normalizeClass)([$props.mode === "vertical" ? "vertical" : "horizon", "main-container"]),
          ref: "container"
        }, [
          (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
            style: (0, import_vue6.normalizeStyle)($props.siderStyle),
            class: (0, import_vue6.normalizeClass)(["sider", { onlySider: $setup.hasSider && !$setup.hasDetail && !$setup.hasMain }]),
            ref: "sider"
          }, [
            (0, import_vue6.renderSlot)(_ctx.$slots, "sider", {}, void 0, true)
          ], 6), [
            [import_vue6.vShow, $setup.hasSider && !$setup.smallMeta && $setup.showSider]
          ]),
          (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
            class: (0, import_vue6.normalizeClass)([$props.mode === "vertical" ? "vertical" : "horizon", "resizer-container"]),
            ref: "resizerContainer"
          }, [
            (0, import_vue6.createElementVNode)("div", {
              class: "resizer",
              title: "\u4FA7\u8FB9\u680Fresizer",
              onPointerdown: $setup.dragLRController
            }, null, 32)
          ], 2), [
            [import_vue6.vShow, $setup.hasSider && ($setup.hasDetail || $setup.hasMain) && !$setup.smallMeta && $setup.showSider]
          ]),
          (0, import_vue6.createElementVNode)("div", {
            class: (0, import_vue6.normalizeClass)([$props.rightMode === "vertical" ? "vertical" : "horizon", "right"]),
            ref: "rightContainer"
          }, [
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              style: (0, import_vue6.normalizeStyle)($props.mainStyle),
              class: (0, import_vue6.normalizeClass)(["main", { noDetail: !$setup.hasDetail }]),
              ref: "main"
            }, [
              (0, import_vue6.renderSlot)(_ctx.$slots, "default", {}, void 0, true)
            ], 6), [
              [import_vue6.vShow, $setup.hasMain]
            ]),
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              class: (0, import_vue6.normalizeClass)([$props.rightMode === "vertical" ? "vertical" : "horizon", "resizer-container"]),
              ref: "mainResizerContainer"
            }, [
              (0, import_vue6.createElementVNode)("div", {
                class: "resizer",
                title: "main resizer",
                onPointerdown: $setup.dragLRController
              }, null, 32)
            ], 2), [
              [import_vue6.vShow, $setup.hasDetail && $setup.hasMain]
            ]),
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              style: (0, import_vue6.normalizeStyle)($props.detailStyle),
              class: "detail"
            }, [
              (0, import_vue6.renderSlot)(_ctx.$slots, "detail", {}, void 0, true)
            ], 4), [
              [import_vue6.vShow, $setup.hasDetail]
            ])
          ], 2)
        ], 2)
      ]),
      (0, import_vue6.createVNode)(_component_el_drawer, {
        modelValue: $setup.showDrawer,
        "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.showDrawer = $event),
        onClose: $setup.closeDrawer,
        title: "",
        direction: "ltr",
        size: "50%"
      }, {
        default: (0, import_vue6.withCtx)(() => [
          (0, import_vue6.renderSlot)(_ctx.$slots, "sider", {}, void 0, true)
        ]),
        _: 3
      }, 8, ["modelValue"])
    ], 64);
  }

  // ../guigu_pm/guigu_pm/public/js/components/page/index.vue
  page_default2(page_default);
  page_default.render = render2;
  page_default.__file = "../guigu_pm/guigu_pm/public/js/components/page/index.vue";
  page_default.__scopeId = "data-v-2cbdb5e9";
  var page_default3 = page_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=script
  var import_vue10 = __require("vue");
  var import_vue11 = __require("vue");

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/helper.ts
  function list2Tree(listData, parentField) {
    const listDataCopy = structuredClone(listData);
    const treeData = [];
    const map = {};
    listDataCopy.forEach((item) => {
      map[item.name] = item;
    });
    listDataCopy.forEach((item) => {
      const parent = map[item[parentField] || 0];
      if (parent) {
        (parent.children || (parent.children = [])).push(item);
      } else {
        treeData.push(item);
      }
    });
    return treeData;
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=script
  var import_vue7 = __require("vue");
  var import_vue8 = __require("vue");
  var import_icons_vue2 = __require("@element-plus/icons-vue");
  var import_element_plus = __require("element-plus");
  var TreeItem_default = /* @__PURE__ */ (0, import_vue7.defineComponent)({
    __name: "TreeItem",
    props: {
      node: { type: null, required: true }
    },
    emits: ["update:modelValue", "reload"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      async function deleteOrganization() {
        import_element_plus.ElMessageBox.confirm(
          "\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u7EC4\u7EC7\u5417?",
          "\u8BF7\u786E\u8BA4",
          {
            confirmButtonText: "\u786E\u5B9A",
            cancelButtonText: "\u53D6\u6D88",
            type: "warning"
          }
        ).then(async () => {
          await frappe.db.delete_doc("Tianjy Organization", props.node.data.name);
          emit("reload");
          (0, import_element_plus.ElMessage)({
            type: "success",
            message: "\u5220\u9664\u6210\u529F"
          });
        }).catch(() => {
          (0, import_element_plus.ElMessage)({
            type: "info",
            message: "\u53D6\u6D88\u5220\u9664"
          });
        });
      }
      const childTypes = (0, import_vue8.computed)(() => props.node.data.child_type_list);
      function command(v) {
        switch (v) {
          case "delete":
            return deleteOrganization();
        }
      }
      function createByType(type) {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization");
        frappe.model.set_value("Tianjy Organization", newDoc, "type", type.name);
        frappe.model.set_value("Tianjy Organization", newDoc, "parent_organization", props.node.data.name);
        frappe.set_route(["form", "Tianjy Organization", newDoc]);
      }
      const __returned__ = { props, emit, deleteOrganization, childTypes, command, createByType, get MoreFilled() {
        return import_icons_vue2.MoreFilled;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=style&index=0
  var TreeItem_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=template
  var import_vue9 = __require("vue");
  var _withScopeId2 = (n) => ((0, import_vue9.pushScopeId)("data-v-a835aba7"), n = n(), (0, import_vue9.popScopeId)(), n);
  var _hoisted_13 = { class: "custom-tree-node" };
  var _hoisted_23 = { class: "el-dropdown-link" };
  var _hoisted_33 = /* @__PURE__ */ _withScopeId2(() => /* @__PURE__ */ (0, import_vue9.createElementVNode)("span", null, "\u65B0\u5EFA\u5B50\u8282\u70B9", -1));
  var _hoisted_43 = /* @__PURE__ */ _withScopeId2(() => /* @__PURE__ */ (0, import_vue9.createElementVNode)("span", { class: "delete" }, "\u5220\u9664", -1));
  function render3(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_icon = (0, import_vue9.resolveComponent)("el-icon");
    const _component_el_menu_item = (0, import_vue9.resolveComponent)("el-menu-item");
    const _component_el_menu = (0, import_vue9.resolveComponent)("el-menu");
    const _component_el_popover = (0, import_vue9.resolveComponent)("el-popover");
    const _component_el_dropdown_item = (0, import_vue9.resolveComponent)("el-dropdown-item");
    const _component_el_dropdown_menu = (0, import_vue9.resolveComponent)("el-dropdown-menu");
    const _component_el_dropdown = (0, import_vue9.resolveComponent)("el-dropdown");
    return (0, import_vue9.openBlock)(), (0, import_vue9.createElementBlock)("div", _hoisted_13, [
      (0, import_vue9.createElementVNode)("span", null, (0, import_vue9.toDisplayString)($props.node.label), 1),
      (0, import_vue9.createVNode)(_component_el_dropdown, { onCommand: $setup.command }, {
        dropdown: (0, import_vue9.withCtx)(() => [
          (0, import_vue9.createVNode)(_component_el_dropdown_menu, null, {
            default: (0, import_vue9.withCtx)(() => {
              var _a;
              return [
                $setup.childTypes.length > 0 && $props.node.data.permissions.createPermission ? ((0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_dropdown_item, {
                  key: 0,
                  command: "add"
                }, {
                  default: (0, import_vue9.withCtx)(() => [
                    (0, import_vue9.createVNode)(_component_el_popover, {
                      "popper-style": { padding: 0 },
                      placement: "right-start",
                      trigger: "hover",
                      offset: 15
                    }, {
                      reference: (0, import_vue9.withCtx)(() => [
                        _hoisted_33
                      ]),
                      default: (0, import_vue9.withCtx)(() => [
                        (0, import_vue9.createVNode)(_component_el_menu, {
                          class: "create-menu",
                          mode: "vertical"
                        }, {
                          default: (0, import_vue9.withCtx)(() => [
                            ((0, import_vue9.openBlock)(true), (0, import_vue9.createElementBlock)(import_vue9.Fragment, null, (0, import_vue9.renderList)($setup.childTypes, (type) => {
                              return (0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_menu_item, {
                                class: "create_type",
                                onClick: ($event) => $setup.createByType(type)
                              }, {
                                default: (0, import_vue9.withCtx)(() => [
                                  (0, import_vue9.createTextVNode)((0, import_vue9.toDisplayString)(type.name), 1)
                                ]),
                                _: 2
                              }, 1032, ["onClick"]);
                            }), 256))
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })) : (0, import_vue9.createCommentVNode)("v-if", true),
                $props.node.data.permissions.deletePermission && !((_a = $props.node.data.children) == null ? void 0 : _a.length) ? ((0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_dropdown_item, {
                  key: 1,
                  command: "delete"
                }, {
                  default: (0, import_vue9.withCtx)(() => [
                    _hoisted_43
                  ]),
                  _: 1
                })) : (0, import_vue9.createCommentVNode)("v-if", true)
              ];
            }),
            _: 1
          })
        ]),
        default: (0, import_vue9.withCtx)(() => [
          (0, import_vue9.createElementVNode)("span", _hoisted_23, [
            (0, import_vue9.createVNode)(_component_el_icon, {
              class: "el-icon--right",
              onClick: _cache[0] || (_cache[0] = (e) => e.stopPropagation())
            }, {
              default: (0, import_vue9.withCtx)(() => [
                (0, import_vue9.createVNode)($setup["MoreFilled"])
              ]),
              _: 1
            })
          ])
        ]),
        _: 1
      })
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue
  TreeItem_default2(TreeItem_default);
  TreeItem_default.render = render3;
  TreeItem_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue";
  TreeItem_default.__scopeId = "data-v-a835aba7";
  var TreeItem_default3 = TreeItem_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=script
  var OrganizationTree_default = /* @__PURE__ */ (0, import_vue10.defineComponent)({
    __name: "OrganizationTree",
    props: {
      modelValue: { type: null, required: false },
      permissions: { type: null, required: true }
    },
    emits: ["update:modelValue"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const organizationList = (0, import_vue11.ref)([]);
      const currentNodeKey = (0, import_vue11.ref)("");
      (0, import_vue11.onMounted)(() => {
        getOrganizations();
      });
      async function getOrganizations() {
        var _a;
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_organizations"
        });
        organizationList.value = (res == null ? void 0 : res.message) || [];
        if (!currentNodeKey.value) {
          currentNodeKey.value = (_a = organizationList.value[0]) == null ? void 0 : _a.name;
          emit("update:modelValue", organizationList.value[0]);
        }
      }
      const organizationTree = (0, import_vue11.computed)(() => {
        for (const org of organizationList.value) {
          org.permissions = props.permissions;
        }
        return list2Tree((0, import_vue11.toRaw)(organizationList.value), "parent_organization");
      });
      function handleNodeClick(data) {
        emit("update:modelValue", data);
      }
      function createOrganization() {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization");
        frappe.set_route(["form", "Tianjy Organization", newDoc]);
      }
      async function handleDrop(draggingNode, dropNode, dropType, ev) {
        const before2 = dropType === "inner" ? false : dropType === "before";
        const children = dropType === "inner";
        await frappe.call("guigu.tree.tree_sort", {
          doctype: "Tianjy Organization",
          target: dropNode.data.name,
          docs: [draggingNode.data.name],
          before: before2,
          children
        });
        getOrganizations();
      }
      function allowDrop(draggingNode, dropNode, dropType) {
        switch (dropType) {
          case "next":
          case "prev":
            return before(draggingNode, dropNode);
          case "inner":
            return inner(draggingNode, dropNode);
          default:
            return true;
        }
      }
      function inner(draggingNode, dropNode) {
        if (!dropNode.data.child_type_list.some((type) => type.name === draggingNode.data.type)) {
          return false;
        }
        return true;
      }
      function before(draggingNode, dropNode) {
        if (dropNode.parent.level === 0 && draggingNode.data.type_doc.root_only !== 1) {
          console.log(dropNode.parent.level, draggingNode.data.type_doc.root_only, "false");
          return false;
        }
        if (dropNode.parent.level !== 0 && !dropNode.parent.data.child_type_list.some((type) => type.name === draggingNode.data.type)) {
          console.log(dropNode.parent.level, "false");
          return false;
        }
        return true;
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization") {
          return;
        }
        getOrganizations();
      });
      const __returned__ = { props, emit, organizationList, currentNodeKey, getOrganizations, organizationTree, handleNodeClick, createOrganization, handleDrop, allowDrop, inner, before, TreeItem: TreeItem_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=style&index=0
  var OrganizationTree_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=template
  var import_vue12 = __require("vue");
  var _hoisted_14 = { class: "sider-container" };
  var _hoisted_24 = { class: "tree-container" };
  function render4(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_button = (0, import_vue12.resolveComponent)("el-button");
    const _component_el_tree = (0, import_vue12.resolveComponent)("el-tree");
    return (0, import_vue12.openBlock)(), (0, import_vue12.createElementBlock)("div", _hoisted_14, [
      (0, import_vue12.createElementVNode)("div", null, [
        (0, import_vue12.createVNode)(_component_el_button, {
          type: "primary",
          onClick: $setup.createOrganization
        }, {
          default: (0, import_vue12.withCtx)(() => [
            (0, import_vue12.createTextVNode)("\u65B0\u5EFA\u7EC4\u7EC7")
          ]),
          _: 1
        })
      ]),
      (0, import_vue12.createElementVNode)("div", _hoisted_24, [
        $setup.organizationTree.length > 0 ? ((0, import_vue12.openBlock)(), (0, import_vue12.createBlock)(_component_el_tree, {
          key: 0,
          data: $setup.organizationTree,
          onNodeClick: $setup.handleNodeClick,
          "default-expand-all": "",
          "highlight-current": "",
          "node-key": "name",
          "current-node-key": $setup.currentNodeKey,
          "expand-on-click-node": false,
          draggable: "",
          onNodeDrop: $setup.handleDrop,
          "allow-drop": $setup.allowDrop
        }, {
          default: (0, import_vue12.withCtx)(({ node, data }) => [
            (0, import_vue12.createVNode)($setup["TreeItem"], {
              node,
              onReload: $setup.getOrganizations
            }, null, 8, ["node"])
          ]),
          _: 1
        }, 8, ["data", "current-node-key"])) : (0, import_vue12.createCommentVNode)("v-if", true)
      ])
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue
  OrganizationTree_default2(OrganizationTree_default);
  OrganizationTree_default.render = render4;
  OrganizationTree_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue";
  OrganizationTree_default.__scopeId = "data-v-7ff9d4db";
  var OrganizationTree_default3 = OrganizationTree_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=script
  var import_vue23 = __require("vue");
  var import_vue24 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=script
  var import_vue20 = __require("vue");
  var import_vue21 = __require("vue");

  // guigu/public/js/utils/getLink.ts
  function getLink(data, meta, linkField) {
    if (!data) {
      return;
    }
    if (!meta) {
      return;
    }
    if (!linkField) {
      return;
    }
    const { fields } = meta;
    if (!fields) {
      return;
    }
    const link = data[linkField];
    const name = typeof link === "string" && link;
    if (!name) {
      return;
    }
    const field = fields.find((v) => v.fieldname === linkField);
    if (!field) {
      return;
    }
    const option = field.options;
    if (!option) {
      return;
    }
    if (field.fieldtype === "Link") {
      return [option, name];
    }
    if (field.fieldtype !== "Dynamic Link") {
      return;
    }
    const dynamicLinkField = fields.find((v) => v.fieldname === option);
    if (!dynamicLinkField) {
      return;
    }
    if (dynamicLinkField.fieldtype !== "Link") {
      return;
    }
    if (dynamicLinkField.options !== "DocType") {
      return;
    }
    const doctype = data[option];
    if (typeof doctype !== "string" || !doctype) {
      return;
    }
    return [doctype, name];
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=script
  var import_vue17 = __require("vue");
  var import_vue18 = __require("vue");
  var import_core = __require("@vueuse/core");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=script
  var import_vue13 = __require("vue");
  var import_vue14 = __require("vue");
  var Header_default = /* @__PURE__ */ (0, import_vue13.defineComponent)({
    __name: "Header",
    props: {
      hasSider: { type: Boolean, required: false },
      open: { type: Boolean, required: false }
    },
    emits: ["hide", "refresh", "update:open"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function hide() {
        emit("hide");
      }
      const opened = (0, import_vue14.computed)({
        get: () => props.open,
        set(v) {
          emit("update:open", Boolean(v));
        }
      });
      const tt2 = __;
      const __returned__ = { props, emit, hide, opened, tt: tt2 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=style&index=0
  var key = "$style";
  var cssModule = { "header": "_header_pve6u_1" };
  var Header_default2 = (script) => {
    if (!script.__cssModules) {
      script.__cssModules = {};
    }
    const cssModules = script.__cssModules;
    const value = key in cssModules && cssModules[key];
    if (value && typeof value === "object") {
      Object.assign(value, cssModule);
    } else {
      cssModules[key] = cssModule;
    }
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=template
  var import_vue15 = __require("vue");
  var _hoisted_15 = { class: "col-md-4 col-sm-6 col-xs-8 page-title" };
  var _hoisted_25 = ["title"];
  var _hoisted_34 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-md sidebar-toggle-placeholder" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-menu" })
  ], -1);
  var _hoisted_44 = { class: "icon icon-md" };
  var _hoisted_52 = {
    key: 0,
    href: "#icon-sidebar-expand"
  };
  var _hoisted_62 = {
    key: 1,
    href: "#icon-sidebar-collapse"
  };
  var _hoisted_7 = /* @__PURE__ */ (0, import_vue15.createStaticVNode)('<div class="flex fill-width title-area"><div><div class="flex"><h3 class="ellipsis title-text"></h3><span class="indicator-pill whitespace-nowrap"></span></div><div class="ellipsis sub-heading hide text-muted"></div></div><button class="btn btn-default more-button hide"><svg class="icon icon-sm"><use href="#icon-dot-horizontal"></use></svg></button></div>', 1);
  var _hoisted_8 = { class: "flex col page-actions justify-content-end" };
  var _hoisted_9 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("div", { class: "custom-actions hide hidden-xs hidden-md" }, null, -1);
  var _hoisted_10 = { class: "standard-actions flex" };
  var _hoisted_11 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", { class: "page-icon-group hide hidden-xs hidden-sm" }, null, -1);
  var _hoisted_122 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("div", { class: "menu-btn-group hide" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", {
      type: "button",
      class: "btn btn-default icon-btn",
      "data-toggle": "dropdown",
      "aria-expanded": "false"
    }, [
      /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", null, [
        /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", { class: "menu-btn-group-label" }, [
          /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-sm" }, [
            /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-dot-horizontal" })
          ])
        ])
      ])
    ]),
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("ul", {
      class: "dropdown-menu dropdown-menu-right",
      role: "menu"
    })
  ], -1);
  var _hoisted_132 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", { class: "btn btn-secondary btn-default btn-sm hide" }, null, -1);
  var _hoisted_142 = { class: "actions-btn-group hide" };
  var _hoisted_152 = {
    type: "button",
    class: "btn btn-primary btn-sm",
    "data-toggle": "dropdown",
    "aria-expanded": "false"
  };
  var _hoisted_16 = { class: "actions-btn-group-label" };
  var _hoisted_17 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-xs" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-select" })
  ], -1);
  var _hoisted_18 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("ul", {
    class: "dropdown-menu dropdown-menu-right",
    role: "menu"
  }, null, -1);
  var _hoisted_19 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", { class: "btn btn-primary btn-sm hide primary-action" }, null, -1);
  function render5(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("div", {
      class: (0, import_vue15.normalizeClass)(_ctx.$style.header)
    }, [
      (0, import_vue15.createElementVNode)("div", _hoisted_15, [
        (0, import_vue15.createCommentVNode)(' <div class="title-image hide hidden-md hidden-lg"></div> '),
        (0, import_vue15.createCommentVNode)(" title "),
        $props.hasSider ? ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("span", {
          key: 0,
          class: "sidebar-toggle-btn",
          title: $setup.tt("Toggle Sidebar")
        }, [
          _hoisted_34,
          (0, import_vue15.createElementVNode)("span", {
            class: "sidebar-toggle-icon",
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.opened = !$setup.opened)
          }, [
            ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("svg", _hoisted_44, [
              $props.open ? ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("use", _hoisted_52)) : ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("use", _hoisted_62))
            ]))
          ])
        ], 8, _hoisted_25)) : (0, import_vue15.createCommentVNode)("v-if", true),
        _hoisted_7
      ]),
      (0, import_vue15.createElementVNode)("div", _hoisted_8, [
        (0, import_vue15.createCommentVNode)(" buttons "),
        _hoisted_9,
        (0, import_vue15.createElementVNode)("div", _hoisted_10, [
          _hoisted_11,
          _hoisted_122,
          _hoisted_132,
          (0, import_vue15.createElementVNode)("div", _hoisted_142, [
            (0, import_vue15.createElementVNode)("button", _hoisted_152, [
              (0, import_vue15.createElementVNode)("span", null, [
                (0, import_vue15.createElementVNode)("span", _hoisted_16, (0, import_vue15.toDisplayString)($setup.tt("Actions")), 1),
                _hoisted_17
              ])
            ]),
            _hoisted_18
          ]),
          _hoisted_19,
          (0, import_vue15.createElementVNode)("button", {
            class: "btn btn-sm",
            onClick: $setup.hide
          }, (0, import_vue15.toDisplayString)($setup.tt("Close")), 1)
        ])
      ])
    ], 2);
  }

  // guigu/public/js/FormDetail/Header.vue
  Header_default2(Header_default);
  Header_default.render = render5;
  Header_default.__file = "guigu/public/js/FormDetail/Header.vue";
  var Header_default3 = Header_default;

  // guigu/public/js/FormDetail/Footer.ts
  var Footer = class {
    constructor(opts) {
      $.extend(this, opts);
      this.make();
      this.make_comment_box();
      this.make_timeline();
      $(this.frm.wrapper).on("render_complete", () => {
        this.refresh();
      });
    }
    make() {
      const wrapper = $(`<div class="form-footer">
	<div class="after-save">
		<div class="comment-box"></div>
		<div class="timeline"></div>
	</div>
</div>`).appendTo(this.parent);
      const toTop = document.createElement("button");
      toTop.className = "scroll-to-top btn btn-default icon-btn";
      toTop.innerHTML = '<svg class="icon icon-xs"><use href="#icon-up-line"></use></svg>';
      toTop.addEventListener("click", () => {
        let e = toTop;
        while (e = e.parentElement) {
          if (e.scrollTop) {
            break;
          }
        }
        if (e) {
          frappe.utils.scroll_to(0, true, 0, $(e));
        }
      });
      wrapper.append(toTop);
      this.wrapper = wrapper;
      wrapper.find(".btn-save").on("click", () => {
        this.frm.save("Save", null, this);
      });
    }
    make_comment_box() {
      frappe.ui.form.Footer.prototype.make_comment_box.call(this);
    }
    make_timeline() {
      frappe.ui.form.Footer.prototype.make_timeline.call(this);
    }
    refresh() {
      frappe.ui.form.Footer.prototype.refresh.call(this);
    }
  };
  var Footer_default = Footer;

  // guigu/public/js/FormDetail/Page.ts
  var Page = class {
    constructor(parent, single_column) {
      this.set_document_title = true;
      this.buttons = {};
      this.fields_dict = {};
      this.views = {};
      this.parent = parent;
      this.single_column = single_column ? true : false;
      this.wrapper = $(parent);
      const mainView = $(this.wrapper).find(".page-content").find(".row.layout-main");
      this.views.main = mainView;
      this.current_view = mainView;
      this.setup_page();
      this.setup_scroll_handler();
      this.setup_sidebar_toggle();
    }
    setup_scroll_handler() {
    }
    get_empty_state(title, message, primary_action) {
      let $empty_state = $(`<div class="page-card-container">
			<div class="page-card">
				<div class="page-card-head">
					<span class="indicator blue">
						${title}</span>
				</div>
				<p>${message}</p>
				<div>
					<button class="btn btn-primary btn-sm">${primary_action}</button>
				</div>
			</div>
		</div>`);
      return $empty_state;
    }
    load_lib(callback) {
      frappe.require(this.required_libs, callback);
    }
    add_main_section() {
    }
    setup_page() {
      this.$title_area = this.wrapper.find(".title-area");
      this.$sub_title_area = this.wrapper.find("h6");
      this.body = this.main = this.wrapper.find(".layout-main-section");
      this.container = this.wrapper.find(".page-body");
      this.sidebar = this.wrapper.find(".layout-side-section");
      this.footer = this.wrapper.find(".layout-footer");
      this.indicator = this.wrapper.find(".indicator-pill");
      this.page_actions = this.wrapper.find(".page-actions");
      this.btn_primary = this.page_actions.find(".primary-action");
      this.btn_secondary = this.page_actions.find(".btn-secondary");
      this.menu = this.page_actions.find(".menu-btn-group .dropdown-menu");
      this.menu_btn_group = this.page_actions.find(".menu-btn-group");
      this.actions = this.page_actions.find(".actions-btn-group .dropdown-menu");
      this.actions_btn_group = this.page_actions.find(".actions-btn-group");
      this.standard_actions = this.page_actions.find(".standard-actions");
      this.custom_actions = this.page_actions.find(".custom-actions");
      this.page_form = $('<div class="page-form row hide"></div>').prependTo(this.main);
      this.inner_toolbar = this.custom_actions;
      this.icon_group = this.page_actions.find(".page-icon-group");
      this.card_layout && this.main.addClass("frappe-card");
      let menu_btn = this.menu_btn_group.find("button");
      menu_btn.attr("title", __("Menu")).tooltip({ delay: { show: 600, hide: 100 } });
      frappe.ui.keys.get_shortcut_group(this.page_actions[0]).add(menu_btn, menu_btn.find(".menu-btn-group-label"));
      let action_btn = this.actions_btn_group.find("button");
      frappe.ui.keys.get_shortcut_group(this.page_actions[0]).add(action_btn, action_btn.find(".actions-btn-group-label"));
    }
    setup_sidebar_toggle() {
      let sidebar_toggle = this.wrapper.find(".guigu-form-detail-page-head ").find(".sidebar-toggle-btn");
      let sidebar_wrapper = this.wrapper.find(".layout-side-section");
      sidebar_toggle.click(() => {
        $(document.body).trigger("toggleSidebar");
        this.update_sidebar_icon();
      });
    }
    setup_overlay_sidebar() {
    }
    update_sidebar_icon() {
      let sidebar_toggle = $(".page-head").find(".sidebar-toggle-btn");
      let sidebar_toggle_icon = sidebar_toggle.find(".sidebar-toggle-icon");
      let sidebar_wrapper = this.wrapper.find(".layout-side-section");
      let is_sidebar_visible = $(sidebar_wrapper).is(":visible");
      sidebar_toggle_icon.html(
        frappe.utils.icon(is_sidebar_visible ? "sidebar-collapse" : "sidebar-expand", "md")
      );
    }
    set_indicator(label, color) {
      this.clear_indicator().removeClass("hide").html(`<span>${label}</span>`).addClass(color);
    }
    add_action_icon(icon, click, css_class = "", tooltip_label) {
      const button = $(`
			<button class="text-muted btn btn-default ${css_class} icon-btn">
				${frappe.utils.icon(icon)}
			</button>
		`);
      button.appendTo(this.icon_group.removeClass("hide"));
      button.click(click);
      button.attr("title", __(tooltip_label || frappe.unscrub(icon))).tooltip({ delay: { show: 600, hide: 100 }, trigger: "hover" });
      return button;
    }
    clear_indicator() {
      return this.indicator.removeClass().addClass("indicator-pill whitespace-nowrap hide");
    }
    get_icon_label(icon, label) {
      let icon_name = icon;
      let size = "xs";
      if (typeof icon === "object") {
        icon_name = icon.icon;
        size = icon.size || "xs";
      }
      return `${icon ? frappe.utils.icon(icon_name, size) : ""} <span class="hidden-xs"> ${__(
        label
      )} </span>`;
    }
    set_action(btn, opts) {
      let me2 = this;
      if (opts.icon) {
        opts.label = this.get_icon_label(opts.icon, opts.label);
      }
      this.clear_action_of(btn);
      btn.removeClass("hide").prop("disabled", false).html(opts.label).on("click", function() {
        let response = opts.click.apply(this, [btn]);
        me2.btn_disable_enable(btn, response);
      });
      if (opts.working_label) {
        btn.attr("data-working-label", opts.working_label);
      }
      let text_span = btn.find("span");
      frappe.ui.keys.get_shortcut_group(this).add(btn, text_span.length ? text_span : btn);
    }
    set_primary_action(label, click, icon, working_label) {
      this.set_action(this.btn_primary, {
        label,
        click,
        icon,
        working_label
      });
      return this.btn_primary;
    }
    set_secondary_action(label, click, icon, working_label) {
      this.set_action(this.btn_secondary, {
        label,
        click,
        icon,
        working_label
      });
      return this.btn_secondary;
    }
    clear_action_of(btn) {
      btn.addClass("hide").unbind("click").removeAttr("data-working-label");
    }
    clear_primary_action() {
      this.clear_action_of(this.btn_primary);
    }
    clear_secondary_action() {
      this.clear_action_of(this.btn_secondary);
    }
    clear_actions() {
      this.clear_primary_action();
      this.clear_secondary_action();
    }
    clear_custom_actions() {
      this.custom_actions.addClass("hide").empty();
    }
    clear_icons() {
      this.icon_group.addClass("hide").empty();
    }
    add_menu_item(label, click, standard, shortcut, show_parent) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent: this.menu,
        shortcut,
        show_parent
      });
    }
    add_custom_menu_item(parent, label, click, standard, shortcut, icon = null) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent,
        shortcut,
        icon
      });
    }
    clear_menu() {
      this.clear_btn_group(this.menu);
    }
    show_menu() {
      this.menu_btn_group.removeClass("hide");
    }
    hide_menu() {
      this.menu_btn_group.addClass("hide");
    }
    show_icon_group() {
      this.icon_group.removeClass("hide");
    }
    hide_icon_group() {
      this.icon_group.addClass("hide");
    }
    show_actions_menu() {
      this.actions_btn_group.removeClass("hide");
    }
    hide_actions_menu() {
      this.actions_btn_group.addClass("hide");
    }
    add_action_item(label, click, standard) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent: this.actions
      });
    }
    add_actions_menu_item(label, click, standard, shortcut) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        shortcut,
        parent: this.actions,
        show_parent: false
      });
    }
    clear_actions_menu() {
      this.clear_btn_group(this.actions);
    }
    add_dropdown_item({
      label,
      click,
      standard,
      parent,
      shortcut,
      show_parent = true,
      icon = null
    }) {
      if (show_parent) {
        parent.parent().removeClass("hide hidden-xl");
      }
      let $link = this.is_in_group_button_dropdown(parent, "li > a.grey-link > span", label);
      if ($link) {
        return $link;
      }
      let $li;
      let $icon = ``;
      if (icon) {
        $icon = `<span class="menu-item-icon">${frappe.utils.icon(icon)}</span>`;
      }
      if (shortcut) {
        let shortcut_obj = this.prepare_shortcut_obj(shortcut, click, label);
        $li = $(`
				<li>
					<a class="grey-link dropdown-item" href="#" onClick="return false;">
						${$icon}
						<span class="menu-item-label">${label}</span>
						<kbd class="pull-right">
							<span>${shortcut_obj.shortcut_label}</span>
						</kbd>
					</a>
				</li>
			`);
        frappe.ui.keys.add_shortcut(shortcut_obj);
      } else {
        $li = $(`
				<li>
					<a class="grey-link dropdown-item" href="#" onClick="return false;">
						${$icon}
						<span class="menu-item-label">${label}</span>
					</a>
				</li>
			`);
      }
      $link = $li.find("a").on("click", (e) => {
        if (e.ctrlKey || e.metaKey) {
          frappe.open_in_new_tab = true;
        }
        return click();
      });
      if (standard) {
        $li.appendTo(parent);
      } else {
        this.divider = parent.find(".dropdown-divider");
        if (!this.divider.length) {
          this.divider = $('<li class="dropdown-divider user-action"></li>').prependTo(
            parent
          );
        }
        $li.addClass("user-action").insertBefore(this.divider);
      }
      frappe.ui.keys.get_shortcut_group(parent.get(0)).add($link, $link.find(".menu-item-label"));
      return $link;
    }
    prepare_shortcut_obj(shortcut, click, label) {
      let shortcut_obj;
      if (typeof shortcut === "string") {
        shortcut_obj = { shortcut };
      } else {
        shortcut_obj = shortcut;
      }
      if (frappe.utils.is_mac()) {
        shortcut_obj.shortcut_label = shortcut_obj.shortcut.replace("Ctrl", "\u2318");
      } else {
        shortcut_obj.shortcut_label = shortcut_obj.shortcut;
      }
      shortcut_obj.shortcut = shortcut_obj.shortcut.toLowerCase();
      if (!shortcut_obj.action) {
        shortcut_obj.action = click;
      }
      if (!shortcut_obj.description) {
        shortcut_obj.description = label;
      }
      shortcut_obj.page = this;
      return shortcut_obj;
    }
    is_in_group_button_dropdown(parent, selector, label) {
      if (!selector) {
        selector = "li";
      }
      if (!label || !parent) {
        return false;
      }
      const item_selector = `${selector}[data-label="${encodeURIComponent(label)}"]`;
      const existing_items = $(parent).find(item_selector);
      return (existing_items == null ? void 0 : existing_items.length) > 0 && existing_items;
    }
    clear_btn_group(parent) {
      parent.empty();
      parent.parent().addClass("hide");
    }
    add_divider() {
      return $('<li class="dropdown-divider"></li>').appendTo(this.menu);
    }
    get_or_add_inner_group_button(label) {
      let $group = this.inner_toolbar.find(
        `.inner-group-button[data-label="${encodeURIComponent(label)}"]`
      );
      if (!$group.length) {
        $group = $(
          `<div class="inner-group-button" data-label="${encodeURIComponent(label)}">
					<button type="button" class="btn btn-default ellipsis" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						${label}
						${frappe.utils.icon("select", "xs")}
					</button>
					<div role="menu" class="dropdown-menu"></div>
				</div>`
        ).appendTo(this.inner_toolbar);
      }
      return $group;
    }
    get_inner_group_button(label) {
      return this.inner_toolbar.find(
        `.inner-group-button[data-label="${encodeURIComponent(label)}"]`
      );
    }
    set_inner_btn_group_as_primary(label) {
      this.get_or_add_inner_group_button(label).find("button").removeClass("btn-default").addClass("btn-primary");
    }
    btn_disable_enable(btn, response) {
      if (response && response.then) {
        btn.prop("disabled", true);
        response.then(() => {
          btn.prop("disabled", false);
        });
      } else if (response && response.always) {
        btn.prop("disabled", true);
        response.always(() => {
          btn.prop("disabled", false);
        });
      }
    }
    add_inner_button(label, action, group, type = "default") {
      let me2 = this;
      let _action = function() {
        let btn = $(this);
        let response = action();
        me2.btn_disable_enable(btn, response);
      };
      let menu_item_label = group ? `${group} > ${label}` : label;
      let menu_item = this.add_menu_item(menu_item_label, _action, false, false, false);
      menu_item.parent().addClass("hidden-xl");
      if (this.menu_btn_group.hasClass("hide")) {
        this.menu_btn_group.removeClass("hide").addClass("hidden-xl");
      }
      if (group) {
        let $group = this.get_or_add_inner_group_button(group);
        $(this.inner_toolbar).removeClass("hide");
        if (!this.is_in_group_button_dropdown($group.find(".dropdown-menu"), "a", label)) {
          return $(
            `<a class="dropdown-item" href="#" onclick="return false;" data-label="${encodeURIComponent(
              label
            )}">${label}</a>`
          ).on("click", _action).appendTo($group.find(".dropdown-menu"));
        }
      } else {
        let button = this.inner_toolbar.find(
          `button[data-label="${encodeURIComponent(label)}"]`
        );
        if (button.length == 0) {
          button = $(`<button data-label="${encodeURIComponent(
            label
          )}" class="btn btn-${type} ellipsis">
					${__(label)}
				</button>`);
          button.on("click", _action);
          button.appendTo(this.inner_toolbar.removeClass("hide"));
        }
        return button;
      }
    }
    remove_inner_button(label, group) {
      if (typeof label === "string") {
        label = [label];
      }
      label = label.map((l) => __(l));
      if (group) {
        let $group = this.get_inner_group_button(__(group));
        if ($group.length) {
          $group.find(`.dropdown-item[data-label="${encodeURIComponent(label)}"]`).remove();
        }
        if ($group.find(".dropdown-item").length === 0) {
          $group.remove();
        }
      } else {
        this.inner_toolbar.find(`button[data-label="${encodeURIComponent(label)}"]`).remove();
      }
    }
    change_inner_button_type(label, group, type) {
      let btn;
      if (group) {
        let $group = this.get_inner_group_button(__(group));
        if ($group.length) {
          btn = $group.find(`.dropdown-item[data-label="${encodeURIComponent(label)}"]`);
        }
      } else {
        btn = this.inner_toolbar.find(`button[data-label="${encodeURIComponent(label)}"]`);
      }
      if (btn) {
        btn.removeClass().addClass(`btn btn-${type} ellipsis`);
      }
    }
    add_inner_message(message) {
      let $message = $(`<span class='inner-page-message text-muted small'>${message}</div>`);
      this.inner_toolbar.find(".inner-page-message").remove();
      this.inner_toolbar.removeClass("hide").prepend($message);
      return $message;
    }
    clear_inner_toolbar() {
      this.inner_toolbar.empty().addClass("hide");
    }
    add_sidebar_item(label, action, insert_after, prepend) {
      let parent = this.sidebar.find(".sidebar-menu.standard-actions");
      let li2 = $("<li>");
      let link = $("<a>").html(label).on("click", action).appendTo(li2);
      if (insert_after) {
        li2.insertAfter(parent.find(insert_after));
      } else if (prepend) {
        li2.prependTo(parent);
      } else {
        li2.appendTo(parent);
      }
      return link;
    }
    clear_user_actions() {
      this.menu.find(".user-action").remove();
    }
    get_title_area() {
      return this.$title_area;
    }
    set_title(title, icon = null, strip = true, tab_title = "") {
      if (!title) {
        title = "";
      }
      if (strip) {
        title = strip_html(title);
      }
      this.title = title;
      if (icon) {
        title = `${frappe.utils.icon(icon)} ${title}`;
      }
      let title_wrapper = this.$title_area.find(".title-text");
      title_wrapper.html(title);
      title_wrapper.attr("title", this.title);
    }
    set_title_sub(txt) {
      this.$sub_title_area.html(txt).toggleClass("hide", Boolean(!txt));
    }
    get_main_icon(icon) {
      return this.$title_area.find(".title-icon").html(`<i class="${icon} fa-fw"></i> `).toggle(true);
    }
    add_help_button(txt) {
    }
    add_button(label, click, opts) {
      if (!opts) {
        opts = {};
      }
      let button = $(`<button
			class="btn ${opts.btn_class || "btn-default"} ${opts.btn_size || "btn-sm"} ellipsis">
				${opts.icon ? frappe.utils.icon(opts.icon) : ""}
				${label}
		</button>`);
      let menu_item = this.add_menu_item(label, click, false);
      menu_item.parent().addClass("hidden-xl");
      button.appendTo(this.custom_actions);
      button.on("click", click);
      this.custom_actions.removeClass("hide");
      return button;
    }
    add_custom_button_group(label, icon, parent) {
      let dropdown_label = `<span class="hidden-xs">
			<span class="custom-btn-group-label">${__(label)}</span>
			${frappe.utils.icon("select", "xs")}
		</span>`;
      if (icon) {
        dropdown_label = `<span class="hidden-xs">
				${frappe.utils.icon(icon)}
				<span class="custom-btn-group-label">${__(label)}</span>
				${frappe.utils.icon("select", "xs")}
			</span>
			<span class="visible-xs">
				${frappe.utils.icon(icon)}
			</span>`;
      }
      let custom_btn_group = $(`
			<div class="custom-btn-group">
				<button type="button" class="btn btn-default btn-sm ellipsis" data-toggle="dropdown" aria-expanded="false">
					${dropdown_label}
				</button>
				<ul class="dropdown-menu" role="menu"></ul>
			</div>
		`);
      if (!parent) {
        parent = this.custom_actions;
      }
      parent.removeClass("hide").append(custom_btn_group);
      return custom_btn_group.find(".dropdown-menu");
    }
    add_dropdown_button(parent, label, click, icon) {
      frappe.ui.toolbar.add_dropdown_button(parent, label, click, icon);
    }
    add_label(label) {
      this.show_form();
      return $(`<label class='col-md-1 page-only-label'>${label} </label>`).appendTo(
        this.page_form
      );
    }
    add_select(label, options) {
      let field = this.add_field({ label, fieldtype: "Select" });
      return field.$wrapper.find("select").empty().add_options(options);
    }
    add_data(label) {
      let field = this.add_field({ label, fieldtype: "Data" });
      return field.$wrapper.find("input").attr("placeholder", label);
    }
    add_date(label, date) {
      let field = this.add_field({ label, fieldtype: "Date", default: date });
      return field.$wrapper.find("input").attr("placeholder", label);
    }
    add_check(label) {
      return $(`<div class='checkbox'><label><input type='checkbox'>${label}</label></div>`).appendTo(this.page_form).find("input");
    }
    add_break() {
      this.page_form.append('<div class="clearfix invisible-xs"></div>');
    }
    add_field(df, parent) {
      this.show_form();
      if (!df.placeholder) {
        df.placeholder = df.label;
      }
      df.input_class = "input-xs";
      let f = frappe.ui.form.make_control({
        df,
        parent: parent || this.page_form,
        only_input: df.fieldtype == "Check" ? false : true
      });
      f.refresh();
      $(f.wrapper).addClass("col-md-2").attr("title", __(df.label)).tooltip({
        delay: { show: 600, hide: 100 },
        trigger: "hover"
      });
      if (df.fieldtype == "HTML") {
        return;
      }
      if (!f.$input) {
        f.make_input();
      }
      f.$input.attr("placeholder", __(df.label));
      if (df.fieldtype === "Check") {
        $(f.wrapper).find(":first-child").removeClass("col-md-offset-4 col-md-8");
      }
      if (df.fieldtype == "Button") {
        $(f.wrapper).find(".page-control-label").html("&nbsp;");
        f.$input.addClass("btn-xs").css({ width: "100%", "margin-top": "-1px" });
      }
      if (df.default) {
        f.set_input(df.default);
      }
      this.fields_dict[df.fieldname || df.label] = f;
      return f;
    }
    clear_fields() {
      this.page_form.empty();
    }
    show_form() {
      this.page_form.removeClass("hide");
    }
    hide_form() {
      this.page_form.addClass("hide");
    }
    get_form_values() {
      let values = {};
      for (let fieldname in this.fields_dict) {
        let field = this.fields_dict[fieldname];
        values[fieldname] = field.get_value();
      }
      return values;
    }
    add_view(name, html) {
      let element = html;
      if (typeof html === "string") {
        element = $(html);
      }
      this.views[name] = element.appendTo($(this.wrapper).find(".page-content"));
      if (this.current_view) {
        this.views[name].toggle(false);
      } else {
        this.current_view = this.views[name];
      }
      return this.views[name];
    }
    set_view(name) {
      var _a;
      if (this.current_view_name === name) {
        return;
      }
      (_a = this.current_view) == null ? void 0 : _a.toggle(false);
      this.current_view = this.views[name];
      this.previous_view_name = this.current_view_name;
      this.current_view_name = name;
      this.views[name].toggle(true);
      this.wrapper.trigger("view-change");
    }
  };
  var Page_default = Page;

  // guigu/public/js/FormDetail/Toolbar.ts
  var Toolbar = class {
    constructor(frm, page) {
      this.frm = frm;
      this.page = page;
      this.refresh();
      this.add_update_button_on_dirty();
      this.setup_editable_title();
    }
    refresh() {
      this.make_menu();
      this.make_viewers();
      this.set_title();
      this.page.clear_user_actions();
      this.show_title_as_dirty();
      this.set_primary_action();
      if (this.frm.meta.hide_toolbar) {
        this.page.hide_menu();
      } else if (this.frm.doc.__islocal) {
        this.page.hide_menu();
        this.print_icon && this.print_icon.addClass("hide");
      } else {
        this.page.show_menu();
        this.print_icon && this.print_icon.removeClass("hide");
      }
    }
    set_title() {
      if (this.frm.is_new()) {
        var title = __("New {0}", [__(this.frm.meta.name)]);
      } else if (this.frm.meta.title_field) {
        let title_field = (this.frm.doc[this.frm.meta.title_field] || "").toString().trim();
        var title = strip_html(title_field || this.frm.docname);
        if (this.frm.doc.__islocal || title === this.frm.docname || this.frm.meta.autoname === "hash") {
          this.page.set_title_sub("");
        } else {
          this.page.set_title_sub(this.frm.docname);
          this.page.$sub_title_area.css("cursor", "copy");
          this.page.$sub_title_area.on("click", (event) => {
            event.stopImmediatePropagation();
            frappe.utils.copy_to_clipboard(this.frm.docname);
          });
        }
      } else {
        var title = this.frm.docname;
      }
      let me2 = this;
      title = __(title);
      this.page.set_title(title);
      if (this.frm.meta.title_field) {
        frappe.utils.set_title(`${title} - ${this.frm.docname}`);
      }
      this.page.$title_area.toggleClass(
        "editable-title",
        Boolean(this.is_title_editable() || this.can_rename())
      );
      this.set_indicator();
    }
    is_title_editable() {
      let { title_field } = this.frm.meta;
      let doc_field = this.frm.get_docfield(title_field);
      if (title_field && this.frm.perm[0].write && !this.frm.doc.__islocal && doc_field.fieldtype === "Data" && !doc_field.read_only) {
        return true;
      }
      return false;
    }
    can_rename() {
      return false;
    }
    show_unchanged_document_alert() {
      frappe.show_alert({
        indicator: "info",
        message: __("Unchanged")
      });
    }
    rename_document_title(input_name, input_title, merge = false) {
      let confirm_message = null;
      const docname = this.frm.doc.name;
      const title_field = this.frm.meta.title_field || "";
      const { doctype } = this.frm;
      let queue;
      if (this.frm.__rename_queue) {
        queue = this.frm.__rename_queue;
      }
      if (input_name) {
        const warning = __("This cannot be undone");
        const message = __("Are you sure you want to merge {0} with {1}?", [
          docname.bold(),
          input_name.bold()
        ]);
        confirm_message = `${message}<br><b>${warning}<b>`;
      }
      let rename_document = () => frappe.xcall("frappe.model.rename_doc.update_document_title", {
        doctype,
        docname,
        name: input_name,
        title: input_title,
        enqueue: true,
        merge,
        freeze: true,
        freeze_message: __("Updating related fields..."),
        queue
      }).then((new_docname) => {
        const reload_form = (input_name2) => {
          $(document).trigger("rename", [doctype, docname, input_name2]);
          if (locals[doctype] && locals[doctype][docname]) {
            delete locals[doctype][docname];
          }
          this.frm.reload_doc();
        };
        if (input_name && new_docname == docname) {
          frappe.socketio.doc_subscribe(doctype, input_name);
          frappe.realtime.on("doc_update", (data) => {
            if (data.doctype == doctype && data.name == input_name) {
              reload_form(input_name);
              frappe.show_alert({
                message: __("Document renamed from {0} to {1}", [
                  docname.bold(),
                  input_name.bold()
                ]),
                indicator: "success"
              });
            }
          });
          frappe.show_alert(
            __("Document renaming from {0} to {1} has been queued", [
              docname.bold(),
              input_name.bold()
            ])
          );
        }
        if (input_name && (new_docname || input_name) != docname) {
          reload_form(new_docname || input_name);
        }
      });
      return new Promise((resolve, reject) => {
        if (input_title === this.frm.doc[title_field] && input_name === docname) {
          this.show_unchanged_document_alert();
          resolve();
        } else if (merge) {
          frappe.confirm(
            confirm_message,
            () => {
              rename_document().then(resolve).catch(reject);
            },
            reject
          );
        } else {
          rename_document().then(resolve).catch(reject);
        }
      });
    }
    setup_editable_title() {
    }
    get_dropdown_menu(label) {
      return this.page.add_dropdown(label);
    }
    set_indicator() {
      let indicator = frappe.get_indicator(this.frm.doc);
      if (this.frm.save_disabled && indicator && [__("Saved"), __("Not Saved")].includes(indicator[0])) {
        return;
      }
      if (indicator) {
        this.page.set_indicator(indicator[0], indicator[1]);
      } else {
        this.page.clear_indicator();
      }
    }
    make_menu() {
      this.page.clear_icons();
      this.page.clear_menu();
      if (frappe.boot.desk_settings.form_sidebar) {
        this.make_navigation();
        this.make_menu_items();
      }
    }
    make_viewers() {
      if (this.frm.viewers) {
        return;
      }
      this.frm.viewers = new frappe.ui.form.FormViewers({
        frm: this.frm,
        parent: $('<div class="form-viewers d-flex"></div>').prependTo(
          this.frm.page.page_actions
        )
      });
    }
    make_navigation() {
    }
    make_menu_items() {
      const me2 = this;
      const p = this.frm.perm[0];
      const docstatus = cint(this.frm.doc.docstatus);
      const is_submittable = frappe.model.is_submittable(this.frm.doc.doctype);
      const print_settings = frappe.model.get_doc(":Print Settings", "Print Settings");
      const allow_print_for_draft = cint(print_settings.allow_print_for_draft);
      const allow_print_for_cancelled = cint(print_settings.allow_print_for_cancelled);
      if (!is_submittable || docstatus == 1 || allow_print_for_cancelled && docstatus == 2 || allow_print_for_draft && docstatus == 0) {
        if (frappe.model.can_print(null, me2.frm) && !this.frm.meta.issingle) {
          this.page.add_menu_item(
            __("Print"),
            function() {
              me2.frm.print_doc();
            },
            true
          );
          this.print_icon = this.page.add_action_icon(
            "printer",
            function() {
              me2.frm.print_doc();
            },
            "",
            __("Print")
          );
        }
      }
      if (frappe.model.can_email(null, me2.frm) && me2.frm.doc.docstatus < 2) {
        this.page.add_menu_item(
          __("Email"),
          function() {
            me2.frm.email_doc();
          },
          true,
          {
            shortcut: "Ctrl+E",
            condition: () => !this.frm.is_new()
          }
        );
      }
      this.page.add_menu_item(
        __("Jump to field"),
        function() {
          me2.show_jump_to_field_dialog();
        },
        true,
        "Ctrl+J"
      );
      if (!me2.frm.meta.issingle) {
        this.page.add_menu_item(
          __("Links"),
          function() {
            me2.show_linked_with();
          },
          true
        );
      }
      if (in_list(frappe.boot.user.can_create, me2.frm.doctype) && !me2.frm.meta.allow_copy) {
        this.page.add_menu_item(
          __("Duplicate"),
          function() {
            me2.frm.copy_doc();
          },
          true
        );
      }
      this.page.add_menu_item(
        __("Copy to Clipboard"),
        function() {
          frappe.utils.copy_to_clipboard(JSON.stringify(me2.frm.doc));
        },
        true
      );
      this.page.add_menu_item(
        __("Reload"),
        function() {
          me2.frm.reload_doc();
        },
        true
      );
      if (cint(me2.frm.doc.docstatus) != 1 && !me2.frm.doc.__islocal && frappe.model.can_delete(me2.frm.doctype)) {
        this.page.add_menu_item(
          __("Delete"),
          function() {
            me2.frm.savetrash();
          },
          true,
          {
            shortcut: "Shift+Ctrl+D",
            condition: () => !this.frm.is_new()
          }
        );
      }
      this.make_customize_buttons();
      if (this.can_repeat()) {
        this.page.add_menu_item(
          __("Repeat"),
          function() {
            frappe.utils.new_auto_repeat_prompt(me2.frm);
          },
          true
        );
      }
      if (p[CREATE] && !this.frm.meta.issingle && !this.frm.meta.in_create) {
        this.page.add_menu_item(
          __("New {0}", [__(me2.frm.doctype)]),
          function() {
            frappe.new_doc(me2.frm.doctype, true);
          },
          true,
          {
            shortcut: "Ctrl+B",
            condition: () => !this.frm.is_new()
          }
        );
      }
    }
    make_customize_buttons() {
      let is_doctype_form = this.frm.doctype === "DocType";
      if (frappe.model.can_create("Custom Field") && frappe.model.can_create("Property Setter")) {
        let doctype = is_doctype_form ? this.frm.docname : this.frm.doctype;
        let is_doctype_custom = is_doctype_form ? this.frm.doc.custom : false;
        if (doctype != "DocType" && !is_doctype_custom && this.frm.meta.issingle === 0) {
          this.page.add_menu_item(
            __("Customize"),
            () => {
              if (this.frm.meta && this.frm.meta.custom) {
                frappe.set_route("Form", "DocType", doctype);
              } else {
                frappe.set_route("Form", "Customize Form", {
                  doc_type: doctype
                });
              }
            },
            true
          );
        }
      }
      if (frappe.model.can_create("DocType")) {
        if (frappe.boot.developer_mode === 1 && !is_doctype_form) {
          this.page.add_menu_item(
            __("Edit DocType"),
            () => {
              frappe.set_route("Form", "DocType", this.frm.doctype);
            },
            true
          );
        }
      }
    }
    can_repeat() {
      return this.frm.meta.allow_auto_repeat && !this.frm.is_new() && !this.frm.doc.auto_repeat;
    }
    can_save() {
      return this.get_docstatus() === 0;
    }
    can_submit() {
      return this.get_docstatus() === 0 && !this.frm.doc.__islocal && !this.frm.doc.__unsaved && this.frm.perm[0].submit && !this.has_workflow();
    }
    can_update() {
      return this.get_docstatus() === 1 && !this.frm.doc.__islocal && this.frm.perm[0].submit && this.frm.doc.__unsaved;
    }
    can_cancel() {
      return this.get_docstatus() === 1 && this.frm.perm[0].cancel && !this.read_only;
    }
    can_amend() {
      return this.get_docstatus() === 2 && this.frm.perm[0].amend && !this.read_only;
    }
    has_workflow() {
      if (this._has_workflow === void 0) {
        this._has_workflow = frappe.get_list("Workflow", {
          document_type: this.frm.doctype
        }).length;
      }
      return this._has_workflow;
    }
    get_docstatus() {
      return cint(this.frm.doc.docstatus);
    }
    show_linked_with() {
      if (!this.frm.linked_with) {
        this.frm.linked_with = new frappe.ui.form.LinkedWith({
          frm: this.frm
        });
      }
      this.frm.linked_with.show();
    }
    set_primary_action(dirty) {
      if (!dirty) {
        this.page.clear_user_actions();
      }
      let status = this.get_action_status();
      if (status) {
        if (status !== this.current_status && status === "Amend") {
          let { doc } = this.frm;
          frappe.xcall("frappe.client.is_document_amended", {
            doctype: doc.doctype,
            docname: doc.name
          }).then((is_amended) => {
            if (is_amended) {
              this.page.clear_actions();
              return;
            }
            this.set_page_actions(status);
          });
        } else {
          this.set_page_actions(status);
        }
      } else {
        this.page.clear_actions();
        this.current_status = null;
      }
    }
    get_action_status() {
      let status = null;
      if (this.frm.page.current_view_name === "print" || this.frm.hidden) {
        status = "Edit";
      } else if (this.can_submit()) {
        status = "Submit";
      } else if (this.can_save()) {
        if (!this.frm.save_disabled) {
          if (this.has_workflow() ? this.frm.doc.__unsaved : true) {
            status = "Save";
          }
        }
      } else if (this.can_update()) {
        status = "Update";
      } else if (this.can_cancel()) {
        status = "Cancel";
      } else if (this.can_amend()) {
        status = "Amend";
      }
      return status;
    }
    set_page_actions(status) {
      let me2 = this;
      this.page.clear_actions();
      if (status !== "Edit") {
        let perm_to_check = this.frm.action_perm_type_map[status];
        if (!this.frm.perm[0][perm_to_check]) {
          return;
        }
      }
      if (status === "Edit") {
        this.page.set_primary_action(
          __("Edit"),
          function() {
            me2.frm.page.set_view("main");
          },
          "edit"
        );
      } else if (status === "Cancel") {
        let add_cancel_button = () => {
          this.page.set_secondary_action(__(status), function() {
            me2.frm.savecancel(this);
          });
        };
        if (this.has_workflow()) {
          frappe.xcall("frappe.model.workflow.can_cancel_document", {
            doctype: this.frm.doc.doctype
          }).then((can_cancel) => {
            if (can_cancel) {
              add_cancel_button();
            }
          });
        } else {
          add_cancel_button();
        }
      } else {
        let click = {
          Save() {
            return me2.frm.save("Save", null, this);
          },
          Submit() {
            return me2.frm.savesubmit(this);
          },
          Update() {
            return me2.frm.save("Update", null, this);
          },
          Amend() {
            return me2.frm.amend_doc();
          }
        }[status];
        let icon = {
          Update: "edit"
        }[status];
        this.page.set_primary_action(__(status), click, icon);
      }
      this.current_status = status;
    }
    add_update_button_on_dirty() {
      let me2 = this;
      $(this.frm.wrapper).on("dirty", function() {
        me2.show_title_as_dirty();
        me2.frm.page.clear_actions_menu();
        if (!me2.frm.save_disabled) {
          me2.set_primary_action(true);
        }
      });
    }
    show_title_as_dirty() {
      if (this.frm.save_disabled && !this.frm.set_dirty) {
        return;
      }
      if (this.frm.is_dirty()) {
        this.page.set_indicator(__("Not Saved"), "orange");
      }
      $(this.frm.wrapper).attr("data-state", this.frm.is_dirty() ? "dirty" : "clean");
    }
    show_jump_to_field_dialog() {
      let visible_fields_filter = (f) => !["Section Break", "Column Break", "Tab Break"].includes(f.df.fieldtype) && !f.df.hidden && f.disp_status !== "None";
      let fields = this.frm.fields.filter(visible_fields_filter).map((f) => ({ label: __(f.df.label), value: f.df.fieldname }));
      let dialog = new frappe.ui.Dialog({
        title: __("Jump to field"),
        fields: [
          {
            fieldtype: "Autocomplete",
            fieldname: "fieldname",
            label: __("Select Field"),
            options: fields,
            reqd: 1
          }
        ],
        primary_action_label: __("Go"),
        primary_action: ({ fieldname }) => {
          dialog.hide();
          this.frm.scroll_to_field(fieldname);
        },
        animate: false
      });
      dialog.show();
    }
  };
  var Toolbar_default = Toolbar;

  // guigu/public/js/FormDetail/undo_manager.ts
  var UndoManager = class {
    constructor({ frm }) {
      this.frm = frm;
      this.undo_stack = [];
      this.redo_stack = [];
    }
    record_change({ fieldname, old_value, new_value, doctype, docname, is_child }) {
      if (old_value == new_value) {
        return;
      }
      this.undo_stack.push({
        fieldname,
        old_value,
        new_value,
        doctype,
        docname,
        is_child
      });
    }
    erase_history() {
      this.undo_stack = [];
      this.redo_stack = [];
    }
    undo() {
      const change = this.undo_stack.pop();
      if (change) {
        this._apply_change(change);
        this._push_reverse_entry(change, this.redo_stack);
      } else {
        this._show_alert(__("Nothing left to undo"));
      }
    }
    redo() {
      const change = this.redo_stack.pop();
      if (change) {
        this._apply_change(change);
        this._push_reverse_entry(change, this.undo_stack);
      } else {
        this._show_alert(__("Nothing left to redo"));
      }
    }
    _push_reverse_entry(change, stack) {
      stack.push(__spreadProps(__spreadValues({}, change), {
        new_value: change.old_value,
        old_value: change.new_value
      }));
    }
    _apply_change(change) {
      if (change.is_child) {
        frappe.model.set_value(
          change.doctype,
          change.docname,
          change.fieldname,
          change.old_value
        );
      } else {
        this.frm.set_value(change.fieldname, change.old_value);
        this.frm.scroll_to_field(change.fieldname, false);
      }
    }
    _show_alert(msg) {
      frappe.show_alert(msg, 3);
    }
  };

  // guigu/public/js/FormDetail/Layout/Section.ts
  var Section = class {
    constructor(parent, df, card_layout, layout) {
      this.layout = layout;
      this.card_layout = card_layout;
      this.parent = parent;
      this.df = df || {};
      this.columns = [];
      this.fields_list = [];
      this.fields_dict = {};
      this.make();
      if (this.df.label && this.df.collapsible && localStorage.getItem(`${df.css_class}-closed`)) {
        this.collapse();
      }
      this.row = {
        wrapper: this.wrapper
      };
      this.refresh();
    }
    make() {
      let make_card = this.card_layout;
      this.wrapper = $(`<div class="row
				${this.df.is_dashboard_section ? "form-dashboard-section" : "form-section"}
				${make_card ? "card-section" : ""}" data-fieldname="${this.df.fieldname}">
			`).appendTo(this.parent);
      if (this.df) {
        if (this.df.label) {
          this.make_head();
        }
        if (this.df.description) {
          this.description_wrapper = $(
            `<div class="col-sm-12 form-section-description">
						${__(this.df.description)}
					</div>`
          );
          this.wrapper.append(this.description_wrapper);
        }
        if (this.df.css_class) {
          this.wrapper.addClass(this.df.css_class);
        }
        if (this.df.hide_border) {
          this.wrapper.toggleClass("hide-border", true);
        }
      }
      this.body = $('<div class="section-body">').appendTo(this.wrapper);
      if (this.df.body_html) {
        this.body.append(this.df.body_html);
      }
    }
    make_head() {
      this.head = $(`
			<div class="section-head">
				${__(this.df.label)}
				<span class="ml-2 collapse-indicator mb-1"></span>
			</div>
		`);
      this.head.appendTo(this.wrapper);
      this.indicator = this.head.find(".collapse-indicator");
      this.indicator.hide();
      if (this.df.collapsible) {
        this.collapse_link = this.head.on("click", () => {
          this.collapse();
        });
        this.set_icon();
        this.indicator.show();
      }
    }
    add_field(fieldobj) {
      this.fields_list.push(fieldobj);
      this.fields_dict[fieldobj.fieldname] = fieldobj;
      fieldobj.section = this;
    }
    replace_field(fieldname, fieldobj) {
      var _a;
      if ((_a = this.fields_dict[fieldname]) == null ? void 0 : _a.df) {
        const olfldobj = this.fields_dict[fieldname];
        const idx = this.fields_list.findIndex((e) => e == olfldobj);
        this.fields_list.splice(idx, 1, fieldobj);
        this.fields_dict[fieldname] = fieldobj;
        fieldobj.section = this;
      }
    }
    refresh(hide) {
      if (!this.df) {
        return;
      }
      hide = hide || this.df.hidden || this.df.hidden_due_to_dependency;
      this.wrapper.toggleClass("hide-control", Boolean(hide));
    }
    collapse(hide) {
      if (!(this.head && this.body)) {
        return;
      }
      if (hide === void 0) {
        hide = !this.body.hasClass("hide");
      }
      this.body.toggleClass("hide", hide);
      this.head && this.head.toggleClass("collapsed", hide);
      this.set_icon(hide);
      for (const f of this.fields_list) {
        f.on_section_collapse && f.on_section_collapse(hide);
      }
      if (this.df.css_class) {
        localStorage.setItem(`${this.df.css_class}-closed`, hide ? "1" : "");
      }
    }
    set_icon(hide) {
      let indicator_icon = hide ? "down" : "up-line";
      this.indicator && this.indicator.html(frappe.utils.icon(indicator_icon, "sm", "mb-1"));
    }
    is_collapsed() {
      return this.body.hasClass("hide");
    }
    has_missing_mandatory() {
      let missing_mandatory = false;
      for (let j2 = 0, l = this.fields_list.length; j2 < l; j2++) {
        const section_df = this.fields_list[j2].df;
        if (section_df.reqd && this.layout.doc[section_df.fieldname] == null) {
          missing_mandatory = true;
          break;
        }
      }
      return missing_mandatory;
    }
    hide() {
      this.on_section_toggle(false);
    }
    show() {
      this.on_section_toggle(true);
    }
    on_section_toggle(show) {
      this.wrapper.toggleClass("hide-control", !show);
    }
  };
  var Section_default = Section;

  // guigu/public/js/FormDetail/Layout/Tab.ts
  var Tab = class {
    constructor(layout, df, frm, tab_link_container, tabs_content) {
      this.layout = layout;
      this.df = df || {};
      this.frm = frm;
      this.doctype = this.frm.doctype;
      this.label = this.df && this.df.label;
      this.tab_link_container = tab_link_container;
      this.tabs_content = tabs_content;
      this.fields_list = [];
      this.fields_dict = {};
      this.make();
      this.setup_listeners();
      this.refresh();
    }
    make() {
      const id = `form-detail-${frappe.scrub(this.doctype, "-")}-${this.df.fieldname}`;
      this.tab_link = $(`
			<li class="nav-item">
				<a class="nav-link ${this.df.active ? "active" : ""}" id="${id}-tab"
					data-toggle="tab"
					data-fieldname="${this.df.fieldname}"
					href="#${id}"
					role="tab"
					aria-controls="${this.label}">
						${__(this.label)}
				</a>
			</li>
		`).appendTo(this.tab_link_container);
      this.wrapper = $(`<div class="tab-pane fade show ${this.df.active ? "active" : ""}"
			id="${id}" role="tabpanel" aria-labelledby="${id}-tab">`).appendTo(this.tabs_content);
    }
    refresh() {
      if (!this.df) {
        return;
      }
      let hide = this.df.hidden || this.df.hidden_due_to_dependency;
      if (!hide && this.df.show_dashboard && this.frm.is_new()) {
        hide = true;
      }
      if (!hide && this.frm && !this.frm.get_perm(this.df.permlevel || 0, "read")) {
        hide = true;
      }
      if (!hide) {
        hide = true;
        if (this.wrapper.find(
          ".form-section:not(.hide-control, .empty-section), .form-dashboard-section:not(.hide-control, .empty-section)"
        ).length) {
          hide = false;
        }
      }
      this.toggle(!hide);
    }
    toggle(show) {
      this.tab_link.toggleClass("hide", !show);
      this.wrapper.toggleClass("hide", !show);
      this.tab_link.toggleClass("show", show);
      this.wrapper.toggleClass("show", show);
      this.hidden = !show;
    }
    show() {
      this.tab_link.show();
    }
    hide() {
      this.tab_link.hide();
    }
    replace_field(fieldobj) {
      fieldobj.tab = this;
    }
    add_field(fieldobj) {
      fieldobj.tab = this;
    }
    set_active() {
      this.tab_link.find(".nav-link").tab("show");
      this.wrapper.addClass("show");
      this.frm.active_tab = this;
    }
    is_active() {
      return this.wrapper.hasClass("active");
    }
    is_hidden() {
      return this.wrapper.hasClass("hide") && this.tab_link.hasClass("hide");
    }
    setup_listeners() {
      this.tab_link.find(".nav-link").on("shown.bs.tab", () => {
        var _a, _b;
        (_b = this == null ? void 0 : (_a = this.frm).set_active_tab) == null ? void 0 : _b.call(_a, this);
      });
    }
    setup_switch_on_hover() {
      this.tab_link.on("dragenter", () => {
        this.action = setTimeout(() => {
          this.set_active();
        }, 2e3);
      });
      this.tab_link.on("dragout", () => {
        if (this.action) {
          clearTimeout(this.action);
          this.action = null;
        }
      });
    }
  };
  var Tab_default = Tab;

  // guigu/public/js/FormDetail/Layout/Column.ts
  var Column = class {
    constructor(section, df) {
      this.df = df || {};
      this.section = section;
      this.section.columns.push(this);
      this.make();
      this.resize_all_columns();
    }
    make() {
      this.wrapper = $(`
			<div class="form-column" data-fieldname="${this.df.fieldname}">
				<form>
				</form>
			</div>
		`).appendTo(this.section.body);
      this.form = this.wrapper.find("form").on("submit", function() {
        return false;
      });
      if (this.df.label) {
        $(`
				<label class="control-label">
					${__(this.df.label)}
				</label>
			`).appendTo(this.wrapper);
      }
    }
    resize_all_columns() {
      let columns = this.section.wrapper.find(".form-column").length;
      let colspan = cint(12 / columns);
      if (columns == 5) {
        colspan = 20;
      }
      this.section.wrapper.find(".form-column").removeClass().addClass("form-column").addClass(`col-sm-${colspan}`);
    }
    add_field() {
    }
    refresh() {
      this.section.refresh();
    }
  };
  var Column_default = Column;

  // guigu/public/js/FormDetail/Layout/index.ts
  var Layout = class {
    constructor(parent, doctype, doctype_layout, frm, currentTab) {
      this.views = {};
      this.pages = [];
      this.tabs = [];
      this.sections = [];
      this.page_breaks = [];
      this.sections_dict = {};
      this.fields_list = [];
      this.fields_dict = {};
      this.section_count = 0;
      this.column_count = 0;
      this.with_dashboard = true;
      this.card_layout = true;
      this.formTabsList = document.createElement("div");
      this.tabsContent = document.createElement("div");
      var _a, _b;
      this.parent = $(parent);
      this.doctype = doctype;
      this.doctype_layout = doctype_layout;
      this.frm = frm;
      this.currentTab = currentTab;
      const wrapper = parent.querySelector(".form-layout");
      const message = parent.querySelector(".form-message");
      const page = parent.querySelector(".form-page");
      this.wrapper = $(wrapper);
      this.message = $(message);
      this.page = $(page);
      message.innerHTML = "";
      page.innerHTML = "";
      if (!this.fields) {
        this.fields = this.get_doctype_fields();
      }
      if (this.is_tabbed_layout()) {
        this.setup_tabbed_layout();
      }
      this.setup_tab_events();
      this.render();
      const tab = currentTab.value;
      const current = tab && ((_b = (_a = this.tab_link_container) == null ? void 0 : _a[0]) == null ? void 0 : _b.querySelector(`.nav-link[data-fieldname=${tab}]`));
      if (current) {
        $(current).tab("show");
      }
    }
    setup_tabbed_layout() {
      const tab_link_container = $('<ul class="nav form-tabs" id="form-tabs" role="tablist"></ul>');
      const { formTabsList } = this;
      formTabsList.className = "form-tabs-list";
      tab_link_container.appendTo(formTabsList);
      $(formTabsList).appendTo(this.page);
      this.tab_link_container = tab_link_container;
      const { tabsContent } = this;
      tabsContent.className = "form-tab-content tab-content";
      this.tabs_content = $(tabsContent).appendTo(
        this.page
      );
      this.setup_events();
    }
    get_doctype_fields() {
      let fields = [this.get_new_name_field()];
      if (this.doctype_layout) {
        fields = fields.concat(this.get_fields_from_layout());
      } else {
        fields = fields.concat(
          frappe.meta.sort_docfields(frappe.meta.docfield_map[this.doctype])
        );
      }
      return fields;
    }
    get_new_name_field() {
      return {
        parent: this.frm.doctype,
        fieldtype: "Data",
        fieldname: "__newname",
        reqd: 1,
        hidden: 1,
        label: __("Name"),
        get_status(field) {
          if (field.frm && field.frm.is_new() && field.frm.meta.autoname && ["prompt", "name"].includes(field.frm.meta.autoname.toLowerCase())) {
            return "Write";
          }
          return "None";
        }
      };
    }
    get_fields_from_layout() {
      const fields = [];
      for (let f of this.doctype_layout.fields) {
        const docfield = copy_dict(frappe.meta.docfield_map[this.doctype][f.fieldname]);
        docfield.label = f.label;
        fields.push(docfield);
      }
      return fields;
    }
    show_message(html, color) {
      if (this.message_color) {
        this.message.removeClass(this.message_color);
      }
      this.message_color = color && ["yellow", "blue", "red", "green", "orange"].includes(color) ? color : "blue";
      if (html) {
        if (html.substr(0, 1) !== "<") {
          html = `<div>${html}</div>`;
        }
        this.message.removeClass("hidden").addClass(this.message_color);
        $(html).appendTo(this.message);
      } else {
        this.message.empty().addClass("hidden");
      }
    }
    render(new_fields) {
      let fields = new_fields || this.fields;
      this.section = null;
      this.column = null;
      if (this.no_opening_section() && !this.is_tabbed_layout()) {
        this.fields.unshift({ fieldtype: "Section Break" });
      }
      if (this.is_tabbed_layout()) {
        let default_tab = {
          label: __("Details"),
          fieldtype: "Tab Break",
          fieldname: "__details"
        };
        let first_field_visible = this.fields.find((element) => element.hidden == false);
        let first_tab = (first_field_visible == null ? void 0 : first_field_visible.fieldtype) === "Tab Break" ? first_field_visible : null;
        if (first_tab) {
          let newname_field = this.fields.find((df) => df.fieldname === "__newname");
          if (newname_field && newname_field.get_status(this) === "Write") {
            this.fields.splice(0, 1);
            this.fields.splice(1, 0, newname_field);
          }
        } else {
          this.fields.splice(0, 0, default_tab);
        }
      }
      for (const df of fields) {
        switch (df.fieldtype) {
          case "Fold":
            this.make_page(df);
            break;
          case "Page Break":
            this.make_page_break();
            this.make_section(df);
            break;
          case "Section Break":
            this.make_section(df);
            break;
          case "Column Break":
            this.make_column(df);
            break;
          case "Tab Break":
            this.make_tab(df);
            break;
          default:
            this.make_field(df);
        }
      }
    }
    no_opening_section() {
      return this.fields[0] && this.fields[0].fieldtype != "Section Break" || !this.fields.length;
    }
    no_opening_tab() {
      return this.fields[1] && this.fields[1].fieldtype != "Tab Break" || !this.fields.length;
    }
    is_tabbed_layout() {
      return this.fields.find((f) => f.fieldtype === "Tab Break");
    }
    replace_field(fieldname, df, render12) {
      var _a;
      df.fieldname = fieldname;
      if (this.fields_dict[fieldname] && this.fields_dict[fieldname].df) {
        const prev_fieldobj = this.fields_dict[fieldname];
        const fieldobj = this.init_field(df, prev_fieldobj.parent, render12);
        prev_fieldobj.$wrapper.replaceWith(fieldobj.$wrapper);
        const idx = this.fields_list.findIndex((e) => e == prev_fieldobj);
        this.fields_list.splice(idx, 1, fieldobj);
        this.fields_dict[fieldname] = fieldobj;
        for (const section of this.sections) {
          section.replace_field(fieldname, fieldobj);
        }
        (_a = prev_fieldobj.tab) == null ? void 0 : _a.replace_field(fieldobj);
        this.refresh_fields([df]);
      }
    }
    make_field(df, colspan, render12) {
      !this.section && this.make_section();
      !this.column && this.make_column();
      const parent = this.column.wrapper.get(0);
      const fieldobj = this.init_field(df, parent, render12);
      this.fields_list.push(fieldobj);
      this.fields_dict[df.fieldname] = fieldobj;
      this.section.add_field(fieldobj);
      this.column.add_field(fieldobj);
      if (this.current_tab) {
        this.current_tab.add_field(fieldobj);
      }
    }
    init_field(df, parent, render12 = false) {
      const fieldobj = frappe.ui.form.make_control({
        df,
        doctype: this.doctype,
        parent,
        frm: this.frm,
        render_input: render12,
        doc: this.doc,
        layout: this
      });
      fieldobj.layout = this;
      return fieldobj;
    }
    make_page_break() {
      this.page = $('<div class="form-page page-break"></div>').appendTo(this.wrapper);
    }
    make_page(df) {
      let me2 = this;
      let head = $(`
			<div class="form-clickable-section text-center">
				<a class="btn-fold h6 text-muted">
					${__("Show more details")}
				</a>
			</div>
		`).appendTo(this.wrapper);
      this.page = $('<div class="form-page second-page hide"></div>').appendTo(this.wrapper);
      this.fold_btn = head.find(".btn-fold").on("click", function() {
        let page = $(this).parent().next();
        if (page.hasClass("hide")) {
          $(this).removeClass("btn-fold").html(__("Hide details"));
          page.removeClass("hide");
          frappe.utils.scroll_to($(this), true, 30);
          me2.folded = false;
        } else {
          $(this).addClass("btn-fold").html(__("Show more details"));
          page.addClass("hide");
          me2.folded = true;
        }
      });
      this.section = null;
      this.folded = true;
    }
    unfold() {
      this.fold_btn.trigger("click");
    }
    make_section(df = {}) {
      var _a;
      this.section_count++;
      if (!df.fieldname) {
        df.fieldname = `__section_${this.section_count}`;
        df.fieldtype = "Section Break";
      }
      this.section = new Section_default(
        ((_a = this.current_tab) == null ? void 0 : _a.wrapper) || this.page,
        df,
        this.card_layout,
        this
      );
      this.sections.push(this.section);
      this.sections_dict[df.fieldname] = this.section;
      if (df) {
        this.fields_dict[df.fieldname] = this.section;
        this.fields_list.push(this.section);
      }
      this.column = null;
    }
    make_column(df = {}) {
      this.column_count++;
      if (!df.fieldname) {
        df.fieldname = `__column_${this.section_count}`;
        df.fieldtype = "Column Break";
      }
      this.column = new Column_default(this.section, df);
      if (df && df.fieldname) {
        this.fields_list.push(this.column);
      }
    }
    make_tab(df) {
      this.section = null;
      let tab = new Tab_default(this, df, this.frm, this.tab_link_container, this.tabs_content);
      this.current_tab = tab;
      this.make_section({ fieldtype: "Section Break" });
      this.tabs.push(tab);
      return tab;
    }
    refresh(doc) {
      if (doc) {
        this.doc = doc;
      }
      if (this.frm) {
        this.wrapper.find(".empty-form-alert").remove();
      }
      this.attach_doc_and_docfields(true);
      if (this.frm && this.frm.wrapper) {
        $(this.frm.wrapper).trigger("refresh-fields");
      }
      this.refresh_dependency();
      this.refresh_sections();
      if (this.frm) {
        this.refresh_section_collapse();
      }
      if (document.activeElement) {
        if (document.activeElement.tagName == "INPUT" && this.is_numeric_field_active()) {
          document.activeElement.select();
        }
      }
    }
    is_numeric_field_active() {
      const control = $(document.activeElement).closest(".frappe-control");
      const { fieldtype } = control.data() || {};
      return frappe.model.numeric_fieldtypes.includes(fieldtype);
    }
    refresh_sections() {
      this.wrapper.find(".form-section:not(.hide-control)").each(function() {
        const section = $(this).removeClass("empty-section visible-section");
        if (section.find(".frappe-control:not(.hide-control)").length) {
          section.addClass("visible-section");
        } else {
          section.addClass("empty-section");
        }
      });
      this.is_tabbed_layout() && this.refresh_tabs();
    }
    refresh_tabs() {
      for (let tab of this.tabs) {
        tab.refresh();
      }
      const visible_tabs = this.tabs.filter((tab) => !tab.hidden);
      if (visible_tabs && visible_tabs.length == 1) {
        visible_tabs[0].tab_link.toggleClass("hide show");
      }
      this.set_tab_as_active();
    }
    set_tab_as_active() {
      var _a, _b;
      let frm_active_tab = (_b = this == null ? void 0 : (_a = this.frm).get_active_tab) == null ? void 0 : _b.call(_a);
      if (frm_active_tab) {
        frm_active_tab.set_active();
      } else if (this.tabs.length) {
        let first_visible_tab = this.tabs.find((tab) => !tab.is_hidden());
        first_visible_tab && first_visible_tab.set_active();
      }
    }
    refresh_fields(fields) {
      let fieldnames = fields.map((field) => {
        if (field.fieldname) {
          return field.fieldname;
        }
      });
      this.fields_list.map((fieldobj) => {
        if (fieldnames.includes(fieldobj.df.fieldname)) {
          fieldobj.refresh();
          if (fieldobj.df.default) {
            fieldobj.set_input(fieldobj.df.default);
          }
        }
      });
    }
    add_fields(fields) {
      this.render(fields);
      this.refresh_fields(fields);
    }
    refresh_section_collapse() {
      if (!(this.sections && this.sections.length)) {
        return;
      }
      for (let i = 0; i < this.sections.length; i++) {
        let section = this.sections[i];
        let { df } = section;
        if (df && df.collapsible) {
          let collapse = true;
          if (df.collapsible_depends_on) {
            collapse = !this.evaluate_depends_on_value(df.collapsible_depends_on);
          }
          if (collapse && section.has_missing_mandatory()) {
            collapse = false;
          }
          section.collapse(collapse);
        }
      }
    }
    attach_doc_and_docfields(refresh) {
      let me2 = this;
      for (let i = 0, l = this.fields_list.length; i < l; i++) {
        let fieldobj = this.fields_list[i];
        if (me2.doc) {
          fieldobj.doc = me2.doc;
          fieldobj.doctype = me2.doc.doctype;
          fieldobj.docname = me2.doc.name;
          fieldobj.df = frappe.meta.get_docfield(me2.doc.doctype, fieldobj.df.fieldname, me2.doc.name) || fieldobj.df;
        }
        refresh && fieldobj.df && fieldobj.refresh && fieldobj.refresh();
      }
    }
    refresh_section_count() {
      this.wrapper.find(".section-count-label:visible").each(function(i) {
        $(this).html(i + 1);
      });
    }
    setup_events() {
      let last_scroll = 0;
      const { formTabsList } = this;
      let { tabsContent } = this;
      const eventListener = frappe.utils.throttle(() => {
        let current_scroll = document.documentElement.scrollTop;
        if (current_scroll > 0 && last_scroll <= current_scroll) {
          formTabsList.classList.remove("form-tabs-sticky-down");
          formTabsList.classList.add("form-tabs-sticky-up");
        } else {
          formTabsList.classList.remove("form-tabs-sticky-up");
          formTabsList.classList.add("form-tabs-sticky-down");
        }
        last_scroll = current_scroll;
      }, 500);
      window.addEventListener("scroll", eventListener);
      this.tab_link_container.off("click").on("click", ".nav-link", (e) => {
        e.preventDefault();
        e.stopImmediatePropagation();
        const el = e.currentTarget;
        $(el).tab("show");
        const { fieldname } = el.dataset;
        if (fieldname) {
          this.currentTab.value = fieldname;
        }
        if (tabsContent.getBoundingClientRect().top < 100) {
          tabsContent.scrollIntoView();
          setTimeout(() => {
            $(".page-head").css("top", "-15px");
            formTabsList.classList.remove("form-tabs-sticky-down");
            formTabsList.classList.add("form-tabs-sticky-up");
          }, 3);
        }
      });
    }
    setup_tab_events() {
      this.wrapper.on("keydown", (ev) => {
        if (ev.which == 9) {
          let current = $(ev.target);
          let doctype = current.attr("data-doctype");
          let fieldname = current.attr("data-fieldname");
          if (doctype) {
            return this.handle_tab(doctype, fieldname, ev.shiftKey);
          }
        }
      });
    }
    handle_tab(doctype, fieldname, shift) {
      let grid_row = null, prev = null, fields = this.fields_list, focused = false;
      if (doctype != this.doctype) {
        grid_row = this.get_open_grid_row();
        if (!grid_row || !grid_row.layout) {
          return;
        }
        fields = grid_row.layout.fields_list;
      }
      for (let i = 0, len = fields.length; i < len; i++) {
        if (fields[i].df.fieldname == fieldname) {
          if (shift) {
            if (prev) {
              this.set_focus(prev);
            } else {
              $(this.primary_button).focus();
            }
            break;
          }
          if (i < len - 1) {
            focused = this.focus_on_next_field(i, fields);
          }
          if (focused) {
            break;
          }
        }
        if (this.is_visible(fields[i])) {
          prev = fields[i];
        }
      }
      if (!focused) {
        if (grid_row) {
          if (grid_row.doc.idx == grid_row.grid.grid_rows.length) {
            grid_row.toggle_view(false, function() {
              grid_row.grid.frm.layout.handle_tab(
                grid_row.grid.df.parent,
                grid_row.grid.df.fieldname
              );
            });
          } else {
            grid_row.grid.grid_rows[grid_row.doc.idx].toggle_view(true);
          }
        } else if (!shift) {
          $(this.primary_button).focus();
        }
      }
      return false;
    }
    focus_on_next_field(start_idx, fields) {
      for (let i = start_idx + 1, len = fields.length; i < len; i++) {
        let field = fields[i];
        if (this.is_visible(field)) {
          if (field.df.fieldtype === "Table") {
            if (!(field.grid.grid_rows && field.grid.grid_rows.length)) {
              field.grid.add_new_row();
            }
            field.grid.grid_rows[0].show_form();
            return true;
          } else if (!in_list(frappe.model.no_value_type, field.df.fieldtype)) {
            this.set_focus(field);
            return true;
          }
        }
      }
    }
    is_visible(field) {
      return field.disp_status === "Write" && field.df && "hidden" in field.df && !field.df.hidden;
    }
    set_focus(field) {
      if (field.tab) {
        field.tab.set_active();
      }
      if (field.df.fieldtype == "Table") {
        if (field.grid.grid_rows.length) {
          field.grid.grid_rows[0].toggle_view(true);
        } else {
          field.grid.add_new_row(1);
        }
      } else if (field.editor) {
        field.editor.set_focus();
      } else if (field.$input) {
        field.$input.focus();
      }
    }
    get_open_grid_row() {
      return $(".grid-row-open").data("grid_row");
    }
    refresh_dependency() {
      let has_dep = false;
      const fields = this.fields_list.concat(this.tabs);
      for (let fkey in fields) {
        let f = fields[fkey];
        if (f.df.depends_on || f.df.mandatory_depends_on || f.df.read_only_depends_on) {
          has_dep = true;
          break;
        }
      }
      if (!has_dep) {
        return;
      }
      for (let i = fields.length - 1; i >= 0; i--) {
        let f = fields[i];
        f.guardian_has_value = true;
        if (f.df.depends_on) {
          f.guardian_has_value = this.evaluate_depends_on_value(f.df.depends_on);
          if (f.guardian_has_value) {
            if (f.df.hidden_due_to_dependency) {
              f.df.hidden_due_to_dependency = false;
              f.refresh();
            }
          } else if (!f.df.hidden_due_to_dependency) {
            f.df.hidden_due_to_dependency = true;
            f.refresh();
          }
        }
        if (f.df.mandatory_depends_on) {
          this.set_dependant_property(f.df.mandatory_depends_on, f.df.fieldname, "reqd");
        }
        if (f.df.read_only_depends_on) {
          this.set_dependant_property(
            f.df.read_only_depends_on,
            f.df.fieldname,
            "read_only"
          );
        }
      }
      this.refresh_section_count();
    }
    set_dependant_property(condition, fieldname, property) {
      let set_property = this.evaluate_depends_on_value(condition);
      let value = set_property ? 1 : 0;
      let form_obj;
      if (this.frm) {
        form_obj = this.frm;
      } else if (this.is_dialog || this.doctype === "Web Form") {
        form_obj = this;
      }
      if (form_obj) {
        if (this.doc && this.doc.parent && this.doc.parentfield) {
          form_obj.setting_dependency = true;
          form_obj.set_df_property(
            this.doc.parentfield,
            property,
            value,
            this.doc.parent,
            fieldname,
            this.doc.name
          );
          form_obj.setting_dependency = false;
          this.fields_dict[fieldname] && this.fields_dict[fieldname].refresh();
        } else {
          form_obj.set_df_property(fieldname, property, value);
        }
      }
    }
    evaluate_depends_on_value(expression) {
      let out = null;
      let { doc } = this;
      if (!doc && this.get_values) {
        doc = this.get_values(true);
      }
      if (!doc) {
        return;
      }
      let parent = this.frm ? this.frm.doc : this.doc || null;
      if (typeof expression === "boolean") {
        out = expression;
      } else if (typeof expression === "function") {
        out = expression(doc);
      } else if (expression.substr(0, 5) == "eval:") {
        try {
          out = frappe.utils.eval(expression.substr(5), { doc, parent });
          if (parent && parent.istable && expression.includes("is_submittable")) {
            out = true;
          }
        } catch (e) {
          frappe.throw(__('Invalid "depends_on" expression'));
        }
      } else if (expression.substr(0, 3) == "fn:" && this.frm) {
        out = this.frm.script_manager.trigger(
          expression.substr(3),
          this.doctype,
          this.docname
        );
      } else {
        let value = doc[expression];
        if ($.isArray(value)) {
          out = Boolean(value.length);
        } else {
          out = Boolean(value);
        }
      }
      return out;
    }
  };
  var Layout_default = Layout;

  // guigu/public/js/FormDetail/Form.ts
  frappe.provide("frappe.ui.form");
  frappe.provide("frappe.model.docinfo");
  var Form = class {
    constructor(doctype, name, parent, deleted, currentTab, in_form = true, doctype_layout = frappe.router.doctype_layout || doctype, doctype_layout_name) {
      this.docname = "";
      this.hidden = false;
      this.refresh_if_stale_for = 120;
      this.opendocs = {};
      this.custom_buttons = {};
      this.sections = [];
      this.grids = [];
      this.cscript = new frappe.ui.form.Controller({ frm: this });
      this.events = {};
      this.fetch_dict = {};
      this.undo_manager = new UndoManager({ frm: this });
      this.beforeUnloadListener = (event) => {
        event.preventDefault();
        return event.returnValue = "There are unsaved changes, are you sure you want to exit?";
      };
      this.action_perm_type_map = {
        Create: "create",
        Save: "write",
        Submit: "submit",
        Update: "submit",
        Cancel: "cancel",
        Amend: "amend",
        Delete: "delete"
      };
      this.currentTab = currentTab;
      this.__deleted = deleted;
      this.doctype = doctype;
      this.doctype_layout_name = doctype_layout_name;
      this.in_form = in_form ? true : false;
      this.parent = parent;
      this.doctype_layout = frappe.get_doc("DocType Layout", doctype_layout_name);
      this.meta = frappe.get_doc("DocType", this.doctype);
      if (this.meta.istable) {
        this.meta.in_dialog = 1;
      }
      this.perm = frappe.perm.get_perm(this.doctype);
      this.debounced_reload_doc = frappe.utils.debounce(this.reload_doc.bind(this), 1e3);
    }
    setup() {
      this.setup_done = true;
      this.fields = [];
      this.fields_dict = {};
      this.state_fieldname = frappe.workflow.get_state_fieldname(this.doctype);
      this.wrapper = this.parent;
      this.$wrapper = $(this.wrapper);
      const page = new Page_default(this.wrapper, this.meta.hide_toolbar);
      this.page = page;
      this.layout_main = this.parent.querySelector(".layout-main-section");
      this.$wrapper.on("hide", () => {
        this.script_manager.trigger("on_hide");
      });
      this.toolbar = new Toolbar_default(this, page);
      this.add_form_keyboard_shortcuts();
      this.setup_std_layout();
      this.script_manager = new frappe.ui.form.ScriptManager({
        frm: this
      });
      this.script_manager.setup();
      this.watch_model_updates();
      const [mainParent] = page.main.parent();
      if (mainParent) {
        const footer = [...mainParent.children].find((v) => v.classList.contains("layout-footer"));
        if (footer) {
          for (let next; next = footer.nextSibling; ) {
            next == null ? void 0 : next.remove();
          }
        }
      }
      if (!this.meta.hide_toolbar && frappe.boot.desk_settings.timeline) {
        this.footer = new Footer_default({
          frm: this,
          parent: $("<div>").appendTo(page.main.parent())
        });
        $("body").attr("data-sidebar", 1);
      }
      this.setup_file_drop();
      this.setup_doctype_actions();
      this.setup_notify_on_rename();
      this.setup_done = true;
    }
    add_form_keyboard_shortcuts() {
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+>",
        action: () => this.navigate_records(0),
        page: this.page,
        description: __("Go to next record"),
        ignore_inputs: true,
        condition: () => !this.is_new()
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+<",
        action: () => this.navigate_records(1),
        page: this.page,
        description: __("Go to previous record"),
        ignore_inputs: true,
        condition: () => !this.is_new()
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "ctrl+z",
        action: () => this.undo_manager.undo(),
        page: this.page,
        description: __("Undo last action")
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+z",
        action: () => this.undo_manager.redo(),
        page: this.page,
        description: __("Redo last action")
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "ctrl+y",
        action: () => this.undo_manager.redo(),
        page: this.page,
        description: __("Redo last action")
      });
      let grid_shortcut_keys = [
        {
          shortcut: "Up Arrow",
          description: __("Move cursor to above row")
        },
        {
          shortcut: "Down Arrow",
          description: __("Move cursor to below row")
        },
        {
          shortcut: "tab",
          description: __("Move cursor to next column")
        },
        {
          shortcut: "shift+tab",
          description: __("Move cursor to previous column")
        },
        {
          shortcut: "Ctrl+up",
          description: __("Add a row above the current row")
        },
        {
          shortcut: "Ctrl+down",
          description: __("Add a row below the current row")
        },
        {
          shortcut: "Ctrl+shift+up",
          description: __("Add a row at the top")
        },
        {
          shortcut: "Ctrl+shift+down",
          description: __("Add a row at the bottom")
        },
        {
          shortcut: "shift+alt+down",
          description: __("Duplicate current row")
        }
      ];
      for (const row of grid_shortcut_keys) {
        frappe.ui.keys.add_shortcut({
          shortcut: row.shortcut,
          page: this.page,
          description: __(row.description),
          ignore_inputs: true,
          condition: () => !this.is_new()
        });
      }
    }
    setup_std_layout() {
      const main = this.parent.querySelector(".layout-main-section");
      this.form_wrapper = $(main.querySelector("div"));
      const body = main.querySelector(".std-form-layout");
      this.body = $(body);
      this.meta.section_style = "Simple";
      this.layout = new Layout_default(
        body,
        this.doctype,
        this.doctype_layout,
        this,
        this.currentTab
      );
      this.fields_dict = this.layout.fields_dict;
      this.fields = this.layout.fields_list;
      let dashboard_parent = $('<div class="form-dashboard">');
      let dashboard_added = false;
      if (this.layout.tabs.length) {
        this.layout.tabs.every((tab) => {
          if (tab.df.show_dashboard) {
            tab.wrapper.prepend(dashboard_parent);
            dashboard_added = true;
            return false;
          }
          return true;
        });
        if (!dashboard_added) {
          this.layout.tabs[0].wrapper.prepend(dashboard_parent);
        }
      } else {
        this.layout.wrapper.find(".form-page").prepend(dashboard_parent);
      }
      this.dashboard = new frappe.ui.form.Dashboard(dashboard_parent, this);
      this.tour = new frappe.ui.form.FormTour({
        frm: this
      });
      this.states = new frappe.ui.form.States({
        frm: this
      });
    }
    watch_model_updates() {
      let me2 = this;
      frappe.model.on(
        me2.doctype,
        "*",
        function(fieldname, value, doc, skip_dirty_trigger = false) {
          if (doc.name == me2.docname) {
            if (!skip_dirty_trigger) {
              me2.dirty();
            }
            let field = me2.fields_dict[fieldname];
            field && field.refresh(fieldname);
            field && ["Link", "Dynamic Link"].includes(field.df.fieldtype) && field.validate && field.validate(value);
            me2.layout.refresh_dependency();
            me2.layout.refresh_sections();
            return me2.script_manager.trigger(fieldname, doc.doctype, doc.name);
          }
        }
      );
      let table_fields = frappe.get_children("DocType", me2.doctype, "fields", {
        fieldtype: ["in", frappe.model.table_fields]
      });
      $.each(table_fields, function(i, df) {
        frappe.model.on(df.options, "*", function(fieldname, value, doc) {
          if (doc.parent == me2.docname && doc.parentfield === df.fieldname) {
            me2.dirty();
            me2.fields_dict[df.fieldname].grid.set_value(fieldname, value, doc);
            return me2.script_manager.trigger(fieldname, doc.doctype, doc.name);
          }
        });
      });
    }
    setup_notify_on_rename() {
      $(document).on("rename", (ev, dt2, old_name, new_name) => {
        if (dt2 == this.doctype) {
          this.rename_notify(dt2, old_name, new_name);
        }
      });
    }
    setup_file_drop() {
      let me2 = this;
      this.$wrapper.on("dragenter dragover", false).on("drop", function(e) {
        let { dataTransfer } = e.originalEvent;
        if (!(dataTransfer && dataTransfer.files && dataTransfer.files.length > 0)) {
          return;
        }
        e.stopPropagation();
        e.preventDefault();
        if (me2.doc.__islocal) {
          frappe.msgprint(__("Please save before attaching."));
          throw "attach error";
        }
        new frappe.ui.FileUploader({
          doctype: me2.doctype,
          docname: me2.docname,
          frm: me2,
          files: dataTransfer.files,
          folder: "Home/Attachments",
          on_success(file_doc) {
            me2.attachments.attachment_uploaded(file_doc);
          }
        });
      });
    }
    setup_image_autocompletions_in_markdown() {
      this.fields.map((field) => {
        if (field.df.fieldtype === "Markdown Editor") {
          this.set_df_property(field.df.fieldname, "autocompletions", () => {
            let attachments = this.attachments.get_attachments();
            return attachments.filter((file) => frappe.utils.is_image_file(file.file_url)).map((file) => ({
              caption: `image: ${file.file_name}`,
              value: `![](${file.file_url})`,
              meta: "image"
            }));
          });
        }
      });
    }
    refresh(docname) {
      let switched = docname ? true : false;
      removeEventListener("beforeunload", this.beforeUnloadListener, { capture: true });
      if (docname) {
        this.switch_doc(docname);
      }
      cur_frm = this;
      this.undo_manager.erase_history();
      if (!this.docname) {
        return;
      }
      this.save_disabled = false;
      this.doc = frappe.get_doc(this.doctype, this.docname);
      this.fetch_permissions();
      if (!this.has_read_permission()) {
        frappe.show_not_permitted(`${__(this.doctype)} ${__(cstr(this.docname))}`);
        return;
      }
      for (const table of this.grids) {
        table.grid.refresh();
      }
      this.read_only = frappe.workflow.is_read_only(this.doctype, this.docname);
      if (this.read_only) {
        this.set_read_only(true);
        frappe.show_alert(__("This form is not editable due to a Workflow."));
      }
      if (!this.opendocs[this.docname]) {
        this.check_doctype_conflict(this.docname);
      } else if (this.check_reload()) {
        return;
      }
      if (!this.setup_done) {
        this.setup();
      }
      this.trigger_onload(switched);
      if (switched) {
        if (this.show_print_first && this.doc.docstatus === 1) {
          this.print_doc();
        }
      }
      this.$wrapper.removeClass("validated-form").toggleClass("editable-form", this.doc.docstatus === 0).toggleClass("submitted-form", this.doc.docstatus === 1).toggleClass("cancelled-form", this.doc.docstatus === 2);
      this.show_conflict_message();
      if (frappe.boot.read_only) {
        this.disable_form();
      }
    }
    setup_doctype_actions() {
      if (this.meta.actions) {
        for (let action of this.meta.actions) {
          frappe.ui.form.on(this.doctype, "refresh", () => {
            if (!this.is_new()) {
              if (!action.hidden) {
                this.add_custom_button(
                  action.label,
                  () => {
                    this.execute_action(action);
                  },
                  action.group
                );
              }
            }
          });
        }
      }
    }
    execute_action(action) {
      if (typeof action === "string") {
        for (let _action of this.meta.actions) {
          if (_action.label === action) {
            action = _action;
            break;
          }
        }
        if (typeof action === "string") {
          frappe.throw(`Action ${action} not found`);
        }
      }
      if (action.action_type === "Server Action") {
        return frappe.xcall(action.action, { doc: this.doc }).then((doc) => {
          if (doc.doctype) {
            frappe.model.sync(doc);
            this.refresh();
          }
          frappe.msgprint({
            message: __("{} Complete", [action.label]),
            alert: true
          });
        });
      } else if (action.action_type === "Route") {
        return frappe.set_route(action.action);
      }
    }
    switch_doc(docname) {
      for (const grid_obj of this.grids) {
        grid_obj.grid.visible_columns = null;
        grid_obj.grid.grid_pagination.go_to_page(1, true);
      }
      frappe.ui.form.close_grid_form();
      this.viewers && this.viewers.parent.empty();
      this.docname = docname;
      this.setup_docinfo_change_listener();
    }
    check_reload() {
      if (this.doc && !this.doc.__unsaved && this.doc.__last_sync_on && new Date() - this.doc.__last_sync_on > this.refresh_if_stale_for * 1e3) {
        this.debounced_reload_doc();
        return true;
      }
    }
    trigger_onload(switched) {
      this.cscript.is_onload = false;
      if (this.opendocs[this.docname]) {
        this.render_form(switched);
        if (this.doc.localname) {
          delete this.doc.localname;
          $(document).trigger("form-rename", [this]);
        }
      } else {
        let me2 = this;
        this.cscript.is_onload = true;
        this.initialize_new_doc();
        $(document).trigger("form-load", [this]);
        $(this.page.wrapper).on("hide", function() {
          $(document).trigger("form-unload", [me2]);
        });
      }
    }
    initialize_new_doc() {
      let me2 = this;
      this.script_manager.trigger("before_load", this.doctype, this.docname).then(() => {
        me2.script_manager.trigger("onload");
        me2.opendocs[me2.docname] = true;
        me2.render_form();
        frappe.after_ajax(function() {
          me2.trigger_link_fields();
        });
        frappe.breadcrumbs.add(me2.meta.module, me2.doctype);
      });
      if (this.meta.track_seen) {
        $(`.list-id[data-name="${me2.docname}"]`).addClass("seen");
      }
    }
    render_form(switched) {
      if (this.meta.istable) {
        this.refresh_header(switched);
      } else {
        this.layout.doc = this.doc;
        this.layout.attach_doc_and_docfields();
        if (frappe.boot.desk_settings.form_sidebar) {
          this.sidebar = new frappe.ui.form.Sidebar({
            frm: this,
            page: this.page
          });
          this.sidebar.make();
        }
        this.layout.show_message();
        frappe.run_serially([
          () => this.refresh_header(switched),
          () => $(document).trigger("form-refresh", [this]),
          () => this.refresh_fields(),
          () => this.script_manager.trigger("refresh"),
          () => {
            if (this.cscript.is_onload) {
              this.onload_post_render();
              return this.script_manager.trigger("onload_post_render");
            }
          },
          () => this.cscript.is_onload && this.is_new() && this.focus_on_first_input(),
          () => this.run_after_load_hook(),
          () => this.dashboard.after_refresh()
        ]);
      }
      this.$wrapper.trigger("render_complete");
      frappe.after_ajax(() => {
        $(document).ready(() => {
          this.scroll_to_element();
        });
      });
    }
    onload_post_render() {
      this.setup_image_autocompletions_in_markdown();
    }
    focus_on_first_input() {
      let first = this.form_wrapper.find(".form-layout :input:visible:first");
      if (!in_list(["Date", "Datetime"], first.attr("data-fieldtype"))) {
        first.focus();
      }
    }
    run_after_load_hook() {
      if (frappe.route_hooks.after_load) {
        let route_callback = frappe.route_hooks.after_load;
        delete frappe.route_hooks.after_load;
        route_callback(this);
      }
    }
    refresh_fields() {
      this.layout.refresh(this.doc);
      this.layout.primary_button = this.$wrapper.find(".btn-primary");
    }
    cleanup_refresh() {
      if (this.fields_dict.amended_from) {
        if (this.doc.amended_from) {
          unhide_field("amended_from");
          if (this.fields_dict.amendment_date) {
            unhide_field("amendment_date");
          }
        } else {
          hide_field("amended_from");
          if (this.fields_dict.amendment_date) {
            hide_field("amendment_date");
          }
        }
      }
      if (this.fields_dict.trash_reason) {
        if (this.doc.trash_reason && this.doc.docstatus == 2) {
          unhide_field("trash_reason");
        } else {
          hide_field("trash_reason");
        }
      }
      if (this.meta.autoname && this.meta.autoname.substr(0, 6) == "field:" && !this.doc.__islocal) {
        let fn = this.meta.autoname.substr(6);
        if (this.doc[fn]) {
          this.toggle_display(fn, false);
        }
      }
      if (this.meta.autoname == "naming_series:" && !this.doc.__islocal) {
        this.toggle_display("naming_series", false);
      }
    }
    refresh_header(switched) {
      if (this.toolbar) {
        if (switched) {
          this.toolbar.current_status = void 0;
        }
        this.toolbar.refresh();
      }
      this.dashboard.refresh();
      frappe.breadcrumbs.update();
      this.show_submit_message();
      this.clear_custom_buttons();
      this.show_web_link();
    }
    save_or_update() {
      if (this.save_disabled) {
        return;
      }
      if (this.doc.docstatus === 0) {
        this.save();
      } else if (this.doc.docstatus === 1 && this.doc.__unsaved) {
        this.save("Update");
      }
    }
    save(save_action, callback, btn, on_error) {
      let me2 = this;
      return new Promise((resolve, reject) => {
        btn && $(btn).prop("disabled", true);
        frappe.ui.form.close_grid_form();
        me2.validate_and_save(save_action, callback, btn, on_error, resolve, reject);
      }).then(() => {
        me2.show_success_action();
      }).catch((e) => {
        console.error(e);
      });
    }
    validate_and_save(save_action, callback, btn, on_error, resolve, reject) {
      let me2 = this;
      if (!save_action) {
        save_action = "Save";
      }
      this.validate_form_action(save_action, resolve);
      let after_save = function(r) {
        history.replaceState(null, null, " ");
        if (!r.exc) {
          if (["Save", "Update", "Amend"].indexOf(save_action) !== -1) {
            frappe.utils.play_sound("click");
          }
          me2.script_manager.trigger("after_save");
          if (frappe.route_hooks.after_save) {
            let route_callback = frappe.route_hooks.after_save;
            delete frappe.route_hooks.after_save;
            route_callback(me2);
          }
          if (me2.comment_box) {
            me2.comment_box.submit();
          }
          me2.refresh();
        } else if (on_error) {
          on_error();
          reject();
        }
        callback && callback(r);
        resolve();
      };
      let fail = (e) => {
        if (e) {
          console.error(e);
        }
        btn && $(btn).prop("disabled", false);
        if (on_error) {
          on_error();
          reject();
        }
      };
      if (save_action == "Update") {
        frappe.ui.form.save(me2, save_action, after_save, btn);
      } else {
        frappe.validated = true;
        frappe.run_serially([
          () => this.script_manager.trigger("validate"),
          () => this.script_manager.trigger("before_save"),
          () => {
            if (!frappe.validated) {
              fail();
              return;
            }
            frappe.ui.form.save(me2, save_action, after_save, btn);
          }
        ]).catch(fail);
      }
    }
    savesubmit(btn, callback, on_error) {
      let me2 = this;
      return new Promise((resolve) => {
        this.validate_form_action("Submit");
        frappe.confirm(
          __("Permanently Submit {0}?", [this.docname]),
          function() {
            frappe.validated = true;
            me2.script_manager.trigger("before_submit").then(function() {
              if (!frappe.validated) {
                return me2.handle_save_fail(btn, on_error);
              }
              me2.save(
                "Submit",
                function(r) {
                  if (r.exc) {
                    me2.handle_save_fail(btn, on_error);
                  } else {
                    frappe.utils.play_sound("submit");
                    callback && callback();
                    me2.script_manager.trigger("on_submit").then(() => resolve(me2)).then(() => {
                      if (frappe.route_hooks.after_submit) {
                        let route_callback = frappe.route_hooks.after_submit;
                        delete frappe.route_hooks.after_submit;
                        route_callback(me2);
                      }
                    });
                  }
                },
                btn,
                () => me2.handle_save_fail(btn, on_error),
                resolve
              );
            });
          },
          () => me2.handle_save_fail(btn, on_error)
        );
      });
    }
    savecancel(btn, callback, on_error) {
      const me2 = this;
      this.validate_form_action("Cancel");
      me2.ignore_doctypes_on_cancel_all = me2.ignore_doctypes_on_cancel_all || [];
      frappe.call({
        method: "frappe.desk.form.linked_with.get_submitted_linked_docs",
        args: {
          doctype: me2.doc.doctype,
          name: me2.doc.name
        },
        freeze: true
      }).then((r) => {
        if (!r.exc) {
          let doctypes_to_cancel = (r.message.docs || []).map((value) => value.doctype).filter((value) => !me2.ignore_doctypes_on_cancel_all.includes(value));
          if (doctypes_to_cancel.length) {
            return me2._cancel_all(r, btn, callback, on_error);
          }
        }
        return me2._cancel(btn, callback, on_error, false);
      });
    }
    _cancel_all(r, btn, callback, on_error) {
      const me2 = this;
      let links_text = "";
      let links = r.message.docs;
      const doctypes = Array.from(new Set(links.map((link) => link.doctype)));
      me2.ignore_doctypes_on_cancel_all = me2.ignore_doctypes_on_cancel_all || [];
      for (let doctype of doctypes) {
        if (!me2.ignore_doctypes_on_cancel_all.includes(doctype)) {
          let docnames = links.filter((link) => link.doctype == doctype).map((link) => frappe.utils.get_form_link(link.doctype, link.name, true)).join(", ");
          links_text += `<li><strong>${__(doctype)}</strong>: ${docnames}</li>`;
        }
      }
      links_text = `<ul>${links_text}</ul>`;
      let confirm_message = __("{0} {1} is linked with the following submitted documents: {2}", [
        __(me2.doc.doctype).bold(),
        me2.doc.name,
        links_text
      ]);
      let can_cancel = links.every((link) => frappe.model.can_cancel(link.doctype));
      if (can_cancel) {
        confirm_message += __("Do you want to cancel all linked documents?");
      } else {
        confirm_message += __("You do not have permissions to cancel all linked documents.");
      }
      let d2 = new frappe.ui.Dialog(
        {
          title: __("Cancel All Documents"),
          fields: [
            {
              fieldtype: "HTML",
              options: `<p class="frappe-confirm-message">${confirm_message}</p>`
            }
          ]
        },
        () => me2.handle_save_fail(btn, on_error)
      );
      if (can_cancel) {
        d2.set_primary_action(__("Cancel All"), () => {
          d2.hide();
          frappe.call({
            method: "frappe.desk.form.linked_with.cancel_all_linked_docs",
            args: {
              docs: links,
              ignore_doctypes_on_cancel_all: me2.ignore_doctypes_on_cancel_all || []
            },
            freeze: true,
            callback: (resp) => {
              if (!resp.exc) {
                me2.reload_doc();
                me2._cancel(btn, callback, on_error, true);
              }
            }
          });
        });
      }
      d2.show();
    }
    _cancel(btn, callback, on_error, skip_confirm) {
      const me2 = this;
      const cancel_doc = () => {
        frappe.validated = true;
        me2.script_manager.trigger("before_cancel").then(() => {
          if (!frappe.validated) {
            return me2.handle_save_fail(btn, on_error);
          }
          let after_cancel = function(r) {
            if (r.exc) {
              me2.handle_save_fail(btn, on_error);
            } else {
              frappe.utils.play_sound("cancel");
              me2.refresh();
              callback && callback();
              me2.script_manager.trigger("after_cancel");
            }
          };
          frappe.ui.form.save(me2, "cancel", after_cancel, btn);
        });
      };
      if (skip_confirm) {
        cancel_doc();
      } else {
        frappe.confirm(
          __("Permanently Cancel {0}?", [this.docname]),
          cancel_doc,
          me2.handle_save_fail(btn, on_error)
        );
      }
    }
    savetrash() {
      this.validate_form_action("Delete");
      frappe.model.delete_doc(this.doctype, this.docname, () => {
        this.__deleted();
      });
    }
    amend_doc() {
      if (!this.fields_dict.amended_from) {
        frappe.msgprint(__('"amended_from" field must be present to do an amendment.'));
        return;
      }
      frappe.xcall("frappe.client.is_document_amended", {
        doctype: this.doc.doctype,
        docname: this.doc.name
      }).then((is_amended) => {
        if (is_amended) {
          frappe.throw(
            __("This document is already amended, you cannot ammend it again")
          );
        }
        this.validate_form_action("Amend");
        let me2 = this;
        let fn = function(newdoc) {
          newdoc.amended_from = me2.docname;
          if (me2.fields_dict && me2.fields_dict.amendment_date) {
            newdoc.amendment_date = frappe.datetime.obj_to_str(new Date());
          }
        };
        this.copy_doc(fn, 1);
        frappe.utils.play_sound("click");
      });
    }
    validate_form_action(action, resolve) {
      let perm_to_check = this.action_perm_type_map[action];
      let allowed_for_workflow = false;
      let perms = frappe.perm.get_perm(this.doc.doctype)[0];
      if (frappe.workflow.is_read_only(this.doctype, this.docname) && (perms.write || perms.create || perms.submit || perms.cancel) || !frappe.workflow.is_read_only(this.doctype, this.docname)) {
        allowed_for_workflow = true;
      }
      if (!this.perm[0][perm_to_check] && !allowed_for_workflow) {
        if (resolve) {
          resolve();
        }
        frappe.throw(
          __(
            "No permission to '{0}' {1}",
            [__(action), __(this.doc.doctype)],
            "{0} = verb, {1} = object"
          )
        );
      }
    }
    enable_save() {
      this.save_disabled = false;
      this.toolbar.set_primary_action();
    }
    disable_save(set_dirty = false) {
      this.save_disabled = true;
      this.toolbar.current_status = null;
      this.set_dirty = set_dirty;
      this.page.clear_primary_action();
    }
    disable_form() {
      this.set_read_only();
      for (const field of this.fields) {
        this.set_df_property(field.df.fieldname, "read_only", "1");
      }
      this.disable_save();
    }
    handle_save_fail(btn, on_error) {
      $(btn).prop("disabled", false);
      if (on_error) {
        on_error();
      }
    }
    trigger_link_fields() {
      if (this.is_new() && this.doc.__run_link_triggers) {
        $.each(this.fields_dict, function(fieldname, field) {
          if (field.df.fieldtype == "Link" && this.doc[fieldname]) {
            field.set_value(this.doc[fieldname], true);
          }
        });
        delete this.doc.__run_link_triggers;
      }
    }
    show_conflict_message() {
      if (this.doc.__needs_refresh) {
        if (this.doc.__unsaved) {
          this.dashboard.clear_headline();
          this.dashboard.set_headline_alert(
            `${__("This form has been modified after you have loaded it")}<button class="btn btn-xs btn-primary pull-right" onclick="cur_frm.reload_doc()">${__("Refresh")}</button>`,
            "alert-warning"
          );
        } else {
          this.debounced_reload_doc();
        }
      }
    }
    show_submit_message() {
      if (this.meta.is_submittable && this.perm[0] && this.perm[0].submit && !this.is_dirty() && !this.is_new() && !frappe.model.has_workflow(this.doctype) && this.doc.docstatus === 0) {
        this.dashboard.add_comment(__("Submit this document to confirm"), "blue", true);
      }
    }
    show_web_link() {
      if (!this.doc.__islocal && this.doc.__onload && this.doc.__onload.is_website_generator) {
        this.web_link && this.web_link.remove();
        if (this.doc.__onload.published) {
          this.add_web_link(`/${this.doc.route}`);
        }
      }
    }
    add_web_link(path, label) {
      label = __(label) || __("See on Website");
      this.web_link = this.sidebar.add_user_action(__(label), function() {
      }).attr("href", path || this.doc.route).attr("target", "_blank");
    }
    fetch_permissions() {
      let dt2 = this.parent_doctype ? this.parent_doctype : this.doctype;
      this.perm = frappe.perm.get_perm(dt2, this.doc);
    }
    has_read_permission() {
      if (!this.perm[0].read) {
        return 0;
      }
      return 1;
    }
    check_doctype_conflict(docname) {
      if (this.doctype == "DocType" && docname == "DocType") {
        frappe.msgprint(__("Allowing DocType, DocType. Be careful!"));
      } else if (this.doctype == "DocType") {
        if (frappe.views.formview[docname] || frappe.pages[`List/${docname}`]) {
          window.location.reload();
        }
      } else if (frappe.views.formview.DocType && frappe.views.formview.DocType.frm.opendocs[this.doctype]) {
        window.location.reload();
      }
    }
    rename_notify(dt2, old, name) {
      if (this.meta.istable) {
        return;
      }
      if (this.docname == old) {
        this.docname = name;
      } else {
        return;
      }
      if (this && this.opendocs[old] && frappe.meta.docfield_copy[dt2]) {
        frappe.meta.docfield_copy[dt2][name] = frappe.meta.docfield_copy[dt2][old];
        delete frappe.meta.docfield_copy[dt2][old];
      }
      delete this.opendocs[old];
      this.opendocs[name] = true;
    }
    print_doc() {
      frappe.route_options = {
        frm: this
      };
      frappe.set_route("print", this.doctype, this.doc.name);
    }
    navigate_records(prev) {
      let filters, sort_field, sort_order;
      let list_view = frappe.get_list_view(this.doctype);
      if (list_view) {
        filters = list_view.get_filters_for_args();
        sort_field = list_view.sort_by;
        sort_order = list_view.sort_order;
      } else {
        let list_settings = frappe.get_user_settings(this.doctype).List;
        if (list_settings) {
          filters = list_settings.filters;
          sort_field = list_settings.sort_by;
          sort_order = list_settings.sort_order;
        }
      }
      let args = {
        doctype: this.doctype,
        value: this.docname,
        filters,
        sort_order,
        sort_field,
        prev
      };
      frappe.call("frappe.desk.form.utils.get_next", args).then((r) => {
        if (r.message) {
          frappe.set_route("Form", this.doctype, r.message);
          this.focus_on_first_input();
        }
      });
    }
    rename_doc() {
      frappe.model.rename_doc(this.doctype, this.docname, () => this.refresh_header());
    }
    share_doc() {
      this.shared.show();
    }
    email_doc(message) {
      new frappe.views.CommunicationComposer({
        doc: this.doc,
        frm: this,
        subject: `${__(this.meta.name)}: ${this.docname}`,
        recipients: this.doc.email || this.doc.email_id || this.doc.contact_email,
        attach_document_print: true,
        message
      });
    }
    copy_doc(onload, from_amend) {
      this.validate_form_action("Create");
      let newdoc = frappe.model.copy_doc(this.doc, from_amend);
      newdoc.idx = null;
      newdoc.__run_link_triggers = false;
      if (onload) {
        onload(newdoc);
      }
      frappe.set_route("Form", newdoc.doctype, newdoc.name);
    }
    reload_doc() {
      this.check_doctype_conflict(this.docname);
      if (!this.doc.__islocal) {
        frappe.model.remove_from_locals(this.doctype, this.docname);
        return frappe.model.with_doc(this.doctype, this.docname, () => {
          this.refresh();
        });
      }
    }
    refresh_field(fname) {
      if (this.fields_dict[fname] && this.fields_dict[fname].refresh) {
        this.fields_dict[fname].refresh();
        this.layout.refresh_dependency();
        this.layout.refresh_sections();
      }
    }
    add_fetch(link_field, source_field, target_field, target_doctype) {
      if (!target_doctype) {
        target_doctype = "*";
      }
      this.fetch_dict.setDefault(target_doctype, {}).setDefault(link_field, {})[target_field] = source_field;
    }
    has_perm(ptype) {
      return frappe.perm.has_perm(this.doctype, 0, ptype, this.doc);
    }
    dirty() {
      this.doc.__unsaved = 1;
      this.$wrapper.trigger("dirty");
      if (!frappe.boot.developer_mode) {
        addEventListener("beforeunload", this.beforeUnloadListener, { capture: true });
      }
    }
    get_docinfo() {
      return frappe.model.docinfo[this.doctype][this.docname];
    }
    is_dirty() {
      return Boolean(this.doc.__unsaved);
    }
    is_new() {
      return this.doc.__islocal;
    }
    get_perm(permlevel, access_type) {
      return this.perm[permlevel] ? this.perm[permlevel][access_type] : null;
    }
    set_intro(txt, color) {
      this.dashboard.set_headline_alert(txt, color);
    }
    set_footnote(txt) {
      this.footnote_area = frappe.utils.set_footnote(this.footnote_area, this.body, txt);
    }
    add_custom_button(label, fn, group) {
      if (group && group.indexOf("fa fa-") !== -1) {
        group = null;
      }
      let btn = this.page.add_inner_button(label, fn, group);
      if (btn) {
        let menu_item_label = group ? `${group} > ${label}` : label;
        let menu_item = this.page.add_menu_item(menu_item_label, fn, false);
        menu_item.parent().addClass("hidden-xl");
        this.custom_buttons[label] = btn;
      }
      return btn;
    }
    change_custom_button_type(label, group, type) {
      this.page.change_inner_button_type(label, group, type);
    }
    clear_custom_buttons() {
      this.page.clear_inner_toolbar();
      this.page.clear_user_actions();
      this.custom_buttons = {};
    }
    remove_custom_button(label, group) {
      this.page.remove_inner_button(label, group);
    }
    scroll_to_element() {
      if (frappe.route_options && frappe.route_options.scroll_to) {
        let { scroll_to } = frappe.route_options;
        delete frappe.route_options.scroll_to;
        let selector = [];
        for (let key2 in scroll_to) {
          let value = scroll_to[key2];
          selector.push(repl('[data-%(key)s="%(value)s"]', { key: key2, value }));
        }
        selector = $(selector.join(" "));
        if (selector.length) {
          frappe.utils.scroll_to(selector);
        }
      } else if (window.location.hash) {
        if ($(window.location.hash).length) {
          frappe.utils.scroll_to(window.location.hash, true, 200, null, null, true);
        } else {
          this.scroll_to_field(window.location.hash.replace("#", "")) && history.replaceState(null, null, " ");
        }
      }
    }
    show_success_action() {
      const route = frappe.get_route();
      if (route[0] !== "Form") {
        return;
      }
      if (this.meta.is_submittable && this.doc.docstatus !== 1) {
        return;
      }
      const success_action = new frappe.ui.form.SuccessAction(this);
      success_action.show();
    }
    get_doc() {
      return locals[this.doctype][this.docname];
    }
    set_currency_labels(fields_list, currency, parentfield) {
      if (!currency) {
        return;
      }
      let me2 = this;
      let doctype = parentfield ? this.fields_dict[parentfield].grid.doctype : this.doc.doctype;
      let field_label_map = {};
      let grid_field_label_map = {};
      $.each(fields_list, function(i, fname) {
        let docfield = frappe.meta.docfield_map[doctype][fname];
        if (docfield) {
          var label = __(docfield.label || "").replace(/\([^\)]*\)/g, "");
          if (parentfield) {
            grid_field_label_map[`${doctype}-${fname}`] = `${label.trim()} (${__(currency)})`;
          } else {
            field_label_map[fname] = `${label.trim()} (${currency})`;
          }
        }
      });
      $.each(field_label_map, function(fname, label) {
        me2.fields_dict[fname].set_label(label);
      });
      $.each(grid_field_label_map, function(fname, label) {
        fname = fname.split("-");
        me2.fields_dict[parentfield].grid.update_docfield_property(fname[1], "label", label);
      });
    }
    field_map(fnames, fn) {
      if (typeof fnames === "string") {
        if (fnames == "*") {
          fnames = Object.keys(this.fields_dict);
        } else {
          fnames = [fnames];
        }
      }
      for (let i = 0, l = fnames.length; i < l; i++) {
        let fieldname = fnames[i];
        let field = frappe.meta.get_docfield(this.doctype, fieldname, this.docname);
        if (field) {
          fn(field);
          this.refresh_field(fieldname);
        }
      }
    }
    get_docfield(fieldname1, fieldname2) {
      if (fieldname2) {
        let doctype = this.get_docfield(fieldname1).options;
        return frappe.meta.get_docfield(doctype, fieldname2, this.docname);
      }
      return frappe.meta.get_docfield(this.doctype, fieldname1, this.docname);
    }
    set_df_property(fieldname, property, value, docname, table_field, table_row_name = null) {
      let df;
      if (!docname || !table_field) {
        df = this.get_docfield(fieldname);
      } else {
        const { grid } = this.fields_dict[fieldname];
        const filtered_fields = frappe.utils.filter_dict(grid.docfields, {
          fieldname: table_field
        });
        if (filtered_fields.length) {
          df = frappe.meta.get_docfield(
            filtered_fields[0].parent,
            table_field,
            table_row_name
          );
        }
      }
      if (df && df[property] != value) {
        df[property] = value;
        if (table_field && table_row_name) {
          if (this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name]) {
            this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name].refresh_field(fieldname);
          }
        } else {
          this.refresh_field(fieldname);
        }
      }
    }
    toggle_enable(fnames, enable) {
      this.field_map(fnames, function(field) {
        field.read_only = enable ? 0 : 1;
      });
    }
    toggle_reqd(fnames, mandatory) {
      this.field_map(fnames, function(field) {
        field.reqd = mandatory ? true : false;
      });
    }
    toggle_display(fnames, show) {
      this.field_map(fnames, function(field) {
        field.hidden = show ? 0 : 1;
      });
    }
    get_files() {
      return this.attachments ? frappe.utils.sort(this.attachments.get_attachments(), "file_name", "string") : [];
    }
    set_query(fieldname, opt1, opt2) {
      if (opt2) {
        this.fields_dict[opt1].grid.get_field(fieldname).get_query = opt2;
      } else {
        if (this.fields_dict[fieldname]) {
          this.fields_dict[fieldname].get_query = opt1;
        }
      }
    }
    clear_table(fieldname) {
      frappe.model.clear_table(this.doc, fieldname);
    }
    add_child(fieldname, values) {
      let doc = frappe.model.add_child(
        this.doc,
        frappe.meta.get_docfield(this.doctype, fieldname).options,
        fieldname
      );
      if (values) {
        let d2 = {};
        let unique_keys = ["idx", "name"];
        Object.keys(values).map((key2) => {
          if (!unique_keys.includes(key2)) {
            d2[key2] = values[key2];
          }
        });
        $.extend(doc, d2);
      }
      return doc;
    }
    set_value(field, value, if_missing, skip_dirty_trigger = false) {
      let me2 = this;
      let _set = function(f, v) {
        let fieldobj = me2.fields_dict[f];
        if (fieldobj) {
          if (!if_missing || !frappe.model.has_value(me2.doctype, me2.doc.name, f)) {
            if (frappe.model.table_fields.includes(fieldobj.df.fieldtype) && $.isArray(v)) {
              frappe.model.clear_table(me2.doc, fieldobj.df.fieldname);
              const standard_fields = [
                ...frappe.model.std_fields_list,
                ...frappe.model.child_table_field_list
              ];
              for (const [idx, d2] of v.entries()) {
                let child = frappe.model.add_child(
                  me2.doc,
                  fieldobj.df.options,
                  fieldobj.df.fieldname,
                  idx + 1
                );
                let doc_copy = __spreadValues({}, d2);
                for (const field2 of standard_fields) {
                  delete doc_copy[field2];
                }
                $.extend(child, doc_copy);
              }
              me2.refresh_field(f);
              return Promise.resolve();
            }
            return frappe.model.set_value(
              me2.doctype,
              me2.doc.name,
              f,
              v,
              me2.fieldtype,
              skip_dirty_trigger
            );
          }
        } else {
          frappe.msgprint(__("Field {0} not found.", [f]));
          throw "frm.set_value";
        }
      };
      if (typeof field === "string") {
        return _set(field, value);
      } else if ($.isPlainObject(field)) {
        let tasks = [];
        for (let f in field) {
          let v = field[f];
          if (me2.get_field(f)) {
            tasks.push(() => _set(f, v));
          }
        }
        return frappe.run_serially(tasks);
      }
    }
    call(opts, args, callback) {
      let me2 = this;
      if (typeof opts === "string") {
        opts = {
          method: opts,
          doc: this.doc,
          args,
          callback
        };
      }
      if (opts.doc) {
        opts.original_callback = opts.callback;
        opts.callback = function(r) {
          if (!r.exc) {
            me2.refresh_fields();
          }
          opts.original_callback && opts.original_callback(r);
        };
      } else {
        if (opts.method.indexOf(".") === -1) {
          opts.method = `${frappe.model.get_server_module_name(me2.doctype)}.${opts.method}`;
        }
        opts.original_callback = opts.callback;
        opts.callback = function(r) {
          if ($.isPlainObject(r.message)) {
            if (opts.child) {
              opts.child = locals[opts.child.doctype][opts.child.name];
              let std_field_list = ["doctype"].concat(frappe.model.std_fields_list).concat(frappe.model.child_table_field_list);
              for (let key2 in r.message) {
                if (std_field_list.indexOf(key2) === -1) {
                  opts.child[key2] = r.message[key2];
                }
              }
              me2.fields_dict[opts.child.parentfield].refresh();
            } else {
              me2.set_value(r.message);
            }
          }
          opts.original_callback && opts.original_callback(r);
        };
      }
      return frappe.call(opts);
    }
    get_field(field) {
      return this.fields_dict[field];
    }
    set_read_only() {
      const docperms = frappe.perm.get_perm(this.doc.doctype);
      this.perm = docperms.map((p) => ({
        read: p.read,
        cancel: p.cancel,
        share: p.share,
        print: p.print,
        email: p.email
      }));
    }
    trigger(event, doctype, docname) {
      return this.script_manager.trigger(event, doctype, docname);
    }
    get_formatted(fieldname) {
      return frappe.format(
        this.doc[fieldname],
        frappe.meta.get_docfield(this.doctype, fieldname, this.docname),
        { no_icon: true },
        this.doc
      );
    }
    open_grid_row() {
      return frappe.ui.form.get_open_grid_form();
    }
    get_title() {
      if (this.meta.title_field) {
        return this.doc[this.meta.title_field];
      }
      return String(this.doc.name);
    }
    get_selected() {
      let selected = {}, me2 = this;
      for (const df of frappe.meta.get_table_fields(this.doctype)) {
        let _selected = [];
        if (me2.fields_dict[df.fieldname].grid) {
          _selected = me2.fields_dict[df.fieldname].grid.get_selected();
        }
        if (_selected.length) {
          selected[df.fieldname] = _selected;
        }
      }
      return selected;
    }
    set_indicator_formatter(fieldname, get_color, get_text) {
      let doctype;
      if (frappe.meta.docfield_map[this.doctype][fieldname]) {
        doctype = this.doctype;
      } else {
        frappe.meta.get_table_fields(this.doctype).every(function(df) {
          if (frappe.meta.docfield_map[df.options][fieldname]) {
            doctype = df.options;
            return false;
          }
          return true;
        });
      }
      frappe.meta.docfield_map[doctype][fieldname].formatter = function(value, df, options, doc) {
        if (value) {
          let label;
          if (get_text) {
            label = get_text(doc);
          } else if (frappe.form.link_formatters[df.options]) {
            label = frappe.form.link_formatters[df.options](value, doc);
          } else {
            label = value;
          }
          const escaped_name = encodeURIComponent(value);
          return `
						<a class="indicator ${get_color(doc || {})}"
							href="/app/${frappe.router.slug(df.options)}/${escaped_name}"
							data-doctype="${df.options}"
							data-name="${value}">
							${label}
						</a>
					`;
        }
        return "";
      };
    }
    can_create(doctype) {
      if (!frappe.model.can_create(doctype)) {
        return false;
      }
      if (this.custom_make_buttons && this.custom_make_buttons[doctype]) {
        const key2 = __(this.custom_make_buttons[doctype]);
        return Boolean(this.custom_buttons[key2]);
      }
      if (this.can_make_methods && this.can_make_methods[doctype]) {
        return this.can_make_methods[doctype](this);
      }
      if (this.meta.is_submittable && !this.doc.docstatus == 1) {
        return false;
      }
      return true;
    }
    make_new(doctype) {
      let me2 = this;
      if (this.make_methods && this.make_methods[doctype]) {
        return this.make_methods[doctype](this);
      } else if (this.custom_make_buttons && this.custom_make_buttons[doctype]) {
        this.custom_buttons[__(this.custom_make_buttons[doctype])].trigger("click");
      } else {
        frappe.model.with_doctype(doctype, function() {
          let new_doc = frappe.model.get_new_doc(doctype, null, null, true);
          me2.set_link_field(doctype, new_doc);
          frappe.ui.form.make_quick_entry(doctype, null, null, new_doc);
        });
      }
    }
    set_link_field(doctype, new_doc) {
      let me2 = this;
      for (const df of frappe.get_meta(doctype).fields) {
        if (df.fieldtype === "Link" && df.options === me2.doctype) {
          new_doc[df.fieldname] = me2.doc.name;
        } else if (["Link", "Dynamic Link"].includes(df.fieldtype) && me2.doc[df.fieldname]) {
          new_doc[df.fieldname] = me2.doc[df.fieldname];
        } else if (df.fieldtype === "Table" && df.options && df.reqd) {
          let row = new_doc[df.fieldname][0];
          me2.set_link_field(df.options, row);
        }
      }
    }
    update_in_all_rows(table_fieldname, fieldname, value) {
      if (value === void 0) {
        return;
      }
      for (const child of frappe.model.get_children(this.doc, table_fieldname).filter((child2) => !frappe.model.has_value(child2.doctype, child2.name, fieldname))) {
        frappe.model.set_value(child.doctype, child.name, fieldname, value);
      }
    }
    get_sum(table_fieldname, fieldname) {
      let sum = 0;
      for (let d2 of this.doc[table_fieldname] || []) {
        sum += d2[fieldname];
      }
      return sum;
    }
    scroll_to_field(fieldname, focus = true) {
      var _a;
      let field = this.get_field(fieldname);
      if (!field) {
        return;
      }
      let $el = field.$wrapper;
      if (field.tab && !field.tab.is_active()) {
        field.tab.set_active();
      }
      if ((_a = field.section) == null ? void 0 : _a.is_collapsed()) {
        field.section.collapse(false);
      }
      frappe.utils.scroll_to($el, true, 15);
      if (focus) {
        setTimeout(() => {
          $el.find("input, select, textarea").focus();
        }, 500);
      }
      let control_element = $el.closest(".frappe-control");
      control_element.addClass("highlight");
      setTimeout(() => {
        control_element.removeClass("highlight");
      }, 2e3);
      return true;
    }
    setup_docinfo_change_listener() {
      let { doctype } = this;
      let { docname } = this;
      if (this.doc && !this.is_new()) {
        frappe.socketio.doc_subscribe(doctype, docname);
      }
      frappe.realtime.off("docinfo_update");
      frappe.realtime.on("docinfo_update", ({ doc, key: key2, action = "update" }) => {
        if (!doc.reference_doctype || !doc.reference_name || doc.reference_doctype !== doctype || doc.reference_name !== docname) {
          return;
        }
        let doc_list = frappe.model.docinfo[doctype][docname][key2] || [];
        let docindex = doc_list.findIndex((old_doc) => old_doc.name === doc.name);
        if (action === "add") {
          frappe.model.docinfo[doctype][docname][key2].push(doc);
        }
        if (docindex > -1) {
          if (action === "update") {
            frappe.model.docinfo[doctype][docname][key2].splice(docindex, 1, doc);
          }
          if (action === "delete") {
            frappe.model.docinfo[doctype][docname][key2].splice(docindex, 1);
          }
        }
        if (!(["add", "update"].includes(action) && doc.doctype === "Comment" && doc.owner === frappe.session.user)) {
          this.timeline && this.timeline.refresh();
        }
      });
    }
    set_fields_as_options(fieldname, reference_doctype, filter_function, default_options = [], table_fieldname) {
      if (!reference_doctype) {
        return Promise.resolve();
      }
      let options = default_options || [];
      if (!filter_function) {
        filter_function = (f) => f;
      }
      return new Promise((resolve) => {
        frappe.model.with_doctype(reference_doctype, () => {
          frappe.get_meta(reference_doctype).fields.map((df) => {
            filter_function(df) && options.push({ label: df.label || df.fieldname, value: df.fieldname });
          });
          options && this.set_df_property(
            fieldname,
            "options",
            options,
            this.doc.name,
            table_fieldname
          );
          resolve(options);
        });
      });
    }
    set_active_tab(tab) {
      if (!this.active_tab_map) {
        this.active_tab_map = {};
      }
      this.active_tab_map[this.docname] = tab;
    }
    get_active_tab() {
      return this.active_tab_map && this.active_tab_map[this.docname];
    }
    get_involved_users() {
      let user_fields = this.meta.fields.filter((d2) => d2.fieldtype === "Link" && d2.options === "User").map((d2) => d2.fieldname);
      user_fields = [...user_fields, "owner", "modified_by"];
      let involved_users = user_fields.map((field) => this.doc[field]);
      const docinfo = this.get_docinfo();
      involved_users = involved_users.concat(
        docinfo.communications.map((d2) => d2.sender && d2.delivery_status === "sent"),
        docinfo.comments.map((d2) => d2.owner),
        docinfo.versions.map((d2) => d2.owner),
        docinfo.assignments.map((d2) => d2.owner)
      );
      return involved_users.uniqBy((u) => u).filter((user) => !["Administrator", frappe.session.user].includes(user)).filter(Boolean);
    }
  };
  var Form_default = Form;

  // guigu/public/js/FormDetail/loadDoc.ts
  async function loadDoc(doctype, name) {
    const doc = frappe.get_doc(doctype, name);
    if (doc && frappe.model.get_docinfo(doctype, name) && (doc.__islocal || frappe.model.is_fresh(doc))) {
      return true;
    }
    return new Promise((resolve) => {
      frappe.model.with_doc(doctype, name, (name2, r) => {
        if (r && r["403"]) {
          return resolve(false);
        }
        if (!(locals[doctype] && locals[doctype][name2])) {
          return resolve(false);
        }
        resolve(true);
      });
    });
  }

  // guigu/public/js/FormDetail/useStore.ts
  var import_vue16 = __require("vue");
  var import_pinia = __require("pinia");
  var useStore_default = (0, import_pinia.defineStore)("Guigu:GlobalView:FormDetail", () => {
    const currentTab = (0, import_vue16.shallowRef)("");
    return { currentTab };
  });

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=script
  var Main_default = /* @__PURE__ */ (0, import_vue17.defineComponent)(__spreadProps(__spreadValues({}, { name: "FormDetail" }), {
    __name: "Main",
    props: {
      meta: { type: null, required: true },
      options: { type: Object, required: true },
      value: { type: null, required: true },
      name: { type: String, required: true },
      loading: { type: Boolean, required: false }
    },
    emits: ["refresh", "update:value"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function hide() {
        emit("update:value");
      }
      const detailState = useStore_default();
      const currentTab = (0, import_vue18.computed)({
        get: () => detailState.currentTab,
        set: (s) => {
          detailState.currentTab = s;
        }
      });
      const single_column = (0, import_vue18.computed)(() => {
        var _a;
        return Boolean((_a = props.meta) == null ? void 0 : _a.hide_toolbar);
      });
      const open = (0, import_core.useStorage)(`mainView:FormDetail:sider:${props.meta.name}`, true);
      const tt2 = __;
      const root = (0, import_vue18.shallowRef)();
      let layout;
      const onUpdate = ({ doctype, name, modified }) => {
        if (doctype !== props.meta.name) {
          return;
        }
        if (name !== props.name) {
          return;
        }
        if (!layout) {
          return;
        }
        if (modified === layout.doc.modified) {
          return;
        }
        if (layout.is_dirty()) {
          layout.show_conflict_message();
        } else {
          layout.reload_doc();
        }
      };
      (0, import_vue18.onMounted)(() => {
        const body = root.value;
        if (!body) {
          return;
        }
        const doctype = props.meta.name;
        const { name } = props;
        loadDoc(doctype, name).then((r) => {
          if (!r) {
            return;
          }
          layout = new Form_default(doctype, name, body, hide, currentTab);
          layout.refresh(name);
        });
        frappe.realtime.on("doc_update", onUpdate);
      });
      (0, import_vue18.onUnmounted)(() => {
        frappe.realtime.off("doc_update", onUpdate);
      });
      const __returned__ = { props, emit, hide, detailState, currentTab, single_column, open, tt: tt2, root, get layout() {
        return layout;
      }, set layout(v) {
        layout = v;
      }, onUpdate, Header: Header_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  }));

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=template
  var import_vue19 = __require("vue");
  var _hoisted_110 = { ref: "root" };
  var _hoisted_26 = { class: "container page-body" };
  var _hoisted_35 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "page-toolbar hide" }, [
    /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "container" })
  ], -1);
  var _hoisted_45 = { class: "page-wrapper" };
  var _hoisted_53 = { class: "page-content" };
  var _hoisted_63 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "workflow-button-area btn-group pull-right hide" }, null, -1);
  var _hoisted_72 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "clearfix" }, null, -1);
  var _hoisted_82 = { class: "row layout-main" };
  var _hoisted_92 = /* @__PURE__ */ (0, import_vue19.createStaticVNode)('<div class="col layout-main-section-wrapper"><div class="layout-main-section"><div><div class="std-form-layout"><div class="form-layout"><div class="form-message hidden"></div><div class="form-page"></div></div></div></div></div><div class="layout-footer hide"></div></div>', 1);
  var _hoisted_102 = ["hidden"];
  function render6(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue19.openBlock)(), (0, import_vue19.createElementBlock)("div", _hoisted_110, [
      (0, import_vue19.createVNode)($setup["Header"], {
        open: $setup.open,
        "onUpdate:open": _cache[0] || (_cache[0] = ($event) => $setup.open = $event),
        hasSider: !$setup.single_column,
        onHide: $setup.hide
      }, null, 8, ["open", "hasSider"]),
      (0, import_vue19.createElementVNode)("div", _hoisted_26, [
        _hoisted_35,
        (0, import_vue19.createElementVNode)("div", _hoisted_45, [
          (0, import_vue19.createElementVNode)("div", _hoisted_53, [
            _hoisted_63,
            _hoisted_72,
            (0, import_vue19.createElementVNode)("div", _hoisted_82, [
              _hoisted_92,
              !$setup.single_column ? ((0, import_vue19.openBlock)(), (0, import_vue19.createElementBlock)("div", {
                key: 0,
                hidden: !$setup.open,
                class: "col-lg-2 layout-side-section"
              }, null, 8, _hoisted_102)) : (0, import_vue19.createCommentVNode)("v-if", true)
            ])
          ])
        ])
      ])
    ], 512);
  }

  // guigu/public/js/FormDetail/Main.vue
  Main_default.render = render6;
  Main_default.__file = "guigu/public/js/FormDetail/Main.vue";
  var Main_default2 = Main_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=script
  var FormDetail_default = /* @__PURE__ */ (0, import_vue20.defineComponent)(__spreadProps(__spreadValues({}, { name: "FormDetail:Root", inheritAttrs: false }), {
    __name: "index",
    props: {
      meta: { type: null, required: true },
      options: { type: Object, required: true },
      value: { type: null, required: false },
      loading: { type: Boolean, required: false },
      linkField: { type: String, required: false }
    },
    emits: ["refresh", "update:value"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function refresh() {
        emit("refresh");
      }
      const doc = (0, import_vue21.computed)({
        get: () => props.value,
        set: (v) => emit("update:value", v)
      });
      let docMetaLoadingDoctype = "";
      let DocTypeLoadingId = 0;
      const linkField = (0, import_vue21.computed)(() => props.linkField);
      const docMetaLoading = (0, import_vue21.shallowRef)();
      const link = (0, import_vue21.computed)(() => getLink(doc.value, props.meta, linkField.value));
      const name = (0, import_vue21.computed)(() => {
        var _a, _b;
        return ((_a = link.value) == null ? void 0 : _a[1]) || ((_b = doc.value) == null ? void 0 : _b.name);
      });
      (0, import_vue21.watch)(() => {
        var _a;
        return (_a = link.value) == null ? void 0 : _a[0];
      }, (doctype) => {
        if (!doctype) {
          return;
        }
        if (doctype === docMetaLoadingDoctype) {
          return;
        }
        docMetaLoadingDoctype = doctype;
        docMetaLoading.value = void 0;
        DocTypeLoadingId++;
        const id = DocTypeLoadingId;
        (async () => {
          await new Promise((r) => frappe.model.with_doctype(doctype, r));
          const meta = frappe.get_doc("DocType", doctype);
          if (id !== DocTypeLoadingId) {
            return;
          }
          if (docMetaLoadingDoctype !== doctype) {
            return;
          }
          docMetaLoading.value = meta || void 0;
        })();
      }, { immediate: true });
      const docMeta = (0, import_vue21.computed)(() => {
        var _a;
        const doctype = (_a = link.value) == null ? void 0 : _a[0];
        if (!doctype) {
          return props.meta;
        }
        if (doctype !== docMetaLoadingDoctype) {
          return;
        }
        return docMetaLoading.value;
      });
      const __returned__ = { props, emit, refresh, doc, get docMetaLoadingDoctype() {
        return docMetaLoadingDoctype;
      }, set docMetaLoadingDoctype(v) {
        docMetaLoadingDoctype = v;
      }, get DocTypeLoadingId() {
        return DocTypeLoadingId;
      }, set DocTypeLoadingId(v) {
        DocTypeLoadingId = v;
      }, linkField, docMetaLoading, link, name, docMeta, Main: Main_default2 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  }));

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=template
  var import_vue22 = __require("vue");
  function render7(_ctx, _cache, $props, $setup, $data, $options) {
    return $props.value && $setup.docMeta && $setup.name ? ((0, import_vue22.openBlock)(), (0, import_vue22.createBlock)($setup["Main"], {
      key: `${$setup.docMeta.name}:${$props.value.name}`,
      meta: $setup.docMeta,
      options: $props.options,
      loading: $props.loading,
      name: $setup.name,
      value: $setup.doc,
      "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $setup.doc = $event),
      onRefresh: $setup.refresh
    }, null, 8, ["meta", "options", "loading", "name", "value"])) : (0, import_vue22.createCommentVNode)("v-if", true);
  }

  // guigu/public/js/FormDetail/index.vue
  FormDetail_default.render = render7;
  FormDetail_default.__file = "guigu/public/js/FormDetail/index.vue";
  var FormDetail_default2 = FormDetail_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=script
  var Detail_default = /* @__PURE__ */ (0, import_vue23.defineComponent)({
    __name: "Detail",
    props: {
      doctype: { type: String, required: true },
      name: { type: String, required: false }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const meta = (0, import_vue24.shallowRef)();
      const detail = (0, import_vue24.ref)();
      const loading = (0, import_vue24.ref)(false);
      (0, import_vue24.watch)(() => props.doctype, () => {
        getMeta(props.doctype);
      }, { immediate: true });
      (0, import_vue24.watch)(() => props.name, () => {
        getDetail();
      }, { immediate: true });
      async function getDetail() {
        loading.value = true;
        if (!props.name) {
          detail.value = void 0;
          loading.value = false;
          return;
        }
        detail.value = await frappe.db.get_doc(props.doctype, props.name);
        loading.value = false;
      }
      async function getMeta(doctype) {
        if (!doctype) {
          return;
        }
        let local_meta = frappe.get_meta(doctype);
        if (local_meta) {
          local_meta.hide_toolbar = true;
          meta.value = local_meta;
          return;
        }
        await frappe.model.with_doctype(doctype);
        local_meta = frappe.get_meta(doctype);
        local_meta.hide_toolbar = true;
        meta.value = local_meta || void 0;
      }
      const __returned__ = { meta, props, detail, loading, getDetail, getMeta, get FormDetail() {
        return FormDetail_default2;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=style&index=0
  var Detail_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=template
  var import_vue25 = __require("vue");
  var _hoisted_111 = { class: "form-container" };
  function render8(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue25.openBlock)(), (0, import_vue25.createElementBlock)("div", _hoisted_111, [
      $setup.meta && $setup.detail ? ((0, import_vue25.openBlock)(), (0, import_vue25.createBlock)($setup["FormDetail"], {
        key: 0,
        loading: $setup.loading,
        meta: $setup.meta,
        options: {},
        value: $setup.detail
      }, null, 8, ["loading", "meta", "value"])) : (0, import_vue25.createCommentVNode)("v-if", true)
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue
  Detail_default2(Detail_default);
  Detail_default.render = render8;
  Detail_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue";
  Detail_default.__scopeId = "data-v-c54e1258";
  var Detail_default3 = Detail_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=script
  var import_vue26 = __require("vue");
  var import_vue27 = __require("vue");

  // ../frappe/node_modules/@editorjs/editorjs/dist/editorjs.mjs
  var Lt = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
  function xe(s) {
    return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
  }
  function Be() {
  }
  Object.assign(Be, {
    default: Be,
    register: Be,
    revert: function() {
    },
    __esModule: true
  });
  Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(s) {
    const e = (this.document || this.ownerDocument).querySelectorAll(s);
    let t = e.length;
    for (; --t >= 0 && e.item(t) !== this; )
      ;
    return t > -1;
  });
  Element.prototype.closest || (Element.prototype.closest = function(s) {
    let e = this;
    if (!document.documentElement.contains(e))
      return null;
    do {
      if (e.matches(s))
        return e;
      e = e.parentElement || e.parentNode;
    } while (e !== null);
    return null;
  });
  Element.prototype.prepend || (Element.prototype.prepend = function(e) {
    const t = document.createDocumentFragment();
    Array.isArray(e) || (e = [e]), e.forEach((o) => {
      const i = o instanceof Node;
      t.appendChild(i ? o : document.createTextNode(o));
    }), this.insertBefore(t, this.firstChild);
  });
  Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(s) {
    s = arguments.length === 0 ? true : !!s;
    const e = this.parentNode, t = window.getComputedStyle(e, null), o = parseInt(t.getPropertyValue("border-top-width")), i = parseInt(t.getPropertyValue("border-left-width")), n = this.offsetTop - e.offsetTop < e.scrollTop, r = this.offsetTop - e.offsetTop + this.clientHeight - o > e.scrollTop + e.clientHeight, a = this.offsetLeft - e.offsetLeft < e.scrollLeft, l = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c = n && !r;
    (n || r) && s && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o + this.clientHeight / 2), (a || l) && s && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (n || r || a || l) && !s && this.scrollIntoView(c);
  });
  var Ot = (s = 21) => crypto.getRandomValues(new Uint8Array(s)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += "-" : e += "_", e), "");
  var et = /* @__PURE__ */ ((s) => (s.VERBOSE = "VERBOSE", s.INFO = "INFO", s.WARN = "WARN", s.ERROR = "ERROR", s))(et || {});
  var B = {
    BACKSPACE: 8,
    TAB: 9,
    ENTER: 13,
    SHIFT: 16,
    CTRL: 17,
    ALT: 18,
    ESC: 27,
    SPACE: 32,
    LEFT: 37,
    UP: 38,
    DOWN: 40,
    RIGHT: 39,
    DELETE: 46,
    META: 91
  };
  var _t = {
    LEFT: 0,
    WHEEL: 1,
    RIGHT: 2,
    BACKWARD: 3,
    FORWARD: 4
  };
  function ge(s, e, t = "log", o, i = "color: inherit") {
    if (!("console" in window) || !window.console[t])
      return;
    const n = ["info", "log", "warn", "error"].includes(t), r = [];
    switch (ge.logLevel) {
      case "ERROR":
        if (t !== "error")
          return;
        break;
      case "WARN":
        if (!["error", "warn"].includes(t))
          return;
        break;
      case "INFO":
        if (!n || s)
          return;
        break;
    }
    o && r.push(o);
    const a = "Editor.js 2.27.0", l = `line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;
    s && (n ? (r.unshift(l, i), e = `%c${a}%c ${e}`) : e = `( ${a} )${e}`);
    try {
      n ? o ? console[t](`${e} %o`, ...r) : console[t](e, ...r) : console[t](e);
    } catch (e2) {
    }
  }
  ge.logLevel = "VERBOSE";
  function At(s) {
    ge.logLevel = s;
  }
  var T = ge.bind(window, false);
  var K = ge.bind(window, true);
  function te(s) {
    return Object.prototype.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
  }
  function D(s) {
    return te(s) === "function" || te(s) === "asyncfunction";
  }
  function j(s) {
    return te(s) === "object";
  }
  function J(s) {
    return te(s) === "string";
  }
  function Nt(s) {
    return te(s) === "boolean";
  }
  function Ve(s) {
    return te(s) === "number";
  }
  function Ze(s) {
    return te(s) === "undefined";
  }
  function V(s) {
    return s ? Object.keys(s).length === 0 && s.constructor === Object : true;
  }
  function tt(s) {
    return s > 47 && s < 58 || s === 32 || s === 13 || s === 229 || s > 64 && s < 91 || s > 95 && s < 112 || s > 185 && s < 193 || s > 218 && s < 223;
  }
  async function ot(s, e = () => {
  }, t = () => {
  }) {
    async function o(i, n, r) {
      try {
        await i.function(i.data), await n(Ze(i.data) ? {} : i.data);
      } catch (e2) {
        r(Ze(i.data) ? {} : i.data);
      }
    }
    return s.reduce(async (i, n) => (await i, o(n, e, t)), Promise.resolve());
  }
  function it(s) {
    return Array.prototype.slice.call(s);
  }
  function oe(s, e) {
    return function() {
      const t = this, o = arguments;
      window.setTimeout(() => s.apply(t, o), e);
    };
  }
  function Rt(s) {
    return s.name.split(".").pop();
  }
  function Dt(s) {
    return /^[-\w]+\/([-+\w]+|\*)$/.test(s);
  }
  function Pt(s, e, t) {
    let o;
    return (...i) => {
      const n = this, r = () => {
        o = null, t || s.apply(n, i);
      }, a = t && !o;
      window.clearTimeout(o), o = window.setTimeout(r, e), a && s.apply(n, i);
    };
  }
  function Te(s, e, t = void 0) {
    let o, i, n, r = null, a = 0;
    t || (t = {});
    const l = function() {
      a = t.leading === false ? 0 : Date.now(), r = null, n = s.apply(o, i), r || (o = i = null);
    };
    return function() {
      const c = Date.now();
      !a && t.leading === false && (a = c);
      const u = e - (c - a);
      return o = this, i = arguments, u <= 0 || u > e ? (r && (clearTimeout(r), r = null), a = c, n = s.apply(o, i), r || (o = i = null)) : !r && t.trailing !== false && (r = setTimeout(l, u)), n;
    };
  }
  function Ft() {
    const s = {
      win: false,
      mac: false,
      x11: false,
      linux: false
    }, e = Object.keys(s).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);
    return e && (s[e] = true), s;
  }
  function ke(s) {
    return s[0].toUpperCase() + s.slice(1);
  }
  function Se(s, ...e) {
    if (!e.length)
      return s;
    const t = e.shift();
    if (j(s) && j(t))
      for (const o in t)
        j(t[o]) ? (s[o] || Object.assign(s, { [o]: {} }), Se(s[o], t[o])) : Object.assign(s, { [o]: t[o] });
    return Se(s, ...e);
  }
  function nt(s) {
    const e = Ft();
    return s = s.replace(/shift/gi, "\u21E7").replace(/backspace/gi, "\u232B").replace(/enter/gi, "\u23CE").replace(/up/gi, "\u2191").replace(/left/gi, "\u2192").replace(/down/gi, "\u2193").replace(/right/gi, "\u2190").replace(/escape/gi, "\u238B").replace(/insert/gi, "Ins").replace(/delete/gi, "\u2421").replace(/\+/gi, " + "), e.mac ? s = s.replace(/ctrl|cmd/gi, "\u2318").replace(/alt/gi, "\u2325") : s = s.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), s;
  }
  function Ht(s) {
    try {
      return new URL(s).href;
    } catch (e) {
    }
    return s.substring(0, 2) === "//" ? window.location.protocol + s : window.location.origin + s;
  }
  function zt() {
    return Ot(10);
  }
  function jt(s) {
    window.open(s, "_blank");
  }
  function Ut(s = "") {
    return `${s}${Math.floor(Math.random() * 1e8).toString(16)}`;
  }
  function Ie(s, e, t) {
    const o = `\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;
    s && K(o, "warn");
  }
  function ae(s, e, t) {
    const o = t.value ? "value" : "get", i = t[o], n = `#${e}Cache`;
    if (t[o] = function(...r) {
      return this[n] === void 0 && (this[n] = i.apply(this, ...r)), this[n];
    }, o === "get" && t.set) {
      const r = t.set;
      t.set = function(a) {
        delete s[n], r.apply(this, a);
      };
    }
    return t;
  }
  var st = 650;
  function ee() {
    return window.matchMedia(`(max-width: ${st}px)`).matches;
  }
  var Ge = typeof window < "u" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
  function $t(s, e) {
    const t = Array.isArray(s) || j(s), o = Array.isArray(e) || j(e);
    return t || o ? JSON.stringify(s) === JSON.stringify(e) : s === e;
  }
  var d = class {
    static isSingleTag(e) {
      return e.tagName && [
        "AREA",
        "BASE",
        "BR",
        "COL",
        "COMMAND",
        "EMBED",
        "HR",
        "IMG",
        "INPUT",
        "KEYGEN",
        "LINK",
        "META",
        "PARAM",
        "SOURCE",
        "TRACK",
        "WBR"
      ].includes(e.tagName);
    }
    static isLineBreakTag(e) {
      return e && e.tagName && [
        "BR",
        "WBR"
      ].includes(e.tagName);
    }
    static make(e, t = null, o = {}) {
      const i = document.createElement(e);
      Array.isArray(t) ? i.classList.add(...t) : t && i.classList.add(t);
      for (const n in o)
        Object.prototype.hasOwnProperty.call(o, n) && (i[n] = o[n]);
      return i;
    }
    static text(e) {
      return document.createTextNode(e);
    }
    static append(e, t) {
      Array.isArray(t) ? t.forEach((o) => e.appendChild(o)) : e.appendChild(t);
    }
    static prepend(e, t) {
      Array.isArray(t) ? (t = t.reverse(), t.forEach((o) => e.prepend(o))) : e.prepend(t);
    }
    static swap(e, t) {
      const o = document.createElement("div"), i = e.parentNode;
      i.insertBefore(o, e), i.insertBefore(e, t), i.insertBefore(t, o), i.removeChild(o);
    }
    static find(e = document, t) {
      return e.querySelector(t);
    }
    static get(e) {
      return document.getElementById(e);
    }
    static findAll(e = document, t) {
      return e.querySelectorAll(t);
    }
    static get allInputsSelector() {
      return "[contenteditable=true], textarea, input:not([type]), " + ["text", "password", "email", "number", "search", "tel", "url"].map((t) => `input[type="${t}"]`).join(", ");
    }
    static findAllInputs(e) {
      return it(e.querySelectorAll(d.allInputsSelector)).reduce((t, o) => d.isNativeInput(o) || d.containsOnlyInlineElements(o) ? [...t, o] : [...t, ...d.getDeepestBlockElements(o)], []);
    }
    static getDeepestNode(e, t = false) {
      const o = t ? "lastChild" : "firstChild", i = t ? "previousSibling" : "nextSibling";
      if (e && e.nodeType === Node.ELEMENT_NODE && e[o]) {
        let n = e[o];
        if (d.isSingleTag(n) && !d.isNativeInput(n) && !d.isLineBreakTag(n))
          if (n[i])
            n = n[i];
          else if (n.parentNode[i])
            n = n.parentNode[i];
          else
            return n.parentNode;
        return this.getDeepestNode(n, t);
      }
      return e;
    }
    static isElement(e) {
      return Ve(e) ? false : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;
    }
    static isFragment(e) {
      return Ve(e) ? false : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
    }
    static isContentEditable(e) {
      return e.contentEditable === "true";
    }
    static isNativeInput(e) {
      const t = [
        "INPUT",
        "TEXTAREA"
      ];
      return e && e.tagName ? t.includes(e.tagName) : false;
    }
    static canSetCaret(e) {
      let t = true;
      if (d.isNativeInput(e))
        switch (e.type) {
          case "file":
          case "checkbox":
          case "radio":
          case "hidden":
          case "submit":
          case "button":
          case "image":
          case "reset":
            t = false;
            break;
        }
      else
        t = d.isContentEditable(e);
      return t;
    }
    static isNodeEmpty(e) {
      let t;
      return this.isSingleTag(e) && !this.isLineBreakTag(e) ? false : (this.isElement(e) && this.isNativeInput(e) ? t = e.value : t = e.textContent.replace("\u200B", ""), t.trim().length === 0);
    }
    static isLeaf(e) {
      return e ? e.childNodes.length === 0 : false;
    }
    static isEmpty(e) {
      e.normalize();
      const t = [e];
      for (; t.length > 0; )
        if (e = t.shift(), !!e) {
          if (this.isLeaf(e) && !this.isNodeEmpty(e))
            return false;
          e.childNodes && t.push(...Array.from(e.childNodes));
        }
      return true;
    }
    static isHTMLString(e) {
      const t = d.make("div");
      return t.innerHTML = e, t.childElementCount > 0;
    }
    static getContentLength(e) {
      return d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;
    }
    static get blockElements() {
      return [
        "address",
        "article",
        "aside",
        "blockquote",
        "canvas",
        "div",
        "dl",
        "dt",
        "fieldset",
        "figcaption",
        "figure",
        "footer",
        "form",
        "h1",
        "h2",
        "h3",
        "h4",
        "h5",
        "h6",
        "header",
        "hgroup",
        "hr",
        "li",
        "main",
        "nav",
        "noscript",
        "ol",
        "output",
        "p",
        "pre",
        "ruby",
        "section",
        "table",
        "tbody",
        "thead",
        "tr",
        "tfoot",
        "ul",
        "video"
      ];
    }
    static containsOnlyInlineElements(e) {
      let t;
      J(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
      const o = (i) => !d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o);
      return Array.from(t.children).every(o);
    }
    static getDeepestBlockElements(e) {
      return d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o) => [...t, ...d.getDeepestBlockElements(o)], []);
    }
    static getHolder(e) {
      return J(e) ? document.getElementById(e) : e;
    }
    static isAnchor(e) {
      return e.tagName.toLowerCase() === "a";
    }
    static offset(e) {
      const t = e.getBoundingClientRect(), o = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, n = t.top + i, r = t.left + o;
      return {
        top: n,
        left: r,
        bottom: n + t.height,
        right: r + t.width
      };
    }
  };
  var Wt = {
    blockTunes: {
      toggler: {
        "Click to tune": "",
        "or drag to move": ""
      }
    },
    inlineToolbar: {
      converter: {
        "Convert to": ""
      }
    },
    toolbar: {
      toolbox: {
        Add: ""
      }
    },
    popover: {
      Filter: "",
      "Nothing found": ""
    }
  };
  var Yt = {
    Text: "",
    Link: "",
    Bold: "",
    Italic: ""
  };
  var Kt = {
    link: {
      "Add a link": ""
    },
    stub: {
      "The block can not be displayed correctly.": ""
    }
  };
  var Xt = {
    delete: {
      Delete: "",
      "Click to delete": ""
    },
    moveUp: {
      "Move up": ""
    },
    moveDown: {
      "Move down": ""
    }
  };
  var rt = {
    ui: Wt,
    toolNames: Yt,
    tools: Kt,
    blockTunes: Xt
  };
  var ie = class {
    static ui(s, e) {
      return ie._t(s, e);
    }
    static t(s, e) {
      return ie._t(s, e);
    }
    static setDictionary(s) {
      ie.currentDictionary = s;
    }
    static _t(s, e) {
      const t = ie.getNamespace(s);
      return !t || !t[e] ? e : t[e];
    }
    static getNamespace(s) {
      return s.split(".").reduce((t, o) => !t || !Object.keys(t).length ? {} : t[o], ie.currentDictionary);
    }
  };
  var $2 = ie;
  $2.currentDictionary = rt;
  var at = class extends Error {
  };
  var we = class {
    constructor() {
      this.subscribers = {};
    }
    on(e, t) {
      e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);
    }
    once(e, t) {
      e in this.subscribers || (this.subscribers[e] = []);
      const o = (i) => {
        const n = t(i), r = this.subscribers[e].indexOf(o);
        return r !== -1 && this.subscribers[e].splice(r, 1), n;
      };
      this.subscribers[e].push(o);
    }
    emit(e, t) {
      V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o, i) => {
        const n = i(o);
        return n !== void 0 ? n : o;
      }, t);
    }
    off(e, t) {
      for (let o = 0; o < this.subscribers[e].length; o++)
        if (this.subscribers[e][o] === t) {
          delete this.subscribers[e][o];
          break;
        }
    }
    destroy() {
      this.subscribers = null;
    }
  };
  function he(s) {
    Object.setPrototypeOf(this, {
      get id() {
        return s.id;
      },
      get name() {
        return s.name;
      },
      get config() {
        return s.config;
      },
      get holder() {
        return s.holder;
      },
      get isEmpty() {
        return s.isEmpty;
      },
      get selected() {
        return s.selected;
      },
      set stretched(t) {
        s.stretched = t;
      },
      get stretched() {
        return s.stretched;
      },
      call(t, o) {
        return s.call(t, o);
      },
      save() {
        return s.save();
      },
      validate(t) {
        return s.validate(t);
      },
      dispatchChange() {
        s.dispatchChange();
      }
    });
  }
  var Re = class {
    constructor() {
      this.allListeners = [];
    }
    on(e, t, o, i = false) {
      const n = Ut("l"), r = {
        id: n,
        element: e,
        eventType: t,
        handler: o,
        options: i
      };
      if (!this.findOne(e, t, o))
        return this.allListeners.push(r), e.addEventListener(t, o, i), n;
    }
    off(e, t, o, i) {
      const n = this.findAll(e, t, o);
      n.forEach((r, a) => {
        const l = this.allListeners.indexOf(n[a]);
        l > -1 && (this.allListeners.splice(l, 1), r.element.removeEventListener(r.eventType, r.handler, r.options));
      });
    }
    offById(e) {
      const t = this.findById(e);
      t && t.element.removeEventListener(t.eventType, t.handler, t.options);
    }
    findOne(e, t, o) {
      const i = this.findAll(e, t, o);
      return i.length > 0 ? i[0] : null;
    }
    findAll(e, t, o) {
      let i;
      const n = e ? this.findByEventTarget(e) : [];
      return e && t && o ? i = n.filter((r) => r.eventType === t && r.handler === o) : e && t ? i = n.filter((r) => r.eventType === t) : i = n, i;
    }
    removeAll() {
      this.allListeners.map((e) => {
        e.element.removeEventListener(e.eventType, e.handler, e.options);
      }), this.allListeners = [];
    }
    destroy() {
      this.removeAll();
    }
    findByEventTarget(e) {
      return this.allListeners.filter((t) => {
        if (t.element === e)
          return t;
      });
    }
    findByType(e) {
      return this.allListeners.filter((t) => {
        if (t.eventType === e)
          return t;
      });
    }
    findByHandler(e) {
      return this.allListeners.filter((t) => {
        if (t.handler === e)
          return t;
      });
    }
    findById(e) {
      return this.allListeners.find((t) => t.id === e);
    }
  };
  var S = class {
    constructor({ config: e, eventsDispatcher: t }) {
      if (this.nodes = {}, this.listeners = new Re(), this.readOnlyMutableListeners = {
        on: (o, i, n, r = false) => {
          this.mutableListenerIds.push(
            this.listeners.on(o, i, n, r)
          );
        },
        clearAll: () => {
          for (const o of this.mutableListenerIds)
            this.listeners.offById(o);
          this.mutableListenerIds = [];
        }
      }, this.mutableListenerIds = [], new.target === S)
        throw new TypeError("Constructors for abstract class Module are not allowed.");
      this.config = e, this.eventsDispatcher = t;
    }
    set state(e) {
      this.Editor = e;
    }
    removeAllNodes() {
      for (const e in this.nodes) {
        const t = this.nodes[e];
        t instanceof HTMLElement && t.remove();
      }
    }
    get isRtl() {
      return this.config.i18n.direction === "rtl";
    }
  };
  var m = class {
    constructor() {
      this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = false, this.commandBackground = "backColor", this.commandRemoveFormat = "removeFormat";
    }
    static get CSS() {
      return {
        editorWrapper: "codex-editor",
        editorZone: "codex-editor__redactor"
      };
    }
    static get anchorNode() {
      const e = window.getSelection();
      return e ? e.anchorNode : null;
    }
    static get anchorElement() {
      const e = window.getSelection();
      if (!e)
        return null;
      const t = e.anchorNode;
      return t ? d.isElement(t) ? t : t.parentElement : null;
    }
    static get anchorOffset() {
      const e = window.getSelection();
      return e ? e.anchorOffset : null;
    }
    static get isCollapsed() {
      const e = window.getSelection();
      return e ? e.isCollapsed : null;
    }
    static get isAtEditor() {
      return this.isSelectionAtEditor(m.get());
    }
    static isSelectionAtEditor(e) {
      if (!e)
        return false;
      let t = e.anchorNode || e.focusNode;
      t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
      let o = null;
      return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
    }
    static isRangeAtEditor(e) {
      if (!e)
        return;
      let t = e.startContainer;
      t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
      let o = null;
      return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
    }
    static get isSelectionExists() {
      return !!m.get().anchorNode;
    }
    static get range() {
      return this.getRangeFromSelection(this.get());
    }
    static getRangeFromSelection(e) {
      return e && e.rangeCount ? e.getRangeAt(0) : null;
    }
    static get rect() {
      let e = document.selection, t, o = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };
      if (e && e.type !== "Control")
        return e = e, t = e.createRange(), o.x = t.boundingLeft, o.y = t.boundingTop, o.width = t.boundingWidth, o.height = t.boundingHeight, o;
      if (!window.getSelection)
        return T("Method window.getSelection is not supported", "warn"), o;
      if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))
        return T("Method SelectionUtils.rangeCount is not supported", "warn"), o;
      if (e.rangeCount === 0)
        return o;
      if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o = t.getBoundingClientRect()), o.x === 0 && o.y === 0) {
        const i = document.createElement("span");
        if (i.getBoundingClientRect) {
          i.appendChild(document.createTextNode("\u200B")), t.insertNode(i), o = i.getBoundingClientRect();
          const n = i.parentNode;
          n.removeChild(i), n.normalize();
        }
      }
      return o;
    }
    static get text() {
      return window.getSelection ? window.getSelection().toString() : "";
    }
    static get() {
      return window.getSelection();
    }
    static setCursor(e, t = 0) {
      const o = document.createRange(), i = window.getSelection();
      return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o.setStart(e, t), o.setEnd(e, t), i.removeAllRanges(), i.addRange(o), o.getBoundingClientRect());
    }
    static isRangeInsideContainer(e) {
      const t = m.range;
      return t === null ? false : e.contains(t.startContainer);
    }
    static addFakeCursor() {
      const e = m.range;
      if (e === null)
        return;
      const t = d.make("span", "codex-editor__fake-cursor");
      t.dataset.mutationFree = "true", e.collapse(), e.insertNode(t);
    }
    static isFakeCursorInsideContainer(e) {
      return d.find(e, ".codex-editor__fake-cursor") !== null;
    }
    static removeFakeCursor(e = document.body) {
      const t = d.find(e, ".codex-editor__fake-cursor");
      t && t.remove();
    }
    removeFakeBackground() {
      this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = false, document.execCommand(this.commandRemoveFormat));
    }
    setFakeBackground() {
      document.execCommand(this.commandBackground, false, "#a8d6ff"), this.isFakeBackgroundEnabled = true;
    }
    save() {
      this.savedSelectionRange = m.range;
    }
    restore() {
      if (!this.savedSelectionRange)
        return;
      const e = window.getSelection();
      e.removeAllRanges(), e.addRange(this.savedSelectionRange);
    }
    clearSaved() {
      this.savedSelectionRange = null;
    }
    collapseToEnd() {
      const e = window.getSelection(), t = document.createRange();
      t.selectNodeContents(e.focusNode), t.collapse(false), e.removeAllRanges(), e.addRange(t);
    }
    findParentTag(e, t, o = 10) {
      const i = window.getSelection();
      let n = null;
      return !i || !i.anchorNode || !i.focusNode ? null : ([
        i.anchorNode,
        i.focusNode
      ].forEach((a) => {
        let l = o;
        for (; l > 0 && a.parentNode && !(a.tagName === e && (n = a, t && a.classList && !a.classList.contains(t) && (n = null), n)); )
          a = a.parentNode, l--;
      }), n);
    }
    expandToTag(e) {
      const t = window.getSelection();
      t.removeAllRanges();
      const o = document.createRange();
      o.selectNodeContents(e), t.addRange(o);
    }
  };
  function Vt(s, e) {
    const { type: t, target: o, addedNodes: i, removedNodes: n } = s;
    if (["characterData", "attributes"].includes(t)) {
      const l = o.nodeType === Node.TEXT_NODE ? o.parentNode : o;
      return e.contains(l);
    }
    const r = Array.from(i).some((l) => e.contains(l)), a = Array.from(n).some((l) => e.contains(l));
    return r || a;
  }
  var Me = "redactor dom changed";
  var lt = "block changed";
  var ct = "fake cursor is about to be toggled";
  var dt = "fake cursor have been set";
  var q = /* @__PURE__ */ ((s) => (s.APPEND_CALLBACK = "appendCallback", s.RENDERED = "rendered", s.MOVED = "moved", s.UPDATED = "updated", s.REMOVED = "removed", s.ON_PASTE = "onPaste", s))(q || {});
  var F = class extends we {
    constructor({
      id: e = zt(),
      data: t,
      tool: o,
      api: i,
      readOnly: n,
      tunesData: r
    }, a) {
      super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {
        this.dropInputsCache(), this.updateCurrentInput();
      }, this.didMutated = (l = void 0) => {
        const c = l === void 0, u = l instanceof InputEvent;
        !c && !u && this.detectToolRootChange(l);
        let h;
        c || u ? h = true : h = !(l.length > 0 && l.every((v) => {
          const { addedNodes: p, removedNodes: k } = v;
          return [
            ...Array.from(p),
            ...Array.from(k)
          ].some((A) => d.isElement(A) ? A.dataset.mutationFree === "true" : false);
        })), h && (this.dropInputsCache(), this.updateCurrentInput(), this.call(
          "updated"
        ), this.emit("didMutated", this));
      }, this.name = o.name, this.id = e, this.settings = o.settings, this.config = o.settings.config || {}, this.api = i, this.editorEventBus = a || null, this.blockAPI = new he(this), this.tool = o, this.toolInstance = o.create(t, this.blockAPI, n), this.tunes = o.tunes, this.composeTunes(r), this.holder = this.compose(), this.watchBlockMutations(), this.addInputEvents();
    }
    static get CSS() {
      return {
        wrapper: "ce-block",
        wrapperStretched: "ce-block--stretched",
        content: "ce-block__content",
        focused: "ce-block--focused",
        selected: "ce-block--selected",
        dropTarget: "ce-block--drop-target"
      };
    }
    get inputs() {
      if (this.cachedInputs.length !== 0)
        return this.cachedInputs;
      const e = d.findAllInputs(this.holder);
      return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;
    }
    get currentInput() {
      return this.inputs[this.inputIndex];
    }
    set currentInput(e) {
      const t = this.inputs.findIndex((o) => o === e || o.contains(e));
      t !== -1 && (this.inputIndex = t);
    }
    get firstInput() {
      return this.inputs[0];
    }
    get lastInput() {
      const e = this.inputs;
      return e[e.length - 1];
    }
    get nextInput() {
      return this.inputs[this.inputIndex + 1];
    }
    get previousInput() {
      return this.inputs[this.inputIndex - 1];
    }
    get data() {
      return this.save().then((e) => e && !V(e.data) ? e.data : {});
    }
    get sanitize() {
      return this.tool.sanitizeConfig;
    }
    get mergeable() {
      return D(this.toolInstance.merge);
    }
    get isEmpty() {
      const e = d.isEmpty(this.pluginsContent), t = !this.hasMedia;
      return e && t;
    }
    get hasMedia() {
      const e = [
        "img",
        "iframe",
        "video",
        "audio",
        "source",
        "input",
        "textarea",
        "twitterwidget"
      ];
      return !!this.holder.querySelector(e.join(","));
    }
    set focused(e) {
      this.holder.classList.toggle(F.CSS.focused, e);
    }
    get focused() {
      return this.holder.classList.contains(F.CSS.focused);
    }
    set selected(e) {
      var i, n;
      this.holder.classList.toggle(F.CSS.selected, e);
      const t = e === true && m.isRangeInsideContainer(this.holder), o = e === false && m.isFakeCursorInsideContainer(this.holder);
      (t || o) && ((i = this.editorEventBus) == null || i.emit(ct, { state: e }), t ? m.addFakeCursor() : m.removeFakeCursor(this.holder), (n = this.editorEventBus) == null || n.emit(dt, { state: e }));
    }
    get selected() {
      return this.holder.classList.contains(F.CSS.selected);
    }
    set stretched(e) {
      this.holder.classList.toggle(F.CSS.wrapperStretched, e);
    }
    get stretched() {
      return this.holder.classList.contains(F.CSS.wrapperStretched);
    }
    set dropTarget(e) {
      this.holder.classList.toggle(F.CSS.dropTarget, e);
    }
    get pluginsContent() {
      return this.toolRenderedElement;
    }
    call(e, t) {
      if (D(this.toolInstance[e])) {
        e === "appendCallback" && T(
          "`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead",
          "warn"
        );
        try {
          this.toolInstance[e].call(this.toolInstance, t);
        } catch (o) {
          T(`Error during '${e}' call: ${o.message}`, "error");
        }
      }
    }
    async mergeWith(e) {
      await this.toolInstance.merge(e);
    }
    async save() {
      const e = await this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;
      [
        ...this.tunesInstances.entries(),
        ...this.defaultTunesInstances.entries()
      ].forEach(([n, r]) => {
        if (D(r.save))
          try {
            t[n] = r.save();
          } catch (a) {
            T(`Tune ${r.constructor.name} save method throws an Error %o`, "warn", a);
          }
      });
      const o = window.performance.now();
      let i;
      return Promise.resolve(e).then((n) => (i = window.performance.now(), {
        id: this.id,
        tool: this.name,
        data: n,
        tunes: t,
        time: i - o
      })).catch((n) => {
        T(`Saving process for ${this.name} tool failed due to the ${n}`, "log", "red");
      });
    }
    async validate(e) {
      let t = true;
      return this.toolInstance.validate instanceof Function && (t = await this.toolInstance.validate(e)), t;
    }
    getTunes() {
      const e = document.createElement("div"), t = [], o = typeof this.toolInstance.renderSettings == "function" ? this.toolInstance.renderSettings() : [], i = [
        ...this.tunesInstances.values(),
        ...this.defaultTunesInstances.values()
      ].map((n) => n.render());
      return [o, i].flat().forEach((n) => {
        d.isElement(n) ? e.appendChild(n) : Array.isArray(n) ? t.push(...n) : t.push(n);
      }), [t, e];
    }
    updateCurrentInput() {
      this.currentInput = d.isNativeInput(document.activeElement) || !m.anchorNode ? document.activeElement : m.anchorNode;
    }
    dispatchChange() {
      this.didMutated();
    }
    destroy() {
      this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), D(this.toolInstance.destroy) && this.toolInstance.destroy();
    }
    async getActiveToolboxEntry() {
      const e = this.tool.toolbox;
      if (e.length === 1)
        return Promise.resolve(this.tool.toolbox[0]);
      const t = await this.data;
      return e.find((i) => Object.entries(i.data).some(([n, r]) => t[n] && $t(t[n], r)));
    }
    compose() {
      const e = d.make("div", F.CSS.wrapper), t = d.make("div", F.CSS.content), o = this.toolInstance.render();
      this.toolRenderedElement = o, t.appendChild(this.toolRenderedElement);
      let i = t;
      return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((n) => {
        if (D(n.wrap))
          try {
            i = n.wrap(i);
          } catch (r) {
            T(`Tune ${n.constructor.name} wrap method throws an Error %o`, "warn", r);
          }
      }), e.appendChild(i), e;
    }
    composeTunes(e) {
      Array.from(this.tunes.values()).forEach((t) => {
        (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));
      }), Object.entries(e).forEach(([t, o]) => {
        this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o);
      });
    }
    addInputEvents() {
      this.inputs.forEach((e) => {
        e.addEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.addEventListener("input", this.didMutated);
      });
    }
    removeInputEvents() {
      this.inputs.forEach((e) => {
        e.removeEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.removeEventListener("input", this.didMutated);
      });
    }
    watchBlockMutations() {
      var e;
      this.redactorDomChangedCallback = (t) => {
        const { mutations: o } = t;
        o.some((n) => Vt(n, this.toolRenderedElement)) && this.didMutated(o);
      }, (e = this.editorEventBus) == null || e.on(Me, this.redactorDomChangedCallback);
    }
    unwatchBlockMutations() {
      var e;
      (e = this.editorEventBus) == null || e.off(Me, this.redactorDomChangedCallback);
    }
    detectToolRootChange(e) {
      e.forEach((t) => {
        if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {
          const i = t.addedNodes[t.addedNodes.length - 1];
          this.toolRenderedElement = i;
        }
      });
    }
    dropInputsCache() {
      this.cachedInputs = [];
    }
  };
  var Zt = class extends S {
    constructor() {
      super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o = {}, i, n, r, a) => {
        const l = this.Editor.BlockManager.insert({
          id: a,
          tool: e,
          data: t,
          index: i,
          needToFocus: n,
          replace: r
        });
        return new he(l);
      }, this.composeBlockData = async (e) => {
        const t = this.Editor.Tools.blockTools.get(e);
        return new F({
          tool: t,
          api: this.Editor.API,
          readOnly: true,
          data: {},
          tunesData: {}
        }).data;
      }, this.update = (e, t) => {
        const { BlockManager: o } = this.Editor, i = o.getBlockById(e);
        if (!i) {
          T("blocks.update(): Block with passed id was not found", "warn");
          return;
        }
        const n = o.getBlockIndex(i);
        o.insert({
          id: i.id,
          tool: i.name,
          data: t,
          index: n,
          replace: true,
          tunes: i.tunes
        });
      };
    }
    get methods() {
      return {
        clear: () => this.clear(),
        render: (e) => this.render(e),
        renderFromHTML: (e) => this.renderFromHTML(e),
        delete: (e) => this.delete(e),
        swap: (e, t) => this.swap(e, t),
        move: (e, t) => this.move(e, t),
        getBlockByIndex: (e) => this.getBlockByIndex(e),
        getById: (e) => this.getById(e),
        getCurrentBlockIndex: () => this.getCurrentBlockIndex(),
        getBlockIndex: (e) => this.getBlockIndex(e),
        getBlocksCount: () => this.getBlocksCount(),
        stretchBlock: (e, t = true) => this.stretchBlock(e, t),
        insertNewBlock: () => this.insertNewBlock(),
        insert: this.insert,
        update: this.update,
        composeBlockData: this.composeBlockData
      };
    }
    getBlocksCount() {
      return this.Editor.BlockManager.blocks.length;
    }
    getCurrentBlockIndex() {
      return this.Editor.BlockManager.currentBlockIndex;
    }
    getBlockIndex(e) {
      const t = this.Editor.BlockManager.getBlockById(e);
      if (!t) {
        K("There is no block with id `" + e + "`", "warn");
        return;
      }
      return this.Editor.BlockManager.getBlockIndex(t);
    }
    getBlockByIndex(e) {
      const t = this.Editor.BlockManager.getBlockByIndex(e);
      if (t === void 0) {
        K("There is no block at index `" + e + "`", "warn");
        return;
      }
      return new he(t);
    }
    getById(e) {
      const t = this.Editor.BlockManager.getBlockById(e);
      return t === void 0 ? (K("There is no block with id `" + e + "`", "warn"), null) : new he(t);
    }
    swap(e, t) {
      T(
        "`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead",
        "info"
      ), this.Editor.BlockManager.swap(e, t);
    }
    move(e, t) {
      this.Editor.BlockManager.move(e, t);
    }
    delete(e) {
      try {
        this.Editor.BlockManager.removeBlock(e);
      } catch (t) {
        K(t, "warn");
        return;
      }
      this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();
    }
    clear() {
      this.Editor.BlockManager.clear(true), this.Editor.InlineToolbar.close();
    }
    render(e) {
      return this.Editor.BlockManager.clear(), this.Editor.Renderer.render(e.blocks);
    }
    renderFromHTML(e) {
      return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, true);
    }
    stretchBlock(e, t = true) {
      Ie(
        true,
        "blocks.stretchBlock()",
        "BlockAPI"
      );
      const o = this.Editor.BlockManager.getBlockByIndex(e);
      o && (o.stretched = t);
    }
    insertNewBlock() {
      T("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.", "warn"), this.insert();
    }
  };
  var Gt = class extends S {
    constructor() {
      super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), true) : false, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), true) : false, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), true) : false, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), true) : false, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o = 0) => this.Editor.BlockManager.blocks[e] ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e], t, o), true) : false, this.focus = (e = false) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);
    }
    get methods() {
      return {
        setToFirstBlock: this.setToFirstBlock,
        setToLastBlock: this.setToLastBlock,
        setToPreviousBlock: this.setToPreviousBlock,
        setToNextBlock: this.setToNextBlock,
        setToBlock: this.setToBlock,
        focus: this.focus
      };
    }
  };
  var qt = class extends S {
    get methods() {
      return {
        emit: (e, t) => this.emit(e, t),
        off: (e, t) => this.off(e, t),
        on: (e, t) => this.on(e, t)
      };
    }
    on(e, t) {
      this.eventsDispatcher.on(e, t);
    }
    emit(e, t) {
      this.eventsDispatcher.emit(e, t);
    }
    off(e, t) {
      this.eventsDispatcher.off(e, t);
    }
  };
  var De = class extends S {
    static getNamespace(e) {
      return e.isTune() ? `blockTunes.${e.name}` : `tools.${e.name}`;
    }
    get methods() {
      return {
        t: () => {
          K("I18n.t() method can be accessed only from Tools", "warn");
        }
      };
    }
    getMethodsForTool(e) {
      return Object.assign(
        this.methods,
        {
          t: (t) => $2.t(De.getNamespace(e), t)
        }
      );
    }
  };
  var Jt = class extends S {
    get methods() {
      return {
        blocks: this.Editor.BlocksAPI.methods,
        caret: this.Editor.CaretAPI.methods,
        events: this.Editor.EventsAPI.methods,
        listeners: this.Editor.ListenersAPI.methods,
        notifier: this.Editor.NotifierAPI.methods,
        sanitizer: this.Editor.SanitizerAPI.methods,
        saver: this.Editor.SaverAPI.methods,
        selection: this.Editor.SelectionAPI.methods,
        styles: this.Editor.StylesAPI.classes,
        toolbar: this.Editor.ToolbarAPI.methods,
        inlineToolbar: this.Editor.InlineToolbarAPI.methods,
        tooltip: this.Editor.TooltipAPI.methods,
        i18n: this.Editor.I18nAPI.methods,
        readOnly: this.Editor.ReadOnlyAPI.methods,
        ui: this.Editor.UiAPI.methods
      };
    }
    getMethodsForTool(e) {
      return Object.assign(
        this.methods,
        {
          i18n: this.Editor.I18nAPI.getMethodsForTool(e)
        }
      );
    }
  };
  var Qt = class extends S {
    get methods() {
      return {
        close: () => this.close(),
        open: () => this.open()
      };
    }
    open() {
      this.Editor.InlineToolbar.tryToShow();
    }
    close() {
      this.Editor.InlineToolbar.close();
    }
  };
  var eo = class extends S {
    get methods() {
      return {
        on: (e, t, o, i) => this.on(e, t, o, i),
        off: (e, t, o, i) => this.off(e, t, o, i),
        offById: (e) => this.offById(e)
      };
    }
    on(e, t, o, i) {
      return this.listeners.on(e, t, o, i);
    }
    off(e, t, o, i) {
      this.listeners.off(e, t, o, i);
    }
    offById(e) {
      this.listeners.offById(e);
    }
  };
  var Le = {};
  var to = {
    get exports() {
      return Le;
    },
    set exports(s) {
      Le = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "/", i(i.s = 0);
      }([function(t, o, i) {
        i(1), t.exports = function() {
          var n = i(6), r = "cdx-notify--bounce-in", a = null;
          return { show: function(l) {
            if (l.message) {
              (function() {
                if (a)
                  return true;
                a = n.getWrapper(), document.body.appendChild(a);
              })();
              var c = null, u = l.time || 8e3;
              switch (l.type) {
                case "confirm":
                  c = n.confirm(l);
                  break;
                case "prompt":
                  c = n.prompt(l);
                  break;
                default:
                  c = n.alert(l), window.setTimeout(function() {
                    c.remove();
                  }, u);
              }
              a.appendChild(c), c.classList.add(r);
            }
          } };
        }();
      }, function(t, o, i) {
        var n = i(2);
        typeof n == "string" && (n = [[t.i, n, ""]]);
        var r = { hmr: true, transform: void 0, insertInto: void 0 };
        i(4)(n, r), n.locals && (t.exports = n.locals);
      }, function(t, o, i) {
        (t.exports = i(3)(false)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, ""]);
      }, function(t, o) {
        t.exports = function(i) {
          var n = [];
          return n.toString = function() {
            return this.map(function(r) {
              var a = function(l, c) {
                var u = l[1] || "", h = l[3];
                if (!h)
                  return u;
                if (c && typeof btoa == "function") {
                  var f = (p = h, "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(p)))) + " */"), v = h.sources.map(function(k) {
                    return "/*# sourceURL=" + h.sourceRoot + k + " */";
                  });
                  return [u].concat(v).concat([f]).join(`
`);
                }
                var p;
                return [u].join(`
`);
              }(r, i);
              return r[2] ? "@media " + r[2] + "{" + a + "}" : a;
            }).join("");
          }, n.i = function(r, a) {
            typeof r == "string" && (r = [[null, r, ""]]);
            for (var l = {}, c = 0; c < this.length; c++) {
              var u = this[c][0];
              typeof u == "number" && (l[u] = true);
            }
            for (c = 0; c < r.length; c++) {
              var h = r[c];
              typeof h[0] == "number" && l[h[0]] || (a && !h[2] ? h[2] = a : a && (h[2] = "(" + h[2] + ") and (" + a + ")"), n.push(h));
            }
          }, n;
        };
      }, function(t, o, i) {
        var n, r, a = {}, l = (n = function() {
          return window && document && document.all && !window.atob;
        }, function() {
          return r === void 0 && (r = n.apply(this, arguments)), r;
        }), c = function(b) {
          var g = {};
          return function(E) {
            if (typeof E == "function")
              return E();
            if (g[E] === void 0) {
              var C = function(O) {
                return document.querySelector(O);
              }.call(this, E);
              if (window.HTMLIFrameElement && C instanceof window.HTMLIFrameElement)
                try {
                  C = C.contentDocument.head;
                } catch (e2) {
                  C = null;
                }
              g[E] = C;
            }
            return g[E];
          };
        }(), u = null, h = 0, f = [], v = i(5);
        function p(b, g) {
          for (var E = 0; E < b.length; E++) {
            var C = b[E], O = a[C.id];
            if (O) {
              O.refs++;
              for (var I = 0; I < O.parts.length; I++)
                O.parts[I](C.parts[I]);
              for (; I < C.parts.length; I++)
                O.parts.push(x(C.parts[I], g));
            } else {
              var H = [];
              for (I = 0; I < C.parts.length; I++)
                H.push(x(C.parts[I], g));
              a[C.id] = { id: C.id, refs: 1, parts: H };
            }
          }
        }
        function k(b, g) {
          for (var E = [], C = {}, O = 0; O < b.length; O++) {
            var I = b[O], H = g.base ? I[0] + g.base : I[0], L = { css: I[1], media: I[2], sourceMap: I[3] };
            C[H] ? C[H].parts.push(L) : E.push(C[H] = { id: H, parts: [L] });
          }
          return E;
        }
        function _(b, g) {
          var E = c(b.insertInto);
          if (!E)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
          var C = f[f.length - 1];
          if (b.insertAt === "top")
            C ? C.nextSibling ? E.insertBefore(g, C.nextSibling) : E.appendChild(g) : E.insertBefore(g, E.firstChild), f.push(g);
          else if (b.insertAt === "bottom")
            E.appendChild(g);
          else {
            if (typeof b.insertAt != "object" || !b.insertAt.before)
              throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);
            var O = c(b.insertInto + " " + b.insertAt.before);
            E.insertBefore(g, O);
          }
        }
        function A(b) {
          if (b.parentNode === null)
            return false;
          b.parentNode.removeChild(b);
          var g = f.indexOf(b);
          g >= 0 && f.splice(g, 1);
        }
        function R(b) {
          var g = document.createElement("style");
          return b.attrs.type === void 0 && (b.attrs.type = "text/css"), y(g, b.attrs), _(b, g), g;
        }
        function y(b, g) {
          Object.keys(g).forEach(function(E) {
            b.setAttribute(E, g[E]);
          });
        }
        function x(b, g) {
          var E, C, O, I;
          if (g.transform && b.css) {
            if (!(I = g.transform(b.css)))
              return function() {
              };
            b.css = I;
          }
          if (g.singleton) {
            var H = h++;
            E = u || (u = R(g)), C = N.bind(null, E, H, false), O = N.bind(null, E, H, true);
          } else
            b.sourceMap && typeof URL == "function" && typeof URL.createObjectURL == "function" && typeof URL.revokeObjectURL == "function" && typeof Blob == "function" && typeof btoa == "function" ? (E = function(L) {
              var W = document.createElement("link");
              return L.attrs.type === void 0 && (L.attrs.type = "text/css"), L.attrs.rel = "stylesheet", y(W, L.attrs), _(L, W), W;
            }(g), C = function(L, W, le) {
              var Q = le.css, Ee = le.sourceMap, It = W.convertToAbsoluteUrls === void 0 && Ee;
              (W.convertToAbsoluteUrls || It) && (Q = v(Q)), Ee && (Q += `
/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(Ee)))) + " */");
              var Mt = new Blob([Q], { type: "text/css" }), Xe = L.href;
              L.href = URL.createObjectURL(Mt), Xe && URL.revokeObjectURL(Xe);
            }.bind(null, E, g), O = function() {
              A(E), E.href && URL.revokeObjectURL(E.href);
            }) : (E = R(g), C = function(L, W) {
              var le = W.css, Q = W.media;
              if (Q && L.setAttribute("media", Q), L.styleSheet)
                L.styleSheet.cssText = le;
              else {
                for (; L.firstChild; )
                  L.removeChild(L.firstChild);
                L.appendChild(document.createTextNode(le));
              }
            }.bind(null, E), O = function() {
              A(E);
            });
          return C(b), function(L) {
            if (L) {
              if (L.css === b.css && L.media === b.media && L.sourceMap === b.sourceMap)
                return;
              C(b = L);
            } else
              O();
          };
        }
        t.exports = function(b, g) {
          if (typeof DEBUG < "u" && DEBUG && typeof document != "object")
            throw new Error("The style-loader cannot be used in a non-browser environment");
          (g = g || {}).attrs = typeof g.attrs == "object" ? g.attrs : {}, g.singleton || typeof g.singleton == "boolean" || (g.singleton = l()), g.insertInto || (g.insertInto = "head"), g.insertAt || (g.insertAt = "bottom");
          var E = k(b, g);
          return p(E, g), function(C) {
            for (var O = [], I = 0; I < E.length; I++) {
              var H = E[I];
              (L = a[H.id]).refs--, O.push(L);
            }
            for (C && p(k(C, g), g), I = 0; I < O.length; I++) {
              var L;
              if ((L = O[I]).refs === 0) {
                for (var W = 0; W < L.parts.length; W++)
                  L.parts[W]();
                delete a[L.id];
              }
            }
          };
        };
        var w, M = (w = [], function(b, g) {
          return w[b] = g, w.filter(Boolean).join(`
`);
        });
        function N(b, g, E, C) {
          var O = E ? "" : C.css;
          if (b.styleSheet)
            b.styleSheet.cssText = M(g, O);
          else {
            var I = document.createTextNode(O), H = b.childNodes;
            H[g] && b.removeChild(H[g]), H.length ? b.insertBefore(I, H[g]) : b.appendChild(I);
          }
        }
      }, function(t, o) {
        t.exports = function(i) {
          var n = typeof window < "u" && window.location;
          if (!n)
            throw new Error("fixUrls requires window.location");
          if (!i || typeof i != "string")
            return i;
          var r = n.protocol + "//" + n.host, a = r + n.pathname.replace(/\/[^\/]*$/, "/");
          return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(l, c) {
            var u, h = c.trim().replace(/^"(.*)"$/, function(f, v) {
              return v;
            }).replace(/^'(.*)'$/, function(f, v) {
              return v;
            });
            return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h) ? l : (u = h.indexOf("//") === 0 ? h : h.indexOf("/") === 0 ? r + h : a + h.replace(/^\.\//, ""), "url(" + JSON.stringify(u) + ")");
          });
        };
      }, function(t, o, i) {
        var n, r, a, l, c, u, h, f, v;
        t.exports = (n = "cdx-notifies", r = "cdx-notify", a = "cdx-notify__cross", l = "cdx-notify__button--confirm", c = "cdx-notify__button--cancel", u = "cdx-notify__input", h = "cdx-notify__button", f = "cdx-notify__btns-wrapper", { alert: v = function(p) {
          var k = document.createElement("DIV"), _ = document.createElement("DIV"), A = p.message, R = p.style;
          return k.classList.add(r), R && k.classList.add(r + "--" + R), k.innerHTML = A, _.classList.add(a), _.addEventListener("click", k.remove.bind(k)), k.appendChild(_), k;
        }, confirm: function(p) {
          var k = v(p), _ = document.createElement("div"), A = document.createElement("button"), R = document.createElement("button"), y = k.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
          return _.classList.add(f), A.innerHTML = p.okText || "Confirm", R.innerHTML = p.cancelText || "Cancel", A.classList.add(h), R.classList.add(h), A.classList.add(l), R.classList.add(c), x && typeof x == "function" && (R.addEventListener("click", x), y.addEventListener("click", x)), w && typeof w == "function" && A.addEventListener("click", w), A.addEventListener("click", k.remove.bind(k)), R.addEventListener("click", k.remove.bind(k)), _.appendChild(A), _.appendChild(R), k.appendChild(_), k;
        }, prompt: function(p) {
          var k = v(p), _ = document.createElement("div"), A = document.createElement("button"), R = document.createElement("input"), y = k.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
          return _.classList.add(f), A.innerHTML = p.okText || "Ok", A.classList.add(h), A.classList.add(l), R.classList.add(u), p.placeholder && R.setAttribute("placeholder", p.placeholder), p.default && (R.value = p.default), p.inputType && (R.type = p.inputType), x && typeof x == "function" && y.addEventListener("click", x), w && typeof w == "function" && A.addEventListener("click", function() {
            w(R.value);
          }), A.addEventListener("click", k.remove.bind(k)), _.appendChild(R), _.appendChild(A), k.appendChild(_), k;
        }, getWrapper: function() {
          var p = document.createElement("DIV");
          return p.classList.add(n), p;
        } });
      }]);
    });
  })(to);
  var oo = /* @__PURE__ */ xe(Le);
  var io = class {
    show(e) {
      oo.show(e);
    }
  };
  var no = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.notifier = new io();
    }
    get methods() {
      return {
        show: (e) => this.show(e)
      };
    }
    show(e) {
      return this.notifier.show(e);
    }
  };
  var so = class extends S {
    get methods() {
      const e = () => this.isEnabled;
      return {
        toggle: (t) => this.toggle(t),
        get isEnabled() {
          return e();
        }
      };
    }
    toggle(e) {
      return this.Editor.ReadOnly.toggle(e);
    }
    get isEnabled() {
      return this.Editor.ReadOnly.isEnabled;
    }
  };
  var Oe = {};
  var ro = {
    get exports() {
      return Oe;
    },
    set exports(s) {
      Oe = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(Lt, function() {
      function t(h) {
        var f = h.tags, v = Object.keys(f), p = v.map(function(k) {
          return typeof f[k];
        }).every(function(k) {
          return k === "object" || k === "boolean" || k === "function";
        });
        if (!p)
          throw new Error("The configuration was invalid");
        this.config = h;
      }
      var o = ["P", "LI", "TD", "TH", "DIV", "H1", "H2", "H3", "H4", "H5", "H6", "PRE"];
      function i(h) {
        return o.indexOf(h.nodeName) !== -1;
      }
      var n = ["A", "B", "STRONG", "I", "EM", "SUB", "SUP", "U", "STRIKE"];
      function r(h) {
        return n.indexOf(h.nodeName) !== -1;
      }
      t.prototype.clean = function(h) {
        const f = document.implementation.createHTMLDocument(), v = f.createElement("div");
        return v.innerHTML = h, this._sanitize(f, v), v.innerHTML;
      }, t.prototype._sanitize = function(h, f) {
        var v = a(h, f), p = v.firstChild();
        if (p)
          do {
            if (p.nodeType === Node.TEXT_NODE)
              if (p.data.trim() === "" && (p.previousElementSibling && i(p.previousElementSibling) || p.nextElementSibling && i(p.nextElementSibling))) {
                f.removeChild(p), this._sanitize(h, f);
                break;
              } else
                continue;
            if (p.nodeType === Node.COMMENT_NODE) {
              f.removeChild(p), this._sanitize(h, f);
              break;
            }
            var k = r(p), _;
            k && (_ = Array.prototype.some.call(p.childNodes, i));
            var A = !!f.parentNode, R = i(f) && i(p) && A, y = p.nodeName.toLowerCase(), x = l(this.config, y, p), w = k && _;
            if (w || c(p, x) || !this.config.keepNestedBlockElements && R) {
              if (!(p.nodeName === "SCRIPT" || p.nodeName === "STYLE"))
                for (; p.childNodes.length > 0; )
                  f.insertBefore(p.childNodes[0], p);
              f.removeChild(p), this._sanitize(h, f);
              break;
            }
            for (var M = 0; M < p.attributes.length; M += 1) {
              var N = p.attributes[M];
              u(N, x, p) && (p.removeAttribute(N.name), M = M - 1);
            }
            this._sanitize(h, p);
          } while (p = v.nextSibling());
      };
      function a(h, f) {
        return h.createTreeWalker(
          f,
          NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,
          null,
          false
        );
      }
      function l(h, f, v) {
        return typeof h.tags[f] == "function" ? h.tags[f](v) : h.tags[f];
      }
      function c(h, f) {
        return typeof f > "u" ? true : typeof f == "boolean" ? !f : false;
      }
      function u(h, f, v) {
        var p = h.name.toLowerCase();
        return f === true ? false : typeof f[p] == "function" ? !f[p](h.value, v) : typeof f[p] > "u" || f[p] === false ? true : typeof f[p] == "string" ? f[p] !== h.value : false;
      }
      return t;
    });
  })(ro);
  var ao = Oe;
  function ht(s, e) {
    return s.map((t) => {
      const o = D(e) ? e(t.tool) : e;
      return V(o) || (t.data = Pe(t.data, o)), t;
    });
  }
  function Z(s, e = {}) {
    const t = {
      tags: e
    };
    return new ao(t).clean(s);
  }
  function Pe(s, e) {
    return Array.isArray(s) ? lo(s, e) : j(s) ? co(s, e) : J(s) ? ho(s, e) : s;
  }
  function lo(s, e) {
    return s.map((t) => Pe(t, e));
  }
  function co(s, e) {
    const t = {};
    for (const o in s) {
      if (!Object.prototype.hasOwnProperty.call(s, o))
        continue;
      const i = s[o], n = uo(e[o]) ? e[o] : e;
      t[o] = Pe(i, n);
    }
    return t;
  }
  function ho(s, e) {
    return j(e) ? Z(s, e) : e === false ? Z(s, {}) : s;
  }
  function uo(s) {
    return j(s) || Nt(s) || D(s);
  }
  var po = class extends S {
    get methods() {
      return {
        clean: (e, t) => this.clean(e, t)
      };
    }
    clean(e, t) {
      return Z(e, t);
    }
  };
  var fo = class extends S {
    get methods() {
      return {
        save: () => this.save()
      };
    }
    save() {
      const e = "Editor's content can not be saved in read-only mode";
      return this.Editor.ReadOnly.isEnabled ? (K(e, "warn"), Promise.reject(new Error(e))) : this.Editor.Saver.save();
    }
  };
  var go = class extends S {
    get methods() {
      return {
        findParentTag: (e, t) => this.findParentTag(e, t),
        expandToTag: (e) => this.expandToTag(e)
      };
    }
    findParentTag(e, t) {
      return new m().findParentTag(e, t);
    }
    expandToTag(e) {
      new m().expandToTag(e);
    }
  };
  var bo = class extends S {
    get classes() {
      return {
        block: "cdx-block",
        inlineToolButton: "ce-inline-tool",
        inlineToolButtonActive: "ce-inline-tool--active",
        input: "cdx-input",
        loader: "cdx-loader",
        button: "cdx-button",
        settingsButton: "cdx-settings-button",
        settingsButtonActive: "cdx-settings-button--active"
      };
    }
  };
  var mo = class extends S {
    get methods() {
      return {
        close: () => this.close(),
        open: () => this.open(),
        toggleBlockSettings: (e) => this.toggleBlockSettings(e),
        toggleToolbox: (e) => this.toggleToolbox(e)
      };
    }
    open() {
      this.Editor.Toolbar.moveAndOpen();
    }
    close() {
      this.Editor.Toolbar.close();
    }
    toggleBlockSettings(e) {
      if (this.Editor.BlockManager.currentBlockIndex === -1) {
        K("Could't toggle the Toolbar because there is no block selected ", "warn");
        return;
      }
      (e != null ? e : !this.Editor.BlockSettings.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();
    }
    toggleToolbox(e) {
      if (this.Editor.BlockManager.currentBlockIndex === -1) {
        K("Could't toggle the Toolbox because there is no block selected ", "warn");
        return;
      }
      (e != null ? e : !this.Editor.Toolbar.toolbox.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();
    }
  };
  var _e = {};
  var ko = {
    get exports() {
      return _e;
    },
    set exports(s) {
      _e = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "", i(i.s = 0);
      }([function(t, o, i) {
        t.exports = i(1);
      }, function(t, o, i) {
        i.r(o), i.d(o, "default", function() {
          return n;
        });
        class n {
          constructor() {
            this.nodes = { wrapper: null, content: null }, this.showed = false, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {
              this.showed && this.hide(true);
            }, this.loadStyles(), this.prepare(), window.addEventListener("scroll", this.handleWindowScroll, { passive: true });
          }
          get CSS() {
            return { tooltip: "ct", tooltipContent: "ct__content", tooltipShown: "ct--shown", placement: { left: "ct--left", bottom: "ct--bottom", right: "ct--right", top: "ct--top" } };
          }
          show(a, l, c) {
            this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);
            const u = Object.assign({ placement: "bottom", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c);
            if (u.hidingDelay && (this.hidingDelay = u.hidingDelay), this.nodes.content.innerHTML = "", typeof l == "string")
              this.nodes.content.appendChild(document.createTextNode(l));
            else {
              if (!(l instanceof Node))
                throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But " + typeof l + " given.");
              this.nodes.content.appendChild(l);
            }
            switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u.placement) {
              case "top":
                this.placeTop(a, u);
                break;
              case "left":
                this.placeLeft(a, u);
                break;
              case "right":
                this.placeRight(a, u);
                break;
              case "bottom":
              default:
                this.placeBottom(a, u);
            }
            u && u.delay ? this.showingTimeout = setTimeout(() => {
              this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true;
            }, u.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true);
          }
          hide(a = false) {
            if (this.hidingDelay && !a)
              return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {
                this.hide(true);
              }, this.hidingDelay));
            this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = false, this.showingTimeout && clearTimeout(this.showingTimeout);
          }
          onHover(a, l, c) {
            a.addEventListener("mouseenter", () => {
              this.show(a, l, c);
            }), a.addEventListener("mouseleave", () => {
              this.hide();
            });
          }
          destroy() {
            this.nodes.wrapper.remove(), window.removeEventListener("scroll", this.handleWindowScroll);
          }
          prepare() {
            this.nodes.wrapper = this.make("div", this.CSS.tooltip), this.nodes.content = this.make("div", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);
          }
          loadStyles() {
            const a = "codex-tooltips-style";
            if (document.getElementById(a))
              return;
            const l = i(2), c = this.make("style", null, { textContent: l.toString(), id: a });
            this.prepend(document.head, c);
          }
          placeBottom(a, l) {
            const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.bottom + window.pageYOffset + this.offsetTop + l.marginTop;
            this.applyPlacement("bottom", u, h);
          }
          placeTop(a, l) {
            const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;
            this.applyPlacement("top", u, h);
          }
          placeLeft(a, l) {
            const c = a.getBoundingClientRect(), u = c.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - l.marginLeft, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
            this.applyPlacement("left", u, h);
          }
          placeRight(a, l) {
            const c = a.getBoundingClientRect(), u = c.right + this.offsetRight + l.marginRight, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
            this.applyPlacement("right", u, h);
          }
          applyPlacement(a, l, c) {
            this.nodes.wrapper.classList.add(this.CSS.placement[a]), this.nodes.wrapper.style.left = l + "px", this.nodes.wrapper.style.top = c + "px";
          }
          make(a, l = null, c = {}) {
            const u = document.createElement(a);
            Array.isArray(l) ? u.classList.add(...l) : l && u.classList.add(l);
            for (const h in c)
              c.hasOwnProperty(h) && (u[h] = c[h]);
            return u;
          }
          append(a, l) {
            Array.isArray(l) ? l.forEach((c) => a.appendChild(c)) : a.appendChild(l);
          }
          prepend(a, l) {
            Array.isArray(l) ? (l = l.reverse()).forEach((c) => a.prepend(c)) : a.prepend(l);
          }
        }
      }, function(t, o) {
        t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;
      }]).default;
    });
  })(ko);
  var vo = /* @__PURE__ */ xe(_e);
  var Fe = class {
    constructor() {
      this.lib = new vo();
    }
    destroy() {
      this.lib.destroy();
    }
    show(e, t, o) {
      this.lib.show(e, t, o);
    }
    hide(e = false) {
      this.lib.hide(e);
    }
    onHover(e, t, o) {
      this.lib.onHover(e, t, o);
    }
  };
  var xo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.tooltip = new Fe();
    }
    destroy() {
      this.tooltip.destroy();
    }
    get methods() {
      return {
        show: (e, t, o) => this.show(e, t, o),
        hide: () => this.hide(),
        onHover: (e, t, o) => this.onHover(e, t, o)
      };
    }
    show(e, t, o) {
      this.tooltip.show(e, t, o);
    }
    hide() {
      this.tooltip.hide();
    }
    onHover(e, t, o) {
      this.tooltip.onHover(e, t, o);
    }
  };
  var wo = class extends S {
    get methods() {
      return {
        nodes: this.editorNodes
      };
    }
    get editorNodes() {
      return {
        wrapper: this.Editor.UI.nodes.wrapper,
        redactor: this.Editor.UI.nodes.redactor
      };
    }
  };
  function ut(s, e) {
    const t = {};
    return Object.entries(s).forEach(([o, i]) => {
      if (j(i)) {
        const n = e ? `${e}.${o}` : o;
        Object.values(i).every((a) => J(a)) ? t[o] = n : t[o] = ut(i, n);
        return;
      }
      t[o] = i;
    }), t;
  }
  var X = ut(rt);
  function yo(s, e) {
    const t = {};
    return Object.keys(s).forEach((o) => {
      const i = e[o];
      i !== void 0 ? t[i] = s[o] : t[o] = s[o];
    }), t;
  }
  var Eo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>';
  var pt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>';
  var Bo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>';
  var Co = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>';
  var To = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>';
  var So = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>';
  var qe = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';
  var Io = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>';
  var Mo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';
  var Lo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
  var Oo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
  var P = class {
    constructor(e) {
      this.nodes = {
        root: null,
        icon: null
      }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {
        this.nodes.root.classList.remove(P.CSS.noFocus);
      }, this.removeSpecialHoverBehavior = () => {
        this.nodes.root.classList.remove(P.CSS.noHover);
      }, this.onErrorAnimationEnd = () => {
        this.nodes.icon.classList.remove(P.CSS.wobbleAnimation), this.nodes.icon.removeEventListener("animationend", this.onErrorAnimationEnd);
      }, this.params = e, this.nodes.root = this.make(e);
    }
    get isDisabled() {
      return this.params.isDisabled;
    }
    get toggle() {
      return this.params.toggle;
    }
    get title() {
      return this.params.title;
    }
    get closeOnActivate() {
      return this.params.closeOnActivate;
    }
    get isConfirmationStateEnabled() {
      return this.confirmationState !== null;
    }
    get isFocused() {
      return this.nodes.root.classList.contains(P.CSS.focused);
    }
    static get CSS() {
      return {
        container: "ce-popover-item",
        title: "ce-popover-item__title",
        secondaryTitle: "ce-popover-item__secondary-title",
        icon: "ce-popover-item__icon",
        active: "ce-popover-item--active",
        disabled: "ce-popover-item--disabled",
        focused: "ce-popover-item--focused",
        hidden: "ce-popover-item--hidden",
        confirmationState: "ce-popover-item--confirmation",
        noHover: "ce-popover-item--no-hover",
        noFocus: "ce-popover-item--no-focus",
        wobbleAnimation: "wobble"
      };
    }
    getElement() {
      return this.nodes.root;
    }
    handleClick() {
      if (this.isConfirmationStateEnabled) {
        this.activateOrEnableConfirmationMode(this.confirmationState);
        return;
      }
      this.activateOrEnableConfirmationMode(this.params);
    }
    toggleActive(e) {
      this.nodes.root.classList.toggle(P.CSS.active, e);
    }
    toggleHidden(e) {
      this.nodes.root.classList.toggle(P.CSS.hidden, e);
    }
    reset() {
      this.isConfirmationStateEnabled && this.disableConfirmationMode();
    }
    onFocus() {
      this.disableSpecialHoverAndFocusBehavior();
    }
    make(e) {
      const t = d.make("div", P.CSS.container);
      return e.name && (t.dataset.itemName = e.name), this.nodes.icon = d.make("div", P.CSS.icon, {
        innerHTML: e.icon || To
      }), t.appendChild(this.nodes.icon), t.appendChild(d.make("div", P.CSS.title, {
        innerHTML: e.title || ""
      })), e.secondaryLabel && t.appendChild(d.make("div", P.CSS.secondaryTitle, {
        textContent: e.secondaryLabel
      })), e.isActive && t.classList.add(P.CSS.active), e.isDisabled && t.classList.add(P.CSS.disabled), t;
    }
    enableConfirmationMode(e) {
      const t = __spreadProps(__spreadValues(__spreadValues({}, this.params), e), {
        confirmation: e.confirmation
      }), o = this.make(t);
      this.nodes.root.innerHTML = o.innerHTML, this.nodes.root.classList.add(P.CSS.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();
    }
    disableConfirmationMode() {
      const e = this.make(this.params);
      this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(P.CSS.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();
    }
    enableSpecialHoverAndFocusBehavior() {
      this.nodes.root.classList.add(P.CSS.noHover), this.nodes.root.classList.add(P.CSS.noFocus), this.nodes.root.addEventListener("mouseleave", this.removeSpecialHoverBehavior, { once: true });
    }
    disableSpecialHoverAndFocusBehavior() {
      this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), this.nodes.root.removeEventListener("mouseleave", this.removeSpecialHoverBehavior);
    }
    activateOrEnableConfirmationMode(e) {
      if (e.confirmation === void 0)
        try {
          e.onActivate(e), this.disableConfirmationMode();
        } catch (e2) {
          this.animateError();
        }
      else
        this.enableConfirmationMode(e.confirmation);
    }
    animateError() {
      this.nodes.icon.classList.contains(P.CSS.wobbleAnimation) || (this.nodes.icon.classList.add(P.CSS.wobbleAnimation), this.nodes.icon.addEventListener("animationend", this.onErrorAnimationEnd));
    }
  };
  var ce = class {
    constructor(s, e) {
      this.cursor = -1, this.items = [], this.items = s || [], this.focusedCssClass = e;
    }
    get currentItem() {
      return this.cursor === -1 ? null : this.items[this.cursor];
    }
    setCursor(s) {
      s < this.items.length && s >= -1 && (this.dropCursor(), this.cursor = s, this.items[this.cursor].classList.add(this.focusedCssClass));
    }
    setItems(s) {
      this.items = s;
    }
    next() {
      this.cursor = this.leafNodesAndReturnIndex(ce.directions.RIGHT);
    }
    previous() {
      this.cursor = this.leafNodesAndReturnIndex(ce.directions.LEFT);
    }
    dropCursor() {
      this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);
    }
    leafNodesAndReturnIndex(s) {
      if (this.items.length === 0)
        return this.cursor;
      let e = this.cursor;
      return e === -1 ? e = s === ce.directions.RIGHT ? -1 : 0 : this.items[e].classList.remove(this.focusedCssClass), s === ce.directions.RIGHT ? e = (e + 1) % this.items.length : e = (this.items.length + e - 1) % this.items.length, d.canSetCaret(this.items[e]) && oe(() => m.setCursor(this.items[e]), 50)(), this.items[e].classList.add(this.focusedCssClass), e;
    }
  };
  var ne = ce;
  ne.directions = {
    RIGHT: "right",
    LEFT: "left"
  };
  var G = class {
    constructor(e) {
      this.iterator = null, this.activated = false, this.flipCallbacks = [], this.onKeyDown = (t) => {
        if (this.isEventReadyForHandling(t))
          switch (G.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {
            case B.TAB:
              this.handleTabPress(t);
              break;
            case B.LEFT:
            case B.UP:
              this.flipLeft();
              break;
            case B.RIGHT:
            case B.DOWN:
              this.flipRight();
              break;
            case B.ENTER:
              this.handleEnterPress(t);
              break;
          }
      }, this.iterator = new ne(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || G.usedKeys;
    }
    get isActivated() {
      return this.activated;
    }
    static get usedKeys() {
      return [
        B.TAB,
        B.LEFT,
        B.RIGHT,
        B.ENTER,
        B.UP,
        B.DOWN
      ];
    }
    activate(e, t) {
      this.activated = true, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener("keydown", this.onKeyDown, true);
    }
    deactivate() {
      this.activated = false, this.dropCursor(), document.removeEventListener("keydown", this.onKeyDown);
    }
    focusFirst() {
      this.dropCursor(), this.flipRight();
    }
    flipLeft() {
      this.iterator.previous(), this.flipCallback();
    }
    flipRight() {
      this.iterator.next(), this.flipCallback();
    }
    hasFocus() {
      return !!this.iterator.currentItem;
    }
    onFlip(e) {
      this.flipCallbacks.push(e);
    }
    removeOnFlip(e) {
      this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);
    }
    dropCursor() {
      this.iterator.dropCursor();
    }
    isEventReadyForHandling(e) {
      return this.activated && this.allowedKeys.includes(e.keyCode);
    }
    handleTabPress(e) {
      switch (e.shiftKey ? ne.directions.LEFT : ne.directions.RIGHT) {
        case ne.directions.RIGHT:
          this.flipRight();
          break;
        case ne.directions.LEFT:
          this.flipLeft();
          break;
      }
    }
    handleEnterPress(e) {
      this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), D(this.activateCallback) && this.activateCallback(this.iterator.currentItem));
    }
    flipCallback() {
      this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());
    }
  };
  var ue = class {
    static get CSS() {
      return {
        wrapper: "cdx-search-field",
        icon: "cdx-search-field__icon",
        input: "cdx-search-field__input"
      };
    }
    constructor({ items: e, onSearch: t, placeholder: o }) {
      this.listeners = new Re(), this.items = e, this.onSearch = t, this.render(o);
    }
    getElement() {
      return this.wrapper;
    }
    focus() {
      this.input.focus();
    }
    clear() {
      this.input.value = "", this.searchQuery = "", this.onSearch("", this.foundItems);
    }
    destroy() {
      this.listeners.removeAll();
    }
    render(e) {
      this.wrapper = d.make("div", ue.CSS.wrapper);
      const t = d.make("div", ue.CSS.icon, {
        innerHTML: Lo
      });
      this.input = d.make("input", ue.CSS.input, {
        placeholder: e
      }), this.wrapper.appendChild(t), this.wrapper.appendChild(this.input), this.listeners.on(this.input, "input", () => {
        this.searchQuery = this.input.value, this.onSearch(this.searchQuery, this.foundItems);
      });
    }
    get foundItems() {
      return this.items.filter((e) => this.checkItem(e));
    }
    checkItem(e) {
      var i;
      const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || "", o = this.searchQuery.toLowerCase();
      return t.includes(o);
    }
  };
  var de = class {
    lock() {
      Ge ? this.lockHard() : document.body.classList.add(de.CSS.scrollLocked);
    }
    unlock() {
      Ge ? this.unlockHard() : document.body.classList.remove(de.CSS.scrollLocked);
    }
    lockHard() {
      this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(
        "--window-scroll-offset",
        `${this.scrollPosition}px`
      ), document.body.classList.add(de.CSS.scrollLockedHard);
    }
    unlockHard() {
      document.body.classList.remove(de.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;
    }
  };
  var ft = de;
  ft.CSS = {
    scrollLocked: "ce-scroll-locked",
    scrollLockedHard: "ce-scroll-locked--hard"
  };
  var _o = Object.defineProperty;
  var Ao = Object.getOwnPropertyDescriptor;
  var No = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? Ao(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && _o(e, t, i), i;
  };
  var fe = /* @__PURE__ */ ((s) => (s.Close = "close", s))(fe || {});
  var z = class extends we {
    constructor(s) {
      super(), this.scopeElement = document.body, this.listeners = new Re(), this.scrollLocker = new ft(), this.nodes = {
        wrapper: null,
        popover: null,
        nothingFoundMessage: null,
        customContent: null,
        items: null,
        overlay: null
      }, this.messages = {
        nothingFound: "Nothing found",
        search: "Search"
      }, this.onFlip = () => {
        this.items.find((t) => t.isFocused).onFocus();
      }, this.items = s.items.map((e) => new P(e)), s.scopeElement !== void 0 && (this.scopeElement = s.scopeElement), s.messages && (this.messages = __spreadValues(__spreadValues({}, this.messages), s.messages)), s.customContentFlippableItems && (this.customContentFlippableItems = s.customContentFlippableItems), this.make(), s.customContent && this.addCustomContent(s.customContent), s.searchable && this.addSearch(), this.initializeFlipper();
    }
    static get CSS() {
      return {
        popover: "ce-popover",
        popoverOpenTop: "ce-popover--open-top",
        popoverOpened: "ce-popover--opened",
        search: "ce-popover__search",
        nothingFoundMessage: "ce-popover__nothing-found-message",
        nothingFoundMessageDisplayed: "ce-popover__nothing-found-message--displayed",
        customContent: "ce-popover__custom-content",
        customContentHidden: "ce-popover__custom-content--hidden",
        items: "ce-popover__items",
        overlay: "ce-popover__overlay",
        overlayHidden: "ce-popover__overlay--hidden"
      };
    }
    getElement() {
      return this.nodes.wrapper;
    }
    hasFocus() {
      return this.flipper.hasFocus();
    }
    show() {
      this.shouldOpenBottom || (this.nodes.popover.style.setProperty("--popover-height", this.height + "px"), this.nodes.popover.classList.add(z.CSS.popoverOpenTop)), this.nodes.overlay.classList.remove(z.CSS.overlayHidden), this.nodes.popover.classList.add(z.CSS.popoverOpened), this.flipper.activate(this.flippableElements), this.search !== void 0 && setTimeout(() => {
        this.search.focus();
      }, 100), ee() && this.scrollLocker.lock();
    }
    hide() {
      this.nodes.popover.classList.remove(z.CSS.popoverOpened), this.nodes.popover.classList.remove(z.CSS.popoverOpenTop), this.nodes.overlay.classList.add(z.CSS.overlayHidden), this.flipper.deactivate(), this.items.forEach((s) => s.reset()), this.search !== void 0 && this.search.clear(), ee() && this.scrollLocker.unlock(), this.emit(
        "close"
      );
    }
    destroy() {
      this.flipper.deactivate(), this.listeners.removeAll(), ee() && this.scrollLocker.unlock();
    }
    make() {
      this.nodes.popover = d.make("div", [z.CSS.popover]), this.nodes.nothingFoundMessage = d.make("div", [z.CSS.nothingFoundMessage], {
        textContent: this.messages.nothingFound
      }), this.nodes.popover.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make("div", [z.CSS.items]), this.items.forEach((s) => {
        this.nodes.items.appendChild(s.getElement());
      }), this.nodes.popover.appendChild(this.nodes.items), this.listeners.on(this.nodes.popover, "click", (s) => {
        const e = this.getTargetItem(s);
        e !== void 0 && this.handleItemClick(e);
      }), this.nodes.wrapper = d.make("div"), this.nodes.overlay = d.make("div", [z.CSS.overlay, z.CSS.overlayHidden]), this.listeners.on(this.nodes.overlay, "click", () => {
        this.hide();
      }), this.nodes.wrapper.appendChild(this.nodes.overlay), this.nodes.wrapper.appendChild(this.nodes.popover);
    }
    addSearch() {
      this.search = new ue({
        items: this.items,
        placeholder: this.messages.search,
        onSearch: (e, t) => {
          this.items.forEach((i) => {
            const n = !t.includes(i);
            i.toggleHidden(n);
          }), this.toggleNothingFoundMessage(t.length === 0), this.toggleCustomContent(e !== "");
          const o = e === "" ? this.flippableElements : t.map((i) => i.getElement());
          this.flipper.isActivated && (this.flipper.deactivate(), this.flipper.activate(o));
        }
      });
      const s = this.search.getElement();
      s.classList.add(z.CSS.search), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
    }
    addCustomContent(s) {
      this.nodes.customContent = s, this.nodes.customContent.classList.add(z.CSS.customContent), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
    }
    getTargetItem(s) {
      return this.items.find((e) => s.composedPath().includes(e.getElement()));
    }
    handleItemClick(s) {
      s.isDisabled || (this.items.filter((e) => e !== s).forEach((e) => e.reset()), s.handleClick(), this.toggleItemActivenessIfNeeded(s), s.closeOnActivate && this.hide());
    }
    initializeFlipper() {
      this.flipper = new G({
        items: this.flippableElements,
        focusedItemClass: P.CSS.focused,
        allowedKeys: [
          B.TAB,
          B.UP,
          B.DOWN,
          B.ENTER
        ]
      }), this.flipper.onFlip(this.onFlip);
    }
    get flippableElements() {
      const s = this.items.map((t) => t.getElement());
      return (this.customContentFlippableItems || []).concat(s);
    }
    get height() {
      let s = 0;
      if (this.nodes.popover === null)
        return s;
      const e = this.nodes.popover.cloneNode(true);
      return e.style.visibility = "hidden", e.style.position = "absolute", e.style.top = "-1000px", e.classList.add(z.CSS.popoverOpened), document.body.appendChild(e), s = e.offsetHeight, e.remove(), s;
    }
    get shouldOpenBottom() {
      const s = this.nodes.popover.getBoundingClientRect(), e = this.scopeElement.getBoundingClientRect(), t = this.height, o = s.top + t, i = s.top - t, n = Math.min(window.innerHeight, e.bottom);
      return i < e.top || o <= n;
    }
    toggleNothingFoundMessage(s) {
      this.nodes.nothingFoundMessage.classList.toggle(z.CSS.nothingFoundMessageDisplayed, s);
    }
    toggleCustomContent(s) {
      var e;
      (e = this.nodes.customContent) == null || e.classList.toggle(z.CSS.customContentHidden, s);
    }
    toggleItemActivenessIfNeeded(s) {
      if (s.toggle === true && s.toggleActive(), typeof s.toggle == "string") {
        const e = this.items.filter((t) => t.toggle === s.toggle);
        if (e.length === 1) {
          s.toggleActive();
          return;
        }
        e.forEach((t) => {
          t.toggleActive(t === s);
        });
      }
    }
  };
  var He = z;
  No([
    ae
  ], He.prototype, "height", 1);
  var Ro = class extends S {
    constructor() {
      super(...arguments), this.opened = false, this.selection = new m(), this.onPopoverClose = () => {
        this.close();
      };
    }
    get events() {
      return {
        opened: "block-settings-opened",
        closed: "block-settings-closed"
      };
    }
    get CSS() {
      return {
        settings: "ce-settings"
      };
    }
    get flipper() {
      var e;
      return (e = this.popover) == null ? void 0 : e.flipper;
    }
    make() {
      this.nodes.wrapper = d.make("div", [this.CSS.settings]);
    }
    destroy() {
      this.removeAllNodes();
    }
    open(e = this.Editor.BlockManager.currentBlock) {
      this.opened = true, this.selection.save(), e.selected = true, this.Editor.BlockSelection.clearCache();
      const [t, o] = e.getTunes();
      this.eventsDispatcher.emit(this.events.opened), this.popover = new He({
        searchable: true,
        items: t.map((i) => this.resolveTuneAliases(i)),
        customContent: o,
        customContentFlippableItems: this.getControls(o),
        scopeElement: this.Editor.API.methods.ui.nodes.redactor,
        messages: {
          nothingFound: $2.ui(X.ui.popover, "Nothing found"),
          search: $2.ui(X.ui.popover, "Filter")
        }
      }), this.popover.on(fe.Close, this.onPopoverClose), this.nodes.wrapper.append(this.popover.getElement()), this.popover.show();
    }
    getElement() {
      return this.nodes.wrapper;
    }
    close() {
      this.opened = false, m.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && (this.Editor.BlockManager.currentBlock.selected = false), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(fe.Close, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null);
    }
    getControls(e) {
      const { StylesAPI: t } = this.Editor, o = e.querySelectorAll(
        `.${t.classes.settingsButton}, ${d.allInputsSelector}`
      );
      return Array.from(o);
    }
    resolveTuneAliases(e) {
      const t = yo(e, { label: "title" });
      return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;
    }
  };
  var Y = class extends S {
    constructor() {
      super(...arguments), this.opened = false, this.tools = [], this.flipper = null, this.togglingCallback = null;
    }
    static get CSS() {
      return {
        conversionToolbarWrapper: "ce-conversion-toolbar",
        conversionToolbarShowed: "ce-conversion-toolbar--showed",
        conversionToolbarTools: "ce-conversion-toolbar__tools",
        conversionToolbarLabel: "ce-conversion-toolbar__label",
        conversionTool: "ce-conversion-tool",
        conversionToolHidden: "ce-conversion-tool--hidden",
        conversionToolIcon: "ce-conversion-tool__icon",
        conversionToolFocused: "ce-conversion-tool--focused",
        conversionToolActive: "ce-conversion-tool--active"
      };
    }
    make() {
      this.nodes.wrapper = d.make("div", [
        Y.CSS.conversionToolbarWrapper,
        ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
      ]), this.nodes.tools = d.make("div", Y.CSS.conversionToolbarTools);
      const e = d.make("div", Y.CSS.conversionToolbarLabel, {
        textContent: $2.ui(X.ui.inlineToolbar.converter, "Convert to")
      });
      return this.addTools(), this.enableFlipper(), d.append(this.nodes.wrapper, e), d.append(this.nodes.wrapper, this.nodes.tools), this.nodes.wrapper;
    }
    destroy() {
      this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes();
    }
    toggle(e) {
      this.opened ? this.close() : this.open(), D(e) && (this.togglingCallback = e);
    }
    open() {
      this.filterTools(), this.opened = true, this.nodes.wrapper.classList.add(Y.CSS.conversionToolbarShowed), window.requestAnimationFrame(() => {
        this.flipper.activate(this.tools.map((e) => e.button).filter((e) => !e.classList.contains(Y.CSS.conversionToolHidden))), this.flipper.focusFirst(), D(this.togglingCallback) && this.togglingCallback(true);
      });
    }
    close() {
      this.opened = false, this.flipper.deactivate(), this.nodes.wrapper.classList.remove(Y.CSS.conversionToolbarShowed), D(this.togglingCallback) && this.togglingCallback(false);
    }
    hasTools() {
      return this.tools.length === 1 ? this.tools[0].name !== this.config.defaultBlock : true;
    }
    async replaceWithBlock(e, t) {
      const o = this.Editor.BlockManager.currentBlock.tool, n = (await this.Editor.BlockManager.currentBlock.save()).data, r = this.Editor.Tools.blockTools.get(e);
      let a = "";
      const l = o.conversionConfig.export;
      if (D(l))
        a = l(n);
      else if (J(l))
        a = n[l];
      else {
        T("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");
        return;
      }
      const c = Z(
        a,
        r.sanitizeConfig
      );
      let u = {};
      const h = r.conversionConfig.import;
      if (D(h))
        u = h(c);
      else if (J(h))
        u[h] = c;
      else {
        T("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");
        return;
      }
      t && (u = Object.assign(u, t)), this.Editor.BlockManager.replace({
        tool: e,
        data: u
      }), this.Editor.BlockSelection.clearSelection(), this.close(), this.Editor.InlineToolbar.close(), oe(() => {
        this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);
      }, 10)();
    }
    addTools() {
      const e = this.Editor.Tools.blockTools;
      Array.from(e.entries()).forEach(([t, o]) => {
        const i = o.conversionConfig;
        !i || !i.import || o.toolbox.forEach(
          (n) => this.addToolIfValid(t, n)
        );
      });
    }
    addToolIfValid(e, t) {
      V(t) || !t.icon || this.addTool(e, t);
    }
    addTool(e, t) {
      const o = d.make("div", [Y.CSS.conversionTool]), i = d.make("div", [Y.CSS.conversionToolIcon]);
      o.dataset.tool = e, i.innerHTML = t.icon, d.append(o, i), d.append(o, d.text($2.t(X.toolNames, t.title || ke(e)))), d.append(this.nodes.tools, o), this.tools.push({
        name: e,
        button: o,
        toolboxItem: t
      }), this.listeners.on(o, "click", async () => {
        await this.replaceWithBlock(e, t.data);
      });
    }
    async filterTools() {
      const { currentBlock: e } = this.Editor.BlockManager, t = await e.getActiveToolboxEntry();
      function o(i, n) {
        return i.icon === n.icon && i.title === n.title;
      }
      this.tools.forEach((i) => {
        let n = false;
        if (t) {
          const r = o(t, i.toolboxItem);
          n = i.button.dataset.tool === e.name && r;
        }
        i.button.hidden = n, i.button.classList.toggle(Y.CSS.conversionToolHidden, n);
      });
    }
    enableFlipper() {
      this.flipper = new G({
        focusedItemClass: Y.CSS.conversionToolFocused
      });
    }
  };
  var Ae = {};
  var Do = {
    get exports() {
      return Ae;
    },
    set exports(s) {
      Ae = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "", i(i.s = 0);
      }([function(t, o, i) {
        function n(l, c) {
          for (var u = 0; u < c.length; u++) {
            var h = c[u];
            h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
          }
        }
        function r(l, c, u) {
          return c && n(l.prototype, c), u && n(l, u), l;
        }
        i.r(o);
        var a = function() {
          function l(c) {
            var u = this;
            (function(h, f) {
              if (!(h instanceof f))
                throw new TypeError("Cannot call a class as a function");
            })(this, l), this.commands = {}, this.keys = {}, this.name = c.name, this.parseShortcutName(c.name), this.element = c.on, this.callback = c.callback, this.executeShortcut = function(h) {
              u.execute(h);
            }, this.element.addEventListener("keydown", this.executeShortcut, false);
          }
          return r(l, null, [{ key: "supportedCommands", get: function() {
            return { SHIFT: ["SHIFT"], CMD: ["CMD", "CONTROL", "COMMAND", "WINDOWS", "CTRL"], ALT: ["ALT", "OPTION"] };
          } }, { key: "keyCodes", get: function() {
            return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, ".": 190 };
          } }]), r(l, [{ key: "parseShortcutName", value: function(c) {
            c = c.split("+");
            for (var u = 0; u < c.length; u++) {
              c[u] = c[u].toUpperCase();
              var h = false;
              for (var f in l.supportedCommands)
                if (l.supportedCommands[f].includes(c[u])) {
                  h = this.commands[f] = true;
                  break;
                }
              h || (this.keys[c[u]] = true);
            }
            for (var v in l.supportedCommands)
              this.commands[v] || (this.commands[v] = false);
          } }, { key: "execute", value: function(c) {
            var u, h = { CMD: c.ctrlKey || c.metaKey, SHIFT: c.shiftKey, ALT: c.altKey }, f = true;
            for (u in this.commands)
              this.commands[u] !== h[u] && (f = false);
            var v, p = true;
            for (v in this.keys)
              p = p && c.keyCode === l.keyCodes[v];
            f && p && this.callback(c);
          } }, { key: "remove", value: function() {
            this.element.removeEventListener("keydown", this.executeShortcut);
          } }]), l;
        }();
        o.default = a;
      }]).default;
    });
  })(Do);
  var Po = /* @__PURE__ */ xe(Ae);
  var Fo = class {
    constructor() {
      this.registeredShortcuts = /* @__PURE__ */ new Map();
    }
    add(e) {
      if (this.findShortcut(e.on, e.name))
        throw Error(
          `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`
        );
      const o = new Po({
        name: e.name,
        on: e.on,
        callback: e.handler
      }), i = this.registeredShortcuts.get(e.on) || [];
      this.registeredShortcuts.set(e.on, [...i, o]);
    }
    remove(e, t) {
      const o = this.findShortcut(e, t);
      if (!o)
        return;
      o.remove();
      const i = this.registeredShortcuts.get(e);
      this.registeredShortcuts.set(e, i.filter((n) => n !== o));
    }
    findShortcut(e, t) {
      return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);
    }
  };
  var re = new Fo();
  var Ho = Object.defineProperty;
  var zo = Object.getOwnPropertyDescriptor;
  var gt = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? zo(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && Ho(e, t, i), i;
  };
  var be = /* @__PURE__ */ ((s) => (s.Opened = "toolbox-opened", s.Closed = "toolbox-closed", s.BlockAdded = "toolbox-block-added", s))(be || {});
  var bt = class extends we {
    constructor({ api: s, tools: e, i18nLabels: t }) {
      super(), this.opened = false, this.nodes = {
        toolbox: null
      }, this.onPopoverClose = () => {
        this.opened = false, this.emit(
          "toolbox-closed"
        );
      }, this.api = s, this.tools = e, this.i18nLabels = t;
    }
    get isEmpty() {
      return this.toolsToBeDisplayed.length === 0;
    }
    static get CSS() {
      return {
        toolbox: "ce-toolbox"
      };
    }
    make() {
      return this.popover = new He({
        scopeElement: this.api.ui.nodes.redactor,
        searchable: true,
        messages: {
          nothingFound: this.i18nLabels.nothingFound,
          search: this.i18nLabels.filter
        },
        items: this.toolboxItemsToBeDisplayed
      }), this.popover.on(fe.Close, this.onPopoverClose), this.enableShortcuts(), this.nodes.toolbox = this.popover.getElement(), this.nodes.toolbox.classList.add(bt.CSS.toolbox), this.nodes.toolbox;
    }
    hasFocus() {
      var s;
      return (s = this.popover) == null ? void 0 : s.hasFocus();
    }
    destroy() {
      var s;
      super.destroy(), this.nodes && this.nodes.toolbox && (this.nodes.toolbox.remove(), this.nodes.toolbox = null), this.removeAllShortcuts(), (s = this.popover) == null || s.off(fe.Close, this.onPopoverClose);
    }
    toolButtonActivated(s, e) {
      this.insertNewBlock(s, e);
    }
    open() {
      var s;
      this.isEmpty || ((s = this.popover) == null || s.show(), this.opened = true, this.emit(
        "toolbox-opened"
      ));
    }
    close() {
      var s;
      (s = this.popover) == null || s.hide(), this.opened = false, this.emit(
        "toolbox-closed"
      );
    }
    toggle() {
      this.opened ? this.close() : this.open();
    }
    get toolsToBeDisplayed() {
      const s = [];
      return this.tools.forEach((e) => {
        e.toolbox && s.push(e);
      }), s;
    }
    get toolboxItemsToBeDisplayed() {
      const s = (e, t) => ({
        icon: e.icon,
        title: $2.t(X.toolNames, e.title || ke(t.name)),
        name: t.name,
        onActivate: () => {
          this.toolButtonActivated(t.name, e.data);
        },
        secondaryLabel: t.shortcut ? nt(t.shortcut) : ""
      });
      return this.toolsToBeDisplayed.reduce((e, t) => (Array.isArray(t.toolbox) ? t.toolbox.forEach((o) => {
        e.push(s(o, t));
      }) : t.toolbox !== void 0 && e.push(s(t.toolbox, t)), e), []);
    }
    enableShortcuts() {
      this.toolsToBeDisplayed.forEach((s) => {
        const e = s.shortcut;
        e && this.enableShortcutForTool(s.name, e);
      });
    }
    enableShortcutForTool(s, e) {
      re.add({
        name: e,
        on: this.api.ui.nodes.redactor,
        handler: (t) => {
          t.preventDefault(), this.insertNewBlock(s);
        }
      });
    }
    removeAllShortcuts() {
      this.toolsToBeDisplayed.forEach((s) => {
        const e = s.shortcut;
        e && re.remove(this.api.ui.nodes.redactor, e);
      });
    }
    async insertNewBlock(s, e) {
      const t = this.api.blocks.getCurrentBlockIndex(), o = this.api.blocks.getBlockByIndex(t);
      if (!o)
        return;
      const i = o.isEmpty ? t : t + 1;
      let n;
      if (e) {
        const a = await this.api.blocks.composeBlockData(s);
        n = Object.assign(a, e);
      }
      const r = this.api.blocks.insert(
        s,
        n,
        void 0,
        i,
        void 0,
        o.isEmpty
      );
      r.call(q.APPEND_CALLBACK), this.api.caret.setToBlock(i), this.emit("toolbox-block-added", {
        block: r
      }), this.api.toolbar.close();
    }
  };
  var ze = bt;
  gt([
    ae
  ], ze.prototype, "toolsToBeDisplayed", 1);
  gt([
    ae
  ], ze.prototype, "toolboxItemsToBeDisplayed", 1);
  var mt = "block hovered";
  var jo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.tooltip = new Fe();
    }
    get CSS() {
      return {
        toolbar: "ce-toolbar",
        content: "ce-toolbar__content",
        actions: "ce-toolbar__actions",
        actionsOpened: "ce-toolbar__actions--opened",
        toolbarOpened: "ce-toolbar--opened",
        openedToolboxHolderModifier: "codex-editor--toolbox-opened",
        plusButton: "ce-toolbar__plus",
        plusButtonShortcut: "ce-toolbar__plus-shortcut",
        settingsToggler: "ce-toolbar__settings-btn",
        settingsTogglerHidden: "ce-toolbar__settings-btn--hidden"
      };
    }
    get opened() {
      return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);
    }
    get toolbox() {
      return {
        opened: this.toolboxInstance.opened,
        close: () => {
          this.toolboxInstance.close();
        },
        open: () => {
          this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();
        },
        toggle: () => this.toolboxInstance.toggle(),
        hasFocus: () => this.toolboxInstance.hasFocus()
      };
    }
    get blockActions() {
      return {
        hide: () => {
          this.nodes.actions.classList.remove(this.CSS.actionsOpened);
        },
        show: () => {
          this.nodes.actions.classList.add(this.CSS.actionsOpened);
        }
      };
    }
    get blockTunesToggler() {
      return {
        hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),
        show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)
      };
    }
    toggleReadOnly(e) {
      e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : (this.drawUI(), this.enableModuleBindings());
    }
    moveAndOpen(e = this.Editor.BlockManager.currentBlock) {
      if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)
        return;
      this.hoveredBlock = e;
      const t = e.holder, { isMobile: o } = this.Editor.UI, i = e.pluginsContent, n = window.getComputedStyle(i), r = parseInt(n.paddingTop, 10), a = t.offsetHeight;
      let l;
      o ? l = t.offsetTop + a : l = t.offsetTop + r, this.nodes.wrapper.style.top = `${Math.floor(l)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();
    }
    close() {
      this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), this.toolboxInstance.close(), this.Editor.BlockSettings.close());
    }
    open(e = true) {
      oe(() => {
        this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();
      }, 50)();
    }
    make() {
      this.nodes.wrapper = d.make("div", this.CSS.toolbar), ["content", "actions"].forEach((t) => {
        this.nodes[t] = d.make("div", this.CSS[t]);
      }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make("div", this.CSS.plusButton, {
        innerHTML: Mo
      }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, "click", () => {
        this.tooltip.hide(true), this.plusButtonClicked();
      }, false);
      const e = d.make("div");
      e.appendChild(document.createTextNode($2.ui(X.ui.toolbar.toolbox, "Add"))), e.appendChild(d.make("div", this.CSS.plusButtonShortcut, {
        textContent: "\u21E5 Tab"
      })), this.tooltip.onHover(this.nodes.plusButton, e, {
        hidingDelay: 400
      }), this.nodes.settingsToggler = d.make("span", this.CSS.settingsToggler, {
        innerHTML: Io
      }), d.append(this.nodes.actions, this.nodes.settingsToggler), this.tooltip.onHover(
        this.nodes.settingsToggler,
        $2.ui(X.ui.blockTunes.toggler, "Click to tune"),
        {
          hidingDelay: 400
        }
      ), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);
    }
    makeToolbox() {
      return this.toolboxInstance = new ze({
        api: this.Editor.API.methods,
        tools: this.Editor.Tools.blockTools,
        i18nLabels: {
          filter: $2.ui(X.ui.popover, "Filter"),
          nothingFound: $2.ui(X.ui.popover, "Nothing found")
        }
      }), this.toolboxInstance.on(be.Opened, () => {
        this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);
      }), this.toolboxInstance.on(be.Closed, () => {
        this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);
      }), this.toolboxInstance.on(be.BlockAdded, ({ block: e }) => {
        const { BlockManager: t, Caret: o } = this.Editor, i = t.getBlockById(e.id);
        i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o.setToBlock(t.lastBlock)) : o.setToBlock(t.nextBlock));
      }), this.toolboxInstance.make();
    }
    plusButtonClicked() {
      this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.toggle();
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(this.nodes.settingsToggler, "mousedown", (e) => {
        e.stopPropagation(), this.settingsTogglerClicked(), this.toolboxInstance.opened && this.toolboxInstance.close(), this.tooltip.hide(true);
      }, true), ee() || this.eventsDispatcher.on(mt, (e) => {
        this.Editor.BlockSettings.opened || this.toolboxInstance.opened || this.moveAndOpen(e.block);
      });
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    settingsTogglerClicked() {
      this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);
    }
    drawUI() {
      this.Editor.BlockSettings.make(), this.make();
    }
    destroy() {
      this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy(), this.tooltip.destroy();
    }
  };
  var ye = /* @__PURE__ */ ((s) => (s[s.Block = 0] = "Block", s[s.Inline = 1] = "Inline", s[s.Tune = 2] = "Tune", s))(ye || {});
  var me = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.Toolbox = "toolbox", s.EnabledInlineTools = "inlineToolbar", s.EnabledBlockTunes = "tunes", s.Config = "config", s))(me || {});
  var kt = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.SanitizeConfig = "sanitize", s))(kt || {});
  var se = /* @__PURE__ */ ((s) => (s.IsEnabledLineBreaks = "enableLineBreaks", s.Toolbox = "toolbox", s.ConversionConfig = "conversionConfig", s.IsReadOnlySupported = "isReadOnlySupported", s.PasteConfig = "pasteConfig", s))(se || {});
  var je = /* @__PURE__ */ ((s) => (s.IsInline = "isInline", s.Title = "title", s))(je || {});
  var vt = /* @__PURE__ */ ((s) => (s.IsTune = "isTune", s))(vt || {});
  var Ue = class {
    constructor({
      name: e,
      constructable: t,
      config: o,
      api: i,
      isDefault: n,
      isInternal: r = false,
      defaultPlaceholder: a
    }) {
      this.api = i, this.name = e, this.constructable = t, this.config = o, this.isDefault = n, this.isInternal = r, this.defaultPlaceholder = a;
    }
    get settings() {
      const e = this.config.config || {};
      return this.isDefault && !("placeholder" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;
    }
    reset() {
      if (D(this.constructable.reset))
        return this.constructable.reset();
    }
    prepare() {
      if (D(this.constructable.prepare))
        return this.constructable.prepare({
          toolName: this.name,
          config: this.settings
        });
    }
    get shortcut() {
      const e = this.constructable.shortcut;
      return this.config.shortcut || e;
    }
    get sanitizeConfig() {
      return this.constructable.sanitize || {};
    }
    isInline() {
      return this.type === 1;
    }
    isBlock() {
      return this.type === 0;
    }
    isTune() {
      return this.type === 2;
    }
  };
  var Uo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.CSS = {
        inlineToolbar: "ce-inline-toolbar",
        inlineToolbarShowed: "ce-inline-toolbar--showed",
        inlineToolbarLeftOriented: "ce-inline-toolbar--left-oriented",
        inlineToolbarRightOriented: "ce-inline-toolbar--right-oriented",
        inlineToolbarShortcut: "ce-inline-toolbar__shortcut",
        buttonsWrapper: "ce-inline-toolbar__buttons",
        actionsWrapper: "ce-inline-toolbar__actions",
        inlineToolButton: "ce-inline-tool",
        inputField: "cdx-input",
        focusedButton: "ce-inline-tool--focused",
        conversionToggler: "ce-inline-toolbar__dropdown",
        conversionTogglerArrow: "ce-inline-toolbar__dropdown-arrow",
        conversionTogglerHidden: "ce-inline-toolbar__dropdown--hidden",
        conversionTogglerContent: "ce-inline-toolbar__dropdown-content",
        togglerAndButtonsWrapper: "ce-inline-toolbar__toggler-and-button-wrapper"
      }, this.opened = false, this.toolbarVerticalMargin = ee() ? 20 : 6, this.buttonsList = null, this.width = 0, this.flipper = null, this.tooltip = new Fe();
    }
    toggleReadOnly(e) {
      e ? (this.destroy(), this.Editor.ConversionToolbar.destroy()) : this.make();
    }
    tryToShow(e = false, t = true) {
      if (!this.allowedToShow()) {
        e && this.close();
        return;
      }
      this.move(), this.open(t), this.Editor.Toolbar.close();
    }
    move() {
      const e = m.rect, t = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), o = {
        x: e.x - t.left,
        y: e.y + e.height - t.top + this.toolbarVerticalMargin
      };
      e.width && (o.x += Math.floor(e.width / 2));
      const i = o.x - this.width / 2, n = o.x + this.width / 2;
      this.nodes.wrapper.classList.toggle(
        this.CSS.inlineToolbarLeftOriented,
        i < this.Editor.UI.contentRect.left
      ), this.nodes.wrapper.classList.toggle(
        this.CSS.inlineToolbarRightOriented,
        n > this.Editor.UI.contentRect.right
      ), this.nodes.wrapper.style.left = Math.floor(o.x) + "px", this.nodes.wrapper.style.top = Math.floor(o.y) + "px";
    }
    close() {
      this.opened && (this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed), Array.from(this.toolsInstances.entries()).forEach(([e, t]) => {
        const o = this.getToolShortcut(e);
        o && re.remove(this.Editor.UI.nodes.redactor, o), D(t.clear) && t.clear();
      }), this.opened = false, this.flipper.deactivate(), this.Editor.ConversionToolbar.close()));
    }
    open(e = true) {
      if (this.opened)
        return;
      this.addToolsFiltered(), this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed), this.buttonsList = this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`), this.opened = true, e && this.Editor.ConversionToolbar.hasTools() ? this.setConversionTogglerContent() : this.nodes.conversionToggler.hidden = true;
      let t = Array.from(this.buttonsList);
      t.unshift(this.nodes.conversionToggler), t = t.filter((o) => !o.hidden), this.flipper.activate(t);
    }
    containsNode(e) {
      return this.nodes.wrapper.contains(e);
    }
    destroy() {
      this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes(), this.tooltip.destroy();
    }
    make() {
      this.nodes.wrapper = d.make("div", [
        this.CSS.inlineToolbar,
        ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
      ]), this.nodes.togglerAndButtonsWrapper = d.make("div", this.CSS.togglerAndButtonsWrapper), this.nodes.buttons = d.make("div", this.CSS.buttonsWrapper), this.nodes.actions = d.make("div", this.CSS.actionsWrapper), this.listeners.on(this.nodes.wrapper, "mousedown", (e) => {
        e.target.closest(`.${this.CSS.actionsWrapper}`) || e.preventDefault();
      }), d.append(this.nodes.wrapper, [this.nodes.togglerAndButtonsWrapper, this.nodes.actions]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper), this.addConversionToggler(), d.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons), this.prepareConversionToolbar(), this.recalculateWidth(), this.enableFlipper();
    }
    allowedToShow() {
      const e = ["IMG", "INPUT"], t = m.get(), o = m.text;
      if (!t || !t.anchorNode || t.isCollapsed || o.length < 1)
        return false;
      const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;
      if (t && e.includes(i.tagName) || i.closest('[contenteditable="true"]') === null)
        return false;
      const r = this.Editor.BlockManager.getBlock(t.anchorNode);
      return r ? r.tool.inlineTools.size !== 0 : false;
    }
    recalculateWidth() {
      this.width = this.nodes.wrapper.offsetWidth;
    }
    addConversionToggler() {
      this.nodes.conversionToggler = d.make("div", this.CSS.conversionToggler), this.nodes.conversionTogglerContent = d.make("div", this.CSS.conversionTogglerContent);
      const e = d.make("div", this.CSS.conversionTogglerArrow, {
        innerHTML: pt
      });
      this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent), this.nodes.conversionToggler.appendChild(e), this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler), this.listeners.on(this.nodes.conversionToggler, "click", () => {
        this.Editor.ConversionToolbar.toggle((t) => {
          !t && this.opened ? this.flipper.activate() : this.opened && this.flipper.deactivate();
        });
      }), ee() === false && this.tooltip.onHover(this.nodes.conversionToggler, $2.ui(X.ui.inlineToolbar.converter, "Convert to"), {
        placement: "top",
        hidingDelay: 100
      });
    }
    async setConversionTogglerContent() {
      const { BlockManager: e } = this.Editor, { currentBlock: t } = e, o = t.name, i = t.tool.conversionConfig, n = i && i.export;
      this.nodes.conversionToggler.hidden = !n, this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden, !n);
      const r = await t.getActiveToolboxEntry() || {};
      this.nodes.conversionTogglerContent.innerHTML = r.icon || r.title || ke(o);
    }
    prepareConversionToolbar() {
      const e = this.Editor.ConversionToolbar.make();
      d.append(this.nodes.wrapper, e);
    }
    addToolsFiltered() {
      const e = m.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode);
      this.nodes.buttons.innerHTML = "", this.nodes.actions.innerHTML = "", this.toolsInstances = /* @__PURE__ */ new Map(), Array.from(t.tool.inlineTools.values()).forEach((o) => {
        this.addTool(o);
      }), this.recalculateWidth();
    }
    addTool(e) {
      const t = e.create(), o = t.render();
      if (!o) {
        T("Render method must return an instance of Node", "warn", e.name);
        return;
      }
      if (o.dataset.tool = e.name, this.nodes.buttons.appendChild(o), this.toolsInstances.set(e.name, t), D(t.renderActions)) {
        const a = t.renderActions();
        this.nodes.actions.appendChild(a);
      }
      this.listeners.on(o, "click", (a) => {
        this.toolClicked(t), a.preventDefault();
      });
      const i = this.getToolShortcut(e.name);
      if (i)
        try {
          this.enableShortcuts(t, i);
        } catch (e2) {
        }
      const n = d.make("div"), r = $2.t(
        X.toolNames,
        e.title || ke(e.name)
      );
      n.appendChild(d.text(r)), i && n.appendChild(d.make("div", this.CSS.inlineToolbarShortcut, {
        textContent: nt(i)
      })), ee() === false && this.tooltip.onHover(o, n, {
        placement: "top",
        hidingDelay: 100
      }), t.checkState(m.get());
    }
    getToolShortcut(e) {
      const { Tools: t } = this.Editor, o = t.inlineTools.get(e), i = t.internal.inlineTools;
      return Array.from(i.keys()).includes(e) ? this.inlineTools[e][kt.Shortcut] : o.shortcut;
    }
    enableShortcuts(e, t) {
      re.add({
        name: t,
        handler: (o) => {
          const { currentBlock: i } = this.Editor.BlockManager;
          i && i.tool.enabledInlineTools && (o.preventDefault(), this.toolClicked(e));
        },
        on: this.Editor.UI.nodes.redactor
      });
    }
    toolClicked(e) {
      const t = m.range;
      e.surround(t), this.checkToolsState(), e.renderActions !== void 0 && this.flipper.deactivate();
    }
    checkToolsState() {
      this.toolsInstances.forEach((e) => {
        e.checkState(m.get());
      });
    }
    get inlineTools() {
      const e = {};
      return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o]) => {
        e[t] = o.create();
      }), e;
    }
    enableFlipper() {
      this.flipper = new G({
        focusedItemClass: this.CSS.focusedButton,
        allowedKeys: [
          B.ENTER,
          B.TAB
        ]
      });
    }
  };
  var $o = class extends S {
    keydown(e) {
      switch (this.beforeKeydownProcessing(e), e.keyCode) {
        case B.BACKSPACE:
          this.backspace(e);
          break;
        case B.ENTER:
          this.enter(e);
          break;
        case B.DOWN:
        case B.RIGHT:
          this.arrowRightAndDown(e);
          break;
        case B.UP:
        case B.LEFT:
          this.arrowLeftAndUp(e);
          break;
        case B.TAB:
          this.tabPressed(e);
          break;
      }
    }
    beforeKeydownProcessing(e) {
      this.needToolbarClosing(e) && tt(e.keyCode) && (this.Editor.Toolbar.close(), this.Editor.ConversionToolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || (this.Editor.BlockManager.clearFocused(), this.Editor.BlockSelection.clearSelection(e)));
    }
    keyup(e) {
      e.shiftKey || this.Editor.UI.checkEmptiness();
    }
    tabPressed(e) {
      this.Editor.BlockSelection.clearSelection(e);
      const { BlockManager: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor, n = t.currentBlock;
      if (!n)
        return;
      const r = n.isEmpty, a = n.tool.isDefault && r, l = !r && i.opened, c = !r && !m.isCollapsed && o.opened;
      a ? this.activateToolbox() : !l && !c && this.activateBlockSettings();
    }
    dragOver(e) {
      const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
      t.dropTarget = true;
    }
    dragLeave(e) {
      const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
      t.dropTarget = false;
    }
    handleCommandC(e) {
      const { BlockSelection: t } = this.Editor;
      t.anyBlockSelected && t.copySelectedBlocks(e);
    }
    handleCommandX(e) {
      const { BlockSelection: t, BlockManager: o, Caret: i } = this.Editor;
      t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {
        const n = o.removeSelectedBlocks(), r = o.insertDefaultBlockAtIndex(n, true);
        i.setToBlock(r, i.positions.START), t.clearSelection(e);
      });
    }
    enter(e) {
      const { BlockManager: t, UI: o } = this.Editor;
      if (t.currentBlock.tool.isLineBreaksEnabled || o.someToolbarOpened && o.someFlipperButtonFocused || e.shiftKey)
        return;
      let n = this.Editor.BlockManager.currentBlock;
      this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : this.Editor.Caret.isAtEnd ? n = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : n = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(n), this.Editor.Toolbar.moveAndOpen(n), e.preventDefault();
    }
    backspace(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, n = t.currentBlock, r = n.tool;
      if (n.selected || n.isEmpty && n.currentInput === n.firstInput) {
        e.preventDefault();
        const c = t.currentBlockIndex;
        t.previousBlock && t.previousBlock.inputs.length === 0 ? t.removeBlock(c - 1) : t.removeBlock(), i.setToBlock(
          t.currentBlock,
          c ? i.positions.END : i.positions.START
        ), this.Editor.Toolbar.close(), o.clearSelection(e);
        return;
      }
      if (r.isLineBreaksEnabled && !i.isAtStart)
        return;
      const a = t.currentBlockIndex === 0;
      i.isAtStart && m.isCollapsed && n.currentInput === n.firstInput && !a && (e.preventDefault(), this.mergeBlocks());
    }
    mergeBlocks() {
      const { BlockManager: e, Caret: t, Toolbar: o } = this.Editor, i = e.previousBlock, n = e.currentBlock;
      if (n.name !== i.name || !i.mergeable) {
        if (i.inputs.length === 0 || i.isEmpty) {
          e.removeBlock(e.currentBlockIndex - 1), t.setToBlock(e.currentBlock), o.close();
          return;
        }
        t.navigatePrevious() && o.close();
        return;
      }
      t.createShadow(i.pluginsContent), e.mergeBlocks(i, n).then(() => {
        t.restoreCaret(i.pluginsContent), i.pluginsContent.normalize(), o.close();
      });
    }
    arrowRightAndDown(e) {
      const t = G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB);
      if (this.Editor.UI.someToolbarOpened && t)
        return;
      this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
      const o = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;
      if (e.shiftKey && e.keyCode === B.DOWN && o) {
        this.Editor.CrossBlockSelection.toggleBlockSelectedState();
        return;
      }
      (e.keyCode === B.DOWN || e.keyCode === B.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) ? e.preventDefault() : oe(() => {
        this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
      }, 20)(), this.Editor.BlockSelection.clearSelection(e);
    }
    arrowLeftAndUp(e) {
      if (this.Editor.UI.someToolbarOpened) {
        if (G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB))
          return;
        this.Editor.UI.closeAllToolbars();
      }
      this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
      const t = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;
      if (e.shiftKey && e.keyCode === B.UP && t) {
        this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);
        return;
      }
      (e.keyCode === B.UP || e.keyCode === B.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) ? e.preventDefault() : oe(() => {
        this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
      }, 20)(), this.Editor.BlockSelection.clearSelection(e);
    }
    needToolbarClosing(e) {
      const t = e.keyCode === B.ENTER && this.Editor.Toolbar.toolbox.opened, o = e.keyCode === B.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === B.ENTER && this.Editor.InlineToolbar.opened, n = e.keyCode === B.ENTER && this.Editor.ConversionToolbar.opened, r = e.keyCode === B.TAB;
      return !(e.shiftKey || r || t || o || i || n);
    }
    activateToolbox() {
      this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();
    }
    activateBlockSettings() {
      this.Editor.Toolbar.opened || (this.Editor.BlockManager.currentBlock.focused = true, this.Editor.Toolbar.moveAndOpen()), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();
    }
  };
  var Ce = class {
    constructor(e) {
      this.blocks = [], this.workingArea = e;
    }
    get length() {
      return this.blocks.length;
    }
    get array() {
      return this.blocks;
    }
    get nodes() {
      return it(this.workingArea.children);
    }
    static set(e, t, o) {
      return isNaN(Number(t)) ? (Reflect.set(e, t, o), true) : (e.insert(+t, o), true);
    }
    static get(e, t) {
      return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);
    }
    push(e) {
      this.blocks.push(e), this.insertToDOM(e);
    }
    swap(e, t) {
      const o = this.blocks[t];
      d.swap(this.blocks[e].holder, o.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o;
    }
    move(e, t) {
      const o = this.blocks.splice(t, 1)[0], i = e - 1, n = Math.max(0, i), r = this.blocks[n];
      e > 0 ? this.insertToDOM(o, "afterend", r) : this.insertToDOM(o, "beforebegin", r), this.blocks.splice(e, 0, o);
      const a = this.composeBlockEvent("move", {
        fromIndex: t,
        toIndex: e
      });
      o.call(q.MOVED, a);
    }
    insert(e, t, o = false) {
      if (!this.length) {
        this.push(t);
        return;
      }
      e > this.length && (e = this.length), o && (this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED));
      const i = o ? 1 : 0;
      if (this.blocks.splice(e, i, t), e > 0) {
        const n = this.blocks[e - 1];
        this.insertToDOM(t, "afterend", n);
      } else {
        const n = this.blocks[e + 1];
        n ? this.insertToDOM(t, "beforebegin", n) : this.insertToDOM(t);
      }
    }
    remove(e) {
      isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED), this.blocks.splice(e, 1);
    }
    removeAll() {
      this.workingArea.innerHTML = "", this.blocks.forEach((e) => e.call(q.REMOVED)), this.blocks.length = 0;
    }
    insertAfter(e, t) {
      const o = this.blocks.indexOf(e);
      this.insert(o + 1, t);
    }
    get(e) {
      return this.blocks[e];
    }
    indexOf(e) {
      return this.blocks.indexOf(e);
    }
    insertToDOM(e, t, o) {
      t ? o.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(q.RENDERED);
    }
    composeBlockEvent(e, t) {
      return new CustomEvent(e, {
        detail: t
      });
    }
  };
  var Je = "block-removed";
  var Qe = "block-added";
  var Wo = "block-moved";
  var Yo = "block-changed";
  var Ko = class extends S {
    constructor() {
      super(...arguments), this._currentBlockIndex = -1, this._blocks = null;
    }
    get currentBlockIndex() {
      return this._currentBlockIndex;
    }
    set currentBlockIndex(e) {
      this._currentBlockIndex = e;
    }
    get firstBlock() {
      return this._blocks[0];
    }
    get lastBlock() {
      return this._blocks[this._blocks.length - 1];
    }
    get currentBlock() {
      return this._blocks[this.currentBlockIndex];
    }
    set currentBlock(e) {
      this.currentBlockIndex = this.getBlockIndex(e);
    }
    get nextBlock() {
      return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];
    }
    get nextContentfulBlock() {
      return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);
    }
    get previousContentfulBlock() {
      return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);
    }
    get previousBlock() {
      return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];
    }
    get blocks() {
      return this._blocks.array;
    }
    get isEditorEmpty() {
      return this.blocks.every((e) => e.isEmpty);
    }
    prepare() {
      const e = new Ce(this.Editor.UI.nodes.redactor);
      this._blocks = new Proxy(e, {
        set: Ce.set,
        get: Ce.get
      }), this.listeners.on(
        document,
        "copy",
        (t) => this.Editor.BlockEvents.handleCommandC(t)
      );
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    composeBlock({
      tool: e,
      data: t = {},
      id: o = void 0,
      tunes: i = {}
    }) {
      const n = this.Editor.ReadOnly.isEnabled, r = this.Editor.Tools.blockTools.get(e), a = new F({
        id: o,
        data: t,
        tool: r,
        api: this.Editor.API,
        readOnly: n,
        tunesData: i
      }, this.eventsDispatcher);
      return n || this.bindBlockEvents(a), a;
    }
    insert({
      id: e = void 0,
      tool: t = this.config.defaultBlock,
      data: o = {},
      index: i,
      needToFocus: n = true,
      replace: r = false,
      tunes: a = {}
    } = {}) {
      let l = i;
      l === void 0 && (l = this.currentBlockIndex + (r ? 0 : 1));
      const c = this.composeBlock({
        id: e,
        tool: t,
        data: o,
        tunes: a
      });
      return r && this.blockDidMutated(Je, this.getBlockByIndex(l), {
        index: l
      }), this._blocks.insert(l, c, r), this.blockDidMutated(Qe, c, {
        index: l
      }), n ? this.currentBlockIndex = l : l <= this.currentBlockIndex && this.currentBlockIndex++, c;
    }
    replace({
      tool: e = this.config.defaultBlock,
      data: t = {}
    }) {
      return this.insert({
        tool: e,
        data: t,
        index: this.currentBlockIndex,
        replace: true
      });
    }
    paste(e, t, o = false) {
      const i = this.insert({
        tool: e,
        replace: o
      });
      try {
        i.call(q.ON_PASTE, t);
      } catch (n) {
        T(`${e}: onPaste callback call is failed`, "error", n);
      }
      return i;
    }
    insertDefaultBlockAtIndex(e, t = false) {
      const o = this.composeBlock({ tool: this.config.defaultBlock });
      return this._blocks[e] = o, this.blockDidMutated(Qe, o, {
        index: e
      }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o;
    }
    insertAtEnd() {
      return this.currentBlockIndex = this.blocks.length - 1, this.insert();
    }
    async mergeBlocks(e, t) {
      const o = this._blocks.indexOf(t);
      if (t.isEmpty)
        return;
      const i = await t.data;
      V(i) || await e.mergeWith(i), this.removeBlock(o), this.currentBlockIndex = this._blocks.indexOf(e);
    }
    removeBlock(e = this.currentBlockIndex) {
      if (!this.validateIndex(e))
        throw new Error("Can't find a Block to remove");
      const t = this._blocks[e];
      t.destroy(), this._blocks.remove(e), this.blockDidMutated(Je, t, {
        index: e
      }), this.currentBlockIndex >= e && this.currentBlockIndex--, this.blocks.length ? e === 0 && (this.currentBlockIndex = 0) : (this.currentBlockIndex = -1, this.insert());
    }
    removeSelectedBlocks() {
      let e;
      for (let t = this.blocks.length - 1; t >= 0; t--)
        this.blocks[t].selected && (this.removeBlock(t), e = t);
      return e;
    }
    removeAllBlocks() {
      for (let e = this.blocks.length - 1; e >= 0; e--)
        this._blocks.remove(e);
      this.currentBlockIndex = -1, this.insert(), this.currentBlock.firstInput.focus();
    }
    split() {
      const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make("div");
      t.appendChild(e);
      const o = {
        text: d.isEmpty(t) ? "" : t.innerHTML
      };
      return this.insert({ data: o });
    }
    getBlockByIndex(e) {
      return e === -1 && (e = this._blocks.length - 1), this._blocks[e];
    }
    getBlockIndex(e) {
      return this._blocks.indexOf(e);
    }
    getBlockById(e) {
      return this._blocks.array.find((t) => t.id === e);
    }
    getBlock(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = this._blocks.nodes, o = e.closest(`.${F.CSS.wrapper}`), i = t.indexOf(o);
      if (i >= 0)
        return this._blocks[i];
    }
    highlightCurrentNode() {
      this.clearFocused(), this.currentBlock.focused = true;
    }
    clearFocused() {
      this.blocks.forEach((e) => {
        e.focused = false;
      });
    }
    setCurrentBlockByChildNode(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = e.closest(`.${F.CSS.wrapper}`);
      if (!t)
        return;
      const o = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);
      if (o != null && o.isEqualNode(this.Editor.UI.nodes.wrapper))
        return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;
    }
    getBlockByChildNode(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = e.closest(`.${F.CSS.wrapper}`);
      return this.blocks.find((o) => o.holder === t);
    }
    swap(e, t) {
      this._blocks.swap(e, t), this.currentBlockIndex = t;
    }
    move(e, t = this.currentBlockIndex) {
      if (isNaN(e) || isNaN(t)) {
        T("Warning during 'move' call: incorrect indices provided.", "warn");
        return;
      }
      if (!this.validateIndex(e) || !this.validateIndex(t)) {
        T("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.", "warn");
        return;
      }
      this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(Wo, this.currentBlock, {
        fromIndex: t,
        toIndex: e
      });
    }
    dropPointer() {
      this.currentBlockIndex = -1, this.clearFocused();
    }
    clear(e = false) {
      this._blocks.removeAll(), this.dropPointer(), e && this.insert(), this.Editor.UI.checkEmptiness();
    }
    async destroy() {
      await Promise.all(this.blocks.map((e) => e.destroy()));
    }
    bindBlockEvents(e) {
      const { BlockEvents: t } = this.Editor;
      this.readOnlyMutableListeners.on(e.holder, "keydown", (o) => {
        t.keydown(o);
      }), this.readOnlyMutableListeners.on(e.holder, "keyup", (o) => {
        t.keyup(o);
      }), this.readOnlyMutableListeners.on(e.holder, "dragover", (o) => {
        t.dragOver(o);
      }), this.readOnlyMutableListeners.on(e.holder, "dragleave", (o) => {
        t.dragLeave(o);
      }), e.on("didMutated", (o) => this.blockDidMutated(Yo, o, {
        index: this.getBlockIndex(o)
      }));
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(
        document,
        "cut",
        (e) => this.Editor.BlockEvents.handleCommandX(e)
      ), this.blocks.forEach((e) => {
        this.bindBlockEvents(e);
      });
    }
    validateIndex(e) {
      return !(e < 0 || e >= this._blocks.length);
    }
    blockDidMutated(e, t, o) {
      const i = new CustomEvent(e, {
        detail: __spreadValues({
          target: new he(t)
        }, o)
      });
      return this.eventsDispatcher.emit(lt, {
        event: i
      }), t;
    }
  };
  var Xo = class extends S {
    constructor() {
      super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
    }
    get sanitizerConfig() {
      return {
        p: {},
        h1: {},
        h2: {},
        h3: {},
        h4: {},
        h5: {},
        h6: {},
        ol: {},
        ul: {},
        li: {},
        br: true,
        img: {
          src: true,
          width: true,
          height: true
        },
        a: {
          href: true
        },
        b: {},
        i: {},
        u: {}
      };
    }
    get allBlocksSelected() {
      const { BlockManager: e } = this.Editor;
      return e.blocks.every((t) => t.selected === true);
    }
    set allBlocksSelected(e) {
      const { BlockManager: t } = this.Editor;
      t.blocks.forEach((o) => {
        o.selected = e;
      }), this.clearCache();
    }
    get anyBlockSelected() {
      const { BlockManager: e } = this.Editor;
      return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === true)), this.anyBlockSelectedCache;
    }
    get selectedBlocks() {
      return this.Editor.BlockManager.blocks.filter((e) => e.selected);
    }
    prepare() {
      this.selection = new m(), re.add({
        name: "CMD+A",
        handler: (e) => {
          const { BlockManager: t, ReadOnly: o } = this.Editor;
          if (o.isEnabled) {
            e.preventDefault(), this.selectAllBlocks();
            return;
          }
          t.currentBlock && this.handleCommandA(e);
        },
        on: this.Editor.UI.nodes.redactor
      });
    }
    toggleReadOnly() {
      m.get().removeAllRanges(), this.allBlocksSelected = false;
    }
    unSelectBlockByIndex(e) {
      const { BlockManager: t } = this.Editor;
      let o;
      isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), o.selected = false, this.clearCache();
    }
    clearSelection(e, t = false) {
      const { BlockManager: o, Caret: i, RectangleSelection: n } = this.Editor;
      this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
      const r = e && e instanceof KeyboardEvent, a = r && tt(e.keyCode);
      if (this.anyBlockSelected && r && a && !m.isSelectionExists) {
        const l = o.removeSelectedBlocks();
        o.insertDefaultBlockAtIndex(l, true), i.setToBlock(o.currentBlock), oe(() => {
          const c = e.key;
          i.insertContentAtCaretPosition(c.length > 1 ? "" : c);
        }, 20)();
      }
      if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || n.isRectActivated()) {
        this.Editor.RectangleSelection.clearSelection();
        return;
      }
      t && this.selection.restore(), this.allBlocksSelected = false;
    }
    copySelectedBlocks(e) {
      e.preventDefault();
      const t = d.make("div");
      this.selectedBlocks.forEach((n) => {
        const r = Z(n.holder.innerHTML, this.sanitizerConfig), a = d.make("p");
        a.innerHTML = r, t.appendChild(a);
      });
      const o = Array.from(t.childNodes).map((n) => n.textContent).join(`

`), i = t.innerHTML;
      return e.clipboardData.setData("text/plain", o), e.clipboardData.setData("text/html", i), Promise.all(this.selectedBlocks.map((n) => n.save())).then((n) => {
        try {
          e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(n));
        } catch (e2) {
        }
      });
    }
    selectBlockByIndex(e) {
      const { BlockManager: t } = this.Editor;
      t.clearFocused();
      let o;
      isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), this.selection.save(), m.get().removeAllRanges(), o.selected = true, this.clearCache(), this.Editor.InlineToolbar.close();
    }
    clearCache() {
      this.anyBlockSelectedCache = null;
    }
    destroy() {
      re.remove(this.Editor.UI.nodes.redactor, "CMD+A");
    }
    handleCommandA(e) {
      if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {
        this.readyToBlockSelection = true;
        return;
      }
      const o = this.Editor.BlockManager.getBlock(e.target).inputs;
      if (o.length > 1 && !this.readyToBlockSelection) {
        this.readyToBlockSelection = true;
        return;
      }
      if (o.length === 1 && !this.needToSelectAll) {
        this.needToSelectAll = true;
        return;
      }
      this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = false, this.readyToBlockSelection = false, this.Editor.ConversionToolbar.close()) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlockByIndex(), this.needToSelectAll = true);
    }
    selectAllBlocks() {
      this.selection.save(), m.get().removeAllRanges(), this.allBlocksSelected = true, this.Editor.InlineToolbar.close();
    }
  };
  var ve = class extends S {
    get positions() {
      return {
        START: "start",
        END: "end",
        DEFAULT: "default"
      };
    }
    static get CSS() {
      return {
        shadowCaret: "cdx-shadow-caret"
      };
    }
    get isAtStart() {
      const e = m.get(), t = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);
      let o = e.focusNode;
      if (d.isNativeInput(t))
        return t.selectionEnd === 0;
      if (!e.anchorNode)
        return false;
      let i = o.textContent.search(/\S/);
      i === -1 && (i = 0);
      let n = e.focusOffset;
      return o.nodeType !== Node.TEXT_NODE && o.childNodes.length && (o.childNodes[n] ? (o = o.childNodes[n], n = 0) : (o = o.childNodes[n - 1], n = o.textContent.length)), (d.isLineBreakTag(t) || d.isEmpty(t)) && this.getHigherLevelSiblings(o, "left").every((l) => {
        const c = d.isLineBreakTag(l), u = l.children.length === 1 && d.isLineBreakTag(l.children[0]), h = c || u;
        return d.isEmpty(l) && !h;
      }) && n === i ? true : t === null || o === t && n <= i;
    }
    get isAtEnd() {
      const e = m.get();
      let t = e.focusNode;
      const o = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);
      if (d.isNativeInput(o))
        return o.selectionEnd === o.value.length;
      if (!e.focusNode)
        return false;
      let i = e.focusOffset;
      if (t.nodeType !== Node.TEXT_NODE && t.childNodes.length && (t.childNodes[i - 1] ? (t = t.childNodes[i - 1], i = t.textContent.length) : (t = t.childNodes[0], i = 0)), d.isLineBreakTag(o) || d.isEmpty(o)) {
        const r = this.getHigherLevelSiblings(t, "right");
        if (r.every((l, c) => c === r.length - 1 && d.isLineBreakTag(l) || d.isEmpty(l) && !d.isLineBreakTag(l)) && i === t.textContent.length)
          return true;
      }
      const n = o.textContent.replace(/\s+$/, "");
      return t === o && i >= n.length;
    }
    setToBlock(e, t = this.positions.DEFAULT, o = 0) {
      const { BlockManager: i } = this.Editor;
      let n;
      switch (t) {
        case this.positions.START:
          n = e.firstInput;
          break;
        case this.positions.END:
          n = e.lastInput;
          break;
        default:
          n = e.currentInput;
      }
      if (!n)
        return;
      const r = d.getDeepestNode(n, t === this.positions.END), a = d.getContentLength(r);
      switch (true) {
        case t === this.positions.START:
          o = 0;
          break;
        case t === this.positions.END:
        case o > a:
          o = a;
          break;
      }
      oe(() => {
        this.set(r, o);
      }, 20)(), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = n;
    }
    setToInput(e, t = this.positions.DEFAULT, o = 0) {
      const { currentBlock: i } = this.Editor.BlockManager, n = d.getDeepestNode(e);
      switch (t) {
        case this.positions.START:
          this.set(n, 0);
          break;
        case this.positions.END:
          this.set(n, d.getContentLength(n));
          break;
        default:
          o && this.set(n, o);
      }
      i.currentInput = e;
    }
    set(e, t = 0) {
      const { top: o, bottom: i } = m.setCursor(e, t), { innerHeight: n } = window;
      o < 0 && window.scrollBy(0, o), i > n && window.scrollBy(0, i - n);
    }
    setToTheLastBlock() {
      const e = this.Editor.BlockManager.lastBlock;
      if (e)
        if (e.tool.isDefault && e.isEmpty)
          this.setToBlock(e);
        else {
          const t = this.Editor.BlockManager.insertAtEnd();
          this.setToBlock(t);
        }
    }
    extractFragmentFromCaretPosition() {
      const e = m.get();
      if (e.rangeCount) {
        const t = e.getRangeAt(0), o = this.Editor.BlockManager.currentBlock.currentInput;
        if (t.deleteContents(), o)
          if (d.isNativeInput(o)) {
            const i = o, n = document.createDocumentFragment(), r = i.value.substring(0, i.selectionStart), a = i.value.substring(i.selectionStart);
            return n.textContent = a, i.value = r, n;
          } else {
            const i = t.cloneRange();
            return i.selectNodeContents(o), i.setStart(t.endContainer, t.endOffset), i.extractContents();
          }
      }
    }
    navigateNext() {
      const { BlockManager: e } = this.Editor, { currentBlock: t, nextContentfulBlock: o } = e, { nextInput: i } = t, n = this.isAtEnd;
      let r = o;
      if (!r && !i) {
        if (t.tool.isDefault || !n)
          return false;
        r = e.insertAtEnd();
      }
      return n ? (i ? this.setToInput(i, this.positions.START) : this.setToBlock(r, this.positions.START), true) : false;
    }
    navigatePrevious() {
      const { currentBlock: e, previousContentfulBlock: t } = this.Editor.BlockManager;
      if (!e)
        return false;
      const { previousInput: o } = e;
      return !t && !o ? false : this.isAtStart ? (o ? this.setToInput(o, this.positions.END) : this.setToBlock(t, this.positions.END), true) : false;
    }
    createShadow(e) {
      const t = document.createElement("span");
      t.classList.add(ve.CSS.shadowCaret), e.insertAdjacentElement("beforeend", t);
    }
    restoreCaret(e) {
      const t = e.querySelector(`.${ve.CSS.shadowCaret}`);
      if (!t)
        return;
      new m().expandToTag(t), setTimeout(() => {
        const i = document.createRange();
        i.selectNode(t), i.extractContents();
      }, 50);
    }
    insertContentAtCaretPosition(e) {
      const t = document.createDocumentFragment(), o = document.createElement("div"), i = m.get(), n = m.range;
      o.innerHTML = e, Array.from(o.childNodes).forEach((l) => t.appendChild(l)), t.childNodes.length === 0 && t.appendChild(new Text());
      const r = t.lastChild;
      n.deleteContents(), n.insertNode(t);
      const a = document.createRange();
      a.setStart(r, r.textContent.length), i.removeAllRanges(), i.addRange(a);
    }
    getHigherLevelSiblings(e, t) {
      let o = e;
      const i = [];
      for (; o.parentNode && o.parentNode.contentEditable !== "true"; )
        o = o.parentNode;
      const n = t === "left" ? "previousSibling" : "nextSibling";
      for (; o[n]; )
        o = o[n], i.push(o);
      return i;
    }
  };
  var Vo = class extends S {
    constructor() {
      super(...arguments), this.onMouseUp = () => {
        this.listeners.off(document, "mouseover", this.onMouseOver), this.listeners.off(document, "mouseup", this.onMouseUp);
      }, this.onMouseOver = (e) => {
        const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, n = t.getBlockByChildNode(e.target);
        if (!(!i || !n) && n !== i) {
          if (i === this.firstSelectedBlock) {
            m.get().removeAllRanges(), i.selected = true, n.selected = true, o.clearCache();
            return;
          }
          if (n === this.firstSelectedBlock) {
            i.selected = false, n.selected = false, o.clearCache();
            return;
          }
          this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, n), this.lastSelectedBlock = n;
        }
      };
    }
    async prepare() {
      this.listeners.on(document, "mousedown", (e) => {
        this.enableCrossBlockSelection(e);
      });
    }
    watchSelection(e) {
      if (e.button !== _t.LEFT)
        return;
      const { BlockManager: t } = this.Editor;
      this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, "mouseover", this.onMouseOver), this.listeners.on(document, "mouseup", this.onMouseUp);
    }
    get isCrossBlockSelectionStarted() {
      return !!this.firstSelectedBlock && !!this.lastSelectedBlock;
    }
    toggleBlockSelectedState(e = true) {
      const { BlockManager: t, BlockSelection: o } = this.Editor;
      this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = true, o.clearCache(), m.get().removeAllRanges());
      const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), n = t.blocks[i];
      n && (this.lastSelectedBlock.selected !== n.selected ? (n.selected = true, o.clearCache()) : (this.lastSelectedBlock.selected = false, o.clearCache()), this.lastSelectedBlock = n, this.Editor.InlineToolbar.close(), n.holder.scrollIntoView({
        block: "nearest"
      }));
    }
    clear(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, n = t.blocks.indexOf(this.firstSelectedBlock), r = t.blocks.indexOf(this.lastSelectedBlock);
      if (o.anyBlockSelected && n > -1 && r > -1)
        if (e && e instanceof KeyboardEvent)
          switch (e.keyCode) {
            case B.DOWN:
            case B.RIGHT:
              i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
              break;
            case B.UP:
            case B.LEFT:
              i.setToBlock(t.blocks[Math.min(n, r)], i.positions.START);
              break;
            default:
              i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
          }
        else
          i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
      this.firstSelectedBlock = this.lastSelectedBlock = null;
    }
    enableCrossBlockSelection(e) {
      const { UI: t } = this.Editor;
      m.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);
    }
    toggleBlocksSelectedState(e, t) {
      const { BlockManager: o, BlockSelection: i } = this.Editor, n = o.blocks.indexOf(e), r = o.blocks.indexOf(t), a = e.selected !== t.selected;
      for (let l = Math.min(n, r); l <= Math.max(n, r); l++) {
        const c = o.blocks[l];
        c !== this.firstSelectedBlock && c !== (a ? e : t) && (o.blocks[l].selected = !o.blocks[l].selected, i.clearCache());
      }
    }
  };
  var Zo = class extends S {
    constructor() {
      super(...arguments), this.isStartedAtEditor = false;
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    enableModuleBindings() {
      const { UI: e } = this.Editor;
      this.readOnlyMutableListeners.on(e.nodes.holder, "drop", async (t) => {
        await this.processDrop(t);
      }, true), this.readOnlyMutableListeners.on(e.nodes.holder, "dragstart", () => {
        this.processDragStart();
      }), this.readOnlyMutableListeners.on(e.nodes.holder, "dragover", (t) => {
        this.processDragOver(t);
      }, true);
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    async processDrop(e) {
      const {
        BlockManager: t,
        Caret: o,
        Paste: i
      } = this.Editor;
      e.preventDefault(), t.blocks.forEach((r) => {
        r.dropTarget = false;
      }), m.isAtEditor && !m.isCollapsed && this.isStartedAtEditor && document.execCommand("delete"), this.isStartedAtEditor = false;
      const n = t.setCurrentBlockByChildNode(e.target);
      if (n)
        this.Editor.Caret.setToBlock(n, o.positions.END);
      else {
        const r = t.setCurrentBlockByChildNode(t.lastBlock.holder);
        this.Editor.Caret.setToBlock(r, o.positions.END);
      }
      await i.processDataTransfer(e.dataTransfer, true);
    }
    processDragStart() {
      m.isAtEditor && !m.isCollapsed && (this.isStartedAtEditor = true), this.Editor.InlineToolbar.close();
    }
    processDragOver(e) {
      e.preventDefault();
    }
  };
  var Go = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.disabled = false, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = 400, this.mutationObserver = new MutationObserver((o) => {
        this.redactorChanged(o);
      }), this.eventsDispatcher.on(lt, (o) => {
        this.particularBlockChanged(o.event);
      }), this.eventsDispatcher.on(ct, () => {
        this.disable();
      }), this.eventsDispatcher.on(dt, () => {
        this.enable();
      });
    }
    enable() {
      this.mutationObserver.observe(
        this.Editor.UI.nodes.redactor,
        {
          childList: true,
          subtree: true,
          characterData: true,
          attributes: true
        }
      ), this.disabled = false;
    }
    disable() {
      this.mutationObserver.disconnect(), this.disabled = true;
    }
    particularBlockChanged(e) {
      this.disabled || !D(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {
        let t;
        this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();
      }, this.batchTime));
    }
    redactorChanged(e) {
      this.eventsDispatcher.emit(Me, {
        mutations: e
      });
    }
  };
  var xt = class extends S {
    constructor() {
      super(...arguments), this.MIME_TYPE = "application/x-editor-js", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (s) => {
        try {
          const e = s.create({}, {}, false);
          if (s.pasteConfig === false) {
            this.exceptionList.push(s.name);
            return;
          }
          if (!D(e.onPaste))
            return;
          this.getTagsConfig(s), this.getFilesConfig(s), this.getPatternsConfig(s);
        } catch (e) {
          T(
            `Paste handling for \xAB${s.name}\xBB Tool hasn't been set up because of the error`,
            "warn",
            e
          );
        }
      }, this.handlePasteEvent = async (s) => {
        const { BlockManager: e, Toolbar: t } = this.Editor;
        !e.currentBlock || this.isNativeBehaviour(s.target) && !s.clipboardData.types.includes("Files") || e.currentBlock && this.exceptionList.includes(e.currentBlock.name) || (s.preventDefault(), this.processDataTransfer(s.clipboardData), e.clearFocused(), t.close());
      };
    }
    async prepare() {
      this.processTools();
    }
    toggleReadOnly(s) {
      s ? this.unsetCallback() : this.setCallback();
    }
    async processDataTransfer(s, e = false) {
      const { Tools: t } = this.Editor, o = s.types;
      if ((o.includes ? o.includes("Files") : o.contains("Files")) && !V(this.toolsFiles)) {
        await this.processFiles(s.files);
        return;
      }
      const n = s.getData(this.MIME_TYPE), r = s.getData("text/plain");
      let a = s.getData("text/html");
      if (n)
        try {
          this.insertEditorJSData(JSON.parse(n));
          return;
        } catch (e2) {
        }
      e && r.trim() && a.trim() && (a = "<p>" + (a.trim() ? a : r) + "</p>");
      const l = Object.keys(this.toolsTags).reduce((h, f) => {
        var _a;
        return h[f.toLowerCase()] = (_a = this.toolsTags[f].sanitizationConfig) != null ? _a : {}, h;
      }, {}), c = Object.assign({}, l, t.getAllInlineToolsSanitizeConfig(), { br: {} }), u = Z(a, c);
      !u.trim() || u.trim() === r || !d.isHTMLString(u) ? await this.processText(r) : await this.processText(u, true);
    }
    async processText(s, e = false) {
      const { Caret: t, BlockManager: o } = this.Editor, i = e ? this.processHTML(s) : this.processPlain(s);
      if (!i.length)
        return;
      if (i.length === 1) {
        i[0].isBlock ? this.processSingleBlock(i.pop()) : this.processInlinePaste(i.pop());
        return;
      }
      const r = o.currentBlock && o.currentBlock.tool.isDefault && o.currentBlock.isEmpty;
      i.map(
        async (a, l) => this.insertBlock(a, l === 0 && r)
      ), o.currentBlock && t.setToBlock(o.currentBlock, t.positions.END);
    }
    setCallback() {
      this.listeners.on(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
    }
    unsetCallback() {
      this.listeners.off(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
    }
    processTools() {
      const s = this.Editor.Tools.blockTools;
      Array.from(s.values()).forEach(this.processTool);
    }
    collectTagNames(s) {
      return J(s) ? [s] : j(s) ? Object.keys(s) : [];
    }
    getTagsConfig(s) {
      if (s.pasteConfig === false)
        return;
      const e = s.pasteConfig.tags || [], t = [];
      e.forEach((o) => {
        const i = this.collectTagNames(o);
        t.push(...i), i.forEach((n) => {
          if (Object.prototype.hasOwnProperty.call(this.toolsTags, n)) {
            T(
              `Paste handler for \xAB${s.name}\xBB Tool on \xAB${n}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[n].tool.name}\xBB Tool.`,
              "warn"
            );
            return;
          }
          const r = j(o) ? o[n] : null;
          this.toolsTags[n.toUpperCase()] = {
            tool: s,
            sanitizationConfig: r
          };
        });
      }), this.tagsByTool[s.name] = t.map((o) => o.toUpperCase());
    }
    getFilesConfig(s) {
      if (s.pasteConfig === false)
        return;
      const { files: e = {} } = s.pasteConfig;
      let { extensions: t, mimeTypes: o } = e;
      !t && !o || (t && !Array.isArray(t) && (T(`\xABextensions\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), t = []), o && !Array.isArray(o) && (T(`\xABmimeTypes\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), o = []), o && (o = o.filter((i) => Dt(i) ? true : (T(`MIME type value \xAB${i}\xBB for the \xAB${s.name}\xBB Tool is not a valid MIME type`, "warn"), false))), this.toolsFiles[s.name] = {
        extensions: t || [],
        mimeTypes: o || []
      });
    }
    getPatternsConfig(s) {
      s.pasteConfig === false || !s.pasteConfig.patterns || V(s.pasteConfig.patterns) || Object.entries(s.pasteConfig.patterns).forEach(([e, t]) => {
        t instanceof RegExp || T(
          `Pattern ${t} for \xAB${s.name}\xBB Tool is skipped because it should be a Regexp instance.`,
          "warn"
        ), this.toolsPatterns.push({
          key: e,
          pattern: t,
          tool: s
        });
      });
    }
    isNativeBehaviour(s) {
      return d.isNativeInput(s);
    }
    async processFiles(s) {
      const { BlockManager: e } = this.Editor;
      let t;
      t = await Promise.all(
        Array.from(s).map((n) => this.processFile(n))
      ), t = t.filter((n) => !!n);
      const i = e.currentBlock.tool.isDefault && e.currentBlock.isEmpty;
      t.forEach(
        (n, r) => {
          e.paste(n.type, n.event, r === 0 && i);
        }
      );
    }
    async processFile(s) {
      const e = Rt(s), t = Object.entries(this.toolsFiles).find(([n, { mimeTypes: r, extensions: a }]) => {
        const [l, c] = s.type.split("/"), u = a.find((f) => f.toLowerCase() === e.toLowerCase()), h = r.find((f) => {
          const [v, p] = f.split("/");
          return v === l && (p === c || p === "*");
        });
        return !!u || !!h;
      });
      if (!t)
        return;
      const [o] = t;
      return {
        event: this.composePasteEvent("file", {
          file: s
        }),
        type: o
      };
    }
    processHTML(s) {
      const { Tools: e } = this.Editor, t = d.make("DIV");
      return t.innerHTML = s, this.getNodes(t).map((i) => {
        let n, r = e.defaultTool, a = false;
        switch (i.nodeType) {
          case Node.DOCUMENT_FRAGMENT_NODE:
            n = d.make("div"), n.appendChild(i);
            break;
          case Node.ELEMENT_NODE:
            n = i, a = true, this.toolsTags[n.tagName] && (r = this.toolsTags[n.tagName].tool);
            break;
        }
        const { tags: l } = r.pasteConfig || { tags: [] }, c = l.reduce((f, v) => (this.collectTagNames(v).forEach((k) => {
          const _ = j(v) ? v[k] : null;
          f[k.toLowerCase()] = _ || {};
        }), f), {}), u = Object.assign({}, c, r.baseSanitizeConfig);
        if (n.tagName.toLowerCase() === "table") {
          const f = Z(n.outerHTML, u);
          n = d.make("div", void 0, {
            innerHTML: f
          }).firstChild;
        } else
          n.innerHTML = Z(n.innerHTML, u);
        const h = this.composePasteEvent("tag", {
          data: n
        });
        return {
          content: n,
          isBlock: a,
          tool: r.name,
          event: h
        };
      }).filter((i) => {
        const n = d.isEmpty(i.content), r = d.isSingleTag(i.content);
        return !n || r;
      });
    }
    processPlain(s) {
      const { defaultBlock: e } = this.config;
      if (!s)
        return [];
      const t = e;
      return s.split(/\r?\n/).filter((o) => o.trim()).map((o) => {
        const i = d.make("div");
        i.textContent = o;
        const n = this.composePasteEvent("tag", {
          data: i
        });
        return {
          content: i,
          tool: t,
          isBlock: false,
          event: n
        };
      });
    }
    async processSingleBlock(s) {
      const { Caret: e, BlockManager: t } = this.Editor, { currentBlock: o } = t;
      if (!o || s.tool !== o.name || !d.containsOnlyInlineElements(s.content.innerHTML)) {
        this.insertBlock(s, (o == null ? void 0 : o.tool.isDefault) && o.isEmpty);
        return;
      }
      e.insertContentAtCaretPosition(s.content.innerHTML);
    }
    async processInlinePaste(s) {
      const { BlockManager: e, Caret: t } = this.Editor, { content: o } = s;
      if (e.currentBlock && e.currentBlock.tool.isDefault && o.textContent.length < xt.PATTERN_PROCESSING_MAX_LENGTH) {
        const n = await this.processPattern(o.textContent);
        if (n) {
          const r = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty, a = e.paste(n.tool, n.event, r);
          t.setToBlock(a, t.positions.END);
          return;
        }
      }
      if (e.currentBlock && e.currentBlock.currentInput) {
        const n = e.currentBlock.tool.baseSanitizeConfig;
        document.execCommand(
          "insertHTML",
          false,
          Z(o.innerHTML, n)
        );
      } else
        this.insertBlock(s);
    }
    async processPattern(s) {
      const e = this.toolsPatterns.find((o) => {
        const i = o.pattern.exec(s);
        return i ? s === i.shift() : false;
      });
      return e ? {
        event: this.composePasteEvent("pattern", {
          key: e.key,
          data: s
        }),
        tool: e.tool.name
      } : void 0;
    }
    insertBlock(s, e = false) {
      const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i } = t;
      let n;
      if (e && i && i.isEmpty) {
        n = t.paste(s.tool, s.event, true), o.setToBlock(n, o.positions.END);
        return;
      }
      n = t.paste(s.tool, s.event), o.setToBlock(n, o.positions.END);
    }
    insertEditorJSData(s) {
      const { BlockManager: e, Caret: t, Tools: o } = this.Editor;
      ht(
        s,
        (n) => o.blockTools.get(n).sanitizeConfig
      ).forEach(({ tool: n, data: r }, a) => {
        let l = false;
        a === 0 && (l = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty);
        const c = e.insert({
          tool: n,
          data: r,
          replace: l
        });
        t.setToBlock(c, t.positions.END);
      });
    }
    processElementNode(s, e, t) {
      const o = Object.keys(this.toolsTags), i = s, { tool: n } = this.toolsTags[i.tagName] || {}, r = this.tagsByTool[n == null ? void 0 : n.name] || [], a = o.includes(i.tagName), l = d.blockElements.includes(i.tagName.toLowerCase()), c = Array.from(i.children).some(
        ({ tagName: h }) => o.includes(h) && !r.includes(h)
      ), u = Array.from(i.children).some(
        ({ tagName: h }) => d.blockElements.includes(h.toLowerCase())
      );
      if (!l && !a && !c)
        return t.appendChild(i), [...e, t];
      if (a && !c || l && !u && !c)
        return [...e, t, i];
    }
    getNodes(s) {
      const e = Array.from(s.childNodes);
      let t;
      const o = (i, n) => {
        if (d.isEmpty(n) && !d.isSingleTag(n))
          return i;
        const r = i[i.length - 1];
        let a = new DocumentFragment();
        switch (r && d.isFragment(r) && (a = i.pop()), n.nodeType) {
          case Node.ELEMENT_NODE:
            if (t = this.processElementNode(n, i, a), t)
              return t;
            break;
          case Node.TEXT_NODE:
            return a.appendChild(n), [...i, a];
          default:
            return [...i, a];
        }
        return [...i, ...Array.from(n.childNodes).reduce(o, [])];
      };
      return e.reduce(o, []);
    }
    composePasteEvent(s, e) {
      return new CustomEvent(s, {
        detail: e
      });
    }
  };
  var wt = xt;
  wt.PATTERN_PROCESSING_MAX_LENGTH = 450;
  var qo = class extends S {
    constructor() {
      super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = false;
    }
    get isEnabled() {
      return this.readOnlyEnabled;
    }
    async prepare() {
      const { Tools: e } = this.Editor, { blockTools: t } = e, o = [];
      Array.from(t.entries()).forEach(([i, n]) => {
        n.isReadOnlySupported || o.push(i);
      }), this.toolsDontSupportReadOnly = o, this.config.readOnly && o.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly);
    }
    async toggle(e = !this.readOnlyEnabled) {
      e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();
      const t = this.readOnlyEnabled;
      this.readOnlyEnabled = e;
      for (const i in this.Editor)
        this.Editor[i].toggleReadOnly && this.Editor[i].toggleReadOnly(e);
      if (t === e)
        return this.readOnlyEnabled;
      const o = await this.Editor.Saver.save();
      return await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(o.blocks), this.readOnlyEnabled;
    }
    throwCriticalError() {
      throw new at(
        `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`
      );
    }
  };
  var pe = class extends S {
    constructor() {
      super(...arguments), this.isRectSelectionActivated = false, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = false, this.isScrolling = false, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];
    }
    static get CSS() {
      return {
        overlay: "codex-editor-overlay",
        overlayContainer: "codex-editor-overlay__container",
        rect: "codex-editor-overlay__rectangle",
        topScrollZone: "codex-editor-overlay__scroll-zone--top",
        bottomScrollZone: "codex-editor-overlay__scroll-zone--bottom"
      };
    }
    prepare() {
      this.enableModuleBindings();
    }
    startSelection(e, t) {
      const o = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);
      o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = false, this.clearSelection(), this.stackOfSelected = []);
      const n = [
        `.${F.CSS.content}`,
        `.${this.Editor.Toolbar.CSS.toolbar}`,
        `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`
      ], r = o.closest("." + this.Editor.UI.CSS.editorWrapper), a = n.some((l) => !!o.closest(l));
      !r || a || (this.mousedown = true, this.startX = e, this.startY = t);
    }
    endSelection() {
      this.mousedown = false, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = "none";
    }
    isRectActivated() {
      return this.isRectSelectionActivated;
    }
    clearSelection() {
      this.isRectSelectionActivated = false;
    }
    enableModuleBindings() {
      const { container: e } = this.genHTML();
      this.listeners.on(e, "mousedown", (t) => {
        this.processMouseDown(t);
      }, false), this.listeners.on(document.body, "mousemove", Te((t) => {
        this.processMouseMove(t);
      }, 10), {
        passive: true
      }), this.listeners.on(document.body, "mouseleave", () => {
        this.processMouseLeave();
      }), this.listeners.on(window, "scroll", Te((t) => {
        this.processScroll(t);
      }, 10), {
        passive: true
      }), this.listeners.on(document.body, "mouseup", () => {
        this.processMouseUp();
      }, false);
    }
    processMouseDown(e) {
      if (e.button !== this.MAIN_MOUSE_BUTTON)
        return;
      e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);
    }
    processMouseMove(e) {
      this.changingRectangle(e), this.scrollByZones(e.clientY);
    }
    processMouseLeave() {
      this.clearSelection(), this.endSelection();
    }
    processScroll(e) {
      this.changingRectangle(e);
    }
    processMouseUp() {
      this.clearSelection(), this.endSelection();
    }
    scrollByZones(e) {
      if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {
        this.isScrolling = false;
        return;
      }
      this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = true);
    }
    genHTML() {
      const { UI: e } = this.Editor, t = e.nodes.holder.querySelector("." + e.CSS.editorWrapper), o = d.make("div", pe.CSS.overlay, {}), i = d.make("div", pe.CSS.overlayContainer, {}), n = d.make("div", pe.CSS.rect, {});
      return i.appendChild(n), o.appendChild(i), t.appendChild(o), this.overlayRectangle = n, {
        container: t,
        overlay: o
      };
    }
    scrollVertical(e) {
      if (!(this.inScrollZone && this.mousedown))
        return;
      const t = window.pageYOffset;
      window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {
        this.scrollVertical(e);
      }, 0);
    }
    changingRectangle(e) {
      if (!this.mousedown)
        return;
      e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);
      const { rightPos: t, leftPos: o, index: i } = this.genInfoForMouseSelection(), n = this.startX > t && this.mouseX > t, r = this.startX < o && this.mouseX < o;
      this.rectCrossesBlocks = !(n || r), this.isRectSelectionActivated || (this.rectCrossesBlocks = false, this.isRectSelectionActivated = true, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = "block"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), m.get().removeAllRanges());
    }
    shrinkRectangleToPoint() {
      this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;
    }
    inverseSelection() {
      const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;
      if (this.rectCrossesBlocks && !t)
        for (const o of this.stackOfSelected)
          this.Editor.BlockSelection.selectBlockByIndex(o);
      if (!this.rectCrossesBlocks && t)
        for (const o of this.stackOfSelected)
          this.Editor.BlockSelection.unSelectBlockByIndex(o);
    }
    updateRectangleSize() {
      this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);
    }
    genInfoForMouseSelection() {
      const t = document.body.offsetWidth / 2, o = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o), n = this.Editor.BlockManager.getBlockByChildNode(i);
      let r;
      n !== void 0 && (r = this.Editor.BlockManager.blocks.findIndex((h) => h.holder === n.holder));
      const a = this.Editor.BlockManager.lastBlock.holder.querySelector("." + F.CSS.content), l = Number.parseInt(window.getComputedStyle(a).width, 10) / 2, c = t - l, u = t + l;
      return {
        index: r,
        leftPos: c,
        rightPos: u
      };
    }
    addBlockInSelection(e) {
      this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);
    }
    trySelectNextBlock(e) {
      const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o = this.stackOfSelected.length, i = 1, n = -1, r = 0;
      if (t)
        return;
      const a = this.stackOfSelected[o - 1] - this.stackOfSelected[o - 2] > 0;
      let l = r;
      o > 1 && (l = a ? i : n);
      const c = e > this.stackOfSelected[o - 1] && l === i, u = e < this.stackOfSelected[o - 1] && l === n, f = !(c || u || l === r);
      if (!f && (e > this.stackOfSelected[o - 1] || this.stackOfSelected[o - 1] === void 0)) {
        let k = this.stackOfSelected[o - 1] + 1 || e;
        for (k; k <= e; k++)
          this.addBlockInSelection(k);
        return;
      }
      if (!f && e < this.stackOfSelected[o - 1]) {
        for (let k = this.stackOfSelected[o - 1] - 1; k >= e; k--)
          this.addBlockInSelection(k);
        return;
      }
      if (!f)
        return;
      let v = o - 1, p;
      for (e > this.stackOfSelected[o - 1] ? p = () => e > this.stackOfSelected[v] : p = () => e < this.stackOfSelected[v]; p(); )
        this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[v]), this.stackOfSelected.pop(), v--;
    }
  };
  var Jo = class extends S {
    async render(e) {
      const t = e.map((i) => ({ function: () => this.insertBlock(i) }));
      this.Editor.ModificationsObserver.disable();
      const o = await ot(t);
      return this.Editor.ModificationsObserver.enable(), this.Editor.UI.checkEmptiness(), o;
    }
    async insertBlock(e) {
      var l;
      const { Tools: t, BlockManager: o } = this.Editor, { type: i, data: n, tunes: r, id: a } = e;
      if (t.available.has(i))
        try {
          o.insert({
            id: a,
            tool: i,
            data: n,
            tunes: r
          });
        } catch (c) {
          throw T(`Block \xAB${i}\xBB skipped because of plugins error`, "warn", {
            data: n,
            error: c
          }), Error(c);
        }
      else {
        const c = {
          savedData: {
            id: a,
            type: i,
            data: n
          },
          title: i
        };
        if (t.unavailable.has(i)) {
          const f = (l = t.unavailable.get(i).toolbox[0]) == null ? void 0 : l.title;
          c.title = f || c.title;
        }
        const u = o.insert({
          id: a,
          tool: t.stubTool,
          data: c
        });
        u.stretched = true, T(`Tool \xAB${i}\xBB is not found. Check 'tools' property at your initial Editor.js config.`, "warn");
      }
    }
  };
  var Qo = class extends S {
    async save() {
      const { BlockManager: e, Tools: t } = this.Editor, o = e.blocks, i = [];
      try {
        o.forEach((a) => {
          i.push(this.getSavedData(a));
        });
        const n = await Promise.all(i), r = await ht(n, (a) => t.blockTools.get(a).sanitizeConfig);
        return this.makeOutput(r);
      } catch (n) {
        K("Saving failed due to the Error %o", "error", n);
      }
    }
    async getSavedData(e) {
      const t = await e.save(), o = t && await e.validate(t.data);
      return __spreadProps(__spreadValues({}, t), {
        isValid: o
      });
    }
    makeOutput(e) {
      let t = 0;
      const o = [];
      return T("[Editor.js saving]:", "groupCollapsed"), e.forEach(({ id: i, tool: n, data: r, tunes: a, time: l, isValid: c }) => {
        if (t += l, T(`${n.charAt(0).toUpperCase() + n.slice(1)}`, "group"), c)
          T(r), T(void 0, "groupEnd");
        else {
          T(`Block \xAB${n}\xBB skipped because saved data is invalid`), T(void 0, "groupEnd");
          return;
        }
        if (n === this.Editor.Tools.stubTool) {
          o.push(r);
          return;
        }
        const u = __spreadValues({
          id: i,
          type: n,
          data: r
        }, !V(a) && {
          tunes: a
        });
        o.push(u);
      }), T("Total", "log", t), T(void 0, "groupEnd"), {
        time: +/* @__PURE__ */ new Date(),
        blocks: o,
        version: "2.27.0"
      };
    }
  };
  var Ne = {};
  var ei = {
    get exports() {
      return Ne;
    },
    set exports(s) {
      Ne = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "/", i(i.s = 4);
      }([function(t, o, i) {
        var n = i(1), r = i(2);
        typeof (r = r.__esModule ? r.default : r) == "string" && (r = [[t.i, r, ""]]);
        var a = { insert: "head", singleton: false };
        n(r, a), t.exports = r.locals || {};
      }, function(t, o, i) {
        var n, r = function() {
          return n === void 0 && (n = !!(window && document && document.all && !window.atob)), n;
        }, a = function() {
          var y = {};
          return function(x) {
            if (y[x] === void 0) {
              var w = document.querySelector(x);
              if (window.HTMLIFrameElement && w instanceof window.HTMLIFrameElement)
                try {
                  w = w.contentDocument.head;
                } catch (e2) {
                  w = null;
                }
              y[x] = w;
            }
            return y[x];
          };
        }(), l = [];
        function c(y) {
          for (var x = -1, w = 0; w < l.length; w++)
            if (l[w].identifier === y) {
              x = w;
              break;
            }
          return x;
        }
        function u(y, x) {
          for (var w = {}, M = [], N = 0; N < y.length; N++) {
            var b = y[N], g = x.base ? b[0] + x.base : b[0], E = w[g] || 0, C = "".concat(g, " ").concat(E);
            w[g] = E + 1;
            var O = c(C), I = { css: b[1], media: b[2], sourceMap: b[3] };
            O !== -1 ? (l[O].references++, l[O].updater(I)) : l.push({ identifier: C, updater: R(I, x), references: 1 }), M.push(C);
          }
          return M;
        }
        function h(y) {
          var x = document.createElement("style"), w = y.attributes || {};
          if (w.nonce === void 0) {
            var M = i.nc;
            M && (w.nonce = M);
          }
          if (Object.keys(w).forEach(function(b) {
            x.setAttribute(b, w[b]);
          }), typeof y.insert == "function")
            y.insert(x);
          else {
            var N = a(y.insert || "head");
            if (!N)
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            N.appendChild(x);
          }
          return x;
        }
        var f, v = (f = [], function(y, x) {
          return f[y] = x, f.filter(Boolean).join(`
`);
        });
        function p(y, x, w, M) {
          var N = w ? "" : M.media ? "@media ".concat(M.media, " {").concat(M.css, "}") : M.css;
          if (y.styleSheet)
            y.styleSheet.cssText = v(x, N);
          else {
            var b = document.createTextNode(N), g = y.childNodes;
            g[x] && y.removeChild(g[x]), g.length ? y.insertBefore(b, g[x]) : y.appendChild(b);
          }
        }
        function k(y, x, w) {
          var M = w.css, N = w.media, b = w.sourceMap;
          if (N ? y.setAttribute("media", N) : y.removeAttribute("media"), b && btoa && (M += `
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b)))), " */")), y.styleSheet)
            y.styleSheet.cssText = M;
          else {
            for (; y.firstChild; )
              y.removeChild(y.firstChild);
            y.appendChild(document.createTextNode(M));
          }
        }
        var _ = null, A = 0;
        function R(y, x) {
          var w, M, N;
          if (x.singleton) {
            var b = A++;
            w = _ || (_ = h(x)), M = p.bind(null, w, b, false), N = p.bind(null, w, b, true);
          } else
            w = h(x), M = k.bind(null, w, x), N = function() {
              (function(g) {
                if (g.parentNode === null)
                  return false;
                g.parentNode.removeChild(g);
              })(w);
            };
          return M(y), function(g) {
            if (g) {
              if (g.css === y.css && g.media === y.media && g.sourceMap === y.sourceMap)
                return;
              M(y = g);
            } else
              N();
          };
        }
        t.exports = function(y, x) {
          (x = x || {}).singleton || typeof x.singleton == "boolean" || (x.singleton = r());
          var w = u(y = y || [], x);
          return function(M) {
            if (M = M || [], Object.prototype.toString.call(M) === "[object Array]") {
              for (var N = 0; N < w.length; N++) {
                var b = c(w[N]);
                l[b].references--;
              }
              for (var g = u(M, x), E = 0; E < w.length; E++) {
                var C = c(w[E]);
                l[C].references === 0 && (l[C].updater(), l.splice(C, 1));
              }
              w = g;
            }
          };
        };
      }, function(t, o, i) {
        (o = i(3)(false)).push([t.i, `.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`, ""]), t.exports = o;
      }, function(t, o, i) {
        t.exports = function(n) {
          var r = [];
          return r.toString = function() {
            return this.map(function(a) {
              var l = function(c, u) {
                var h = c[1] || "", f = c[3];
                if (!f)
                  return h;
                if (u && typeof btoa == "function") {
                  var v = (k = f, _ = btoa(unescape(encodeURIComponent(JSON.stringify(k)))), A = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(_), "/*# ".concat(A, " */")), p = f.sources.map(function(R) {
                    return "/*# sourceURL=".concat(f.sourceRoot || "").concat(R, " */");
                  });
                  return [h].concat(p).concat([v]).join(`
`);
                }
                var k, _, A;
                return [h].join(`
`);
              }(a, n);
              return a[2] ? "@media ".concat(a[2], " {").concat(l, "}") : l;
            }).join("");
          }, r.i = function(a, l, c) {
            typeof a == "string" && (a = [[null, a, ""]]);
            var u = {};
            if (c)
              for (var h = 0; h < this.length; h++) {
                var f = this[h][0];
                f != null && (u[f] = true);
              }
            for (var v = 0; v < a.length; v++) {
              var p = [].concat(a[v]);
              c && u[p[0]] || (l && (p[2] ? p[2] = "".concat(l, " and ").concat(p[2]) : p[2] = l), r.push(p));
            }
          }, r;
        };
      }, function(t, o, i) {
        i.r(o), i.d(o, "default", function() {
          return a;
        }), i(0);
        function n(l, c) {
          for (var u = 0; u < c.length; u++) {
            var h = c[u];
            h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
          }
        }
        function r(l, c, u) {
          return c && n(l.prototype, c), u && n(l, u), l;
        }
        var a = function() {
          function l(c) {
            var u = c.data, h = c.config, f = c.api, v = c.readOnly;
            (function(p, k) {
              if (!(p instanceof k))
                throw new TypeError("Cannot call a class as a function");
            })(this, l), this.api = f, this.readOnly = v, this._CSS = { block: this.api.styles.block, wrapper: "ce-paragraph" }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = h.placeholder ? h.placeholder : l.DEFAULT_PLACEHOLDER, this._data = {}, this._element = this.drawView(), this._preserveBlank = h.preserveBlank !== void 0 && h.preserveBlank, this.data = u;
          }
          return r(l, null, [{ key: "DEFAULT_PLACEHOLDER", get: function() {
            return "";
          } }]), r(l, [{ key: "onKeyUp", value: function(c) {
            c.code !== "Backspace" && c.code !== "Delete" || this._element.textContent === "" && (this._element.innerHTML = "");
          } }, { key: "drawView", value: function() {
            var c = document.createElement("DIV");
            return c.classList.add(this._CSS.wrapper, this._CSS.block), c.contentEditable = false, c.dataset.placeholder = this.api.i18n.t(this._placeholder), this.readOnly || (c.contentEditable = true, c.addEventListener("keyup", this.onKeyUp)), c;
          } }, { key: "render", value: function() {
            return this._element;
          } }, { key: "merge", value: function(c) {
            var u = { text: this.data.text + c.text };
            this.data = u;
          } }, { key: "validate", value: function(c) {
            return !(c.text.trim() === "" && !this._preserveBlank);
          } }, { key: "save", value: function(c) {
            return { text: c.innerHTML };
          } }, { key: "onPaste", value: function(c) {
            var u = { text: c.detail.data.innerHTML };
            this.data = u;
          } }, { key: "data", get: function() {
            var c = this._element.innerHTML;
            return this._data.text = c, this._data;
          }, set: function(c) {
            this._data = c || {}, this._element.innerHTML = this._data.text || "";
          } }], [{ key: "conversionConfig", get: function() {
            return { export: "text", import: "text" };
          } }, { key: "sanitize", get: function() {
            return { text: { br: true } };
          } }, { key: "isReadOnlySupported", get: function() {
            return true;
          } }, { key: "pasteConfig", get: function() {
            return { tags: ["P"] };
          } }, { key: "toolbox", get: function() {
            return { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>', title: "Text" };
          } }]), l;
        }();
      }]).default;
    });
  })(ei);
  var ti = /* @__PURE__ */ xe(Ne);
  var $e = class {
    constructor() {
      this.commandName = "bold", this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--bold"
      }, this.nodes = {
        button: void 0
      };
    }
    static get sanitize() {
      return {
        b: {}
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Eo, this.nodes.button;
    }
    surround() {
      document.execCommand(this.commandName);
    }
    checkState() {
      const e = document.queryCommandState(this.commandName);
      return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
    }
    get shortcut() {
      return "CMD+B";
    }
  };
  $e.isInline = true;
  $e.title = "Bold";
  var We = class {
    constructor() {
      this.commandName = "italic", this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--italic"
      }, this.nodes = {
        button: null
      };
    }
    static get sanitize() {
      return {
        i: {}
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = So, this.nodes.button;
    }
    surround() {
      document.execCommand(this.commandName);
    }
    checkState() {
      const e = document.queryCommandState(this.commandName);
      return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
    }
    get shortcut() {
      return "CMD+I";
    }
  };
  We.isInline = true;
  We.title = "Italic";
  var Ye = class {
    constructor({ api: e }) {
      this.commandLink = "createLink", this.commandUnlink = "unlink", this.ENTER_KEY = 13, this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--link",
        buttonUnlink: "ce-inline-tool--unlink",
        input: "ce-inline-tool-input",
        inputShowed: "ce-inline-tool-input--showed"
      }, this.nodes = {
        button: null,
        input: null
      }, this.inputOpened = false, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new m();
    }
    static get sanitize() {
      return {
        a: {
          href: true,
          target: "_blank",
          rel: "nofollow"
        }
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = qe, this.nodes.button;
    }
    renderActions() {
      return this.nodes.input = document.createElement("input"), this.nodes.input.placeholder = this.i18n.t("Add a link"), this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener("keydown", (e) => {
        e.keyCode === this.ENTER_KEY && this.enterPressed(e);
      }), this.nodes.input;
    }
    surround(e) {
      if (e) {
        this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());
        const t = this.selection.findParentTag("A");
        if (t) {
          this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();
          return;
        }
      }
      this.toggleActions();
    }
    checkState() {
      const e = this.selection.findParentTag("A");
      if (e) {
        this.nodes.button.innerHTML = Oo, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();
        const t = e.getAttribute("href");
        this.nodes.input.value = t !== "null" ? t : "", this.selection.save();
      } else
        this.nodes.button.innerHTML = qe, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);
      return !!e;
    }
    clear() {
      this.closeActions();
    }
    get shortcut() {
      return "CMD+K";
    }
    toggleActions() {
      this.inputOpened ? this.closeActions(false) : this.openActions(true);
    }
    openActions(e = false) {
      this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = true;
    }
    closeActions(e = true) {
      if (this.selection.isFakeBackgroundEnabled) {
        const t = new m();
        t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();
      }
      this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = "", e && this.selection.clearSaved(), this.inputOpened = false;
    }
    enterPressed(e) {
      let t = this.nodes.input.value || "";
      if (!t.trim()) {
        this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();
        return;
      }
      if (!this.validateURL(t)) {
        this.notifier.show({
          message: "Pasted link is not valid.",
          style: "error"
        }), T("Incorrect Link pasted", "warn", t);
        return;
      }
      t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();
    }
    validateURL(e) {
      return !/\s/.test(e);
    }
    prepareLink(e) {
      return e = e.trim(), e = this.addProtocol(e), e;
    }
    addProtocol(e) {
      if (/^(\w+):(\/\/)?/.test(e))
        return e;
      const t = /^\/[^/\s]/.test(e), o = e.substring(0, 1) === "#", i = /^\/\/[^/\s]/.test(e);
      return !t && !o && !i && (e = "http://" + e), e;
    }
    insertLink(e) {
      const t = this.selection.findParentTag("A");
      t && this.selection.expandToTag(t), document.execCommand(this.commandLink, false, e);
    }
    unlink() {
      document.execCommand(this.commandUnlink);
    }
  };
  Ye.isInline = true;
  Ye.title = "Link";
  var yt = class {
    constructor({ data: e, api: t }) {
      this.CSS = {
        wrapper: "ce-stub",
        info: "ce-stub__info",
        title: "ce-stub__title",
        subtitle: "ce-stub__subtitle"
      }, this.api = t, this.title = e.title || this.api.i18n.t("Error"), this.subtitle = this.api.i18n.t("The block can not be displayed correctly."), this.savedData = e.savedData, this.wrapper = this.make();
    }
    render() {
      return this.wrapper;
    }
    save() {
      return this.savedData;
    }
    make() {
      const e = d.make("div", this.CSS.wrapper), t = '<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>', o = d.make("div", this.CSS.info), i = d.make("div", this.CSS.title, {
        textContent: this.title
      }), n = d.make("div", this.CSS.subtitle, {
        textContent: this.subtitle
      });
      return e.innerHTML = t, o.appendChild(i), o.appendChild(n), e.appendChild(o), e;
    }
  };
  yt.isReadOnlySupported = true;
  var oi = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Inline;
    }
    get title() {
      return this.constructable[je.Title];
    }
    create() {
      return new this.constructable({
        api: this.api.getMethodsForTool(this),
        config: this.settings
      });
    }
  };
  var ii = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Tune;
    }
    create(e, t) {
      return new this.constructable({
        api: this.api.getMethodsForTool(this),
        config: this.settings,
        block: t,
        data: e
      });
    }
  };
  var U = class extends Map {
    get blockTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());
      return new U(e);
    }
    get inlineTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isInline());
      return new U(e);
    }
    get blockTunes() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isTune());
      return new U(e);
    }
    get internalTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);
      return new U(e);
    }
    get externalTools() {
      const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);
      return new U(e);
    }
  };
  var ni = Object.defineProperty;
  var si = Object.getOwnPropertyDescriptor;
  var Et = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? si(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && ni(e, t, i), i;
  };
  var Ke = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Block, this.inlineTools = new U(), this.tunes = new U();
    }
    create(e, t, o) {
      return new this.constructable({
        data: e,
        block: t,
        readOnly: o,
        api: this.api.getMethodsForTool(this),
        config: this.settings
      });
    }
    get isReadOnlySupported() {
      return this.constructable[se.IsReadOnlySupported] === true;
    }
    get isLineBreaksEnabled() {
      return this.constructable[se.IsEnabledLineBreaks];
    }
    get toolbox() {
      const e = this.constructable[se.Toolbox], t = this.config[me.Toolbox];
      if (!V(e) && t !== false)
        return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o, i) => {
          const n = e[i];
          return n ? __spreadValues(__spreadValues({}, n), o) : o;
        }) : [t] : Array.isArray(t) ? t : [
          __spreadValues(__spreadValues({}, e), t)
        ] : Array.isArray(e) ? e : [e];
    }
    get conversionConfig() {
      return this.constructable[se.ConversionConfig];
    }
    get enabledInlineTools() {
      return this.config[me.EnabledInlineTools] || false;
    }
    get enabledBlockTunes() {
      return this.config[me.EnabledBlockTunes];
    }
    get pasteConfig() {
      var _a;
      return (_a = this.constructable[se.PasteConfig]) != null ? _a : {};
    }
    get sanitizeConfig() {
      const e = super.sanitizeConfig, t = this.baseSanitizeConfig;
      if (V(e))
        return t;
      const o = {};
      for (const i in e)
        if (Object.prototype.hasOwnProperty.call(e, i)) {
          const n = e[i];
          j(n) ? o[i] = Object.assign({}, t, n) : o[i] = n;
        }
      return o;
    }
    get baseSanitizeConfig() {
      const e = {};
      return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;
    }
  };
  Et([
    ae
  ], Ke.prototype, "sanitizeConfig", 1);
  Et([
    ae
  ], Ke.prototype, "baseSanitizeConfig", 1);
  var ri = class {
    constructor(e, t, o) {
      this.api = o, this.config = e, this.editorConfig = t;
    }
    get(e) {
      const _a = this.config[e], { class: t, isInternal: o = false } = _a, i = __objRest(_a, ["class", "isInternal"]), n = this.getConstructor(t);
      return new n({
        name: e,
        constructable: t,
        config: i,
        api: this.api,
        isDefault: e === this.editorConfig.defaultBlock,
        defaultPlaceholder: this.editorConfig.placeholder,
        isInternal: o
      });
    }
    getConstructor(e) {
      switch (true) {
        case e[je.IsInline]:
          return oi;
        case e[vt.IsTune]:
          return ii;
        default:
          return Ke;
      }
    }
  };
  var Bt = class {
    constructor({ api: e }) {
      this.CSS = {
        animation: "wobble"
      }, this.api = e;
    }
    render() {
      return {
        icon: pt,
        title: this.api.i18n.t("Move down"),
        onActivate: () => this.handleClick(),
        name: "move-down"
      };
    }
    handleClick() {
      const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);
      if (!t)
        throw new Error("Unable to move Block down since it is already the last");
      const o = t.holder, i = o.getBoundingClientRect();
      let n = Math.abs(window.innerHeight - o.offsetHeight);
      i.top < window.innerHeight && (n = window.scrollY + o.offsetHeight), window.scrollTo(0, n), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(true);
    }
  };
  Bt.isTune = true;
  var Ct = class {
    constructor({ api: e }) {
      this.api = e;
    }
    render() {
      return {
        icon: Co,
        title: this.api.i18n.t("Delete"),
        name: "delete",
        confirmation: {
          title: this.api.i18n.t("Click to delete"),
          onActivate: () => this.handleClick()
        }
      };
    }
    handleClick() {
      this.api.blocks.delete();
    }
  };
  Ct.isTune = true;
  var Tt = class {
    constructor({ api: e }) {
      this.CSS = {
        animation: "wobble"
      }, this.api = e;
    }
    render() {
      return {
        icon: Bo,
        title: this.api.i18n.t("Move up"),
        onActivate: () => this.handleClick(),
        name: "move-up"
      };
    }
    handleClick() {
      const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o = this.api.blocks.getBlockByIndex(e - 1);
      if (e === 0 || !t || !o)
        throw new Error("Unable to move Block up since it is already the first");
      const i = t.holder, n = o.holder, r = i.getBoundingClientRect(), a = n.getBoundingClientRect();
      let l;
      a.top > 0 ? l = Math.abs(r.top) - Math.abs(a.top) : l = Math.abs(r.top) + a.height, window.scrollBy(0, -1 * l), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(true);
    }
  };
  Tt.isTune = true;
  var ai = Object.defineProperty;
  var li = Object.getOwnPropertyDescriptor;
  var ci = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? li(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && ai(e, t, i), i;
  };
  var St = class extends S {
    constructor() {
      super(...arguments), this.stubTool = "stub", this.toolsAvailable = new U(), this.toolsUnavailable = new U();
    }
    get available() {
      return this.toolsAvailable;
    }
    get unavailable() {
      return this.toolsUnavailable;
    }
    get inlineTools() {
      return this.available.inlineTools;
    }
    get blockTools() {
      return this.available.blockTools;
    }
    get blockTunes() {
      return this.available.blockTunes;
    }
    get defaultTool() {
      return this.blockTools.get(this.config.defaultBlock);
    }
    get internal() {
      return this.available.internalTools;
    }
    async prepare() {
      if (this.validateTools(), this.config.tools = Se({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, "tools") || Object.keys(this.config.tools).length === 0)
        throw Error("Can't start without tools");
      const e = this.prepareConfig();
      this.factory = new ri(e, this.config, this.Editor.API);
      const t = this.getListOfPrepareFunctions(e);
      if (t.length === 0)
        return Promise.resolve();
      await ot(t, (o) => {
        this.toolPrepareMethodSuccess(o);
      }, (o) => {
        this.toolPrepareMethodFallback(o);
      }), this.prepareBlockTools();
    }
    getAllInlineToolsSanitizeConfig() {
      const e = {};
      return Array.from(this.inlineTools.values()).forEach((t) => {
        Object.assign(e, t.sanitizeConfig);
      }), e;
    }
    destroy() {
      Object.values(this.available).forEach(async (e) => {
        D(e.reset) && await e.reset();
      });
    }
    get internalTools() {
      return {
        bold: {
          class: $e,
          isInternal: true
        },
        italic: {
          class: We,
          isInternal: true
        },
        link: {
          class: Ye,
          isInternal: true
        },
        paragraph: {
          class: ti,
          inlineToolbar: true,
          isInternal: true
        },
        stub: {
          class: yt,
          isInternal: true
        },
        moveUp: {
          class: Tt,
          isInternal: true
        },
        delete: {
          class: Ct,
          isInternal: true
        },
        moveDown: {
          class: Bt,
          isInternal: true
        }
      };
    }
    toolPrepareMethodSuccess(e) {
      const t = this.factory.get(e.toolName);
      if (t.isInline()) {
        const i = ["render", "surround", "checkState"].filter((n) => !t.create()[n]);
        if (i.length) {
          T(
            `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,
            "warn",
            i
          ), this.toolsUnavailable.set(t.name, t);
          return;
        }
      }
      this.toolsAvailable.set(t.name, t);
    }
    toolPrepareMethodFallback(e) {
      this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));
    }
    getListOfPrepareFunctions(e) {
      const t = [];
      return Object.entries(e).forEach(([o, i]) => {
        t.push({
          function: D(i.class.prepare) ? i.class.prepare : () => {
          },
          data: {
            toolName: o,
            config: i.config
          }
        });
      }), t;
    }
    prepareBlockTools() {
      Array.from(this.blockTools.values()).forEach((e) => {
        this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);
      });
    }
    assignInlineToolsToBlockTool(e) {
      if (this.config.inlineToolbar !== false) {
        if (e.enabledInlineTools === true) {
          e.inlineTools = new U(
            Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())
          );
          return;
        }
        Array.isArray(e.enabledInlineTools) && (e.inlineTools = new U(
          e.enabledInlineTools.map((t) => [t, this.inlineTools.get(t)])
        ));
      }
    }
    assignBlockTunesToBlockTool(e) {
      if (e.enabledBlockTunes !== false) {
        if (Array.isArray(e.enabledBlockTunes)) {
          const t = new U(
            e.enabledBlockTunes.map((o) => [o, this.blockTunes.get(o)])
          );
          e.tunes = new U([...t, ...this.blockTunes.internalTools]);
          return;
        }
        if (Array.isArray(this.config.tunes)) {
          const t = new U(
            this.config.tunes.map((o) => [o, this.blockTunes.get(o)])
          );
          e.tunes = new U([...t, ...this.blockTunes.internalTools]);
          return;
        }
        e.tunes = this.blockTunes.internalTools;
      }
    }
    validateTools() {
      for (const e in this.config.tools)
        if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {
          if (e in this.internalTools)
            return;
          const t = this.config.tools[e];
          if (!D(t) && !D(t.class))
            throw Error(
              `Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`
            );
        }
    }
    prepareConfig() {
      const e = {};
      for (const t in this.config.tools)
        j(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };
      return e;
    }
  };
  ci([
    ae
  ], St.prototype, "getAllInlineToolsSanitizeConfig", 1);
  var di = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;
  var hi = class extends S {
    constructor() {
      super(...arguments), this.isMobile = false, this.contentRectCache = void 0, this.resizeDebouncer = Pt(() => {
        this.windowResize();
      }, 200);
    }
    get CSS() {
      return {
        editorWrapper: "codex-editor",
        editorWrapperNarrow: "codex-editor--narrow",
        editorZone: "codex-editor__redactor",
        editorZoneHidden: "codex-editor__redactor--hidden",
        editorLoader: "codex-editor__loader",
        editorEmpty: "codex-editor--empty",
        editorRtlFix: "codex-editor--rtl"
      };
    }
    get contentRect() {
      if (this.contentRectCache)
        return this.contentRectCache;
      const e = this.nodes.wrapper.querySelector(`.${F.CSS.content}`);
      return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {
        width: 650,
        left: 0,
        right: 0
      };
    }
    addLoader() {
      this.nodes.loader = d.make("div", this.CSS.editorLoader), this.nodes.wrapper.prepend(this.nodes.loader), this.nodes.redactor.classList.add(this.CSS.editorZoneHidden);
    }
    removeLoader() {
      this.nodes.loader.remove(), this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden);
    }
    async prepare() {
      this.checkIsMobile(), this.make(), this.addLoader(), this.loadStyles();
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    checkEmptiness() {
      const { BlockManager: e } = this.Editor;
      this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);
    }
    get someToolbarOpened() {
      const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
      return t.opened || o.opened || i.opened || e.toolbox.opened;
    }
    get someFlipperButtonFocused() {
      return this.Editor.Toolbar.toolbox.hasFocus() ? true : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof G).some(([e, t]) => t.flipper.hasFocus());
    }
    destroy() {
      this.nodes.holder.innerHTML = "";
    }
    closeAllToolbars() {
      const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
      t.close(), o.close(), i.close(), e.toolbox.close();
    }
    checkIsMobile() {
      this.isMobile = window.innerWidth < st;
    }
    make() {
      this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make("div", [
        this.CSS.editorWrapper,
        ...this.isRtl ? [this.CSS.editorRtlFix] : []
      ]), this.nodes.redactor = d.make("div", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + "px", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);
    }
    loadStyles() {
      const e = "editor-js-styles";
      if (d.get(e))
        return;
      const t = d.make("style", null, {
        id: e,
        textContent: di.toString()
      });
      d.prepend(document.head, t);
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(this.nodes.redactor, "click", (e) => {
        this.redactorClicked(e);
      }, false), this.readOnlyMutableListeners.on(this.nodes.redactor, "mousedown", (e) => {
        this.documentTouched(e);
      }, true), this.readOnlyMutableListeners.on(this.nodes.redactor, "touchstart", (e) => {
        this.documentTouched(e);
      }, true), this.readOnlyMutableListeners.on(document, "keydown", (e) => {
        this.documentKeydown(e);
      }, true), this.readOnlyMutableListeners.on(document, "mousedown", (e) => {
        this.documentClicked(e);
      }, true), this.readOnlyMutableListeners.on(document, "selectionchange", () => {
        this.selectionChanged();
      }, true), this.readOnlyMutableListeners.on(window, "resize", () => {
        this.resizeDebouncer();
      }, {
        passive: true
      }), this.watchBlockHoveredEvents();
    }
    watchBlockHoveredEvents() {
      let e;
      this.readOnlyMutableListeners.on(this.nodes.redactor, "mousemove", Te((t) => {
        const o = t.target.closest(".ce-block");
        this.Editor.BlockSelection.anyBlockSelected || o && e !== o && (e = o, this.eventsDispatcher.emit(mt, {
          block: this.Editor.BlockManager.getBlockByChildNode(o)
        }));
      }, 20), {
        passive: true
      });
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    windowResize() {
      this.contentRectCache = null, this.checkIsMobile();
    }
    documentKeydown(e) {
      switch (e.keyCode) {
        case B.ENTER:
          this.enterPressed(e);
          break;
        case B.BACKSPACE:
          this.backspacePressed(e);
          break;
        case B.ESC:
          this.escapePressed(e);
          break;
        default:
          this.defaultBehaviour(e);
          break;
      }
    }
    defaultBehaviour(e) {
      const { currentBlock: t } = this.Editor.BlockManager, o = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
      if (t !== void 0 && o === null) {
        this.Editor.BlockEvents.keydown(e);
        return;
      }
      o || t && i || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
    }
    backspacePressed(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor;
      if (o.anyBlockSelected && !m.isSelectionExists) {
        const n = t.removeSelectedBlocks();
        i.setToBlock(t.insertDefaultBlockAtIndex(n, true), i.positions.START), o.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();
      }
    }
    escapePressed(e) {
      this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.ConversionToolbar.opened ? this.Editor.ConversionToolbar.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();
    }
    enterPressed(e) {
      const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.currentBlockIndex >= 0;
      if (o.anyBlockSelected && !m.isSelectionExists) {
        o.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();
        return;
      }
      if (!this.someToolbarOpened && i && e.target.tagName === "BODY") {
        const n = this.Editor.BlockManager.insert();
        this.Editor.Caret.setToBlock(n), this.Editor.BlockManager.highlightCurrentNode(), this.Editor.Toolbar.moveAndOpen(n);
      }
      this.Editor.BlockSelection.clearSelection(e);
    }
    documentClicked(e) {
      if (!e.isTrusted)
        return;
      const t = e.target;
      this.nodes.holder.contains(t) || m.isAtEditor || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
      const i = this.Editor.BlockSettings.nodes.wrapper.contains(t), n = this.Editor.Toolbar.nodes.settingsToggler.contains(t), r = i || n;
      if (this.Editor.BlockSettings.opened && !r) {
        this.Editor.BlockSettings.close();
        const a = this.Editor.BlockManager.getBlockByChildNode(t);
        this.Editor.Toolbar.moveAndOpen(a);
      }
      this.Editor.BlockSelection.clearSelection(e);
    }
    documentTouched(e) {
      let t = e.target;
      if (t === this.nodes.redactor) {
        const o = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;
        t = document.elementFromPoint(o, i);
      }
      try {
        this.Editor.BlockManager.setCurrentBlockByChildNode(t), this.Editor.BlockManager.highlightCurrentNode();
      } catch (e2) {
        this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();
      }
      this.Editor.Toolbar.moveAndOpen();
    }
    redactorClicked(e) {
      const { BlockSelection: t } = this.Editor;
      if (!m.isCollapsed)
        return;
      const o = () => {
        e.stopImmediatePropagation(), e.stopPropagation();
      }, i = e.target, n = e.metaKey || e.ctrlKey;
      if (d.isAnchor(i) && n) {
        o();
        const u = i.getAttribute("href"), h = Ht(u);
        jt(h);
        return;
      }
      const r = this.Editor.BlockManager.getBlockByIndex(-1), a = d.offset(r.holder).bottom, l = e.pageY;
      if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && !t.anyBlockSelected && a < l) {
        o();
        const { BlockManager: u, Caret: h, Toolbar: f } = this.Editor;
        (!u.lastBlock.tool.isDefault || !u.lastBlock.isEmpty) && u.insertAtEnd(), h.setToTheLastBlock(), f.moveAndOpen(u.lastBlock);
      }
    }
    selectionChanged() {
      const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o = m.anchorElement;
      if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && m.get().removeAllRanges(), !o) {
        m.range || this.Editor.InlineToolbar.close();
        return;
      }
      const i = o.closest(`.${F.CSS.content}`) === null;
      if (i && (this.Editor.InlineToolbar.containsNode(o) || this.Editor.InlineToolbar.close(), !(o.dataset.inlineToolbar === "true")))
        return;
      this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o);
      const n = i !== true;
      this.Editor.InlineToolbar.tryToShow(true, n);
    }
  };
  var ui = {
    BlocksAPI: Zt,
    CaretAPI: Gt,
    EventsAPI: qt,
    I18nAPI: De,
    API: Jt,
    InlineToolbarAPI: Qt,
    ListenersAPI: eo,
    NotifierAPI: no,
    ReadOnlyAPI: so,
    SanitizerAPI: po,
    SaverAPI: fo,
    SelectionAPI: go,
    StylesAPI: bo,
    ToolbarAPI: mo,
    TooltipAPI: xo,
    UiAPI: wo,
    BlockSettings: Ro,
    ConversionToolbar: Y,
    Toolbar: jo,
    InlineToolbar: Uo,
    BlockEvents: $o,
    BlockManager: Ko,
    BlockSelection: Xo,
    Caret: ve,
    CrossBlockSelection: Vo,
    DragNDrop: Zo,
    ModificationsObserver: Go,
    Paste: wt,
    ReadOnly: qo,
    RectangleSelection: pe,
    Renderer: Jo,
    Saver: Qo,
    Tools: St,
    UI: hi
  };
  var pi = class {
    constructor(e) {
      this.moduleInstances = {}, this.eventsDispatcher = new we();
      let t, o;
      this.isReady = new Promise((i, n) => {
        t = i, o = n;
      }), Promise.resolve().then(async () => {
        this.configuration = e, await this.validate(), await this.init(), await this.start(), K("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727", "log", "", "color: #E24A75"), setTimeout(async () => {
          if (await this.render(), this.configuration.autofocus) {
            const { BlockManager: i, Caret: n } = this.moduleInstances;
            n.setToBlock(i.blocks[0], n.positions.START), i.highlightCurrentNode();
          }
          this.moduleInstances.UI.removeLoader(), t();
        }, 500);
      }).catch((i) => {
        T(`Editor.js is not ready because of ${i}`, "error"), o(i);
      });
    }
    set configuration(e) {
      var o, i;
      j(e) ? this.config = __spreadValues({}, e) : this.config = {
        holder: e
      }, Ie(!!this.config.holderId, "config.holderId", "config.holder"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = "editorjs"), this.config.logLevel || (this.config.logLevel = et.VERBOSE), At(this.config.logLevel), Ie(!!this.config.initialBlock, "config.initialBlock", "config.defaultBlock"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || "paragraph", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;
      const t = {
        type: this.config.defaultBlock,
        data: {}
      };
      this.config.placeholder = this.config.placeholder || false, this.config.sanitizer = this.config.sanitizer || {
        p: true,
        b: true,
        a: true
      }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {
      }), this.config.onChange = this.config.onChange || (() => {
      }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : true, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || false, (o = this.config.i18n) != null && o.messages && $2.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || "ltr";
    }
    get configuration() {
      return this.config;
    }
    async validate() {
      const { holderId: e, holder: t } = this.config;
      if (e && t)
        throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");
      if (J(t) && !d.get(t))
        throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);
      if (t && j(t) && !d.isElement(t))
        throw Error("\xABholder\xBB value must be an Element node");
    }
    init() {
      this.constructModules(), this.configureModules();
    }
    async start() {
      await [
        "Tools",
        "UI",
        "BlockManager",
        "Paste",
        "BlockSelection",
        "RectangleSelection",
        "CrossBlockSelection",
        "ReadOnly"
      ].reduce(
        (t, o) => t.then(async () => {
          try {
            await this.moduleInstances[o].prepare();
          } catch (i) {
            if (i instanceof at)
              throw new Error(i.message);
            T(`Module ${o} was skipped because of %o`, "warn", i);
          }
        }),
        Promise.resolve()
      );
    }
    render() {
      return this.moduleInstances.Renderer.render(this.config.data.blocks);
    }
    constructModules() {
      Object.entries(ui).forEach(([e, t]) => {
        try {
          this.moduleInstances[e] = new t({
            config: this.configuration,
            eventsDispatcher: this.eventsDispatcher
          });
        } catch (o) {
          T("[constructModules]", `Module ${e} skipped because`, "error", o);
        }
      });
    }
    configureModules() {
      for (const e in this.moduleInstances)
        Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));
    }
    getModulesDiff(e) {
      const t = {};
      for (const o in this.moduleInstances)
        o !== e && (t[o] = this.moduleInstances[o]);
      return t;
    }
  };
  var fi = class {
    static get version() {
      return "2.27.0";
    }
    constructor(e) {
      let t = () => {
      };
      j(e) && D(e.onReady) && (t = e.onReady);
      const o = new pi(e);
      this.isReady = o.isReady.then(() => {
        this.exportAPI(o), t();
      });
    }
    exportAPI(e) {
      const t = ["configuration"], o = () => {
        Object.values(e.moduleInstances).forEach((n) => {
          D(n.destroy) && n.destroy(), n.listeners.removeAll();
        }), e = null;
        for (const n in this)
          Object.prototype.hasOwnProperty.call(this, n) && delete this[n];
        Object.setPrototypeOf(this, null);
      };
      t.forEach((n) => {
        this[n] = e[n];
      }), this.destroy = o, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({
        blocks: {
          clear: "clear",
          render: "render"
        },
        caret: {
          focus: "focus"
        },
        events: {
          on: "on",
          off: "off",
          emit: "emit"
        },
        saver: {
          save: "save"
        }
      }).forEach(([n, r]) => {
        Object.entries(r).forEach(([a, l]) => {
          this[l] = e.moduleInstances.API.methods[n][a];
        });
      });
    }
  };

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/workspace.js
  var import_editorjs_undo = __toESM(require_bundle());
  var Workspace = class {
    constructor(wrapper, organization_name) {
      this.wrapper = $(wrapper);
      this.page = wrapper.page;
      this.blocks = frappe.workspace_block.blocks;
      this.is_read_only = true;
      this.pages = {};
      this.sorted_public_items = [];
      this.sorted_private_items = [];
      this.current_page = {};
      this.sidebar_items = {
        public: {},
        private: {}
      };
      this.organization_name = organization_name;
      this.sidebar_categories = ["My Workspaces", "Public"];
      this.prepare_container();
      this.setup_pages();
      this.register_awesomebar_shortcut();
    }
    prepare_container() {
      let list_sidebar = $(`
			<div class="list-sidebar overlay-sidebar hidden-xs hidden-sm">
				<div class="desk-sidebar list-unstyled sidebar-menu"></div>
			</div>
		`).appendTo(this.wrapper.find(".layout-side-section"));
      this.sidebar = list_sidebar.find(".desk-sidebar");
      this.body = this.wrapper.find(".layout-main-section");
    }
    async setup_pages(reload) {
      !this.discard && this.create_page_skeleton();
      !this.discard && this.create_sidebar_skeleton();
      this.sidebar_pages = !this.discard ? await this.get_pages() : this.sidebar_pages;
      this.cached_pages = $.extend(true, {}, this.sidebar_pages);
      this.all_pages = this.sidebar_pages.pages;
      this.has_access = this.sidebar_pages.has_access;
      this.all_pages.forEach((page) => {
        page.is_editable = !page.public || this.has_access;
      });
      this.public_pages = this.all_pages.filter((page) => page.public);
      this.private_pages = this.all_pages.filter((page) => !page.public);
      if (this.all_pages) {
        frappe.workspaces = {};
        for (let page of this.all_pages) {
          frappe.workspaces[frappe.router.slug(page.name)] = {
            title: page.title,
            public: page.public
          };
        }
        this.make_sidebar();
        reload && this.show();
      }
    }
    get_pages() {
      return frappe.xcall("tianjy_organization.workspace.get_workspace_sidebar_items");
    }
    sidebar_item_container(item) {
      return $(`
			<div
				class="sidebar-item-container ${item.is_editable ? "is-draggable" : ""}"
				item-parent="${item.parent_page}"
				item-name="${item.title}"
				item-public="${item.public || 0}"
				item-is-hidden="${item.is_hidden || 0}"
			>
				<div class="desk-sidebar-item standard-sidebar-item ${item.selected ? "selected" : ""}">
					<a
						class="item-anchor ${item.is_editable ? "" : "block-click"} item-a" title="${__(item.title)}"
					>
						<span class="sidebar-item-icon" item-icon=${item.icon || "folder-normal"}>${frappe.utils.icon(
        item.icon || "folder-normal",
        "md"
      )}</span>
						<span class="sidebar-item-label">${__(item.title.replaceAll(/{{([^}]+)}}/g, ""))}<span>
					</a>
					<div class="sidebar-item-control"></div>
				</div>
				<div class="sidebar-child-item nested-container"></div>
			</div>
		`);
    }
    make_sidebar() {
      if (this.sidebar.find(".standard-sidebar-section")[0]) {
        this.sidebar.find(".standard-sidebar-section").remove();
      }
      this.sidebar_categories.forEach((category) => {
        if (category != "Public") {
          return;
        }
        let root_pages = this.public_pages.filter(
          (page) => page.parent_page == "" || page.parent_page == null
        );
        if (category != "Public") {
          root_pages = this.private_pages.filter(
            (page) => page.parent_page == "" || page.parent_page == null
          );
        }
        root_pages = root_pages.uniqBy((d2) => d2.title);
        this.build_sidebar_section(category, root_pages);
      });
      this.sidebar.find(".selected").length && !frappe.dom.is_element_in_viewport(this.sidebar.find(".selected")) && this.sidebar.find(".selected")[0].scrollIntoView();
      this.remove_sidebar_skeleton();
    }
    build_sidebar_section(title, root_pages) {
      let sidebar_section = $(
        `<div class="standard-sidebar-section nested-container" data-title="${title}"></div>`
      );
      let $title = $(`<div class="standard-sidebar-label">
			<span>${frappe.utils.icon("small-down", "xs")}</span>
			<span class="section-title">${__(title)}<span>
		</div>`).appendTo(sidebar_section);
      this.prepare_sidebar(root_pages, sidebar_section, this.sidebar);
      $title.on("click", (e) => {
        let icon = $(e.target).find("span use").attr("href") === "#icon-small-down" ? "#icon-right" : "#icon-small-down";
        $(e.target).find("span use").attr("href", icon);
        $(e.target).parent().find(".sidebar-item-container").toggleClass("hidden");
      });
      if (Object.keys(root_pages).length === 0) {
        sidebar_section.addClass("hidden");
      }
      if (sidebar_section.find(".sidebar-item-container").length && sidebar_section.find("> [item-is-hidden='0']").length == 0) {
        sidebar_section.addClass("hidden show-in-edit-mode");
      }
    }
    prepare_sidebar(items, child_container, item_container) {
      items.forEach((item) => this.append_item(item, child_container));
      child_container.appendTo(item_container);
    }
    append_item(item, container) {
      let is_current_page = frappe.router.slug(item.title) == frappe.router.slug(this.get_page_to_show().name) && item.public == this.get_page_to_show().public;
      item.selected = is_current_page;
      if (is_current_page) {
        this.current_page = { name: item.title, public: item.public };
      }
      let $item_container = this.sidebar_item_container(item);
      $item_container.find(".item-a").on("click", () => {
        this.update_selected_sidebar(this.current_page, false);
        this.current_page = {
          name: item.title,
          public: item.public
        };
        this.show();
      });
      let sidebar_control = $item_container.find(".sidebar-item-control");
      this.add_sidebar_actions(item, sidebar_control);
      let pages = item.public ? this.public_pages : this.private_pages;
      let descendant = [];
      function getDescendant(pages2, title) {
        const children = pages2.filter((page) => page.parent_page == title);
        descendant = [...descendant, ...children];
        children.forEach((child) => {
          getDescendant(pages2, child.title);
        });
      }
      getDescendant(pages, item.title);
      const isCurrentParent = descendant.some((page) => {
        return page.name === this.get_page_to_show().name && page.public === this.get_page_to_show().public;
      });
      let child_items = pages.filter((page) => page.parent_page == item.title);
      if (child_items.length > 0) {
        let child_container = $item_container.find(".sidebar-child-item");
        if (!isCurrentParent) {
          child_container.addClass("hidden");
        }
        this.prepare_sidebar(child_items, child_container, $item_container);
      }
      $item_container.appendTo(container);
      this.sidebar_items[item.public ? "public" : "private"][item.title] = $item_container;
      const parents = $item_container.parents();
      if (is_current_page) {
        parents.each((parent) => {
          if ($(parent).hasClass("hidden")) {
            parent.toggleClass("hidden");
          }
        });
      }
      this.add_drop_icon(item, sidebar_control, $item_container);
      if (child_items.length > 0) {
        $item_container.find(".drop-icon").first().addClass("show-in-edit-mode");
      }
      const { organization } = item;
      if (!this.organization_name) {
        return;
      }
      if (!organization) {
        $item_container.hide();
      }
      if (this.organization_name === organization) {
        return;
      }
      $item_container.hide();
    }
    add_drop_icon(item, sidebar_control, item_container) {
      let drop_icon = "small-down";
      if (item_container.find(`[item-name="${this.current_page.name}"]`).length) {
        drop_icon = "small-up";
      }
      let $child_item_section = item_container.children(".sidebar-child-item");
      let $drop_icon = $(
        `<span class="drop-icon hidden">${frappe.utils.icon(drop_icon, "sm")}</span>`
      ).appendTo(sidebar_control);
      let pages = item.public ? this.public_pages : this.private_pages;
      if (pages.some(
        (e) => e.parent_page == item.title && (e.is_hidden == 0 || !this.is_read_only)
      )) {
        $drop_icon.removeClass("hidden");
      }
      $drop_icon.on("click", () => {
        let icon = $drop_icon.find("use").attr("href") === "#icon-small-down" ? "#icon-small-up" : "#icon-small-down";
        $drop_icon.find("use").attr("href", icon);
        $child_item_section.toggleClass("hidden");
      });
    }
    show() {
      if (!this.all_pages) {
        setTimeout(() => this.show(), 100);
        return;
      }
      let page = this.get_page_to_show();
      this.page.set_title(__(page.name));
      this.update_selected_sidebar(this.current_page, false);
      this.update_selected_sidebar(page, true);
      this.show_page(page);
    }
    update_selected_sidebar(page, add) {
      let section = page.public ? "public" : "private";
      if (this.sidebar && this.sidebar_items[section] && this.sidebar_items[section][page.name]) {
        let $sidebar = this.sidebar_items[section][page.name];
        let pages = page.public ? this.public_pages : this.private_pages;
        let sidebar_page = pages.find((p) => p.title == page.name);
        if (add) {
          $sidebar[0].firstElementChild.classList.add("selected");
          if (sidebar_page)
            sidebar_page.selected = true;
          $sidebar.parent().hasClass("sidebar-child-item") && $sidebar.parent().hasClass("hidden") && $sidebar.parent().removeClass("hidden");
          this.current_page = { name: page.name, public: page.public };
          localStorage.current_page = page.name;
          localStorage.is_current_page_public = page.public;
        } else {
          $sidebar[0].firstElementChild.classList.remove("selected");
          if (sidebar_page)
            sidebar_page.selected = false;
        }
      }
    }
    get_data(page) {
      return frappe.call("frappe.desk.desktop.get_desktop_page", {
        page
      }).then((data) => {
        this.page_data = data.message;
        this.pages[page.name] && delete this.pages[page.name];
        this.pages[page.name] = data.message;
        if (!this.page_data || Object.keys(this.page_data).length === 0)
          return;
        if (this.page_data.charts && this.page_data.charts.items.length === 0)
          return;
        return frappe.dashboard_utils.get_dashboard_settings().then((settings) => {
          if (settings) {
            let chart_config = settings.chart_config ? JSON.parse(settings.chart_config) : {};
            this.page_data.charts.items.map((chart) => {
              chart.chart_settings = chart_config[chart.chart_name] || {};
            });
            this.pages[page.name] = this.page_data;
          }
        });
      });
    }
    get_page_to_show() {
      var _a;
      let default_page;
      const firstOrganizationPage = (_a = this.all_pages) == null ? void 0 : _a.find((item) => item.organization === this.organization_name);
      if (firstOrganizationPage) {
        default_page = { name: firstOrganizationPage.title, public: firstOrganizationPage.public };
      } else {
        default_page = { name: "Build", public: true };
      }
      let page = this.current_page.name || default_page.name;
      let is_public = this.current_page.name ? this.current_page.public : default_page.public;
      return { name: page, public: is_public };
    }
    async show_page(page) {
      if (!this.body.find("#editorjs")[0]) {
        this.$page = $(`
				<div id="editorjs" class="desk-page page-main-content"></div>
			`).appendTo(this.body);
      }
      if (this.all_pages.length) {
        this.create_page_skeleton();
        let pages = page.public && this.public_pages.length ? this.public_pages : this.private_pages;
        let current_page = pages.filter((p) => p.title == page.name)[0];
        this.content = current_page && JSON.parse(current_page.content);
        this.content && this.add_custom_cards_in_content();
        $(".item-anchor").addClass("disable-click");
        if (this.pages && this.pages[current_page.name]) {
          this.page_data = this.pages[current_page.name];
        } else {
          await frappe.after_ajax(() => this.get_data(current_page));
        }
        this.setup_actions(page);
        this.prepare_editorjs();
        $(".item-anchor").removeClass("disable-click");
        this.remove_page_skeleton();
      }
    }
    add_custom_cards_in_content() {
      let index = -1;
      this.content.find((item, i) => {
        if (item.type == "card")
          index = i;
      });
      if (index !== -1) {
        this.content.splice(index + 1, 0, {
          type: "card",
          data: { card_name: "Custom Documents", col: 4 }
        });
        this.content.splice(index + 2, 0, {
          type: "card",
          data: { card_name: "Custom Reports", col: 4 }
        });
      }
    }
    prepare_editorjs() {
      if (this.editor) {
        this.editor.isReady.then(() => {
          this.editor.configuration.tools.chart.config.page_data = this.page_data;
          this.editor.configuration.tools.shortcut.config.page_data = this.page_data;
          this.editor.configuration.tools.card.config.page_data = this.page_data;
          this.editor.configuration.tools.onboarding.config.page_data = this.page_data;
          this.editor.configuration.tools.quick_list.config.page_data = this.page_data;
          this.editor.configuration.tools.number_card.config.page_data = this.page_data;
          this.editor.configuration.tools.custom_block.config.page_data = this.page_data;
          this.editor.render({ blocks: this.content || [] });
        });
      } else {
        this.initialize_editorjs(this.content);
      }
    }
    setup_actions(page) {
      let pages = page.public ? this.public_pages : this.private_pages;
      let current_page = pages.filter((p) => p.title == page.name)[0];
      if (!this.is_read_only) {
        this.setup_customization_buttons(current_page);
        return;
      }
      this.clear_page_actions();
      this.page.set_secondary_action(__("Edit"), async () => {
        if (!this.editor || !this.editor.readOnly)
          return;
        this.is_read_only = false;
        this.toggle_hidden_workspaces(true);
        await this.editor.readOnly.toggle();
        this.editor.isReady.then(() => {
          this.initialize_editorjs_undo();
          this.setup_customization_buttons(current_page);
          this.show_sidebar_actions();
          this.make_blocks_sortable();
        });
      });
      this.page.add_inner_button(__("Create Workspace"), () => {
        this.initialize_new_page();
      });
    }
    initialize_editorjs_undo() {
      this.undo = new import_editorjs_undo.default({ editor: this.editor });
      this.undo.initialize({ blocks: this.content || [] });
      this.undo.readOnly = false;
    }
    clear_page_actions() {
      this.page.clear_primary_action();
      this.page.clear_secondary_action();
      this.page.clear_inner_toolbar();
    }
    setup_customization_buttons(page) {
      this.clear_page_actions();
      page.is_editable && this.page.set_primary_action(
        __("Save"),
        () => {
          this.clear_page_actions();
          this.save_page(page).then((saved) => {
            if (!saved)
              return;
            this.undo.readOnly = true;
            this.editor.readOnly.toggle();
            this.is_read_only = true;
          });
        },
        null,
        __("Saving")
      );
      this.page.set_secondary_action(__("Discard"), async () => {
        this.discard = true;
        this.clear_page_actions();
        this.toggle_hidden_workspaces(false);
        await this.editor.readOnly.toggle();
        this.is_read_only = true;
        this.sidebar_pages = this.cached_pages;
        this.reload();
        frappe.show_alert({ message: __("Customizations Discarded"), indicator: "info" });
      });
      if (page.name && this.has_access) {
        this.page.add_inner_button(__("Settings"), () => {
          frappe.set_route(`workspace/${page.name}`);
        });
      }
    }
    toggle_hidden_workspaces(show) {
      $(".desk-sidebar").toggleClass("show-hidden-workspaces", show);
    }
    show_sidebar_actions() {
      this.sidebar.find(".standard-sidebar-section").addClass("show-control");
      this.make_sidebar_sortable();
    }
    add_sidebar_actions(item, sidebar_control, is_new) {
      if (!item.is_editable) {
        sidebar_control.parent().click(() => {
          !this.is_read_only && frappe.show_alert(
            {
              message: __("Only Workspace Manager can sort or edit this page"),
              indicator: "info"
            },
            5
          );
        });
        frappe.utils.add_custom_button(
          frappe.utils.icon("duplicate", "sm"),
          () => this.duplicate_page(item),
          "duplicate-page",
          __("Duplicate Workspace"),
          null,
          sidebar_control
        );
      } else if (item.is_hidden) {
        frappe.utils.add_custom_button(
          frappe.utils.icon("unhide", "sm"),
          (e) => this.unhide_workspace(item, e),
          "unhide-workspace-btn",
          __("Unhide Workspace"),
          null,
          sidebar_control
        );
      } else {
        frappe.utils.add_custom_button(
          frappe.utils.icon("drag", "xs"),
          null,
          "drag-handle",
          __("Drag"),
          null,
          sidebar_control
        );
        !is_new && this.add_settings_button(item, sidebar_control);
      }
    }
    get_parent_pages(page) {
      this.public_parent_pages = [
        "",
        ...this.public_pages.filter((p) => p.organization === this.organization_name).map((p) => p.title)
      ];
      this.private_parent_pages = [
        "",
        ...this.private_pages.filter((p) => p.organization === this.organization_name).map((p) => p.title)
      ];
      if (page) {
        return page.public ? this.public_parent_pages : this.private_parent_pages;
      }
    }
    edit_page(item) {
      var me2 = this;
      let old_item = item;
      let parent_pages = this.get_parent_pages(item);
      let idx = parent_pages.findIndex((x) => x == item.title);
      if (idx !== -1) {
        parent_pages.splice(idx, 1);
      }
      const title = item.title.replaceAll(/{{([^}]+)}}/g, "");
      const res = item.title.match(/{{([^}]+)}}/);
      const suffix = (res == null ? void 0 : res[1]) || "";
      const d2 = new frappe.ui.Dialog({
        title: __("Update Details"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1,
            default: title
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix",
            default: suffix
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: parent_pages,
            default: item.parent_page
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default"
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon",
            default: item.icon
          }
        ],
        primary_action_label: __("Update"),
        primary_action: (values) => {
          values.title = frappe.utils.escape_html(`${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`);
          values.is_public = 1;
          let is_title_changed = values.title != old_item.title;
          let is_section_changed = values.is_public != old_item.public;
          if ((is_title_changed || is_section_changed) && !this.validate_page(values, old_item)) {
            return;
          }
          d2.hide();
          frappe.call({
            method: "frappe.desk.doctype.workspace.workspace.update_page",
            args: {
              name: old_item.name,
              title: values.title,
              icon: values.icon || "",
              parent: values.parent || "",
              public: values.is_public || 0
            },
            callback(res2) {
              if (res2.message) {
                frappe.call({
                  method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.set_organization_workspace",
                  args: {
                    workspace_name: res2.message.name,
                    organization_name: me2.organization_name,
                    default: values.default
                  }
                });
                let message = __("Workspace {0} Edited Successfully", [
                  old_item.title.bold()
                ]);
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          this.update_sidebar(old_item, values);
          if (this.make_page_selected) {
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {
              name: values.title,
              public: values.is_public
            };
            this.show();
            this.make_page_selected = false;
          }
          this.make_sidebar();
          this.show_sidebar_actions();
        }
      });
      d2.show();
    }
    update_sidebar(old_item, new_item) {
      let is_section_changed = old_item.public != (new_item.is_public || 0);
      let is_title_changed = old_item.title != new_item.title;
      let new_updated_item = __spreadValues({}, old_item);
      let pages = old_item.public ? this.public_pages : this.private_pages;
      let child_items = pages.filter((page) => page.parent_page == old_item.title);
      this.make_page_selected = old_item.selected;
      new_updated_item.title = new_item.title;
      new_updated_item.icon = new_item.icon;
      new_updated_item.parent_page = new_item.parent || "";
      new_updated_item.public = new_item.is_public;
      if (is_title_changed || is_section_changed) {
        if (new_item.is_public) {
          new_updated_item.name = new_item.title;
          new_updated_item.label = new_item.title;
          new_updated_item.for_user = "";
        } else {
          let user = frappe.session.user;
          new_updated_item.name = `${new_item.title}-${user}`;
          new_updated_item.label = `${new_item.title}-${user}`;
          new_updated_item.for_user = user;
        }
      }
      this.update_cached_values(old_item, new_updated_item);
      if (child_items.length) {
        child_items.forEach((child) => {
          child.parent_page = new_item.title;
          is_section_changed && this.update_child_sidebar(child, new_item);
        });
      }
    }
    update_child_sidebar(child, new_item) {
      let old_child = __spreadValues({}, child);
      this.make_page_selected = child.selected;
      child.public = new_item.is_public;
      if (new_item.is_public) {
        child.name = child.title;
        child.label = child.title;
        child.for_user = "";
      } else {
        let user = frappe.session.user;
        child.name = `${child.title}-${user}`;
        child.label = `${child.title}-${user}`;
        child.for_user = user;
      }
      this.update_cached_values(old_child, child);
    }
    update_cached_values(old_item, new_item, duplicate, new_page) {
      let [from_pages, to_pages] = old_item.public ? [this.public_pages, this.private_pages] : [this.private_pages, this.public_pages];
      let old_item_index = from_pages.findIndex((page) => page.title == old_item.title);
      duplicate && old_item_index++;
      if (frappe.workspaces[frappe.router.slug(old_item.name)] || new_page) {
        !duplicate && delete frappe.workspaces[frappe.router.slug(old_item.name)];
        if (new_item) {
          frappe.workspaces[frappe.router.slug(new_item.name)] = { title: new_item.title };
        }
      }
      if (this.pages && this.pages[old_item.name] || new_page) {
        if (new_item) {
          this.pages[new_item.name] = this.pages[old_item.name] || {};
        }
        !duplicate && delete this.pages[old_item.name];
      }
      if (new_item) {
        let is_section_changed = old_item.public != (new_item.is_public || new_item.public || 0);
        if (is_section_changed) {
          !duplicate && from_pages.splice(old_item_index, 1);
          to_pages.push(new_item);
        } else if (new_page) {
          from_pages.push(new_item);
        } else {
          from_pages.splice(old_item_index, duplicate ? 0 : 1, new_item);
        }
      } else {
        from_pages.splice(old_item_index, 1);
      }
      this.sidebar_pages.pages = [...this.public_pages, ...this.private_pages];
      this.cached_pages = this.sidebar_pages;
    }
    add_settings_button(item, sidebar_control) {
      this.dropdown_list = [
        {
          label: __("Edit"),
          title: __("Edit Workspace"),
          icon: frappe.utils.icon("edit", "sm"),
          action: () => this.edit_page(item)
        },
        {
          label: __("Duplicate"),
          title: __("Duplicate Workspace"),
          icon: frappe.utils.icon("duplicate", "sm"),
          action: () => this.duplicate_page(item)
        },
        {
          label: __("Hide"),
          title: __("Hide Workspace"),
          icon: frappe.utils.icon("hide", "sm"),
          action: (e) => this.hide_workspace(item, e)
        }
      ];
      if (this.is_item_deletable(item)) {
        this.dropdown_list.push({
          label: __("Delete"),
          title: __("Delete Workspace"),
          icon: frappe.utils.icon("delete-active", "sm"),
          action: () => this.delete_page(item)
        });
      }
      let $button = $(`
			<div class="btn btn-secondary btn-xs setting-btn dropdown-btn" title="${__("Setting")}">
				${frappe.utils.icon("dot-horizontal", "xs")}
			</div>
			<div class="dropdown-list hidden"></div>
		`);
      let dropdown_item = function(label, title, icon, action) {
        let html = $(`
				<div class="dropdown-item" title="${title}">
					<span class="dropdown-item-icon">${icon}</span>
					<span class="dropdown-item-label">${label}</span>
				</div>
			`);
        html.click((event) => {
          event.stopPropagation();
          action && action(event);
        });
        return html;
      };
      $button.filter(".dropdown-btn").click((event) => {
        event.stopPropagation();
        if ($button.filter(".dropdown-list.hidden").length) {
          $(".dropdown-list:not(.hidden)").addClass("hidden");
        }
        $button.filter(".dropdown-list").toggleClass("hidden");
      });
      sidebar_control.append($button);
      this.dropdown_list.forEach((i) => {
        $button.filter(".dropdown-list").append(dropdown_item(i.label, i.title, i.icon, i.action));
      });
    }
    is_item_deletable(item) {
      if (!item.public || item.public && (!item.module || item.module && frappe.boot.developer_mode))
        return true;
      return false;
    }
    delete_page(page) {
      frappe.confirm(
        __("Are you sure you want to delete page {0}?", [page.title.bold()]),
        () => {
          frappe.call({
            method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.delete_page",
            args: { page },
            callback: function(res) {
              if (res.message) {
                let page2 = res.message;
                let message = __("Workspace {0} Deleted Successfully", [
                  page2.title.bold()
                ]);
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          this.page.clear_primary_action();
          this.update_cached_values(page);
          if (this.current_page.name == page.title && this.current_page.public == page.public) {
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {};
            this.current_page = this.get_page_to_show();
            this.show();
          }
          this.make_sidebar();
          this.show_sidebar_actions();
        }
      );
    }
    duplicate_page(page) {
      var me2 = this;
      let new_page = __spreadValues({}, page);
      if (!this.has_access && new_page.public) {
        new_page.public = 0;
      }
      let parent_pages = this.get_parent_pages({ public: new_page.public });
      const d2 = new frappe.ui.Dialog({
        title: __("Create Duplicate"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix"
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: parent_pages,
            default: new_page.parent_page
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default"
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon",
            default: new_page.icon
          }
        ],
        primary_action_label: __("Duplicate"),
        primary_action: (values) => {
          values.title = `${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`;
          values.is_public = 1;
          if (!this.validate_page(values)) {
            return;
          }
          d2.hide();
          frappe.call({
            method: "frappe.desk.doctype.workspace.workspace.duplicate_page",
            args: {
              page_name: page.name,
              new_page: values
            },
            callback(res) {
              if (res.message) {
                frappe.call({
                  method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.save_organization_workspace",
                  args: {
                    workspace_name: res.message.name,
                    organization_name: me2.organization_name,
                    default: values.default
                  }
                });
                let new_page2 = res.message;
                let message = __(
                  "Duplicate of {0} named as {1} is created successfully",
                  [page.title.bold(), new_page2.title.bold()]
                );
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          new_page.title = values.title;
          new_page.public = values.is_public || 0;
          new_page.name = values.title + (new_page.public ? "" : `-${frappe.session.user}`);
          new_page.label = new_page.name;
          new_page.icon = values.icon;
          new_page.parent_page = values.parent || "";
          new_page.for_user = new_page.public ? "" : frappe.session.user;
          new_page.is_editable = !new_page.public;
          new_page.selected = true;
          new_page.organization = this.organization_name;
          this.update_cached_values(page, new_page, true);
          this.update_selected_sidebar(this.current_page, false);
          this.current_page = {
            name: new_page.name,
            public: new_page.public
          };
          this.show();
          me2.make_sidebar();
          me2.show_sidebar_actions();
        }
      });
      d2.show();
    }
    hide_unhide_workspace(page, event, hide) {
      page.is_hidden = hide;
      let sidebar_control = event.target.closest(".sidebar-item-control");
      let sidebar_item_container = sidebar_control.closest(".sidebar-item-container");
      $(sidebar_item_container).attr("item-is-hidden", hide);
      $(sidebar_control).empty();
      this.add_sidebar_actions(page, $(sidebar_control));
      this.add_drop_icon(page, $(sidebar_control), $(sidebar_item_container));
      let cached_page = this.cached_pages.pages.findIndex((p) => p.name === page.name);
      if (cached_page !== -1) {
        this.cached_pages.pages[cached_page].is_hidden = hide;
      }
      let method = hide ? "hide_page" : "unhide_page";
      frappe.call({
        method: "frappe.desk.doctype.workspace.workspace." + method,
        args: {
          page_name: page.name
        },
        callback: (r) => {
          if (!r.message)
            return;
          let message = hide ? "{0} is hidden successfully" : "{0} is unhidden successfully";
          message = __(message, [page.title.bold()]);
          frappe.show_alert({ message, indicator: "green" });
        }
      });
    }
    hide_workspace(page, event) {
      this.hide_unhide_workspace(page, event, 1);
    }
    unhide_workspace(page, event) {
      this.hide_unhide_workspace(page, event, 0);
    }
    make_sidebar_sortable() {
      let me2 = this;
      $(".nested-container").each(function() {
        new Sortable(this, {
          handle: ".drag-handle",
          draggable: ".sidebar-item-container.is-draggable",
          group: "nested",
          animation: 150,
          fallbackOnBody: true,
          swapThreshold: 0.65,
          onEnd: function(evt) {
            let is_public = $(evt.item).attr("item-public") == "1";
            me2.prepare_sorted_sidebar(is_public);
            me2.update_sorted_sidebar();
          }
        });
      });
    }
    prepare_sorted_sidebar(is_public) {
      let pages = is_public ? this.public_pages : this.private_pages;
      if (is_public) {
        this.sorted_public_items = this.sort_sidebar(
          this.sidebar.find(".standard-sidebar-section").last(),
          pages
        );
      } else {
        this.sorted_private_items = this.sort_sidebar(
          this.sidebar.find(".standard-sidebar-section").first(),
          pages
        );
      }
      this.sidebar_pages.pages = [...this.public_pages, ...this.private_pages];
      this.cached_pages = this.sidebar_pages;
    }
    sort_sidebar($sidebar_section, pages) {
      let sorted_items = [];
      Array.from($sidebar_section.find(".sidebar-item-container")).forEach((page, i) => {
        let parent_page = "";
        if (page.closest(".nested-container").classList.contains("sidebar-child-item")) {
          parent_page = page.parentElement.parentElement.attributes["item-name"].value;
        }
        sorted_items.push({
          title: page.attributes["item-name"].value,
          parent_page,
          public: page.attributes["item-public"].value
        });
        let $drop_icon = $(page).find(".sidebar-item-control .drop-icon").first();
        if ($(page).find(".sidebar-child-item > *").length != 0) {
          $drop_icon.removeClass("hidden");
        } else {
          $drop_icon.addClass("hidden");
        }
        let from_index = pages.findIndex((p) => p.title == page.attributes["item-name"].value);
        let element = pages[from_index];
        element.parent_page = parent_page;
        if (from_index != i) {
          pages.splice(from_index, 1);
          pages.splice(i, 0, element);
        }
      });
      return sorted_items;
    }
    update_sorted_sidebar() {
      if (this.sorted_public_items || this.sorted_private_items) {
        frappe.call({
          method: "frappe.desk.doctype.workspace.workspace.sort_pages",
          args: {
            sb_public_items: this.sorted_public_items,
            sb_private_items: this.sorted_private_items
          },
          callback: function(res) {
            if (res.message) {
              let message = `Sidebar Updated Successfully`;
              frappe.show_alert({ message: __(message), indicator: "green" });
            }
          }
        });
      }
    }
    make_blocks_sortable() {
      let me2 = this;
      this.page_sortable = Sortable.create(
        this.page.main.find(".codex-editor__redactor").get(0),
        {
          handle: ".drag-handle",
          draggable: ".ce-block",
          animation: 150,
          onEnd: function(evt) {
            me2.editor.blocks.move(evt.newIndex, evt.oldIndex);
          },
          setData: function() {
          }
        }
      );
    }
    initialize_new_page() {
      var me2 = this;
      this.get_parent_pages();
      const d2 = new frappe.ui.Dialog({
        title: __("New Workspace"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix"
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: this.public_parent_pages
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default"
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon"
          }
        ],
        primary_action_label: __("Create"),
        primary_action: (values) => {
          values.title = frappe.utils.escape_html(`${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`);
          values.is_public = 1;
          if (!this.validate_page(values))
            return;
          d2.hide();
          this.initialize_editorjs_undo();
          this.setup_customization_buttons({ is_editable: true });
          let name = values.title + (values.is_public ? "" : "-" + frappe.session.user);
          let blocks2 = [
            {
              type: "header",
              data: { text: values.title }
            }
          ];
          let new_page = {
            content: JSON.stringify(blocks2),
            name,
            label: name,
            title: values.title,
            public: values.is_public || 0,
            for_user: values.is_public ? "" : frappe.session.user,
            icon: values.icon,
            parent_page: values.parent || "",
            is_editable: true,
            selected: true
          };
          const me3 = this;
          this.editor.render({
            blocks: blocks2
          }).then(async () => {
            if (this.editor.configuration.readOnly) {
              this.is_read_only = false;
              await this.editor.readOnly.toggle();
            }
            frappe.call({
              method: "frappe.desk.doctype.workspace.workspace.new_page",
              args: {
                new_page
              },
              callback: function(res) {
                if (res.message) {
                  frappe.call({
                    method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.save_organization_workspace",
                    args: {
                      workspace_name: res.message.name,
                      organization_name: me3.organization_name,
                      default: values.default
                    }
                  });
                  let message = __("Workspace {0} Created Successfully", [
                    new_page.title.bold()
                  ]);
                  frappe.show_alert({
                    message,
                    indicator: "green"
                  });
                }
              }
            });
            new_page.organization = this.organization_name;
            this.update_cached_values(new_page, new_page, true, true);
            this.make_sidebar();
            this.show_sidebar_actions();
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {
              name: new_page.title,
              public: new_page.public
            };
            this.show();
          });
        }
      });
      d2.show();
    }
    validate_page(new_page, old_page) {
      let message = "";
      let [from_pages, to_pages] = new_page.is_public ? [this.private_pages, this.public_pages] : [this.public_pages, this.private_pages];
      let section = this.sidebar_categories[new_page.is_public];
      if (to_pages && to_pages.filter((p) => p.title == new_page.title)[0]) {
        message = __("Page with title {0} already exist.", [new_page.title.bold()]);
      }
      if (frappe.router.doctype_route_exist(frappe.router.slug(new_page.title))) {
        message = __("Doctype with same route already exist. Please choose different title.");
      }
      let child_pages = old_page && from_pages.filter((p) => p.parent_page == old_page.title);
      if (child_pages) {
        child_pages.every((child_page) => {
          if (to_pages && to_pages.find((p) => p.title == child_page.title)) {
            message = __(
              "One of the child page with name {0} already exist in {1} Section. Please update the name of the child page first before moving",
              [child_page.title.bold(), section.bold()]
            );
            cur_dialog.hide();
            return false;
          }
          return true;
        });
      }
      if (message) {
        frappe.throw(__(message));
        return false;
      }
      return true;
    }
    add_page_to_sidebar(page) {
      let $sidebar = $(".standard-sidebar-section");
      let item = __spreadValues({}, page);
      item.selected = true;
      item.is_editable = true;
      let $sidebar_item = this.sidebar_item_container(item);
      this.add_sidebar_actions(item, $sidebar_item.find(".sidebar-item-control"), true);
      $sidebar_item.find(".sidebar-item-control .drag-handle").css("margin-right", "8px");
      let sidebar_section = item.is_public ? $sidebar[1] : $sidebar[0];
      if (!item.parent) {
        !item.is_public && $sidebar.first().removeClass("hidden");
        $sidebar_item.appendTo(sidebar_section);
      } else {
        let $item_container = $(sidebar_section).find(`[item-name="${item.parent}"]`);
        let $child_section = $item_container.find(".sidebar-child-item");
        let $drop_icon = $item_container.find(".drop-icon");
        if (!$child_section[0]) {
          $child_section = $(
            `<div class="sidebar-child-item hidden nested-container"></div>`
          ).appendTo($item_container);
          $drop_icon.toggleClass("hidden");
        }
        $sidebar_item.appendTo($child_section);
        $child_section.removeClass("hidden");
        $item_container.find(".drop-icon.hidden").removeClass("hidden");
        $item_container.find(".drop-icon use").attr("href", "#icon-small-up");
      }
      let section = item.is_public ? "public" : "private";
      if (this.sidebar_items && this.sidebar_items[section] && !this.sidebar_items[section][item.title]) {
        this.sidebar_items[section][item.title] = $sidebar_item;
      }
    }
    initialize_editorjs(blocks2) {
      this.tools = {
        header: {
          class: this.blocks["header"],
          inlineToolbar: ["HeaderSize", "bold", "italic", "link"],
          config: {
            default_size: 4
          }
        },
        paragraph: {
          class: this.blocks["paragraph"],
          inlineToolbar: ["HeaderSize", "bold", "italic", "link"],
          config: {
            placeholder: __("Choose a block or continue typing")
          }
        },
        chart: {
          class: this.blocks["chart"],
          config: {
            page_data: this.page_data || []
          }
        },
        card: {
          class: this.blocks["card"],
          config: {
            page_data: this.page_data || []
          }
        },
        shortcut: {
          class: this.blocks["shortcut"],
          config: {
            page_data: this.page_data || []
          }
        },
        onboarding: {
          class: this.blocks["onboarding"],
          config: {
            page_data: this.page_data || []
          }
        },
        quick_list: {
          class: this.blocks["quick_list"],
          config: {
            page_data: this.page_data || []
          }
        },
        number_card: {
          class: this.blocks["number_card"],
          config: {
            page_data: this.page_data || []
          }
        },
        custom_block: {
          class: this.blocks["custom_block"],
          config: {
            page_data: this.page_data || []
          }
        },
        spacer: this.blocks["spacer"],
        HeaderSize: frappe.workspace_block.tunes["header_size"]
      };
      for (const [k, c] of frappe.guigu.blocks) {
        this.tools[k] = c;
      }
      this.editor = new fi({
        data: {
          blocks: blocks2 || []
        },
        tools: this.tools,
        autofocus: false,
        readOnly: true,
        logLevel: "ERROR"
      });
    }
    save_page(page) {
      let me2 = this;
      this.current_page = { name: page.title, public: page.public };
      return this.editor.save().then((outputData) => {
        let new_widgets = {};
        outputData.blocks.forEach((item) => {
          if (item.data.new) {
            if (!new_widgets[item.type]) {
              new_widgets[item.type] = [];
            }
            new_widgets[item.type].push(item.data.new);
            delete item.data["new"];
          }
        });
        let blocks2 = outputData.blocks.filter(
          (item) => item.type != "card" || item.data.card_name !== "Custom Documents" && item.data.card_name !== "Custom Reports"
        );
        if (page.content == JSON.stringify(blocks2) && Object.keys(new_widgets).length === 0) {
          this.setup_customization_buttons(page);
          frappe.show_alert({
            message: __("No changes made on the page"),
            indicator: "warning"
          });
          return false;
        }
        this.create_page_skeleton();
        page.content = JSON.stringify(blocks2);
        frappe.call({
          method: "frappe.desk.doctype.workspace.workspace.save_page",
          args: {
            title: page.title,
            public: page.public || 0,
            new_widgets,
            blocks: JSON.stringify(blocks2)
          },
          callback: function(res) {
            if (res.message) {
              me2.discard = true;
              me2.update_cached_values(page, page);
              me2.reload();
              frappe.show_alert({
                message: __("Page Saved Successfully"),
                indicator: "green"
              });
            }
          }
        });
        return true;
      }).catch((error) => {
        error;
      });
    }
    reload() {
      this.sorted_public_items = [];
      this.sorted_private_items = [];
      this.setup_pages(true);
      this.discard = false;
      this.undo.readOnly = true;
    }
    create_page_skeleton() {
      if (this.body.find(".workspace-skeleton").length)
        return;
      this.body.prepend(frappe.render_template("workspace_loading_skeleton"));
      this.body.find(".codex-editor").addClass("hidden");
    }
    remove_page_skeleton() {
      this.body.find(".codex-editor").removeClass("hidden");
      this.body.find(".workspace-skeleton").remove();
    }
    create_sidebar_skeleton() {
      if ($(".workspace-sidebar-skeleton").length)
        return;
      $(frappe.render_template("workspace_sidebar_loading_skeleton")).insertBefore(this.sidebar);
      this.sidebar.addClass("hidden");
    }
    remove_sidebar_skeleton() {
      this.sidebar.removeClass("hidden");
      $(".workspace-sidebar-skeleton").remove();
    }
    register_awesomebar_shortcut() {
      "abcdefghijklmnopqrstuvwxyz".split("").forEach((letter) => {
        const default_shortcut = {
          action: (e) => {
            $("#navbar-search").focus();
            return false;
          },
          page: this.page
        };
        frappe.ui.keys.add_shortcut(__spreadValues({ shortcut: letter }, default_shortcut));
        frappe.ui.keys.add_shortcut(__spreadValues({ shortcut: `shift+${letter}` }, default_shortcut));
      });
    }
  };

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=script
  var Workspace_default = /* @__PURE__ */ (0, import_vue26.defineComponent)({
    __name: "Workspace",
    props: {
      organization: { type: String, required: true }
    },
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const wrapperRef = (0, import_vue27.ref)();
      (0, import_vue27.watch)(wrapperRef, () => {
        if (!wrapperRef.value) {
          return;
        }
        frappe.ui.make_app_page({
          parent: wrapperRef.value,
          name: "Workspaces",
          title: __("Workspace")
        });
        const workspace = new Workspace(wrapperRef.value, props.organization);
        workspace.show();
      }, { immediate: true });
      const __returned__ = { props, emit, wrapperRef };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=style&index=0
  var Workspace_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=template
  var import_vue28 = __require("vue");
  var _hoisted_112 = {
    ref: "wrapperRef",
    class: "content page-container",
    id: "page-Workspaces",
    "data-page-route": "Workspaces"
  };
  function render9(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue28.openBlock)(), (0, import_vue28.createElementBlock)("div", _hoisted_112, null, 512);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue
  Workspace_default2(Workspace_default);
  Workspace_default.render = render9;
  Workspace_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue";
  Workspace_default.__scopeId = "data-v-89a027f3";
  var Workspace_default3 = Workspace_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=script
  var import_vue29 = __require("vue");
  var import_vue30 = __require("vue");
  var import_element_plus2 = __require("element-plus");
  var Member_default = /* @__PURE__ */ (0, import_vue29.defineComponent)({
    __name: "Member",
    props: {
      organization: { type: String, required: true }
    },
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const memberList = (0, import_vue30.ref)([]);
      (0, import_vue30.watch)(() => props.organization, () => {
        getMembers();
      }, { immediate: true });
      async function getMembers() {
        if (!props.organization) {
          return;
        }
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_members",
          args: {
            organization_name: props.organization
          }
        });
        memberList.value = (res == null ? void 0 : res.message) || [];
      }
      function createMember() {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization Member");
        frappe.model.set_value("Tianjy Organization Member", newDoc, "organization", props.organization);
        frappe.set_route(["form", "Tianjy Organization Member", newDoc]);
      }
      function editMember(member) {
        frappe.set_route(["form", "Tianjy Organization Member", member.name]);
      }
      function deleteMember(member) {
        import_element_plus2.ElMessageBox.confirm(
          "\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u4EBA\u5458\u5417?",
          "\u8BF7\u786E\u8BA4",
          {
            confirmButtonText: "\u786E\u5B9A",
            cancelButtonText: "\u53D6\u6D88",
            type: "warning"
          }
        ).then(async () => {
          await frappe.db.delete_doc("Tianjy Organization Member", member.name);
          getMembers();
          (0, import_element_plus2.ElMessage)({
            type: "success",
            message: "\u5220\u9664\u6210\u529F"
          });
        }).catch(() => {
          (0, import_element_plus2.ElMessage)({
            type: "info",
            message: "\u53D6\u6D88\u5220\u9664"
          });
        });
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization Member");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization Member" && p.doctype !== "Tianjy Organization Role") {
          return;
        }
        getMembers();
      });
      const popstateListener = function(event) {
        getMembers();
      };
      (0, import_vue30.onMounted)(() => {
        window.addEventListener("popstate", popstateListener);
      });
      (0, import_vue30.onUnmounted)(() => {
        window.removeEventListener("popstate", popstateListener);
      });
      const __returned__ = { props, emit, memberList, getMembers, createMember, editMember, deleteMember, popstateListener };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=style&index=0
  var Member_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=template
  var import_vue31 = __require("vue");
  var _hoisted_113 = { class: "member" };
  var _hoisted_27 = { class: "btn-container" };
  function render10(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_ElButton = (0, import_vue31.resolveComponent)("ElButton");
    const _component_el_table_column = (0, import_vue31.resolveComponent)("el-table-column");
    const _component_el_table = (0, import_vue31.resolveComponent)("el-table");
    return (0, import_vue31.openBlock)(), (0, import_vue31.createElementBlock)("div", _hoisted_113, [
      (0, import_vue31.createElementVNode)("div", _hoisted_27, [
        (0, import_vue31.createVNode)(_component_ElButton, {
          type: "primary",
          onClick: $setup.createMember
        }, {
          default: (0, import_vue31.withCtx)(() => [
            (0, import_vue31.createTextVNode)("\u65B0\u589E\u4EBA\u5458")
          ]),
          _: 1
        })
      ]),
      (0, import_vue31.createVNode)(_component_el_table, {
        data: $setup.memberList,
        border: true,
        style: { "width": "100%" },
        height: "100%"
      }, {
        default: (0, import_vue31.withCtx)(() => [
          (0, import_vue31.createVNode)(_component_el_table_column, {
            fixed: "",
            prop: "user_doc.full_name",
            label: "\u7528\u6237",
            width: "180"
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "role",
            label: "\u89D2\u8272"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createElementVNode)("span", null, (0, import_vue31.toDisplayString)(scope.row.roles.map((i) => i.role).join(",")), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "visible",
            label: "\u53EF\u89C1",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.visible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "viewable",
            label: "\u53EF\u67E5\u770B",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.viewable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "addible",
            label: "\u53EF\u6DFB\u52A0",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.addible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "editable",
            label: "\u53EF\u7F16\u8F91",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.editable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "deletable",
            label: "\u53EF\u5220\u9664",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.deletable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "manageable",
            label: "\u53EF\u7BA1\u7406",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.manageable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "address",
            label: "\u64CD\u4F5C",
            width: "180"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createVNode)(_component_ElButton, {
                type: "primary",
                onClick: ($event) => $setup.editMember(scope.row)
              }, {
                default: (0, import_vue31.withCtx)(() => [
                  (0, import_vue31.createTextVNode)("\u7F16\u8F91")
                ]),
                _: 2
              }, 1032, ["onClick"]),
              (0, import_vue31.createVNode)(_component_ElButton, {
                type: "danger",
                onClick: ($event) => $setup.deleteMember(scope.row)
              }, {
                default: (0, import_vue31.withCtx)(() => [
                  (0, import_vue31.createTextVNode)("\u5220\u9664")
                ]),
                _: 2
              }, 1032, ["onClick"])
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["data"])
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue
  Member_default2(Member_default);
  Member_default.render = render10;
  Member_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue";
  Member_default.__scopeId = "data-v-b487dc22";
  var Member_default3 = Member_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=script
  var tianjy_organization_config_default = /* @__PURE__ */ (0, import_vue32.defineComponent)({
    __name: "index",
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const organization = (0, import_vue33.ref)();
      const activeName = (0, import_vue33.ref)("info");
      const meta = (0, import_vue33.ref)();
      (0, import_vue33.onMounted)(() => getMeta());
      async function getMeta() {
        let local_meta = frappe.get_meta("Tianjy Organization");
        if (local_meta) {
          meta.value = local_meta;
          return;
        }
        await frappe.model.with_doctype("Tianjy Organization");
        local_meta = frappe.get_meta("Tianjy Organization");
        meta.value = local_meta || void 0;
      }
      const permissions = (0, import_vue33.computed)(() => {
        if (!meta.value) {
          return { deletePermission: false, createPermission: false, writePermission: false };
        }
        const deletePermission = frappe.perm.has_perm(meta.value.name, 0, "delete");
        const createPermission = frappe.perm.has_perm(meta.value.name, 0, "create");
        const writePermission = frappe.perm.has_perm(meta.value.name, 0, "write");
        return { deletePermission, createPermission, writePermission };
      });
      const __returned__ = { props, emit, organization, activeName, meta, getMeta, permissions, Page: page_default3, OrganizationTree: OrganizationTree_default3, FormDetail: Detail_default3, Workspace: Workspace_default3, Member: Member_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=style&index=0
  var tianjy_organization_config_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=template
  var import_vue34 = __require("vue");
  var _withScopeId3 = (n) => ((0, import_vue34.pushScopeId)("data-v-cb280acd"), n = n(), (0, import_vue34.popScopeId)(), n);
  var _hoisted_114 = /* @__PURE__ */ _withScopeId3(() => /* @__PURE__ */ (0, import_vue34.createElementVNode)("div", null, "\u7EC4\u7EC7\u8BBE\u7F6E", -1));
  function render11(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_tab_pane = (0, import_vue34.resolveComponent)("el-tab-pane");
    const _component_el_tabs = (0, import_vue34.resolveComponent)("el-tabs");
    return (0, import_vue34.openBlock)(), (0, import_vue34.createBlock)($setup["Page"], null, {
      title: (0, import_vue34.withCtx)(() => [
        _hoisted_114
      ]),
      sider: (0, import_vue34.withCtx)(() => [
        (0, import_vue34.createVNode)($setup["OrganizationTree"], {
          modelValue: $setup.organization,
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.organization = $event),
          permissions: $setup.permissions
        }, null, 8, ["modelValue", "permissions"])
      ]),
      default: (0, import_vue34.withCtx)(() => [
        (0, import_vue34.createVNode)(_component_el_tabs, {
          modelValue: $setup.activeName,
          "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.activeName = $event),
          class: "organization-tabs"
        }, {
          default: (0, import_vue34.withCtx)(() => [
            (0, import_vue34.createVNode)(_component_el_tab_pane, {
              label: "\u57FA\u672C\u4FE1\u606F",
              name: "info"
            }, {
              default: (0, import_vue34.withCtx)(() => {
                var _a;
                return [
                  (0, import_vue34.createVNode)($setup["FormDetail"], {
                    name: (_a = $setup.organization) == null ? void 0 : _a.name,
                    doctype: "Tianjy Organization"
                  }, null, 8, ["name"])
                ];
              }),
              _: 1
            }),
            (0, import_vue34.createVNode)(_component_el_tab_pane, {
              class: "workspace",
              label: "\u5DE5\u4F5C\u533A",
              name: "workspace"
            }, {
              default: (0, import_vue34.withCtx)(() => [
                $setup.organization ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)($setup["Workspace"], {
                  key: 0,
                  organization: $setup.organization.name
                }, null, 8, ["organization"])) : (0, import_vue34.createCommentVNode)("v-if", true)
              ]),
              _: 1
            }),
            (0, import_vue34.createVNode)(_component_el_tab_pane, {
              class: "member",
              label: "\u6210\u5458",
              name: "users"
            }, {
              default: (0, import_vue34.withCtx)(() => [
                $setup.organization ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)($setup["Member"], {
                  key: 0,
                  organization: $setup.organization.name
                }, null, 8, ["organization"])) : (0, import_vue34.createCommentVNode)("v-if", true)
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["modelValue"])
      ]),
      _: 1
    });
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue
  tianjy_organization_config_default2(tianjy_organization_config_default);
  tianjy_organization_config_default.render = render11;
  tianjy_organization_config_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue";
  tianjy_organization_config_default.__scopeId = "data-v-cb280acd";
  var tianjy_organization_config_default3 = tianjy_organization_config_default;

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.ts
  var import_element_plus3 = __toESM(__require("element-plus"));
  var import_zh_cn = __toESM(__require("element-plus/dist/locale/zh-cn"));
  frappe.pages["tianjy_organization_config"].on_page_load = function(wrapper) {
    var page = frappe.ui.make_app_page({
      parent: wrapper,
      title: "\u7EC4\u7EC7\u914D\u7F6E",
      single_column: true
    });
    const app = (0, import_vue35.createApp)(tianjy_organization_config_default3, {});
    app.use((app2) => {
      app2.config.globalProperties.$page = page;
    });
    app.use(import_element_plus3.default, { size: "small", locale: import_zh_cn.default });
    app.mount(page.parent);
  };
})();
/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */
/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */
/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */
/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vZnJhcHBlL25vZGVfbW9kdWxlcy9lZGl0b3Jqcy11bmRvL2Rpc3QvYnVuZGxlLmpzIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnRzIiwgIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlIiwgIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvdXNlTWV0YVF1ZXJ5LnRzIiwgIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvVG9nZ2xlQnRuLnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL2luZGV4LnZ1ZT90eXBlPXN0eWxlJmluZGV4PTAiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWUiLCAiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2hlbHBlci50cyIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT10ZW1wbGF0ZSIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlIiwgIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlIiwgImd1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZSIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvdXRpbHMvZ2V0TGluay50cyIsICJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9NYWluLnZ1ZSIsICJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZT90eXBlPXRlbXBsYXRlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvRm9vdGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL1BhZ2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvVG9vbGJhci50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC91bmRvX21hbmFnZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTGF5b3V0L1NlY3Rpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTGF5b3V0L1RhYi50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9MYXlvdXQvQ29sdW1uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0xheW91dC9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9Gb3JtLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2xvYWREb2MudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvdXNlU3RvcmUudHMiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL01haW4udnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTWFpbi52dWUiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZT90eXBlPXRlbXBsYXRlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0RldGFpbC52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZSIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZSIsICIuLi8uLi8uLi8uLi8uLi9mcmFwcGUvbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9lZGl0b3Jqcy9kaXN0L2VkaXRvcmpzLm1qcyIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL3dvcmtzcGFjZS5qcyIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1dvcmtzcGFjZS52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZSIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9pbmRleC52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZSJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5VbmRvPWUoKTp0LlVuZG89ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciBvPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdCluLmQoaSxvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiL1wiLG4obi5zPTApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaS5rZXksaSl9fW4ucihlKSxuLmQoZSxcImRlZmF1bHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuaG9sZGVyPVwic3RyaW5nXCI9PXR5cGVvZiBuP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pOm4sdGhpcy5vYnNlcnZlcj1udWxsLHRoaXMuZGVib3VuY2VUaW1lcj0yMDAsdGhpcy5tdXRhdGlvbkRlYm91bmNlcj10aGlzLmRlYm91bmNlKChmdW5jdGlvbigpe2UoKX0pLHRoaXMuZGVib3VuY2VUaW1lcil9dmFyIGUsbixvO3JldHVybiBlPXQsKG49W3trZXk6XCJzZXRNdXRhdGlvbk9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5ob2xkZXI7dGhpcy5vYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24oZSl7dC5tdXRhdGlvbkhhbmRsZXIoZSl9KSksdGhpcy5vYnNlcnZlci5vYnNlcnZlKGUse2NoaWxkTGlzdDohMCxhdHRyaWJ1dGVzOiEwLHN1YnRyZWU6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITB9KX19LHtrZXk6XCJtdXRhdGlvbkhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ITE7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJjaGlsZExpc3RcIjp0LnRhcmdldD09PWUuaG9sZGVyP2Uub25EZXN0cm95KCk6bj0hMDticmVhaztjYXNlXCJjaGFyYWN0ZXJEYXRhXCI6bj0hMDticmVhaztjYXNlXCJhdHRyaWJ1dGVzXCI6dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2UtYmxvY2tcIil8fChuPSEwKX19KSksbiYmdGhpcy5tdXRhdGlvbkRlYm91bmNlcigpfX0se2tleTpcImRlYm91bmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobykscz0wO3M8bztzKyspcltzXT1hcmd1bWVudHNbc107dmFyIGE9aTtjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGEscil9KSxlKX19fSx7a2V5Olwib25EZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ3VzdG9tRXZlbnQoXCJkZXN0cm95XCIpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQodCksdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9fV0pJiZpKGUucHJvdG90eXBlLG4pLG8mJmkoZSxvKSx0fSgpO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaS5rZXksaSl9fXZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzLGk9ZS5lZGl0b3Iscj1lLm9uVXBkYXRlLHM9ZS5tYXhMZW5ndGg7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTt2YXIgYT17bWF4TGVuZ3RoOjMwLG9uVXBkYXRlOmZ1bmN0aW9uKCl7fX0sdT1pLmNvbmZpZ3VyYXRpb247dGhpcy5lZGl0b3I9aSx0aGlzLnNob3VsZFNhdmVIaXN0b3J5PSEwLHRoaXMucmVhZE9ubHk9dS5yZWFkT25seSx0aGlzLm1heExlbmd0aD1zfHxhLm1heExlbmd0aCx0aGlzLm9uVXBkYXRlPXJ8fGEub25VcGRhdGUsbmV3IG8oKGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVnaXN0ZXJDaGFuZ2UoKX0pLHUuaG9sZGVyKS5zZXRNdXRhdGlvbk9ic2VydmVyKCksdGhpcy5zZXRFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbEl0ZW09bnVsbCx0aGlzLmNsZWFyKCl9dmFyIGUsbixpO3JldHVybiBlPXQsaT1be2tleTpcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19XSwobj1be2tleTpcInRydW5jYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IoO3QubGVuZ3RoPmU7KXQuc2hpZnQoKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9XCJibG9ja3NcImluIHQ/dC5ibG9ja3M6dCxuPXtpbmRleDplLmxlbmd0aC0xLHN0YXRlOmV9O3RoaXMuc3RhY2tbMF09bix0aGlzLmluaXRpYWxJdGVtPW59fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhY2s9dGhpcy5pbml0aWFsSXRlbT9bdGhpcy5pbml0aWFsSXRlbV06W3tpbmRleDowLHN0YXRlOltdfV0sdGhpcy5wb3NpdGlvbj0wLHRoaXMub25VcGRhdGUoKX19LHtrZXk6XCJyZWdpc3RlckNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlYWRPbmx5fHwodGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLnNhdmUmJnRoaXMuc2hvdWxkU2F2ZUhpc3RvcnkmJnRoaXMuZWRpdG9yLnNhdmUoKS50aGVuKChmdW5jdGlvbihlKXt0LmVkaXRvckRpZFVwZGF0ZShlLmJsb2NrcykmJnQuc2F2ZShlLmJsb2Nrcyl9KSksdGhpcy5zaG91bGRTYXZlSGlzdG9yeT0hMCl9fSx7a2V5OlwiZWRpdG9yRGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGFja1t0aGlzLnBvc2l0aW9uXS5zdGF0ZTtyZXR1cm4gdC5sZW5ndGghPT1lLmxlbmd0aHx8SlNPTi5zdHJpbmdpZnkoZSkhPT1KU09OLnN0cmluZ2lmeSh0KX19LHtrZXk6XCJzYXZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbj49dGhpcy5tYXhMZW5ndGgmJnRoaXMudHJ1bmNhdGUodGhpcy5zdGFjayx0aGlzLm1heExlbmd0aCksdGhpcy5wb3NpdGlvbj1NYXRoLm1pbih0aGlzLnBvc2l0aW9uLHRoaXMuc3RhY2subGVuZ3RoLTEpLHRoaXMuc3RhY2s9dGhpcy5zdGFjay5zbGljZSgwLHRoaXMucG9zaXRpb24rMSk7dmFyIGU9dGhpcy5lZGl0b3IuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCk7dGhpcy5zdGFjay5wdXNoKHtpbmRleDplLHN0YXRlOnR9KSx0aGlzLnBvc2l0aW9uKz0xLHRoaXMub25VcGRhdGUoKX19LHtrZXk6XCJ1bmRvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuY2FuVW5kbygpKXt0aGlzLnNob3VsZFNhdmVIaXN0b3J5PSExO3ZhciBlPXRoaXMuc3RhY2tbdGhpcy5wb3NpdGlvbi09MV0sbj1lLmluZGV4LGk9ZS5zdGF0ZTt0aGlzLm9uVXBkYXRlKCksdGhpcy5lZGl0b3IuYmxvY2tzLnJlbmRlcih7YmxvY2tzOml9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmVkaXRvci5jYXJldC5zZXRUb0Jsb2NrKG4sXCJlbmRcIil9KSl9fX0se2tleTpcInJlZG9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5jYW5SZWRvKCkpe3RoaXMuc2hvdWxkU2F2ZUhpc3Rvcnk9ITE7dmFyIGU9dGhpcy5zdGFja1t0aGlzLnBvc2l0aW9uKz0xXSxuPWUuaW5kZXgsaT1lLnN0YXRlO3RoaXMub25VcGRhdGUoKSx0aGlzLmVkaXRvci5ibG9ja3MucmVuZGVyKHtibG9ja3M6aX0pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZWRpdG9yLmNhcmV0LnNldFRvQmxvY2sobixcImVuZFwiKX0pKX19fSx7a2V5OlwiY2FuVW5kb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucmVhZE9ubHkmJnRoaXMucG9zaXRpb24+MH19LHtrZXk6XCJjYW5SZWRvXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5yZWFkT25seSYmdGhpcy5wb3NpdGlvbjx0aGlzLmNvdW50KCl9fSx7a2V5OlwiY291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrLmxlbmd0aC0xfX0se2tleTpcInNldEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9LyhNYWMpL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pP1wibWV0YUtleVwiOlwiY3RybEtleVwiLG49ZnVuY3Rpb24obil7bltlXSYmXCJ6XCI9PT1uLmtleSYmKG4ucHJldmVudERlZmF1bHQoKSx0LnVuZG8oKSl9LGk9ZnVuY3Rpb24obil7bltlXSYmXCJ5XCI9PT1uLmtleSYmKG4ucHJldmVudERlZmF1bHQoKSx0LnJlZG8oKSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsbiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixpKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsbiksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixpKX0pKX19XSkmJnIoZS5wcm90b3R5cGUsbiksaSYmcihlLGkpLHR9KCl9XSkuZGVmYXVsdH0pKTsiLCAiaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJztcbmltcG9ydCBPcmdhbml6YXRpb25Db25maWcgZnJvbSAnLi9pbmRleC52dWUnO1xuaW1wb3J0IEVsZW1lbnRQbHVzIGZyb20gJ2VsZW1lbnQtcGx1cyc7XG5pbXBvcnQgemhDbiBmcm9tICdlbGVtZW50LXBsdXMvZGlzdC9sb2NhbGUvemgtY24nO1xuXG5mcmFwcGUucGFnZXNbJ3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnJ10ub25fcGFnZV9sb2FkID0gZnVuY3Rpb24od3JhcHBlcikge1xuXHR2YXIgcGFnZSA9IGZyYXBwZS51aS5tYWtlX2FwcF9wYWdlKHtcblx0XHRwYXJlbnQ6IHdyYXBwZXIsXG5cdFx0dGl0bGU6ICdcdTdFQzRcdTdFQzdcdTkxNERcdTdGNkUnLFxuXHRcdHNpbmdsZV9jb2x1bW46IHRydWVcblx0fSk7XG5cdGNvbnN0IGFwcCA9IGNyZWF0ZUFwcChPcmdhbml6YXRpb25Db25maWcsIHt9KTtcblx0YXBwLnVzZShhcHAgPT4geyBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBhZ2UgPSBwYWdlOyB9KTtcblx0YXBwLnVzZShFbGVtZW50UGx1cywgeyBzaXplOiAnc21hbGwnLCBsb2NhbGU6IHpoQ24gfSk7XG5cdGFwcC5tb3VudChwYWdlLnBhcmVudCk7XG59XG4iLCAiPHRlbXBsYXRlPlxuXHQ8UGFnZT5cblx0XHQ8dGVtcGxhdGUgI3RpdGxlPlxuXHRcdFx0PGRpdj5cdTdFQzRcdTdFQzdcdThCQkVcdTdGNkU8L2Rpdj5cblx0XHQ8L3RlbXBsYXRlPlxuXHRcdDx0ZW1wbGF0ZSAjc2lkZXI+XG5cdFx0XHQ8T3JnYW5pemF0aW9uVHJlZSBcblx0XHRcdFx0di1tb2RlbD1cIm9yZ2FuaXphdGlvblwiXG5cdFx0XHRcdDpwZXJtaXNzaW9ucz1cInBlcm1pc3Npb25zXCJcblx0XHRcdD48L09yZ2FuaXphdGlvblRyZWU+XG5cdFx0PC90ZW1wbGF0ZT5cblx0XHQ8ZWwtdGFicyB2LW1vZGVsPVwiYWN0aXZlTmFtZVwiIGNsYXNzPVwib3JnYW5pemF0aW9uLXRhYnNcIj5cblx0XHRcdDxlbC10YWItcGFuZSBsYWJlbD1cIlx1NTdGQVx1NjcyQ1x1NEZFMVx1NjA2RlwiIG5hbWU9XCJpbmZvXCI+XG5cdFx0XHRcdDxGb3JtRGV0YWlsIDpuYW1lPVwib3JnYW5pemF0aW9uPy5uYW1lXCIgZG9jdHlwZT1cIlRpYW5qeSBPcmdhbml6YXRpb25cIj48L0Zvcm1EZXRhaWw+XG5cdFx0XHQ8L2VsLXRhYi1wYW5lPlxuXHRcdFx0PGVsLXRhYi1wYW5lIGNsYXNzPVwid29ya3NwYWNlXCIgbGFiZWw9XCJcdTVERTVcdTRGNUNcdTUzM0FcIiBuYW1lPVwid29ya3NwYWNlXCI+XG5cdFx0XHRcdDxXb3Jrc3BhY2Ugdi1pZj1cIm9yZ2FuaXphdGlvblwiIDpvcmdhbml6YXRpb249XCJvcmdhbml6YXRpb24ubmFtZVwiPjwvV29ya3NwYWNlPlxuXHRcdFx0PC9lbC10YWItcGFuZT5cblx0XHRcdDxlbC10YWItcGFuZSBjbGFzcz1cIm1lbWJlclwiIGxhYmVsPVwiXHU2MjEwXHU1NDU4XCIgbmFtZT1cInVzZXJzXCI+XG5cdFx0XHRcdDxNZW1iZXIgdi1pZj1cIm9yZ2FuaXphdGlvblwiIDpvcmdhbml6YXRpb249XCJvcmdhbml6YXRpb24ubmFtZVwiPjwvTWVtYmVyPlxuXHRcdFx0PC9lbC10YWItcGFuZT5cblx0XHQ8L2VsLXRhYnM+XG5cdDwvUGFnZT5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz0ndHMnPlxuaW1wb3J0IHsgY29tcHV0ZWQsIG9uTW91bnRlZCwgcmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCBQYWdlIGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlJztcbmltcG9ydCBPcmdhbml6YXRpb25UcmVlIGZyb20gJy4vY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZSdcbmltcG9ydCB0eXBlIHsgT3JnYW5pemF0aW9uLCBPcmdhbml6YXRpb25UeXBlIH0gZnJvbSAnLi90eXBlJztcbmltcG9ydCBGb3JtRGV0YWlsIGZyb20gJy4vY29tcG9uZW50cy9EZXRhaWwudnVlJ1xuaW1wb3J0IFdvcmtzcGFjZSBmcm9tICcuL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZSdcbmltcG9ydCBNZW1iZXIgZnJvbSAnLi9jb21wb25lbnRzL01lbWJlci52dWUnXG5cbmludGVyZmFjZSBQcm9wc3tcblxufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmludGVyZmFjZSBFbWl0e1xuXG59XG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8RW1pdD4oKTtcbmNvbnN0IG9yZ2FuaXphdGlvbiA9IHJlZjxPcmdhbml6YXRpb24+KCk7XG5jb25zdCBhY3RpdmVOYW1lID0gcmVmPHN0cmluZz4oJ2luZm8nKTtcbmNvbnN0IG1ldGEgPSByZWY8bG9jYWxzLkRvY1R5cGU+KCk7XG5cbm9uTW91bnRlZCgoKT0+Z2V0TWV0YSgpKVxuYXN5bmMgZnVuY3Rpb24gZ2V0TWV0YSgpIHtcblx0bGV0IGxvY2FsX21ldGEgPSBmcmFwcGUuZ2V0X21ldGEoJ1RpYW5qeSBPcmdhbml6YXRpb24nKTtcblx0aWYgKGxvY2FsX21ldGEpIHtcblx0XHRtZXRhLnZhbHVlID0gbG9jYWxfbWV0YTtcblx0XHRyZXR1cm47XG5cdH1cblx0YXdhaXQgZnJhcHBlLm1vZGVsLndpdGhfZG9jdHlwZSgnVGlhbmp5IE9yZ2FuaXphdGlvbicpO1xuXHRsb2NhbF9tZXRhID0gZnJhcHBlLmdldF9tZXRhKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5cdG1ldGEudmFsdWUgPSBsb2NhbF9tZXRhIHx8IHVuZGVmaW5lZDtcbn1cbmNvbnN0IHBlcm1pc3Npb25zID0gY29tcHV0ZWQoKCkgPT4ge1xuXHRpZiAoIW1ldGEudmFsdWUpIHtcblx0XHRyZXR1cm4geyBkZWxldGVQZXJtaXNzaW9uOiBmYWxzZSwgY3JlYXRlUGVybWlzc2lvbjogZmFsc2UsIHdyaXRlUGVybWlzc2lvbjpmYWxzZSB9O1xuXHR9XG5cdGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSBmcmFwcGUucGVybS5oYXNfcGVybShtZXRhLnZhbHVlLm5hbWUsIDAsICdkZWxldGUnKTtcblx0Y29uc3QgY3JlYXRlUGVybWlzc2lvbiA9IGZyYXBwZS5wZXJtLmhhc19wZXJtKG1ldGEudmFsdWUubmFtZSwgMCwgJ2NyZWF0ZScpO1xuXHRjb25zdCB3cml0ZVBlcm1pc3Npb24gPSBmcmFwcGUucGVybS5oYXNfcGVybShtZXRhLnZhbHVlLm5hbWUsIDAsICd3cml0ZScpO1xuXHRyZXR1cm4geyBkZWxldGVQZXJtaXNzaW9uLCBjcmVhdGVQZXJtaXNzaW9uLCB3cml0ZVBlcm1pc3Npb24gfTtcbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPSdsZXNzJyBzY29wZWQ+XG4ub3JnYW5pemF0aW9uLXRhYnN7XG5cdGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4ud29ya3NwYWNlLCAubWVtYmVye1xuXHRoZWlnaHQ6IDEwMCU7XG59XG48L3N0eWxlPlxuIiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiB2LWlmPVwiaGFzVGl0bGVcIiBjbGFzcz1cInRpdGxlIGNvbnRhaW5lclwiPlxuXHRcdDxUb2dnbGVCdG4gdi1tb2RlbDpleHBhbmQ9XCJzaG93U2lkZXJcIj48L1RvZ2dsZUJ0bj5cblx0XHQ8c2xvdCBuYW1lPVwidGl0bGVcIj48L3Nsb3Q+XG5cdDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGd1aWd1LWNvbnRhaW5lclwiPlxuXHRcdDxkaXYgY2xhc3M9XCJ0b29sc1wiIHYtc2hvdz1cImhhc1Rvb2xzJiYhc21hbGxNZXRhXCI+XG5cblx0XHRcdDxzbG90IG5hbWU9XCJ0b29sc1wiPjwvc2xvdD5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwidG9vbHMgc21hbGwtbWV0YV90b29sc1wiIHYtc2hvdz1cInNtYWxsTWV0YVwiPlxuXHRcdFx0PFRvZ2dsZUJ0biB2LWlmPVwiIWhhc1RpdGxlXCIgdi1tb2RlbDpleHBhbmQ9XCJzaG93U2lkZXJcIj5cblx0XHRcdDwvVG9nZ2xlQnRuPlxuXHRcdFx0PGRpdiB2LWVsc2U+PC9kaXY+XG5cdFx0XHQ8ZWwtcG9wb3ZlciBwbGFjZW1lbnQ9XCJib3R0b20tc3RhcnRcIiA6d2lkdGg9XCIzMDBcIiB0cmlnZ2VyPVwiY2xpY2tcIj5cblx0XHRcdFx0PHRlbXBsYXRlICNyZWZlcmVuY2U+XG5cdFx0XHRcdFx0PGVsLWljb24gc2l6ZT1cIjIwcHhcIj5cblx0XHRcdFx0XHRcdDxNb3JlRmlsbGVkIC8+XG5cdFx0XHRcdFx0PC9lbC1pY29uPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicG9wb3Zlci10b29sc1wiPlxuXHRcdFx0XHRcdDxzbG90IG5hbWU9XCJ0b29sc1wiPjwvc2xvdD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2VsLXBvcG92ZXI+XG5cdFx0PC9kaXY+XG5cdFx0PGRpdiA6Y2xhc3M9XCJbbW9kZSA9PT0gJ3ZlcnRpY2FsJz8ndmVydGljYWwnOidob3Jpem9uJywgJ21haW4tY29udGFpbmVyJyBdXCJcblx0XHRcdHJlZj1cImNvbnRhaW5lclwiPlxuXHRcdFx0PGRpdiA6c3R5bGU9XCJzaWRlclN0eWxlXCJcblx0XHRcdFx0OmNsYXNzPVwiWydzaWRlcicsIHtvbmx5U2lkZXI6aGFzU2lkZXImJiFoYXNEZXRhaWwmJiFoYXNNYWlufV1cIlxuXHRcdFx0XHR2LXNob3c9XCJoYXNTaWRlciYmIXNtYWxsTWV0YSYmc2hvd1NpZGVyXCIgcmVmPVwic2lkZXJcIj5cblx0XHRcdFx0PHNsb3QgbmFtZT1cInNpZGVyXCI+PC9zbG90PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdDpjbGFzcz1cIlttb2RlID09PSAndmVydGljYWwnPyd2ZXJ0aWNhbCc6J2hvcml6b24nLCAncmVzaXplci1jb250YWluZXInIF1cIlxuXHRcdFx0XHR2LXNob3c9XCJoYXNTaWRlciYmKGhhc0RldGFpbHx8aGFzTWFpbikmJiFzbWFsbE1ldGEmJnNob3dTaWRlclwiXG5cdFx0XHRcdHJlZj1cInJlc2l6ZXJDb250YWluZXJcIj5cblx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdGNsYXNzPVwicmVzaXplclwiXG5cdFx0XHRcdFx0dGl0bGU9XCJcdTRGQTdcdThGQjlcdTY4MEZyZXNpemVyXCJcblx0XHRcdFx0XHRAcG9pbnRlcmRvd249XCJkcmFnTFJDb250cm9sbGVyXCI+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdDpjbGFzcz1cIltyaWdodE1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsJ3JpZ2h0J11cIlxuXHRcdFx0XHRyZWY9XCJyaWdodENvbnRhaW5lclwiPlxuXHRcdFx0XHQ8ZGl2IDpzdHlsZT1cIm1haW5TdHlsZVwiIDpjbGFzcz1cIlsnbWFpbicsIHtub0RldGFpbDohaGFzRGV0YWlsfV1cIlxuXHRcdFx0XHRcdHYtc2hvdz1cImhhc01haW5cIlxuXHRcdFx0XHRcdHJlZj1cIm1haW5cIj5cblx0XHRcdFx0XHQ8c2xvdD48L3Nsb3Q+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0OmNsYXNzPVwiW3JpZ2h0TW9kZSA9PT0gJ3ZlcnRpY2FsJz8ndmVydGljYWwnOidob3Jpem9uJywgJ3Jlc2l6ZXItY29udGFpbmVyJyBdXCJcblx0XHRcdFx0XHR2LXNob3c9XCJoYXNEZXRhaWwmJmhhc01haW5cIlxuXHRcdFx0XHRcdHJlZj1cIm1haW5SZXNpemVyQ29udGFpbmVyXCI+XG5cdFx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJyZXNpemVyXCJcblx0XHRcdFx0XHRcdHRpdGxlPVwibWFpbiByZXNpemVyXCJcblx0XHRcdFx0XHRcdEBwb2ludGVyZG93bj1cImRyYWdMUkNvbnRyb2xsZXJcIj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgOnN0eWxlPVwiZGV0YWlsU3R5bGVcIiBjbGFzcz1cImRldGFpbFwiIHYtc2hvdz1cImhhc0RldGFpbFwiPlxuXHRcdFx0XHRcdDxzbG90IG5hbWU9XCJkZXRhaWxcIj48L3Nsb3Q+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuXHQ8ZWwtZHJhd2VyXG5cdFx0di1tb2RlbD1cInNob3dEcmF3ZXJcIlxuXHRcdEBjbG9zZT1cImNsb3NlRHJhd2VyXCJcblx0XHR0aXRsZT1cIlwiXG5cdFx0ZGlyZWN0aW9uPVwibHRyXCJcblx0XHRzaXplPVwiNTAlXCI+XG5cdFx0PHNsb3QgbmFtZT1cInNpZGVyXCI+PC9zbG90PlxuXHQ8L2VsLWRyYXdlcj5cbjwvdGVtcGxhdGU+XG48c2NyaXB0IGxhbmc9XCJ0c1wiIHNldHVwPlxuaW1wb3J0IHsgdXNlU2xvdHMsIGNvbXB1dGVkLCByZWYsIGRlZmluZVByb3BzLCBDU1NQcm9wZXJ0aWVzLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyAgRXhwYW5kLCBNb3JlRmlsbGVkfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7XG5cbmltcG9ydCB7IHVzZU1ldGFRdWVyeSB9IGZyb20gJy4vdXNlTWV0YVF1ZXJ5JztcbmltcG9ydCBUb2dnbGVCdG4gZnJvbSAnLi9Ub2dnbGVCdG4udnVlJztcbmNvbnN0IHNtYWxsTWV0YSA9IHVzZU1ldGFRdWVyeSgpO1xuaW50ZXJmYWNlIFByb3Bze1xuXHRtb2RlPzogJ2hvcml6b24nfCAndmVydGljYWwnXG5cdHJpZ2h0TW9kZT86J2hvcml6b24nfCAndmVydGljYWwnXG5cdHNpZGVyU3R5bGU/OkNTU1Byb3BlcnRpZXNcblx0bWFpblN0eWxlPzpDU1NQcm9wZXJ0aWVzXG5cdGRldGFpbFN0eWxlPzpDU1NQcm9wZXJ0aWVzXG59XG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuXG5jb25zdCBzaWRlciA9IHJlZjxIVE1MRWxlbWVudD4oKTtcbmNvbnN0IG1haW4gPSByZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCBjb250YWluZXIgPSByZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCByZXNpemVyQ29udGFpbmVyID1yZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCBtYWluUmVzaXplckNvbnRhaW5lciA9IHJlZjxIVE1MRWxlbWVudD4oKTtcbmNvbnN0IHJpZ2h0Q29udGFpbmVyID0gcmVmPEhUTUxFbGVtZW50PigpO1xuXG5jb25zdCBoYXNUaXRsZSA9IGNvbXB1dGVkKCgpPT5Cb29sZWFuKHVzZVNsb3RzKCkudGl0bGUpKTtcbmNvbnN0IGhhc1Rvb2xzID0gY29tcHV0ZWQoKCk9PkJvb2xlYW4odXNlU2xvdHMoKS50b29scykpO1xuY29uc3QgaGFzU2lkZXIgPSBjb21wdXRlZCgoKT0+Qm9vbGVhbih1c2VTbG90cygpLnNpZGVyKSk7XG5jb25zdCBoYXNNYWluID0gY29tcHV0ZWQoKCk9PkJvb2xlYW4odXNlU2xvdHMoKS5kZWZhdWx0KSk7XG5jb25zdCBoYXNEZXRhaWwgPSBjb21wdXRlZCgoKT0+Qm9vbGVhbih1c2VTbG90cygpLmRldGFpbCkpO1xuXG5jb25zdCBoZWlnaHQgPSBjb21wdXRlZCgoKT0+aGFzVGl0bGUudmFsdWU/YGNhbGMoMTAwdmggLSAxMzVweClgOmBjYWxjKDEwMHZoIC0gNjBweClgKTtcbmNvbnN0IHNob3dTaWRlciA9IHJlZjxib29sZWFuPih0cnVlKTtcblxuZnVuY3Rpb24gZHJhZ0xSQ29udHJvbGxlcihkcmFnRXZlbnQ6UG9pbnRlckV2ZW50KXtcblx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdGRyYWdFdmVudC50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUodHJ1ZSk7XG5cdGRyYWdFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJyM5OTknO1xuXHRsZXQgcmVzaXplckNvbnRhaW5lckVsZW1lbnQ6SFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuXHRsZXQgbGVmdEVsZW1lbnQ6SFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuXHRsZXQgY29udGFpbmVyRWxlbWVudDpIVE1MRWxlbWVudHx1bmRlZmluZWQ7XG5cdGNvbnN0IGlzU2lkZXJSZXNpemUgPSBkcmFnRXZlbnQudGFyZ2V0ID09PSByZXNpemVyQ29udGFpbmVyLnZhbHVlPy5maXJzdENoaWxkO1xuXHRjb25zdCBtb2RlID0gaXNTaWRlclJlc2l6ZT8nbW9kZSc6J3JpZ2h0TW9kZSc7XG5cdGlmIChpc1NpZGVyUmVzaXplKXtcblx0XHRyZXNpemVyQ29udGFpbmVyRWxlbWVudCA9IHJlc2l6ZXJDb250YWluZXIudmFsdWU7XG5cdFx0bGVmdEVsZW1lbnQgPSBzaWRlci52YWx1ZTtcblx0XHRjb250YWluZXJFbGVtZW50ID0gY29udGFpbmVyLnZhbHVlO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmVzaXplckNvbnRhaW5lckVsZW1lbnQgPSBtYWluUmVzaXplckNvbnRhaW5lci52YWx1ZTtcblx0XHRsZWZ0RWxlbWVudCA9IG1haW4udmFsdWU7XG5cdFx0Y29udGFpbmVyRWxlbWVudCA9IHJpZ2h0Q29udGFpbmVyLnZhbHVlO1xuXHR9XG5cblx0bGV0IHN0YXJ0UG8gPSAwO1xuXHRsZXQgY29udGFpbmVyQ2xpZW50U2l6ZSA9IDA7XG5cdGxldCBvbGRTaWRlclNpemUgPSAwO1xuXHRsZXQgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplID0gMDtcblx0aWYgKHByb3BzW21vZGVdPT09J3ZlcnRpY2FsJyl7XG5cdFx0c3RhcnRQbyA9IGRyYWdFdmVudC5jbGllbnRZO1xuXHRcdGRyYWdFdmVudC50YXJnZXQudG9wID0gZHJhZ0V2ZW50LnRhcmdldC5vZmZzZXRUb3A7XG5cdFx0Y29udGFpbmVyQ2xpZW50U2l6ZSA9IGNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudEhlaWdodHx8MDtcblx0XHRvbGRTaWRlclNpemUgPSAocmVzaXplckNvbnRhaW5lckVsZW1lbnQ/Lm9mZnNldFRvcHx8MCkgLSAoY29udGFpbmVyRWxlbWVudD8ub2Zmc2V0VG9wfHwwKTtcblx0XHRyZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemUgPSByZXNpemVyQ29udGFpbmVyRWxlbWVudD8uY2xpZW50SGVpZ2h0fHwwO1xuXHR9IGVsc2Uge1xuXHRcdHN0YXJ0UG8gPSBkcmFnRXZlbnQuY2xpZW50WDtcblx0XHRkcmFnRXZlbnQudGFyZ2V0LmxlZnQgPSBkcmFnRXZlbnQudGFyZ2V0Lm9mZnNldExlZnQ7XG5cdFx0Y29udGFpbmVyQ2xpZW50U2l6ZSA9IGNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudFdpZHRofHwwO1xuXHRcdG9sZFNpZGVyU2l6ZSA9IChyZXNpemVyQ29udGFpbmVyRWxlbWVudD8ub2Zmc2V0TGVmdHx8MCkgLSAoY29udGFpbmVyRWxlbWVudD8ub2Zmc2V0TGVmdHx8MCk7XG5cdFx0cmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplID0gcmVzaXplckNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudFdpZHRofHwwO1xuXHR9XG5cdGxldCBuZXdTaWRlclNpemUgPSBvbGRTaWRlclNpemU7XG5cdGRvY3VtZW50Lm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbihtb3ZlRXZlbnQ6UG9pbnRlckV2ZW50KSB7XG5cdFx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdFx0bGV0IGVuZFBvID0gMDtcblx0XHRpZiAocHJvcHNbbW9kZV09PT0ndmVydGljYWwnKXtcblx0XHRcdGVuZFBvID0gbW92ZUV2ZW50LmNsaWVudFk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVuZFBvID0gbW92ZUV2ZW50LmNsaWVudFg7XG5cdFx0fVxuXHRcdGxldCByZXNpemVyRGlmZiA9IGVuZFBvIC0gc3RhcnRQbztcblx0XHQvLyBcdTVERTZcdThGQjlcdTUzM0FcdTU3REZcdTY3MDBcdTU0MEVcdTc2ODRcdTVCQkRcdTVFQTYgPSBcdTRFNEJcdTUyNERcdTVCQkRcdTVFQTYgKyBcdTUzRDhcdTUzMTZcdTVCQkRcdTVFQTZcblx0XHRuZXdTaWRlclNpemUgPSBvbGRTaWRlclNpemUgKyByZXNpemVyRGlmZjtcblx0XHQvLyBcdTUzRjNcdTRGQTdcdTVCQkRcdTVFQTYgPSBcdTY1NzRcdTRGNTNcdTVCQkRcdTVFQTYgLSBcdTVERTZcdTRGQTdcdTVCQkRcdTVFQTYgLSBcdTYyRDZcdTYyRkRcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBtYWluU2l6ZSA9IGNvbnRhaW5lckNsaWVudFNpemUgLSBuZXdTaWRlclNpemUgLSByZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemU7XG5cdFx0bGV0IG1haW5NYXhTaXplID0gaXNTaWRlclJlc2l6ZT8yNTA6MTUwO1xuXHRcdGlmIChpc1NpZGVyUmVzaXplJiZwcm9wcy5tb2RlPT09J3ZlcnRpY2FsJyYmcHJvcHMucmlnaHRNb2RlPT09J3ZlcnRpY2FsJyYmbWFpbi52YWx1ZT8uc3R5bGU/LmhlaWdodCl7XG5cdFx0XHRjb25zdCBhbHJlYWR5TWFpbkhlaWdodCA9IHBhcnNlRmxvYXQobWFpbi52YWx1ZS5zdHlsZS5oZWlnaHQucmVwbGFjZUFsbCgncHgnLCAnJyl8fCcwJyk7XG5cdFx0XHRtYWluTWF4U2l6ZSA9IGFscmVhZHlNYWluSGVpZ2h0ICsgMTUwICsgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplO1xuXHRcdH0gZWxzZSBpZiAoaXNTaWRlclJlc2l6ZSYmcHJvcHMubW9kZSE9PSd2ZXJ0aWNhbCcmJnByb3BzLnJpZ2h0TW9kZSE9PSd2ZXJ0aWNhbCcmJm1haW4udmFsdWU/LnN0eWxlPy53aWR0aCl7XG5cdFx0XHRjb25zdCBhbHJlYWR5TWFpbldpZHRoID0gcGFyc2VGbG9hdChtYWluLnZhbHVlLnN0eWxlLndpZHRoLnJlcGxhY2VBbGwoJ3B4JywgJycpfHwnMCcpO1xuXHRcdFx0bWFpbk1heFNpemUgPSBhbHJlYWR5TWFpbldpZHRoICsgMTUwICsgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplO1xuXHRcdH1cblxuXHRcdC8vIFx1NURFNlx1NEZBN1x1NjcwMFx1NUMwRjUwXG5cdFx0aWYgKG5ld1NpZGVyU2l6ZSA8IDUwKSB7XG5cdFx0XHRuZXdTaWRlclNpemUgPSA1MDtcblx0XHRcdHJlc2l6ZXJEaWZmID0gbmV3U2lkZXJTaXplIC0gb2xkU2lkZXJTaXplO1xuXHRcdH1cblx0XHQvLyBcdTUzRjNcdTRGQTdcdTY3MDBcdTVDMEYxNTBcblx0XHRpZiAoIG1haW5TaXplIDwgbWFpbk1heFNpemUgKSB7XG5cdFx0XHRuZXdTaWRlclNpemUgPSBjb250YWluZXJDbGllbnRTaXplIC0gbWFpbk1heFNpemUgLSByZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemU7XG5cdFx0XHRyZXNpemVyRGlmZiA9IG5ld1NpZGVyU2l6ZSAtIG9sZFNpZGVyU2l6ZTtcblx0XHR9XG5cblx0XHQvLyBcdThCQkVcdTdGNkVyZXNpemVyXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0aWYgKHByb3BzW21vZGVdPT09J3ZlcnRpY2FsJyl7XG5cdFx0XHRkcmFnRXZlbnQudGFyZ2V0LnN0eWxlLnRvcCA9IGAke3Jlc2l6ZXJEaWZmfXB4YDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5sZWZ0ID0gYCR7cmVzaXplckRpZmZ9cHhgO1xuXHRcdH1cblx0fTtcblx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBmdW5jdGlvbihldnQ6UG9pbnRlckV2ZW50KSB7XG5cdFx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdFx0Ly9cdTk4OUNcdTgyNzJcdTYwNjJcdTU5MERcblx0XHRkcmFnRXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAnI2Q5ZDlkOSc7XG5cdFx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5sZWZ0ID0gJ2F1dG8nO1xuXHRcdGRyYWdFdmVudC50YXJnZXQuc3R5bGUudG9wID0gJ2F1dG8nO1xuXHRcdGlmICghbGVmdEVsZW1lbnQpeyByZXR1cm47IH1cblx0XHRpZiAocHJvcHNbbW9kZV09PT0ndmVydGljYWwnKXtcblx0XHRcdGxlZnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke25ld1NpZGVyU2l6ZX1weGA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxlZnRFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7bmV3U2lkZXJTaXplfXB4YDtcblx0XHR9XG5cdFx0ZG9jdW1lbnQub25wb2ludGVybW92ZSA9IG51bGw7XG5cdFx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBudWxsO1xuXHR9O1xuXG59XG53YXRjaCgoKT0+c21hbGxNZXRhLnZhbHVlLCAoKT0+e1xuXHRpZiAoc21hbGxNZXRhLnZhbHVlKXtcblx0XHRzaG93U2lkZXIudmFsdWU9ZmFsc2U7XG5cdH1cbn0sIHtpbW1lZGlhdGU6dHJ1ZX0pO1xuY29uc3Qgc2hvd0RyYXdlciA9IGNvbXB1dGVkKCgpPT5zaG93U2lkZXIudmFsdWUmJnNtYWxsTWV0YS52YWx1ZSk7XG5mdW5jdGlvbiBjbG9zZURyYXdlcigpe1xuXHRzaG93U2lkZXIudmFsdWUgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVNpZGVyKCl7XG5cdHNob3dTaWRlci52YWx1ZSA9ICFzaG93U2lkZXIudmFsdWU7XG59XG48L3NjcmlwdD5cbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cbi50aXRsZSB7XG5cdGhlaWdodDogNzVweDtcblx0aGVpZ2h0OiA3NXB4O1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRsaW5lLWhlaWdodDogNzVweDtcbn1cblxuLmd1aWd1LWNvbnRhaW5lciB7XG5cdC8vIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpO1xuXHRoZWlnaHQ6IHYtYmluZChoZWlnaHQpO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuXG5cdC5tYWluLWNvbnRhaW5lciB7XG5cdFx0ZmxleDogMTtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdG92ZXJmbG93OiBoaWRkZW47XG5cblx0XHQuc2lkZXIge1xuXHRcdFx0bWluLXdpZHRoOiA1MHB4O1xuXHRcdFx0bWluLWhlaWdodDogNTBweDtcblx0XHR9XG5cblx0XHQmLmhvcml6b24ge1xuXHRcdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblxuXHRcdFx0LnNpZGVyIHtcblx0XHRcdFx0d2lkdGg6IDMwMHB4O1xuXG5cdFx0XHRcdCYub25seVNpZGVyIHtcblx0XHRcdFx0XHR3aWR0aDogMTAwJVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG5cdFx0XHQuc2lkZXIge1xuXHRcdFx0XHRoZWlnaHQ6IDMwMHB4O1xuXG5cdFx0XHRcdCYub25seVNpZGVyIHtcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMCVcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC5yZXNpemVyLWNvbnRhaW5lciB7XG5cdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0XHRib3JkZXI6IDA7XG5cblx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0XHR6LWluZGV4OiAxO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZDlkOWQ5O1xuXHRcdFx0XHRvcGFjaXR5OiAwLjU7XG5cdFx0XHR9XG5cblx0XHRcdCYuaG9yaXpvbiB7XG5cdFx0XHRcdHBhZGRpbmc6IDAgNHB4O1xuXHRcdFx0XHR3aWR0aDogMTJweDtcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xuXG5cdFx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0XHR3aWR0aDogMnB4O1xuXHRcdFx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdFx0XHRjdXJzb3I6IGNvbC1yZXNpemU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRcdHBhZGRpbmc6IDRweCAwO1xuXHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0aGVpZ2h0OiAxMnB4O1xuXG5cdFx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0XHRoZWlnaHQ6IDJweDtcblx0XHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0XHRjdXJzb3I6IHJvdy1yZXNpemU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdC5yaWdodCB7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0ZmxleDogMTtcblx0XHRcdG92ZXJmbG93OiBhdXRvO1xuXG5cdFx0XHQmLmhvcml6b24ge1xuXHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xuXG5cdFx0XHRcdC5tYWluIHtcblx0XHRcdFx0XHR3aWR0aDogNTAlO1xuXG5cdFx0XHRcdFx0Ji5ub0RldGFpbCB7XG5cdFx0XHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQuZGV0YWlsIHtcblx0XHRcdFx0XHRmbGV4OiAxO1xuXHRcdFx0XHRcdG1pbi13aWR0aDogMTUwcHg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cblx0XHRcdFx0Lm1haW4ge1xuXHRcdFx0XHRcdGhlaWdodDogNTAlO1xuXG5cdFx0XHRcdFx0Ji5ub0RldGFpbCB7XG5cdFx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0LmRldGFpbCB7XG5cdFx0XHRcdFx0ZmxleDogMTtcblx0XHRcdFx0XHRtaW4taGVpZ2h0OiAxNTBweDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHR9XG59XG5cbi50b29scyB7XG5cdHBhZGRpbmc6IDhweCAwO1xufVxuXG4uc21hbGwtbWV0YV90b29scyB7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBSZWYgfSBmcm9tICd2dWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWV0YVF1ZXJ5KCk6IFJlZjxib29sZWFuPntcblx0Y29uc3Qgc21hbGxNZXRhID0gcmVmPGJvb2xlYW4+KCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cdGxldCBtUXVlcnk6TWVkaWFRdWVyeUxpc3Q7XG5cdGZ1bmN0aW9uIG1lZGlhQ2hhbmdlKCl7XG5cdFx0aWYgKG1RdWVyeS5tYXRjaGVzKXtcblx0XHRcdHNtYWxsTWV0YS52YWx1ZT10cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzbWFsbE1ldGEudmFsdWU9ZmFsc2U7XG5cdFx0fVxuXHR9XG5cdG9uTW91bnRlZCgoKT0+e1xuXHRcdG1RdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA2NDBweCknKTtcblx0XHRpZiAobVF1ZXJ5Lm1hdGNoZXMpe1xuXHRcdFx0c21hbGxNZXRhLnZhbHVlPXRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNtYWxsTWV0YS52YWx1ZT1mYWxzZTtcblx0XHR9XG5cdFx0bVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1lZGlhQ2hhbmdlKTtcblx0fSk7XG5cdG9uVW5tb3VudGVkKCgpPT57XG5cdFx0bVF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1lZGlhQ2hhbmdlKTtcblx0fSk7XG5cdHJldHVybiBzbWFsbE1ldGE7XG59XG4iLCAiPHRlbXBsYXRlPlxuXHQ8c3BhbiBjbGFzcz1cInRvZ2dsZS1idG5cIiB0aXRsZT1cIlx1NTIwN1x1NjM2Mlx1OEZCOVx1NjgwRlwiIEBjbGljaz1cInRvZ2dsZVNpZGVyXCI+XG5cdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZCBzaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlclwiPlxuXHRcdFx0PHVzZSBocmVmPVwiI2ljb24tbWVudVwiPjwvdXNlPlxuXHRcdDwvc3ZnPlxuXHRcdDxzcGFuIGNsYXNzPVwic2lkZWJhci10b2dnbGUtaWNvblwiPlxuXHRcdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZFwiPlxuXHRcdFx0XHQ8dXNlXG5cdFx0XHRcdFx0OmhyZWY9XCJleHBhbmQgPyAnI2ljb24tc2lkZWJhci1jb2xsYXBzZScgOiAnI2ljb24tc2lkZWJhci1leHBhbmQnXCIgLz5cblx0XHRcdDwvc3ZnPlxuXHRcdDwvc3Bhbj5cblx0PC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyByZWYsIGRlZmluZVByb3BzLCBkZWZpbmVFbWl0cyB9IGZyb20gJ3Z1ZSc7XG5cbmludGVyZmFjZSBQcm9wc3tcblx0ZXhwYW5kOmJvb2xlYW5cbn1cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5pbnRlcmZhY2UgRW1pdHtcblx0KGU6ICd1cGRhdGU6ZXhwYW5kJywgZXhwYW5kOiBib29sZWFuKTogdm9pZFxufVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXQ+KCk7XG5cbmZ1bmN0aW9uIHRvZ2dsZVNpZGVyKCl7XG5cdGVtaXQoJ3VwZGF0ZTpleHBhbmQnLCAhcHJvcHMuZXhwYW5kKTtcbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLnRvZ2dsZS1idG4ge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRtYXJnaW4tcmlnaHQ6IHZhcigtLW1hcmdpbi1zbSk7XG5cdGN1cnNvcjogcG9pbnRlcjtcblx0LS1pY29uLXN0cm9rZTogdmFyKC0tZ3JheS01MDApO1xuXG5cdC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlciB7XG5cdFx0dHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG5cdH1cblxuXHQuc2lkZWJhci10b2dnbGUtaWNvbiB7XG5cdFx0dHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG5cdFx0ZGlzcGxheTogbm9uZTtcblx0fVxuXG5cdCY6aG92ZXIge1xuXHRcdC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlciB7XG5cdFx0XHRkaXNwbGF5OiBub25lO1xuXHRcdH1cblxuXHRcdC5zaWRlYmFyLXRvZ2dsZS1pY29uIHtcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdH1cblx0fVxuXG5cbn1cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTBcIjtleHBvcnQgZGVmYXVsdCAoKSA9Pnt9IiwgImltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoXCJkYXRhLXYtYzM5NjQ5NjlcIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKVxuY29uc3QgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3ZnXCIsIHsgY2xhc3M6IFwiaWNvbiBpY29uLW1kIHNpZGViYXItdG9nZ2xlLXBsYWNlaG9sZGVyXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInVzZVwiLCB7IGhyZWY6IFwiI2ljb24tbWVudVwiIH0pXG5dLCAtMSAvKiBIT0lTVEVEICovKSlcbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcInNpZGViYXItdG9nZ2xlLWljb25cIiB9XG5jb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogXCJpY29uIGljb24tbWRcIiB9XG5jb25zdCBfaG9pc3RlZF80ID0gW1wiaHJlZlwiXVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInNwYW5cIiwge1xuICAgIGNsYXNzOiBcInRvZ2dsZS1idG5cIixcbiAgICB0aXRsZTogXCJcdTUyMDdcdTYzNjJcdThGQjlcdTY4MEZcIixcbiAgICBvbkNsaWNrOiAkc2V0dXAudG9nZ2xlU2lkZXJcbiAgfSwgW1xuICAgIF9ob2lzdGVkXzEsXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgX2hvaXN0ZWRfMiwgW1xuICAgICAgKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInN2Z1wiLCBfaG9pc3RlZF8zLCBbXG4gICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJ1c2VcIiwge1xuICAgICAgICAgIGhyZWY6ICRwcm9wcy5leHBhbmQgPyAnI2ljb24tc2lkZWJhci1jb2xsYXBzZScgOiAnI2ljb24tc2lkZWJhci1leHBhbmQnXG4gICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzQpXG4gICAgICBdKSlcbiAgICBdKVxuICBdKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvVG9nZ2xlQnRuLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlXCI7c2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LWMzOTY0OTY5XCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL2luZGV4LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHJlbmRlclNsb3QgYXMgX3JlbmRlclNsb3QsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZTaG93IGFzIF92U2hvdywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlIGFzIF9ub3JtYWxpemVTdHlsZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LTJjYmRiNWU5XCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7XG4gIGtleTogMCxcbiAgY2xhc3M6IFwidGl0bGUgY29udGFpbmVyXCJcbn1cbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcImNvbnRhaW5lciBndWlndS1jb250YWluZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogXCJ0b29sc1wiIH1cbmNvbnN0IF9ob2lzdGVkXzQgPSB7IGNsYXNzOiBcInRvb2xzIHNtYWxsLW1ldGFfdG9vbHNcIiB9XG5jb25zdCBfaG9pc3RlZF81ID0geyBrZXk6IDEgfVxuY29uc3QgX2hvaXN0ZWRfNiA9IHsgY2xhc3M6IFwicG9wb3Zlci10b29sc1wiIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgY29uc3QgX2NvbXBvbmVudF9lbF9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1pY29uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfcG9wb3ZlciA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtcG9wb3ZlclwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX2RyYXdlciA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtZHJhd2VyXCIpXG5cbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbXG4gICAgKCRzZXR1cC5oYXNUaXRsZSlcbiAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgICAgICAgX2NyZWF0ZVZOb2RlKCRzZXR1cFtcIlRvZ2dsZUJ0blwiXSwge1xuICAgICAgICAgICAgZXhwYW5kOiAkc2V0dXAuc2hvd1NpZGVyLFxuICAgICAgICAgICAgXCJvblVwZGF0ZTpleHBhbmRcIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCgkc2V0dXAuc2hvd1NpZGVyKSA9ICRldmVudCkpXG4gICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wiZXhwYW5kXCJdKSxcbiAgICAgICAgICBfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJ0aXRsZVwiLCB7fSwgdW5kZWZpbmVkLCB0cnVlKVxuICAgICAgICBdKSlcbiAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8zLCBbXG4gICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcInRvb2xzXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICBdLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIFtcbiAgICAgICAgW192U2hvdywgJHNldHVwLmhhc1Rvb2xzJiYhJHNldHVwLnNtYWxsTWV0YV1cbiAgICAgIF0pLFxuICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfNCwgW1xuICAgICAgICAoISRzZXR1cC5oYXNUaXRsZSlcbiAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJUb2dnbGVCdG5cIl0sIHtcbiAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICBleHBhbmQ6ICRzZXR1cC5zaG93U2lkZXIsXG4gICAgICAgICAgICAgIFwib25VcGRhdGU6ZXhwYW5kXCI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICgoJHNldHVwLnNob3dTaWRlcikgPSAkZXZlbnQpKVxuICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wiZXhwYW5kXCJdKSlcbiAgICAgICAgICA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfNSkpLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wb3BvdmVyLCB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgICAgdHJpZ2dlcjogXCJjbGlja1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICByZWZlcmVuY2U6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsgc2l6ZTogXCIyMHB4XCIgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgX2NyZWF0ZVZOb2RlKCRzZXR1cFtcIk1vcmVGaWxsZWRcIl0pXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzYsIFtcbiAgICAgICAgICAgICAgX3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwidG9vbHNcIiwge30sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMyAvKiBGT1JXQVJERUQgKi9cbiAgICAgICAgfSlcbiAgICAgIF0sIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1xuICAgICAgICBbX3ZTaG93LCAkc2V0dXAuc21hbGxNZXRhXVxuICAgICAgXSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJHByb3BzLm1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdtYWluLWNvbnRhaW5lcicgXSksXG4gICAgICAgIHJlZjogXCJjb250YWluZXJcIlxuICAgICAgfSwgW1xuICAgICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSgkcHJvcHMuc2lkZXJTdHlsZSksXG4gICAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJ3NpZGVyJywge29ubHlTaWRlcjokc2V0dXAuaGFzU2lkZXImJiEkc2V0dXAuaGFzRGV0YWlsJiYhJHNldHVwLmhhc01haW59XSksXG4gICAgICAgICAgcmVmOiBcInNpZGVyXCJcbiAgICAgICAgfSwgW1xuICAgICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcInNpZGVyXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICAgIF0sIDYgLyogQ0xBU1MsIFNUWUxFICovKSwgW1xuICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNTaWRlciYmISRzZXR1cC5zbWFsbE1ldGEmJiRzZXR1cC5zaG93U2lkZXJdXG4gICAgICAgIF0pLFxuICAgICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJHByb3BzLm1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdyZXNpemVyLWNvbnRhaW5lcicgXSksXG4gICAgICAgICAgcmVmOiBcInJlc2l6ZXJDb250YWluZXJcIlxuICAgICAgICB9LCBbXG4gICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzczogXCJyZXNpemVyXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJcdTRGQTdcdThGQjlcdTY4MEZyZXNpemVyXCIsXG4gICAgICAgICAgICBvblBvaW50ZXJkb3duOiAkc2V0dXAuZHJhZ0xSQ29udHJvbGxlclxuICAgICAgICAgIH0sIG51bGwsIDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKVxuICAgICAgICBdLCAyIC8qIENMQVNTICovKSwgW1xuICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNTaWRlciYmKCRzZXR1cC5oYXNEZXRhaWx8fCRzZXR1cC5oYXNNYWluKSYmISRzZXR1cC5zbWFsbE1ldGEmJiRzZXR1cC5zaG93U2lkZXJdXG4gICAgICAgIF0pLFxuICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFskcHJvcHMucmlnaHRNb2RlID09PSAndmVydGljYWwnPyd2ZXJ0aWNhbCc6J2hvcml6b24nLCdyaWdodCddKSxcbiAgICAgICAgICByZWY6IFwicmlnaHRDb250YWluZXJcIlxuICAgICAgICB9LCBbXG4gICAgICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwge1xuICAgICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSgkcHJvcHMubWFpblN0eWxlKSxcbiAgICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWydtYWluJywge25vRGV0YWlsOiEkc2V0dXAuaGFzRGV0YWlsfV0pLFxuICAgICAgICAgICAgcmVmOiBcIm1haW5cIlxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIiwge30sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICAgICAgICBdLCA2IC8qIENMQVNTLCBTVFlMRSAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNNYWluXVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyRwcm9wcy5yaWdodE1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdyZXNpemVyLWNvbnRhaW5lcicgXSksXG4gICAgICAgICAgICByZWY6IFwibWFpblJlc2l6ZXJDb250YWluZXJcIlxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJyZXNpemVyXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIm1haW4gcmVzaXplclwiLFxuICAgICAgICAgICAgICBvblBvaW50ZXJkb3duOiAkc2V0dXAuZHJhZ0xSQ29udHJvbGxlclxuICAgICAgICAgICAgfSwgbnVsbCwgMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pXG4gICAgICAgICAgXSwgMiAvKiBDTEFTUyAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNEZXRhaWwmJiRzZXR1cC5oYXNNYWluXVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoJHByb3BzLmRldGFpbFN0eWxlKSxcbiAgICAgICAgICAgIGNsYXNzOiBcImRldGFpbFwiXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgX3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGV0YWlsXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICAgICAgXSwgNCAvKiBTVFlMRSAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNEZXRhaWxdXG4gICAgICAgICAgXSlcbiAgICAgICAgXSwgMiAvKiBDTEFTUyAqLylcbiAgICAgIF0sIDIgLyogQ0xBU1MgKi8pXG4gICAgXSksXG4gICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJhd2VyLCB7XG4gICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuc2hvd0RyYXdlcixcbiAgICAgIFwib25VcGRhdGU6bW9kZWxWYWx1ZVwiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiAoKCRzZXR1cC5zaG93RHJhd2VyKSA9ICRldmVudCkpLFxuICAgICAgb25DbG9zZTogJHNldHVwLmNsb3NlRHJhd2VyLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICBzaXplOiBcIjUwJVwiXG4gICAgfSwge1xuICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICBfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJzaWRlclwiLCB7fSwgdW5kZWZpbmVkLCB0cnVlKVxuICAgICAgXSksXG4gICAgICBfOiAzIC8qIEZPUldBUkRFRCAqL1xuICAgIH0sIDggLyogUFJPUFMgKi8sIFtcIm1vZGVsVmFsdWVcIl0pXG4gIF0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlXCI7c2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LTJjYmRiNWU5XCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJcbjx0ZW1wbGF0ZT5cblx0PGRpdiBjbGFzcz1cInNpZGVyLWNvbnRhaW5lclwiPlxuXHRcdDxkaXY+XG5cdFx0PGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImNyZWF0ZU9yZ2FuaXphdGlvblwiPlx1NjVCMFx1NUVGQVx1N0VDNFx1N0VDNzwvZWwtYnV0dG9uPlxuXHQ8L2Rpdj5cblx0PGRpdiBjbGFzcz1cInRyZWUtY29udGFpbmVyXCI+XG5cdFx0PGVsLXRyZWUgXG5cdFx0XHR2LWlmPVwib3JnYW5pemF0aW9uVHJlZS5sZW5ndGg+MFwiXG5cdFx0XHQ6ZGF0YT1cIm9yZ2FuaXphdGlvblRyZWVcIiAgXG5cdFx0XHRAbm9kZS1jbGljaz1cImhhbmRsZU5vZGVDbGlja1wiIFxuXHRcdFx0ZGVmYXVsdC1leHBhbmQtYWxsXG5cdFx0XHRoaWdobGlnaHQtY3VycmVudFxuXHRcdFx0bm9kZS1rZXk9XCJuYW1lXCJcblx0XHRcdDpjdXJyZW50LW5vZGUta2V5PVwiY3VycmVudE5vZGVLZXlcIlxuXHRcdFx0OmV4cGFuZC1vbi1jbGljay1ub2RlPVwiZmFsc2VcIlxuXHRcdFx0ZHJhZ2dhYmxlXG5cdFx0XHRAbm9kZS1kcm9wPVwiaGFuZGxlRHJvcFwiXG5cdFx0XHQ6YWxsb3ctZHJvcD1cImFsbG93RHJvcFwiXG5cdFx0PlxuXHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwieyBub2RlLCBkYXRhIH1cIj5cblx0XHRcdFx0PFRyZWVJdGVtIFxuXHRcdFx0XHRcdDpub2RlPVwibm9kZVwiXG5cdFx0XHRcdFx0QHJlbG9hZD1cImdldE9yZ2FuaXphdGlvbnNcIlxuXHRcdFx0XHQ+PC9UcmVlSXRlbT5cblx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0PC9lbC10cmVlPlx0XG5cdDwvZGl2PlxuXHQ8L2Rpdj5cblxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQsIHRvUmF3fSBmcm9tICd2dWUnO1xuaW1wb3J0IHR5cGUgeyBPcmdhbml6YXRpb24sIE9yZ2FuaXphdGlvblR5cGUsIFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vdHlwZSc7XG5pbXBvcnQgeyBsaXN0MlRyZWUgfSBmcm9tICcuLi9oZWxwZXInO1xuaW1wb3J0IHR5cGUge1xuICBBbGxvd0Ryb3BUeXBlLFxuICBOb2RlRHJvcFR5cGUsXG59IGZyb20gJ2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL3RyZWUvc3JjL3RyZWUudHlwZSdcbmltcG9ydCB0eXBlIHsgRHJhZ0V2ZW50cyB9IGZyb20gJ2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL3RyZWUvc3JjL21vZGVsL3VzZURyYWdOb2RlJ1xuaW1wb3J0IHR5cGUgTm9kZSBmcm9tICdlbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90cmVlL3NyYy9tb2RlbC9ub2RlJ1xuaW1wb3J0IFRyZWVJdGVtIGZyb20gJy4vVHJlZUl0ZW0udnVlJ1xuaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJztcbmludGVyZmFjZSBQcm9wc3tcblx0bW9kZWxWYWx1ZT86T3JnYW5pemF0aW9uXG5cdHBlcm1pc3Npb25zOiBQZXJtaXNzaW9uc1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmludGVyZmFjZSBFbWl0e1xuXHQoZTondXBkYXRlOm1vZGVsVmFsdWUnLCBvcmdhbml6YXRpb246YW55ICk6dm9pZFxufVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXQ+KCk7XG5jb25zdCBvcmdhbml6YXRpb25MaXN0ID0gcmVmPE9yZ2FuaXphdGlvbltdPihbXSk7XG5jb25zdCBjdXJyZW50Tm9kZUtleSA9IHJlZjxzdHJpbmc+KCcnKTtcblxub25Nb3VudGVkKCgpPT57XG5cdGdldE9yZ2FuaXphdGlvbnMoKTtcbn0pXG5hc3luYyBmdW5jdGlvbiBnZXRPcmdhbml6YXRpb25zKCl7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGZyYXBwZS5jYWxsPHsgbWVzc2FnZTogT3JnYW5pemF0aW9uW10gfT4oe1xuXHRcdG1ldGhvZDogJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLmdldF9vcmdhbml6YXRpb25zJyxcblx0fSk7XG5cdG9yZ2FuaXphdGlvbkxpc3QudmFsdWUgPSByZXM/Lm1lc3NhZ2V8fFtdXG5cdGlmKCFjdXJyZW50Tm9kZUtleS52YWx1ZSl7XG5cdFx0Y3VycmVudE5vZGVLZXkudmFsdWUgPSAgb3JnYW5pemF0aW9uTGlzdC52YWx1ZVswXT8ubmFtZVxuXHRcdGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgb3JnYW5pemF0aW9uTGlzdC52YWx1ZVswXSlcblx0fVxufVxuXG5jb25zdCBvcmdhbml6YXRpb25UcmVlID0gY29tcHV0ZWQoKCk9Pntcblx0Zm9yKGNvbnN0IG9yZyBvZiBvcmdhbml6YXRpb25MaXN0LnZhbHVlKXtcblx0XHRvcmcucGVybWlzc2lvbnMgPSBwcm9wcy5wZXJtaXNzaW9uc1xuXHR9XG5cdHJldHVybiBsaXN0MlRyZWUodG9SYXcob3JnYW5pemF0aW9uTGlzdC52YWx1ZSksICdwYXJlbnRfb3JnYW5pemF0aW9uJylcbn0pXG5cbmZ1bmN0aW9uIGhhbmRsZU5vZGVDbGljayhkYXRhOk9yZ2FuaXphdGlvbil7XG5cdGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZGF0YSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3JnYW5pemF0aW9uKCl7XG5cdGNvbnN0IG5ld0RvYyA9IGZyYXBwZS5tb2RlbC5tYWtlX25ld19kb2NfYW5kX2dldF9uYW1lKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24nLCBuZXdEb2NdKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZURyb3AoIFxuXHRkcmFnZ2luZ05vZGU6IE5vZGUsXG4gIFx0ZHJvcE5vZGU6IE5vZGUsXG4gIFx0ZHJvcFR5cGU6IE5vZGVEcm9wVHlwZSxcbiAgXHRldjogRHJhZ0V2ZW50c1xuKXtcblx0Y29uc3QgYmVmb3JlID0gZHJvcFR5cGU9PT0naW5uZXInP2ZhbHNlOmRyb3BUeXBlID09PSdiZWZvcmUnXG5cdGNvbnN0IGNoaWxkcmVuID0gZHJvcFR5cGU9PT0naW5uZXInXG5cdGF3YWl0IGZyYXBwZS5jYWxsKCdndWlndS50cmVlLnRyZWVfc29ydCcsIHtcblx0XHRcdFx0ZG9jdHlwZTogJ1RpYW5qeSBPcmdhbml6YXRpb24nLFxuXHRcdFx0XHR0YXJnZXQ6ZHJvcE5vZGUuZGF0YS5uYW1lLCBcblx0XHRcdFx0ZG9jczpbZHJhZ2dpbmdOb2RlLmRhdGEubmFtZV0sIFxuXHRcdFx0XHRiZWZvcmUsXG5cdFx0XHRcdGNoaWxkcmVuLFxuXHRcdFx0fSk7XG5cdGdldE9yZ2FuaXphdGlvbnMoKVxufVxuXG5mdW5jdGlvbiBhbGxvd0Ryb3AoXG5cdGRyYWdnaW5nTm9kZTogTm9kZSxcbiAgXHRkcm9wTm9kZTogTm9kZSxcbiAgXHRkcm9wVHlwZTogQWxsb3dEcm9wVHlwZSxcbil7XG5cdHN3aXRjaChkcm9wVHlwZSl7XG5cdFx0Y2FzZSAnbmV4dCc6XG5cdFx0Y2FzZSAncHJldic6IHJldHVybiBiZWZvcmUoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSk7XG5cdFx0Y2FzZSAnaW5uZXInOiByZXR1cm4gaW5uZXIoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSk7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIHRydWVcblx0fVxufVxuZnVuY3Rpb24gaW5uZXIoXG5cdGRyYWdnaW5nTm9kZTogTm9kZSxcbiAgXHRkcm9wTm9kZTogTm9kZSxcbil7XG5cdC8vIFx1NjUzRVx1NTIzMFx1NTE3Nlx1NEVENlx1ODI4Mlx1NzBCOVx1NTE4NVxuXHQvLyBcdTUyMjRcdTY1QURcdTgwRkRcdTRFMERcdTgwRkRcdTRGNUNcdTRFM0FcdThGRDlcdTRFMkFcdTgyODJcdTcwQjlcdTc2ODRcdTVCNTBcdTgyODJcdTcwQjlcblx0aWYoIWRyb3BOb2RlLmRhdGEuY2hpbGRfdHlwZV9saXN0LnNvbWUodHlwZT0+dHlwZS5uYW1lPT09ZHJhZ2dpbmdOb2RlLmRhdGEudHlwZSkpe1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZVxufVxuZnVuY3Rpb24gYmVmb3JlKFxuXHRkcmFnZ2luZ05vZGU6IE5vZGUsXG4gIFx0ZHJvcE5vZGU6IE5vZGUsXG4pe1xuXHRpZihkcm9wTm9kZS5wYXJlbnQubGV2ZWw9PT0wJiZkcmFnZ2luZ05vZGUuZGF0YS50eXBlX2RvYy5yb290X29ubHkhPT0xKXtcblx0XHRjb25zb2xlLmxvZyhkcm9wTm9kZS5wYXJlbnQubGV2ZWwsIGRyYWdnaW5nTm9kZS5kYXRhLnR5cGVfZG9jLnJvb3Rfb25seSwgJ2ZhbHNlJylcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Ly8gXHU0RTBEXHU2NjJGXHU2NTNFXHU1MjMwXHU2ODM5XHU4MjgyXHU3MEI5XHVGRjBDXHU1MjI0XHU2NUFEXHU4MEZEXHU0RTBEXHU4MEZEXHU0RjVDXHU0RTNBXHU1MTc2XHU0RUQ2XHU4MjgyXHU3MEI5XHU3Njg0XHU1QjUwXHU3RUE3XG5cdGlmKGRyb3BOb2RlLnBhcmVudC5sZXZlbCE9PTAmJiFkcm9wTm9kZS5wYXJlbnQuZGF0YS5jaGlsZF90eXBlX2xpc3Quc29tZSh0eXBlPT50eXBlLm5hbWU9PT1kcmFnZ2luZ05vZGUuZGF0YS50eXBlKSl7XG5cdFx0Y29uc29sZS5sb2coZHJvcE5vZGUucGFyZW50LmxldmVsLCAnZmFsc2UnKVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZVxufVxuZnJhcHBlLnNvY2tldGlvLmRvY3R5cGVfc3Vic2NyaWJlKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5mcmFwcGUucmVhbHRpbWUub24oJ2xpc3RfdXBkYXRlJywgcCA9PiB7XG5cdGlmIChwLmRvY3R5cGUgIT09ICdUaWFuankgT3JnYW5pemF0aW9uJykgeyByZXR1cm47IH1cblx0Z2V0T3JnYW5pemF0aW9ucygpO1xufSk7XG5cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLnNpZGVyLWNvbnRhaW5lcntcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0aGVpZ2h0OiAxMDAlO1xuXHRwYWRkaW5nLXRvcDogOHB4O1xuXHQudHJlZS1jb250YWluZXJ7XG5cdFx0b3ZlcmZsb3cteTogYXV0bztcblx0fVxufVxuPC9zdHlsZT5cbiIsICJleHBvcnQgaW50ZXJmYWNlIEl0ZW17XG5cdG5hbWU6c3RyaW5nLFxuXHRbcGFyZW50OnN0cmluZ106YW55XG59XG5leHBvcnQgaW50ZXJmYWNlIFRyZWVJdGVtRGF0YSBleHRlbmRzIEl0ZW0ge1xuICBjaGlsZHJlbj86IHRoaXNbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsaXN0MlRyZWU8VCBleHRlbmRzIEl0ZW0+KGxpc3REYXRhOiBUW10sIHBhcmVudEZpZWxkOnN0cmluZykge1xuXHRjb25zdCBsaXN0RGF0YUNvcHk6VFtdICA9IHN0cnVjdHVyZWRDbG9uZShsaXN0RGF0YSk7XG5cdGNvbnN0IHRyZWVEYXRhOiAoVCAmIFRyZWVJdGVtRGF0YSlbXSA9IFtdO1xuXHRjb25zdCBtYXA6UmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXHRsaXN0RGF0YUNvcHkuZm9yRWFjaChpdGVtID0+IHtcblx0ICBtYXBbaXRlbS5uYW1lXSA9IGl0ZW07XG5cdH0pO1xuXHRsaXN0RGF0YUNvcHkuZm9yRWFjaChpdGVtID0+IHtcblx0ICBjb25zdCBwYXJlbnQgPSBtYXBbaXRlbVtwYXJlbnRGaWVsZF0gfHwgMF07XG5cdCAgaWYgKHBhcmVudCkge1xuXHRcdChwYXJlbnQuY2hpbGRyZW4gfHwgKHBhcmVudC5jaGlsZHJlbiA9IFtdKSkucHVzaChpdGVtKTtcblx0ICB9IGVsc2Uge1xuXHRcdHRyZWVEYXRhLnB1c2goaXRlbSk7XG5cdCAgfVxuXHR9KTtcblx0cmV0dXJuIHRyZWVEYXRhO1xuICB9XG4iLCAiXG48dGVtcGxhdGU+XG5cdDxkaXYgY2xhc3M9XCJjdXN0b20tdHJlZS1ub2RlXCI+XG5cdFx0PHNwYW4+e3sgbm9kZS5sYWJlbCB9fTwvc3Bhbj5cblx0XHQ8ZWwtZHJvcGRvd24gQGNvbW1hbmQ9XCJjb21tYW5kXCI+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cImVsLWRyb3Bkb3duLWxpbmtcIj5cblx0XHRcdFx0PGVsLWljb24gY2xhc3M9XCJlbC1pY29uLS1yaWdodFwiIEBjbGljaz1cImU9PmUuc3RvcFByb3BhZ2F0aW9uKClcIj5cblx0XHRcdFx0XHQ8TW9yZUZpbGxlZCAvPlxuXHRcdFx0XHQ8L2VsLWljb24+XG5cdFx0XHQ8L3NwYW4+XG5cdFx0XHQ8dGVtcGxhdGUgI2Ryb3Bkb3duPlxuXHRcdFx0XHQ8ZWwtZHJvcGRvd24tbWVudT5cblx0XHRcdFx0XHQ8ZWwtZHJvcGRvd24taXRlbSB2LWlmPVwiY2hpbGRUeXBlcy5sZW5ndGg+MCYmbm9kZS5kYXRhLnBlcm1pc3Npb25zLmNyZWF0ZVBlcm1pc3Npb25cIiBjb21tYW5kPVwiYWRkXCI+XG5cdFx0XHRcdFx0XHQ8ZWwtcG9wb3ZlciA6cG9wcGVyLXN0eWxlPVwie3BhZGRpbmc6MH1cIiBwbGFjZW1lbnQ9XCJyaWdodC1zdGFydFwiIHRyaWdnZXI9XCJob3ZlclwiIDpvZmZzZXQ9XCIxNVwiPlxuXHRcdFx0XHRcdFx0XHQ8dGVtcGxhdGUgI3JlZmVyZW5jZT5cblx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5cdTY1QjBcdTVFRkFcdTVCNTBcdTgyODJcdTcwQjk8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHRcdFx0XHRcdDxlbC1tZW51IGNsYXNzPVwiY3JlYXRlLW1lbnVcIiBtb2RlPVwidmVydGljYWxcIj5cblx0XHRcdFx0XHRcdFx0XHQ8ZWwtbWVudS1pdGVtIGNsYXNzPVwiY3JlYXRlX3R5cGVcIiB2LWZvcj1cInR5cGUgaW4gY2hpbGRUeXBlc1wiIEBjbGljaz1cImNyZWF0ZUJ5VHlwZSh0eXBlKVwiPnt7IHR5cGUubmFtZSB9fTwvZWwtbWVudS1pdGVtPlxuXHRcdFx0XHRcdFx0XHQ8L2VsLW1lbnU+XG5cdFx0XHRcdFx0XHQ8L2VsLXBvcG92ZXI+XG5cdFx0XHRcdFx0PC9lbC1kcm9wZG93bi1pdGVtPlxuXHRcdFx0XHRcdDxlbC1kcm9wZG93bi1pdGVtIFxuXHRcdFx0XHRcdFx0Y29tbWFuZD1cImRlbGV0ZVwiIFxuXHRcdFx0XHRcdFx0di1pZj1cIm5vZGUuZGF0YS5wZXJtaXNzaW9ucy5kZWxldGVQZXJtaXNzaW9uJiYhbm9kZS5kYXRhLmNoaWxkcmVuPy5sZW5ndGhcIlxuXHRcdFx0XHRcdD48c3BhbiBjbGFzcz1cImRlbGV0ZVwiPlx1NTIyMFx1OTY2NDwvc3Bhbj48L2VsLWRyb3Bkb3duLWl0ZW0+XG5cdFx0XHRcdDwvZWwtZHJvcGRvd24tbWVudT5cblx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0PC9lbC1kcm9wZG93bj5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cbmltcG9ydCB7IHJlZiwgb25Nb3VudGVkLCBjb21wdXRlZCwgdG9SYXd9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgdHlwZSB7IE9yZ2FuaXphdGlvbiwgT3JnYW5pemF0aW9uVHlwZSB9IGZyb20gJy4uL3R5cGUnO1xuaW1wb3J0IHR5cGUgTm9kZSBmcm9tICdlbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90cmVlL3NyYy9tb2RlbC9ub2RlJ1xuaW1wb3J0IHsgTW9yZUZpbGxlZCB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJztcbmltcG9ydCB7IEVsTWVzc2FnZSwgRWxNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC1wbHVzJztcblxuaW50ZXJmYWNlIFByb3Bze1xuXHRub2RlOk5vZGUsXG59XG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuaW50ZXJmYWNlIEVtaXR7XG5cdChlOid1cGRhdGU6bW9kZWxWYWx1ZScsIG9yZ2FuaXphdGlvbjphbnkgKTp2b2lkXG5cdChlOidyZWxvYWQnICk6dm9pZFxufVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXQ+KCk7XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU9yZ2FuaXphdGlvbigpIHtcblx0RWxNZXNzYWdlQm94LmNvbmZpcm0oXG5cdFx0XHQnXHU2MEE4XHU3ODZFXHU4QkE0XHU1MjIwXHU5NjY0XHU2QjY0XHU3RUM0XHU3RUM3XHU1NDE3PycsXG5cdFx0XHQnXHU4QkY3XHU3ODZFXHU4QkE0Jyxcblx0XHRcdHtcblx0XHRcdFx0Y29uZmlybUJ1dHRvblRleHQ6ICdcdTc4NkVcdTVCOUEnLFxuXHRcdFx0XHRjYW5jZWxCdXR0b25UZXh0OiAnXHU1M0Q2XHU2RDg4Jyxcblx0XHRcdFx0dHlwZTogJ3dhcm5pbmcnLFxuXHRcdFx0fVxuXHRcdCkudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBmcmFwcGUuZGIuZGVsZXRlX2RvYygnVGlhbmp5IE9yZ2FuaXphdGlvbicsIHByb3BzLm5vZGUuZGF0YS5uYW1lKVxuXHRcdFx0ZW1pdCgncmVsb2FkJylcblx0XHRcdEVsTWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdzdWNjZXNzJyxcblx0XHRcdFx0bWVzc2FnZTogJ1x1NTIyMFx1OTY2NFx1NjIxMFx1NTI5RicsXG5cdFx0XHR9KTtcblx0XHR9KS5jYXRjaCgoKSA9PiB7XG5cdFx0XHRFbE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAnaW5mbycsXG5cdFx0XHRcdG1lc3NhZ2U6ICdcdTUzRDZcdTZEODhcdTUyMjBcdTk2NjQnLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG59XG5cbmNvbnN0IGNoaWxkVHlwZXMgPSBjb21wdXRlZCgoKT0+cHJvcHMubm9kZS5kYXRhLmNoaWxkX3R5cGVfbGlzdClcbmZ1bmN0aW9uIGNvbW1hbmQodjogc3RyaW5nKSB7XG5cdHN3aXRjaCAodikge1xuXHRcdGNhc2UgJ2RlbGV0ZSc6IHJldHVybiBkZWxldGVPcmdhbml6YXRpb24oKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVCeVR5cGUodHlwZTpPcmdhbml6YXRpb25UeXBlKXtcblx0Y29uc3QgbmV3RG9jID0gZnJhcHBlLm1vZGVsLm1ha2VfbmV3X2RvY19hbmRfZ2V0X25hbWUoJ1RpYW5qeSBPcmdhbml6YXRpb24nKTtcblx0ZnJhcHBlLm1vZGVsLnNldF92YWx1ZSgnVGlhbmp5IE9yZ2FuaXphdGlvbicsIG5ld0RvYywgJ3R5cGUnLCB0eXBlLm5hbWUpO1xuXHRmcmFwcGUubW9kZWwuc2V0X3ZhbHVlKCdUaWFuankgT3JnYW5pemF0aW9uJywgbmV3RG9jLCAncGFyZW50X29yZ2FuaXphdGlvbicsIHByb3BzLm5vZGUuZGF0YS5uYW1lKTtcblx0ZnJhcHBlLnNldF9yb3V0ZShbJ2Zvcm0nLCAnVGlhbmp5IE9yZ2FuaXphdGlvbicsIG5ld0RvY10pO1xufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPSdsZXNzJyBzY29wZWQ+XG46ZGVlcCguZGVsZXRlKXtcblx0Y29sb3I6ICNmMDA7XG59XG4uY3JlYXRlX3R5cGV7XG5cdGhlaWdodDogMjRweDtcdFxufVxuLmNyZWF0ZS1tZW51e1xuXHRib3JkZXItcmlnaHQ6IDA7XG5cdHBhZGRpbmc6MDtcbn1cbi5jdXN0b20tdHJlZS1ub2Rle1xuXHRkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGZsZXg6IDE7XG5cdHBhZGRpbmctcmlnaHQ6IDhweDtcblx0LmVsLWRyb3Bkb3duLWxpbmsge1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0dmlzaWJpbGl0eTogaGlkZGVuO1xuXHR9XG5cdCY6aG92ZXJ7XG5cdFx0LmVsLWRyb3Bkb3duLWxpbmt7XG5cdFx0XHR2aXNpYmlsaXR5OiB2aXNpYmxlO1xuXHRcdH1cblx0fVxufVxuXG48L3N0eWxlPlxuIiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9UcmVlSXRlbS52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MFwiO2V4cG9ydCBkZWZhdWx0ICgpID0+e30iLCAiaW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi1hODM1YWJhN1wiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJjdXN0b20tdHJlZS1ub2RlXCIgfVxuY29uc3QgX2hvaXN0ZWRfMiA9IHsgY2xhc3M6IFwiZWwtZHJvcGRvd24tbGlua1wiIH1cbmNvbnN0IF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovIF93aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgbnVsbCwgXCJcdTY1QjBcdTVFRkFcdTVCNTBcdTgyODJcdTcwQjlcIiwgLTEgLyogSE9JU1RFRCAqLykpXG5jb25zdCBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qLyBfd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJzcGFuXCIsIHsgY2xhc3M6IFwiZGVsZXRlXCIgfSwgXCJcdTUyMjBcdTk2NjRcIiwgLTEgLyogSE9JU1RFRCAqLykpXG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfZWxfaWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtaWNvblwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX21lbnVfaXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtbWVudS1pdGVtXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfbWVudSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtbWVudVwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX3BvcG92ZXIgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXBvcG92ZXJcIilcbiAgY29uc3QgX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1kcm9wZG93bi1pdGVtXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfZHJvcGRvd25fbWVudSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtZHJvcGRvd24tbWVudVwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1kcm9wZG93blwiKVxuXG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5ub2RlLmxhYmVsKSwgMSAvKiBURVhUICovKSxcbiAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93biwgeyBvbkNvbW1hbmQ6ICRzZXR1cC5jb21tYW5kIH0sIHtcbiAgICAgIGRyb3Bkb3duOiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX21lbnUsIG51bGwsIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAoJHNldHVwLmNoaWxkVHlwZXMubGVuZ3RoPjAmJiRwcm9wcy5ub2RlLmRhdGEucGVybWlzc2lvbnMuY3JlYXRlUGVybWlzc2lvbilcbiAgICAgICAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtLCB7XG4gICAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgICBjb21tYW5kOiBcImFkZFwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wb3BvdmVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJwb3BwZXItc3R5bGVcIjoge3BhZGRpbmc6MH0sXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0LXN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogXCJob3ZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTVcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfM1xuICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX21lbnUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiY3JlYXRlLW1lbnVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5jaGlsZFR5cGVzLCAodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX21lbnVfaXRlbSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJjcmVhdGVfdHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gKCRzZXR1cC5jcmVhdGVCeVR5cGUodHlwZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcodHlwZS5uYW1lKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKSxcbiAgICAgICAgICAgICgkcHJvcHMubm9kZS5kYXRhLnBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb24mJiEkcHJvcHMubm9kZS5kYXRhLmNoaWxkcmVuPy5sZW5ndGgpXG4gICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwge1xuICAgICAgICAgICAgICAgICAga2V5OiAxLFxuICAgICAgICAgICAgICAgICAgY29tbWFuZDogXCJkZWxldGVcIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNFxuICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwge1xuICAgICAgICAgICAgY2xhc3M6IFwiZWwtaWNvbi0tcmlnaHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZT0+ZS5zdG9wUHJvcGFnYXRpb24oKSlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJNb3JlRmlsbGVkXCJdKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pXG4gICAgICAgIF0pXG4gICAgICBdKSxcbiAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgfSlcbiAgXSkpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9UcmVlSXRlbS52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQgc3R5bGUwIGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9UcmVlSXRlbS52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9UcmVlSXRlbS52dWVcIjtzY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtYTgzNWFiYTdcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LTdmZjlkNGRiXCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7IGNsYXNzOiBcInNpZGVyLWNvbnRhaW5lclwiIH1cbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcInRyZWUtY29udGFpbmVyXCIgfVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtYnV0dG9uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdHJlZSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdHJlZVwiKVxuXG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIG51bGwsIFtcbiAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwge1xuICAgICAgICB0eXBlOiBcInByaW1hcnlcIixcbiAgICAgICAgb25DbGljazogJHNldHVwLmNyZWF0ZU9yZ2FuaXphdGlvblxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1NjVCMFx1NUVGQVx1N0VDNFx1N0VDN1wiKVxuICAgICAgICBdKSxcbiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgIH0pXG4gICAgXSksXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAoJHNldHVwLm9yZ2FuaXphdGlvblRyZWUubGVuZ3RoPjApXG4gICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfdHJlZSwge1xuICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgZGF0YTogJHNldHVwLm9yZ2FuaXphdGlvblRyZWUsXG4gICAgICAgICAgICBvbk5vZGVDbGljazogJHNldHVwLmhhbmRsZU5vZGVDbGljayxcbiAgICAgICAgICAgIFwiZGVmYXVsdC1leHBhbmQtYWxsXCI6IFwiXCIsXG4gICAgICAgICAgICBcImhpZ2hsaWdodC1jdXJyZW50XCI6IFwiXCIsXG4gICAgICAgICAgICBcIm5vZGUta2V5XCI6IFwibmFtZVwiLFxuICAgICAgICAgICAgXCJjdXJyZW50LW5vZGUta2V5XCI6ICRzZXR1cC5jdXJyZW50Tm9kZUtleSxcbiAgICAgICAgICAgIFwiZXhwYW5kLW9uLWNsaWNrLW5vZGVcIjogZmFsc2UsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IFwiXCIsXG4gICAgICAgICAgICBvbk5vZGVEcm9wOiAkc2V0dXAuaGFuZGxlRHJvcCxcbiAgICAgICAgICAgIFwiYWxsb3ctZHJvcFwiOiAkc2V0dXAuYWxsb3dEcm9wXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHsgbm9kZSwgZGF0YSB9KSA9PiBbXG4gICAgICAgICAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJUcmVlSXRlbVwiXSwge1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgICAgICAgb25SZWxvYWQ6ICRzZXR1cC5nZXRPcmdhbml6YXRpb25zXG4gICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm5vZGVcIl0pXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgfSwgOCAvKiBQUk9QUyAqLywgW1wiZGF0YVwiLCBcImN1cnJlbnQtbm9kZS1rZXlcIl0pKVxuICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgXSlcbiAgXSkpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZT90eXBlPXN0eWxlJmluZGV4PTBcIjtzdHlsZTAoc2NyaXB0KTtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi03ZmY5ZDRkYlwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IGNsYXNzPVwiZm9ybS1jb250YWluZXJcIj5cblx0XHQ8Rm9ybURldGFpbCBcblx0XHRcdDpsb2FkaW5nPVwibG9hZGluZ1wiXG5cdFx0XHR2LWlmPVwibWV0YSYmZGV0YWlsXCJcblx0XHRcdDptZXRhPVwibWV0YVwiXG5cdFx0XHQ6b3B0aW9ucz1cInt9XCJcblx0XHRcdDp2YWx1ZT1cImRldGFpbFwiXG5cdFx0PjwvRm9ybURldGFpbD5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cblx0aW1wb3J0IHsgcmVmLCB3YXRjaCwgc2hhbGxvd1JlZiB9IGZyb20gJ3Z1ZSc7XG5cdGltcG9ydCBGb3JtRGV0YWlsIGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsJ1xuXG5cdGNvbnN0IG1ldGEgPSBzaGFsbG93UmVmPGxvY2Fscy5Eb2NUeXBlPigpO1xuXG5cdGludGVyZmFjZSBQcm9wc3tcblx0XHRkb2N0eXBlOnN0cmluZyxcblx0XHRuYW1lPzpzdHJpbmdcblx0fVxuXHRjb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuXHRjb25zdCBkZXRhaWwgPSByZWY8YW55PigpXG5cdGNvbnN0IGxvYWRpbmcgPSByZWY8Ym9vbGVhbj4oZmFsc2UpXG5cdHdhdGNoKCgpPT5wcm9wcy5kb2N0eXBlLCgpPT57XG5cdFx0Z2V0TWV0YShwcm9wcy5kb2N0eXBlKVxuXHR9LHtpbW1lZGlhdGU6dHJ1ZX0pXG5cdHdhdGNoKCgpPT5wcm9wcy5uYW1lLCAoKT0+e1xuXHRcdGdldERldGFpbCgpXG5cdH0sIHtpbW1lZGlhdGU6dHJ1ZX0pXG5cdGFzeW5jIGZ1bmN0aW9uIGdldERldGFpbCgpe1xuXHRcdGxvYWRpbmcudmFsdWU9dHJ1ZVxuXHRcdGlmKCFwcm9wcy5uYW1lKXtcblx0XHRcdGRldGFpbC52YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdGxvYWRpbmcudmFsdWU9ZmFsc2Vcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGV0YWlsLnZhbHVlID0gYXdhaXQgZnJhcHBlLmRiLmdldF9kb2MocHJvcHMuZG9jdHlwZSwgcHJvcHMubmFtZSk7XG5cdFx0bG9hZGluZy52YWx1ZT1mYWxzZVxuXHR9XG5cdGFzeW5jIGZ1bmN0aW9uIGdldE1ldGEoZG9jdHlwZTogc3RyaW5nKSB7XG5cdFx0aWYgKCFkb2N0eXBlKSB7IHJldHVybjsgfVxuXHRcdGxldCBsb2NhbF9tZXRhID0gZnJhcHBlLmdldF9tZXRhKGRvY3R5cGUpO1xuXHRcdGlmIChsb2NhbF9tZXRhKSB7XG5cdFx0XHRsb2NhbF9tZXRhLmhpZGVfdG9vbGJhciA9IHRydWVcblx0XHRcdG1ldGEudmFsdWUgPSBsb2NhbF9tZXRhO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRhd2FpdCBmcmFwcGUubW9kZWwud2l0aF9kb2N0eXBlKGRvY3R5cGUpO1xuXHRcdGxvY2FsX21ldGEgPSBmcmFwcGUuZ2V0X21ldGEoZG9jdHlwZSk7XG5cdFx0bG9jYWxfbWV0YSEuaGlkZV90b29sYmFyID0gdHJ1ZVxuXHRcdG1ldGEudmFsdWUgPSBsb2NhbF9tZXRhIHx8IHVuZGVmaW5lZDtcblx0fVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPSdsZXNzJyBzY29wZWQ+XG4uZm9ybS1jb250YWluZXJ7XG5cdGJvcmRlcjoxcHggc29saWQgI2VlZTtcblx0OmRlZXAoLmZvcm0tc2VjdGlvbiAuZm9ybS1jb2x1bW46Zmlyc3QtY2hpbGQpe1xuXHRcdHBhZGRpbmctbGVmdDogMTVweDtcblx0fVxuXHQucGxhY2Vob2xkZXJ7XG5cdFx0aGVpZ2h0OiA1MDBweDtcblx0XHRsaW5lLWhlaWdodDogNTAwcHg7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHR9XG59XG48L3N0eWxlPlxuIiwgIjx0ZW1wbGF0ZT5cblx0PE1haW5cblx0XHR2LWlmPVwidmFsdWUgJiYgZG9jTWV0YSAmJiBuYW1lXCJcblx0XHQ6a2V5PVwiYCR7ZG9jTWV0YS5uYW1lfToke3ZhbHVlLm5hbWV9YFwiXG5cdFx0Om1ldGE9XCJkb2NNZXRhXCJcblx0XHQ6b3B0aW9ucz1cIm9wdGlvbnNcIlxuXHRcdDpsb2FkaW5nPVwibG9hZGluZ1wiXG5cdFx0Om5hbWU9XCJuYW1lXCJcblx0XHR2LW1vZGVsOnZhbHVlPVwiZG9jXCJcblx0XHRAcmVmcmVzaD1cInJlZnJlc2hcIiAvPlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQgbGFuZz1cInRzXCIgc2V0dXA+XG5pbXBvcnQgeyBjb21wdXRlZCwgc2hhbGxvd1JlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuXG5pbXBvcnQgZ2V0TGluayBmcm9tICcuLi91dGlscy9nZXRMaW5rJztcblxuaW1wb3J0IE1haW4gZnJvbSAnLi9NYWluLnZ1ZSc7XG5cbmRlZmluZU9wdGlvbnMoeyBuYW1lOiAnRm9ybURldGFpbDpSb290JywgaW5oZXJpdEF0dHJzOiBmYWxzZSB9KTtcbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuXHQvKiogXHU1RjUzXHU1MjREIGRvY3R5cGUgXHU3Njg0XHU0RkUxXHU2MDZGICovXG5cdG1ldGE6IGxvY2Fscy5Eb2NUeXBlXG5cdC8qKiBcdTY1NzBcdTYzNkVcdTkwMDlcdTk4NzkgKi9cblx0b3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PjtcblxuXHQvKiogXHU0RTNCXHU1MzNBXHU1N0RGXHU3Njg0IHZhbHVlICovXG5cdHZhbHVlPzogYW55O1xuXG5cdC8qKiBcdTRFM0JcdTUzM0FcdTU3REZcdTY1NzBcdTYzNkVcdTY2MkZcdTU0MjZcdTU3MjhcdTUyQTBcdThGN0RcdTRFMkQgKi9cblx0bG9hZGluZz86IGJvb2xlYW47XG5cblxuXHRsaW5rRmllbGQ/OiBzdHJpbmc7XG59PigpO1xuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcblx0KGV2ZW50OiAncmVmcmVzaCcpOiB2b2lkO1xuXHQoZXZlbnQ6ICd1cGRhdGU6dmFsdWUnLCB2YWx1ZT86IGFueSk6IHZvaWQ7XG59PigpO1xuZnVuY3Rpb24gcmVmcmVzaCgpIHtcblx0ZW1pdCgncmVmcmVzaCcpO1xufVxuY29uc3QgZG9jID0gY29tcHV0ZWQoe1xuXHRnZXQ6ICgpID0+IHByb3BzLnZhbHVlLFxuXHRzZXQ6IHYgPT4gZW1pdCgndXBkYXRlOnZhbHVlJywgdiksXG59KTtcbmxldCBkb2NNZXRhTG9hZGluZ0RvY3R5cGUgPSAnJztcbmxldCBEb2NUeXBlTG9hZGluZ0lkID0gMDtcbmNvbnN0IGxpbmtGaWVsZCA9IGNvbXB1dGVkKCgpID0+IHByb3BzLmxpbmtGaWVsZCk7XG5jb25zdCBkb2NNZXRhTG9hZGluZyA9IHNoYWxsb3dSZWY8bG9jYWxzLkRvY1R5cGU+KCk7XG5cbmNvbnN0IGxpbmsgPSBjb21wdXRlZCgoKSA9PiBnZXRMaW5rKGRvYy52YWx1ZSwgcHJvcHMubWV0YSwgbGlua0ZpZWxkLnZhbHVlKSk7XG5jb25zdCBuYW1lID0gY29tcHV0ZWQoKCkgPT4gbGluay52YWx1ZT8uWzFdIHx8IGRvYy52YWx1ZT8ubmFtZSk7XG53YXRjaCgoKSA9PiBsaW5rLnZhbHVlPy5bMF0sIGRvY3R5cGUgPT4ge1xuXHRpZiAoIWRvY3R5cGUpIHsgcmV0dXJuOyB9XG5cdGlmIChkb2N0eXBlID09PSBkb2NNZXRhTG9hZGluZ0RvY3R5cGUpIHsgcmV0dXJuOyB9XG5cdGRvY01ldGFMb2FkaW5nRG9jdHlwZSA9IGRvY3R5cGU7XG5cdGRvY01ldGFMb2FkaW5nLnZhbHVlID0gdW5kZWZpbmVkO1xuXHREb2NUeXBlTG9hZGluZ0lkKys7XG5cdGNvbnN0IGlkID0gRG9jVHlwZUxvYWRpbmdJZDtcblx0KGFzeW5jICgpID0+IHtcblx0XHRhd2FpdCBuZXcgUHJvbWlzZShyID0+IGZyYXBwZS5tb2RlbC53aXRoX2RvY3R5cGUoZG9jdHlwZSwgcikpO1xuXHRcdGNvbnN0IG1ldGEgPSBmcmFwcGUuZ2V0X2RvYygnRG9jVHlwZScsIGRvY3R5cGUpO1xuXHRcdGlmIChpZCAhPT0gRG9jVHlwZUxvYWRpbmdJZCkgeyByZXR1cm47IH1cblx0XHRpZiAoZG9jTWV0YUxvYWRpbmdEb2N0eXBlICE9PSBkb2N0eXBlKSB7IHJldHVybjsgfVxuXHRcdGRvY01ldGFMb2FkaW5nLnZhbHVlID0gbWV0YSB8fCB1bmRlZmluZWQ7XG5cdH0pKCk7XG59LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvY01ldGEgPSBjb21wdXRlZCgoKSA9PiB7XG5cdGNvbnN0IGRvY3R5cGUgPSBsaW5rLnZhbHVlPy5bMF07XG5cdGlmICghZG9jdHlwZSkgeyByZXR1cm4gcHJvcHMubWV0YTsgfVxuXHRpZiAoZG9jdHlwZSAhPT0gZG9jTWV0YUxvYWRpbmdEb2N0eXBlKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHJldHVybiBkb2NNZXRhTG9hZGluZy52YWx1ZTtcbn0pO1xuXG48L3NjcmlwdD5cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRMaW5rKFxuXHRkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pixcblx0bWV0YT86IGxvY2Fscy5Eb2NUeXBlLFxuXHRsaW5rRmllbGQ/OiBzdHJpbmdcbik6IFtzdHJpbmcsIHN0cmluZ10gfCB1bmRlZmluZWQge1xuXHRpZiAoIWRhdGEpIHsgcmV0dXJuOyB9XG5cdGlmICghbWV0YSkgeyByZXR1cm47IH1cblx0aWYgKCFsaW5rRmllbGQpIHsgcmV0dXJuOyB9XG5cdGNvbnN0IHsgZmllbGRzIH0gPSBtZXRhO1xuXHRpZiAoIWZpZWxkcykgeyByZXR1cm47IH1cblxuXHRjb25zdCBsaW5rID0gZGF0YVtsaW5rRmllbGRdO1xuXHRjb25zdCBuYW1lID0gdHlwZW9mIGxpbmsgPT09ICdzdHJpbmcnICYmIGxpbms7XG5cdGlmICghbmFtZSkgeyByZXR1cm47IH1cblxuXHRjb25zdCBmaWVsZCA9IGZpZWxkcy5maW5kKHYgPT4gdi5maWVsZG5hbWUgPT09IGxpbmtGaWVsZCk7XG5cdGlmICghZmllbGQpIHsgcmV0dXJuOyB9XG5cdGNvbnN0IG9wdGlvbiA9IGZpZWxkLm9wdGlvbnM7XG5cdGlmICghb3B0aW9uKSB7IHJldHVybjsgfVxuXG5cdGlmIChmaWVsZC5maWVsZHR5cGUgPT09ICdMaW5rJykgeyByZXR1cm4gW29wdGlvbiwgbmFtZV07IH1cblxuXHRpZiAoZmllbGQuZmllbGR0eXBlICE9PSAnRHluYW1pYyBMaW5rJykgeyByZXR1cm47IH1cblx0Y29uc3QgZHluYW1pY0xpbmtGaWVsZCA9IGZpZWxkcy5maW5kKHYgPT4gdi5maWVsZG5hbWUgPT09IG9wdGlvbik7XG5cdGlmICghZHluYW1pY0xpbmtGaWVsZCkgeyByZXR1cm47IH1cblx0aWYgKGR5bmFtaWNMaW5rRmllbGQuZmllbGR0eXBlICE9PSAnTGluaycpIHsgcmV0dXJuOyB9XG5cdGlmIChkeW5hbWljTGlua0ZpZWxkLm9wdGlvbnMgIT09ICdEb2NUeXBlJykgeyByZXR1cm47IH1cblx0Y29uc3QgZG9jdHlwZSA9IGRhdGFbb3B0aW9uXTtcblx0aWYgKHR5cGVvZiBkb2N0eXBlICE9PSAnc3RyaW5nJyB8fCAhZG9jdHlwZSkgeyByZXR1cm47IH1cblx0cmV0dXJuIFtkb2N0eXBlLCBuYW1lXTtcbn1cbiIsICI8dGVtcGxhdGU+XG5cdDxkaXYgcmVmPVwicm9vdFwiPlxuXHRcdDxIZWFkZXIgdi1tb2RlbDpvcGVuPVwib3BlblwiIDpoYXNTaWRlcj1cIiFzaW5nbGVfY29sdW1uXCIgQGhpZGU9XCJoaWRlXCIgLz5cblx0XHQ8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHBhZ2UtYm9keVwiPlxuXHRcdFx0PGRpdiBjbGFzcz1cInBhZ2UtdG9vbGJhciBoaWRlXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3M9XCJwYWdlLXdyYXBwZXJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ3b3JrZmxvdy1idXR0b24tYXJlYSBidG4tZ3JvdXAgcHVsbC1yaWdodCBoaWRlXCI+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJvdyBsYXlvdXQtbWFpblwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbCBsYXlvdXQtbWFpbi1zZWN0aW9uLXdyYXBwZXJcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImxheW91dC1tYWluLXNlY3Rpb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZC1mb3JtLWxheW91dFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1sYXlvdXRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1tZXNzYWdlIGhpZGRlblwiIC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tcGFnZVwiIC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibGF5b3V0LWZvb3RlciBoaWRlXCIgLz5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiB2LWlmPVwiIXNpbmdsZV9jb2x1bW5cIiA6aGlkZGVuPVwiIW9wZW5cIlxuXHRcdFx0XHRcdFx0XHRjbGFzcz1cImNvbC1sZy0yIGxheW91dC1zaWRlLXNlY3Rpb25cIiAvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvdGVtcGxhdGU+XG48c2NyaXB0IGxhbmc9XCJ0c1wiIHNldHVwPlxuaW1wb3J0IHsgY29tcHV0ZWQsIHNoYWxsb3dSZWYsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdXNlU3RvcmFnZSB9IGZyb20gJ0B2dWV1c2UvY29yZSc7XG5cbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXIudnVlJztcbmltcG9ydCBGb3JtIGZyb20gJy4vRm9ybSc7XG5pbXBvcnQgbG9hZERvYyBmcm9tICcuL2xvYWREb2MnO1xuaW1wb3J0IHVzZVN0b3JlIGZyb20gJy4vdXNlU3RvcmUnO1xuXG5kZWZpbmVPcHRpb25zKHsgbmFtZTogJ0Zvcm1EZXRhaWwnIH0pO1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcblx0LyoqIFx1NUY1M1x1NTI0RCBkb2N0eXBlIFx1NzY4NFx1NEZFMVx1NjA2RiAqL1xuXHRtZXRhOiBsb2NhbHMuRG9jVHlwZVxuXHQvKiogXHU2NTcwXHU2MzZFXHU5MDA5XHU5ODc5ICovXG5cdG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT47XG5cblx0LyoqIFx1NEUzQlx1NTMzQVx1NTdERlx1NzY4NCB2YWx1ZSAqL1xuXHR2YWx1ZTogbG9jYWxzLkRvY3R5cGU7XG5cdG5hbWU6IHN0cmluZ1xuXG5cdC8qKiBcdTRFM0JcdTUzM0FcdTU3REZcdTY1NzBcdTYzNkVcdTY2MkZcdTU0MjZcdTU3MjhcdTUyQTBcdThGN0RcdTRFMkQgKi9cblx0bG9hZGluZz86IGJvb2xlYW47XG59PigpO1xuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcblx0KGV2ZW50OiAncmVmcmVzaCcpOiB2b2lkO1xuXHQoZXZlbnQ6ICd1cGRhdGU6dmFsdWUnLCB2YWx1ZT86IGFueSk6IHZvaWQ7XG59PigpO1xuXG5mdW5jdGlvbiBoaWRlKCkge1xuXHRlbWl0KCd1cGRhdGU6dmFsdWUnKTtcbn1cbmNvbnN0IGRldGFpbFN0YXRlID0gdXNlU3RvcmUoKTtcbmNvbnN0IGN1cnJlbnRUYWIgPSBjb21wdXRlZCh7XG5cdGdldDogKCkgPT4gZGV0YWlsU3RhdGUuY3VycmVudFRhYixcblx0c2V0OiBzID0+IHsgZGV0YWlsU3RhdGUuY3VycmVudFRhYiA9IHM7IH0sXG59KTtcbmNvbnN0IHNpbmdsZV9jb2x1bW4gPSBjb21wdXRlZCgoKSA9PiBCb29sZWFuKHByb3BzLm1ldGE/LmhpZGVfdG9vbGJhcikpO1xuXG5jb25zdCBvcGVuID0gdXNlU3RvcmFnZShgbWFpblZpZXc6Rm9ybURldGFpbDpzaWRlcjoke3Byb3BzLm1ldGEubmFtZX1gLCB0cnVlKTtcbmNvbnN0IHR0ID0gX187XG5cbmNvbnN0IHJvb3QgPSBzaGFsbG93UmVmKCk7XG5sZXQgbGF5b3V0OiBGb3JtIHwgdW5kZWZpbmVkO1xuY29uc3Qgb25VcGRhdGUgPSAoeyBkb2N0eXBlLCBuYW1lLCBtb2RpZmllZCB9OiB7XG5cdGRvY3R5cGU6IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXHRtb2RpZmllZDogc3RyaW5nO1xufSkgPT4ge1xuXHRpZiAoZG9jdHlwZSAhPT0gcHJvcHMubWV0YS5uYW1lKSB7IHJldHVybjsgfVxuXHRpZiAobmFtZSAhPT0gcHJvcHMubmFtZSkgeyByZXR1cm47IH1cblx0aWYgKCFsYXlvdXQpIHsgcmV0dXJuOyB9XG5cblx0aWYgKG1vZGlmaWVkID09PSBsYXlvdXQuZG9jLm1vZGlmaWVkKSB7IHJldHVybjsgfVxuXHRpZiAobGF5b3V0LmlzX2RpcnR5KCkpIHtcblx0XHRsYXlvdXQuc2hvd19jb25mbGljdF9tZXNzYWdlKCk7XG5cdH0gZWxzZSB7XG5cdFx0bGF5b3V0LnJlbG9hZF9kb2MoKTtcblx0fVxufTtcbm9uTW91bnRlZCgoKSA9PiB7XG5cdGNvbnN0IGJvZHkgPSByb290LnZhbHVlO1xuXHRpZiAoIWJvZHkpIHsgcmV0dXJuOyB9XG5cdGNvbnN0IGRvY3R5cGUgPSBwcm9wcy5tZXRhLm5hbWU7XG5cdGNvbnN0IHsgbmFtZSB9ID0gcHJvcHM7XG5cdGxvYWREb2MoZG9jdHlwZSwgbmFtZSkudGhlbihyID0+IHtcblx0XHRpZiAoIXIpIHsgcmV0dXJuOyB9XG5cdFx0bGF5b3V0ID0gbmV3IEZvcm0oZG9jdHlwZSwgbmFtZSwgYm9keSwgaGlkZSwgY3VycmVudFRhYik7XG5cdFx0bGF5b3V0LnJlZnJlc2gobmFtZSk7XG5cdH0pO1xuXG5cdGZyYXBwZS5yZWFsdGltZS5vbignZG9jX3VwZGF0ZScsIG9uVXBkYXRlKTtcbn0pO1xub25Vbm1vdW50ZWQoKCkgPT4ge1xuXHRmcmFwcGUucmVhbHRpbWUub2ZmKCdkb2NfdXBkYXRlJywgb25VcGRhdGUpO1xufSk7XG5cbjwvc2NyaXB0PlxuIiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiA6Y2xhc3M9XCIkc3R5bGUuaGVhZGVyXCI+XG5cdFx0PGRpdiBjbGFzcz1cImNvbC1tZC00IGNvbC1zbS02IGNvbC14cy04IHBhZ2UtdGl0bGVcIj5cblx0XHRcdDwhLS0gPGRpdiBjbGFzcz1cInRpdGxlLWltYWdlIGhpZGUgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiPjwvZGl2PiAtLT5cblx0XHRcdDwhLS0gdGl0bGUgLS0+XG5cdFx0XHQ8c3BhblxuXHRcdFx0XHR2LWlmPVwiaGFzU2lkZXJcIlxuXHRcdFx0XHRjbGFzcz1cInNpZGViYXItdG9nZ2xlLWJ0blwiXG5cdFx0XHRcdDp0aXRsZT1cInR0KCdUb2dnbGUgU2lkZWJhcicpXCI+XG5cdFx0XHRcdDxzdmcgY2xhc3M9XCJpY29uIGljb24tbWQgc2lkZWJhci10b2dnbGUtcGxhY2Vob2xkZXJcIj5cblx0XHRcdFx0XHQ8dXNlIGhyZWY9XCIjaWNvbi1tZW51XCIgLz5cblx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwic2lkZWJhci10b2dnbGUtaWNvblwiXG5cdFx0XHRcdFx0QGNsaWNrPVwib3BlbmVkID0gIW9wZW5lZFwiPlxuXHRcdFx0XHRcdDxzdmcgY2xhc3M9XCJpY29uIGljb24tbWRcIj5cblx0XHRcdFx0XHRcdDx1c2Ugdi1pZj1cIm9wZW5cIiBocmVmPVwiI2ljb24tc2lkZWJhci1leHBhbmRcIiAvPlxuXHRcdFx0XHRcdFx0PHVzZSB2LWVsc2UgaHJlZj1cIiNpY29uLXNpZGViYXItY29sbGFwc2VcIiAvPlxuXHRcdFx0XHRcdDwvc3ZnPlxuXHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHQ8L3NwYW4+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleCBmaWxsLXdpZHRoIHRpdGxlLWFyZWFcIj5cblx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleFwiPlxuXHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwiZWxsaXBzaXMgdGl0bGUtdGV4dFwiPjwvaDM+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImluZGljYXRvci1waWxsIHdoaXRlc3BhY2Utbm93cmFwXCIgLz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZWxsaXBzaXMgc3ViLWhlYWRpbmcgaGlkZSB0ZXh0LW11dGVkXCIgLz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgbW9yZS1idXR0b24gaGlkZVwiPlxuXHRcdFx0XHRcdDxzdmcgY2xhc3M9XCJpY29uIGljb24tc21cIj5cblx0XHRcdFx0XHRcdDx1c2UgaHJlZj1cIiNpY29uLWRvdC1ob3Jpem9udGFsXCIgLz5cblx0XHRcdFx0XHQ8L3N2Zz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwiZmxleCBjb2wgcGFnZS1hY3Rpb25zIGp1c3RpZnktY29udGVudC1lbmRcIj5cblx0XHRcdDwhLS0gYnV0dG9ucyAtLT5cblx0XHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tYWN0aW9ucyBoaWRlIGhpZGRlbi14cyBoaWRkZW4tbWRcIiAvPlxuXHRcdFx0PGRpdiBjbGFzcz1cInN0YW5kYXJkLWFjdGlvbnMgZmxleFwiPlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cInBhZ2UtaWNvbi1ncm91cCBoaWRlIGhpZGRlbi14cyBoaWRkZW4tc21cIiAvPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVudS1idG4tZ3JvdXAgaGlkZVwiPlxuXHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG5cdFx0XHRcdFx0XHRjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBpY29uLWJ0blwiXG5cdFx0XHRcdFx0XHRkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcblx0XHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuXHRcdFx0XHRcdFx0PHNwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibWVudS1idG4tZ3JvdXAtbGFiZWxcIj5cblx0XHRcdFx0XHRcdFx0XHQ8c3ZnIGNsYXNzPVwiaWNvbiBpY29uLXNtXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dXNlIGhyZWY9XCIjaWNvbi1kb3QtaG9yaXpvbnRhbFwiIC8+XG5cdFx0XHRcdFx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIiByb2xlPVwibWVudVwiIC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLWRlZmF1bHQgYnRuLXNtIGhpZGVcIiAvPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWN0aW9ucy1idG4tZ3JvdXAgaGlkZVwiPlxuXHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG5cdFx0XHRcdFx0XHRjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuXHRcdFx0XHRcdFx0ZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG5cdFx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cblx0XHRcdFx0XHRcdDxzcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiYWN0aW9ucy1idG4tZ3JvdXAtbGFiZWxcIj57e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHQoJ0FjdGlvbnMnKVxuXHRcdFx0XHRcdFx0XHRcdH19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3ZnIGNsYXNzPVwiaWNvbiBpY29uLXhzXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHVzZSBocmVmPVwiI2ljb24tc2VsZWN0XCIgLz5cblx0XHRcdFx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCIgcm9sZT1cIm1lbnVcIiAvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gaGlkZSBwcmltYXJ5LWFjdGlvblwiIC8+XG5cdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtXCIgQGNsaWNrPVwiaGlkZVwiPlxuXHRcdFx0XHRcdHt7IHR0KCdDbG9zZScpIH19XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQgbGFuZz1cInRzXCIgc2V0dXA+XG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuXHRoYXNTaWRlcj86IGJvb2xlYW47XG5cdG9wZW4/OiBib29sZWFuO1xufT4oKTtcbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czx7XG5cdChldmVudDogJ2hpZGUnKTogdm9pZDtcblx0KGV2ZW50OiAncmVmcmVzaCcpOiB2b2lkO1xuXHQoZXZlbnQ6ICd1cGRhdGU6b3BlbicsIG9wZW4/OiBib29sZWFuKTogdm9pZDtcbn0+KCk7XG5mdW5jdGlvbiBoaWRlKCkge1xuXHRlbWl0KCdoaWRlJyk7XG59XG5jb25zdCBvcGVuZWQgPSBjb21wdXRlZCh7XG5cdGdldDogKCkgPT4gcHJvcHMub3Blbixcblx0c2V0KHYpIHsgZW1pdCgndXBkYXRlOm9wZW4nLCBCb29sZWFuKHYpKTsgfSxcbn0pO1xuY29uc3QgdHQgPSBfXztcblxuPC9zY3JpcHQ+XG48c3R5bGUgbW9kdWxlIGxhbmc9XCJsZXNzXCI+XG4uaGVhZGVyIHtcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleC13cmFwOiB3cmFwO1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdHotaW5kZXg6IDY7XG5cdHBvc2l0aW9uOiBzdGlja3k7XG5cdHRvcDogMDtcblx0Ym94LXNoYWRvdzogdmFyKC0tc2hhZG93LXNtKTtcblx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7XG5cdG1hcmdpbi1ib3R0b206IDVweDtcblx0aGVpZ2h0OiA0OHB4O1xufVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTBcIjtjb25zdCBrZXkgPSBcIiRzdHlsZVwiO1xuY29uc3QgY3NzTW9kdWxlID0ge1wiaGVhZGVyXCI6XCJfaGVhZGVyX3B2ZTZ1XzFcIn07XG5leHBvcnQgZGVmYXVsdCBzY3JpcHQgPT57XG5cdGlmICghc2NyaXB0Ll9fY3NzTW9kdWxlcykge1xuXHRcdHNjcmlwdC5fX2Nzc01vZHVsZXMgPSB7fTtcblx0fVxuXHRjb25zdCBjc3NNb2R1bGVzID0gc2NyaXB0Ll9fY3NzTW9kdWxlc1xuXHRjb25zdCB2YWx1ZSA9IGtleSBpbiBjc3NNb2R1bGVzICYmIGNzc01vZHVsZXNba2V5XTtcblx0aWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcblx0XHRPYmplY3QuYXNzaWduKHZhbHVlLCBjc3NNb2R1bGUpXG5cdH0gZWxzZSB7XG5cdFx0Y3NzTW9kdWxlc1trZXldID0gY3NzTW9kdWxlO1xuXHR9XG59IiwgImltcG9ydCB7IGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBjcmVhdGVTdGF0aWNWTm9kZSBhcyBfY3JlYXRlU3RhdGljVk5vZGUgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX2hvaXN0ZWRfMSA9IHsgY2xhc3M6IFwiY29sLW1kLTQgY29sLXNtLTYgY29sLXhzLTggcGFnZS10aXRsZVwiIH1cbmNvbnN0IF9ob2lzdGVkXzIgPSBbXCJ0aXRsZVwiXVxuY29uc3QgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3ZnXCIsIHsgY2xhc3M6IFwiaWNvbiBpY29uLW1kIHNpZGViYXItdG9nZ2xlLXBsYWNlaG9sZGVyXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInVzZVwiLCB7IGhyZWY6IFwiI2ljb24tbWVudVwiIH0pXG5dLCAtMSAvKiBIT0lTVEVEICovKVxuY29uc3QgX2hvaXN0ZWRfNCA9IHsgY2xhc3M6IFwiaWNvbiBpY29uLW1kXCIgfVxuY29uc3QgX2hvaXN0ZWRfNSA9IHtcbiAga2V5OiAwLFxuICBocmVmOiBcIiNpY29uLXNpZGViYXItZXhwYW5kXCJcbn1cbmNvbnN0IF9ob2lzdGVkXzYgPSB7XG4gIGtleTogMSxcbiAgaHJlZjogXCIjaWNvbi1zaWRlYmFyLWNvbGxhcHNlXCJcbn1cbmNvbnN0IF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVN0YXRpY1ZOb2RlKFwiPGRpdiBjbGFzcz1cXFwiZmxleCBmaWxsLXdpZHRoIHRpdGxlLWFyZWFcXFwiPjxkaXY+PGRpdiBjbGFzcz1cXFwiZmxleFxcXCI+PGgzIGNsYXNzPVxcXCJlbGxpcHNpcyB0aXRsZS10ZXh0XFxcIj48L2gzPjxzcGFuIGNsYXNzPVxcXCJpbmRpY2F0b3ItcGlsbCB3aGl0ZXNwYWNlLW5vd3JhcFxcXCI+PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcImVsbGlwc2lzIHN1Yi1oZWFkaW5nIGhpZGUgdGV4dC1tdXRlZFxcXCI+PC9kaXY+PC9kaXY+PGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IG1vcmUtYnV0dG9uIGhpZGVcXFwiPjxzdmcgY2xhc3M9XFxcImljb24gaWNvbi1zbVxcXCI+PHVzZSBocmVmPVxcXCIjaWNvbi1kb3QtaG9yaXpvbnRhbFxcXCI+PC91c2U+PC9zdmc+PC9idXR0b24+PC9kaXY+XCIsIDEpXG5jb25zdCBfaG9pc3RlZF84ID0geyBjbGFzczogXCJmbGV4IGNvbCBwYWdlLWFjdGlvbnMganVzdGlmeS1jb250ZW50LWVuZFwiIH1cbmNvbnN0IF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7IGNsYXNzOiBcImN1c3RvbS1hY3Rpb25zIGhpZGUgaGlkZGVuLXhzIGhpZGRlbi1tZFwiIH0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF8xMCA9IHsgY2xhc3M6IFwic3RhbmRhcmQtYWN0aW9ucyBmbGV4XCIgfVxuY29uc3QgX2hvaXN0ZWRfMTEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgeyBjbGFzczogXCJwYWdlLWljb24tZ3JvdXAgaGlkZSBoaWRkZW4teHMgaGlkZGVuLXNtXCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzEyID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgeyBjbGFzczogXCJtZW51LWJ0bi1ncm91cCBoaWRlXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzczogXCJidG4gYnRuLWRlZmF1bHQgaWNvbi1idG5cIixcbiAgICBcImRhdGEtdG9nZ2xlXCI6IFwiZHJvcGRvd25cIixcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG4gIH0sIFtcbiAgICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgbnVsbCwgW1xuICAgICAgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJzcGFuXCIsIHsgY2xhc3M6IFwibWVudS1idG4tZ3JvdXAtbGFiZWxcIiB9LCBbXG4gICAgICAgIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3ZnXCIsIHsgY2xhc3M6IFwiaWNvbiBpY29uLXNtXCIgfSwgW1xuICAgICAgICAgIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwidXNlXCIsIHsgaHJlZjogXCIjaWNvbi1kb3QtaG9yaXpvbnRhbFwiIH0pXG4gICAgICAgIF0pXG4gICAgICBdKVxuICAgIF0pXG4gIF0pLFxuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInVsXCIsIHtcbiAgICBjbGFzczogXCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIixcbiAgICByb2xlOiBcIm1lbnVcIlxuICB9KVxuXSwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzEzID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJidXR0b25cIiwgeyBjbGFzczogXCJidG4gYnRuLXNlY29uZGFyeSBidG4tZGVmYXVsdCBidG4tc20gaGlkZVwiIH0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF8xNCA9IHsgY2xhc3M6IFwiYWN0aW9ucy1idG4tZ3JvdXAgaGlkZVwiIH1cbmNvbnN0IF9ob2lzdGVkXzE1ID0ge1xuICB0eXBlOiBcImJ1dHRvblwiLFxuICBjbGFzczogXCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIsXG4gIFwiZGF0YS10b2dnbGVcIjogXCJkcm9wZG93blwiLFxuICBcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG59XG5jb25zdCBfaG9pc3RlZF8xNiA9IHsgY2xhc3M6IFwiYWN0aW9ucy1idG4tZ3JvdXAtbGFiZWxcIiB9XG5jb25zdCBfaG9pc3RlZF8xNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3ZnXCIsIHsgY2xhc3M6IFwiaWNvbiBpY29uLXhzXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInVzZVwiLCB7IGhyZWY6IFwiI2ljb24tc2VsZWN0XCIgfSlcbl0sIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF8xOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwidWxcIiwge1xuICBjbGFzczogXCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIixcbiAgcm9sZTogXCJtZW51XCJcbn0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF8xOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBoaWRlIHByaW1hcnktYWN0aW9uXCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwge1xuICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoX2N0eC4kc3R5bGUuaGVhZGVyKVxuICB9LCBbXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgICBfY3JlYXRlQ29tbWVudFZOb2RlKFwiIDxkaXYgY2xhc3M9XFxcInRpdGxlLWltYWdlIGhpZGUgaGlkZGVuLW1kIGhpZGRlbi1sZ1xcXCI+PC9kaXY+IFwiKSxcbiAgICAgIF9jcmVhdGVDb21tZW50Vk5vZGUoXCIgdGl0bGUgXCIpLFxuICAgICAgKCRwcm9wcy5oYXNTaWRlcilcbiAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICBjbGFzczogXCJzaWRlYmFyLXRvZ2dsZS1idG5cIixcbiAgICAgICAgICAgIHRpdGxlOiAkc2V0dXAudHQoJ1RvZ2dsZSBTaWRlYmFyJylcbiAgICAgICAgICB9LCBbXG4gICAgICAgICAgICBfaG9pc3RlZF8zLFxuICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJzaWRlYmFyLXRvZ2dsZS1pY29uXCIsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+ICgkc2V0dXAub3BlbmVkID0gISRzZXR1cC5vcGVuZWQpKVxuICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwic3ZnXCIsIF9ob2lzdGVkXzQsIFtcbiAgICAgICAgICAgICAgICAoJHByb3BzLm9wZW4pXG4gICAgICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJ1c2VcIiwgX2hvaXN0ZWRfNSkpXG4gICAgICAgICAgICAgICAgICA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJ1c2VcIiwgX2hvaXN0ZWRfNikpXG4gICAgICAgICAgICAgIF0pKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICBdLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8yKSlcbiAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKSxcbiAgICAgIF9ob2lzdGVkXzdcbiAgICBdKSxcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzgsIFtcbiAgICAgIF9jcmVhdGVDb21tZW50Vk5vZGUoXCIgYnV0dG9ucyBcIiksXG4gICAgICBfaG9pc3RlZF85LFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8xMCwgW1xuICAgICAgICBfaG9pc3RlZF8xMSxcbiAgICAgICAgX2hvaXN0ZWRfMTIsXG4gICAgICAgIF9ob2lzdGVkXzEzLFxuICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzE0LCBbXG4gICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImJ1dHRvblwiLCBfaG9pc3RlZF8xNSwgW1xuICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgbnVsbCwgW1xuICAgICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBfaG9pc3RlZF8xNiwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAudHQoJ0FjdGlvbnMnKSksIDEgLyogVEVYVCAqLyksXG4gICAgICAgICAgICAgIF9ob2lzdGVkXzE3XG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF9ob2lzdGVkXzE4XG4gICAgICAgIF0pLFxuICAgICAgICBfaG9pc3RlZF8xOSxcbiAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImJ1dHRvblwiLCB7XG4gICAgICAgICAgY2xhc3M6IFwiYnRuIGJ0bi1zbVwiLFxuICAgICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5oaWRlXG4gICAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnR0KCdDbG9zZScpKSwgMSAvKiBURVhUICovKVxuICAgICAgXSlcbiAgICBdKVxuICBdLCAyIC8qIENMQVNTICovKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZVwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiLy8gQ29weXJpZ2h0IChjKSAyMDE1LCBGcmFwcGUgVGVjaG5vbG9naWVzIFB2dC4gTHRkLiBhbmQgQ29udHJpYnV0b3JzXG4vLyBNSVQgTGljZW5zZS4gU2VlIGxpY2Vuc2UudHh0XG5cbmltcG9ydCB0eXBlIEZvcm0gZnJvbSAnLi9Gb3JtJztcblxuY2xhc3MgRm9vdGVyIHtcblx0Y29uc3RydWN0b3Iob3B0czoge1xuXHRcdGZybTogRm9ybTtcblx0XHRwYXJlbnQ6IEpRdWVyeTtcblx0fSkge1xuXHRcdCQuZXh0ZW5kKHRoaXMsIG9wdHMpO1xuXHRcdHRoaXMubWFrZSgpO1xuXHRcdHRoaXMubWFrZV9jb21tZW50X2JveCgpO1xuXHRcdHRoaXMubWFrZV90aW1lbGluZSgpO1xuXHRcdC8vIHJlbmRlci1jb21wbGV0ZVxuXHRcdCQodGhpcy5mcm0ud3JhcHBlcikub24oJ3JlbmRlcl9jb21wbGV0ZScsICgpID0+IHtcblx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdH0pO1xuXHR9XG5cdG1ha2UoKSB7XG5cdFx0Y29uc3Qgd3JhcHBlciA9ICQoYDxkaXYgY2xhc3M9XCJmb3JtLWZvb3RlclwiPlxuXHQ8ZGl2IGNsYXNzPVwiYWZ0ZXItc2F2ZVwiPlxuXHRcdDxkaXYgY2xhc3M9XCJjb21tZW50LWJveFwiPjwvZGl2PlxuXHRcdDxkaXYgY2xhc3M9XCJ0aW1lbGluZVwiPjwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PmApLmFwcGVuZFRvKHRoaXMucGFyZW50KTtcblx0XHRjb25zdCB0b1RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdHRvVG9wLmNsYXNzTmFtZSA9ICdzY3JvbGwtdG8tdG9wIGJ0biBidG4tZGVmYXVsdCBpY29uLWJ0bic7XG5cdFx0dG9Ub3AuaW5uZXJIVE1MID0gJzxzdmcgY2xhc3M9XCJpY29uIGljb24teHNcIj48dXNlIGhyZWY9XCIjaWNvbi11cC1saW5lXCI+PC91c2U+PC9zdmc+Jztcblx0XHR0b1RvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGxldCBlOiBIVE1MRWxlbWVudCB8IG51bGwgPSB0b1RvcDtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuXHRcdFx0d2hpbGUgKGUgPSBlLnBhcmVudEVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGUuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5zY3JvbGxfdG8oMCwgdHJ1ZSwgMCwgJChlKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d3JhcHBlci5hcHBlbmQodG9Ub3ApO1xuXHRcdHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XG5cdFx0d3JhcHBlci5maW5kKCcuYnRuLXNhdmUnKS5vbignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmZybS5zYXZlKCdTYXZlJywgbnVsbCwgdGhpcyk7XG5cdFx0fSk7XG5cdH1cblx0bWFrZV9jb21tZW50X2JveCgpIHtcblx0XHRmcmFwcGUudWkuZm9ybS5Gb290ZXIucHJvdG90eXBlLm1ha2VfY29tbWVudF9ib3guY2FsbCh0aGlzKTtcblxuXHR9XG5cdG1ha2VfdGltZWxpbmUoKSB7XG5cdFx0ZnJhcHBlLnVpLmZvcm0uRm9vdGVyLnByb3RvdHlwZS5tYWtlX3RpbWVsaW5lLmNhbGwodGhpcyk7XG5cdH1cblx0cmVmcmVzaCgpIHtcblx0XHRmcmFwcGUudWkuZm9ybS5Gb290ZXIucHJvdG90eXBlLnJlZnJlc2guY2FsbCh0aGlzKTtcblx0fVxufVxuaW50ZXJmYWNlIEZvb3RlciB7XG5cdGZybTogRm9ybTtcblx0cGFyZW50OiBKUXVlcnk7XG5cdHdyYXBwZXI6IEpRdWVyeTtcbn1cbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMgKi9cbi8vIENvcHlyaWdodCAoYykgMjAxNSwgRnJhcHBlIFRlY2hub2xvZ2llcyBQdnQuIEx0ZC4gYW5kIENvbnRyaWJ1dG9yc1xuLy8gTUlUIExpY2Vuc2UuIFNlZSBsaWNlbnNlLnR4dFxuXG5cbmNsYXNzIFBhZ2Uge1xuXHRzZXRfZG9jdW1lbnRfdGl0bGUgPSB0cnVlO1xuXHRidXR0b25zID0ge307XG5cdGZpZWxkc19kaWN0ID0ge307XG5cdHZpZXdzOiBSZWNvcmQ8c3RyaW5nLCBKUXVlcnk+ID0ge307XG5cdGNvbnN0cnVjdG9yKHBhcmVudDogSFRNTEVsZW1lbnQsIHNpbmdsZV9jb2x1bW4/OiBib29sZWFuIHwgMCB8IDEpIHtcblx0XHR0aGlzLnBhcmVudCA9IHBhcmVudDtcblx0XHR0aGlzLnNpbmdsZV9jb2x1bW4gPSBzaW5nbGVfY29sdW1uID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdC8vIGZyYXBwZS51aS5wYWdlc1tmcmFwcGUuZ2V0X3JvdXRlX3N0cigpXSA9IHRoaXM7XG5cdFx0dGhpcy53cmFwcGVyID0gJChwYXJlbnQpO1xuXHRcdGNvbnN0IG1haW5WaWV3ID0gJCh0aGlzLndyYXBwZXIpXG5cdFx0XHQuZmluZCgnLnBhZ2UtY29udGVudCcpLmZpbmQoJy5yb3cubGF5b3V0LW1haW4nKTtcblxuXHRcdHRoaXMudmlld3MubWFpbiA9IG1haW5WaWV3O1xuXHRcdHRoaXMuY3VycmVudF92aWV3ID0gbWFpblZpZXc7XG5cdFx0dGhpcy5zZXR1cF9wYWdlKCk7XG5cdFx0dGhpcy5zZXR1cF9zY3JvbGxfaGFuZGxlcigpO1xuXHRcdHRoaXMuc2V0dXBfc2lkZWJhcl90b2dnbGUoKTtcblx0fVxuXG5cdHNldHVwX3Njcm9sbF9oYW5kbGVyKCkgeyB9XG5cblx0Z2V0X2VtcHR5X3N0YXRlKHRpdGxlLCBtZXNzYWdlLCBwcmltYXJ5X2FjdGlvbikge1xuXHRcdGxldCAkZW1wdHlfc3RhdGUgPSAkKGA8ZGl2IGNsYXNzPVwicGFnZS1jYXJkLWNvbnRhaW5lclwiPlxuXHRcdFx0PGRpdiBjbGFzcz1cInBhZ2UtY2FyZFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFnZS1jYXJkLWhlYWRcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImluZGljYXRvciBibHVlXCI+XG5cdFx0XHRcdFx0XHQke3RpdGxlfTwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxwPiR7bWVzc2FnZX08L3A+XG5cdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIj4ke3ByaW1hcnlfYWN0aW9ufTwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PmApO1xuXG5cdFx0cmV0dXJuICRlbXB0eV9zdGF0ZTtcblx0fVxuXG5cdGxvYWRfbGliKGNhbGxiYWNrKSB7XG5cdFx0ZnJhcHBlLnJlcXVpcmUodGhpcy5yZXF1aXJlZF9saWJzLCBjYWxsYmFjayk7XG5cdH1cblxuXHRhZGRfbWFpbl9zZWN0aW9uKCkgeyB9XG5cblx0c2V0dXBfcGFnZSgpIHtcblx0XHR0aGlzLiR0aXRsZV9hcmVhID0gdGhpcy53cmFwcGVyLmZpbmQoJy50aXRsZS1hcmVhJyk7XG5cblx0XHR0aGlzLiRzdWJfdGl0bGVfYXJlYSA9IHRoaXMud3JhcHBlci5maW5kKCdoNicpO1xuXG5cdFx0dGhpcy5ib2R5ID0gdGhpcy5tYWluID0gdGhpcy53cmFwcGVyLmZpbmQoJy5sYXlvdXQtbWFpbi1zZWN0aW9uJyk7XG5cdFx0dGhpcy5jb250YWluZXIgPSB0aGlzLndyYXBwZXIuZmluZCgnLnBhZ2UtYm9keScpO1xuXHRcdHRoaXMuc2lkZWJhciA9IHRoaXMud3JhcHBlci5maW5kKCcubGF5b3V0LXNpZGUtc2VjdGlvbicpO1xuXHRcdHRoaXMuZm9vdGVyID0gdGhpcy53cmFwcGVyLmZpbmQoJy5sYXlvdXQtZm9vdGVyJyk7XG5cdFx0dGhpcy5pbmRpY2F0b3IgPSB0aGlzLndyYXBwZXIuZmluZCgnLmluZGljYXRvci1waWxsJyk7XG5cblx0XHR0aGlzLnBhZ2VfYWN0aW9ucyA9IHRoaXMud3JhcHBlci5maW5kKCcucGFnZS1hY3Rpb25zJyk7XG5cblx0XHR0aGlzLmJ0bl9wcmltYXJ5ID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLnByaW1hcnktYWN0aW9uJyk7XG5cdFx0dGhpcy5idG5fc2Vjb25kYXJ5ID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLmJ0bi1zZWNvbmRhcnknKTtcblxuXHRcdHRoaXMubWVudSA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5tZW51LWJ0bi1ncm91cCAuZHJvcGRvd24tbWVudScpO1xuXHRcdHRoaXMubWVudV9idG5fZ3JvdXAgPSB0aGlzLnBhZ2VfYWN0aW9ucy5maW5kKCcubWVudS1idG4tZ3JvdXAnKTtcblxuXHRcdHRoaXMuYWN0aW9ucyA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5hY3Rpb25zLWJ0bi1ncm91cCAuZHJvcGRvd24tbWVudScpO1xuXHRcdHRoaXMuYWN0aW9uc19idG5fZ3JvdXAgPSB0aGlzLnBhZ2VfYWN0aW9ucy5maW5kKCcuYWN0aW9ucy1idG4tZ3JvdXAnKTtcblxuXHRcdHRoaXMuc3RhbmRhcmRfYWN0aW9ucyA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5zdGFuZGFyZC1hY3Rpb25zJyk7XG5cdFx0dGhpcy5jdXN0b21fYWN0aW9ucyA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5jdXN0b20tYWN0aW9ucycpO1xuXG5cdFx0dGhpcy5wYWdlX2Zvcm0gPSAkKCc8ZGl2IGNsYXNzPVwicGFnZS1mb3JtIHJvdyBoaWRlXCI+PC9kaXY+JykucHJlcGVuZFRvKHRoaXMubWFpbik7XG5cdFx0dGhpcy5pbm5lcl90b29sYmFyID0gdGhpcy5jdXN0b21fYWN0aW9ucztcblx0XHR0aGlzLmljb25fZ3JvdXAgPSB0aGlzLnBhZ2VfYWN0aW9ucy5maW5kKCcucGFnZS1pY29uLWdyb3VwJyk7XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdFx0dGhpcy5jYXJkX2xheW91dCAmJiB0aGlzLm1haW4uYWRkQ2xhc3MoJ2ZyYXBwZS1jYXJkJyk7XG5cblx0XHQvLyBrZXlib2FyZCBzaG9ydGN1dHNcblx0XHRsZXQgbWVudV9idG4gPSB0aGlzLm1lbnVfYnRuX2dyb3VwLmZpbmQoJ2J1dHRvbicpO1xuXHRcdG1lbnVfYnRuLmF0dHIoJ3RpdGxlJywgX18oJ01lbnUnKSkudG9vbHRpcCh7IGRlbGF5OiB7IHNob3c6IDYwMCwgaGlkZTogMTAwIH0gfSk7XG5cdFx0ZnJhcHBlLnVpLmtleXNcblx0XHRcdC5nZXRfc2hvcnRjdXRfZ3JvdXAodGhpcy5wYWdlX2FjdGlvbnNbMF0pXG5cdFx0XHQuYWRkKG1lbnVfYnRuLCBtZW51X2J0bi5maW5kKCcubWVudS1idG4tZ3JvdXAtbGFiZWwnKSk7XG5cblx0XHRsZXQgYWN0aW9uX2J0biA9IHRoaXMuYWN0aW9uc19idG5fZ3JvdXAuZmluZCgnYnV0dG9uJyk7XG5cdFx0ZnJhcHBlLnVpLmtleXNcblx0XHRcdC5nZXRfc2hvcnRjdXRfZ3JvdXAodGhpcy5wYWdlX2FjdGlvbnNbMF0pXG5cdFx0XHQuYWRkKGFjdGlvbl9idG4sIGFjdGlvbl9idG4uZmluZCgnLmFjdGlvbnMtYnRuLWdyb3VwLWxhYmVsJykpO1xuXHR9XG5cblx0c2V0dXBfc2lkZWJhcl90b2dnbGUoKSB7XG5cdFx0bGV0IHNpZGViYXJfdG9nZ2xlID0gdGhpcy53cmFwcGVyLmZpbmQoJy5ndWlndS1mb3JtLWRldGFpbC1wYWdlLWhlYWQgJykuZmluZCgnLnNpZGViYXItdG9nZ2xlLWJ0bicpO1xuXHRcdGxldCBzaWRlYmFyX3dyYXBwZXIgPSB0aGlzLndyYXBwZXIuZmluZCgnLmxheW91dC1zaWRlLXNlY3Rpb24nKTtcblx0XHRzaWRlYmFyX3RvZ2dsZS5jbGljaygoKSA9PiB7XG5cdFx0XHQkKGRvY3VtZW50LmJvZHkpLnRyaWdnZXIoJ3RvZ2dsZVNpZGViYXInKTtcblx0XHRcdHRoaXMudXBkYXRlX3NpZGViYXJfaWNvbigpO1xuXHRcdH0pO1xuXHR9XG5cdHNldHVwX292ZXJsYXlfc2lkZWJhcigpIHtcblx0fVxuXG5cdHVwZGF0ZV9zaWRlYmFyX2ljb24oKSB7XG5cdFx0bGV0IHNpZGViYXJfdG9nZ2xlID0gJCgnLnBhZ2UtaGVhZCcpLmZpbmQoJy5zaWRlYmFyLXRvZ2dsZS1idG4nKTtcblx0XHRsZXQgc2lkZWJhcl90b2dnbGVfaWNvbiA9IHNpZGViYXJfdG9nZ2xlLmZpbmQoJy5zaWRlYmFyLXRvZ2dsZS1pY29uJyk7XG5cdFx0bGV0IHNpZGViYXJfd3JhcHBlciA9IHRoaXMud3JhcHBlci5maW5kKCcubGF5b3V0LXNpZGUtc2VjdGlvbicpO1xuXHRcdGxldCBpc19zaWRlYmFyX3Zpc2libGUgPSAkKHNpZGViYXJfd3JhcHBlcikuaXMoJzp2aXNpYmxlJyk7XG5cdFx0c2lkZWJhcl90b2dnbGVfaWNvbi5odG1sKFxuXHRcdFx0ZnJhcHBlLnV0aWxzLmljb24oaXNfc2lkZWJhcl92aXNpYmxlID8gJ3NpZGViYXItY29sbGFwc2UnIDogJ3NpZGViYXItZXhwYW5kJywgJ21kJyksXG5cdFx0KTtcblx0fVxuXG5cdHNldF9pbmRpY2F0b3IobGFiZWwsIGNvbG9yKSB7XG5cdFx0dGhpcy5jbGVhcl9pbmRpY2F0b3IoKS5yZW1vdmVDbGFzcygnaGlkZScpLmh0bWwoYDxzcGFuPiR7bGFiZWx9PC9zcGFuPmApXG5cdFx0XHQuYWRkQ2xhc3MoY29sb3IpO1xuXHR9XG5cblx0YWRkX2FjdGlvbl9pY29uKGljb24sIGNsaWNrLCBjc3NfY2xhc3MgPSAnJywgdG9vbHRpcF9sYWJlbCkge1xuXHRcdGNvbnN0IGJ1dHRvbiA9ICQoYFxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cInRleHQtbXV0ZWQgYnRuIGJ0bi1kZWZhdWx0ICR7Y3NzX2NsYXNzfSBpY29uLWJ0blwiPlxuXHRcdFx0XHQke2ZyYXBwZS51dGlscy5pY29uKGljb24pfVxuXHRcdFx0PC9idXR0b24+XG5cdFx0YCk7XG5cblx0XHRidXR0b24uYXBwZW5kVG8odGhpcy5pY29uX2dyb3VwLnJlbW92ZUNsYXNzKCdoaWRlJykpO1xuXHRcdGJ1dHRvbi5jbGljayhjbGljayk7XG5cdFx0YnV0dG9uXG5cdFx0XHQuYXR0cigndGl0bGUnLCBfXyh0b29sdGlwX2xhYmVsIHx8IGZyYXBwZS51bnNjcnViKGljb24pKSlcblx0XHRcdC50b29sdGlwKHsgZGVsYXk6IHsgc2hvdzogNjAwLCBoaWRlOiAxMDAgfSwgdHJpZ2dlcjogJ2hvdmVyJyB9KTtcblxuXHRcdHJldHVybiBidXR0b247XG5cdH1cblxuXHRjbGVhcl9pbmRpY2F0b3IoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5kaWNhdG9yLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2luZGljYXRvci1waWxsIHdoaXRlc3BhY2Utbm93cmFwIGhpZGUnKTtcblx0fVxuXG5cdGdldF9pY29uX2xhYmVsKGljb24sIGxhYmVsKSB7XG5cdFx0bGV0IGljb25fbmFtZSA9IGljb247XG5cdFx0bGV0IHNpemUgPSAneHMnO1xuXHRcdGlmICh0eXBlb2YgaWNvbiA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGljb25fbmFtZSA9IGljb24uaWNvbjtcblx0XHRcdHNpemUgPSBpY29uLnNpemUgfHwgJ3hzJztcblx0XHR9XG5cdFx0cmV0dXJuIGAke2ljb24gPyBmcmFwcGUudXRpbHMuaWNvbihpY29uX25hbWUsIHNpemUpIDogJyd9IDxzcGFuIGNsYXNzPVwiaGlkZGVuLXhzXCI+ICR7X18oXG5cdFx0XHRsYWJlbCxcblx0XHQpfSA8L3NwYW4+YDtcblx0fVxuXG5cdHNldF9hY3Rpb24oYnRuLCBvcHRzKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRpZiAob3B0cy5pY29uKSB7XG5cdFx0XHRvcHRzLmxhYmVsID0gdGhpcy5nZXRfaWNvbl9sYWJlbChvcHRzLmljb24sIG9wdHMubGFiZWwpO1xuXHRcdH1cblxuXHRcdHRoaXMuY2xlYXJfYWN0aW9uX29mKGJ0bik7XG5cblx0XHRidG4ucmVtb3ZlQ2xhc3MoJ2hpZGUnKVxuXHRcdFx0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpXG5cdFx0XHQuaHRtbChvcHRzLmxhYmVsKVxuXHRcdFx0Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bGV0IHJlc3BvbnNlID0gb3B0cy5jbGljay5hcHBseSh0aGlzLCBbYnRuXSk7XG5cdFx0XHRcdG1lLmJ0bl9kaXNhYmxlX2VuYWJsZShidG4sIHJlc3BvbnNlKTtcblx0XHRcdH0pO1xuXG5cdFx0aWYgKG9wdHMud29ya2luZ19sYWJlbCkge1xuXHRcdFx0YnRuLmF0dHIoJ2RhdGEtd29ya2luZy1sYWJlbCcsIG9wdHMud29ya2luZ19sYWJlbCk7XG5cdFx0fVxuXG5cdFx0Ly8gYWx0IHNob3J0Y3V0c1xuXHRcdGxldCB0ZXh0X3NwYW4gPSBidG4uZmluZCgnc3BhbicpO1xuXHRcdGZyYXBwZS51aS5rZXlzLmdldF9zaG9ydGN1dF9ncm91cCh0aGlzKS5hZGQoYnRuLCB0ZXh0X3NwYW4ubGVuZ3RoID8gdGV4dF9zcGFuIDogYnRuKTtcblx0fVxuXG5cdHNldF9wcmltYXJ5X2FjdGlvbihsYWJlbCwgY2xpY2ssIGljb24sIHdvcmtpbmdfbGFiZWwpIHtcblx0XHR0aGlzLnNldF9hY3Rpb24odGhpcy5idG5fcHJpbWFyeSwge1xuXHRcdFx0bGFiZWwsXG5cdFx0XHRjbGljayxcblx0XHRcdGljb24sXG5cdFx0XHR3b3JraW5nX2xhYmVsLFxuXHRcdH0pO1xuXHRcdHJldHVybiB0aGlzLmJ0bl9wcmltYXJ5O1xuXHR9XG5cblx0c2V0X3NlY29uZGFyeV9hY3Rpb24obGFiZWwsIGNsaWNrLCBpY29uLCB3b3JraW5nX2xhYmVsKSB7XG5cdFx0dGhpcy5zZXRfYWN0aW9uKHRoaXMuYnRuX3NlY29uZGFyeSwge1xuXHRcdFx0bGFiZWwsXG5cdFx0XHRjbGljayxcblx0XHRcdGljb24sXG5cdFx0XHR3b3JraW5nX2xhYmVsLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuYnRuX3NlY29uZGFyeTtcblx0fVxuXG5cdGNsZWFyX2FjdGlvbl9vZihidG4pIHtcblx0XHRidG4uYWRkQ2xhc3MoJ2hpZGUnKS51bmJpbmQoJ2NsaWNrJykucmVtb3ZlQXR0cignZGF0YS13b3JraW5nLWxhYmVsJyk7XG5cdH1cblxuXHRjbGVhcl9wcmltYXJ5X2FjdGlvbigpIHtcblx0XHR0aGlzLmNsZWFyX2FjdGlvbl9vZih0aGlzLmJ0bl9wcmltYXJ5KTtcblx0fVxuXG5cdGNsZWFyX3NlY29uZGFyeV9hY3Rpb24oKSB7XG5cdFx0dGhpcy5jbGVhcl9hY3Rpb25fb2YodGhpcy5idG5fc2Vjb25kYXJ5KTtcblx0fVxuXG5cdGNsZWFyX2FjdGlvbnMoKSB7XG5cdFx0dGhpcy5jbGVhcl9wcmltYXJ5X2FjdGlvbigpO1xuXHRcdHRoaXMuY2xlYXJfc2Vjb25kYXJ5X2FjdGlvbigpO1xuXHR9XG5cblx0Y2xlYXJfY3VzdG9tX2FjdGlvbnMoKSB7XG5cdFx0dGhpcy5jdXN0b21fYWN0aW9ucy5hZGRDbGFzcygnaGlkZScpLmVtcHR5KCk7XG5cdH1cblxuXHRjbGVhcl9pY29ucygpIHtcblx0XHR0aGlzLmljb25fZ3JvdXAuYWRkQ2xhc3MoJ2hpZGUnKS5lbXB0eSgpO1xuXHR9XG5cblx0Ly8tLS0gTWVudSAtLS8vXG5cblx0YWRkX21lbnVfaXRlbShsYWJlbCwgY2xpY2ssIHN0YW5kYXJkLCBzaG9ydGN1dCwgc2hvd19wYXJlbnQpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGRfZHJvcGRvd25faXRlbSh7XG5cdFx0XHRsYWJlbCxcblx0XHRcdGNsaWNrLFxuXHRcdFx0c3RhbmRhcmQsXG5cdFx0XHRwYXJlbnQ6IHRoaXMubWVudSxcblx0XHRcdHNob3J0Y3V0LFxuXHRcdFx0c2hvd19wYXJlbnQsXG5cdFx0fSk7XG5cdH1cblxuXHRhZGRfY3VzdG9tX21lbnVfaXRlbShwYXJlbnQsIGxhYmVsLCBjbGljaywgc3RhbmRhcmQsIHNob3J0Y3V0LCBpY29uID0gbnVsbCkge1xuXHRcdHJldHVybiB0aGlzLmFkZF9kcm9wZG93bl9pdGVtKHtcblx0XHRcdGxhYmVsLFxuXHRcdFx0Y2xpY2ssXG5cdFx0XHRzdGFuZGFyZCxcblx0XHRcdHBhcmVudCxcblx0XHRcdHNob3J0Y3V0LFxuXHRcdFx0aWNvbixcblx0XHR9KTtcblx0fVxuXG5cdGNsZWFyX21lbnUoKSB7XG5cdFx0dGhpcy5jbGVhcl9idG5fZ3JvdXAodGhpcy5tZW51KTtcblx0fVxuXG5cdHNob3dfbWVudSgpIHtcblx0XHR0aGlzLm1lbnVfYnRuX2dyb3VwLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRoaWRlX21lbnUoKSB7XG5cdFx0dGhpcy5tZW51X2J0bl9ncm91cC5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0c2hvd19pY29uX2dyb3VwKCkge1xuXHRcdHRoaXMuaWNvbl9ncm91cC5yZW1vdmVDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0aGlkZV9pY29uX2dyb3VwKCkge1xuXHRcdHRoaXMuaWNvbl9ncm91cC5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0Ly8tLS0gQWN0aW9ucyBNZW51LS0vL1xuXG5cdHNob3dfYWN0aW9uc19tZW51KCkge1xuXHRcdHRoaXMuYWN0aW9uc19idG5fZ3JvdXAucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdGhpZGVfYWN0aW9uc19tZW51KCkge1xuXHRcdHRoaXMuYWN0aW9uc19idG5fZ3JvdXAuYWRkQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdGFkZF9hY3Rpb25faXRlbShsYWJlbCwgY2xpY2ssIHN0YW5kYXJkKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkX2Ryb3Bkb3duX2l0ZW0oe1xuXHRcdFx0bGFiZWwsXG5cdFx0XHRjbGljayxcblx0XHRcdHN0YW5kYXJkLFxuXHRcdFx0cGFyZW50OiB0aGlzLmFjdGlvbnMsXG5cdFx0fSk7XG5cdH1cblxuXHRhZGRfYWN0aW9uc19tZW51X2l0ZW0obGFiZWwsIGNsaWNrLCBzdGFuZGFyZCwgc2hvcnRjdXQpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGRfZHJvcGRvd25faXRlbSh7XG5cdFx0XHRsYWJlbCxcblx0XHRcdGNsaWNrLFxuXHRcdFx0c3RhbmRhcmQsXG5cdFx0XHRzaG9ydGN1dCxcblx0XHRcdHBhcmVudDogdGhpcy5hY3Rpb25zLFxuXHRcdFx0c2hvd19wYXJlbnQ6IGZhbHNlLFxuXHRcdH0pO1xuXHR9XG5cblx0Y2xlYXJfYWN0aW9uc19tZW51KCkge1xuXHRcdHRoaXMuY2xlYXJfYnRuX2dyb3VwKHRoaXMuYWN0aW9ucyk7XG5cdH1cblxuXHQvLy0tIEdlbmVyaWMgLS0vL1xuXG5cdC8qXG5cdCAqIEFkZCBsYWJlbCB0byBnaXZlbiBkcm9wIGRvd24gbWVudS4gSWYgbGFiZWwsIGlzIGFscmVhZHkgY29udGFpbmVkIGluIHRoZSBkcm9wXG5cdCAqIGRvd24gbWVudSwgaXQgd2lsbCBiZSBpZ25vcmVkLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgLSBUZXh0IGZvciB0aGUgZHJvcCBkb3duIG1lbnVcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2xpY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBgbGFiZWxgIGlzIGNsaWNrZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSBzdGFuZGFyZFxuXHQgKiBAcGFyYW0ge29iamVjdH0gcGFyZW50IC0gRE9NIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBhcmVudCBvZiB0aGUgZHJvcCBkb3duIGl0ZW0gbGlzdHNcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNob3J0Y3V0IC0gS2V5Ym9hcmQgc2hvcnRjdXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gc2hvd19wYXJlbnQgLSBXaGV0aGVyIHRvIHNob3cgdGhlIGRyb3Bkb3duIGJ1dHRvbiBpZiBkcm9wZG93biBpdGVtIGlzIGFkZGVkXG5cdCAqL1xuXHRhZGRfZHJvcGRvd25faXRlbSh7XG5cdFx0bGFiZWwsXG5cdFx0Y2xpY2ssXG5cdFx0c3RhbmRhcmQsXG5cdFx0cGFyZW50LFxuXHRcdHNob3J0Y3V0LFxuXHRcdHNob3dfcGFyZW50ID0gdHJ1ZSxcblx0XHRpY29uID0gbnVsbCxcblx0fSkge1xuXHRcdGlmIChzaG93X3BhcmVudCkge1xuXHRcdFx0cGFyZW50LnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoaWRlIGhpZGRlbi14bCcpO1xuXHRcdH1cblxuXHRcdGxldCAkbGluayA9IHRoaXMuaXNfaW5fZ3JvdXBfYnV0dG9uX2Ryb3Bkb3duKHBhcmVudCwgJ2xpID4gYS5ncmV5LWxpbmsgPiBzcGFuJywgbGFiZWwpO1xuXHRcdGlmICgkbGluaykgeyByZXR1cm4gJGxpbms7IH1cblxuXHRcdGxldCAkbGk7XG5cdFx0bGV0ICRpY29uID0gYGA7XG5cblx0XHRpZiAoaWNvbikge1xuXHRcdFx0JGljb24gPSBgPHNwYW4gY2xhc3M9XCJtZW51LWl0ZW0taWNvblwiPiR7ZnJhcHBlLnV0aWxzLmljb24oaWNvbil9PC9zcGFuPmA7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3J0Y3V0KSB7XG5cdFx0XHRsZXQgc2hvcnRjdXRfb2JqID0gdGhpcy5wcmVwYXJlX3Nob3J0Y3V0X29iaihzaG9ydGN1dCwgY2xpY2ssIGxhYmVsKTtcblx0XHRcdCRsaSA9ICQoYFxuXHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0PGEgY2xhc3M9XCJncmV5LWxpbmsgZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCIgb25DbGljaz1cInJldHVybiBmYWxzZTtcIj5cblx0XHRcdFx0XHRcdCR7JGljb259XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1lbnUtaXRlbS1sYWJlbFwiPiR7bGFiZWx9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PGtiZCBjbGFzcz1cInB1bGwtcmlnaHRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+JHtzaG9ydGN1dF9vYmouc2hvcnRjdXRfbGFiZWx9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9rYmQ+XG5cdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0YCk7XG5cdFx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoc2hvcnRjdXRfb2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JGxpID0gJChgXG5cdFx0XHRcdDxsaT5cblx0XHRcdFx0XHQ8YSBjbGFzcz1cImdyZXktbGluayBkcm9wZG93bi1pdGVtXCIgaHJlZj1cIiNcIiBvbkNsaWNrPVwicmV0dXJuIGZhbHNlO1wiPlxuXHRcdFx0XHRcdFx0JHskaWNvbn1cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibWVudS1pdGVtLWxhYmVsXCI+JHtsYWJlbH08L3NwYW4+XG5cdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0YCk7XG5cdFx0fVxuXG5cdFx0JGxpbmsgPSAkbGkuZmluZCgnYScpLm9uKCdjbGljaycsIGUgPT4ge1xuXHRcdFx0aWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcblx0XHRcdFx0ZnJhcHBlLm9wZW5faW5fbmV3X3RhYiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY2xpY2soKTtcblx0XHR9KTtcblxuXHRcdGlmIChzdGFuZGFyZCkge1xuXHRcdFx0JGxpLmFwcGVuZFRvKHBhcmVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZGl2aWRlciA9IHBhcmVudC5maW5kKCcuZHJvcGRvd24tZGl2aWRlcicpO1xuXHRcdFx0aWYgKCF0aGlzLmRpdmlkZXIubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuZGl2aWRlciA9ICQoJzxsaSBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXIgdXNlci1hY3Rpb25cIj48L2xpPicpLnByZXBlbmRUbyhcblx0XHRcdFx0XHRwYXJlbnQsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQkbGkuYWRkQ2xhc3MoJ3VzZXItYWN0aW9uJykuaW5zZXJ0QmVmb3JlKHRoaXMuZGl2aWRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gYWx0IHNob3J0Y3V0XG5cdFx0ZnJhcHBlLnVpLmtleXNcblx0XHRcdC5nZXRfc2hvcnRjdXRfZ3JvdXAocGFyZW50LmdldCgwKSlcblx0XHRcdC5hZGQoJGxpbmssICRsaW5rLmZpbmQoJy5tZW51LWl0ZW0tbGFiZWwnKSk7XG5cblx0XHRyZXR1cm4gJGxpbms7XG5cdH1cblxuXHRwcmVwYXJlX3Nob3J0Y3V0X29iaihzaG9ydGN1dCwgY2xpY2ssIGxhYmVsKSB7XG5cdFx0bGV0IHNob3J0Y3V0X29iajtcblx0XHQvLyBjb252ZXJ0IHRvIG9iamVjdCwgaWYgc2hvcnRjdXQgc3RyaW5nIHBhc3NlZFxuXHRcdGlmICh0eXBlb2Ygc2hvcnRjdXQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRzaG9ydGN1dF9vYmogPSB7IHNob3J0Y3V0IH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNob3J0Y3V0X29iaiA9IHNob3J0Y3V0O1xuXHRcdH1cblx0XHQvLyBsYWJlbFxuXHRcdGlmIChmcmFwcGUudXRpbHMuaXNfbWFjKCkpIHtcblx0XHRcdHNob3J0Y3V0X29iai5zaG9ydGN1dF9sYWJlbCA9IHNob3J0Y3V0X29iai5zaG9ydGN1dC5yZXBsYWNlKCdDdHJsJywgJ1x1MjMxOCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzaG9ydGN1dF9vYmouc2hvcnRjdXRfbGFiZWwgPSBzaG9ydGN1dF9vYmouc2hvcnRjdXQ7XG5cdFx0fVxuXHRcdC8vIGFjdHVhbCBzaG9ydGN1dCBzdHJpbmdcblx0XHRzaG9ydGN1dF9vYmouc2hvcnRjdXQgPSBzaG9ydGN1dF9vYmouc2hvcnRjdXQudG9Mb3dlckNhc2UoKTtcblx0XHQvLyBhY3Rpb24gaXMgYnV0dG9uIGNsaWNrXG5cdFx0aWYgKCFzaG9ydGN1dF9vYmouYWN0aW9uKSB7XG5cdFx0XHRzaG9ydGN1dF9vYmouYWN0aW9uID0gY2xpY2s7XG5cdFx0fVxuXHRcdC8vIHNob3J0Y3V0IGRlc2NyaXB0aW9uIGNhbiBiZSBidXR0b24gbGFiZWxcblx0XHRpZiAoIXNob3J0Y3V0X29iai5kZXNjcmlwdGlvbikge1xuXHRcdFx0c2hvcnRjdXRfb2JqLmRlc2NyaXB0aW9uID0gbGFiZWw7XG5cdFx0fVxuXHRcdC8vIHBhZ2Vcblx0XHRzaG9ydGN1dF9vYmoucGFnZSA9IHRoaXM7XG5cdFx0cmV0dXJuIHNob3J0Y3V0X29iajtcblx0fVxuXG5cdC8qXG5cdCAqIENoZWNrIGlmIHRoZXJlIGFscmVhZHkgZXhpc3RzIGEgYnV0dG9uIHdpdGggYSBzcGVjaWZpZWQgbGFiZWwgaW4gYSBzcGVjaWZpZWQgYnV0dG9uIGdyb3VwXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBwYXJlbnQgLSBUaGlzIHNob3VsZCBiZSB0aGUgYHVsYCBvZiB0aGUgYnV0dG9uIGdyb3VwLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBDU1MgU2VsZWN0b3Igb2YgdGhlIGJ1dHRvbiB0byBiZSBzZWFyY2hlZCBmb3IuIEJ5IGRlZmF1bHQsIGl0IGlzIGBsaWAuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIExhYmVsIG9mIHRoZSBidXR0b25cblx0ICovXG5cdGlzX2luX2dyb3VwX2J1dHRvbl9kcm9wZG93bihwYXJlbnQsIHNlbGVjdG9yLCBsYWJlbCkge1xuXHRcdGlmICghc2VsZWN0b3IpIHsgc2VsZWN0b3IgPSAnbGknOyB9XG5cblx0XHRpZiAoIWxhYmVsIHx8ICFwYXJlbnQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHRjb25zdCBpdGVtX3NlbGVjdG9yID0gYCR7c2VsZWN0b3J9W2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYDtcblxuXHRcdGNvbnN0IGV4aXN0aW5nX2l0ZW1zID0gJChwYXJlbnQpLmZpbmQoaXRlbV9zZWxlY3Rvcik7XG5cdFx0cmV0dXJuIGV4aXN0aW5nX2l0ZW1zPy5sZW5ndGggPiAwICYmIGV4aXN0aW5nX2l0ZW1zO1xuXHR9XG5cblx0Y2xlYXJfYnRuX2dyb3VwKHBhcmVudCkge1xuXHRcdHBhcmVudC5lbXB0eSgpO1xuXHRcdHBhcmVudC5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0YWRkX2RpdmlkZXIoKSB7XG5cdFx0cmV0dXJuICQoJzxsaSBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj48L2xpPicpLmFwcGVuZFRvKHRoaXMubWVudSk7XG5cdH1cblxuXHRnZXRfb3JfYWRkX2lubmVyX2dyb3VwX2J1dHRvbihsYWJlbCkge1xuXHRcdGxldCAkZ3JvdXAgPSB0aGlzLmlubmVyX3Rvb2xiYXIuZmluZChcblx0XHRcdGAuaW5uZXItZ3JvdXAtYnV0dG9uW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCxcblx0XHQpO1xuXHRcdGlmICghJGdyb3VwLmxlbmd0aCkge1xuXHRcdFx0JGdyb3VwID0gJChcblx0XHRcdFx0YDxkaXYgY2xhc3M9XCJpbm5lci1ncm91cC1idXR0b25cIiBkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQobGFiZWwpfVwiPlxuXHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGVsbGlwc2lzXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG5cdFx0XHRcdFx0XHQke2xhYmVsfVxuXHRcdFx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbignc2VsZWN0JywgJ3hzJyl9XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0PGRpdiByb2xlPVwibWVudVwiIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gLFxuXHRcdFx0KS5hcHBlbmRUbyh0aGlzLmlubmVyX3Rvb2xiYXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gJGdyb3VwO1xuXHR9XG5cblx0Z2V0X2lubmVyX2dyb3VwX2J1dHRvbihsYWJlbCkge1xuXHRcdHJldHVybiB0aGlzLmlubmVyX3Rvb2xiYXIuZmluZChcblx0XHRcdGAuaW5uZXItZ3JvdXAtYnV0dG9uW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCxcblx0XHQpO1xuXHR9XG5cblx0c2V0X2lubmVyX2J0bl9ncm91cF9hc19wcmltYXJ5KGxhYmVsKSB7XG5cdFx0dGhpcy5nZXRfb3JfYWRkX2lubmVyX2dyb3VwX2J1dHRvbihsYWJlbClcblx0XHRcdC5maW5kKCdidXR0b24nKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCdidG4tZGVmYXVsdCcpXG5cdFx0XHQuYWRkQ2xhc3MoJ2J0bi1wcmltYXJ5Jyk7XG5cdH1cblxuXHRidG5fZGlzYWJsZV9lbmFibGUoYnRuLCByZXNwb25zZSkge1xuXHRcdGlmIChyZXNwb25zZSAmJiByZXNwb25zZS50aGVuKSB7XG5cdFx0XHRidG4ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdHJlc3BvbnNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRidG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmFsd2F5cykge1xuXHRcdFx0YnRuLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRyZXNwb25zZS5hbHdheXMoKCkgPT4ge1xuXHRcdFx0XHRidG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKlxuXHQgKiBBZGQgYnV0dG9uIHRvIGJ1dHRvbiBncm91cC4gSWYgdGhlcmUgZXhpc3RzIGFub3RoZXIgYnV0dG9uIHdpdGggdGhlIHNhbWUgbGFiZWwsXG5cdCAqIGBhZGRfaW5uZXJfYnV0dG9uYCB3aWxsIG5vdCBhZGQgdGhlIG5ldyBidXR0b24gdG8gdGhlIGJ1dHRvbiBncm91cCBldmVuIGlmIHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbiBpcyBkaWZmZXJlbnQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIExhYmVsIG9mIHRoZSBidXR0b24gdG8gYmUgYWRkZWQgdG8gdGhlIGdyb3VwXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBidXR0b24gaXMgY2xpY2tlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXAgLSBMYWJlbCBvZiB0aGUgZ3JvdXAgYnV0dG9uXG5cdCAqL1xuXHRhZGRfaW5uZXJfYnV0dG9uKGxhYmVsLCBhY3Rpb24sIGdyb3VwLCB0eXBlID0gJ2RlZmF1bHQnKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRsZXQgX2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGxldCBidG4gPSAkKHRoaXMpO1xuXHRcdFx0bGV0IHJlc3BvbnNlID0gYWN0aW9uKCk7XG5cdFx0XHRtZS5idG5fZGlzYWJsZV9lbmFibGUoYnRuLCByZXNwb25zZSk7XG5cdFx0fTtcblx0XHQvLyBBZGQgYWN0aW9ucyBhcyBtZW51IGl0ZW0gaW4gTW9iaWxlIFZpZXdcblx0XHRsZXQgbWVudV9pdGVtX2xhYmVsID0gZ3JvdXAgPyBgJHtncm91cH0gPiAke2xhYmVsfWAgOiBsYWJlbDtcblx0XHRsZXQgbWVudV9pdGVtID0gdGhpcy5hZGRfbWVudV9pdGVtKG1lbnVfaXRlbV9sYWJlbCwgX2FjdGlvbiwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cdFx0bWVudV9pdGVtLnBhcmVudCgpLmFkZENsYXNzKCdoaWRkZW4teGwnKTtcblx0XHRpZiAodGhpcy5tZW51X2J0bl9ncm91cC5oYXNDbGFzcygnaGlkZScpKSB7XG5cdFx0XHR0aGlzLm1lbnVfYnRuX2dyb3VwLnJlbW92ZUNsYXNzKCdoaWRlJykuYWRkQ2xhc3MoJ2hpZGRlbi14bCcpO1xuXHRcdH1cblxuXHRcdGlmIChncm91cCkge1xuXHRcdFx0bGV0ICRncm91cCA9IHRoaXMuZ2V0X29yX2FkZF9pbm5lcl9ncm91cF9idXR0b24oZ3JvdXApO1xuXHRcdFx0JCh0aGlzLmlubmVyX3Rvb2xiYXIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cblx0XHRcdGlmICghdGhpcy5pc19pbl9ncm91cF9idXR0b25fZHJvcGRvd24oJGdyb3VwLmZpbmQoJy5kcm9wZG93bi1tZW51JyksICdhJywgbGFiZWwpKSB7XG5cdFx0XHRcdHJldHVybiAkKFxuXHRcdFx0XHRcdGA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiI1wiIG9uY2xpY2s9XCJyZXR1cm4gZmFsc2U7XCIgZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuXHRcdFx0XHRcdFx0bGFiZWwsXG5cdFx0XHRcdFx0KX1cIj4ke2xhYmVsfTwvYT5gLFxuXHRcdFx0XHQpXG5cdFx0XHRcdFx0Lm9uKCdjbGljaycsIF9hY3Rpb24pXG5cdFx0XHRcdFx0LmFwcGVuZFRvKCRncm91cC5maW5kKCcuZHJvcGRvd24tbWVudScpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IGJ1dHRvbiA9IHRoaXMuaW5uZXJfdG9vbGJhci5maW5kKFxuXHRcdFx0XHRgYnV0dG9uW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCxcblx0XHRcdCk7XG5cdFx0XHRpZiAoYnV0dG9uLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdGJ1dHRvbiA9ICQoYDxidXR0b24gZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuXHRcdFx0XHRcdGxhYmVsLFxuXHRcdFx0XHQpfVwiIGNsYXNzPVwiYnRuIGJ0bi0ke3R5cGV9IGVsbGlwc2lzXCI+XG5cdFx0XHRcdFx0JHtfXyhsYWJlbCl9XG5cdFx0XHRcdDwvYnV0dG9uPmApO1xuXHRcdFx0XHRidXR0b24ub24oJ2NsaWNrJywgX2FjdGlvbik7XG5cdFx0XHRcdGJ1dHRvbi5hcHBlbmRUbyh0aGlzLmlubmVyX3Rvb2xiYXIucmVtb3ZlQ2xhc3MoJ2hpZGUnKSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYnV0dG9uO1xuXHRcdH1cblx0fVxuXG5cdHJlbW92ZV9pbm5lcl9idXR0b24obGFiZWwsIGdyb3VwKSB7XG5cdFx0aWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGxhYmVsID0gW2xhYmVsXTtcblx0XHR9XG5cdFx0Ly8gdHJhbnNsYXRlXG5cdFx0bGFiZWwgPSBsYWJlbC5tYXAobCA9PiBfXyhsKSk7XG5cblx0XHRpZiAoZ3JvdXApIHtcblx0XHRcdGxldCAkZ3JvdXAgPSB0aGlzLmdldF9pbm5lcl9ncm91cF9idXR0b24oX18oZ3JvdXApKTtcblx0XHRcdGlmICgkZ3JvdXAubGVuZ3RoKSB7XG5cdFx0XHRcdCRncm91cC5maW5kKGAuZHJvcGRvd24taXRlbVtkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQobGFiZWwpfVwiXWApLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCRncm91cC5maW5kKCcuZHJvcGRvd24taXRlbScpLmxlbmd0aCA9PT0gMCkgeyAkZ3JvdXAucmVtb3ZlKCk7IH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5pbm5lcl90b29sYmFyLmZpbmQoYGJ1dHRvbltkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQobGFiZWwpfVwiXWApLnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdGNoYW5nZV9pbm5lcl9idXR0b25fdHlwZShsYWJlbCwgZ3JvdXAsIHR5cGUpIHtcblx0XHRsZXQgYnRuO1xuXG5cdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRsZXQgJGdyb3VwID0gdGhpcy5nZXRfaW5uZXJfZ3JvdXBfYnV0dG9uKF9fKGdyb3VwKSk7XG5cdFx0XHRpZiAoJGdyb3VwLmxlbmd0aCkge1xuXHRcdFx0XHRidG4gPSAkZ3JvdXAuZmluZChgLmRyb3Bkb3duLWl0ZW1bZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKX1cIl1gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0YnRuID0gdGhpcy5pbm5lcl90b29sYmFyLmZpbmQoYGJ1dHRvbltkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQobGFiZWwpfVwiXWApO1xuXHRcdH1cblxuXHRcdGlmIChidG4pIHtcblx0XHRcdGJ0bi5yZW1vdmVDbGFzcygpLmFkZENsYXNzKGBidG4gYnRuLSR7dHlwZX0gZWxsaXBzaXNgKTtcblx0XHR9XG5cdH1cblxuXHRhZGRfaW5uZXJfbWVzc2FnZShtZXNzYWdlKSB7XG5cdFx0bGV0ICRtZXNzYWdlID0gJChgPHNwYW4gY2xhc3M9J2lubmVyLXBhZ2UtbWVzc2FnZSB0ZXh0LW11dGVkIHNtYWxsJz4ke21lc3NhZ2V9PC9kaXY+YCk7XG5cdFx0dGhpcy5pbm5lcl90b29sYmFyLmZpbmQoJy5pbm5lci1wYWdlLW1lc3NhZ2UnKS5yZW1vdmUoKTtcblx0XHR0aGlzLmlubmVyX3Rvb2xiYXIucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5wcmVwZW5kKCRtZXNzYWdlKTtcblxuXHRcdHJldHVybiAkbWVzc2FnZTtcblx0fVxuXG5cdGNsZWFyX2lubmVyX3Rvb2xiYXIoKSB7XG5cdFx0dGhpcy5pbm5lcl90b29sYmFyLmVtcHR5KCkuYWRkQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdC8vLS0gU2lkZWJhciAtLS8vXG5cblx0YWRkX3NpZGViYXJfaXRlbShsYWJlbCwgYWN0aW9uLCBpbnNlcnRfYWZ0ZXIsIHByZXBlbmQpIHtcblx0XHRsZXQgcGFyZW50ID0gdGhpcy5zaWRlYmFyLmZpbmQoJy5zaWRlYmFyLW1lbnUuc3RhbmRhcmQtYWN0aW9ucycpO1xuXHRcdGxldCBsaSA9ICQoJzxsaT4nKTtcblx0XHRsZXQgbGluayA9ICQoJzxhPicpLmh0bWwobGFiZWwpLm9uKCdjbGljaycsIGFjdGlvbilcblx0XHRcdC5hcHBlbmRUbyhsaSk7XG5cblx0XHRpZiAoaW5zZXJ0X2FmdGVyKSB7XG5cdFx0XHRsaS5pbnNlcnRBZnRlcihwYXJlbnQuZmluZChpbnNlcnRfYWZ0ZXIpKTtcblx0XHR9IGVsc2UgaWYgKHByZXBlbmQpIHtcblx0XHRcdGxpLnByZXBlbmRUbyhwYXJlbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsaS5hcHBlbmRUbyhwYXJlbnQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbGluaztcblx0fVxuXG5cdC8vLS0tLy9cblxuXHRjbGVhcl91c2VyX2FjdGlvbnMoKSB7XG5cdFx0dGhpcy5tZW51LmZpbmQoJy51c2VyLWFjdGlvbicpLnJlbW92ZSgpO1xuXHR9XG5cblx0Ly8gcGFnZTo6dGl0bGVcblx0Z2V0X3RpdGxlX2FyZWEoKSB7XG5cdFx0cmV0dXJuIHRoaXMuJHRpdGxlX2FyZWE7XG5cdH1cblxuXHRzZXRfdGl0bGUodGl0bGUsIGljb24gPSBudWxsLCBzdHJpcCA9IHRydWUsIHRhYl90aXRsZSA9ICcnKSB7XG5cdFx0aWYgKCF0aXRsZSkgeyB0aXRsZSA9ICcnOyB9XG5cdFx0aWYgKHN0cmlwKSB7XG5cdFx0XHR0aXRsZSA9IHN0cmlwX2h0bWwodGl0bGUpO1xuXHRcdH1cblx0XHR0aGlzLnRpdGxlID0gdGl0bGU7XG5cdFx0Ly8gZnJhcHBlLnV0aWxzLnNldF90aXRsZSh0YWJfdGl0bGUgfHwgdGl0bGUpO1xuXHRcdGlmIChpY29uKSB7XG5cdFx0XHR0aXRsZSA9IGAke2ZyYXBwZS51dGlscy5pY29uKGljb24pfSAke3RpdGxlfWA7XG5cdFx0fVxuXHRcdGxldCB0aXRsZV93cmFwcGVyID0gdGhpcy4kdGl0bGVfYXJlYS5maW5kKCcudGl0bGUtdGV4dCcpO1xuXHRcdHRpdGxlX3dyYXBwZXIuaHRtbCh0aXRsZSk7XG5cdFx0dGl0bGVfd3JhcHBlci5hdHRyKCd0aXRsZScsIHRoaXMudGl0bGUpO1xuXHR9XG5cblx0c2V0X3RpdGxlX3N1Yih0eHQpIHtcblx0XHQvLyBzdHJpcCBpY29uXG5cdFx0dGhpcy4kc3ViX3RpdGxlX2FyZWEuaHRtbCh0eHQpLnRvZ2dsZUNsYXNzKCdoaWRlJywgQm9vbGVhbighdHh0KSk7XG5cdH1cblxuXHRnZXRfbWFpbl9pY29uKGljb24pIHtcblx0XHRyZXR1cm4gdGhpcy4kdGl0bGVfYXJlYVxuXHRcdFx0LmZpbmQoJy50aXRsZS1pY29uJylcblx0XHRcdC5odG1sKGA8aSBjbGFzcz1cIiR7aWNvbn0gZmEtZndcIj48L2k+IGApXG5cdFx0XHQudG9nZ2xlKHRydWUpO1xuXHR9XG5cblx0YWRkX2hlbHBfYnV0dG9uKHR4dCkge1xuXHRcdC8vXG5cdH1cblxuXHRhZGRfYnV0dG9uKGxhYmVsLCBjbGljaywgb3B0cykge1xuXHRcdGlmICghb3B0cykgeyBvcHRzID0ge307IH1cblx0XHRsZXQgYnV0dG9uID0gJChgPGJ1dHRvblxuXHRcdFx0Y2xhc3M9XCJidG4gJHtvcHRzLmJ0bl9jbGFzcyB8fCAnYnRuLWRlZmF1bHQnfSAke29wdHMuYnRuX3NpemUgfHwgJ2J0bi1zbSd9IGVsbGlwc2lzXCI+XG5cdFx0XHRcdCR7b3B0cy5pY29uID8gZnJhcHBlLnV0aWxzLmljb24ob3B0cy5pY29uKSA6ICcnfVxuXHRcdFx0XHQke2xhYmVsfVxuXHRcdDwvYnV0dG9uPmApO1xuXHRcdC8vIEFkZCBhY3Rpb25zIGFzIG1lbnUgaXRlbSBpbiBNb2JpbGUgVmlldyAoc2ltaWxhciB0byBcImFkZF9jdXN0b21fYnV0dG9uXCIgaW4gZm9ybXMuanMpXG5cdFx0bGV0IG1lbnVfaXRlbSA9IHRoaXMuYWRkX21lbnVfaXRlbShsYWJlbCwgY2xpY2ssIGZhbHNlKTtcblx0XHRtZW51X2l0ZW0ucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbi14bCcpO1xuXG5cdFx0YnV0dG9uLmFwcGVuZFRvKHRoaXMuY3VzdG9tX2FjdGlvbnMpO1xuXHRcdGJ1dHRvbi5vbignY2xpY2snLCBjbGljayk7XG5cdFx0dGhpcy5jdXN0b21fYWN0aW9ucy5yZW1vdmVDbGFzcygnaGlkZScpO1xuXG5cdFx0cmV0dXJuIGJ1dHRvbjtcblx0fVxuXG5cdGFkZF9jdXN0b21fYnV0dG9uX2dyb3VwKGxhYmVsLCBpY29uLCBwYXJlbnQpIHtcblx0XHRsZXQgZHJvcGRvd25fbGFiZWwgPSBgPHNwYW4gY2xhc3M9XCJoaWRkZW4teHNcIj5cblx0XHRcdDxzcGFuIGNsYXNzPVwiY3VzdG9tLWJ0bi1ncm91cC1sYWJlbFwiPiR7X18obGFiZWwpfTwvc3Bhbj5cblx0XHRcdCR7ZnJhcHBlLnV0aWxzLmljb24oJ3NlbGVjdCcsICd4cycpfVxuXHRcdDwvc3Bhbj5gO1xuXG5cdFx0aWYgKGljb24pIHtcblx0XHRcdGRyb3Bkb3duX2xhYmVsID0gYDxzcGFuIGNsYXNzPVwiaGlkZGVuLXhzXCI+XG5cdFx0XHRcdCR7ZnJhcHBlLnV0aWxzLmljb24oaWNvbil9XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiY3VzdG9tLWJ0bi1ncm91cC1sYWJlbFwiPiR7X18obGFiZWwpfTwvc3Bhbj5cblx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbignc2VsZWN0JywgJ3hzJyl9XG5cdFx0XHQ8L3NwYW4+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInZpc2libGUteHNcIj5cblx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbihpY29uKX1cblx0XHRcdDwvc3Bhbj5gO1xuXHRcdH1cblxuXHRcdGxldCBjdXN0b21fYnRuX2dyb3VwID0gJChgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY3VzdG9tLWJ0bi1ncm91cFwiPlxuXHRcdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gZWxsaXBzaXNcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG5cdFx0XHRcdFx0JHtkcm9wZG93bl9sYWJlbH1cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPjwvdWw+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKTtcblxuXHRcdGlmICghcGFyZW50KSB7IHBhcmVudCA9IHRoaXMuY3VzdG9tX2FjdGlvbnM7IH1cblx0XHRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5hcHBlbmQoY3VzdG9tX2J0bl9ncm91cCk7XG5cblx0XHRyZXR1cm4gY3VzdG9tX2J0bl9ncm91cC5maW5kKCcuZHJvcGRvd24tbWVudScpO1xuXHR9XG5cblx0YWRkX2Ryb3Bkb3duX2J1dHRvbihwYXJlbnQsIGxhYmVsLCBjbGljaywgaWNvbikge1xuXHRcdGZyYXBwZS51aS50b29sYmFyLmFkZF9kcm9wZG93bl9idXR0b24ocGFyZW50LCBsYWJlbCwgY2xpY2ssIGljb24pO1xuXHR9XG5cblx0Ly8gcGFnZTo6Zm9ybVxuXHRhZGRfbGFiZWwobGFiZWwpIHtcblx0XHR0aGlzLnNob3dfZm9ybSgpO1xuXHRcdHJldHVybiAkKGA8bGFiZWwgY2xhc3M9J2NvbC1tZC0xIHBhZ2Utb25seS1sYWJlbCc+JHtsYWJlbH0gPC9sYWJlbD5gKS5hcHBlbmRUbyhcblx0XHRcdHRoaXMucGFnZV9mb3JtLFxuXHRcdCk7XG5cdH1cblx0YWRkX3NlbGVjdChsYWJlbCwgb3B0aW9ucykge1xuXHRcdGxldCBmaWVsZCA9IHRoaXMuYWRkX2ZpZWxkKHsgbGFiZWwsIGZpZWxkdHlwZTogJ1NlbGVjdCcgfSk7XG5cdFx0cmV0dXJuIGZpZWxkLiR3cmFwcGVyLmZpbmQoJ3NlbGVjdCcpLmVtcHR5KCkuYWRkX29wdGlvbnMob3B0aW9ucyk7XG5cdH1cblx0YWRkX2RhdGEobGFiZWwpIHtcblx0XHRsZXQgZmllbGQgPSB0aGlzLmFkZF9maWVsZCh7IGxhYmVsLCBmaWVsZHR5cGU6ICdEYXRhJyB9KTtcblx0XHRyZXR1cm4gZmllbGQuJHdyYXBwZXIuZmluZCgnaW5wdXQnKS5hdHRyKCdwbGFjZWhvbGRlcicsIGxhYmVsKTtcblx0fVxuXHRhZGRfZGF0ZShsYWJlbCwgZGF0ZSkge1xuXHRcdGxldCBmaWVsZCA9IHRoaXMuYWRkX2ZpZWxkKHsgbGFiZWwsIGZpZWxkdHlwZTogJ0RhdGUnLCBkZWZhdWx0OiBkYXRlIH0pO1xuXHRcdHJldHVybiBmaWVsZC4kd3JhcHBlci5maW5kKCdpbnB1dCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgbGFiZWwpO1xuXHR9XG5cdGFkZF9jaGVjayhsYWJlbCkge1xuXHRcdHJldHVybiAkKGA8ZGl2IGNsYXNzPSdjaGVja2JveCc+PGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCc+JHtsYWJlbH08L2xhYmVsPjwvZGl2PmApXG5cdFx0XHQuYXBwZW5kVG8odGhpcy5wYWdlX2Zvcm0pXG5cdFx0XHQuZmluZCgnaW5wdXQnKTtcblx0fVxuXHRhZGRfYnJlYWsoKSB7XG5cdFx0Ly8gYWRkIGZ1cnRoZXIgZmllbGRzIGluIHRoZSBuZXh0IGxpbmVcblx0XHR0aGlzLnBhZ2VfZm9ybS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJjbGVhcmZpeCBpbnZpc2libGUteHNcIj48L2Rpdj4nKTtcblx0fVxuXHRhZGRfZmllbGQoZGYsIHBhcmVudCkge1xuXHRcdHRoaXMuc2hvd19mb3JtKCk7XG5cblx0XHRpZiAoIWRmLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHRkZi5wbGFjZWhvbGRlciA9IGRmLmxhYmVsO1xuXHRcdH1cblxuXHRcdGRmLmlucHV0X2NsYXNzID0gJ2lucHV0LXhzJztcblxuXHRcdGxldCBmID0gZnJhcHBlLnVpLmZvcm0ubWFrZV9jb250cm9sKHtcblx0XHRcdGRmLFxuXHRcdFx0cGFyZW50OiBwYXJlbnQgfHwgdGhpcy5wYWdlX2Zvcm0sXG5cdFx0XHRvbmx5X2lucHV0OiBkZi5maWVsZHR5cGUgPT0gJ0NoZWNrJyA/IGZhbHNlIDogdHJ1ZSxcblx0XHR9KTtcblx0XHRmLnJlZnJlc2goKTtcblx0XHQkKGYud3JhcHBlcilcblx0XHRcdC5hZGRDbGFzcygnY29sLW1kLTInKVxuXHRcdFx0LmF0dHIoJ3RpdGxlJywgX18oZGYubGFiZWwpKVxuXHRcdFx0LnRvb2x0aXAoe1xuXHRcdFx0XHRkZWxheTogeyBzaG93OiA2MDAsIGhpZGU6IDEwMCB9LFxuXHRcdFx0XHR0cmlnZ2VyOiAnaG92ZXInLFxuXHRcdFx0fSk7XG5cblx0XHQvLyBodG1sIGZpZWxkcyBpbiB0b29sYmFyIGFyZSBvbmx5IGZvciBkaXNwbGF5XG5cdFx0aWYgKGRmLmZpZWxkdHlwZSA9PSAnSFRNTCcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBoaWRkZW4gZmllbGRzIGRvbnQgaGF2ZSAkaW5wdXRcblx0XHRpZiAoIWYuJGlucHV0KSB7IGYubWFrZV9pbnB1dCgpOyB9XG5cblx0XHRmLiRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsIF9fKGRmLmxhYmVsKSk7XG5cblx0XHRpZiAoZGYuZmllbGR0eXBlID09PSAnQ2hlY2snKSB7XG5cdFx0XHQkKGYud3JhcHBlcikuZmluZCgnOmZpcnN0LWNoaWxkJykucmVtb3ZlQ2xhc3MoJ2NvbC1tZC1vZmZzZXQtNCBjb2wtbWQtOCcpO1xuXHRcdH1cblxuXHRcdGlmIChkZi5maWVsZHR5cGUgPT0gJ0J1dHRvbicpIHtcblx0XHRcdCQoZi53cmFwcGVyKS5maW5kKCcucGFnZS1jb250cm9sLWxhYmVsJykuaHRtbCgnJm5ic3A7Jyk7XG5cdFx0XHRmLiRpbnB1dC5hZGRDbGFzcygnYnRuLXhzJykuY3NzKHsgd2lkdGg6ICcxMDAlJywgJ21hcmdpbi10b3AnOiAnLTFweCcgfSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRmLmRlZmF1bHQpIHsgZi5zZXRfaW5wdXQoZGYuZGVmYXVsdCk7IH1cblx0XHR0aGlzLmZpZWxkc19kaWN0W2RmLmZpZWxkbmFtZSB8fCBkZi5sYWJlbF0gPSBmO1xuXHRcdHJldHVybiBmO1xuXHR9XG5cdGNsZWFyX2ZpZWxkcygpIHtcblx0XHR0aGlzLnBhZ2VfZm9ybS5lbXB0eSgpO1xuXHR9XG5cdHNob3dfZm9ybSgpIHtcblx0XHR0aGlzLnBhZ2VfZm9ybS5yZW1vdmVDbGFzcygnaGlkZScpO1xuXHR9XG5cdGhpZGVfZm9ybSgpIHtcblx0XHR0aGlzLnBhZ2VfZm9ybS5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cdGdldF9mb3JtX3ZhbHVlcygpIHtcblx0XHRsZXQgdmFsdWVzID0ge307XG5cdFx0Zm9yIChsZXQgZmllbGRuYW1lIGluIHRoaXMuZmllbGRzX2RpY3QpIHtcblx0XHRcdGxldCBmaWVsZCA9IHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXTtcblx0XHRcdHZhbHVlc1tmaWVsZG5hbWVdID0gZmllbGQuZ2V0X3ZhbHVlKCk7XG5cdFx0fVxuXHRcdHJldHVybiB2YWx1ZXM7XG5cdH1cblx0YWRkX3ZpZXcobmFtZTogc3RyaW5nLCBodG1sOiBzdHJpbmcgfCBKUXVlcnkpIHtcblx0XHRsZXQgZWxlbWVudCA9IGh0bWw7XG5cdFx0aWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xuXHRcdFx0ZWxlbWVudCA9ICQoaHRtbCk7XG5cdFx0fVxuXHRcdHRoaXMudmlld3NbbmFtZV0gPSBlbGVtZW50LmFwcGVuZFRvKCQodGhpcy53cmFwcGVyKS5maW5kKCcucGFnZS1jb250ZW50JykpO1xuXHRcdGlmICh0aGlzLmN1cnJlbnRfdmlldykge1xuXHRcdFx0dGhpcy52aWV3c1tuYW1lXS50b2dnbGUoZmFsc2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRfdmlldyA9IHRoaXMudmlld3NbbmFtZV07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnZpZXdzW25hbWVdO1xuXHR9XG5cdHNldF92aWV3KG5hbWUpIHtcblx0XHRpZiAodGhpcy5jdXJyZW50X3ZpZXdfbmFtZSA9PT0gbmFtZSkgeyByZXR1cm47IH1cblx0XHR0aGlzLmN1cnJlbnRfdmlldz8udG9nZ2xlKGZhbHNlKTtcblx0XHR0aGlzLmN1cnJlbnRfdmlldyA9IHRoaXMudmlld3NbbmFtZV07XG5cblx0XHR0aGlzLnByZXZpb3VzX3ZpZXdfbmFtZSA9IHRoaXMuY3VycmVudF92aWV3X25hbWU7XG5cdFx0dGhpcy5jdXJyZW50X3ZpZXdfbmFtZSA9IG5hbWU7XG5cblx0XHR0aGlzLnZpZXdzW25hbWVdLnRvZ2dsZSh0cnVlKTtcblxuXHRcdHRoaXMud3JhcHBlci50cmlnZ2VyKCd2aWV3LWNoYW5nZScpO1xuXHR9XG59XG5cbmludGVyZmFjZSBQYWdlIHtcblx0cGFyZW50OiBIVE1MRWxlbWVudDtcblx0c2luZ2xlX2NvbHVtbjogYm9vbGVhbjtcblx0Y3VycmVudF92aWV3PzogSlF1ZXJ5O1xuXHR3cmFwcGVyOiBKUXVlcnk7XG5cdGN1cnJlbnRfdmlld19uYW1lPzogc3RyaW5nO1xuXHRwcmV2aW91c192aWV3X25hbWU/OiBzdHJpbmc7XG5cblx0JHRpdGxlX2FyZWE6IEpRdWVyeVxuXG5cdCRzdWJfdGl0bGVfYXJlYTogSlF1ZXJ5XG5cblx0bWFpbjogSlF1ZXJ5XG5cdGJvZHk6IEpRdWVyeVxuXHRjb250YWluZXI6IEpRdWVyeVxuXHRzaWRlYmFyOiBKUXVlcnlcblx0Zm9vdGVyOiBKUXVlcnlcblx0aW5kaWNhdG9yOiBKUXVlcnlcblxuXHRwYWdlX2FjdGlvbnM6IEpRdWVyeVxuXG5cdGJ0bl9wcmltYXJ5OiBKUXVlcnlcblx0YnRuX3NlY29uZGFyeTogSlF1ZXJ5XG5cblx0bWVudTogSlF1ZXJ5XG5cdG1lbnVfYnRuX2dyb3VwOiBKUXVlcnlcblxuXHRhY3Rpb25zOiBKUXVlcnlcblx0YWN0aW9uc19idG5fZ3JvdXA6IEpRdWVyeVxuXG5cdHN0YW5kYXJkX2FjdGlvbnM6IEpRdWVyeVxuXHRjdXN0b21fYWN0aW9uczogSlF1ZXJ5XG5cblx0cGFnZV9mb3JtOiBKUXVlcnlcblx0aW5uZXJfdG9vbGJhcjogSlF1ZXJ5XG5cdGljb25fZ3JvdXA6IEpRdWVyeVxufVxuZXhwb3J0IGRlZmF1bHQgUGFnZTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMgKi9cbi8vIENvcHlyaWdodCAoYykgMjAxNSwgRnJhcHBlIFRlY2hub2xvZ2llcyBQdnQuIEx0ZC4gYW5kIENvbnRyaWJ1dG9yc1xuLy8gTUlUIExpY2Vuc2UuIFNlZSBsaWNlbnNlLnR4dFxuaW1wb3J0IHR5cGUgRm9ybSBmcm9tICcuL0Zvcm0nO1xuaW1wb3J0IHR5cGUgUGFnZSBmcm9tICcuL1BhZ2UnO1xuXG5jbGFzcyBUb29sYmFyIHtcblx0cGFnZTogUGFnZTtcblx0ZnJtOiBGb3JtO1xuXHRjb25zdHJ1Y3Rvcihmcm06IEZvcm0sIHBhZ2U6IFBhZ2UpIHtcblx0XHR0aGlzLmZybSA9IGZybTtcblx0XHR0aGlzLnBhZ2UgPSBwYWdlO1xuXHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdHRoaXMuYWRkX3VwZGF0ZV9idXR0b25fb25fZGlydHkoKTtcblx0XHR0aGlzLnNldHVwX2VkaXRhYmxlX3RpdGxlKCk7XG5cdH1cblx0cmVmcmVzaCgpIHtcblx0XHR0aGlzLm1ha2VfbWVudSgpO1xuXHRcdHRoaXMubWFrZV92aWV3ZXJzKCk7XG5cdFx0dGhpcy5zZXRfdGl0bGUoKTtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfdXNlcl9hY3Rpb25zKCk7XG5cdFx0dGhpcy5zaG93X3RpdGxlX2FzX2RpcnR5KCk7XG5cdFx0dGhpcy5zZXRfcHJpbWFyeV9hY3Rpb24oKTtcblxuXHRcdGlmICh0aGlzLmZybS5tZXRhLmhpZGVfdG9vbGJhcikge1xuXHRcdFx0dGhpcy5wYWdlLmhpZGVfbWVudSgpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5mcm0uZG9jLl9faXNsb2NhbCkge1xuXHRcdFx0dGhpcy5wYWdlLmhpZGVfbWVudSgpO1xuXHRcdFx0dGhpcy5wcmludF9pY29uICYmIHRoaXMucHJpbnRfaWNvbi5hZGRDbGFzcygnaGlkZScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBhZ2Uuc2hvd19tZW51KCk7XG5cdFx0XHR0aGlzLnByaW50X2ljb24gJiYgdGhpcy5wcmludF9pY29uLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cdFx0fVxuXHR9XG5cdHNldF90aXRsZSgpIHtcblx0XHRpZiAodGhpcy5mcm0uaXNfbmV3KCkpIHtcblx0XHRcdHZhciB0aXRsZSA9IF9fKCdOZXcgezB9JywgW19fKHRoaXMuZnJtLm1ldGEubmFtZSldKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZnJtLm1ldGEudGl0bGVfZmllbGQpIHtcblx0XHRcdGxldCB0aXRsZV9maWVsZCA9ICh0aGlzLmZybS5kb2NbdGhpcy5mcm0ubWV0YS50aXRsZV9maWVsZF0gfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuXHRcdFx0dmFyIHRpdGxlID0gc3RyaXBfaHRtbCh0aXRsZV9maWVsZCB8fCB0aGlzLmZybS5kb2NuYW1lKTtcblx0XHRcdGlmIChcblx0XHRcdFx0dGhpcy5mcm0uZG9jLl9faXNsb2NhbCB8fFxuXHRcdFx0XHR0aXRsZSA9PT0gdGhpcy5mcm0uZG9jbmFtZSB8fFxuXHRcdFx0XHR0aGlzLmZybS5tZXRhLmF1dG9uYW1lID09PSAnaGFzaCdcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLnBhZ2Uuc2V0X3RpdGxlX3N1YignJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnBhZ2Uuc2V0X3RpdGxlX3N1Yih0aGlzLmZybS5kb2NuYW1lKTtcblx0XHRcdFx0dGhpcy5wYWdlLiRzdWJfdGl0bGVfYXJlYS5jc3MoJ2N1cnNvcicsICdjb3B5Jyk7XG5cdFx0XHRcdHRoaXMucGFnZS4kc3ViX3RpdGxlX2FyZWEub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGZyYXBwZS51dGlscy5jb3B5X3RvX2NsaXBib2FyZCh0aGlzLmZybS5kb2NuYW1lKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciB0aXRsZSA9IHRoaXMuZnJtLmRvY25hbWU7XG5cdFx0fVxuXG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHR0aXRsZSA9IF9fKHRpdGxlKTtcblx0XHR0aGlzLnBhZ2Uuc2V0X3RpdGxlKHRpdGxlKTtcblx0XHRpZiAodGhpcy5mcm0ubWV0YS50aXRsZV9maWVsZCkge1xuXHRcdFx0ZnJhcHBlLnV0aWxzLnNldF90aXRsZShgJHt0aXRsZX0gLSAke3RoaXMuZnJtLmRvY25hbWV9YCk7XG5cdFx0fVxuXHRcdHRoaXMucGFnZS4kdGl0bGVfYXJlYS50b2dnbGVDbGFzcyhcblx0XHRcdCdlZGl0YWJsZS10aXRsZScsXG5cdFx0XHRCb29sZWFuKHRoaXMuaXNfdGl0bGVfZWRpdGFibGUoKSB8fCB0aGlzLmNhbl9yZW5hbWUoKSksXG5cdFx0KTtcblxuXHRcdHRoaXMuc2V0X2luZGljYXRvcigpO1xuXHR9XG5cdGlzX3RpdGxlX2VkaXRhYmxlKCkge1xuXHRcdGxldCB7IHRpdGxlX2ZpZWxkIH0gPSB0aGlzLmZybS5tZXRhO1xuXHRcdGxldCBkb2NfZmllbGQgPSB0aGlzLmZybS5nZXRfZG9jZmllbGQodGl0bGVfZmllbGQpO1xuXG5cdFx0aWYgKFxuXHRcdFx0dGl0bGVfZmllbGQgJiZcblx0XHRcdHRoaXMuZnJtLnBlcm1bMF0ud3JpdGUgJiZcblx0XHRcdCF0aGlzLmZybS5kb2MuX19pc2xvY2FsICYmXG5cdFx0XHRkb2NfZmllbGQuZmllbGR0eXBlID09PSAnRGF0YScgJiZcblx0XHRcdCFkb2NfZmllbGQucmVhZF9vbmx5XG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblx0Y2FuX3JlbmFtZSgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0c2hvd191bmNoYW5nZWRfZG9jdW1lbnRfYWxlcnQoKSB7XG5cdFx0ZnJhcHBlLnNob3dfYWxlcnQoe1xuXHRcdFx0aW5kaWNhdG9yOiAnaW5mbycsXG5cdFx0XHRtZXNzYWdlOiBfXygnVW5jaGFuZ2VkJyksXG5cdFx0fSk7XG5cdH1cblx0cmVuYW1lX2RvY3VtZW50X3RpdGxlKGlucHV0X25hbWUsIGlucHV0X3RpdGxlLCBtZXJnZSA9IGZhbHNlKSB7XG5cdFx0bGV0IGNvbmZpcm1fbWVzc2FnZSA9IG51bGw7XG5cdFx0Y29uc3QgZG9jbmFtZSA9IHRoaXMuZnJtLmRvYy5uYW1lO1xuXHRcdGNvbnN0IHRpdGxlX2ZpZWxkID0gdGhpcy5mcm0ubWV0YS50aXRsZV9maWVsZCB8fCAnJztcblx0XHRjb25zdCB7IGRvY3R5cGUgfSA9IHRoaXMuZnJtO1xuXHRcdGxldCBxdWV1ZTtcblx0XHRpZiAodGhpcy5mcm0uX19yZW5hbWVfcXVldWUpIHtcblx0XHRcdHF1ZXVlID0gdGhpcy5mcm0uX19yZW5hbWVfcXVldWU7XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0X25hbWUpIHtcblx0XHRcdGNvbnN0IHdhcm5pbmcgPSBfXygnVGhpcyBjYW5ub3QgYmUgdW5kb25lJyk7XG5cdFx0XHRjb25zdCBtZXNzYWdlID0gX18oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBtZXJnZSB7MH0gd2l0aCB7MX0/JywgW1xuXHRcdFx0XHRkb2NuYW1lLmJvbGQoKSxcblx0XHRcdFx0aW5wdXRfbmFtZS5ib2xkKCksXG5cdFx0XHRdKTtcblx0XHRcdGNvbmZpcm1fbWVzc2FnZSA9IGAke21lc3NhZ2V9PGJyPjxiPiR7d2FybmluZ308Yj5gO1xuXHRcdH1cblxuXHRcdGxldCByZW5hbWVfZG9jdW1lbnQgPSAoKSA9PiBmcmFwcGVcblx0XHRcdC54Y2FsbCgnZnJhcHBlLm1vZGVsLnJlbmFtZV9kb2MudXBkYXRlX2RvY3VtZW50X3RpdGxlJywge1xuXHRcdFx0XHRkb2N0eXBlLFxuXHRcdFx0XHRkb2NuYW1lLFxuXHRcdFx0XHRuYW1lOiBpbnB1dF9uYW1lLFxuXHRcdFx0XHR0aXRsZTogaW5wdXRfdGl0bGUsXG5cdFx0XHRcdGVucXVldWU6IHRydWUsXG5cdFx0XHRcdG1lcmdlLFxuXHRcdFx0XHRmcmVlemU6IHRydWUsXG5cdFx0XHRcdGZyZWV6ZV9tZXNzYWdlOiBfXygnVXBkYXRpbmcgcmVsYXRlZCBmaWVsZHMuLi4nKSxcblx0XHRcdFx0cXVldWUsXG5cdFx0XHR9KVxuXHRcdFx0LnRoZW4obmV3X2RvY25hbWUgPT4ge1xuXHRcdFx0XHRjb25zdCByZWxvYWRfZm9ybSA9IGlucHV0X25hbWUgPT4ge1xuXHRcdFx0XHRcdCQoZG9jdW1lbnQpLnRyaWdnZXIoJ3JlbmFtZScsIFtkb2N0eXBlLCBkb2NuYW1lLCBpbnB1dF9uYW1lXSk7XG5cdFx0XHRcdFx0aWYgKGxvY2Fsc1tkb2N0eXBlXSAmJiBsb2NhbHNbZG9jdHlwZV1bZG9jbmFtZV0pIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSBsb2NhbHNbZG9jdHlwZV1bZG9jbmFtZV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuZnJtLnJlbG9hZF9kb2MoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBoYW5kbGUgZG9jdW1lbnQgcmVuYW1pbmcgcXVldWVkIGFjdGlvblxuXHRcdFx0XHRpZiAoaW5wdXRfbmFtZSAmJiBuZXdfZG9jbmFtZSA9PSBkb2NuYW1lKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLnNvY2tldGlvLmRvY19zdWJzY3JpYmUoZG9jdHlwZSwgaW5wdXRfbmFtZSk7XG5cdFx0XHRcdFx0ZnJhcHBlLnJlYWx0aW1lLm9uKCdkb2NfdXBkYXRlJywgZGF0YSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5kb2N0eXBlID09IGRvY3R5cGUgJiYgZGF0YS5uYW1lID09IGlucHV0X25hbWUpIHtcblx0XHRcdFx0XHRcdFx0cmVsb2FkX2Zvcm0oaW5wdXRfbmFtZSk7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHtcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBfXygnRG9jdW1lbnQgcmVuYW1lZCBmcm9tIHswfSB0byB7MX0nLCBbXG5cdFx0XHRcdFx0XHRcdFx0XHRkb2NuYW1lLmJvbGQoKSxcblx0XHRcdFx0XHRcdFx0XHRcdGlucHV0X25hbWUuYm9sZCgpLFxuXHRcdFx0XHRcdFx0XHRcdF0pLFxuXHRcdFx0XHRcdFx0XHRcdGluZGljYXRvcjogJ3N1Y2Nlc3MnLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydChcblx0XHRcdFx0XHRcdF9fKCdEb2N1bWVudCByZW5hbWluZyBmcm9tIHswfSB0byB7MX0gaGFzIGJlZW4gcXVldWVkJywgW1xuXHRcdFx0XHRcdFx0XHRkb2NuYW1lLmJvbGQoKSxcblx0XHRcdFx0XHRcdFx0aW5wdXRfbmFtZS5ib2xkKCksXG5cdFx0XHRcdFx0XHRdKSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaGFuZGxlIGRvY3VtZW50IHN5bmMgcmVuYW1lIGFjdGlvblxuXHRcdFx0XHRpZiAoaW5wdXRfbmFtZSAmJiAobmV3X2RvY25hbWUgfHwgaW5wdXRfbmFtZSkgIT0gZG9jbmFtZSkge1xuXHRcdFx0XHRcdHJlbG9hZF9mb3JtKG5ld19kb2NuYW1lIHx8IGlucHV0X25hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRpZiAoaW5wdXRfdGl0bGUgPT09IHRoaXMuZnJtLmRvY1t0aXRsZV9maWVsZF0gJiYgaW5wdXRfbmFtZSA9PT0gZG9jbmFtZSkge1xuXHRcdFx0XHR0aGlzLnNob3dfdW5jaGFuZ2VkX2RvY3VtZW50X2FsZXJ0KCk7XG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0gZWxzZSBpZiAobWVyZ2UpIHtcblx0XHRcdFx0ZnJhcHBlLmNvbmZpcm0oXG5cdFx0XHRcdFx0Y29uZmlybV9tZXNzYWdlLFxuXHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdHJlbmFtZV9kb2N1bWVudCgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlamVjdCxcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbmFtZV9kb2N1bWVudCgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRzZXR1cF9lZGl0YWJsZV90aXRsZSgpIHsgfVxuXHRnZXRfZHJvcGRvd25fbWVudShsYWJlbCkge1xuXHRcdHJldHVybiB0aGlzLnBhZ2UuYWRkX2Ryb3Bkb3duKGxhYmVsKTtcblx0fVxuXHRzZXRfaW5kaWNhdG9yKCkge1xuXHRcdGxldCBpbmRpY2F0b3IgPSBmcmFwcGUuZ2V0X2luZGljYXRvcih0aGlzLmZybS5kb2MpO1xuXHRcdGlmIChcblx0XHRcdHRoaXMuZnJtLnNhdmVfZGlzYWJsZWQgJiZcblx0XHRcdGluZGljYXRvciAmJlxuXHRcdFx0W19fKCdTYXZlZCcpLCBfXygnTm90IFNhdmVkJyldLmluY2x1ZGVzKGluZGljYXRvclswXSlcblx0XHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKGluZGljYXRvcikge1xuXHRcdFx0dGhpcy5wYWdlLnNldF9pbmRpY2F0b3IoaW5kaWNhdG9yWzBdLCBpbmRpY2F0b3JbMV0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBhZ2UuY2xlYXJfaW5kaWNhdG9yKCk7XG5cdFx0fVxuXHR9XG5cdG1ha2VfbWVudSgpIHtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfaWNvbnMoKTtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfbWVudSgpO1xuXG5cdFx0aWYgKGZyYXBwZS5ib290LmRlc2tfc2V0dGluZ3MuZm9ybV9zaWRlYmFyKSB7XG5cdFx0XHR0aGlzLm1ha2VfbmF2aWdhdGlvbigpO1xuXHRcdFx0dGhpcy5tYWtlX21lbnVfaXRlbXMoKTtcblx0XHR9XG5cdH1cblxuXHRtYWtlX3ZpZXdlcnMoKSB7XG5cdFx0aWYgKHRoaXMuZnJtLnZpZXdlcnMpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5mcm0udmlld2VycyA9IG5ldyBmcmFwcGUudWkuZm9ybS5Gb3JtVmlld2Vycyh7XG5cdFx0XHRmcm06IHRoaXMuZnJtLFxuXHRcdFx0cGFyZW50OiAkKCc8ZGl2IGNsYXNzPVwiZm9ybS12aWV3ZXJzIGQtZmxleFwiPjwvZGl2PicpLnByZXBlbmRUbyhcblx0XHRcdFx0dGhpcy5mcm0ucGFnZS5wYWdlX2FjdGlvbnMsXG5cdFx0XHQpLFxuXHRcdH0pO1xuXHR9XG5cblx0bWFrZV9uYXZpZ2F0aW9uKCkge1xuXHRcdC8vIE5hdmlnYXRlXG5cdFx0Ly8gaWYgKCF0aGlzLmZybS5pc19uZXcoKSAmJiAhdGhpcy5mcm0ubWV0YS5pc3NpbmdsZSkge1xuXHRcdC8vIFx0dGhpcy5wYWdlLmFkZF9hY3Rpb25faWNvbihcblx0XHQvLyBcdFx0J2xlZnQnLFxuXHRcdC8vIFx0XHQoKSA9PiB7XG5cdFx0Ly8gXHRcdFx0dGhpcy5mcm0ubmF2aWdhdGVfcmVjb3JkcygxKTtcblx0XHQvLyBcdFx0fSxcblx0XHQvLyBcdFx0J3ByZXYtZG9jJyxcblx0XHQvLyBcdFx0X18oJ1ByZXZpb3VzIERvY3VtZW50Jylcblx0XHQvLyBcdCk7XG5cdFx0Ly8gXHR0aGlzLnBhZ2UuYWRkX2FjdGlvbl9pY29uKFxuXHRcdC8vIFx0XHQncmlnaHQnLFxuXHRcdC8vIFx0XHQoKSA9PiB7XG5cdFx0Ly8gXHRcdFx0dGhpcy5mcm0ubmF2aWdhdGVfcmVjb3JkcygwKTtcblx0XHQvLyBcdFx0fSxcblx0XHQvLyBcdFx0J25leHQtZG9jJyxcblx0XHQvLyBcdFx0X18oJ05leHQgRG9jdW1lbnQnKVxuXHRcdC8vIFx0KTtcblx0XHQvLyB9XG5cdH1cblxuXHRtYWtlX21lbnVfaXRlbXMoKSB7XG5cdFx0Ly8gUHJpbnRcblx0XHRjb25zdCBtZSA9IHRoaXM7XG5cdFx0Y29uc3QgcCA9IHRoaXMuZnJtLnBlcm1bMF07XG5cdFx0Y29uc3QgZG9jc3RhdHVzID0gY2ludCh0aGlzLmZybS5kb2MuZG9jc3RhdHVzKTtcblx0XHRjb25zdCBpc19zdWJtaXR0YWJsZSA9IGZyYXBwZS5tb2RlbC5pc19zdWJtaXR0YWJsZSh0aGlzLmZybS5kb2MuZG9jdHlwZSk7XG5cblx0XHRjb25zdCBwcmludF9zZXR0aW5ncyA9IGZyYXBwZS5tb2RlbC5nZXRfZG9jKCc6UHJpbnQgU2V0dGluZ3MnLCAnUHJpbnQgU2V0dGluZ3MnKTtcblx0XHRjb25zdCBhbGxvd19wcmludF9mb3JfZHJhZnQgPSBjaW50KHByaW50X3NldHRpbmdzLmFsbG93X3ByaW50X2Zvcl9kcmFmdCk7XG5cdFx0Y29uc3QgYWxsb3dfcHJpbnRfZm9yX2NhbmNlbGxlZCA9IGNpbnQocHJpbnRfc2V0dGluZ3MuYWxsb3dfcHJpbnRfZm9yX2NhbmNlbGxlZCk7XG5cblx0XHRpZiAoXG5cdFx0XHQhaXNfc3VibWl0dGFibGUgfHxcblx0XHRcdGRvY3N0YXR1cyA9PSAxIHx8XG5cdFx0XHQoYWxsb3dfcHJpbnRfZm9yX2NhbmNlbGxlZCAmJiBkb2NzdGF0dXMgPT0gMikgfHxcblx0XHRcdChhbGxvd19wcmludF9mb3JfZHJhZnQgJiYgZG9jc3RhdHVzID09IDApXG5cdFx0KSB7XG5cdFx0XHRpZiAoZnJhcHBlLm1vZGVsLmNhbl9wcmludChudWxsLCBtZS5mcm0pICYmICF0aGlzLmZybS5tZXRhLmlzc2luZ2xlKSB7XG5cdFx0XHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0XHRcdF9fKCdQcmludCcpLFxuXHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdG1lLmZybS5wcmludF9kb2MoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHRydWUsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHRoaXMucHJpbnRfaWNvbiA9IHRoaXMucGFnZS5hZGRfYWN0aW9uX2ljb24oXG5cdFx0XHRcdFx0J3ByaW50ZXInLFxuXHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdG1lLmZybS5wcmludF9kb2MoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCcnLFxuXHRcdFx0XHRcdF9fKCdQcmludCcpLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGVtYWlsXG5cdFx0aWYgKGZyYXBwZS5tb2RlbC5jYW5fZW1haWwobnVsbCwgbWUuZnJtKSAmJiBtZS5mcm0uZG9jLmRvY3N0YXR1cyA8IDIpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0XHRfXygnRW1haWwnKSxcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdG1lLmZybS5lbWFpbF9kb2MoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNob3J0Y3V0OiAnQ3RybCtFJyxcblx0XHRcdFx0XHRjb25kaXRpb246ICgpID0+ICF0aGlzLmZybS5pc19uZXcoKSxcblx0XHRcdFx0fSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gZ28gdG8gZmllbGQgbW9kYWxcblx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdF9fKCdKdW1wIHRvIGZpZWxkJyksXG5cdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLnNob3dfanVtcF90b19maWVsZF9kaWFsb2coKTtcblx0XHRcdH0sXG5cdFx0XHR0cnVlLFxuXHRcdFx0J0N0cmwrSicsXG5cdFx0KTtcblxuXHRcdC8vIExpbmtlZCBXaXRoXG5cdFx0aWYgKCFtZS5mcm0ubWV0YS5pc3NpbmdsZSkge1xuXHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdF9fKCdMaW5rcycpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWUuc2hvd19saW5rZWRfd2l0aCgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBkdXBsaWNhdGVcblx0XHRpZiAoaW5fbGlzdChmcmFwcGUuYm9vdC51c2VyLmNhbl9jcmVhdGUsIG1lLmZybS5kb2N0eXBlKSAmJiAhbWUuZnJtLm1ldGEuYWxsb3dfY29weSkge1xuXHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdF9fKCdEdXBsaWNhdGUnKSxcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdG1lLmZybS5jb3B5X2RvYygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBjb3B5IGRvYyB0byBjbGlwYm9hcmRcblx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdF9fKCdDb3B5IHRvIENsaXBib2FyZCcpLFxuXHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmcmFwcGUudXRpbHMuY29weV90b19jbGlwYm9hcmQoSlNPTi5zdHJpbmdpZnkobWUuZnJtLmRvYykpO1xuXHRcdFx0fSxcblx0XHRcdHRydWUsXG5cdFx0KTtcblxuXHRcdC8vIHJlbG9hZFxuXHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0X18oJ1JlbG9hZCcpLFxuXHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRtZS5mcm0ucmVsb2FkX2RvYygpO1xuXHRcdFx0fSxcblx0XHRcdHRydWUsXG5cdFx0KTtcblxuXHRcdC8vIGRlbGV0ZVxuXHRcdGlmIChcblx0XHRcdGNpbnQobWUuZnJtLmRvYy5kb2NzdGF0dXMpICE9IDEgJiZcblx0XHRcdCFtZS5mcm0uZG9jLl9faXNsb2NhbCAmJlxuXHRcdFx0ZnJhcHBlLm1vZGVsLmNhbl9kZWxldGUobWUuZnJtLmRvY3R5cGUpXG5cdFx0KSB7XG5cdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0X18oJ0RlbGV0ZScpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWUuZnJtLnNhdmV0cmFzaCgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2hvcnRjdXQ6ICdTaGlmdCtDdHJsK0QnLFxuXHRcdFx0XHRcdGNvbmRpdGlvbjogKCkgPT4gIXRoaXMuZnJtLmlzX25ldygpLFxuXHRcdFx0XHR9LFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR0aGlzLm1ha2VfY3VzdG9taXplX2J1dHRvbnMoKTtcblxuXHRcdC8vIEF1dG8gUmVwZWF0XG5cdFx0aWYgKHRoaXMuY2FuX3JlcGVhdCgpKSB7XG5cdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0X18oJ1JlcGVhdCcpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLnV0aWxzLm5ld19hdXRvX3JlcGVhdF9wcm9tcHQobWUuZnJtKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dHJ1ZSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gTmV3XG5cdFx0aWYgKHBbQ1JFQVRFXSAmJiAhdGhpcy5mcm0ubWV0YS5pc3NpbmdsZSAmJiAhdGhpcy5mcm0ubWV0YS5pbl9jcmVhdGUpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0XHRfXygnTmV3IHswfScsIFtfXyhtZS5mcm0uZG9jdHlwZSldKSxcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGZyYXBwZS5uZXdfZG9jKG1lLmZybS5kb2N0eXBlLCB0cnVlKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNob3J0Y3V0OiAnQ3RybCtCJyxcblx0XHRcdFx0XHRjb25kaXRpb246ICgpID0+ICF0aGlzLmZybS5pc19uZXcoKSxcblx0XHRcdFx0fSxcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0bWFrZV9jdXN0b21pemVfYnV0dG9ucygpIHtcblx0XHRsZXQgaXNfZG9jdHlwZV9mb3JtID0gdGhpcy5mcm0uZG9jdHlwZSA9PT0gJ0RvY1R5cGUnO1xuXHRcdGlmIChcblx0XHRcdGZyYXBwZS5tb2RlbC5jYW5fY3JlYXRlKCdDdXN0b20gRmllbGQnKSAmJlxuXHRcdFx0ZnJhcHBlLm1vZGVsLmNhbl9jcmVhdGUoJ1Byb3BlcnR5IFNldHRlcicpXG5cdFx0KSB7XG5cdFx0XHRsZXQgZG9jdHlwZSA9IGlzX2RvY3R5cGVfZm9ybSA/IHRoaXMuZnJtLmRvY25hbWUgOiB0aGlzLmZybS5kb2N0eXBlO1xuXHRcdFx0bGV0IGlzX2RvY3R5cGVfY3VzdG9tID0gaXNfZG9jdHlwZV9mb3JtID8gdGhpcy5mcm0uZG9jLmN1c3RvbSA6IGZhbHNlO1xuXG5cdFx0XHRpZiAoZG9jdHlwZSAhPSAnRG9jVHlwZScgJiYgIWlzX2RvY3R5cGVfY3VzdG9tICYmIHRoaXMuZnJtLm1ldGEuaXNzaW5nbGUgPT09IDApIHtcblx0XHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdFx0X18oJ0N1c3RvbWl6ZScpLFxuXHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmZybS5tZXRhICYmIHRoaXMuZnJtLm1ldGEuY3VzdG9tKSB7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zZXRfcm91dGUoJ0Zvcm0nLCAnRG9jVHlwZScsIGRvY3R5cGUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZnJhcHBlLnNldF9yb3V0ZSgnRm9ybScsICdDdXN0b21pemUgRm9ybScsIHtcblx0XHRcdFx0XHRcdFx0XHRkb2NfdHlwZTogZG9jdHlwZSxcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0cnVlLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChmcmFwcGUubW9kZWwuY2FuX2NyZWF0ZSgnRG9jVHlwZScpKSB7XG5cdFx0XHRpZiAoZnJhcHBlLmJvb3QuZGV2ZWxvcGVyX21vZGUgPT09IDEgJiYgIWlzX2RvY3R5cGVfZm9ybSkge1xuXHRcdFx0XHQvLyBlZGl0IGRvY3R5cGVcblx0XHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdFx0X18oJ0VkaXQgRG9jVHlwZScpLFxuXHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdGZyYXBwZS5zZXRfcm91dGUoJ0Zvcm0nLCAnRG9jVHlwZScsIHRoaXMuZnJtLmRvY3R5cGUpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjYW5fcmVwZWF0KCkge1xuXHRcdHJldHVybiB0aGlzLmZybS5tZXRhLmFsbG93X2F1dG9fcmVwZWF0ICYmICF0aGlzLmZybS5pc19uZXcoKSAmJiAhdGhpcy5mcm0uZG9jLmF1dG9fcmVwZWF0O1xuXHR9XG5cdGNhbl9zYXZlKCkge1xuXHRcdHJldHVybiB0aGlzLmdldF9kb2NzdGF0dXMoKSA9PT0gMDtcblx0fVxuXHRjYW5fc3VibWl0KCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHR0aGlzLmdldF9kb2NzdGF0dXMoKSA9PT0gMCAmJlxuXHRcdFx0IXRoaXMuZnJtLmRvYy5fX2lzbG9jYWwgJiZcblx0XHRcdCF0aGlzLmZybS5kb2MuX191bnNhdmVkICYmXG5cdFx0XHR0aGlzLmZybS5wZXJtWzBdLnN1Ym1pdCAmJlxuXHRcdFx0IXRoaXMuaGFzX3dvcmtmbG93KClcblx0XHQpO1xuXHR9XG5cdGNhbl91cGRhdGUoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMuZ2V0X2RvY3N0YXR1cygpID09PSAxICYmXG5cdFx0XHQhdGhpcy5mcm0uZG9jLl9faXNsb2NhbCAmJlxuXHRcdFx0dGhpcy5mcm0ucGVybVswXS5zdWJtaXQgJiZcblx0XHRcdHRoaXMuZnJtLmRvYy5fX3Vuc2F2ZWRcblx0XHQpO1xuXHR9XG5cdGNhbl9jYW5jZWwoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2RvY3N0YXR1cygpID09PSAxICYmIHRoaXMuZnJtLnBlcm1bMF0uY2FuY2VsICYmICF0aGlzLnJlYWRfb25seTtcblx0fVxuXHRjYW5fYW1lbmQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2RvY3N0YXR1cygpID09PSAyICYmIHRoaXMuZnJtLnBlcm1bMF0uYW1lbmQgJiYgIXRoaXMucmVhZF9vbmx5O1xuXHR9XG5cdGhhc193b3JrZmxvdygpIHtcblx0XHRpZiAodGhpcy5faGFzX3dvcmtmbG93ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRoaXMuX2hhc193b3JrZmxvdyA9IGZyYXBwZS5nZXRfbGlzdCgnV29ya2Zsb3cnLCB7XG5cdFx0XHRcdGRvY3VtZW50X3R5cGU6IHRoaXMuZnJtLmRvY3R5cGUsXG5cdFx0XHR9KS5sZW5ndGg7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9oYXNfd29ya2Zsb3c7XG5cdH1cblx0Z2V0X2RvY3N0YXR1cygpIHtcblx0XHRyZXR1cm4gY2ludCh0aGlzLmZybS5kb2MuZG9jc3RhdHVzKTtcblx0fVxuXHRzaG93X2xpbmtlZF93aXRoKCkge1xuXHRcdGlmICghdGhpcy5mcm0ubGlua2VkX3dpdGgpIHtcblx0XHRcdHRoaXMuZnJtLmxpbmtlZF93aXRoID0gbmV3IGZyYXBwZS51aS5mb3JtLkxpbmtlZFdpdGgoe1xuXHRcdFx0XHRmcm06IHRoaXMuZnJtLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHRoaXMuZnJtLmxpbmtlZF93aXRoLnNob3coKTtcblx0fVxuXHRzZXRfcHJpbWFyeV9hY3Rpb24oZGlydHkpIHtcblx0XHRpZiAoIWRpcnR5KSB7XG5cdFx0XHQvLyBkb24ndCBjbGVhciBhY3Rpb25zIG1lbnUgaWYgZGlydHlcblx0XHRcdHRoaXMucGFnZS5jbGVhcl91c2VyX2FjdGlvbnMoKTtcblx0XHR9XG5cblx0XHRsZXQgc3RhdHVzID0gdGhpcy5nZXRfYWN0aW9uX3N0YXR1cygpO1xuXHRcdGlmIChzdGF0dXMpIHtcblx0XHRcdC8vIFdoZW4gbW92aW5nIGZyb20gYSBwYWdlIHdpdGggc3RhdHVzIGFtZW5kIHRvIGFub3RoZXIgcGFnZSB3aXRoIHN0YXR1cyBhbWVuZFxuXHRcdFx0Ly8gV2UgbmVlZCB0byBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGFtZW5kIHNwZWNpZmljYWxseSBhbmQgaGlkZVxuXHRcdFx0Ly8gb3IgY2xlYXIgdGhlIG1lbnUgYWN0aW9ucyBhY2NvcmRpbmdseVxuXG5cdFx0XHRpZiAoc3RhdHVzICE9PSB0aGlzLmN1cnJlbnRfc3RhdHVzICYmIHN0YXR1cyA9PT0gJ0FtZW5kJykge1xuXHRcdFx0XHRsZXQgeyBkb2MgfSA9IHRoaXMuZnJtO1xuXHRcdFx0XHRmcmFwcGVcblx0XHRcdFx0XHQueGNhbGwoJ2ZyYXBwZS5jbGllbnQuaXNfZG9jdW1lbnRfYW1lbmRlZCcsIHtcblx0XHRcdFx0XHRcdGRvY3R5cGU6IGRvYy5kb2N0eXBlLFxuXHRcdFx0XHRcdFx0ZG9jbmFtZTogZG9jLm5hbWUsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihpc19hbWVuZGVkID0+IHtcblx0XHRcdFx0XHRcdGlmIChpc19hbWVuZGVkKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGFnZS5jbGVhcl9hY3Rpb25zKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuc2V0X3BhZ2VfYWN0aW9ucyhzdGF0dXMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZXRfcGFnZV9hY3Rpb25zKHN0YXR1cyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucGFnZS5jbGVhcl9hY3Rpb25zKCk7XG5cdFx0XHR0aGlzLmN1cnJlbnRfc3RhdHVzID0gbnVsbDtcblx0XHR9XG5cdH1cblx0Z2V0X2FjdGlvbl9zdGF0dXMoKSB7XG5cdFx0bGV0IHN0YXR1cyA9IG51bGw7XG5cdFx0aWYgKHRoaXMuZnJtLnBhZ2UuY3VycmVudF92aWV3X25hbWUgPT09ICdwcmludCcgfHwgdGhpcy5mcm0uaGlkZGVuKSB7XG5cdFx0XHRzdGF0dXMgPSAnRWRpdCc7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmNhbl9zdWJtaXQoKSkge1xuXHRcdFx0c3RhdHVzID0gJ1N1Ym1pdCc7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmNhbl9zYXZlKCkpIHtcblx0XHRcdGlmICghdGhpcy5mcm0uc2F2ZV9kaXNhYmxlZCkge1xuXHRcdFx0XHQvL1Nob3cgdGhlIHNhdmUgYnV0dG9uIGlmIHRoZXJlIGlzIG5vIHdvcmtmbG93IG9yIGlmIHRoZXJlIGlzIGEgd29ya2Zsb3cgYW5kIHRoZXJlIGFyZSBjaGFuZ2VzXG5cdFx0XHRcdGlmICh0aGlzLmhhc193b3JrZmxvdygpID8gdGhpcy5mcm0uZG9jLl9fdW5zYXZlZCA6IHRydWUpIHtcblx0XHRcdFx0XHRzdGF0dXMgPSAnU2F2ZSc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoaXMuY2FuX3VwZGF0ZSgpKSB7XG5cdFx0XHRzdGF0dXMgPSAnVXBkYXRlJztcblx0XHR9IGVsc2UgaWYgKHRoaXMuY2FuX2NhbmNlbCgpKSB7XG5cdFx0XHRzdGF0dXMgPSAnQ2FuY2VsJztcblx0XHR9IGVsc2UgaWYgKHRoaXMuY2FuX2FtZW5kKCkpIHtcblx0XHRcdHN0YXR1cyA9ICdBbWVuZCc7XG5cdFx0fVxuXHRcdHJldHVybiBzdGF0dXM7XG5cdH1cblx0c2V0X3BhZ2VfYWN0aW9ucyhzdGF0dXMpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRoaXMucGFnZS5jbGVhcl9hY3Rpb25zKCk7XG5cblx0XHRpZiAoc3RhdHVzICE9PSAnRWRpdCcpIHtcblx0XHRcdGxldCBwZXJtX3RvX2NoZWNrID0gdGhpcy5mcm0uYWN0aW9uX3Blcm1fdHlwZV9tYXBbc3RhdHVzXTtcblx0XHRcdGlmICghdGhpcy5mcm0ucGVybVswXVtwZXJtX3RvX2NoZWNrXSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHN0YXR1cyA9PT0gJ0VkaXQnKSB7XG5cdFx0XHR0aGlzLnBhZ2Uuc2V0X3ByaW1hcnlfYWN0aW9uKFxuXHRcdFx0XHRfXygnRWRpdCcpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWUuZnJtLnBhZ2Uuc2V0X3ZpZXcoJ21haW4nKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0J2VkaXQnLFxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0NhbmNlbCcpIHtcblx0XHRcdGxldCBhZGRfY2FuY2VsX2J1dHRvbiA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlLnNldF9zZWNvbmRhcnlfYWN0aW9uKF9fKHN0YXR1cyksIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtZS5mcm0uc2F2ZWNhbmNlbCh0aGlzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHRoaXMuaGFzX3dvcmtmbG93KCkpIHtcblx0XHRcdFx0ZnJhcHBlXG5cdFx0XHRcdFx0LnhjYWxsKCdmcmFwcGUubW9kZWwud29ya2Zsb3cuY2FuX2NhbmNlbF9kb2N1bWVudCcsIHtcblx0XHRcdFx0XHRcdGRvY3R5cGU6IHRoaXMuZnJtLmRvYy5kb2N0eXBlLFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LnRoZW4oY2FuX2NhbmNlbCA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoY2FuX2NhbmNlbCkge1xuXHRcdFx0XHRcdFx0XHRhZGRfY2FuY2VsX2J1dHRvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWRkX2NhbmNlbF9idXR0b24oKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IGNsaWNrID0ge1xuXHRcdFx0XHRTYXZlKCkge1xuXHRcdFx0XHRcdHJldHVybiBtZS5mcm0uc2F2ZSgnU2F2ZScsIG51bGwsIHRoaXMpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRTdWJtaXQoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLmZybS5zYXZlc3VibWl0KHRoaXMpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRVcGRhdGUoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLmZybS5zYXZlKCdVcGRhdGUnLCBudWxsLCB0aGlzKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0QW1lbmQoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLmZybS5hbWVuZF9kb2MoKTtcblx0XHRcdFx0fSxcblx0XHRcdH1bc3RhdHVzXTtcblxuXHRcdFx0bGV0IGljb24gPSB7XG5cdFx0XHRcdFVwZGF0ZTogJ2VkaXQnLFxuXHRcdFx0fVtzdGF0dXNdO1xuXG5cdFx0XHR0aGlzLnBhZ2Uuc2V0X3ByaW1hcnlfYWN0aW9uKF9fKHN0YXR1cyksIGNsaWNrLCBpY29uKTtcblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRfc3RhdHVzID0gc3RhdHVzO1xuXHR9XG5cdGFkZF91cGRhdGVfYnV0dG9uX29uX2RpcnR5KCkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0JCh0aGlzLmZybS53cmFwcGVyKS5vbignZGlydHknLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRtZS5zaG93X3RpdGxlX2FzX2RpcnR5KCk7XG5cblx0XHRcdC8vIGNsZWFyIHdvcmtmbG93IGFjdGlvbnNcblx0XHRcdG1lLmZybS5wYWdlLmNsZWFyX2FjdGlvbnNfbWVudSgpO1xuXG5cdFx0XHQvLyBlbmFibGUgc2F2ZSBhY3Rpb25cblx0XHRcdGlmICghbWUuZnJtLnNhdmVfZGlzYWJsZWQpIHtcblx0XHRcdFx0bWUuc2V0X3ByaW1hcnlfYWN0aW9uKHRydWUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdHNob3dfdGl0bGVfYXNfZGlydHkoKSB7XG5cdFx0aWYgKHRoaXMuZnJtLnNhdmVfZGlzYWJsZWQgJiYgIXRoaXMuZnJtLnNldF9kaXJ0eSkgeyByZXR1cm47IH1cblxuXHRcdGlmICh0aGlzLmZybS5pc19kaXJ0eSgpKSB7XG5cdFx0XHR0aGlzLnBhZ2Uuc2V0X2luZGljYXRvcihfXygnTm90IFNhdmVkJyksICdvcmFuZ2UnKTtcblx0XHR9XG5cblx0XHQkKHRoaXMuZnJtLndyYXBwZXIpLmF0dHIoJ2RhdGEtc3RhdGUnLCB0aGlzLmZybS5pc19kaXJ0eSgpID8gJ2RpcnR5JyA6ICdjbGVhbicpO1xuXHR9XG5cblx0c2hvd19qdW1wX3RvX2ZpZWxkX2RpYWxvZygpIHtcblx0XHRsZXQgdmlzaWJsZV9maWVsZHNfZmlsdGVyID0gZiA9PlxuXHRcdFx0IVsnU2VjdGlvbiBCcmVhaycsICdDb2x1bW4gQnJlYWsnLCAnVGFiIEJyZWFrJ10uaW5jbHVkZXMoZi5kZi5maWVsZHR5cGUpICYmXG5cdFx0XHQhZi5kZi5oaWRkZW4gJiZcblx0XHRcdGYuZGlzcF9zdGF0dXMgIT09ICdOb25lJztcblxuXHRcdGxldCBmaWVsZHMgPSB0aGlzLmZybS5maWVsZHNcblx0XHRcdC5maWx0ZXIodmlzaWJsZV9maWVsZHNfZmlsdGVyKVxuXHRcdFx0Lm1hcChmID0+ICh7IGxhYmVsOiBfXyhmLmRmLmxhYmVsKSwgdmFsdWU6IGYuZGYuZmllbGRuYW1lIH0pKTtcblxuXHRcdGxldCBkaWFsb2cgPSBuZXcgZnJhcHBlLnVpLkRpYWxvZyh7XG5cdFx0XHR0aXRsZTogX18oJ0p1bXAgdG8gZmllbGQnKSxcblx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnQXV0b2NvbXBsZXRlJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdmaWVsZG5hbWUnLFxuXHRcdFx0XHRcdGxhYmVsOiBfXygnU2VsZWN0IEZpZWxkJyksXG5cdFx0XHRcdFx0b3B0aW9uczogZmllbGRzLFxuXHRcdFx0XHRcdHJlcWQ6IDEsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKCdHbycpLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb246ICh7IGZpZWxkbmFtZSB9KSA9PiB7XG5cdFx0XHRcdGRpYWxvZy5oaWRlKCk7XG5cdFx0XHRcdHRoaXMuZnJtLnNjcm9sbF90b19maWVsZChmaWVsZG5hbWUpO1xuXHRcdFx0fSxcblx0XHRcdGFuaW1hdGU6IGZhbHNlLFxuXHRcdH0pO1xuXG5cdFx0ZGlhbG9nLnNob3coKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyO1xuIiwgImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuZG9NYW5hZ2VyIHtcblx0Y29uc3RydWN0b3IoeyBmcm0gfSkge1xuXHRcdHRoaXMuZnJtID0gZnJtO1xuXHRcdHRoaXMudW5kb19zdGFjayA9IFtdO1xuXHRcdHRoaXMucmVkb19zdGFjayA9IFtdO1xuXHR9XG5cdHJlY29yZF9jaGFuZ2UoeyBmaWVsZG5hbWUsIG9sZF92YWx1ZSwgbmV3X3ZhbHVlLCBkb2N0eXBlLCBkb2NuYW1lLCBpc19jaGlsZCB9KSB7XG5cdFx0aWYgKG9sZF92YWx1ZSA9PSBuZXdfdmFsdWUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnVuZG9fc3RhY2sucHVzaCh7XG5cdFx0XHRmaWVsZG5hbWUsXG5cdFx0XHRvbGRfdmFsdWUsXG5cdFx0XHRuZXdfdmFsdWUsXG5cdFx0XHRkb2N0eXBlLFxuXHRcdFx0ZG9jbmFtZSxcblx0XHRcdGlzX2NoaWxkLFxuXHRcdH0pO1xuXHR9XG5cblx0ZXJhc2VfaGlzdG9yeSgpIHtcblx0XHR0aGlzLnVuZG9fc3RhY2sgPSBbXTtcblx0XHR0aGlzLnJlZG9fc3RhY2sgPSBbXTtcblx0fVxuXG5cdHVuZG8oKSB7XG5cdFx0Y29uc3QgY2hhbmdlID0gdGhpcy51bmRvX3N0YWNrLnBvcCgpO1xuXHRcdGlmIChjaGFuZ2UpIHtcblx0XHRcdHRoaXMuX2FwcGx5X2NoYW5nZShjaGFuZ2UpO1xuXHRcdFx0dGhpcy5fcHVzaF9yZXZlcnNlX2VudHJ5KGNoYW5nZSwgdGhpcy5yZWRvX3N0YWNrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fc2hvd19hbGVydChfXygnTm90aGluZyBsZWZ0IHRvIHVuZG8nKSk7XG5cdFx0fVxuXHR9XG5cblx0cmVkbygpIHtcblx0XHRjb25zdCBjaGFuZ2UgPSB0aGlzLnJlZG9fc3RhY2sucG9wKCk7XG5cdFx0aWYgKGNoYW5nZSkge1xuXHRcdFx0dGhpcy5fYXBwbHlfY2hhbmdlKGNoYW5nZSk7XG5cdFx0XHR0aGlzLl9wdXNoX3JldmVyc2VfZW50cnkoY2hhbmdlLCB0aGlzLnVuZG9fc3RhY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9zaG93X2FsZXJ0KF9fKCdOb3RoaW5nIGxlZnQgdG8gcmVkbycpKTtcblx0XHR9XG5cdH1cblxuXHRfcHVzaF9yZXZlcnNlX2VudHJ5KGNoYW5nZSwgc3RhY2spIHtcblx0XHRzdGFjay5wdXNoKHtcblx0XHRcdC4uLmNoYW5nZSxcblx0XHRcdG5ld192YWx1ZTogY2hhbmdlLm9sZF92YWx1ZSxcblx0XHRcdG9sZF92YWx1ZTogY2hhbmdlLm5ld192YWx1ZSxcblx0XHR9KTtcblx0fVxuXG5cdF9hcHBseV9jaGFuZ2UoY2hhbmdlKSB7XG5cdFx0aWYgKGNoYW5nZS5pc19jaGlsZCkge1xuXHRcdFx0ZnJhcHBlLm1vZGVsLnNldF92YWx1ZShcblx0XHRcdFx0Y2hhbmdlLmRvY3R5cGUsXG5cdFx0XHRcdGNoYW5nZS5kb2NuYW1lLFxuXHRcdFx0XHRjaGFuZ2UuZmllbGRuYW1lLFxuXHRcdFx0XHRjaGFuZ2Uub2xkX3ZhbHVlXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmZybS5zZXRfdmFsdWUoY2hhbmdlLmZpZWxkbmFtZSwgY2hhbmdlLm9sZF92YWx1ZSk7XG5cdFx0XHR0aGlzLmZybS5zY3JvbGxfdG9fZmllbGQoY2hhbmdlLmZpZWxkbmFtZSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdF9zaG93X2FsZXJ0KG1zZykge1xuXHRcdC8vIHJlZHVjZSBkdXJhdGlvblxuXHRcdC8vIGtleWJvYXJkIGludGVyYWN0aW9ucyBzaG91bGRuJ3QgaGF2ZSBsb25nIHJ1bm5pbmcgYW5ub3lpbmcgdG9hc3RzXG5cdFx0ZnJhcHBlLnNob3dfYWxlcnQobXNnLCAzKTtcblx0fVxufVxuIiwgImltcG9ydCB0eXBlIExheW91dCBmcm9tICcuJztcblxuaW1wb3J0IHR5cGUgQ29sdW1uIGZyb20gJy4vQ29sdW1uJztcblxuY2xhc3MgU2VjdGlvbiB7XG5cdGNvbnN0cnVjdG9yKHBhcmVudDogSlF1ZXJ5PEhUTUxFbGVtZW50PiwgZGY6IGFueSwgY2FyZF9sYXlvdXQ6IGJvb2xlYW4sIGxheW91dDogTGF5b3V0KSB7XG5cdFx0dGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG5cdFx0dGhpcy5jYXJkX2xheW91dCA9IGNhcmRfbGF5b3V0O1xuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHRcdHRoaXMuZGYgPSBkZiB8fCB7fTtcblx0XHR0aGlzLmNvbHVtbnMgPSBbXTtcblx0XHR0aGlzLmZpZWxkc19saXN0ID0gW107XG5cdFx0dGhpcy5maWVsZHNfZGljdCA9IHt9O1xuXG5cdFx0dGhpcy5tYWtlKCk7XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmRmLmxhYmVsICYmXG5cdFx0XHR0aGlzLmRmLmNvbGxhcHNpYmxlICYmXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtkZi5jc3NfY2xhc3N9LWNsb3NlZGApXG5cdFx0KSB7XG5cdFx0XHR0aGlzLmNvbGxhcHNlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5yb3cgPSB7XG5cdFx0XHR3cmFwcGVyOiB0aGlzLndyYXBwZXIsXG5cdFx0fTtcblxuXHRcdHRoaXMucmVmcmVzaCgpO1xuXHR9XG5cblx0bWFrZSgpIHtcblx0XHRsZXQgbWFrZV9jYXJkID0gdGhpcy5jYXJkX2xheW91dDtcblx0XHR0aGlzLndyYXBwZXIgPSAkKGA8ZGl2IGNsYXNzPVwicm93XG5cdFx0XHRcdCR7dGhpcy5kZi5pc19kYXNoYm9hcmRfc2VjdGlvbiA/ICdmb3JtLWRhc2hib2FyZC1zZWN0aW9uJyA6ICdmb3JtLXNlY3Rpb24nfVxuXHRcdFx0XHQke21ha2VfY2FyZCA/ICdjYXJkLXNlY3Rpb24nIDogJyd9XCIgZGF0YS1maWVsZG5hbWU9XCIke3RoaXMuZGYuZmllbGRuYW1lfVwiPlxuXHRcdFx0YCkuYXBwZW5kVG8odGhpcy5wYXJlbnQpO1xuXG5cdFx0aWYgKHRoaXMuZGYpIHtcblx0XHRcdGlmICh0aGlzLmRmLmxhYmVsKSB7XG5cdFx0XHRcdHRoaXMubWFrZV9oZWFkKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5kZi5kZXNjcmlwdGlvbikge1xuXHRcdFx0XHR0aGlzLmRlc2NyaXB0aW9uX3dyYXBwZXIgPSAkKFxuXHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIGZvcm0tc2VjdGlvbi1kZXNjcmlwdGlvblwiPlxuXHRcdFx0XHRcdFx0JHtfXyh0aGlzLmRmLmRlc2NyaXB0aW9uKX1cblx0XHRcdFx0XHQ8L2Rpdj5gLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5kZXNjcmlwdGlvbl93cmFwcGVyKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLmRmLmNzc19jbGFzcykge1xuXHRcdFx0XHR0aGlzLndyYXBwZXIuYWRkQ2xhc3ModGhpcy5kZi5jc3NfY2xhc3MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuZGYuaGlkZV9ib3JkZXIpIHtcblx0XHRcdFx0dGhpcy53cmFwcGVyLnRvZ2dsZUNsYXNzKCdoaWRlLWJvcmRlcicsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuYm9keSA9ICQoJzxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvZHlcIj4nKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO1xuXG5cdFx0aWYgKHRoaXMuZGYuYm9keV9odG1sKSB7XG5cdFx0XHR0aGlzLmJvZHkuYXBwZW5kKHRoaXMuZGYuYm9keV9odG1sKTtcblx0XHR9XG5cdH1cblxuXHRtYWtlX2hlYWQoKSB7XG5cdFx0dGhpcy5oZWFkID0gJChgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkXCI+XG5cdFx0XHRcdCR7X18odGhpcy5kZi5sYWJlbCl9XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwibWwtMiBjb2xsYXBzZS1pbmRpY2F0b3IgbWItMVwiPjwvc3Bhbj5cblx0XHRcdDwvZGl2PlxuXHRcdGApO1xuXG5cdFx0dGhpcy5oZWFkLmFwcGVuZFRvKHRoaXMud3JhcHBlcik7XG5cdFx0dGhpcy5pbmRpY2F0b3IgPSB0aGlzLmhlYWQuZmluZCgnLmNvbGxhcHNlLWluZGljYXRvcicpO1xuXHRcdHRoaXMuaW5kaWNhdG9yLmhpZGUoKTtcblxuXHRcdGlmICh0aGlzLmRmLmNvbGxhcHNpYmxlKSB7XG5cdFx0XHQvLyBzaG93IC8gaGlkZSBiYXNlZCBvbiBzdGF0dXNcblx0XHRcdHRoaXMuY29sbGFwc2VfbGluayA9IHRoaXMuaGVhZC5vbignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY29sbGFwc2UoKTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zZXRfaWNvbigpO1xuXHRcdFx0dGhpcy5pbmRpY2F0b3Iuc2hvdygpO1xuXHRcdH1cblx0fVxuXG5cdGFkZF9maWVsZChmaWVsZG9iajogYW55KSB7XG5cdFx0dGhpcy5maWVsZHNfbGlzdC5wdXNoKGZpZWxkb2JqKTtcblx0XHR0aGlzLmZpZWxkc19kaWN0W2ZpZWxkb2JqLmZpZWxkbmFtZV0gPSBmaWVsZG9iajtcblx0XHRmaWVsZG9iai5zZWN0aW9uID0gdGhpcztcblx0fVxuXG5cdHJlcGxhY2VfZmllbGQoZmllbGRuYW1lLCBmaWVsZG9iaikge1xuXHRcdGlmICh0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV0/LmRmKSB7XG5cdFx0XHRjb25zdCBvbGZsZG9iaiA9IHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXTtcblx0XHRcdGNvbnN0IGlkeCA9IHRoaXMuZmllbGRzX2xpc3QuZmluZEluZGV4KGUgPT4gZSA9PSBvbGZsZG9iaik7XG5cdFx0XHR0aGlzLmZpZWxkc19saXN0LnNwbGljZShpZHgsIDEsIGZpZWxkb2JqKTtcblx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXSA9IGZpZWxkb2JqO1xuXHRcdFx0ZmllbGRvYmouc2VjdGlvbiA9IHRoaXM7XG5cdFx0fVxuXHR9XG5cdHJlZnJlc2goaGlkZT86IGJvb2xlYW4pIHtcblx0XHRpZiAoIXRoaXMuZGYpIHsgcmV0dXJuOyB9XG5cdFx0Ly8gaGlkZSBpZiBleHBsaWNpdGx5IGhpZGRlblxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHRcdGhpZGUgPSBoaWRlIHx8IHRoaXMuZGYuaGlkZGVuIHx8IHRoaXMuZGYuaGlkZGVuX2R1ZV90b19kZXBlbmRlbmN5O1xuXHRcdHRoaXMud3JhcHBlci50b2dnbGVDbGFzcygnaGlkZS1jb250cm9sJywgQm9vbGVhbihoaWRlKSk7XG5cdH1cblxuXHRjb2xsYXBzZShoaWRlKSB7XG5cdFx0Ly8gdW5rbm93biBlZGdlIGNhc2Vcblx0XHRpZiAoISh0aGlzLmhlYWQgJiYgdGhpcy5ib2R5KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChoaWRlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGhpZGUgPSAhdGhpcy5ib2R5Lmhhc0NsYXNzKCdoaWRlJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5ib2R5LnRvZ2dsZUNsYXNzKCdoaWRlJywgaGlkZSk7XG5cdFx0dGhpcy5oZWFkICYmIHRoaXMuaGVhZC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgaGlkZSk7XG5cblx0XHR0aGlzLnNldF9pY29uKGhpZGUpO1xuXG5cdFx0Zm9yIChjb25zdCBmIG9mIHRoaXMuZmllbGRzX2xpc3QpIHsgZi5vbl9zZWN0aW9uX2NvbGxhcHNlICYmIGYub25fc2VjdGlvbl9jb2xsYXBzZShoaWRlKTsgfVxuXG5cdFx0Ly8gc2F2ZSBzdGF0ZSBmb3IgbmV4dCByZWxvYWQgKCcnIGlzIGZhbHN5KVxuXHRcdGlmICh0aGlzLmRmLmNzc19jbGFzcylcblx0XHR7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke3RoaXMuZGYuY3NzX2NsYXNzfS1jbG9zZWRgLCBoaWRlID8gJzEnIDogJycpOyB9XG5cdH1cblxuXHRzZXRfaWNvbihoaWRlKSB7XG5cdFx0bGV0IGluZGljYXRvcl9pY29uID0gaGlkZSA/ICdkb3duJyA6ICd1cC1saW5lJztcblx0XHR0aGlzLmluZGljYXRvciAmJiB0aGlzLmluZGljYXRvci5odG1sKGZyYXBwZS51dGlscy5pY29uKGluZGljYXRvcl9pY29uLCAnc20nLCAnbWItMScpKTtcblx0fVxuXG5cdGlzX2NvbGxhcHNlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5ib2R5Lmhhc0NsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRoYXNfbWlzc2luZ19tYW5kYXRvcnkoKSB7XG5cdFx0bGV0IG1pc3NpbmdfbWFuZGF0b3J5ID0gZmFsc2U7XG5cdFx0Zm9yIChsZXQgaiA9IDAsIGwgPSB0aGlzLmZpZWxkc19saXN0Lmxlbmd0aDsgaiA8IGw7IGorKykge1xuXHRcdFx0Y29uc3Qgc2VjdGlvbl9kZiA9IHRoaXMuZmllbGRzX2xpc3Rbal0uZGY7XG5cdFx0XHRpZiAoc2VjdGlvbl9kZi5yZXFkICYmIHRoaXMubGF5b3V0LmRvY1tzZWN0aW9uX2RmLmZpZWxkbmFtZV0gPT0gbnVsbCkge1xuXHRcdFx0XHRtaXNzaW5nX21hbmRhdG9yeSA9IHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbWlzc2luZ19tYW5kYXRvcnk7XG5cdH1cblxuXHRoaWRlKCkge1xuXHRcdHRoaXMub25fc2VjdGlvbl90b2dnbGUoZmFsc2UpO1xuXHR9XG5cblx0c2hvdygpIHtcblx0XHR0aGlzLm9uX3NlY3Rpb25fdG9nZ2xlKHRydWUpO1xuXHR9XG5cblx0b25fc2VjdGlvbl90b2dnbGUoc2hvdykge1xuXHRcdHRoaXMud3JhcHBlci50b2dnbGVDbGFzcygnaGlkZS1jb250cm9sJywgIXNob3cpO1xuXHRcdC8vIHRoaXMub25fc2VjdGlvbl90b2dnbGUgJiYgdGhpcy5vbl9zZWN0aW9uX3RvZ2dsZShzaG93KTtcblx0fVxufVxuaW50ZXJmYWNlIFNlY3Rpb24ge1xuXHRjYXJkX2xheW91dDogYm9vbGVhbjtcblx0ZmllbGRzX2RpY3Q6IFJlY29yZDxzdHJpbmcsIGFueT47XG5cdGZpZWxkc19saXN0OiBhbnlbXTtcblx0bGF5b3V0OiBMYXlvdXQ7XG5cdGRmOiBhbnk7XG5cdGNvbHVtbnM6IENvbHVtbltdO1xuXHRib2R5OiBKUXVlcnk7XG5cdHdyYXBwZXI6IEpRdWVyeTtcbn1cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCAiaW1wb3J0IHR5cGUgRm9ybSBmcm9tICcuLi9Gb3JtJztcblxuaW1wb3J0IHR5cGUgTGF5b3V0IGZyb20gJy4vaW5kZXgnO1xuXG5pbnRlcmZhY2UgREYge1xuXHRsYWJlbD86IHN0cmluZztcblx0ZmllbGRuYW1lPzogc3RyaW5nLFxuXHRhY3RpdmU/OiBhbnlcblx0aGlkZGVuPzogYW55XG5cdGhpZGRlbl9kdWVfdG9fZGVwZW5kZW5jeT86IGFueVxuXHRwZXJtbGV2ZWw/OiBhbnlcblx0c2hvd19kYXNoYm9hcmQ/OiBhbnlcblxufVxuY2xhc3MgVGFiIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0bGF5b3V0OiBMYXlvdXQsXG5cdFx0ZGY6IERGLFxuXHRcdGZybTogRm9ybSxcblx0XHR0YWJfbGlua19jb250YWluZXI6IEpRdWVyeSxcblx0XHR0YWJzX2NvbnRlbnQ6IEpRdWVyeSxcblx0KSB7XG5cdFx0dGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG5cdFx0dGhpcy5kZiA9IGRmIHx8IHt9O1xuXHRcdHRoaXMuZnJtID0gZnJtO1xuXHRcdHRoaXMuZG9jdHlwZSA9IHRoaXMuZnJtLmRvY3R5cGU7XG5cdFx0dGhpcy5sYWJlbCA9IHRoaXMuZGYgJiYgdGhpcy5kZi5sYWJlbDtcblx0XHR0aGlzLnRhYl9saW5rX2NvbnRhaW5lciA9IHRhYl9saW5rX2NvbnRhaW5lcjtcblx0XHR0aGlzLnRhYnNfY29udGVudCA9IHRhYnNfY29udGVudDtcblx0XHR0aGlzLmZpZWxkc19saXN0ID0gW107XG5cdFx0dGhpcy5maWVsZHNfZGljdCA9IHt9O1xuXHRcdHRoaXMubWFrZSgpO1xuXHRcdHRoaXMuc2V0dXBfbGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuXHRtYWtlKCkge1xuXHRcdGNvbnN0IGlkID0gYGZvcm0tZGV0YWlsLSR7ZnJhcHBlLnNjcnViKHRoaXMuZG9jdHlwZSwgJy0nKX0tJHt0aGlzLmRmLmZpZWxkbmFtZX1gO1xuXHRcdHRoaXMudGFiX2xpbmsgPSAkKGBcblx0XHRcdDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XG5cdFx0XHRcdDxhIGNsYXNzPVwibmF2LWxpbmsgJHt0aGlzLmRmLmFjdGl2ZSA/ICdhY3RpdmUnIDogJyd9XCIgaWQ9XCIke2lkfS10YWJcIlxuXHRcdFx0XHRcdGRhdGEtdG9nZ2xlPVwidGFiXCJcblx0XHRcdFx0XHRkYXRhLWZpZWxkbmFtZT1cIiR7dGhpcy5kZi5maWVsZG5hbWV9XCJcblx0XHRcdFx0XHRocmVmPVwiIyR7aWR9XCJcblx0XHRcdFx0XHRyb2xlPVwidGFiXCJcblx0XHRcdFx0XHRhcmlhLWNvbnRyb2xzPVwiJHt0aGlzLmxhYmVsfVwiPlxuXHRcdFx0XHRcdFx0JHtfXyh0aGlzLmxhYmVsKX1cblx0XHRcdFx0PC9hPlxuXHRcdFx0PC9saT5cblx0XHRgKS5hcHBlbmRUbyh0aGlzLnRhYl9saW5rX2NvbnRhaW5lcik7XG5cblx0XHR0aGlzLndyYXBwZXIgPSAkKGA8ZGl2IGNsYXNzPVwidGFiLXBhbmUgZmFkZSBzaG93ICR7dGhpcy5kZi5hY3RpdmUgPyAnYWN0aXZlJyA6ICcnfVwiXG5cdFx0XHRpZD1cIiR7aWR9XCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJHtpZH0tdGFiXCI+YCkuYXBwZW5kVG8odGhpcy50YWJzX2NvbnRlbnQpO1xuXHR9XG5cblx0cmVmcmVzaCgpIHtcblx0XHRpZiAoIXRoaXMuZGYpIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBoaWRlIGlmIGV4cGxpY2l0bHkgaGlkZGVuXG5cdFx0bGV0IGhpZGUgPSB0aGlzLmRmLmhpZGRlbiB8fCB0aGlzLmRmLmhpZGRlbl9kdWVfdG9fZGVwZW5kZW5jeTtcblxuXHRcdC8vIGhpZGUgaWYgZGFzaGJvYXJkIGFuZCBub3Qgc2F2ZWRcblx0XHRpZiAoIWhpZGUgJiYgdGhpcy5kZi5zaG93X2Rhc2hib2FyZCAmJiB0aGlzLmZybS5pc19uZXcoKSkge1xuXHRcdFx0aGlkZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gaGlkZSBpZiBubyByZWFkIHBlcm1pc3Npb25cblx0XHRpZiAoIWhpZGUgJiYgdGhpcy5mcm0gJiYgIXRoaXMuZnJtLmdldF9wZXJtKHRoaXMuZGYucGVybWxldmVsIHx8IDAsICdyZWFkJykpIHtcblx0XHRcdGhpZGUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICghaGlkZSkge1xuXHRcdFx0Ly8gc2hvdyBvbmx5IGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSB2aXNpYmUgc2VjdGlvbiBvciBjb250cm9sXG5cdFx0XHRoaWRlID0gdHJ1ZTtcblx0XHRcdGlmIChcblx0XHRcdFx0dGhpcy53cmFwcGVyLmZpbmQoXG5cdFx0XHRcdFx0Jy5mb3JtLXNlY3Rpb246bm90KC5oaWRlLWNvbnRyb2wsIC5lbXB0eS1zZWN0aW9uKSwgLmZvcm0tZGFzaGJvYXJkLXNlY3Rpb246bm90KC5oaWRlLWNvbnRyb2wsIC5lbXB0eS1zZWN0aW9uKScsXG5cdFx0XHRcdCkubGVuZ3RoXG5cdFx0XHQpIHtcblx0XHRcdFx0aGlkZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnRvZ2dsZSghaGlkZSk7XG5cdH1cblxuXHR0b2dnbGUoc2hvdzogYm9vbGVhbikge1xuXHRcdHRoaXMudGFiX2xpbmsudG9nZ2xlQ2xhc3MoJ2hpZGUnLCAhc2hvdyk7XG5cdFx0dGhpcy53cmFwcGVyLnRvZ2dsZUNsYXNzKCdoaWRlJywgIXNob3cpO1xuXHRcdHRoaXMudGFiX2xpbmsudG9nZ2xlQ2xhc3MoJ3Nob3cnLCBzaG93KTtcblx0XHR0aGlzLndyYXBwZXIudG9nZ2xlQ2xhc3MoJ3Nob3cnLCBzaG93KTtcblx0XHR0aGlzLmhpZGRlbiA9ICFzaG93O1xuXHR9XG5cblx0c2hvdygpIHtcblx0XHR0aGlzLnRhYl9saW5rLnNob3coKTtcblx0fVxuXG5cdGhpZGUoKSB7XG5cdFx0dGhpcy50YWJfbGluay5oaWRlKCk7XG5cdH1cblx0cmVwbGFjZV9maWVsZChmaWVsZG9iaikge1xuXHRcdGZpZWxkb2JqLnRhYiA9IHRoaXM7XG5cdH1cblxuXHRhZGRfZmllbGQoZmllbGRvYmopIHtcblx0XHRmaWVsZG9iai50YWIgPSB0aGlzO1xuXHR9XG5cblx0c2V0X2FjdGl2ZSgpIHtcblx0XHR0aGlzLnRhYl9saW5rLmZpbmQoJy5uYXYtbGluaycpLnRhYignc2hvdycpO1xuXHRcdHRoaXMud3JhcHBlci5hZGRDbGFzcygnc2hvdycpO1xuXHRcdHRoaXMuZnJtLmFjdGl2ZV90YWIgPSB0aGlzO1xuXHR9XG5cblx0aXNfYWN0aXZlKCkge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXIuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9XG5cblx0aXNfaGlkZGVuKCkge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXIuaGFzQ2xhc3MoJ2hpZGUnKSAmJiB0aGlzLnRhYl9saW5rLmhhc0NsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRzZXR1cF9saXN0ZW5lcnMoKSB7XG5cdFx0dGhpcy50YWJfbGluay5maW5kKCcubmF2LWxpbmsnKS5vbignc2hvd24uYnMudGFiJywgKCkgPT4ge1xuXHRcdFx0dGhpcz8uZnJtLnNldF9hY3RpdmVfdGFiPy4odGhpcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXR1cF9zd2l0Y2hfb25faG92ZXIoKSB7XG5cdFx0dGhpcy50YWJfbGluay5vbignZHJhZ2VudGVyJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5hY3Rpb24gPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5zZXRfYWN0aXZlKCk7XG5cdFx0XHR9LCAyMDAwKTtcblx0XHR9KTtcblx0XHR0aGlzLnRhYl9saW5rLm9uKCdkcmFnb3V0JywgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuYWN0aW9uKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLmFjdGlvbik7XG5cdFx0XHRcdHRoaXMuYWN0aW9uID0gbnVsbDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5pbnRlcmZhY2UgVGFiIHtcblx0bGF5b3V0OiBMYXlvdXQ7XG5cdGRmOiBERjtcblx0ZnJtOiBGb3JtO1xuXHR0YWJfbGlua19jb250YWluZXI6IEpRdWVyeTtcblx0dGFic19jb250ZW50OiBKUXVlcnk7XG5cdGRvY3R5cGU6IHN0cmluZztcblx0bGFiZWw6IGFueTtcblx0aGlkZGVuPzogYm9vbGVhblxuXG5cdHRhYl9saW5rOiBKUXVlcnk7XG5cdHdyYXBwZXI6IEpRdWVyeTtcblx0YWN0aW9uPzogbnVtYmVyIHwgbnVsbDtcblxufVxuZXhwb3J0IGRlZmF1bHQgVGFiO1xuIiwgImltcG9ydCB0eXBlIFNlY3Rpb24gZnJvbSAnLi9TZWN0aW9uJztcblxuY2xhc3MgQ29sdW1uIHtcblx0Y29uc3RydWN0b3Ioc2VjdGlvbjogU2VjdGlvbiwgZGY/OiBhbnkpIHtcblxuXHRcdHRoaXMuZGYgPSBkZiB8fCB7fTtcblx0XHR0aGlzLnNlY3Rpb24gPSBzZWN0aW9uO1xuXHRcdHRoaXMuc2VjdGlvbi5jb2x1bW5zLnB1c2godGhpcyk7XG5cdFx0dGhpcy5tYWtlKCk7XG5cdFx0dGhpcy5yZXNpemVfYWxsX2NvbHVtbnMoKTtcblx0fVxuXG5cdG1ha2UoKSB7XG5cdFx0dGhpcy53cmFwcGVyID0gJChgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1jb2x1bW5cIiBkYXRhLWZpZWxkbmFtZT1cIiR7dGhpcy5kZi5maWVsZG5hbWV9XCI+XG5cdFx0XHRcdDxmb3JtPlxuXHRcdFx0XHQ8L2Zvcm0+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKS5hcHBlbmRUbyh0aGlzLnNlY3Rpb24uYm9keSk7XG5cblx0XHR0aGlzLmZvcm0gPSB0aGlzLndyYXBwZXIuZmluZCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRpZiAodGhpcy5kZi5sYWJlbCkge1xuXHRcdFx0JChgXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj5cblx0XHRcdFx0XHQke19fKHRoaXMuZGYubGFiZWwpfVxuXHRcdFx0XHQ8L2xhYmVsPlxuXHRcdFx0YCkuYXBwZW5kVG8odGhpcy53cmFwcGVyKTtcblx0XHR9XG5cdH1cblxuXHRyZXNpemVfYWxsX2NvbHVtbnMoKSB7XG5cdFx0Ly8gZGlzdHJpYnV0ZSBhbGwgY29sdW1ucyBlcXVhbGx5XG5cdFx0bGV0IGNvbHVtbnMgPSB0aGlzLnNlY3Rpb24ud3JhcHBlci5maW5kKCcuZm9ybS1jb2x1bW4nKS5sZW5ndGg7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0bGV0IGNvbHNwYW4gPSBjaW50KDEyIC8gY29sdW1ucyk7XG5cblxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRpZiAoY29sdW1ucyA9PSA1KSB7XG5cdFx0XHRjb2xzcGFuID0gMjA7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWN0aW9uLndyYXBwZXJcblx0XHRcdC5maW5kKCcuZm9ybS1jb2x1bW4nKVxuXHRcdFx0LnJlbW92ZUNsYXNzKClcblx0XHRcdC5hZGRDbGFzcygnZm9ybS1jb2x1bW4nKVxuXHRcdFx0LmFkZENsYXNzKGBjb2wtc20tJHtjb2xzcGFufWApO1xuXHR9XG5cblx0YWRkX2ZpZWxkKCkgeyB9XG5cblx0cmVmcmVzaCgpIHtcblx0XHR0aGlzLnNlY3Rpb24ucmVmcmVzaCgpO1xuXHR9XG59XG5pbnRlcmZhY2UgQ29sdW1uIHtcblx0c2VjdGlvbjogU2VjdGlvbjtcblx0ZGY6IGFueTtcblx0d3JhcHBlcjogSlF1ZXJ5O1xuXHRmb3JtOiBKUXVlcnk7XG59XG5leHBvcnQgZGVmYXVsdCBDb2x1bW47XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzICovXG5pbXBvcnQgdHlwZSB7IFdyaXRhYmxlQ29tcHV0ZWRSZWYgfSBmcm9tICd2dWUnO1xuXG5pbXBvcnQgdHlwZSBGb3JtIGZyb20gJy4uL0Zvcm0nO1xuXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuL1NlY3Rpb24nO1xuaW1wb3J0IFRhYiBmcm9tICcuL1RhYic7XG5pbXBvcnQgQ29sdW1uIGZyb20gJy4vQ29sdW1uJztcbmNsYXNzIExheW91dCB7XG5cdHZpZXdzID0ge307XG5cdHBhZ2VzID0gW107XG5cdHRhYnM6IFRhYltdID0gW107XG5cdHNlY3Rpb25zOiBTZWN0aW9uW10gPSBbXTtcblx0cGFnZV9icmVha3MgPSBbXTtcblx0c2VjdGlvbnNfZGljdDogUmVjb3JkPHN0cmluZywgU2VjdGlvbj4gPSB7fTtcblx0ZmllbGRzX2xpc3Q6IChTZWN0aW9uIHwgZnJhcHBlLnVpLmZvcm0uQ29udHJvbCB8IENvbHVtbilbXSA9IFtdO1xuXHRmaWVsZHNfZGljdDogUmVjb3JkPHN0cmluZywgU2VjdGlvbiB8IGZyYXBwZS51aS5mb3JtLkNvbnRyb2wgfCBDb2x1bW4+ID0ge307XG5cdHNlY3Rpb25fY291bnQgPSAwO1xuXHRjb2x1bW5fY291bnQgPSAwO1xuXHR3aXRoX2Rhc2hib2FyZCA9IHRydWU7XG5cdGNhcmRfbGF5b3V0ID0gdHJ1ZTtcblx0Y3VycmVudFRhYjogV3JpdGFibGVDb21wdXRlZFJlZjxhbnk+O1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwYXJlbnQ6IEhUTUxFbGVtZW50LFxuXHRcdGRvY3R5cGU6IHN0cmluZyxcblx0XHRkb2N0eXBlX2xheW91dDogdW5rbm93bixcblx0XHRmcm06IEZvcm0sXG5cdFx0Y3VycmVudFRhYjogV3JpdGFibGVDb21wdXRlZFJlZjxhbnk+LFxuXHQpIHtcblx0XHR0aGlzLnBhcmVudCA9ICQocGFyZW50KTtcblx0XHR0aGlzLmRvY3R5cGUgPSBkb2N0eXBlO1xuXHRcdHRoaXMuZG9jdHlwZV9sYXlvdXQgPSBkb2N0eXBlX2xheW91dDtcblx0XHR0aGlzLmZybSA9IGZybTtcblx0XHR0aGlzLmN1cnJlbnRUYWIgPSBjdXJyZW50VGFiO1xuXHRcdGNvbnN0IHdyYXBwZXIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLmZvcm0tbGF5b3V0JykgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0Y29uc3QgbWVzc2FnZSA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1tZXNzYWdlJykgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0Y29uc3QgcGFnZSA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1wYWdlJykgYXMgSFRNTEVsZW1lbnQ7XG5cblxuXHRcdHRoaXMud3JhcHBlciA9ICQod3JhcHBlcik7XG5cdFx0dGhpcy5tZXNzYWdlID0gJChtZXNzYWdlKTtcblx0XHR0aGlzLnBhZ2UgPSAkKHBhZ2UpO1xuXHRcdG1lc3NhZ2UuaW5uZXJIVE1MID0gJyc7XG5cdFx0cGFnZS5pbm5lckhUTUwgPSAnJztcblxuXHRcdGlmICghdGhpcy5maWVsZHMpIHtcblx0XHRcdHRoaXMuZmllbGRzID0gdGhpcy5nZXRfZG9jdHlwZV9maWVsZHMoKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5pc190YWJiZWRfbGF5b3V0KCkpIHtcblx0XHRcdHRoaXMuc2V0dXBfdGFiYmVkX2xheW91dCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuc2V0dXBfdGFiX2V2ZW50cygpO1xuXHRcdHRoaXMucmVuZGVyKCk7XG5cdFx0Ly8gXHU4RkQ4XHU1MzlGXHU1RjUzXHU1MjREXHU2NjNFXHU3OTNBXHU3Njg0IHRhYlxuXHRcdGNvbnN0IHRhYiA9IGN1cnJlbnRUYWIudmFsdWU7XG5cdFx0Y29uc3QgY3VycmVudCA9IHRhYiAmJiB0aGlzLnRhYl9saW5rX2NvbnRhaW5lcj8uWzBdPy5xdWVyeVNlbGVjdG9yKGAubmF2LWxpbmtbZGF0YS1maWVsZG5hbWU9JHt0YWJ9XWApO1xuXHRcdGlmIChjdXJyZW50KSB7XG5cdFx0XHQkKGN1cnJlbnQpLnRhYignc2hvdycpO1xuXHRcdH1cblx0fVxuXG5cdGZvcm1UYWJzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR0YWJzQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRzZXR1cF90YWJiZWRfbGF5b3V0KCkge1xuXHRcdGNvbnN0IHRhYl9saW5rX2NvbnRhaW5lciA9ICQoJzx1bCBjbGFzcz1cIm5hdiBmb3JtLXRhYnNcIiBpZD1cImZvcm0tdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+PC91bD4nKTtcblx0XHRjb25zdCB7Zm9ybVRhYnNMaXN0fSA9IHRoaXM7XG5cdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTmFtZSA9ICdmb3JtLXRhYnMtbGlzdCc7XG5cdFx0dGFiX2xpbmtfY29udGFpbmVyLmFwcGVuZFRvKGZvcm1UYWJzTGlzdCk7XG5cdFx0JChmb3JtVGFic0xpc3QpLmFwcGVuZFRvKHRoaXMucGFnZSk7XG5cdFx0dGhpcy50YWJfbGlua19jb250YWluZXIgPSB0YWJfbGlua19jb250YWluZXI7XG5cdFx0Y29uc3Qge3RhYnNDb250ZW50fSA9IHRoaXM7XG5cdFx0dGFic0NvbnRlbnQuY2xhc3NOYW1lID0gJ2Zvcm0tdGFiLWNvbnRlbnQgdGFiLWNvbnRlbnQnO1xuXHRcdHRoaXMudGFic19jb250ZW50ID0gJCh0YWJzQ29udGVudCkuYXBwZW5kVG8oXG5cdFx0XHR0aGlzLnBhZ2UsXG5cdFx0KTtcblx0XHR0aGlzLnNldHVwX2V2ZW50cygpO1xuXHR9XG5cdGdldF9kb2N0eXBlX2ZpZWxkcygpIHtcblx0XHRsZXQgZmllbGRzID0gW3RoaXMuZ2V0X25ld19uYW1lX2ZpZWxkKCldO1xuXHRcdGlmICh0aGlzLmRvY3R5cGVfbGF5b3V0KSB7XG5cdFx0XHRmaWVsZHMgPSBmaWVsZHMuY29uY2F0KHRoaXMuZ2V0X2ZpZWxkc19mcm9tX2xheW91dCgpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmllbGRzID0gZmllbGRzLmNvbmNhdChcblx0XHRcdFx0ZnJhcHBlLm1ldGEuc29ydF9kb2NmaWVsZHMoZnJhcHBlLm1ldGEuZG9jZmllbGRfbWFwW3RoaXMuZG9jdHlwZV0pLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmllbGRzO1xuXHR9XG5cblx0Z2V0X25ld19uYW1lX2ZpZWxkKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwYXJlbnQ6IHRoaXMuZnJtLmRvY3R5cGUsXG5cdFx0XHRmaWVsZHR5cGU6ICdEYXRhJyxcblx0XHRcdGZpZWxkbmFtZTogJ19fbmV3bmFtZScsXG5cdFx0XHRyZXFkOiAxLFxuXHRcdFx0aGlkZGVuOiAxLFxuXHRcdFx0bGFiZWw6IF9fKCdOYW1lJyksXG5cdFx0XHRnZXRfc3RhdHVzKGZpZWxkKSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRmaWVsZC5mcm0gJiZcblx0XHRcdFx0XHRmaWVsZC5mcm0uaXNfbmV3KCkgJiZcblx0XHRcdFx0XHRmaWVsZC5mcm0ubWV0YS5hdXRvbmFtZSAmJlxuXHRcdFx0XHRcdFsncHJvbXB0JywgJ25hbWUnXS5pbmNsdWRlcyhmaWVsZC5mcm0ubWV0YS5hdXRvbmFtZS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gJ1dyaXRlJztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJ05vbmUnO1xuXHRcdFx0fSxcblx0XHR9O1xuXHR9XG5cblx0Z2V0X2ZpZWxkc19mcm9tX2xheW91dCgpIHtcblx0XHRjb25zdCBmaWVsZHMgPSBbXTtcblx0XHRmb3IgKGxldCBmIG9mIHRoaXMuZG9jdHlwZV9sYXlvdXQuZmllbGRzKSB7XG5cdFx0XHRjb25zdCBkb2NmaWVsZCA9IGNvcHlfZGljdChmcmFwcGUubWV0YS5kb2NmaWVsZF9tYXBbdGhpcy5kb2N0eXBlXVtmLmZpZWxkbmFtZV0pO1xuXHRcdFx0ZG9jZmllbGQubGFiZWwgPSBmLmxhYmVsO1xuXHRcdFx0ZmllbGRzLnB1c2goZG9jZmllbGQpO1xuXHRcdH1cblx0XHRyZXR1cm4gZmllbGRzO1xuXHR9XG5cblx0c2hvd19tZXNzYWdlKGh0bWwsIGNvbG9yKSB7XG5cdFx0aWYgKHRoaXMubWVzc2FnZV9jb2xvcikge1xuXHRcdFx0Ly8gcmVtb3ZlIHByZXZpb3VzIGNvbG9yXG5cdFx0XHR0aGlzLm1lc3NhZ2UucmVtb3ZlQ2xhc3ModGhpcy5tZXNzYWdlX2NvbG9yKTtcblx0XHR9XG5cdFx0dGhpcy5tZXNzYWdlX2NvbG9yID1cblx0XHRcdGNvbG9yICYmIFsneWVsbG93JywgJ2JsdWUnLCAncmVkJywgJ2dyZWVuJywgJ29yYW5nZSddLmluY2x1ZGVzKGNvbG9yKSA/IGNvbG9yIDogJ2JsdWUnO1xuXHRcdGlmIChodG1sKSB7XG5cdFx0XHRpZiAoaHRtbC5zdWJzdHIoMCwgMSkgIT09ICc8Jykge1xuXHRcdFx0XHQvLyB3cmFwIGluIGEgYmxvY2tcblx0XHRcdFx0aHRtbCA9IGA8ZGl2PiR7aHRtbH08L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5tZXNzYWdlLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcyh0aGlzLm1lc3NhZ2VfY29sb3IpO1xuXHRcdFx0JChodG1sKS5hcHBlbmRUbyh0aGlzLm1lc3NhZ2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UuZW1wdHkoKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyKG5ld19maWVsZHM/OiB0eXBlb2YgdGhpcy5maWVsZHMpIHtcblx0XHRsZXQgZmllbGRzID0gbmV3X2ZpZWxkcyB8fCB0aGlzLmZpZWxkcztcblxuXHRcdHRoaXMuc2VjdGlvbiA9IG51bGw7XG5cdFx0dGhpcy5jb2x1bW4gPSBudWxsO1xuXG5cdFx0aWYgKHRoaXMubm9fb3BlbmluZ19zZWN0aW9uKCkgJiYgIXRoaXMuaXNfdGFiYmVkX2xheW91dCgpKSB7XG5cdFx0XHR0aGlzLmZpZWxkcy51bnNoaWZ0KHsgZmllbGR0eXBlOiAnU2VjdGlvbiBCcmVhaycgfSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaXNfdGFiYmVkX2xheW91dCgpKSB7XG5cdFx0XHQvLyBhZGQgYSB0YWIgd2l0aG91dCBgZmllbGRuYW1lYCB0byBhdm9pZCBjb25mbGljdHNcblx0XHRcdGxldCBkZWZhdWx0X3RhYiA9IHtcblx0XHRcdFx0bGFiZWw6IF9fKCdEZXRhaWxzJyksXG5cdFx0XHRcdGZpZWxkdHlwZTogJ1RhYiBCcmVhaycsXG5cdFx0XHRcdGZpZWxkbmFtZTogJ19fZGV0YWlscycsXG5cdFx0XHR9O1xuXG5cdFx0XHRsZXQgZmlyc3RfZmllbGRfdmlzaWJsZSA9IHRoaXMuZmllbGRzLmZpbmQoZWxlbWVudCA9PiBlbGVtZW50LmhpZGRlbiA9PSBmYWxzZSk7XG5cdFx0XHRsZXQgZmlyc3RfdGFiID1cblx0XHRcdFx0Zmlyc3RfZmllbGRfdmlzaWJsZT8uZmllbGR0eXBlID09PSAnVGFiIEJyZWFrJyA/IGZpcnN0X2ZpZWxkX3Zpc2libGUgOiBudWxsO1xuXG5cdFx0XHRpZiAoZmlyc3RfdGFiKSB7XG5cdFx0XHRcdC8vIHJlc2h1ZmZsZSBfX25ld25hbWUgZmllbGQgdG8gYWNjb21vZGF0ZSB1bmRlciAxc3QgVGFiIEJyZWFrXG5cdFx0XHRcdGxldCBuZXduYW1lX2ZpZWxkID0gdGhpcy5maWVsZHMuZmluZChkZiA9PiBkZi5maWVsZG5hbWUgPT09ICdfX25ld25hbWUnKTtcblx0XHRcdFx0aWYgKG5ld25hbWVfZmllbGQgJiYgbmV3bmFtZV9maWVsZC5nZXRfc3RhdHVzKHRoaXMpID09PSAnV3JpdGUnKSB7XG5cdFx0XHRcdFx0dGhpcy5maWVsZHMuc3BsaWNlKDAsIDEpO1xuXHRcdFx0XHRcdHRoaXMuZmllbGRzLnNwbGljZSgxLCAwLCBuZXduYW1lX2ZpZWxkKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5maWVsZHMuc3BsaWNlKDAsIDAsIGRlZmF1bHRfdGFiKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGRmIG9mIGZpZWxkcykge1xuXHRcdFx0c3dpdGNoIChkZi5maWVsZHR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnRm9sZCc6XG5cdFx0XHRcdFx0dGhpcy5tYWtlX3BhZ2UoZGYpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdQYWdlIEJyZWFrJzpcblx0XHRcdFx0XHR0aGlzLm1ha2VfcGFnZV9icmVhaygpO1xuXHRcdFx0XHRcdHRoaXMubWFrZV9zZWN0aW9uKGRmKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnU2VjdGlvbiBCcmVhayc6XG5cdFx0XHRcdFx0dGhpcy5tYWtlX3NlY3Rpb24oZGYpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDb2x1bW4gQnJlYWsnOlxuXHRcdFx0XHRcdHRoaXMubWFrZV9jb2x1bW4oZGYpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdUYWIgQnJlYWsnOlxuXHRcdFx0XHRcdHRoaXMubWFrZV90YWIoZGYpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRoaXMubWFrZV9maWVsZChkZik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0bm9fb3BlbmluZ19zZWN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQodGhpcy5maWVsZHNbMF0gJiYgdGhpcy5maWVsZHNbMF0uZmllbGR0eXBlICE9ICdTZWN0aW9uIEJyZWFrJykgfHwgIXRoaXMuZmllbGRzLmxlbmd0aFxuXHRcdCk7XG5cdH1cblxuXHRub19vcGVuaW5nX3RhYigpIHtcblx0XHRyZXR1cm4gKHRoaXMuZmllbGRzWzFdICYmIHRoaXMuZmllbGRzWzFdLmZpZWxkdHlwZSAhPSAnVGFiIEJyZWFrJykgfHwgIXRoaXMuZmllbGRzLmxlbmd0aDtcblx0fVxuXG5cdGlzX3RhYmJlZF9sYXlvdXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmllbGRzLmZpbmQoZiA9PiBmLmZpZWxkdHlwZSA9PT0gJ1RhYiBCcmVhaycpO1xuXHR9XG5cblx0cmVwbGFjZV9maWVsZChmaWVsZG5hbWUsIGRmLCByZW5kZXIpIHtcblx0XHRkZi5maWVsZG5hbWUgPSBmaWVsZG5hbWU7IC8vIGNoYW5nZSBvZiBmaWVsZG5hbWUgaXMgYXZvaWRlZFxuXHRcdGlmICh0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV0gJiYgdGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdLmRmKSB7XG5cdFx0XHRjb25zdCBwcmV2X2ZpZWxkb2JqID0gdGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdO1xuXHRcdFx0Y29uc3QgZmllbGRvYmogPSB0aGlzLmluaXRfZmllbGQoZGYsIHByZXZfZmllbGRvYmoucGFyZW50LCByZW5kZXIpO1xuXHRcdFx0cHJldl9maWVsZG9iai4kd3JhcHBlci5yZXBsYWNlV2l0aChmaWVsZG9iai4kd3JhcHBlcik7XG5cdFx0XHRjb25zdCBpZHggPSB0aGlzLmZpZWxkc19saXN0LmZpbmRJbmRleChlID0+IGUgPT0gcHJldl9maWVsZG9iaik7XG5cdFx0XHR0aGlzLmZpZWxkc19saXN0LnNwbGljZShpZHgsIDEsIGZpZWxkb2JqKTtcblx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXSA9IGZpZWxkb2JqO1xuXHRcdFx0Zm9yIChjb25zdCBzZWN0aW9uIG9mIHRoaXMuc2VjdGlvbnMpIHsgc2VjdGlvbi5yZXBsYWNlX2ZpZWxkKGZpZWxkbmFtZSwgZmllbGRvYmopOyB9XG5cdFx0XHRwcmV2X2ZpZWxkb2JqLnRhYj8ucmVwbGFjZV9maWVsZChmaWVsZG9iaik7XG5cdFx0XHR0aGlzLnJlZnJlc2hfZmllbGRzKFtkZl0pO1xuXHRcdH1cblx0fVxuXG5cdG1ha2VfZmllbGQoZGY6IGFueSwgY29sc3Bhbj86IG51bWJlciwgcmVuZGVyPzogYm9vbGVhbikge1xuXHRcdCF0aGlzLnNlY3Rpb24gJiYgdGhpcy5tYWtlX3NlY3Rpb24oKTtcblx0XHQhdGhpcy5jb2x1bW4gJiYgdGhpcy5tYWtlX2NvbHVtbigpO1xuXG5cdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5jb2x1bW4ud3JhcHBlci5nZXQoMCk7XG5cdFx0Y29uc3QgZmllbGRvYmogPSB0aGlzLmluaXRfZmllbGQoZGYsIHBhcmVudCwgcmVuZGVyKTtcblx0XHR0aGlzLmZpZWxkc19saXN0LnB1c2goZmllbGRvYmopO1xuXHRcdHRoaXMuZmllbGRzX2RpY3RbZGYuZmllbGRuYW1lXSA9IGZpZWxkb2JqO1xuXG5cdFx0dGhpcy5zZWN0aW9uIS5hZGRfZmllbGQoZmllbGRvYmopO1xuXHRcdHRoaXMuY29sdW1uIS5hZGRfZmllbGQoZmllbGRvYmopO1xuXG5cdFx0aWYgKHRoaXMuY3VycmVudF90YWIpIHtcblx0XHRcdHRoaXMuY3VycmVudF90YWIuYWRkX2ZpZWxkKGZpZWxkb2JqKTtcblx0XHR9XG5cdH1cblxuXHRpbml0X2ZpZWxkKGRmOiBhbnksIHBhcmVudDogSlF1ZXJ5PEhUTUxFbGVtZW50PiwgcmVuZGVyID0gZmFsc2UpOiBmcmFwcGUudWkuZm9ybS5Db250cm9sIHtcblx0XHRjb25zdCBmaWVsZG9iaiA9IGZyYXBwZS51aS5mb3JtLm1ha2VfY29udHJvbCh7XG5cdFx0XHRkZixcblx0XHRcdGRvY3R5cGU6IHRoaXMuZG9jdHlwZSxcblx0XHRcdHBhcmVudDogcGFyZW50LFxuXHRcdFx0ZnJtOiB0aGlzLmZybSxcblx0XHRcdHJlbmRlcl9pbnB1dDogcmVuZGVyLFxuXHRcdFx0ZG9jOiB0aGlzLmRvYyxcblx0XHRcdGxheW91dDogdGhpcyxcblx0XHR9KTtcblxuXHRcdGZpZWxkb2JqLmxheW91dCA9IHRoaXM7XG5cdFx0cmV0dXJuIGZpZWxkb2JqO1xuXHR9XG5cblx0LyoqIFx1NkRGQlx1NTJBMFx1NTIwNlx1OTg3NVx1NjgwN1x1N0I3RSBkaXYuZm9ybS1wYWdlLnBhZ2UtYnJlYWsgKi9cblx0bWFrZV9wYWdlX2JyZWFrKCkge1xuXHRcdHRoaXMucGFnZSA9ICQoJzxkaXYgY2xhc3M9XCJmb3JtLXBhZ2UgcGFnZS1icmVha1wiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMud3JhcHBlcik7XG5cdH1cblxuXHRtYWtlX3BhZ2UoZGYpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRsZXQgaGVhZCA9ICQoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tY2xpY2thYmxlLXNlY3Rpb24gdGV4dC1jZW50ZXJcIj5cblx0XHRcdFx0PGEgY2xhc3M9XCJidG4tZm9sZCBoNiB0ZXh0LW11dGVkXCI+XG5cdFx0XHRcdFx0JHtfXygnU2hvdyBtb3JlIGRldGFpbHMnKX1cblx0XHRcdFx0PC9hPlxuXHRcdFx0PC9kaXY+XG5cdFx0YCkuYXBwZW5kVG8odGhpcy53cmFwcGVyKTtcblxuXHRcdHRoaXMucGFnZSA9ICQoJzxkaXYgY2xhc3M9XCJmb3JtLXBhZ2Ugc2Vjb25kLXBhZ2UgaGlkZVwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMud3JhcHBlcik7XG5cblx0XHR0aGlzLmZvbGRfYnRuID0gaGVhZC5maW5kKCcuYnRuLWZvbGQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRsZXQgcGFnZSA9ICQodGhpcykucGFyZW50KCkubmV4dCgpO1xuXHRcdFx0aWYgKHBhZ2UuaGFzQ2xhc3MoJ2hpZGUnKSkge1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdidG4tZm9sZCcpLmh0bWwoX18oJ0hpZGUgZGV0YWlscycpKTtcblx0XHRcdFx0cGFnZS5yZW1vdmVDbGFzcygnaGlkZScpO1xuXHRcdFx0XHRmcmFwcGUudXRpbHMuc2Nyb2xsX3RvKCQodGhpcyksIHRydWUsIDMwKTtcblx0XHRcdFx0bWUuZm9sZGVkID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdidG4tZm9sZCcpLmh0bWwoX18oJ1Nob3cgbW9yZSBkZXRhaWxzJykpO1xuXHRcdFx0XHRwYWdlLmFkZENsYXNzKCdoaWRlJyk7XG5cdFx0XHRcdG1lLmZvbGRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnNlY3Rpb24gPSBudWxsO1xuXHRcdHRoaXMuZm9sZGVkID0gdHJ1ZTtcblx0fVxuXG5cdHVuZm9sZCgpIHtcblx0XHR0aGlzLmZvbGRfYnRuLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU5ODc1XHU5NzYyIHNlY3Rpb25cblx0ICogc2VjdGlvbiBcdTUyMUJcdTVFRkFcdTU0MEVcdUZGMENcdTRGMUFcdTdGNkVcdTdBN0EgY29sdW1uXG5cdCAqIFx1NTIxQlx1NUVGQVx1OEZDN1x1N0EwQlx1NEUyRFx1RkYwQ1x1NTk4Mlx1Njc5Q1x1NUI1OFx1NTcyOCB0YWIgXHVGRjBDXHU1MjE5XHU0RjFBXHU1MjFCXHU1RUZBXHU1MjMwIHRhYiBcdTRFMkRcdUZGMENcdTU0MjZcdTUyMTlcdUZGMENcdTRGMUFcdTUyMUJcdTVFRkFcdTUyMzAgcGFnZSBcdTRFMkRcblx0ICovXG5cdG1ha2Vfc2VjdGlvbihkZjoge1xuXHRcdGZpZWxkbmFtZT86IHN0cmluZ1xuXHRcdGZpZWxkdHlwZT86IHN0cmluZ1xuXHR9ID0ge30pIHtcblx0XHR0aGlzLnNlY3Rpb25fY291bnQrKztcblx0XHRpZiAoIWRmLmZpZWxkbmFtZSkge1xuXHRcdFx0ZGYuZmllbGRuYW1lID0gYF9fc2VjdGlvbl8ke3RoaXMuc2VjdGlvbl9jb3VudH1gO1xuXHRcdFx0ZGYuZmllbGR0eXBlID0gJ1NlY3Rpb24gQnJlYWsnO1xuXHRcdH1cblxuXHRcdHRoaXMuc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuXHRcdFx0dGhpcy5jdXJyZW50X3RhYj8ud3JhcHBlciB8fCB0aGlzLnBhZ2UsXG5cdFx0XHRkZixcblx0XHRcdHRoaXMuY2FyZF9sYXlvdXQsXG5cdFx0XHR0aGlzLFxuXHRcdCk7XG5cdFx0dGhpcy5zZWN0aW9ucy5wdXNoKHRoaXMuc2VjdGlvbik7XG5cdFx0dGhpcy5zZWN0aW9uc19kaWN0W2RmLmZpZWxkbmFtZV0gPSB0aGlzLnNlY3Rpb247XG5cblx0XHQvLyBhcHBlbmQgdG8gbGF5b3V0IGZpZWxkc1xuXHRcdGlmIChkZikge1xuXHRcdFx0dGhpcy5maWVsZHNfZGljdFtkZi5maWVsZG5hbWVdID0gdGhpcy5zZWN0aW9uO1xuXHRcdFx0dGhpcy5maWVsZHNfbGlzdC5wdXNoKHRoaXMuc2VjdGlvbik7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb2x1bW4gPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTIxQlx1NUVGQVx1NTIwNlx1NTIxN1xuXHQgKiBcdTUyMTdcdTRGMUFcdTUyMUJcdTVFRkFcdTUyMzAgc2VjdGlvbiBcdTRFMkRcblx0ICovXG5cdG1ha2VfY29sdW1uKGRmOiB7XG5cdFx0ZmllbGRuYW1lPzogc3RyaW5nXG5cdFx0ZmllbGR0eXBlPzogc3RyaW5nXG5cdH0gPSB7fSkge1xuXHRcdHRoaXMuY29sdW1uX2NvdW50Kys7XG5cdFx0aWYgKCFkZi5maWVsZG5hbWUpIHtcblx0XHRcdGRmLmZpZWxkbmFtZSA9IGBfX2NvbHVtbl8ke3RoaXMuc2VjdGlvbl9jb3VudH1gO1xuXHRcdFx0ZGYuZmllbGR0eXBlID0gJ0NvbHVtbiBCcmVhayc7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb2x1bW4gPSBuZXcgQ29sdW1uKHRoaXMuc2VjdGlvbiEsIGRmKTtcblx0XHRpZiAoZGYgJiYgZGYuZmllbGRuYW1lKSB7XG5cdFx0XHR0aGlzLmZpZWxkc19saXN0LnB1c2godGhpcy5jb2x1bW4pO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0IHRhYiBcdTk4NzVcdTk3NjJcblx0ICogdGFiIFx1NTIxQlx1NUVGQVx1NTQwRVx1RkYwQ1x1NEYxQVx1ODFFQVx1NTJBOFx1NTIxQlx1NUVGQVx1NjVCMFx1NzY4NCBzZWN0aW9uXG5cdCAqL1xuXHRtYWtlX3RhYihkZikge1xuXHRcdHRoaXMuc2VjdGlvbiA9IG51bGw7XG5cdFx0bGV0IHRhYiA9IG5ldyBUYWIodGhpcywgZGYsIHRoaXMuZnJtLCB0aGlzLnRhYl9saW5rX2NvbnRhaW5lciwgdGhpcy50YWJzX2NvbnRlbnQpO1xuXHRcdHRoaXMuY3VycmVudF90YWIgPSB0YWI7XG5cdFx0dGhpcy5tYWtlX3NlY3Rpb24oeyBmaWVsZHR5cGU6ICdTZWN0aW9uIEJyZWFrJyB9KTtcblx0XHR0aGlzLnRhYnMucHVzaCh0YWIpO1xuXHRcdHJldHVybiB0YWI7XG5cdH1cblxuXHRyZWZyZXNoKGRvYykge1xuXHRcdGlmIChkb2MpIHsgdGhpcy5kb2MgPSBkb2M7IH1cblxuXHRcdGlmICh0aGlzLmZybSkge1xuXHRcdFx0dGhpcy53cmFwcGVyLmZpbmQoJy5lbXB0eS1mb3JtLWFsZXJ0JykucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gTk9URSB0aGlzIG1pZ2h0IHNlZW0gcmVkdW5kYW50IGF0IGZpcnN0LCBidXQgaXQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgd2hlbiBmcm0ucmVmcmVzaF9maWVsZHMgaXMgY2FsbGVkXG5cdFx0dGhpcy5hdHRhY2hfZG9jX2FuZF9kb2NmaWVsZHModHJ1ZSk7XG5cblx0XHRpZiAodGhpcy5mcm0gJiYgdGhpcy5mcm0ud3JhcHBlcikge1xuXHRcdFx0JCh0aGlzLmZybS53cmFwcGVyKS50cmlnZ2VyKCdyZWZyZXNoLWZpZWxkcycpO1xuXHRcdH1cblxuXHRcdC8vIGRlcGVuZGVudCBmaWVsZHNcblx0XHR0aGlzLnJlZnJlc2hfZGVwZW5kZW5jeSgpO1xuXG5cdFx0Ly8gcmVmcmVzaCBzZWN0aW9uc1xuXHRcdHRoaXMucmVmcmVzaF9zZWN0aW9ucygpO1xuXG5cdFx0aWYgKHRoaXMuZnJtKSB7XG5cdFx0XHQvLyBjb2xsYXBzZSBzZWN0aW9uc1xuXHRcdFx0dGhpcy5yZWZyZXNoX3NlY3Rpb25fY29sbGFwc2UoKTtcblx0XHR9XG5cblx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuXHRcdFx0aWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PSAnSU5QVVQnICYmIHRoaXMuaXNfbnVtZXJpY19maWVsZF9hY3RpdmUoKSkge1xuXHRcdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LnNlbGVjdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlzX251bWVyaWNfZmllbGRfYWN0aXZlKCkge1xuXHRcdGNvbnN0IGNvbnRyb2wgPSAkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoJy5mcmFwcGUtY29udHJvbCcpO1xuXHRcdGNvbnN0IHsgZmllbGR0eXBlIH0gPSBjb250cm9sLmRhdGEoKSB8fCB7fTtcblx0XHRyZXR1cm4gZnJhcHBlLm1vZGVsLm51bWVyaWNfZmllbGR0eXBlcy5pbmNsdWRlcyhmaWVsZHR5cGUpO1xuXHR9XG5cblx0cmVmcmVzaF9zZWN0aW9ucygpIHtcblx0XHQvLyBoaWRlIGludmlzaWJsZSBzZWN0aW9uc1xuXHRcdHRoaXMud3JhcHBlci5maW5kKCcuZm9ybS1zZWN0aW9uOm5vdCguaGlkZS1jb250cm9sKScpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0Y29uc3Qgc2VjdGlvbiA9ICQodGhpcykucmVtb3ZlQ2xhc3MoJ2VtcHR5LXNlY3Rpb24gdmlzaWJsZS1zZWN0aW9uJyk7XG5cdFx0XHRpZiAoc2VjdGlvbi5maW5kKCcuZnJhcHBlLWNvbnRyb2w6bm90KC5oaWRlLWNvbnRyb2wpJykubGVuZ3RoKSB7XG5cdFx0XHRcdHNlY3Rpb24uYWRkQ2xhc3MoJ3Zpc2libGUtc2VjdGlvbicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gbm90aGluZyB2aXNpYmxlLCBoaWRlIHRoZSBzZWN0aW9uXG5cdFx0XHRcdHNlY3Rpb24uYWRkQ2xhc3MoJ2VtcHR5LXNlY3Rpb24nKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIHJlZnJlc2ggdGFic1xuXHRcdHRoaXMuaXNfdGFiYmVkX2xheW91dCgpICYmIHRoaXMucmVmcmVzaF90YWJzKCk7XG5cdH1cblxuXHRyZWZyZXNoX3RhYnMoKSB7XG5cdFx0Zm9yIChsZXQgdGFiIG9mIHRoaXMudGFicykge1xuXHRcdFx0dGFiLnJlZnJlc2goKTtcblx0XHR9XG5cblx0XHRjb25zdCB2aXNpYmxlX3RhYnMgPSB0aGlzLnRhYnMuZmlsdGVyKHRhYiA9PiAhdGFiLmhpZGRlbik7XG5cdFx0aWYgKHZpc2libGVfdGFicyAmJiB2aXNpYmxlX3RhYnMubGVuZ3RoID09IDEpIHtcblx0XHRcdHZpc2libGVfdGFic1swXS50YWJfbGluay50b2dnbGVDbGFzcygnaGlkZSBzaG93Jyk7XG5cdFx0fVxuXHRcdHRoaXMuc2V0X3RhYl9hc19hY3RpdmUoKTtcblx0fVxuXG5cdHNldF90YWJfYXNfYWN0aXZlKCkge1xuXHRcdGxldCBmcm1fYWN0aXZlX3RhYiA9IHRoaXM/LmZybS5nZXRfYWN0aXZlX3RhYj8uKCk7XG5cdFx0aWYgKGZybV9hY3RpdmVfdGFiKSB7XG5cdFx0XHRmcm1fYWN0aXZlX3RhYi5zZXRfYWN0aXZlKCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnRhYnMubGVuZ3RoKSB7XG5cdFx0XHQvLyBzZXQgZmlyc3QgdGFiIGFzIGFjdGl2ZSB3aGVuIG9wZW5pbmcgZm9yIGZpcnN0IHRpbWUsIG9yIG5ldyBkb2Ncblx0XHRcdGxldCBmaXJzdF92aXNpYmxlX3RhYiA9IHRoaXMudGFicy5maW5kKHRhYiA9PiAhdGFiLmlzX2hpZGRlbigpKTtcblx0XHRcdGZpcnN0X3Zpc2libGVfdGFiICYmIGZpcnN0X3Zpc2libGVfdGFiLnNldF9hY3RpdmUoKTtcblx0XHR9XG5cdH1cblxuXHRyZWZyZXNoX2ZpZWxkcyhmaWVsZHMpIHtcblx0XHRsZXQgZmllbGRuYW1lcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4ge1xuXHRcdFx0aWYgKGZpZWxkLmZpZWxkbmFtZSkgeyByZXR1cm4gZmllbGQuZmllbGRuYW1lOyB9XG5cdFx0fSk7XG5cblx0XHR0aGlzLmZpZWxkc19saXN0Lm1hcChmaWVsZG9iaiA9PiB7XG5cdFx0XHRpZiAoZmllbGRuYW1lcy5pbmNsdWRlcyhmaWVsZG9iai5kZi5maWVsZG5hbWUpKSB7XG5cdFx0XHRcdGZpZWxkb2JqLnJlZnJlc2goKTtcblx0XHRcdFx0aWYgKGZpZWxkb2JqLmRmLmRlZmF1bHQpIHtcblx0XHRcdFx0XHRmaWVsZG9iai5zZXRfaW5wdXQoZmllbGRvYmouZGYuZGVmYXVsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGFkZF9maWVsZHMoZmllbGRzKSB7XG5cdFx0dGhpcy5yZW5kZXIoZmllbGRzKTtcblx0XHR0aGlzLnJlZnJlc2hfZmllbGRzKGZpZWxkcyk7XG5cdH1cblxuXHRyZWZyZXNoX3NlY3Rpb25fY29sbGFwc2UoKSB7XG5cdFx0aWYgKCEodGhpcy5zZWN0aW9ucyAmJiB0aGlzLnNlY3Rpb25zLmxlbmd0aCkpIHsgcmV0dXJuOyB9XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBzZWN0aW9uID0gdGhpcy5zZWN0aW9uc1tpXTtcblx0XHRcdGxldCB7IGRmIH0gPSBzZWN0aW9uO1xuXHRcdFx0aWYgKGRmICYmIGRmLmNvbGxhcHNpYmxlKSB7XG5cdFx0XHRcdGxldCBjb2xsYXBzZSA9IHRydWU7XG5cblx0XHRcdFx0aWYgKGRmLmNvbGxhcHNpYmxlX2RlcGVuZHNfb24pIHtcblx0XHRcdFx0XHRjb2xsYXBzZSA9ICF0aGlzLmV2YWx1YXRlX2RlcGVuZHNfb25fdmFsdWUoZGYuY29sbGFwc2libGVfZGVwZW5kc19vbik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29sbGFwc2UgJiYgc2VjdGlvbi5oYXNfbWlzc2luZ19tYW5kYXRvcnkoKSkge1xuXHRcdFx0XHRcdGNvbGxhcHNlID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZWN0aW9uLmNvbGxhcHNlKGNvbGxhcHNlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhdHRhY2hfZG9jX2FuZF9kb2NmaWVsZHMocmVmcmVzaCkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0Zm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmZpZWxkc19saXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0bGV0IGZpZWxkb2JqID0gdGhpcy5maWVsZHNfbGlzdFtpXTtcblx0XHRcdGlmIChtZS5kb2MpIHtcblx0XHRcdFx0ZmllbGRvYmouZG9jID0gbWUuZG9jO1xuXHRcdFx0XHRmaWVsZG9iai5kb2N0eXBlID0gbWUuZG9jLmRvY3R5cGU7XG5cdFx0XHRcdGZpZWxkb2JqLmRvY25hbWUgPSBtZS5kb2MubmFtZTtcblx0XHRcdFx0ZmllbGRvYmouZGYgPVxuXHRcdFx0XHRcdGZyYXBwZS5tZXRhLmdldF9kb2NmaWVsZChtZS5kb2MuZG9jdHlwZSwgZmllbGRvYmouZGYuZmllbGRuYW1lLCBtZS5kb2MubmFtZSkgfHxcblx0XHRcdFx0XHRmaWVsZG9iai5kZjtcblx0XHRcdH1cblx0XHRcdHJlZnJlc2ggJiYgZmllbGRvYmouZGYgJiYgZmllbGRvYmoucmVmcmVzaCAmJiBmaWVsZG9iai5yZWZyZXNoKCk7XG5cdFx0fVxuXHR9XG5cblx0cmVmcmVzaF9zZWN0aW9uX2NvdW50KCkge1xuXHRcdHRoaXMud3JhcHBlci5maW5kKCcuc2VjdGlvbi1jb3VudC1sYWJlbDp2aXNpYmxlJykuZWFjaChmdW5jdGlvbiAoaSkge1xuXHRcdFx0JCh0aGlzKS5odG1sKGkgKyAxKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldHVwX2V2ZW50cygpIHtcblxuXHRcdGxldCBsYXN0X3Njcm9sbCA9IDA7XG5cdFx0Y29uc3Qge2Zvcm1UYWJzTGlzdH0gPSB0aGlzO1xuXHRcdGxldCB7dGFic0NvbnRlbnR9ID0gdGhpcztcblxuXHRcdGNvbnN0IGV2ZW50TGlzdGVuZXIgPSBmcmFwcGUudXRpbHMudGhyb3R0bGUoKCkgPT4ge1xuXHRcdFx0bGV0IGN1cnJlbnRfc2Nyb2xsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblx0XHRcdGlmIChjdXJyZW50X3Njcm9sbCA+IDAgJiYgbGFzdF9zY3JvbGwgPD0gY3VycmVudF9zY3JvbGwpIHtcblx0XHRcdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tdGFicy1zdGlja3ktZG93bicpO1xuXHRcdFx0XHRmb3JtVGFic0xpc3QuY2xhc3NMaXN0LmFkZCgnZm9ybS10YWJzLXN0aWNreS11cCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tdGFicy1zdGlja3ktdXAnKTtcblx0XHRcdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tdGFicy1zdGlja3ktZG93bicpO1xuXHRcdFx0fVxuXHRcdFx0bGFzdF9zY3JvbGwgPSBjdXJyZW50X3Njcm9sbDtcblx0XHR9LCA1MDApO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBldmVudExpc3RlbmVyKTtcblx0XHQvLyBUT0RPOiBcdTU4OUVcdTUyQTBcdTc5RkJcdTk2NjRcdTkwM0JcdThGOTFcblxuXG5cdFx0dGhpcy50YWJfbGlua19jb250YWluZXIub2ZmKCdjbGljaycpLm9uKCdjbGljaycsICcubmF2LWxpbmsnLCBlID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRjb25zdCBlbCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcblx0XHRcdCQoZWwpLnRhYignc2hvdycpO1xuXHRcdFx0Ly8gXHU4QkIwXHU0RjRGXHU1RjUzXHU1MjREXHU2NjNFXHU3OTNBXHU3Njg0IHRhYlxuXHRcdFx0Y29uc3QgeyBmaWVsZG5hbWUgfSA9IGVsLmRhdGFzZXQ7XG5cdFx0XHRpZiAoZmllbGRuYW1lKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudFRhYi52YWx1ZSA9IGZpZWxkbmFtZTtcblx0XHRcdH1cblx0XHRcdGlmICh0YWJzQ29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPCAxMDApIHtcblx0XHRcdFx0dGFic0NvbnRlbnQuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0JCgnLnBhZ2UtaGVhZCcpLmNzcygndG9wJywgJy0xNXB4Jyk7XG5cdFx0XHRcdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tdGFicy1zdGlja3ktZG93bicpO1xuXHRcdFx0XHRcdGZvcm1UYWJzTGlzdC5jbGFzc0xpc3QuYWRkKCdmb3JtLXRhYnMtc3RpY2t5LXVwJyk7XG5cdFx0XHRcdH0sIDMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0c2V0dXBfdGFiX2V2ZW50cygpIHtcblx0XHR0aGlzLndyYXBwZXIub24oJ2tleWRvd24nLCBldiA9PiB7XG5cdFx0XHRpZiAoZXYud2hpY2ggPT0gOSkge1xuXHRcdFx0XHRsZXQgY3VycmVudCA9ICQoZXYudGFyZ2V0KTtcblx0XHRcdFx0bGV0IGRvY3R5cGUgPSBjdXJyZW50LmF0dHIoJ2RhdGEtZG9jdHlwZScpO1xuXHRcdFx0XHRsZXQgZmllbGRuYW1lID0gY3VycmVudC5hdHRyKCdkYXRhLWZpZWxkbmFtZScpO1xuXHRcdFx0XHRpZiAoZG9jdHlwZSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmhhbmRsZV90YWIoZG9jdHlwZSwgZmllbGRuYW1lLCBldi5zaGlmdEtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGhhbmRsZV90YWIoZG9jdHlwZTogc3RyaW5nLCBmaWVsZG5hbWU6IHN0cmluZywgc2hpZnQ6IGJvb2xlYW4pIHtcblx0XHRsZXQgZ3JpZF9yb3cgPSBudWxsLFxuXHRcdFx0cHJldiA9IG51bGwsXG5cdFx0XHRmaWVsZHMgPSB0aGlzLmZpZWxkc19saXN0LFxuXHRcdFx0Zm9jdXNlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gaW4gZ3JpZFxuXHRcdGlmIChkb2N0eXBlICE9IHRoaXMuZG9jdHlwZSkge1xuXHRcdFx0Z3JpZF9yb3cgPSB0aGlzLmdldF9vcGVuX2dyaWRfcm93KCk7XG5cdFx0XHRpZiAoIWdyaWRfcm93IHx8ICFncmlkX3Jvdy5sYXlvdXQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZmllbGRzID0gZ3JpZF9yb3cubGF5b3V0LmZpZWxkc19saXN0O1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGkgPSAwLCBsZW4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChmaWVsZHNbaV0uZGYuZmllbGRuYW1lID09IGZpZWxkbmFtZSkge1xuXHRcdFx0XHRpZiAoc2hpZnQpIHtcblx0XHRcdFx0XHRpZiAocHJldikge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRfZm9jdXMocHJldik7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQodGhpcy5wcmltYXJ5X2J1dHRvbikuZm9jdXMoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGkgPCBsZW4gLSAxKSB7XG5cdFx0XHRcdFx0Zm9jdXNlZCA9IHRoaXMuZm9jdXNfb25fbmV4dF9maWVsZChpLCBmaWVsZHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZvY3VzZWQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuaXNfdmlzaWJsZShmaWVsZHNbaV0pKSB7IHByZXYgPSBmaWVsZHNbaV07IH1cblx0XHR9XG5cblx0XHRpZiAoIWZvY3VzZWQpIHtcblx0XHRcdC8vIGxhc3QgZmllbGQgaW4gdGhpcyBncm91cFxuXHRcdFx0aWYgKGdyaWRfcm93KSB7XG5cdFx0XHRcdC8vIGluIGdyaWRcblx0XHRcdFx0aWYgKGdyaWRfcm93LmRvYy5pZHggPT0gZ3JpZF9yb3cuZ3JpZC5ncmlkX3Jvd3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gbGFzdCByb3csIGNsb3NlIGl0IGFuZCBmaW5kIG5leHQgZmllbGRcblx0XHRcdFx0XHRncmlkX3Jvdy50b2dnbGVfdmlldyhmYWxzZSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0Z3JpZF9yb3cuZ3JpZC5mcm0ubGF5b3V0LmhhbmRsZV90YWIoXG5cdFx0XHRcdFx0XHRcdGdyaWRfcm93LmdyaWQuZGYucGFyZW50LFxuXHRcdFx0XHRcdFx0XHRncmlkX3Jvdy5ncmlkLmRmLmZpZWxkbmFtZSxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gbmV4dCByb3dcblx0XHRcdFx0XHRncmlkX3Jvdy5ncmlkLmdyaWRfcm93c1tncmlkX3Jvdy5kb2MuaWR4XS50b2dnbGVfdmlldyh0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICghc2hpZnQpIHtcblx0XHRcdFx0Ly8gRW5kIG9mIHRhYiBuYXZpZ2F0aW9uXG5cdFx0XHRcdCQodGhpcy5wcmltYXJ5X2J1dHRvbikuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmb2N1c19vbl9uZXh0X2ZpZWxkKHN0YXJ0X2lkeCwgZmllbGRzKSB7XG5cdFx0Ly8gbG9vcCB0byBmaW5kIG5leHQgZWxpZ2libGUgZmllbGRzXG5cdFx0Zm9yIChsZXQgaSA9IHN0YXJ0X2lkeCArIDEsIGxlbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0bGV0IGZpZWxkID0gZmllbGRzW2ldO1xuXHRcdFx0aWYgKHRoaXMuaXNfdmlzaWJsZShmaWVsZCkpIHtcblx0XHRcdFx0aWYgKGZpZWxkLmRmLmZpZWxkdHlwZSA9PT0gJ1RhYmxlJykge1xuXHRcdFx0XHRcdC8vIG9wZW4gdGFibGUgZ3JpZFxuXHRcdFx0XHRcdGlmICghKGZpZWxkLmdyaWQuZ3JpZF9yb3dzICYmIGZpZWxkLmdyaWQuZ3JpZF9yb3dzLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdC8vIGVtcHR5IGdyaWQsIGFkZCBhIG5ldyByb3dcblx0XHRcdFx0XHRcdGZpZWxkLmdyaWQuYWRkX25ld19yb3coKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gc2hvdyBncmlkIHJvdyAoaWYgZXhpc3RzKVxuXHRcdFx0XHRcdGZpZWxkLmdyaWQuZ3JpZF9yb3dzWzBdLnNob3dfZm9ybSgpO1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCFpbl9saXN0KGZyYXBwZS5tb2RlbC5ub192YWx1ZV90eXBlLCBmaWVsZC5kZi5maWVsZHR5cGUpKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRfZm9jdXMoZmllbGQpO1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aXNfdmlzaWJsZShmaWVsZCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRmaWVsZC5kaXNwX3N0YXR1cyA9PT0gJ1dyaXRlJyAmJiBmaWVsZC5kZiAmJiAnaGlkZGVuJyBpbiBmaWVsZC5kZiAmJiAhZmllbGQuZGYuaGlkZGVuXG5cdFx0KTtcblx0fVxuXG5cdHNldF9mb2N1cyhmaWVsZCkge1xuXHRcdGlmIChmaWVsZC50YWIpIHtcblx0XHRcdGZpZWxkLnRhYi5zZXRfYWN0aXZlKCk7XG5cdFx0fVxuXHRcdC8vIG5leHQgaXMgdGFibGUsIHNob3cgdGhlIHRhYmxlXG5cdFx0aWYgKGZpZWxkLmRmLmZpZWxkdHlwZSA9PSAnVGFibGUnKSB7XG5cdFx0XHRpZiAoZmllbGQuZ3JpZC5ncmlkX3Jvd3MubGVuZ3RoKSB7XG5cdFx0XHRcdGZpZWxkLmdyaWQuZ3JpZF9yb3dzWzBdLnRvZ2dsZV92aWV3KHRydWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZmllbGQuZ3JpZC5hZGRfbmV3X3JvdygxKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGZpZWxkLmVkaXRvcikge1xuXHRcdFx0ZmllbGQuZWRpdG9yLnNldF9mb2N1cygpO1xuXHRcdH0gZWxzZSBpZiAoZmllbGQuJGlucHV0KSB7XG5cdFx0XHRmaWVsZC4kaW5wdXQuZm9jdXMoKTtcblx0XHR9XG5cdH1cblxuXHRnZXRfb3Blbl9ncmlkX3JvdygpIHtcblx0XHRyZXR1cm4gJCgnLmdyaWQtcm93LW9wZW4nKS5kYXRhKCdncmlkX3JvdycpO1xuXHR9XG5cblx0cmVmcmVzaF9kZXBlbmRlbmN5KCkge1xuXHRcdC8qKlxuXHRcdFx0UmVzb2x2ZSBcImRlcGVuZHNfb25cIiBhbmQgc2hvdyAvIGhpZGUgYWNjb3JkaW5nbHlcblx0XHRcdGJ1aWxkIGRlcGVuZGFudHMnIGRpY3Rpb25hcnlcblx0XHQqL1xuXG5cdFx0bGV0IGhhc19kZXAgPSBmYWxzZTtcblxuXHRcdGNvbnN0IGZpZWxkcyA9IHRoaXMuZmllbGRzX2xpc3QuY29uY2F0KHRoaXMudGFicyk7XG5cblx0XHRmb3IgKGxldCBma2V5IGluIGZpZWxkcykge1xuXHRcdFx0bGV0IGYgPSBmaWVsZHNbZmtleV07XG5cdFx0XHRpZiAoZi5kZi5kZXBlbmRzX29uIHx8IGYuZGYubWFuZGF0b3J5X2RlcGVuZHNfb24gfHwgZi5kZi5yZWFkX29ubHlfZGVwZW5kc19vbikge1xuXHRcdFx0XHRoYXNfZGVwID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCFoYXNfZGVwKSB7IHJldHVybjsgfVxuXG5cdFx0Ly8gc2hvdyAvIGhpZGUgYmFzZWQgb24gdmFsdWVzXG5cdFx0Zm9yIChsZXQgaSA9IGZpZWxkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0bGV0IGYgPSBmaWVsZHNbaV07XG5cdFx0XHRmLmd1YXJkaWFuX2hhc192YWx1ZSA9IHRydWU7XG5cdFx0XHRpZiAoZi5kZi5kZXBlbmRzX29uKSB7XG5cdFx0XHRcdC8vIGV2YWx1YXRlIGd1YXJkaWFuXG5cblx0XHRcdFx0Zi5ndWFyZGlhbl9oYXNfdmFsdWUgPSB0aGlzLmV2YWx1YXRlX2RlcGVuZHNfb25fdmFsdWUoZi5kZi5kZXBlbmRzX29uKTtcblxuXHRcdFx0XHQvLyBzaG93IC8gaGlkZVxuXHRcdFx0XHRpZiAoZi5ndWFyZGlhbl9oYXNfdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoZi5kZi5oaWRkZW5fZHVlX3RvX2RlcGVuZGVuY3kpIHtcblx0XHRcdFx0XHRcdGYuZGYuaGlkZGVuX2R1ZV90b19kZXBlbmRlbmN5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRmLnJlZnJlc2goKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoIWYuZGYuaGlkZGVuX2R1ZV90b19kZXBlbmRlbmN5KSB7XG5cdFx0XHRcdFx0Zi5kZi5oaWRkZW5fZHVlX3RvX2RlcGVuZGVuY3kgPSB0cnVlO1xuXHRcdFx0XHRcdGYucmVmcmVzaCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmLmRmLm1hbmRhdG9yeV9kZXBlbmRzX29uKSB7XG5cdFx0XHRcdHRoaXMuc2V0X2RlcGVuZGFudF9wcm9wZXJ0eShmLmRmLm1hbmRhdG9yeV9kZXBlbmRzX29uLCBmLmRmLmZpZWxkbmFtZSwgJ3JlcWQnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGYuZGYucmVhZF9vbmx5X2RlcGVuZHNfb24pIHtcblx0XHRcdFx0dGhpcy5zZXRfZGVwZW5kYW50X3Byb3BlcnR5KFxuXHRcdFx0XHRcdGYuZGYucmVhZF9vbmx5X2RlcGVuZHNfb24sXG5cdFx0XHRcdFx0Zi5kZi5maWVsZG5hbWUsXG5cdFx0XHRcdFx0J3JlYWRfb25seScsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5yZWZyZXNoX3NlY3Rpb25fY291bnQoKTtcblx0fVxuXG5cdHNldF9kZXBlbmRhbnRfcHJvcGVydHkoY29uZGl0aW9uLCBmaWVsZG5hbWUsIHByb3BlcnR5KSB7XG5cdFx0bGV0IHNldF9wcm9wZXJ0eSA9IHRoaXMuZXZhbHVhdGVfZGVwZW5kc19vbl92YWx1ZShjb25kaXRpb24pO1xuXHRcdGxldCB2YWx1ZSA9IHNldF9wcm9wZXJ0eSA/IDEgOiAwO1xuXHRcdGxldCBmb3JtX29iajtcblxuXHRcdGlmICh0aGlzLmZybSkge1xuXHRcdFx0Zm9ybV9vYmogPSB0aGlzLmZybTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuaXNfZGlhbG9nIHx8IHRoaXMuZG9jdHlwZSA9PT0gJ1dlYiBGb3JtJykge1xuXHRcdFx0Zm9ybV9vYmogPSB0aGlzO1xuXHRcdH1cblx0XHRpZiAoZm9ybV9vYmopIHtcblx0XHRcdGlmICh0aGlzLmRvYyAmJiB0aGlzLmRvYy5wYXJlbnQgJiYgdGhpcy5kb2MucGFyZW50ZmllbGQpIHtcblx0XHRcdFx0Zm9ybV9vYmouc2V0dGluZ19kZXBlbmRlbmN5ID0gdHJ1ZTtcblx0XHRcdFx0Zm9ybV9vYmouc2V0X2RmX3Byb3BlcnR5KFxuXHRcdFx0XHRcdHRoaXMuZG9jLnBhcmVudGZpZWxkLFxuXHRcdFx0XHRcdHByb3BlcnR5LFxuXHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdHRoaXMuZG9jLnBhcmVudCxcblx0XHRcdFx0XHRmaWVsZG5hbWUsXG5cdFx0XHRcdFx0dGhpcy5kb2MubmFtZSxcblx0XHRcdFx0KTtcblx0XHRcdFx0Zm9ybV9vYmouc2V0dGluZ19kZXBlbmRlbmN5ID0gZmFsc2U7XG5cdFx0XHRcdC8vIHJlZnJlc2ggY2hpbGQgZmllbGRzXG5cdFx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXSAmJiB0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV0ucmVmcmVzaCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9ybV9vYmouc2V0X2RmX3Byb3BlcnR5KGZpZWxkbmFtZSwgcHJvcGVydHksIHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRldmFsdWF0ZV9kZXBlbmRzX29uX3ZhbHVlKGV4cHJlc3Npb24pIHtcblx0XHRsZXQgb3V0ID0gbnVsbDtcblx0XHRsZXQge2RvY30gPSB0aGlzO1xuXG5cdFx0aWYgKCFkb2MgJiYgdGhpcy5nZXRfdmFsdWVzKSB7XG5cdFx0XHRkb2MgPSB0aGlzLmdldF92YWx1ZXModHJ1ZSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFkb2MpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgcGFyZW50ID0gdGhpcy5mcm0gPyB0aGlzLmZybS5kb2MgOiB0aGlzLmRvYyB8fCBudWxsO1xuXG5cdFx0aWYgKHR5cGVvZiBleHByZXNzaW9uID09PSAnYm9vbGVhbicpIHtcblx0XHRcdG91dCA9IGV4cHJlc3Npb247XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b3V0ID0gZXhwcmVzc2lvbihkb2MpO1xuXHRcdH0gZWxzZSBpZiAoZXhwcmVzc2lvbi5zdWJzdHIoMCwgNSkgPT0gJ2V2YWw6Jykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0b3V0ID0gZnJhcHBlLnV0aWxzLmV2YWwoZXhwcmVzc2lvbi5zdWJzdHIoNSksIHsgZG9jLCBwYXJlbnQgfSk7XG5cdFx0XHRcdGlmIChwYXJlbnQgJiYgcGFyZW50LmlzdGFibGUgJiYgZXhwcmVzc2lvbi5pbmNsdWRlcygnaXNfc3VibWl0dGFibGUnKSkge1xuXHRcdFx0XHRcdG91dCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0ZnJhcHBlLnRocm93KF9fKCdJbnZhbGlkIFwiZGVwZW5kc19vblwiIGV4cHJlc3Npb24nKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChleHByZXNzaW9uLnN1YnN0cigwLCAzKSA9PSAnZm46JyAmJiB0aGlzLmZybSkge1xuXHRcdFx0b3V0ID0gdGhpcy5mcm0uc2NyaXB0X21hbmFnZXIudHJpZ2dlcihcblx0XHRcdFx0ZXhwcmVzc2lvbi5zdWJzdHIoMyksXG5cdFx0XHRcdHRoaXMuZG9jdHlwZSxcblx0XHRcdFx0dGhpcy5kb2NuYW1lLFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHZhbHVlID0gZG9jW2V4cHJlc3Npb25dO1xuXHRcdFx0aWYgKCQuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdFx0b3V0ID0gQm9vbGVhbih2YWx1ZS5sZW5ndGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0ID0gQm9vbGVhbih2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG91dDtcblx0fVxufVxuaW50ZXJmYWNlIExheW91dCB7XG5cblx0ZG9jOiBhbnk7XG5cdHBhcmVudDogSlF1ZXJ5O1xuXHRkb2N0eXBlOiBzdHJpbmc7XG5cdGRvY3R5cGVfbGF5b3V0OiB1bmtub3duO1xuXHRmcm06IEZvcm07XG5cblx0d3JhcHBlcjogSlF1ZXJ5O1xuXHRtZXNzYWdlOiBKUXVlcnk7XG5cdHBhZ2U6IEpRdWVyeTtcblx0ZmllbGRzOiBhbnlbXTtcblx0dGFiX2xpbmtfY29udGFpbmVyOiBKUXVlcnk7XG5cdHRhYnNfY29udGVudDogSlF1ZXJ5O1xuXHRjdXJyZW50X3RhYj86IFRhYlxuXHRzZWN0aW9uPzogU2VjdGlvbiB8IG51bGxcblx0Y29sdW1uPzogQ29sdW1uIHwgbnVsbFxuXHRhY3RpdmVfdGFiPzogVGFiO1xufVxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuaW1wb3J0IHsgV3JpdGFibGVDb21wdXRlZFJlZiB9IGZyb20gJ3Z1ZSc7XG5cbmltcG9ydCBGb290ZXIgZnJvbSAnLi9Gb290ZXInO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi9QYWdlJztcbmltcG9ydCBUb29sYmFyIGZyb20gJy4vVG9vbGJhcic7XG5pbXBvcnQgVW5kb01hbmFnZXIgZnJvbSAnLi91bmRvX21hbmFnZXInO1xuaW1wb3J0IExheW91dCBmcm9tICcuL0xheW91dC9pbmRleCc7XG5pbXBvcnQgRm9ybUVkaXRvciBmcm9tICcuL0Zvcm1FZGl0b3InO1xuaW1wb3J0IGxvYWREb2MgZnJvbSAnLi9sb2FkRG9jJztcbmZyYXBwZS5wcm92aWRlKCdmcmFwcGUudWkuZm9ybScpO1xuZnJhcHBlLnByb3ZpZGUoJ2ZyYXBwZS5tb2RlbC5kb2NpbmZvJyk7XG5cblxuY2xhc3MgRm9ybSB7XG5cdGRvY25hbWUgPSAnJztcblx0ZG9jdHlwZTogc3RyaW5nO1xuXHRkb2N0eXBlX2xheW91dF9uYW1lPztcblx0aW5fZm9ybTogYm9vbGVhbjtcblxuXG5cdGhpZGRlbiA9IGZhbHNlO1xuXHRyZWZyZXNoX2lmX3N0YWxlX2ZvciA9IDEyMDtcblx0b3BlbmRvY3MgPSB7fTtcblx0Y3VzdG9tX2J1dHRvbnMgPSB7fTtcblx0c2VjdGlvbnMgPSBbXTtcblx0Z3JpZHMgPSBbXTtcblx0Y3NjcmlwdCA9IG5ldyBmcmFwcGUudWkuZm9ybS5Db250cm9sbGVyKHsgZnJtOiB0aGlzIH0pO1xuXHRldmVudHMgPSB7fTtcblx0ZmV0Y2hfZGljdCA9IHt9O1xuXHRwYXJlbnQ6IEhUTUxFbGVtZW50O1xuXHRkb2N0eXBlX2xheW91dDogdW5rbm93bjtcblx0dW5kb19tYW5hZ2VyID0gbmV3IFVuZG9NYW5hZ2VyKHsgZnJtOiB0aGlzIH0pO1xuXHRiZWZvcmVVbmxvYWRMaXN0ZW5lciA9IGV2ZW50ID0+IHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdC8vIEEgU3RyaW5nIGlzIHJldHVybmVkIGZvciBjb21wYXRhYmlsaXR5IHdpdGggb2xkZXIgQnJvd3NlcnMuIFJldHVybiBWYWx1ZSBoYXMgdG8gYmUgdHJ1dGh5IHRvIHRyaWdnZXIgXCJMZWF2ZSBTaXRlXCIgRGlhbG9nXG5cdFx0cmV0dXJuIChldmVudC5yZXR1cm5WYWx1ZSA9XG5cdFx0XHQnVGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcywgYXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGV4aXQ/Jyk7XG5cdH07XG5cblx0bWV0YTogbG9jYWxzLkRvY1R5cGU7XG5cdHBlcm06IHtcblx0XHRyZWFkOiBudW1iZXI7XG5cdFx0cGVybWxldmVsOiBudW1iZXI7XG5cdH1bXTtcblx0YWN0aW9uX3Blcm1fdHlwZV9tYXAgPSB7XG5cdFx0Q3JlYXRlOiAnY3JlYXRlJyxcblx0XHRTYXZlOiAnd3JpdGUnLFxuXHRcdFN1Ym1pdDogJ3N1Ym1pdCcsXG5cdFx0VXBkYXRlOiAnc3VibWl0Jyxcblx0XHRDYW5jZWw6ICdjYW5jZWwnLFxuXHRcdEFtZW5kOiAnYW1lbmQnLFxuXHRcdERlbGV0ZTogJ2RlbGV0ZScsXG5cdH07XG5cdHJlYWRvbmx5IF9fZGVsZXRlZDogKCkgPT4gdm9pZDtcblx0cmVhZG9ubHkgY3VycmVudFRhYjogV3JpdGFibGVDb21wdXRlZFJlZjxhbnk+O1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRkb2N0eXBlOiBzdHJpbmcsXG5cdFx0bmFtZTogc3RyaW5nLFxuXHRcdHBhcmVudDogSFRNTEVsZW1lbnQsXG5cdFx0ZGVsZXRlZDogKCkgPT4gdm9pZCxcblx0XHRjdXJyZW50VGFiOiBXcml0YWJsZUNvbXB1dGVkUmVmPGFueT4sXG5cdFx0aW5fZm9ybTogYm9vbGVhbiA9IHRydWUsXG5cdFx0ZG9jdHlwZV9sYXlvdXQ6IGFueSA9IGZyYXBwZS5yb3V0ZXIuZG9jdHlwZV9sYXlvdXQgfHwgZG9jdHlwZSxcblx0XHRkb2N0eXBlX2xheW91dF9uYW1lPzogc3RyaW5nLFxuXG5cdCkge1xuXHRcdHRoaXMuY3VycmVudFRhYiA9IGN1cnJlbnRUYWI7XG5cdFx0dGhpcy5fX2RlbGV0ZWQgPSBkZWxldGVkO1xuXHRcdHRoaXMuZG9jdHlwZSA9IGRvY3R5cGU7XG5cdFx0dGhpcy5kb2N0eXBlX2xheW91dF9uYW1lID0gZG9jdHlwZV9sYXlvdXRfbmFtZTtcblx0XHR0aGlzLmluX2Zvcm0gPSBpbl9mb3JtID8gdHJ1ZSA6IGZhbHNlO1xuXG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG5cdFx0dGhpcy5kb2N0eXBlX2xheW91dCA9IGZyYXBwZS5nZXRfZG9jKCdEb2NUeXBlIExheW91dCcsIGRvY3R5cGVfbGF5b3V0X25hbWUpO1xuXG5cdFx0dGhpcy5tZXRhID0gZnJhcHBlLmdldF9kb2MoJ0RvY1R5cGUnLCB0aGlzLmRvY3R5cGUpITtcblxuXHRcdGlmICh0aGlzLm1ldGEuaXN0YWJsZSkge1xuXHRcdFx0dGhpcy5tZXRhLmluX2RpYWxvZyA9IDE7XG5cdFx0fVxuXHRcdHRoaXMucGVybSA9IGZyYXBwZS5wZXJtLmdldF9wZXJtKHRoaXMuZG9jdHlwZSk7IC8vIGZvciBjcmVhdGVcblx0XHR0aGlzLmRlYm91bmNlZF9yZWxvYWRfZG9jID0gZnJhcHBlLnV0aWxzLmRlYm91bmNlKHRoaXMucmVsb2FkX2RvYy5iaW5kKHRoaXMpLCAxMDAwKTtcblxuXHR9XG5cblxuXHRzZXR1cCgpIHtcblx0XHR0aGlzLnNldHVwX2RvbmUgPSB0cnVlO1xuXHRcdHRoaXMuZmllbGRzID0gW107XG5cdFx0dGhpcy5maWVsZHNfZGljdCA9IHt9O1xuXHRcdHRoaXMuc3RhdGVfZmllbGRuYW1lID0gZnJhcHBlLndvcmtmbG93LmdldF9zdGF0ZV9maWVsZG5hbWUodGhpcy5kb2N0eXBlKTtcblxuXHRcdC8vIHdyYXBwZXJcblx0XHR0aGlzLndyYXBwZXIgPSB0aGlzLnBhcmVudDtcblx0XHR0aGlzLiR3cmFwcGVyID0gJCh0aGlzLndyYXBwZXIpO1xuXHRcdGNvbnN0IHBhZ2UgPSBuZXcgUGFnZSh0aGlzLndyYXBwZXIsIHRoaXMubWV0YS5oaWRlX3Rvb2xiYXIpO1xuXG5cdFx0Ly8gdGhpcy53cmFwcGVyLnBhZ2UgPSBwYWdlO1xuXHRcdHRoaXMucGFnZSA9IHBhZ2U7XG5cdFx0dGhpcy5sYXlvdXRfbWFpbiA9IHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXlvdXQtbWFpbi1zZWN0aW9uJyk7XG5cblx0XHR0aGlzLiR3cmFwcGVyLm9uKCdoaWRlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdvbl9oaWRlJyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih0aGlzLCBwYWdlKTtcblxuXHRcdC8vIG5hdmlnYXRlIHJlY29yZHMga2V5Ym9hcmQgc2hvcnRjdXRzXG5cdFx0dGhpcy5hZGRfZm9ybV9rZXlib2FyZF9zaG9ydGN1dHMoKTtcblxuXHRcdC8vIDIgY29sdW1uIGxheW91dFxuXHRcdHRoaXMuc2V0dXBfc3RkX2xheW91dCgpO1xuXG5cdFx0Ly8gY2xpZW50IHNjcmlwdCBtdXN0IGJlIGNhbGxlZCBhZnRlciBcInNldHVwXCIgLSB0aGVyZSBhcmUgbm8gZmllbGRzX2RpY3QgYXR0YWNoZWQgdG8gdGhlIGZybSBvdGhlcndpc2Vcblx0XHR0aGlzLnNjcmlwdF9tYW5hZ2VyID0gbmV3IGZyYXBwZS51aS5mb3JtLlNjcmlwdE1hbmFnZXIoe1xuXHRcdFx0ZnJtOiB0aGlzLFxuXHRcdH0pO1xuXHRcdHRoaXMuc2NyaXB0X21hbmFnZXIuc2V0dXAoKTtcblx0XHR0aGlzLndhdGNoX21vZGVsX3VwZGF0ZXMoKTtcblxuXHRcdGNvbnN0IFttYWluUGFyZW50XSA9IHBhZ2UubWFpbi5wYXJlbnQoKTtcblx0XHRpZiAobWFpblBhcmVudCkge1xuXHRcdFx0Y29uc3QgZm9vdGVyID0gWy4uLm1haW5QYXJlbnQuY2hpbGRyZW5dLmZpbmQodiA9PiB2LmNsYXNzTGlzdC5jb250YWlucygnbGF5b3V0LWZvb3RlcicpKTtcblx0XHRcdGlmIChmb290ZXIpIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG5cdFx0XHRcdGZvciAobGV0IG5leHQ7IG5leHQgPSBmb290ZXIubmV4dFNpYmxpbmc7KSB7IG5leHQ/LnJlbW92ZSgpOyB9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICghdGhpcy5tZXRhLmhpZGVfdG9vbGJhciAmJiBmcmFwcGUuYm9vdC5kZXNrX3NldHRpbmdzLnRpbWVsaW5lKSB7XG5cdFx0XHQvLyB0aGlzLmZvb3Rlcl90YWIgPSBuZXcgZnJhcHBlLnVpLmZvcm0uVGFiKHRoaXMubGF5b3V0LCB7XG5cdFx0XHQvLyBcdGxhYmVsOiBfXyhcIkFjdGl2aXR5XCIpLFxuXHRcdFx0Ly8gXHRmaWVsZG5hbWU6ICd0aW1lbGluZSdcblx0XHRcdC8vIH0pO1xuXG5cdFx0XHQvLyBmb290ZXIgXHU0RTJEXHU1MzA1XHU2MkVDXHU4QkM0XHU4QkJBXHU4RjkzXHU1MTY1XHU2ODQ2XHU1NDhDXHU2NUY2XHU5NUY0XHU3RUJGXG5cdFx0XHR0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIoe1xuXHRcdFx0XHRmcm06IHRoaXMsXG5cdFx0XHRcdHBhcmVudDogJCgnPGRpdj4nKS5hcHBlbmRUbyhwYWdlLm1haW4ucGFyZW50KCkpLFxuXHRcdFx0fSk7XG5cdFx0XHQkKCdib2R5JykuYXR0cignZGF0YS1zaWRlYmFyJywgMSk7XG5cdFx0fVxuXHRcdHRoaXMuc2V0dXBfZmlsZV9kcm9wKCk7XG5cdFx0dGhpcy5zZXR1cF9kb2N0eXBlX2FjdGlvbnMoKTtcblx0XHR0aGlzLnNldHVwX25vdGlmeV9vbl9yZW5hbWUoKTtcblxuXHRcdHRoaXMuc2V0dXBfZG9uZSA9IHRydWU7XG5cdH1cblxuXHRhZGRfZm9ybV9rZXlib2FyZF9zaG9ydGN1dHMoKSB7XG5cdFx0Ly8gTmF2aWdhdGUgdG8gbmV4dCByZWNvcmRcblx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoe1xuXHRcdFx0c2hvcnRjdXQ6ICdzaGlmdCtjdHJsKz4nLFxuXHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLm5hdmlnYXRlX3JlY29yZHMoMCksXG5cdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRkZXNjcmlwdGlvbjogX18oJ0dvIHRvIG5leHQgcmVjb3JkJyksXG5cdFx0XHRpZ25vcmVfaW5wdXRzOiB0cnVlLFxuXHRcdFx0Y29uZGl0aW9uOiAoKSA9PiAhdGhpcy5pc19uZXcoKSxcblx0XHR9KTtcblxuXHRcdC8vIE5hdmlnYXRlIHRvIHByZXZpb3VzIHJlY29yZFxuXHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7XG5cdFx0XHRzaG9ydGN1dDogJ3NoaWZ0K2N0cmwrPCcsXG5cdFx0XHRhY3Rpb246ICgpID0+IHRoaXMubmF2aWdhdGVfcmVjb3JkcygxKSxcblx0XHRcdHBhZ2U6IHRoaXMucGFnZSxcblx0XHRcdGRlc2NyaXB0aW9uOiBfXygnR28gdG8gcHJldmlvdXMgcmVjb3JkJyksXG5cdFx0XHRpZ25vcmVfaW5wdXRzOiB0cnVlLFxuXHRcdFx0Y29uZGl0aW9uOiAoKSA9PiAhdGhpcy5pc19uZXcoKSxcblx0XHR9KTtcblxuXHRcdC8vIFVuZG8gYW5kIHJlZG9cblx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoe1xuXHRcdFx0c2hvcnRjdXQ6ICdjdHJsK3onLFxuXHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLnVuZG9fbWFuYWdlci51bmRvKCksXG5cdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRkZXNjcmlwdGlvbjogX18oJ1VuZG8gbGFzdCBhY3Rpb24nKSxcblx0XHR9KTtcblx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoe1xuXHRcdFx0c2hvcnRjdXQ6ICdzaGlmdCtjdHJsK3onLFxuXHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLnVuZG9fbWFuYWdlci5yZWRvKCksXG5cdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRkZXNjcmlwdGlvbjogX18oJ1JlZG8gbGFzdCBhY3Rpb24nKSxcblx0XHR9KTtcblx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoe1xuXHRcdFx0c2hvcnRjdXQ6ICdjdHJsK3knLFxuXHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLnVuZG9fbWFuYWdlci5yZWRvKCksXG5cdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRkZXNjcmlwdGlvbjogX18oJ1JlZG8gbGFzdCBhY3Rpb24nKSxcblx0XHR9KTtcblxuXHRcdGxldCBncmlkX3Nob3J0Y3V0X2tleXMgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdHNob3J0Y3V0OiAnVXAgQXJyb3cnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ01vdmUgY3Vyc29yIHRvIGFib3ZlIHJvdycpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdEb3duIEFycm93Jyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdNb3ZlIGN1cnNvciB0byBiZWxvdyByb3cnKSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHNob3J0Y3V0OiAndGFiJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdNb3ZlIGN1cnNvciB0byBuZXh0IGNvbHVtbicpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdzaGlmdCt0YWInLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ01vdmUgY3Vyc29yIHRvIHByZXZpb3VzIGNvbHVtbicpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdDdHJsK3VwJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdBZGQgYSByb3cgYWJvdmUgdGhlIGN1cnJlbnQgcm93JyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ0N0cmwrZG93bicsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBfXygnQWRkIGEgcm93IGJlbG93IHRoZSBjdXJyZW50IHJvdycpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdDdHJsK3NoaWZ0K3VwJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdBZGQgYSByb3cgYXQgdGhlIHRvcCcpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdDdHJsK3NoaWZ0K2Rvd24nLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ0FkZCBhIHJvdyBhdCB0aGUgYm90dG9tJyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ3NoaWZ0K2FsdCtkb3duJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdEdXBsaWNhdGUgY3VycmVudCByb3cnKSxcblx0XHRcdH0sXG5cdFx0XTtcblxuXHRcdGZvciAoY29uc3Qgcm93IG9mIGdyaWRfc2hvcnRjdXRfa2V5cykge1xuXHRcdFx0ZnJhcHBlLnVpLmtleXMuYWRkX3Nob3J0Y3V0KHtcblx0XHRcdFx0c2hvcnRjdXQ6IHJvdy5zaG9ydGN1dCxcblx0XHRcdFx0cGFnZTogdGhpcy5wYWdlLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18ocm93LmRlc2NyaXB0aW9uKSxcblx0XHRcdFx0aWdub3JlX2lucHV0czogdHJ1ZSxcblx0XHRcdFx0Y29uZGl0aW9uOiAoKSA9PiAhdGhpcy5pc19uZXcoKSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHNldHVwX3N0ZF9sYXlvdXQoKSB7XG5cdFx0Y29uc3QgbWFpbiA9IHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXlvdXQtbWFpbi1zZWN0aW9uJykgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0dGhpcy5mb3JtX3dyYXBwZXIgPSAkKG1haW4ucXVlcnlTZWxlY3RvcignZGl2JykgYXMgSFRNTEVsZW1lbnQpO1xuXHRcdGNvbnN0IGJvZHkgPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5zdGQtZm9ybS1sYXlvdXQnKSBhcyBIVE1MRWxlbWVudDtcblx0XHR0aGlzLmJvZHkgPSAkKGJvZHkpO1xuXG5cdFx0Ly8gb25seSB0cmF5XG5cdFx0dGhpcy5tZXRhLnNlY3Rpb25fc3R5bGUgPSAnU2ltcGxlJzsgLy8gYWx3YXlzIHNpbXBsZSFcblxuXHRcdC8vIGxheW91dFxuXHRcdHRoaXMubGF5b3V0ID0gbmV3IExheW91dChcblx0XHRcdGJvZHksXG5cdFx0XHR0aGlzLmRvY3R5cGUsXG5cdFx0XHR0aGlzLmRvY3R5cGVfbGF5b3V0LFxuXHRcdFx0dGhpcyxcblx0XHRcdHRoaXMuY3VycmVudFRhYixcblx0XHQpO1xuXG5cblx0XHR0aGlzLmZpZWxkc19kaWN0ID0gdGhpcy5sYXlvdXQuZmllbGRzX2RpY3Q7XG5cdFx0dGhpcy5maWVsZHMgPSB0aGlzLmxheW91dC5maWVsZHNfbGlzdDtcblxuXHRcdGxldCBkYXNoYm9hcmRfcGFyZW50ID0gJCgnPGRpdiBjbGFzcz1cImZvcm0tZGFzaGJvYXJkXCI+Jyk7XG5cdFx0bGV0IGRhc2hib2FyZF9hZGRlZCA9IGZhbHNlO1xuXG5cdFx0aWYgKHRoaXMubGF5b3V0LnRhYnMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmxheW91dC50YWJzLmV2ZXJ5KHRhYiA9PiB7XG5cdFx0XHRcdGlmICh0YWIuZGYuc2hvd19kYXNoYm9hcmQpIHtcblx0XHRcdFx0XHR0YWIud3JhcHBlci5wcmVwZW5kKGRhc2hib2FyZF9wYXJlbnQpO1xuXHRcdFx0XHRcdGRhc2hib2FyZF9hZGRlZCA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAoIWRhc2hib2FyZF9hZGRlZCkge1xuXHRcdFx0XHR0aGlzLmxheW91dC50YWJzWzBdLndyYXBwZXIucHJlcGVuZChkYXNoYm9hcmRfcGFyZW50KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sYXlvdXQud3JhcHBlci5maW5kKCcuZm9ybS1wYWdlJykucHJlcGVuZChkYXNoYm9hcmRfcGFyZW50KTtcblx0XHR9XG5cblx0XHR0aGlzLmRhc2hib2FyZCA9IG5ldyBmcmFwcGUudWkuZm9ybS5EYXNoYm9hcmQoZGFzaGJvYXJkX3BhcmVudCwgdGhpcyk7XG5cblx0XHR0aGlzLnRvdXIgPSBuZXcgZnJhcHBlLnVpLmZvcm0uRm9ybVRvdXIoe1xuXHRcdFx0ZnJtOiB0aGlzLFxuXHRcdH0pO1xuXG5cdFx0Ly8gd29ya2Zsb3cgc3RhdGVcblx0XHR0aGlzLnN0YXRlcyA9IG5ldyBmcmFwcGUudWkuZm9ybS5TdGF0ZXMoe1xuXHRcdFx0ZnJtOiB0aGlzLFxuXHRcdH0pO1xuXHR9XG5cblx0d2F0Y2hfbW9kZWxfdXBkYXRlcygpIHtcblx0XHQvLyB3YXRjaCBtb2RlbCB1cGRhdGVzXG5cdFx0bGV0IG1lID0gdGhpcztcblxuXHRcdC8vIG9uIG1haW4gZG9jXG5cdFx0ZnJhcHBlLm1vZGVsLm9uKFxuXHRcdFx0bWUuZG9jdHlwZSxcblx0XHRcdCcqJyxcblx0XHRcdGZ1bmN0aW9uIChmaWVsZG5hbWUsIHZhbHVlLCBkb2MsIHNraXBfZGlydHlfdHJpZ2dlciA9IGZhbHNlKSB7XG5cdFx0XHRcdC8vIHNldCBpbnB1dFxuXHRcdFx0XHRpZiAoZG9jLm5hbWUgPT0gbWUuZG9jbmFtZSkge1xuXHRcdFx0XHRcdGlmICghc2tpcF9kaXJ0eV90cmlnZ2VyKSB7XG5cdFx0XHRcdFx0XHRtZS5kaXJ0eSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCBmaWVsZCA9IG1lLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV07XG5cdFx0XHRcdFx0ZmllbGQgJiYgZmllbGQucmVmcmVzaChmaWVsZG5hbWUpO1xuXG5cdFx0XHRcdFx0Ly8gVmFsaWRhdGUgdmFsdWUgZm9yIGxpbmsgZmllbGQgZXhwbGljaXRseVxuXHRcdFx0XHRcdGZpZWxkICYmXG5cdFx0XHRcdFx0XHRbJ0xpbmsnLCAnRHluYW1pYyBMaW5rJ10uaW5jbHVkZXMoZmllbGQuZGYuZmllbGR0eXBlKSAmJlxuXHRcdFx0XHRcdFx0ZmllbGQudmFsaWRhdGUgJiZcblx0XHRcdFx0XHRcdGZpZWxkLnZhbGlkYXRlKHZhbHVlKTtcblxuXHRcdFx0XHRcdG1lLmxheW91dC5yZWZyZXNoX2RlcGVuZGVuY3koKTtcblx0XHRcdFx0XHRtZS5sYXlvdXQucmVmcmVzaF9zZWN0aW9ucygpO1xuXHRcdFx0XHRcdHJldHVybiBtZS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKGZpZWxkbmFtZSwgZG9jLmRvY3R5cGUsIGRvYy5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHQpO1xuXG5cdFx0Ly8gb24gdGFibGUgZmllbGRzXG5cdFx0bGV0IHRhYmxlX2ZpZWxkcyA9IGZyYXBwZS5nZXRfY2hpbGRyZW4oJ0RvY1R5cGUnLCBtZS5kb2N0eXBlLCAnZmllbGRzJywge1xuXHRcdFx0ZmllbGR0eXBlOiBbJ2luJywgZnJhcHBlLm1vZGVsLnRhYmxlX2ZpZWxkc10sXG5cdFx0fSk7XG5cblx0XHQvLyB1c2luZyAkLmVhY2ggdG8gcHJlc2VydmUgZGYgdmlhIGNsb3N1cmVcblx0XHQkLmVhY2godGFibGVfZmllbGRzLCBmdW5jdGlvbiAoaSwgZGYpIHtcblx0XHRcdGZyYXBwZS5tb2RlbC5vbihkZi5vcHRpb25zLCAnKicsIGZ1bmN0aW9uIChmaWVsZG5hbWUsIHZhbHVlLCBkb2MpIHtcblx0XHRcdFx0aWYgKGRvYy5wYXJlbnQgPT0gbWUuZG9jbmFtZSAmJiBkb2MucGFyZW50ZmllbGQgPT09IGRmLmZpZWxkbmFtZSkge1xuXHRcdFx0XHRcdG1lLmRpcnR5KCk7XG5cdFx0XHRcdFx0bWUuZmllbGRzX2RpY3RbZGYuZmllbGRuYW1lXS5ncmlkLnNldF92YWx1ZShmaWVsZG5hbWUsIHZhbHVlLCBkb2MpO1xuXHRcdFx0XHRcdHJldHVybiBtZS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKGZpZWxkbmFtZSwgZG9jLmRvY3R5cGUsIGRvYy5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXR1cF9ub3RpZnlfb25fcmVuYW1lKCkge1xuXHRcdCQoZG9jdW1lbnQpLm9uKCdyZW5hbWUnLCAoZXYsIGR0LCBvbGRfbmFtZSwgbmV3X25hbWUpID0+IHtcblx0XHRcdGlmIChkdCA9PSB0aGlzLmRvY3R5cGUpIHsgdGhpcy5yZW5hbWVfbm90aWZ5KGR0LCBvbGRfbmFtZSwgbmV3X25hbWUpOyB9XG5cdFx0fSk7XG5cdH1cblxuXHRzZXR1cF9maWxlX2Ryb3AoKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHR0aGlzLiR3cmFwcGVyLm9uKCdkcmFnZW50ZXIgZHJhZ292ZXInLCBmYWxzZSkub24oJ2Ryb3AnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0bGV0IHsgZGF0YVRyYW5zZmVyIH0gPSBlLm9yaWdpbmFsRXZlbnQ7XG5cdFx0XHRpZiAoIShkYXRhVHJhbnNmZXIgJiYgZGF0YVRyYW5zZmVyLmZpbGVzICYmIGRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGggPiAwKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmIChtZS5kb2MuX19pc2xvY2FsKSB7XG5cdFx0XHRcdGZyYXBwZS5tc2dwcmludChfXygnUGxlYXNlIHNhdmUgYmVmb3JlIGF0dGFjaGluZy4nKSk7XG5cdFx0XHRcdHRocm93ICdhdHRhY2ggZXJyb3InO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXcgZnJhcHBlLnVpLkZpbGVVcGxvYWRlcih7XG5cdFx0XHRcdGRvY3R5cGU6IG1lLmRvY3R5cGUsXG5cdFx0XHRcdGRvY25hbWU6IG1lLmRvY25hbWUsXG5cdFx0XHRcdGZybTogbWUsXG5cdFx0XHRcdGZpbGVzOiBkYXRhVHJhbnNmZXIuZmlsZXMsXG5cdFx0XHRcdGZvbGRlcjogJ0hvbWUvQXR0YWNobWVudHMnLFxuXHRcdFx0XHRvbl9zdWNjZXNzKGZpbGVfZG9jKSB7XG5cdFx0XHRcdFx0bWUuYXR0YWNobWVudHMuYXR0YWNobWVudF91cGxvYWRlZChmaWxlX2RvYyk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHNldHVwX2ltYWdlX2F1dG9jb21wbGV0aW9uc19pbl9tYXJrZG93bigpIHtcblx0XHR0aGlzLmZpZWxkcy5tYXAoZmllbGQgPT4ge1xuXHRcdFx0aWYgKGZpZWxkLmRmLmZpZWxkdHlwZSA9PT0gJ01hcmtkb3duIEVkaXRvcicpIHtcblx0XHRcdFx0dGhpcy5zZXRfZGZfcHJvcGVydHkoZmllbGQuZGYuZmllbGRuYW1lLCAnYXV0b2NvbXBsZXRpb25zJywgKCkgPT4ge1xuXHRcdFx0XHRcdGxldCBhdHRhY2htZW50cyA9IHRoaXMuYXR0YWNobWVudHMuZ2V0X2F0dGFjaG1lbnRzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGF0dGFjaG1lbnRzXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGZpbGUgPT4gZnJhcHBlLnV0aWxzLmlzX2ltYWdlX2ZpbGUoZmlsZS5maWxlX3VybCkpXG5cdFx0XHRcdFx0XHQubWFwKGZpbGUgPT4gKHtcblx0XHRcdFx0XHRcdFx0Y2FwdGlvbjogYGltYWdlOiAke2ZpbGUuZmlsZV9uYW1lfWAsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBgIVtdKCR7ZmlsZS5maWxlX3VybH0pYCxcblx0XHRcdFx0XHRcdFx0bWV0YTogJ2ltYWdlJyxcblx0XHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBSRUZSRVNIXG5cdHJlZnJlc2goZG9jbmFtZTogc3RyaW5nKSB7XG5cdFx0bGV0IHN3aXRjaGVkID0gZG9jbmFtZSA/IHRydWUgOiBmYWxzZTtcblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuYmVmb3JlVW5sb2FkTGlzdGVuZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuXHRcdGlmIChkb2NuYW1lKSB7XG5cdFx0XHR0aGlzLnN3aXRjaF9kb2MoZG9jbmFtZSk7XG5cdFx0fVxuXG5cdFx0Y3VyX2ZybSA9IHRoaXM7XG5cblx0XHR0aGlzLnVuZG9fbWFuYWdlci5lcmFzZV9oaXN0b3J5KCk7XG5cblx0XHRpZiAoIXRoaXMuZG9jbmFtZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvLyBkb2N1bWVudCB0byBzaG93XG5cdFx0dGhpcy5zYXZlX2Rpc2FibGVkID0gZmFsc2U7XG5cdFx0Ly8gc2V0IHRoZSBkb2Ncblx0XHR0aGlzLmRvYyA9IGZyYXBwZS5nZXRfZG9jKHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lKSBhcyBhbnk7XG5cblx0XHQvLyBjaGVjayBwZXJtaXNzaW9uc1xuXHRcdHRoaXMuZmV0Y2hfcGVybWlzc2lvbnMoKTtcblx0XHRpZiAoIXRoaXMuaGFzX3JlYWRfcGVybWlzc2lvbigpKSB7XG5cdFx0XHRmcmFwcGUuc2hvd19ub3RfcGVybWl0dGVkKGAke19fKHRoaXMuZG9jdHlwZSl9ICR7X18oY3N0cih0aGlzLmRvY25hbWUpKX1gKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyB1cGRhdGUgZ3JpZHMgd2l0aCBuZXcgcGVybWlzc2lvbnNcblx0XHRmb3IgKGNvbnN0IHRhYmxlIG9mIHRoaXMuZ3JpZHMpIHtcblx0XHRcdHRhYmxlLmdyaWQucmVmcmVzaCgpO1xuXHRcdH1cblxuXHRcdC8vIHJlYWQgb25seSAod29ya2Zsb3cpXG5cdFx0dGhpcy5yZWFkX29ubHkgPSBmcmFwcGUud29ya2Zsb3cuaXNfcmVhZF9vbmx5KHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lKTtcblx0XHRpZiAodGhpcy5yZWFkX29ubHkpIHtcblx0XHRcdHRoaXMuc2V0X3JlYWRfb25seSh0cnVlKTtcblx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KF9fKCdUaGlzIGZvcm0gaXMgbm90IGVkaXRhYmxlIGR1ZSB0byBhIFdvcmtmbG93LicpKTtcblx0XHR9XG5cblx0XHQvLyBjaGVjayBpZiBkb2N0eXBlIGlzIGFscmVhZHkgb3BlblxuXHRcdGlmICghdGhpcy5vcGVuZG9jc1t0aGlzLmRvY25hbWVdKSB7XG5cdFx0XHR0aGlzLmNoZWNrX2RvY3R5cGVfY29uZmxpY3QodGhpcy5kb2NuYW1lKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuY2hlY2tfcmVsb2FkKCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Ly8gZG8gc2V0dXBcblx0XHRpZiAoIXRoaXMuc2V0dXBfZG9uZSkge1xuXHRcdFx0dGhpcy5zZXR1cCgpO1xuXHRcdH1cblxuXHRcdC8vIGxvYWQgdGhlIHJlY29yZCBmb3IgdGhlIGZpcnN0IHRpbWUsIGlmIG5vdCBsb2FkZWQgKGNhbGwgJ29ubG9hZCcpXG5cdFx0dGhpcy50cmlnZ2VyX29ubG9hZChzd2l0Y2hlZCk7XG5cblx0XHQvLyBpZiBwcmludCBmb3JtYXQgaXMgc2hvd24sIHJlZnJlc2ggdGhlIGZvcm1hdFxuXHRcdC8vIGlmKHRoaXMucHJpbnRfcHJldmlldy53cmFwcGVyLmlzKFwiOnZpc2libGVcIikpIHtcblx0XHQvLyBcdHRoaXMucHJpbnRfcHJldmlldy5wcmV2aWV3KCk7XG5cdFx0Ly8gfVxuXG5cdFx0aWYgKHN3aXRjaGVkKSB7XG5cdFx0XHRpZiAodGhpcy5zaG93X3ByaW50X2ZpcnN0ICYmIHRoaXMuZG9jLmRvY3N0YXR1cyA9PT0gMSkge1xuXHRcdFx0XHQvLyBzaG93IHByaW50IHZpZXdcblx0XHRcdFx0dGhpcy5wcmludF9kb2MoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBzZXQgc3RhdHVzIGNsYXNzZXNcblx0XHR0aGlzLiR3cmFwcGVyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZC1mb3JtJylcblx0XHRcdC50b2dnbGVDbGFzcygnZWRpdGFibGUtZm9ybScsIHRoaXMuZG9jLmRvY3N0YXR1cyA9PT0gMClcblx0XHRcdC50b2dnbGVDbGFzcygnc3VibWl0dGVkLWZvcm0nLCB0aGlzLmRvYy5kb2NzdGF0dXMgPT09IDEpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ2NhbmNlbGxlZC1mb3JtJywgdGhpcy5kb2MuZG9jc3RhdHVzID09PSAyKTtcblxuXHRcdHRoaXMuc2hvd19jb25mbGljdF9tZXNzYWdlKCk7XG5cblx0XHRpZiAoZnJhcHBlLmJvb3QucmVhZF9vbmx5KSB7XG5cdFx0XHR0aGlzLmRpc2FibGVfZm9ybSgpO1xuXHRcdH1cblx0fVxuXG5cblx0Ly8gc2V0cyB1cCB0aGUgcmVmcmVzaCBldmVudCBmb3IgY3VzdG9tIGJ1dHRvbnNcblx0Ly8gYWRkZWQgdmlhIGNvbmZpZ3VyYXRpb25cblx0c2V0dXBfZG9jdHlwZV9hY3Rpb25zKCkge1xuXHRcdGlmICh0aGlzLm1ldGEuYWN0aW9ucykge1xuXHRcdFx0Zm9yIChsZXQgYWN0aW9uIG9mIHRoaXMubWV0YS5hY3Rpb25zKSB7XG5cdFx0XHRcdGZyYXBwZS51aS5mb3JtLm9uKHRoaXMuZG9jdHlwZSwgJ3JlZnJlc2gnLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLmlzX25ldygpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWFjdGlvbi5oaWRkZW4pIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRfY3VzdG9tX2J1dHRvbihcblx0XHRcdFx0XHRcdFx0XHRhY3Rpb24ubGFiZWwsXG5cdFx0XHRcdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5leGVjdXRlX2FjdGlvbihhY3Rpb24pO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0YWN0aW9uLmdyb3VwLFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZXhlY3V0ZV9hY3Rpb24oYWN0aW9uKSB7XG5cdFx0aWYgKHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHQvLyBjYWxsZWQgYnkgbGFiZWwgLSBtYXliZSB2aWEgY3VzdG9tIHNjcmlwdFxuXHRcdFx0Ly8gZnJtLmV4ZWN1dGVfYWN0aW9uKCdBY3Rpb24nKVxuXHRcdFx0Zm9yIChsZXQgX2FjdGlvbiBvZiB0aGlzLm1ldGEuYWN0aW9ucykge1xuXHRcdFx0XHRpZiAoX2FjdGlvbi5sYWJlbCA9PT0gYWN0aW9uKSB7XG5cdFx0XHRcdFx0YWN0aW9uID0gX2FjdGlvbjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZnJhcHBlLnRocm93KGBBY3Rpb24gJHthY3Rpb259IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoYWN0aW9uLmFjdGlvbl90eXBlID09PSAnU2VydmVyIEFjdGlvbicpIHtcblx0XHRcdHJldHVybiBmcmFwcGUueGNhbGwoYWN0aW9uLmFjdGlvbiwgeyBkb2M6IHRoaXMuZG9jIH0pLnRoZW4oZG9jID0+IHtcblx0XHRcdFx0aWYgKGRvYy5kb2N0eXBlKSB7XG5cdFx0XHRcdFx0Ly8gZG9jdW1lbnQgaXMgcmV0dXJuZWQgYnkgdGhlIG1ldGhvZCxcblx0XHRcdFx0XHQvLyBhcHBseSB0aGUgY2hhbmdlcyBsb2NhbGx5IGFuZCByZWZyZXNoXG5cdFx0XHRcdFx0ZnJhcHBlLm1vZGVsLnN5bmMoZG9jKTtcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2goKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGZlZWRiYWNrXG5cdFx0XHRcdGZyYXBwZS5tc2dwcmludCh7XG5cdFx0XHRcdFx0bWVzc2FnZTogX18oJ3t9IENvbXBsZXRlJywgW2FjdGlvbi5sYWJlbF0pLFxuXHRcdFx0XHRcdGFsZXJ0OiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoYWN0aW9uLmFjdGlvbl90eXBlID09PSAnUm91dGUnKSB7XG5cdFx0XHRyZXR1cm4gZnJhcHBlLnNldF9yb3V0ZShhY3Rpb24uYWN0aW9uKTtcblx0XHR9XG5cdH1cblxuXHRzd2l0Y2hfZG9jKGRvY25hbWU6IHN0cmluZykge1xuXHRcdC8vIHJlc2V0IHZpc2libGUgY29sdW1ucywgc2luY2UgY29sdW1uIGhlYWRpbmdzIGNhbiBjaGFuZ2UgaW4gZGlmZmVyZW50IGRvY3Ncblx0XHRmb3IgKGNvbnN0IGdyaWRfb2JqIG9mIHRoaXMuZ3JpZHMpIHtcblx0XHRcdGdyaWRfb2JqLmdyaWQudmlzaWJsZV9jb2x1bW5zID0gbnVsbDtcblx0XHRcdC8vIHJlc2V0IHBhZ2UgbnVtYmVyIHRvIDFcblx0XHRcdGdyaWRfb2JqLmdyaWQuZ3JpZF9wYWdpbmF0aW9uLmdvX3RvX3BhZ2UoMSwgdHJ1ZSk7XG5cdFx0fVxuXHRcdGZyYXBwZS51aS5mb3JtLmNsb3NlX2dyaWRfZm9ybSgpO1xuXHRcdHRoaXMudmlld2VycyAmJiB0aGlzLnZpZXdlcnMucGFyZW50LmVtcHR5KCk7XG5cdFx0dGhpcy5kb2NuYW1lID0gZG9jbmFtZTtcblx0XHR0aGlzLnNldHVwX2RvY2luZm9fY2hhbmdlX2xpc3RlbmVyKCk7XG5cdH1cblxuXHRjaGVja19yZWxvYWQoKSB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5kb2MgJiZcblx0XHRcdCF0aGlzLmRvYy5fX3Vuc2F2ZWQgJiZcblx0XHRcdHRoaXMuZG9jLl9fbGFzdF9zeW5jX29uICYmXG5cdFx0XHRuZXcgRGF0ZSgpIC0gdGhpcy5kb2MuX19sYXN0X3N5bmNfb24gPiB0aGlzLnJlZnJlc2hfaWZfc3RhbGVfZm9yICogMTAwMFxuXHRcdCkge1xuXHRcdFx0dGhpcy5kZWJvdW5jZWRfcmVsb2FkX2RvYygpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0dHJpZ2dlcl9vbmxvYWQoc3dpdGNoZWQ6IGJvb2xlYW4pIHtcblx0XHR0aGlzLmNzY3JpcHQuaXNfb25sb2FkID0gZmFsc2U7XG5cdFx0aWYgKHRoaXMub3BlbmRvY3NbdGhpcy5kb2NuYW1lXSkge1xuXHRcdFx0dGhpcy5yZW5kZXJfZm9ybShzd2l0Y2hlZCk7XG5cdFx0XHRpZiAodGhpcy5kb2MubG9jYWxuYW1lKSB7XG5cdFx0XHRcdC8vIHRyaWdnZXIgZm9ybS1yZW5hbWUgYW5kIHJlbW92ZSAubG9jYWxuYW1lXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmRvYy5sb2NhbG5hbWU7XG5cdFx0XHRcdCQoZG9jdW1lbnQpLnRyaWdnZXIoJ2Zvcm0tcmVuYW1lJywgW3RoaXNdKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IG1lID0gdGhpcztcblx0XHRcdHRoaXMuY3NjcmlwdC5pc19vbmxvYWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5pbml0aWFsaXplX25ld19kb2MoKTtcblx0XHRcdCQoZG9jdW1lbnQpLnRyaWdnZXIoJ2Zvcm0tbG9hZCcsIFt0aGlzXSk7XG5cdFx0XHQkKHRoaXMucGFnZS53cmFwcGVyKS5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcignZm9ybS11bmxvYWQnLCBbbWVdKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGluaXRpYWxpemVfbmV3X2RvYygpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXG5cdFx0Ly8gaGlkZSBhbnkgb3BlbiBncmlkXG5cdFx0dGhpcy5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdiZWZvcmVfbG9hZCcsIHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lKS50aGVuKCgpID0+IHtcblx0XHRcdG1lLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ29ubG9hZCcpO1xuXHRcdFx0bWUub3BlbmRvY3NbbWUuZG9jbmFtZV0gPSB0cnVlO1xuXHRcdFx0bWUucmVuZGVyX2Zvcm0oKTtcblxuXHRcdFx0ZnJhcHBlLmFmdGVyX2FqYXgoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRtZS50cmlnZ2VyX2xpbmtfZmllbGRzKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZnJhcHBlLmJyZWFkY3J1bWJzLmFkZChtZS5tZXRhLm1vZHVsZSwgbWUuZG9jdHlwZSk7XG5cdFx0fSk7XG5cblx0XHQvLyB1cGRhdGUgc2VlblxuXHRcdGlmICh0aGlzLm1ldGEudHJhY2tfc2Vlbikge1xuXHRcdFx0JChgLmxpc3QtaWRbZGF0YS1uYW1lPVwiJHttZS5kb2NuYW1lfVwiXWApLmFkZENsYXNzKCdzZWVuJyk7XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyX2Zvcm0oc3dpdGNoZWQ/OiBib29sZWFuKSB7XG5cdFx0aWYgKHRoaXMubWV0YS5pc3RhYmxlKSB7XG5cdFx0XHR0aGlzLnJlZnJlc2hfaGVhZGVyKHN3aXRjaGVkKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sYXlvdXQuZG9jID0gdGhpcy5kb2M7XG5cdFx0XHR0aGlzLmxheW91dC5hdHRhY2hfZG9jX2FuZF9kb2NmaWVsZHMoKTtcblxuXHRcdFx0aWYgKGZyYXBwZS5ib290LmRlc2tfc2V0dGluZ3MuZm9ybV9zaWRlYmFyKSB7XG5cdFx0XHRcdHRoaXMuc2lkZWJhciA9IG5ldyBmcmFwcGUudWkuZm9ybS5TaWRlYmFyKHtcblx0XHRcdFx0XHRmcm06IHRoaXMsXG5cdFx0XHRcdFx0cGFnZTogdGhpcy5wYWdlLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5zaWRlYmFyLm1ha2UoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY2xlYXIgbGF5b3V0IG1lc3NhZ2Vcblx0XHRcdHRoaXMubGF5b3V0LnNob3dfbWVzc2FnZSgpO1xuXG5cdFx0XHRmcmFwcGUucnVuX3NlcmlhbGx5KFtcblx0XHRcdFx0Ly8gaGVhZGVyIG11c3QgYmUgcmVmcmVzaGVkIGJlZm9yZSBjbGllbnQgbWV0aG9kc1xuXHRcdFx0XHQvLyBiZWNhdXNlIGFkZF9jdXN0b21fYnV0dG9uXG5cdFx0XHRcdCgpID0+IHRoaXMucmVmcmVzaF9oZWFkZXIoc3dpdGNoZWQpLFxuXHRcdFx0XHQvLyB0cmlnZ2VyIGdsb2JhbCB0cmlnZ2VyXG5cdFx0XHRcdC8vIHRvIHVzZSB0aGlzXG5cdFx0XHRcdCgpID0+ICQoZG9jdW1lbnQpLnRyaWdnZXIoJ2Zvcm0tcmVmcmVzaCcsIFt0aGlzXSksXG5cdFx0XHRcdC8vIGZpZWxkc1xuXHRcdFx0XHQoKSA9PiB0aGlzLnJlZnJlc2hfZmllbGRzKCksXG5cdFx0XHRcdC8vIGNhbGwgdHJpZ2dlclxuXHRcdFx0XHQoKSA9PiB0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ3JlZnJlc2gnKSxcblx0XHRcdFx0Ly8gY2FsbCBvbmxvYWQgcG9zdCByZW5kZXIgZm9yIGNhbGxiYWNrcyB0byBiZSBmaXJlZFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY3NjcmlwdC5pc19vbmxvYWQpIHtcblx0XHRcdFx0XHRcdHRoaXMub25sb2FkX3Bvc3RfcmVuZGVyKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdvbmxvYWRfcG9zdF9yZW5kZXInKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IHRoaXMuY3NjcmlwdC5pc19vbmxvYWQgJiYgdGhpcy5pc19uZXcoKSAmJiB0aGlzLmZvY3VzX29uX2ZpcnN0X2lucHV0KCksXG5cdFx0XHRcdCgpID0+IHRoaXMucnVuX2FmdGVyX2xvYWRfaG9vaygpLFxuXHRcdFx0XHQoKSA9PiB0aGlzLmRhc2hib2FyZC5hZnRlcl9yZWZyZXNoKCksXG5cdFx0XHRdKTtcblx0XHR9XG5cblx0XHR0aGlzLiR3cmFwcGVyLnRyaWdnZXIoJ3JlbmRlcl9jb21wbGV0ZScpO1xuXG5cdFx0ZnJhcHBlLmFmdGVyX2FqYXgoKCkgPT4ge1xuXHRcdFx0JChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnNjcm9sbF90b19lbGVtZW50KCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdG9ubG9hZF9wb3N0X3JlbmRlcigpIHtcblx0XHR0aGlzLnNldHVwX2ltYWdlX2F1dG9jb21wbGV0aW9uc19pbl9tYXJrZG93bigpO1xuXHR9XG5cblx0Zm9jdXNfb25fZmlyc3RfaW5wdXQoKSB7XG5cdFx0bGV0IGZpcnN0ID0gdGhpcy5mb3JtX3dyYXBwZXIuZmluZCgnLmZvcm0tbGF5b3V0IDppbnB1dDp2aXNpYmxlOmZpcnN0Jyk7XG5cdFx0aWYgKCFpbl9saXN0KFsnRGF0ZScsICdEYXRldGltZSddLCBmaXJzdC5hdHRyKCdkYXRhLWZpZWxkdHlwZScpKSkge1xuXHRcdFx0Zmlyc3QuZm9jdXMoKTtcblx0XHR9XG5cdH1cblxuXHRydW5fYWZ0ZXJfbG9hZF9ob29rKCkge1xuXHRcdGlmIChmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfbG9hZCkge1xuXHRcdFx0bGV0IHJvdXRlX2NhbGxiYWNrID0gZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX2xvYWQ7XG5cdFx0XHRkZWxldGUgZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX2xvYWQ7XG5cblx0XHRcdHJvdXRlX2NhbGxiYWNrKHRoaXMpO1xuXHRcdH1cblx0fVxuXG5cdHJlZnJlc2hfZmllbGRzKCkge1xuXHRcdHRoaXMubGF5b3V0LnJlZnJlc2godGhpcy5kb2MpO1xuXHRcdHRoaXMubGF5b3V0LnByaW1hcnlfYnV0dG9uID0gdGhpcy4kd3JhcHBlci5maW5kKCcuYnRuLXByaW1hcnknKTtcblxuXHRcdC8vIGNsZWFudXAgYWN0aXZpdGllcyBhZnRlciByZWZyZXNoXG5cdFx0Ly8gdGhpcy5jbGVhbnVwX3JlZnJlc2godGhpcyk7XG5cdH1cblxuXHRjbGVhbnVwX3JlZnJlc2goKSB7XG5cdFx0aWYgKHRoaXMuZmllbGRzX2RpY3QuYW1lbmRlZF9mcm9tKSB7XG5cdFx0XHRpZiAodGhpcy5kb2MuYW1lbmRlZF9mcm9tKSB7XG5cdFx0XHRcdHVuaGlkZV9maWVsZCgnYW1lbmRlZF9mcm9tJyk7XG5cdFx0XHRcdGlmICh0aGlzLmZpZWxkc19kaWN0LmFtZW5kbWVudF9kYXRlKSB7IHVuaGlkZV9maWVsZCgnYW1lbmRtZW50X2RhdGUnKTsgfVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGlkZV9maWVsZCgnYW1lbmRlZF9mcm9tJyk7XG5cdFx0XHRcdGlmICh0aGlzLmZpZWxkc19kaWN0LmFtZW5kbWVudF9kYXRlKSB7IGhpZGVfZmllbGQoJ2FtZW5kbWVudF9kYXRlJyk7IH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5maWVsZHNfZGljdC50cmFzaF9yZWFzb24pIHtcblx0XHRcdGlmICh0aGlzLmRvYy50cmFzaF9yZWFzb24gJiYgdGhpcy5kb2MuZG9jc3RhdHVzID09IDIpIHtcblx0XHRcdFx0dW5oaWRlX2ZpZWxkKCd0cmFzaF9yZWFzb24nKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhpZGVfZmllbGQoJ3RyYXNoX3JlYXNvbicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHRoaXMubWV0YS5hdXRvbmFtZSAmJlxuXHRcdFx0dGhpcy5tZXRhLmF1dG9uYW1lLnN1YnN0cigwLCA2KSA9PSAnZmllbGQ6JyAmJlxuXHRcdFx0IXRoaXMuZG9jLl9faXNsb2NhbFxuXHRcdCkge1xuXHRcdFx0bGV0IGZuID0gdGhpcy5tZXRhLmF1dG9uYW1lLnN1YnN0cig2KTtcblxuXHRcdFx0aWYgKHRoaXMuZG9jW2ZuXSkge1xuXHRcdFx0XHR0aGlzLnRvZ2dsZV9kaXNwbGF5KGZuLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubWV0YS5hdXRvbmFtZSA9PSAnbmFtaW5nX3NlcmllczonICYmICF0aGlzLmRvYy5fX2lzbG9jYWwpIHtcblx0XHRcdHRoaXMudG9nZ2xlX2Rpc3BsYXkoJ25hbWluZ19zZXJpZXMnLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0cmVmcmVzaF9oZWFkZXIoc3dpdGNoZWQpIHtcblx0XHQvLyBzZXQgdGl0bGVcblx0XHQvLyBtYWluIHRpdGxlXG5cdFx0Ly8gaWYgKCF0aGlzLm1ldGEuaW5fZGlhbG9nIHx8IHRoaXMuaW5fZm9ybSkge1xuXHRcdC8vIFx0ZnJhcHBlLnV0aWxzLnNldF90aXRsZSh0aGlzLm1ldGEuaXNzaW5nbGUgPyB0aGlzLmRvY3R5cGUgOiB0aGlzLmRvY25hbWUpO1xuXHRcdC8vIH1cblxuXHRcdC8vIHNob3cgLyBoaWRlIGJ1dHRvbnNcblx0XHRpZiAodGhpcy50b29sYmFyKSB7XG5cdFx0XHRpZiAoc3dpdGNoZWQpIHtcblx0XHRcdFx0dGhpcy50b29sYmFyLmN1cnJlbnRfc3RhdHVzID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy50b29sYmFyLnJlZnJlc2goKTtcblx0XHR9XG5cblx0XHR0aGlzLmRhc2hib2FyZC5yZWZyZXNoKCk7XG5cdFx0ZnJhcHBlLmJyZWFkY3J1bWJzLnVwZGF0ZSgpO1xuXG5cdFx0dGhpcy5zaG93X3N1Ym1pdF9tZXNzYWdlKCk7XG5cdFx0dGhpcy5jbGVhcl9jdXN0b21fYnV0dG9ucygpO1xuXHRcdHRoaXMuc2hvd193ZWJfbGluaygpO1xuXHR9XG5cblx0Ly8gU0FWRVxuXG5cdHNhdmVfb3JfdXBkYXRlKCkge1xuXHRcdGlmICh0aGlzLnNhdmVfZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAodGhpcy5kb2MuZG9jc3RhdHVzID09PSAwKSB7XG5cdFx0XHR0aGlzLnNhdmUoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZG9jLmRvY3N0YXR1cyA9PT0gMSAmJiB0aGlzLmRvYy5fX3Vuc2F2ZWQpIHtcblx0XHRcdHRoaXMuc2F2ZSgnVXBkYXRlJyk7XG5cdFx0fVxuXHR9XG5cblx0c2F2ZShzYXZlX2FjdGlvbiwgY2FsbGJhY2ssIGJ0biwgb25fZXJyb3IpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRidG4gJiYgJChidG4pLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRmcmFwcGUudWkuZm9ybS5jbG9zZV9ncmlkX2Zvcm0oKTtcblx0XHRcdG1lLnZhbGlkYXRlX2FuZF9zYXZlKHNhdmVfYWN0aW9uLCBjYWxsYmFjaywgYnRuLCBvbl9lcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0XHR9KVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRtZS5zaG93X3N1Y2Nlc3NfYWN0aW9uKCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGUgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0XHR9KTtcblx0fVxuXG5cdHZhbGlkYXRlX2FuZF9zYXZlKHNhdmVfYWN0aW9uLCBjYWxsYmFjaywgYnRuLCBvbl9lcnJvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRpZiAoIXNhdmVfYWN0aW9uKSB7IHNhdmVfYWN0aW9uID0gJ1NhdmUnOyB9XG5cdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbihzYXZlX2FjdGlvbiwgcmVzb2x2ZSk7XG5cblx0XHRsZXQgYWZ0ZXJfc2F2ZSA9IGZ1bmN0aW9uIChyKSB7XG5cdFx0XHQvLyB0byByZW1vdmUgaGFzaCBmcm9tIFVSTCB0byBhdm9pZCBzY3JvbGwgYWZ0ZXIgc2F2ZVxuXHRcdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgJyAnKTtcblx0XHRcdGlmICghci5leGMpIHtcblx0XHRcdFx0aWYgKFsnU2F2ZScsICdVcGRhdGUnLCAnQW1lbmQnXS5pbmRleE9mKHNhdmVfYWN0aW9uKSAhPT0gLTEpIHtcblx0XHRcdFx0XHRmcmFwcGUudXRpbHMucGxheV9zb3VuZCgnY2xpY2snKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1lLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ2FmdGVyX3NhdmUnKTtcblxuXHRcdFx0XHRpZiAoZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX3NhdmUpIHtcblx0XHRcdFx0XHRsZXQgcm91dGVfY2FsbGJhY2sgPSBmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc2F2ZTtcblx0XHRcdFx0XHRkZWxldGUgZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX3NhdmU7XG5cblx0XHRcdFx0XHRyb3V0ZV9jYWxsYmFjayhtZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gc3VibWl0IGNvbW1lbnQgaWYgZW50ZXJlZFxuXHRcdFx0XHRpZiAobWUuY29tbWVudF9ib3gpIHtcblx0XHRcdFx0XHRtZS5jb21tZW50X2JveC5zdWJtaXQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRtZS5yZWZyZXNoKCk7XG5cdFx0XHR9IGVsc2UgaWYgKG9uX2Vycm9yKSB7XG5cdFx0XHRcdG9uX2Vycm9yKCk7XG5cdFx0XHRcdHJlamVjdCgpO1xuXHRcdFx0fVxuXHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2socik7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fTtcblxuXHRcdGxldCBmYWlsID0gZSA9PiB7XG5cdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0fVxuXHRcdFx0YnRuICYmICQoYnRuKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdGlmIChvbl9lcnJvcikge1xuXHRcdFx0XHRvbl9lcnJvcigpO1xuXHRcdFx0XHRyZWplY3QoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0aWYgKHNhdmVfYWN0aW9uID09ICdVcGRhdGUnKSB7XG5cdFx0XHRmcmFwcGUudWkuZm9ybS5zYXZlKG1lLCBzYXZlX2FjdGlvbiwgYWZ0ZXJfc2F2ZSwgYnRuKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gdmFsaWRhdGVcblx0XHRcdGZyYXBwZS52YWxpZGF0ZWQgPSB0cnVlO1xuXHRcdFx0ZnJhcHBlXG5cdFx0XHRcdC5ydW5fc2VyaWFsbHkoW1xuXHRcdFx0XHRcdCgpID0+IHRoaXMuc2NyaXB0X21hbmFnZXIudHJpZ2dlcigndmFsaWRhdGUnKSxcblx0XHRcdFx0XHQoKSA9PiB0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ2JlZm9yZV9zYXZlJyksXG5cdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKCFmcmFwcGUudmFsaWRhdGVkKSB7XG5cdFx0XHRcdFx0XHRcdGZhaWwoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmcmFwcGUudWkuZm9ybS5zYXZlKG1lLCBzYXZlX2FjdGlvbiwgYWZ0ZXJfc2F2ZSwgYnRuKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRdKVxuXHRcdFx0XHQuY2F0Y2goZmFpbCk7XG5cdFx0fVxuXHR9XG5cblx0c2F2ZXN1Ym1pdChidG4sIGNhbGxiYWNrLCBvbl9lcnJvcikge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbignU3VibWl0Jyk7XG5cdFx0XHRmcmFwcGUuY29uZmlybShcblx0XHRcdFx0X18oJ1Blcm1hbmVudGx5IFN1Ym1pdCB7MH0/JywgW3RoaXMuZG9jbmFtZV0pLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0bWUuc2NyaXB0X21hbmFnZXIudHJpZ2dlcignYmVmb3JlX3N1Ym1pdCcpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0aWYgKCFmcmFwcGUudmFsaWRhdGVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBtZS5oYW5kbGVfc2F2ZV9mYWlsKGJ0biwgb25fZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRtZS5zYXZlKFxuXHRcdFx0XHRcdFx0XHQnU3VibWl0Jyxcblx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24gKHIpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoci5leGMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvcik7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZyYXBwZS51dGlscy5wbGF5X3NvdW5kKCdzdWJtaXQnKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRtZS5zY3JpcHRfbWFuYWdlclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQudHJpZ2dlcignb25fc3VibWl0Jylcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnRoZW4oKCkgPT4gcmVzb2x2ZShtZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX3N1Ym1pdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IHJvdXRlX2NhbGxiYWNrID1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnJhcHBlLnJvdXRlX2hvb2tzLmFmdGVyX3N1Ym1pdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc3VibWl0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cm91dGVfY2FsbGJhY2sobWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRidG4sXG5cdFx0XHRcdFx0XHRcdCgpID0+IG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvciksXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiBtZS5oYW5kbGVfc2F2ZV9mYWlsKGJ0biwgb25fZXJyb3IpLFxuXHRcdFx0KTtcblx0XHR9KTtcblx0fVxuXG5cdHNhdmVjYW5jZWwoYnRuLCBjYWxsYmFjaywgb25fZXJyb3IpIHtcblx0XHRjb25zdCBtZSA9IHRoaXM7XG5cdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbignQ2FuY2VsJyk7XG5cdFx0bWUuaWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGwgPSBtZS5pZ25vcmVfZG9jdHlwZXNfb25fY2FuY2VsX2FsbCB8fCBbXTtcblx0XHRmcmFwcGVcblx0XHRcdC5jYWxsKHtcblx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZm9ybS5saW5rZWRfd2l0aC5nZXRfc3VibWl0dGVkX2xpbmtlZF9kb2NzJyxcblx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdGRvY3R5cGU6IG1lLmRvYy5kb2N0eXBlLFxuXHRcdFx0XHRcdG5hbWU6IG1lLmRvYy5uYW1lLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmcmVlemU6IHRydWUsXG5cdFx0XHR9KVxuXHRcdFx0LnRoZW4ociA9PiB7XG5cdFx0XHRcdGlmICghci5leGMpIHtcblx0XHRcdFx0XHRsZXQgZG9jdHlwZXNfdG9fY2FuY2VsID0gKHIubWVzc2FnZS5kb2NzIHx8IFtdKVxuXHRcdFx0XHRcdFx0Lm1hcCh2YWx1ZSA9PiB2YWx1ZS5kb2N0eXBlKVxuXHRcdFx0XHRcdFx0LmZpbHRlcih2YWx1ZSA9PiAhbWUuaWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGwuaW5jbHVkZXModmFsdWUpKTtcblxuXHRcdFx0XHRcdGlmIChkb2N0eXBlc190b19jYW5jZWwubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbWUuX2NhbmNlbF9hbGwociwgYnRuLCBjYWxsYmFjaywgb25fZXJyb3IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWUuX2NhbmNlbChidG4sIGNhbGxiYWNrLCBvbl9lcnJvciwgZmFsc2UpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRfY2FuY2VsX2FsbChyLCBidG4sIGNhbGxiYWNrLCBvbl9lcnJvcikge1xuXHRcdGNvbnN0IG1lID0gdGhpcztcblxuXHRcdC8vIGFkZCBjb25maXJtYXRpb24gbWVzc2FnZSBmb3IgY2FuY2VsbGluZyBhbGwgbGlua2VkIGRvY3Ncblx0XHRsZXQgbGlua3NfdGV4dCA9ICcnO1xuXHRcdGxldCBsaW5rcyA9IHIubWVzc2FnZS5kb2NzO1xuXHRcdGNvbnN0IGRvY3R5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KGxpbmtzLm1hcChsaW5rID0+IGxpbmsuZG9jdHlwZSkpKTtcblxuXHRcdG1lLmlnbm9yZV9kb2N0eXBlc19vbl9jYW5jZWxfYWxsID0gbWUuaWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGwgfHwgW107XG5cblx0XHRmb3IgKGxldCBkb2N0eXBlIG9mIGRvY3R5cGVzKSB7XG5cdFx0XHRpZiAoIW1lLmlnbm9yZV9kb2N0eXBlc19vbl9jYW5jZWxfYWxsLmluY2x1ZGVzKGRvY3R5cGUpKSB7XG5cdFx0XHRcdGxldCBkb2NuYW1lcyA9IGxpbmtzXG5cdFx0XHRcdFx0LmZpbHRlcihsaW5rID0+IGxpbmsuZG9jdHlwZSA9PSBkb2N0eXBlKVxuXHRcdFx0XHRcdC5tYXAobGluayA9PiBmcmFwcGUudXRpbHMuZ2V0X2Zvcm1fbGluayhsaW5rLmRvY3R5cGUsIGxpbmsubmFtZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0LmpvaW4oJywgJyk7XG5cdFx0XHRcdGxpbmtzX3RleHQgKz0gYDxsaT48c3Ryb25nPiR7X18oZG9jdHlwZSl9PC9zdHJvbmc+OiAke2RvY25hbWVzfTwvbGk+YDtcblx0XHRcdH1cblx0XHR9XG5cdFx0bGlua3NfdGV4dCA9IGA8dWw+JHtsaW5rc190ZXh0fTwvdWw+YDtcblxuXHRcdGxldCBjb25maXJtX21lc3NhZ2UgPSBfXygnezB9IHsxfSBpcyBsaW5rZWQgd2l0aCB0aGUgZm9sbG93aW5nIHN1Ym1pdHRlZCBkb2N1bWVudHM6IHsyfScsIFtcblx0XHRcdF9fKG1lLmRvYy5kb2N0eXBlKS5ib2xkKCksXG5cdFx0XHRtZS5kb2MubmFtZSxcblx0XHRcdGxpbmtzX3RleHQsXG5cdFx0XSk7XG5cblx0XHRsZXQgY2FuX2NhbmNlbCA9IGxpbmtzLmV2ZXJ5KGxpbmsgPT4gZnJhcHBlLm1vZGVsLmNhbl9jYW5jZWwobGluay5kb2N0eXBlKSk7XG5cdFx0aWYgKGNhbl9jYW5jZWwpIHtcblx0XHRcdGNvbmZpcm1fbWVzc2FnZSArPSBfXygnRG8geW91IHdhbnQgdG8gY2FuY2VsIGFsbCBsaW5rZWQgZG9jdW1lbnRzPycpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25maXJtX21lc3NhZ2UgKz0gX18oJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9ucyB0byBjYW5jZWwgYWxsIGxpbmtlZCBkb2N1bWVudHMuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gZ2VuZXJhdGUgZGlhbG9nIGJveCB0byBjYW5jZWwgYWxsIGxpbmtlZCBkb2NzXG5cdFx0bGV0IGQgPSBuZXcgZnJhcHBlLnVpLkRpYWxvZyhcblx0XHRcdHtcblx0XHRcdFx0dGl0bGU6IF9fKCdDYW5jZWwgQWxsIERvY3VtZW50cycpLFxuXHRcdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRmaWVsZHR5cGU6ICdIVE1MJyxcblx0XHRcdFx0XHRcdG9wdGlvbnM6IGA8cCBjbGFzcz1cImZyYXBwZS1jb25maXJtLW1lc3NhZ2VcIj4ke2NvbmZpcm1fbWVzc2FnZX08L3A+YCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRdLFxuXHRcdFx0fSxcblx0XHRcdCgpID0+IG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvciksXG5cdFx0KTtcblxuXHRcdC8vIGlmIHVzZXIgY2FuIGNhbmNlbCBhbGwgbGlua2VkIGRvY3MsIGFkZCBhY3Rpb24gdG8gdGhlIGRpYWxvZ1xuXHRcdGlmIChjYW5fY2FuY2VsKSB7XG5cdFx0XHRkLnNldF9wcmltYXJ5X2FjdGlvbihfXygnQ2FuY2VsIEFsbCcpLCAoKSA9PiB7XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZm9ybS5saW5rZWRfd2l0aC5jYW5jZWxfYWxsX2xpbmtlZF9kb2NzJyxcblx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRkb2NzOiBsaW5rcyxcblx0XHRcdFx0XHRcdGlnbm9yZV9kb2N0eXBlc19vbl9jYW5jZWxfYWxsOiBtZS5pZ25vcmVfZG9jdHlwZXNfb25fY2FuY2VsX2FsbCB8fCBbXSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZyZWV6ZTogdHJ1ZSxcblx0XHRcdFx0XHRjYWxsYmFjazogcmVzcCA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIXJlc3AuZXhjKSB7XG5cdFx0XHRcdFx0XHRcdG1lLnJlbG9hZF9kb2MoKTtcblx0XHRcdFx0XHRcdFx0bWUuX2NhbmNlbChidG4sIGNhbGxiYWNrLCBvbl9lcnJvciwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRkLnNob3coKTtcblx0fVxuXG5cdF9jYW5jZWwoYnRuLCBjYWxsYmFjaywgb25fZXJyb3IsIHNraXBfY29uZmlybSkge1xuXHRcdGNvbnN0IG1lID0gdGhpcztcblx0XHRjb25zdCBjYW5jZWxfZG9jID0gKCkgPT4ge1xuXHRcdFx0ZnJhcHBlLnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRtZS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdiZWZvcmVfY2FuY2VsJykudGhlbigoKSA9PiB7XG5cdFx0XHRcdGlmICghZnJhcHBlLnZhbGlkYXRlZCkge1xuXHRcdFx0XHRcdHJldHVybiBtZS5oYW5kbGVfc2F2ZV9mYWlsKGJ0biwgb25fZXJyb3IpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IGFmdGVyX2NhbmNlbCA9IGZ1bmN0aW9uIChyKSB7XG5cdFx0XHRcdFx0aWYgKHIuZXhjKSB7XG5cdFx0XHRcdFx0XHRtZS5oYW5kbGVfc2F2ZV9mYWlsKGJ0biwgb25fZXJyb3IpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRmcmFwcGUudXRpbHMucGxheV9zb3VuZCgnY2FuY2VsJyk7XG5cdFx0XHRcdFx0XHRtZS5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0bWUuc2NyaXB0X21hbmFnZXIudHJpZ2dlcignYWZ0ZXJfY2FuY2VsJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRmcmFwcGUudWkuZm9ybS5zYXZlKG1lLCAnY2FuY2VsJywgYWZ0ZXJfY2FuY2VsLCBidG4pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGlmIChza2lwX2NvbmZpcm0pIHtcblx0XHRcdGNhbmNlbF9kb2MoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhcHBlLmNvbmZpcm0oXG5cdFx0XHRcdF9fKCdQZXJtYW5lbnRseSBDYW5jZWwgezB9PycsIFt0aGlzLmRvY25hbWVdKSxcblx0XHRcdFx0Y2FuY2VsX2RvYyxcblx0XHRcdFx0bWUuaGFuZGxlX3NhdmVfZmFpbChidG4sIG9uX2Vycm9yKSxcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0c2F2ZXRyYXNoKCkge1xuXHRcdHRoaXMudmFsaWRhdGVfZm9ybV9hY3Rpb24oJ0RlbGV0ZScpO1xuXHRcdGZyYXBwZS5tb2RlbC5kZWxldGVfZG9jKHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lLCAoKSA9PiB7XG5cdFx0XHR0aGlzLl9fZGVsZXRlZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0YW1lbmRfZG9jKCkge1xuXHRcdGlmICghdGhpcy5maWVsZHNfZGljdC5hbWVuZGVkX2Zyb20pIHtcblx0XHRcdGZyYXBwZS5tc2dwcmludChfXygnXCJhbWVuZGVkX2Zyb21cIiBmaWVsZCBtdXN0IGJlIHByZXNlbnQgdG8gZG8gYW4gYW1lbmRtZW50LicpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmcmFwcGVcblx0XHRcdC54Y2FsbCgnZnJhcHBlLmNsaWVudC5pc19kb2N1bWVudF9hbWVuZGVkJywge1xuXHRcdFx0XHRkb2N0eXBlOiB0aGlzLmRvYy5kb2N0eXBlLFxuXHRcdFx0XHRkb2NuYW1lOiB0aGlzLmRvYy5uYW1lLFxuXHRcdFx0fSlcblx0XHRcdC50aGVuKGlzX2FtZW5kZWQgPT4ge1xuXHRcdFx0XHRpZiAoaXNfYW1lbmRlZCkge1xuXHRcdFx0XHRcdGZyYXBwZS50aHJvdyhcblx0XHRcdFx0XHRcdF9fKCdUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgYW1lbmRlZCwgeW91IGNhbm5vdCBhbW1lbmQgaXQgYWdhaW4nKSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMudmFsaWRhdGVfZm9ybV9hY3Rpb24oJ0FtZW5kJyk7XG5cdFx0XHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uIChuZXdkb2MpIHtcblx0XHRcdFx0XHRuZXdkb2MuYW1lbmRlZF9mcm9tID0gbWUuZG9jbmFtZTtcblx0XHRcdFx0XHRpZiAobWUuZmllbGRzX2RpY3QgJiYgbWUuZmllbGRzX2RpY3QuYW1lbmRtZW50X2RhdGUpIHtcblx0XHRcdFx0XHRcdG5ld2RvYy5hbWVuZG1lbnRfZGF0ZSA9IGZyYXBwZS5kYXRldGltZS5vYmpfdG9fc3RyKG5ldyBEYXRlKCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5jb3B5X2RvYyhmbiwgMSk7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5wbGF5X3NvdW5kKCdjbGljaycpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHR2YWxpZGF0ZV9mb3JtX2FjdGlvbihcblx0XHRhY3Rpb246IGtleW9mIHR5cGVvZiB0aGlzLmFjdGlvbl9wZXJtX3R5cGVfbWFwLFxuXHRcdHJlc29sdmU/OiAoKSA9PiB2b2lkLFxuXHQpIHtcblx0XHRsZXQgcGVybV90b19jaGVjayA9IHRoaXMuYWN0aW9uX3Blcm1fdHlwZV9tYXBbYWN0aW9uXTtcblx0XHRsZXQgYWxsb3dlZF9mb3Jfd29ya2Zsb3cgPSBmYWxzZTtcblx0XHRsZXQgcGVybXMgPSBmcmFwcGUucGVybS5nZXRfcGVybSh0aGlzLmRvYy5kb2N0eXBlKVswXTtcblxuXHRcdC8vIEFsbG93IHN1Ym1pdCwgd3JpdGUsIGNhbmNlbCBhbmQgY3JlYXRlIHBlcm1pc3Npb25zIGZvciByZWFkIG9ubHkgZG9jdW1lbnRzIHRoYXQgYXJlIGFzc2lnbmVkIGJ5XG5cdFx0Ly8gd29ya2Zsb3dzIGlmIHRoZSB1c2VyIGFscmVhZHkgaGF2ZSB0aG9zZSBwZXJtaXNzaW9ucy4gVGhpcyBpcyB0byBhbGxvdyBmb3IgdXNlcnMgdG9cblx0XHQvLyBjb250aW51ZSB0aHJvdWdoIHRoZSB3b3JrZmxvdyBzdGF0ZXMgYW5kIHRvIGFsbG93IGV4ZWN1dGlvbiBvZiBmdW5jdGlvbnMgbGlrZSBEdXBsaWNhdGUuXG5cdFx0aWYgKFxuXHRcdFx0KGZyYXBwZS53b3JrZmxvdy5pc19yZWFkX29ubHkodGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUpICYmXG5cdFx0XHRcdChwZXJtcy53cml0ZSB8fCBwZXJtcy5jcmVhdGUgfHwgcGVybXMuc3VibWl0IHx8IHBlcm1zLmNhbmNlbCkpIHx8XG5cdFx0XHQhZnJhcHBlLndvcmtmbG93LmlzX3JlYWRfb25seSh0aGlzLmRvY3R5cGUsIHRoaXMuZG9jbmFtZSlcblx0XHQpIHtcblx0XHRcdGFsbG93ZWRfZm9yX3dvcmtmbG93ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMucGVybVswXVtwZXJtX3RvX2NoZWNrXSAmJiAhYWxsb3dlZF9mb3Jfd29ya2Zsb3cpIHtcblx0XHRcdGlmIChyZXNvbHZlKSB7XG5cdFx0XHRcdC8vIHJlLWVuYWJsZSBidXR0b25zXG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0ZnJhcHBlLnRocm93KFxuXHRcdFx0XHRfXyhcblx0XHRcdFx0XHRcIk5vIHBlcm1pc3Npb24gdG8gJ3swfScgezF9XCIsXG5cdFx0XHRcdFx0W19fKGFjdGlvbiksIF9fKHRoaXMuZG9jLmRvY3R5cGUpXSxcblx0XHRcdFx0XHQnezB9ID0gdmVyYiwgezF9ID0gb2JqZWN0Jyxcblx0XHRcdFx0KSxcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSEVMUEVSU1xuXG5cdGVuYWJsZV9zYXZlKCkge1xuXHRcdHRoaXMuc2F2ZV9kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdHRoaXMudG9vbGJhci5zZXRfcHJpbWFyeV9hY3Rpb24oKTtcblx0fVxuXG5cdGRpc2FibGVfc2F2ZShzZXRfZGlydHkgPSBmYWxzZSkge1xuXHRcdC8vIElNUE9SVEFOVDogdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGluIHJlZnJlc2ggZXZlbnRcblx0XHR0aGlzLnNhdmVfZGlzYWJsZWQgPSB0cnVlO1xuXHRcdHRoaXMudG9vbGJhci5jdXJyZW50X3N0YXR1cyA9IG51bGw7XG5cdFx0Ly8gZmllbGQgY2hhbmdlcyBzaG91bGQgbWFrZSBmb3JtIGRpcnR5XG5cdFx0dGhpcy5zZXRfZGlydHkgPSBzZXRfZGlydHk7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX3ByaW1hcnlfYWN0aW9uKCk7XG5cdH1cblxuXHRkaXNhYmxlX2Zvcm0oKSB7XG5cdFx0dGhpcy5zZXRfcmVhZF9vbmx5KCk7XG5cdFx0Zm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLmZpZWxkcykge1xuXHRcdFx0dGhpcy5zZXRfZGZfcHJvcGVydHkoZmllbGQuZGYuZmllbGRuYW1lLCAncmVhZF9vbmx5JywgJzEnKTtcblx0XHR9XG5cdFx0dGhpcy5kaXNhYmxlX3NhdmUoKTtcblx0fVxuXG5cdGhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvcikge1xuXHRcdCQoYnRuKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRpZiAob25fZXJyb3IpIHtcblx0XHRcdG9uX2Vycm9yKCk7XG5cdFx0fVxuXHR9XG5cblx0dHJpZ2dlcl9saW5rX2ZpZWxkcygpIHtcblx0XHQvLyB0cmlnZ2VyIGxpbmsgZmllbGRzIHdoaWNoIGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0XG5cdFx0aWYgKHRoaXMuaXNfbmV3KCkgJiYgdGhpcy5kb2MuX19ydW5fbGlua190cmlnZ2Vycykge1xuXHRcdFx0JC5lYWNoKHRoaXMuZmllbGRzX2RpY3QsIGZ1bmN0aW9uIChmaWVsZG5hbWUsIGZpZWxkKSB7XG5cdFx0XHRcdGlmIChmaWVsZC5kZi5maWVsZHR5cGUgPT0gJ0xpbmsnICYmIHRoaXMuZG9jW2ZpZWxkbmFtZV0pIHtcblx0XHRcdFx0XHQvLyB0cmlnZ2VycyBhZGQgZmV0Y2gsIHNldHMgdmFsdWUgaW4gbW9kZWwgYW5kIHJ1bnMgdHJpZ2dlcnNcblx0XHRcdFx0XHRmaWVsZC5zZXRfdmFsdWUodGhpcy5kb2NbZmllbGRuYW1lXSwgdHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRkZWxldGUgdGhpcy5kb2MuX19ydW5fbGlua190cmlnZ2Vycztcblx0XHR9XG5cdH1cblxuXHRzaG93X2NvbmZsaWN0X21lc3NhZ2UoKSB7XG5cdFx0aWYgKHRoaXMuZG9jLl9fbmVlZHNfcmVmcmVzaCkge1xuXHRcdFx0aWYgKHRoaXMuZG9jLl9fdW5zYXZlZCkge1xuXHRcdFx0XHR0aGlzLmRhc2hib2FyZC5jbGVhcl9oZWFkbGluZSgpO1xuXHRcdFx0XHR0aGlzLmRhc2hib2FyZC5zZXRfaGVhZGxpbmVfYWxlcnQoXG5cdFx0XHRcdFx0YCR7X18oJ1RoaXMgZm9ybSBoYXMgYmVlbiBtb2RpZmllZCBhZnRlciB5b3UgaGF2ZSBsb2FkZWQgaXQnKVxuXHRcdFx0XHRcdH08YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeSBwdWxsLXJpZ2h0XCIgb25jbGljaz1cImN1cl9mcm0ucmVsb2FkX2RvYygpXCI+JHtcblx0XHRcdFx0XHRcdF9fKCdSZWZyZXNoJylcblx0XHRcdFx0XHR9PC9idXR0b24+YCxcblx0XHRcdFx0XHQnYWxlcnQtd2FybmluZycsXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRlYm91bmNlZF9yZWxvYWRfZG9jKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2hvd19zdWJtaXRfbWVzc2FnZSgpIHtcblx0XHRpZiAoXG5cdFx0XHR0aGlzLm1ldGEuaXNfc3VibWl0dGFibGUgJiZcblx0XHRcdHRoaXMucGVybVswXSAmJlxuXHRcdFx0dGhpcy5wZXJtWzBdLnN1Ym1pdCAmJlxuXHRcdFx0IXRoaXMuaXNfZGlydHkoKSAmJlxuXHRcdFx0IXRoaXMuaXNfbmV3KCkgJiZcblx0XHRcdCFmcmFwcGUubW9kZWwuaGFzX3dvcmtmbG93KHRoaXMuZG9jdHlwZSkgJiYgLy8gc2hvdyBvbmx5IGlmIG5vIHdvcmtmbG93XG5cdFx0XHR0aGlzLmRvYy5kb2NzdGF0dXMgPT09IDBcblx0XHQpIHtcblx0XHRcdHRoaXMuZGFzaGJvYXJkLmFkZF9jb21tZW50KF9fKCdTdWJtaXQgdGhpcyBkb2N1bWVudCB0byBjb25maXJtJyksICdibHVlJywgdHJ1ZSk7XG5cdFx0fVxuXHR9XG5cblx0c2hvd193ZWJfbGluaygpIHtcblx0XHRpZiAoIXRoaXMuZG9jLl9faXNsb2NhbCAmJiB0aGlzLmRvYy5fX29ubG9hZCAmJiB0aGlzLmRvYy5fX29ubG9hZC5pc193ZWJzaXRlX2dlbmVyYXRvcikge1xuXHRcdFx0dGhpcy53ZWJfbGluayAmJiB0aGlzLndlYl9saW5rLnJlbW92ZSgpO1xuXHRcdFx0aWYgKHRoaXMuZG9jLl9fb25sb2FkLnB1Ymxpc2hlZCkge1xuXHRcdFx0XHR0aGlzLmFkZF93ZWJfbGluayhgLyR7dGhpcy5kb2Mucm91dGV9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YWRkX3dlYl9saW5rKHBhdGgsIGxhYmVsKSB7XG5cdFx0bGFiZWwgPSBfXyhsYWJlbCkgfHwgX18oJ1NlZSBvbiBXZWJzaXRlJyk7XG5cdFx0dGhpcy53ZWJfbGluayA9IHRoaXMuc2lkZWJhclxuXHRcdFx0LmFkZF91c2VyX2FjdGlvbihfXyhsYWJlbCksIGZ1bmN0aW9uICgpIHsgfSlcblx0XHRcdC5hdHRyKCdocmVmJywgcGF0aCB8fCB0aGlzLmRvYy5yb3V0ZSlcblx0XHRcdC5hdHRyKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG5cdH1cblxuXHRmZXRjaF9wZXJtaXNzaW9ucygpIHtcblx0XHRsZXQgZHQgPSB0aGlzLnBhcmVudF9kb2N0eXBlID8gdGhpcy5wYXJlbnRfZG9jdHlwZSA6IHRoaXMuZG9jdHlwZTtcblx0XHR0aGlzLnBlcm0gPSBmcmFwcGUucGVybS5nZXRfcGVybShkdCwgdGhpcy5kb2MpO1xuXHR9XG5cblx0aGFzX3JlYWRfcGVybWlzc2lvbigpIHtcblx0XHRpZiAoIXRoaXMucGVybVswXS5yZWFkKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRjaGVja19kb2N0eXBlX2NvbmZsaWN0KGRvY25hbWUpIHtcblx0XHRpZiAodGhpcy5kb2N0eXBlID09ICdEb2NUeXBlJyAmJiBkb2NuYW1lID09ICdEb2NUeXBlJykge1xuXHRcdFx0ZnJhcHBlLm1zZ3ByaW50KF9fKCdBbGxvd2luZyBEb2NUeXBlLCBEb2NUeXBlLiBCZSBjYXJlZnVsIScpKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZG9jdHlwZSA9PSAnRG9jVHlwZScpIHtcblx0XHRcdGlmIChmcmFwcGUudmlld3MuZm9ybXZpZXdbZG9jbmFtZV0gfHwgZnJhcHBlLnBhZ2VzW2BMaXN0LyR7ZG9jbmFtZX1gXSkge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdC8vXHRmcmFwcGUubXNncHJpbnQoX18oXCJDYW5ub3Qgb3BlbiB7MH0gd2hlbiBpdHMgaW5zdGFuY2UgaXMgb3BlblwiLCBbJ0RvY1R5cGUnXSkpXG5cdFx0XHRcdC8vIHRocm93ICdkb2N0eXBlIG9wZW4gY29uZmxpY3QnXG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGZyYXBwZS52aWV3cy5mb3Jtdmlldy5Eb2NUeXBlICYmXG5cdFx0XHRmcmFwcGUudmlld3MuZm9ybXZpZXcuRG9jVHlwZS5mcm0ub3BlbmRvY3NbdGhpcy5kb2N0eXBlXVxuXHRcdCkge1xuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0Ly9cdGZyYXBwZS5tc2dwcmludChfXyhcIkNhbm5vdCBvcGVuIGluc3RhbmNlIHdoZW4gaXRzIHswfSBpcyBvcGVuXCIsIFsnRG9jVHlwZSddKSlcblx0XHRcdC8vIHRocm93ICdkb2N0eXBlIG9wZW4gY29uZmxpY3QnXG5cdFx0fVxuXHR9XG5cblx0Ly8gcmVuYW1lIHRoZSBmb3JtXG5cdC8vIG5vdGlmeSB0aGlzIGZvcm0gb2YgcmVuYW1lZCByZWNvcmRzXG5cdHJlbmFtZV9ub3RpZnkoZHQsIG9sZCwgbmFtZSkge1xuXHRcdC8vIGZyb20gZm9ybVxuXHRcdGlmICh0aGlzLm1ldGEuaXN0YWJsZSkgeyByZXR1cm47IH1cblxuXHRcdGlmICh0aGlzLmRvY25hbWUgPT0gb2xkKSB7IHRoaXMuZG9jbmFtZSA9IG5hbWU7IH1cblx0XHRlbHNlIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBjbGVhbnVwXG5cdFx0aWYgKHRoaXMgJiYgdGhpcy5vcGVuZG9jc1tvbGRdICYmIGZyYXBwZS5tZXRhLmRvY2ZpZWxkX2NvcHlbZHRdKSB7XG5cdFx0XHQvLyBkZWxldGUgZG9jZmllbGQgY29weVxuXHRcdFx0ZnJhcHBlLm1ldGEuZG9jZmllbGRfY29weVtkdF1bbmFtZV0gPSBmcmFwcGUubWV0YS5kb2NmaWVsZF9jb3B5W2R0XVtvbGRdO1xuXHRcdFx0ZGVsZXRlIGZyYXBwZS5tZXRhLmRvY2ZpZWxkX2NvcHlbZHRdW29sZF07XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIHRoaXMub3BlbmRvY3Nbb2xkXTtcblx0XHR0aGlzLm9wZW5kb2NzW25hbWVdID0gdHJ1ZTtcblxuXHR9XG5cblx0Ly8gQUNUSU9OU1xuXG5cdHByaW50X2RvYygpIHtcblx0XHRmcmFwcGUucm91dGVfb3B0aW9ucyA9IHtcblx0XHRcdGZybTogdGhpcyxcblx0XHR9O1xuXHRcdGZyYXBwZS5zZXRfcm91dGUoJ3ByaW50JywgdGhpcy5kb2N0eXBlLCB0aGlzLmRvYy5uYW1lKTtcblx0fVxuXG5cdG5hdmlnYXRlX3JlY29yZHMocHJldikge1xuXHRcdGxldCBmaWx0ZXJzLCBzb3J0X2ZpZWxkLCBzb3J0X29yZGVyO1xuXHRcdGxldCBsaXN0X3ZpZXcgPSBmcmFwcGUuZ2V0X2xpc3Rfdmlldyh0aGlzLmRvY3R5cGUpO1xuXHRcdGlmIChsaXN0X3ZpZXcpIHtcblx0XHRcdGZpbHRlcnMgPSBsaXN0X3ZpZXcuZ2V0X2ZpbHRlcnNfZm9yX2FyZ3MoKTtcblx0XHRcdHNvcnRfZmllbGQgPSBsaXN0X3ZpZXcuc29ydF9ieTtcblx0XHRcdHNvcnRfb3JkZXIgPSBsaXN0X3ZpZXcuc29ydF9vcmRlcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IGxpc3Rfc2V0dGluZ3MgPSBmcmFwcGUuZ2V0X3VzZXJfc2V0dGluZ3ModGhpcy5kb2N0eXBlKS5MaXN0O1xuXHRcdFx0aWYgKGxpc3Rfc2V0dGluZ3MpIHtcblx0XHRcdFx0ZmlsdGVycyA9IGxpc3Rfc2V0dGluZ3MuZmlsdGVycztcblx0XHRcdFx0c29ydF9maWVsZCA9IGxpc3Rfc2V0dGluZ3Muc29ydF9ieTtcblx0XHRcdFx0c29ydF9vcmRlciA9IGxpc3Rfc2V0dGluZ3Muc29ydF9vcmRlcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgYXJncyA9IHtcblx0XHRcdGRvY3R5cGU6IHRoaXMuZG9jdHlwZSxcblx0XHRcdHZhbHVlOiB0aGlzLmRvY25hbWUsXG5cdFx0XHRmaWx0ZXJzLFxuXHRcdFx0c29ydF9vcmRlcixcblx0XHRcdHNvcnRfZmllbGQsXG5cdFx0XHRwcmV2LFxuXHRcdH07XG5cblx0XHRmcmFwcGUuY2FsbCgnZnJhcHBlLmRlc2suZm9ybS51dGlscy5nZXRfbmV4dCcsIGFyZ3MpLnRoZW4ociA9PiB7XG5cdFx0XHRpZiAoci5tZXNzYWdlKSB7XG5cdFx0XHRcdGZyYXBwZS5zZXRfcm91dGUoJ0Zvcm0nLCB0aGlzLmRvY3R5cGUsIHIubWVzc2FnZSk7XG5cdFx0XHRcdHRoaXMuZm9jdXNfb25fZmlyc3RfaW5wdXQoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJlbmFtZV9kb2MoKSB7XG5cdFx0ZnJhcHBlLm1vZGVsLnJlbmFtZV9kb2ModGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUsICgpID0+IHRoaXMucmVmcmVzaF9oZWFkZXIoKSk7XG5cdH1cblxuXHRzaGFyZV9kb2MoKSB7XG5cdFx0dGhpcy5zaGFyZWQuc2hvdygpO1xuXHR9XG5cblx0ZW1haWxfZG9jKG1lc3NhZ2UpIHtcblx0XHRuZXcgZnJhcHBlLnZpZXdzLkNvbW11bmljYXRpb25Db21wb3Nlcih7XG5cdFx0XHRkb2M6IHRoaXMuZG9jLFxuXHRcdFx0ZnJtOiB0aGlzLFxuXHRcdFx0c3ViamVjdDogYCR7X18odGhpcy5tZXRhLm5hbWUpfTogJHt0aGlzLmRvY25hbWV9YCxcblx0XHRcdHJlY2lwaWVudHM6IHRoaXMuZG9jLmVtYWlsIHx8IHRoaXMuZG9jLmVtYWlsX2lkIHx8IHRoaXMuZG9jLmNvbnRhY3RfZW1haWwsXG5cdFx0XHRhdHRhY2hfZG9jdW1lbnRfcHJpbnQ6IHRydWUsXG5cdFx0XHRtZXNzYWdlLFxuXHRcdH0pO1xuXHR9XG5cblx0Y29weV9kb2Mob25sb2FkLCBmcm9tX2FtZW5kKSB7XG5cdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbignQ3JlYXRlJyk7XG5cdFx0bGV0IG5ld2RvYyA9IGZyYXBwZS5tb2RlbC5jb3B5X2RvYyh0aGlzLmRvYywgZnJvbV9hbWVuZCk7XG5cblx0XHRuZXdkb2MuaWR4ID0gbnVsbDtcblx0XHRuZXdkb2MuX19ydW5fbGlua190cmlnZ2VycyA9IGZhbHNlO1xuXHRcdGlmIChvbmxvYWQpIHtcblx0XHRcdG9ubG9hZChuZXdkb2MpO1xuXHRcdH1cblx0XHRmcmFwcGUuc2V0X3JvdXRlKCdGb3JtJywgbmV3ZG9jLmRvY3R5cGUsIG5ld2RvYy5uYW1lKTtcblx0fVxuXG5cdHJlbG9hZF9kb2MoKSB7XG5cdFx0dGhpcy5jaGVja19kb2N0eXBlX2NvbmZsaWN0KHRoaXMuZG9jbmFtZSk7XG5cblx0XHRpZiAoIXRoaXMuZG9jLl9faXNsb2NhbCkge1xuXHRcdFx0ZnJhcHBlLm1vZGVsLnJlbW92ZV9mcm9tX2xvY2Fscyh0aGlzLmRvY3R5cGUsIHRoaXMuZG9jbmFtZSk7XG5cdFx0XHRyZXR1cm4gZnJhcHBlLm1vZGVsLndpdGhfZG9jKHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cmVmcmVzaF9maWVsZChmbmFtZSkge1xuXHRcdGlmICh0aGlzLmZpZWxkc19kaWN0W2ZuYW1lXSAmJiB0aGlzLmZpZWxkc19kaWN0W2ZuYW1lXS5yZWZyZXNoKSB7XG5cdFx0XHR0aGlzLmZpZWxkc19kaWN0W2ZuYW1lXS5yZWZyZXNoKCk7XG5cdFx0XHR0aGlzLmxheW91dC5yZWZyZXNoX2RlcGVuZGVuY3koKTtcblx0XHRcdHRoaXMubGF5b3V0LnJlZnJlc2hfc2VjdGlvbnMoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBVVElMSVRJRVNcblx0YWRkX2ZldGNoKGxpbmtfZmllbGQsIHNvdXJjZV9maWVsZCwgdGFyZ2V0X2ZpZWxkLCB0YXJnZXRfZG9jdHlwZSkge1xuXHRcdC8qXG5cdFx0RXhhbXBsZSBmZXRjaCBkaWN0IHRvIGdldCBzZW5kZXJfZW1haWwgZnJvbSBlbWFpbF9pZCBmaWVsZCBpbiBzZW5kZXI6XG5cdFx0XHR7XG5cdFx0XHRcdFwiTm90aWZpY2F0aW9uXCI6IHtcblx0XHRcdFx0XHRcInNlbmRlclwiOiB7XG5cdFx0XHRcdFx0XHRcInNlbmRlcl9lbWFpbFwiOiBcImVtYWlsX2lkXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQqL1xuXG5cdFx0aWYgKCF0YXJnZXRfZG9jdHlwZSkgeyB0YXJnZXRfZG9jdHlwZSA9ICcqJzsgfVxuXG5cdFx0Ly8gVGFyZ2V0IGZpZWxkIGtlcHQgYXMga2V5IGJlY2F1c2Ugc291cmNlIGZpZWxkIGNvdWxkIGJlIG5vbi11bmlxdWVcblx0XHR0aGlzLmZldGNoX2RpY3Quc2V0RGVmYXVsdCh0YXJnZXRfZG9jdHlwZSwge30pLnNldERlZmF1bHQobGlua19maWVsZCwge30pW3RhcmdldF9maWVsZF0gPVxuXHRcdFx0c291cmNlX2ZpZWxkO1xuXHR9XG5cblx0aGFzX3Blcm0ocHR5cGUpIHtcblx0XHRyZXR1cm4gZnJhcHBlLnBlcm0uaGFzX3Blcm0odGhpcy5kb2N0eXBlLCAwLCBwdHlwZSwgdGhpcy5kb2MpO1xuXHR9XG5cblx0ZGlydHkoKSB7XG5cdFx0dGhpcy5kb2MuX191bnNhdmVkID0gMTtcblx0XHR0aGlzLiR3cmFwcGVyLnRyaWdnZXIoJ2RpcnR5Jyk7XG5cdFx0aWYgKCFmcmFwcGUuYm9vdC5kZXZlbG9wZXJfbW9kZSkge1xuXHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5iZWZvcmVVbmxvYWRMaXN0ZW5lciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXHRcdH1cblx0fVxuXG5cdGdldF9kb2NpbmZvKCkge1xuXHRcdHJldHVybiBmcmFwcGUubW9kZWwuZG9jaW5mb1t0aGlzLmRvY3R5cGVdW3RoaXMuZG9jbmFtZV07XG5cdH1cblxuXHRpc19kaXJ0eSgpIHtcblx0XHRyZXR1cm4gQm9vbGVhbih0aGlzLmRvYy5fX3Vuc2F2ZWQpO1xuXHR9XG5cblx0aXNfbmV3KCkge1xuXHRcdHJldHVybiB0aGlzLmRvYy5fX2lzbG9jYWw7XG5cdH1cblxuXHRnZXRfcGVybShwZXJtbGV2ZWwsIGFjY2Vzc190eXBlKSB7XG5cdFx0cmV0dXJuIHRoaXMucGVybVtwZXJtbGV2ZWxdID8gdGhpcy5wZXJtW3Blcm1sZXZlbF1bYWNjZXNzX3R5cGVdIDogbnVsbDtcblx0fVxuXG5cdHNldF9pbnRybyh0eHQsIGNvbG9yKSB7XG5cdFx0dGhpcy5kYXNoYm9hcmQuc2V0X2hlYWRsaW5lX2FsZXJ0KHR4dCwgY29sb3IpO1xuXHR9XG5cblx0c2V0X2Zvb3Rub3RlKHR4dCkge1xuXHRcdHRoaXMuZm9vdG5vdGVfYXJlYSA9IGZyYXBwZS51dGlscy5zZXRfZm9vdG5vdGUodGhpcy5mb290bm90ZV9hcmVhLCB0aGlzLmJvZHksIHR4dCk7XG5cdH1cblxuXHRhZGRfY3VzdG9tX2J1dHRvbihsYWJlbCwgZm4sIGdyb3VwKSB7XG5cdFx0Ly8gdGVtcCEgb2xkIHBhcmFtZXRlciB1c2VkIHRvIGJlIGljb25cblx0XHRpZiAoZ3JvdXAgJiYgZ3JvdXAuaW5kZXhPZignZmEgZmEtJykgIT09IC0xKSB7IGdyb3VwID0gbnVsbDsgfVxuXG5cdFx0bGV0IGJ0biA9IHRoaXMucGFnZS5hZGRfaW5uZXJfYnV0dG9uKGxhYmVsLCBmbiwgZ3JvdXApO1xuXG5cdFx0aWYgKGJ0bikge1xuXHRcdFx0Ly8gQWRkIGFjdGlvbnMgYXMgbWVudSBpdGVtIGluIE1vYmlsZSBWaWV3XG5cdFx0XHRsZXQgbWVudV9pdGVtX2xhYmVsID0gZ3JvdXAgPyBgJHtncm91cH0gPiAke2xhYmVsfWAgOiBsYWJlbDtcblx0XHRcdGxldCBtZW51X2l0ZW0gPSB0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShtZW51X2l0ZW1fbGFiZWwsIGZuLCBmYWxzZSk7XG5cdFx0XHRtZW51X2l0ZW0ucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbi14bCcpO1xuXG5cdFx0XHR0aGlzLmN1c3RvbV9idXR0b25zW2xhYmVsXSA9IGJ0bjtcblx0XHR9XG5cdFx0cmV0dXJuIGJ0bjtcblx0fVxuXG5cdGNoYW5nZV9jdXN0b21fYnV0dG9uX3R5cGUobGFiZWwsIGdyb3VwLCB0eXBlKSB7XG5cdFx0dGhpcy5wYWdlLmNoYW5nZV9pbm5lcl9idXR0b25fdHlwZShsYWJlbCwgZ3JvdXAsIHR5cGUpO1xuXHR9XG5cblx0Y2xlYXJfY3VzdG9tX2J1dHRvbnMoKSB7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX2lubmVyX3Rvb2xiYXIoKTtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfdXNlcl9hY3Rpb25zKCk7XG5cdFx0dGhpcy5jdXN0b21fYnV0dG9ucyA9IHt9O1xuXHR9XG5cblx0Ly9SZW1vdmUgc3BlY2lmaWMgY3VzdG9tIGJ1dHRvbiBieSBidXR0b24gTGFiZWxcblx0cmVtb3ZlX2N1c3RvbV9idXR0b24obGFiZWwsIGdyb3VwKSB7XG5cdFx0dGhpcy5wYWdlLnJlbW92ZV9pbm5lcl9idXR0b24obGFiZWwsIGdyb3VwKTtcblx0fVxuXG5cdHNjcm9sbF90b19lbGVtZW50KCkge1xuXHRcdGlmIChmcmFwcGUucm91dGVfb3B0aW9ucyAmJiBmcmFwcGUucm91dGVfb3B0aW9ucy5zY3JvbGxfdG8pIHtcblx0XHRcdGxldCB7IHNjcm9sbF90byB9ID0gZnJhcHBlLnJvdXRlX29wdGlvbnM7XG5cdFx0XHRkZWxldGUgZnJhcHBlLnJvdXRlX29wdGlvbnMuc2Nyb2xsX3RvO1xuXG5cdFx0XHRsZXQgc2VsZWN0b3IgPSBbXTtcblx0XHRcdGZvciAobGV0IGtleSBpbiBzY3JvbGxfdG8pIHtcblx0XHRcdFx0bGV0IHZhbHVlID0gc2Nyb2xsX3RvW2tleV07XG5cdFx0XHRcdHNlbGVjdG9yLnB1c2gocmVwbCgnW2RhdGEtJShrZXkpcz1cIiUodmFsdWUpc1wiXScsIHsga2V5LCB2YWx1ZSB9KSk7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gJChzZWxlY3Rvci5qb2luKCcgJykpO1xuXHRcdFx0aWYgKHNlbGVjdG9yLmxlbmd0aCkge1xuXHRcdFx0XHRmcmFwcGUudXRpbHMuc2Nyb2xsX3RvKHNlbGVjdG9yKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG5cdFx0XHRpZiAoJCh3aW5kb3cubG9jYXRpb24uaGFzaCkubGVuZ3RoKSB7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5zY3JvbGxfdG8od2luZG93LmxvY2F0aW9uLmhhc2gsIHRydWUsIDIwMCwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNjcm9sbF90b19maWVsZCh3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpKSAmJlxuXHRcdFx0XHRcdGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsICcgJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2hvd19zdWNjZXNzX2FjdGlvbigpIHtcblx0XHRjb25zdCByb3V0ZSA9IGZyYXBwZS5nZXRfcm91dGUoKTtcblx0XHRpZiAocm91dGVbMF0gIT09ICdGb3JtJykgeyByZXR1cm47IH1cblx0XHRpZiAodGhpcy5tZXRhLmlzX3N1Ym1pdHRhYmxlICYmIHRoaXMuZG9jLmRvY3N0YXR1cyAhPT0gMSkgeyByZXR1cm47IH1cblxuXHRcdGNvbnN0IHN1Y2Nlc3NfYWN0aW9uID0gbmV3IGZyYXBwZS51aS5mb3JtLlN1Y2Nlc3NBY3Rpb24odGhpcyk7XG5cdFx0c3VjY2Vzc19hY3Rpb24uc2hvdygpO1xuXHR9XG5cblx0Z2V0X2RvYygpIHtcblx0XHRyZXR1cm4gbG9jYWxzW3RoaXMuZG9jdHlwZV1bdGhpcy5kb2NuYW1lXTtcblx0fVxuXG5cdHNldF9jdXJyZW5jeV9sYWJlbHMoZmllbGRzX2xpc3QsIGN1cnJlbmN5LCBwYXJlbnRmaWVsZCkge1xuXHRcdC8vIFRvIHNldCB0aGUgY3VycmVuY3kgaW4gdGhlIGxhYmVsXG5cdFx0Ly8gRm9yIGV4YW1wbGUgVG90YWwgQ29zdChJTlIpLCBUb3RhbCBDb3N0KFVTRClcblx0XHRpZiAoIWN1cnJlbmN5KSB7IHJldHVybjsgfVxuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0bGV0IGRvY3R5cGUgPSBwYXJlbnRmaWVsZCA/IHRoaXMuZmllbGRzX2RpY3RbcGFyZW50ZmllbGRdLmdyaWQuZG9jdHlwZSA6IHRoaXMuZG9jLmRvY3R5cGU7XG5cdFx0bGV0IGZpZWxkX2xhYmVsX21hcCA9IHt9O1xuXHRcdGxldCBncmlkX2ZpZWxkX2xhYmVsX21hcCA9IHt9O1xuXG5cdFx0JC5lYWNoKGZpZWxkc19saXN0LCBmdW5jdGlvbiAoaSwgZm5hbWUpIHtcblx0XHRcdGxldCBkb2NmaWVsZCA9IGZyYXBwZS5tZXRhLmRvY2ZpZWxkX21hcFtkb2N0eXBlXVtmbmFtZV07XG5cdFx0XHRpZiAoZG9jZmllbGQpIHtcblx0XHRcdFx0dmFyIGxhYmVsID0gX18oZG9jZmllbGQubGFiZWwgfHwgXCJcIikucmVwbGFjZSgvXFwoW15cXCldKlxcKS9nLCBcIlwiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdFx0XHRpZiAocGFyZW50ZmllbGQpIHtcblx0XHRcdFx0XHRncmlkX2ZpZWxkX2xhYmVsX21hcFtgJHtkb2N0eXBlfS0ke2ZuYW1lfWBdID1cblx0XHRcdFx0XHRcdGAke2xhYmVsLnRyaW0oKX0gKCR7X18oY3VycmVuY3kpfSlgO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZpZWxkX2xhYmVsX21hcFtmbmFtZV0gPSBgJHtsYWJlbC50cmltKCl9ICgke2N1cnJlbmN5fSlgO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkLmVhY2goZmllbGRfbGFiZWxfbWFwLCBmdW5jdGlvbiAoZm5hbWUsIGxhYmVsKSB7XG5cdFx0XHRtZS5maWVsZHNfZGljdFtmbmFtZV0uc2V0X2xhYmVsKGxhYmVsKTtcblx0XHR9KTtcblxuXHRcdCQuZWFjaChncmlkX2ZpZWxkX2xhYmVsX21hcCwgZnVuY3Rpb24gKGZuYW1lLCBsYWJlbCkge1xuXHRcdFx0Zm5hbWUgPSBmbmFtZS5zcGxpdCgnLScpO1xuXHRcdFx0bWUuZmllbGRzX2RpY3RbcGFyZW50ZmllbGRdLmdyaWQudXBkYXRlX2RvY2ZpZWxkX3Byb3BlcnR5KGZuYW1lWzFdLCAnbGFiZWwnLCBsYWJlbCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmaWVsZF9tYXAoZm5hbWVzLCBmbikge1xuXHRcdGlmICh0eXBlb2YgZm5hbWVzID09PSAnc3RyaW5nJykge1xuXHRcdFx0aWYgKGZuYW1lcyA9PSAnKicpIHtcblx0XHRcdFx0Zm5hbWVzID0gT2JqZWN0LmtleXModGhpcy5maWVsZHNfZGljdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmbmFtZXMgPSBbZm5hbWVzXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yIChsZXQgaSA9IDAsIGwgPSBmbmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRsZXQgZmllbGRuYW1lID0gZm5hbWVzW2ldO1xuXHRcdFx0bGV0IGZpZWxkID0gZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKHRoaXMuZG9jdHlwZSwgZmllbGRuYW1lLCB0aGlzLmRvY25hbWUpO1xuXHRcdFx0aWYgKGZpZWxkKSB7XG5cdFx0XHRcdGZuKGZpZWxkKTtcblx0XHRcdFx0dGhpcy5yZWZyZXNoX2ZpZWxkKGZpZWxkbmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Z2V0X2RvY2ZpZWxkKGZpZWxkbmFtZTEsIGZpZWxkbmFtZTIpIHtcblx0XHRpZiAoZmllbGRuYW1lMikge1xuXHRcdFx0Ly8gZm9yIGNoaWxkXG5cdFx0XHRsZXQgZG9jdHlwZSA9IHRoaXMuZ2V0X2RvY2ZpZWxkKGZpZWxkbmFtZTEpLm9wdGlvbnM7XG5cdFx0XHRyZXR1cm4gZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKGRvY3R5cGUsIGZpZWxkbmFtZTIsIHRoaXMuZG9jbmFtZSk7XG5cdFx0fVxuXHRcdC8vIGZvciBwYXJlbnRcblx0XHRyZXR1cm4gZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKHRoaXMuZG9jdHlwZSwgZmllbGRuYW1lMSwgdGhpcy5kb2NuYW1lKTtcblxuXHR9XG5cblx0c2V0X2RmX3Byb3BlcnR5KGZpZWxkbmFtZSwgcHJvcGVydHksIHZhbHVlLCBkb2NuYW1lLCB0YWJsZV9maWVsZCwgdGFibGVfcm93X25hbWUgPSBudWxsKSB7XG5cdFx0bGV0IGRmO1xuXG5cdFx0aWYgKCFkb2NuYW1lIHx8ICF0YWJsZV9maWVsZCkge1xuXHRcdFx0ZGYgPSB0aGlzLmdldF9kb2NmaWVsZChmaWVsZG5hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCB7IGdyaWQgfSA9IHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXTtcblx0XHRcdGNvbnN0IGZpbHRlcmVkX2ZpZWxkcyA9IGZyYXBwZS51dGlscy5maWx0ZXJfZGljdChncmlkLmRvY2ZpZWxkcywge1xuXHRcdFx0XHRmaWVsZG5hbWU6IHRhYmxlX2ZpZWxkLFxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoZmlsdGVyZWRfZmllbGRzLmxlbmd0aCkge1xuXHRcdFx0XHRkZiA9IGZyYXBwZS5tZXRhLmdldF9kb2NmaWVsZChcblx0XHRcdFx0XHRmaWx0ZXJlZF9maWVsZHNbMF0ucGFyZW50LFxuXHRcdFx0XHRcdHRhYmxlX2ZpZWxkLFxuXHRcdFx0XHRcdHRhYmxlX3Jvd19uYW1lLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChkZiAmJiBkZltwcm9wZXJ0eV0gIT0gdmFsdWUpIHtcblx0XHRcdGRmW3Byb3BlcnR5XSA9IHZhbHVlO1xuXG5cdFx0XHRpZiAodGFibGVfZmllbGQgJiYgdGFibGVfcm93X25hbWUpIHtcblx0XHRcdFx0aWYgKHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXS5ncmlkLmdyaWRfcm93c19ieV9kb2NuYW1lW3RhYmxlX3Jvd19uYW1lXSkge1xuXHRcdFx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXS5ncmlkLmdyaWRfcm93c19ieV9kb2NuYW1lW1xuXHRcdFx0XHRcdFx0dGFibGVfcm93X25hbWVcblx0XHRcdFx0XHRdLnJlZnJlc2hfZmllbGQoZmllbGRuYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5yZWZyZXNoX2ZpZWxkKGZpZWxkbmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dG9nZ2xlX2VuYWJsZShmbmFtZXMsIGVuYWJsZSkge1xuXHRcdHRoaXMuZmllbGRfbWFwKGZuYW1lcywgZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRmaWVsZC5yZWFkX29ubHkgPSBlbmFibGUgPyAwIDogMTtcblx0XHR9KTtcblx0fVxuXG5cdHRvZ2dsZV9yZXFkKGZuYW1lcywgbWFuZGF0b3J5KSB7XG5cdFx0dGhpcy5maWVsZF9tYXAoZm5hbWVzLCBmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGZpZWxkLnJlcWQgPSBtYW5kYXRvcnkgPyB0cnVlIDogZmFsc2U7XG5cdFx0fSk7XG5cdH1cblxuXHR0b2dnbGVfZGlzcGxheShmbmFtZXMsIHNob3cpIHtcblx0XHR0aGlzLmZpZWxkX21hcChmbmFtZXMsIGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0ZmllbGQuaGlkZGVuID0gc2hvdyA/IDAgOiAxO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0X2ZpbGVzKCkge1xuXHRcdHJldHVybiB0aGlzLmF0dGFjaG1lbnRzXG5cdFx0XHQ/IGZyYXBwZS51dGlscy5zb3J0KHRoaXMuYXR0YWNobWVudHMuZ2V0X2F0dGFjaG1lbnRzKCksICdmaWxlX25hbWUnLCAnc3RyaW5nJylcblx0XHRcdDogW107XG5cdH1cblxuXHRzZXRfcXVlcnkoZmllbGRuYW1lLCBvcHQxLCBvcHQyKSB7XG5cdFx0aWYgKG9wdDIpIHtcblx0XHRcdC8vIG9uIGNoaWxkIHRhYmxlXG5cdFx0XHQvLyBzZXRfcXVlcnkoZmllbGRuYW1lLCBwYXJlbnQgZmllbGRuYW1lLCBxdWVyeSlcblx0XHRcdHRoaXMuZmllbGRzX2RpY3Rbb3B0MV0uZ3JpZC5nZXRfZmllbGQoZmllbGRuYW1lKS5nZXRfcXVlcnkgPSBvcHQyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBvbiBwYXJlbnQgdGFibGVcblx0XHRcdC8vIHNldF9xdWVyeShmaWVsZG5hbWUsIHF1ZXJ5KVxuXHRcdFx0aWYgKHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXSkge1xuXHRcdFx0XHR0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV0uZ2V0X3F1ZXJ5ID0gb3B0MTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjbGVhcl90YWJsZShmaWVsZG5hbWUpIHtcblx0XHRmcmFwcGUubW9kZWwuY2xlYXJfdGFibGUodGhpcy5kb2MsIGZpZWxkbmFtZSk7XG5cdH1cblxuXHRhZGRfY2hpbGQoZmllbGRuYW1lLCB2YWx1ZXMpIHtcblx0XHRsZXQgZG9jID0gZnJhcHBlLm1vZGVsLmFkZF9jaGlsZChcblx0XHRcdHRoaXMuZG9jLFxuXHRcdFx0ZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKHRoaXMuZG9jdHlwZSwgZmllbGRuYW1lKS5vcHRpb25zLFxuXHRcdFx0ZmllbGRuYW1lLFxuXHRcdCk7XG5cdFx0aWYgKHZhbHVlcykge1xuXHRcdFx0Ly8gVmFsdWVzIG9mIHVuaXF1ZSBrZXlzIHNob3VsZCBub3QgYmUgb3ZlcnJpZGRlblxuXHRcdFx0bGV0IGQgPSB7fTtcblx0XHRcdGxldCB1bmlxdWVfa2V5cyA9IFsnaWR4JywgJ25hbWUnXTtcblxuXHRcdFx0T2JqZWN0LmtleXModmFsdWVzKS5tYXAoa2V5ID0+IHtcblx0XHRcdFx0aWYgKCF1bmlxdWVfa2V5cy5pbmNsdWRlcyhrZXkpKSB7XG5cdFx0XHRcdFx0ZFtrZXldID0gdmFsdWVzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkLmV4dGVuZChkb2MsIGQpO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jO1xuXHR9XG5cblx0c2V0X3ZhbHVlKGZpZWxkLCB2YWx1ZSwgaWZfbWlzc2luZywgc2tpcF9kaXJ0eV90cmlnZ2VyID0gZmFsc2UpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGxldCBfc2V0ID0gZnVuY3Rpb24gKGYsIHYpIHtcblx0XHRcdGxldCBmaWVsZG9iaiA9IG1lLmZpZWxkc19kaWN0W2ZdO1xuXHRcdFx0aWYgKGZpZWxkb2JqKSB7XG5cdFx0XHRcdGlmICghaWZfbWlzc2luZyB8fCAhZnJhcHBlLm1vZGVsLmhhc192YWx1ZShtZS5kb2N0eXBlLCBtZS5kb2MubmFtZSwgZikpIHtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRmcmFwcGUubW9kZWwudGFibGVfZmllbGRzLmluY2x1ZGVzKGZpZWxkb2JqLmRmLmZpZWxkdHlwZSkgJiZcblx0XHRcdFx0XHRcdCQuaXNBcnJheSh2KVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Ly8gc2V0IGVudGlyZSBjaGlsZCB0YWJsZSBmcm9tIHNwZWNpZmllZCBhcnJheSBhcyB2YWx1ZVxuXHRcdFx0XHRcdFx0ZnJhcHBlLm1vZGVsLmNsZWFyX3RhYmxlKG1lLmRvYywgZmllbGRvYmouZGYuZmllbGRuYW1lKTtcblxuXHRcdFx0XHRcdFx0Y29uc3Qgc3RhbmRhcmRfZmllbGRzID0gW1xuXHRcdFx0XHRcdFx0XHQuLi5mcmFwcGUubW9kZWwuc3RkX2ZpZWxkc19saXN0LFxuXHRcdFx0XHRcdFx0XHQuLi5mcmFwcGUubW9kZWwuY2hpbGRfdGFibGVfZmllbGRfbGlzdCxcblx0XHRcdFx0XHRcdF07XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IFtpZHgsIGRdIG9mIHYuZW50cmllcygpKSB7XG5cdFx0XHRcdFx0XHRcdGxldCBjaGlsZCA9IGZyYXBwZS5tb2RlbC5hZGRfY2hpbGQoXG5cdFx0XHRcdFx0XHRcdFx0bWUuZG9jLFxuXHRcdFx0XHRcdFx0XHRcdGZpZWxkb2JqLmRmLm9wdGlvbnMsXG5cdFx0XHRcdFx0XHRcdFx0ZmllbGRvYmouZGYuZmllbGRuYW1lLFxuXHRcdFx0XHRcdFx0XHRcdGlkeCArIDEsXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3Qgc2V0IHN0YW5kYXJkIGZpZWxkLCBhdm9pZCBtdXRhdGluZyBpbnB1dCB0b28uXG5cdFx0XHRcdFx0XHRcdGxldCBkb2NfY29weSA9IHsgLi4uZCB9O1xuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHN0YW5kYXJkX2ZpZWxkcykge1xuXHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBkb2NfY29weVtmaWVsZF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0JC5leHRlbmQoY2hpbGQsIGRvY19jb3B5KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bWUucmVmcmVzaF9maWVsZChmKTtcblx0XHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZyYXBwZS5tb2RlbC5zZXRfdmFsdWUoXG5cdFx0XHRcdFx0XHRtZS5kb2N0eXBlLFxuXHRcdFx0XHRcdFx0bWUuZG9jLm5hbWUsXG5cdFx0XHRcdFx0XHRmLFxuXHRcdFx0XHRcdFx0dixcblx0XHRcdFx0XHRcdG1lLmZpZWxkdHlwZSxcblx0XHRcdFx0XHRcdHNraXBfZGlydHlfdHJpZ2dlcixcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZyYXBwZS5tc2dwcmludChfXygnRmllbGQgezB9IG5vdCBmb3VuZC4nLCBbZl0pKTtcblx0XHRcdFx0dGhyb3cgJ2ZybS5zZXRfdmFsdWUnO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIF9zZXQoZmllbGQsIHZhbHVlKTtcblx0XHR9IGVsc2UgaWYgKCQuaXNQbGFpbk9iamVjdChmaWVsZCkpIHtcblx0XHRcdGxldCB0YXNrcyA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgZiBpbiBmaWVsZCkge1xuXHRcdFx0XHRsZXQgdiA9IGZpZWxkW2ZdO1xuXHRcdFx0XHRpZiAobWUuZ2V0X2ZpZWxkKGYpKSB7XG5cdFx0XHRcdFx0dGFza3MucHVzaCgoKSA9PiBfc2V0KGYsIHYpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZyYXBwZS5ydW5fc2VyaWFsbHkodGFza3MpO1xuXHRcdH1cblx0fVxuXG5cdGNhbGwob3B0cywgYXJncywgY2FsbGJhY2spIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIGNhbGxlZCBhcyBmcm0uY2FsbCgnZG9fdGhpcycsIHt3aXRoX2FyZzogJ2FyZyd9KTtcblx0XHRcdG9wdHMgPSB7XG5cdFx0XHRcdG1ldGhvZDogb3B0cyxcblx0XHRcdFx0ZG9jOiB0aGlzLmRvYyxcblx0XHRcdFx0YXJncyxcblx0XHRcdFx0Y2FsbGJhY2ssXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRpZiAob3B0cy5kb2MpIHtcblx0XHRcdG9wdHMub3JpZ2luYWxfY2FsbGJhY2sgPSBvcHRzLmNhbGxiYWNrO1xuXHRcdFx0b3B0cy5jYWxsYmFjayA9IGZ1bmN0aW9uIChyKSB7XG5cdFx0XHRcdGlmICghci5leGMpIHsgbWUucmVmcmVzaF9maWVsZHMoKTsgfVxuXG5cdFx0XHRcdG9wdHMub3JpZ2luYWxfY2FsbGJhY2sgJiYgb3B0cy5vcmlnaW5hbF9jYWxsYmFjayhyKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChvcHRzLm1ldGhvZC5pbmRleE9mKCcuJykgPT09IC0xKSB7XG5cdFx0XHRcdG9wdHMubWV0aG9kID0gYCR7ZnJhcHBlLm1vZGVsLmdldF9zZXJ2ZXJfbW9kdWxlX25hbWUobWUuZG9jdHlwZSl9LiR7b3B0cy5tZXRob2R9YDtcblx0XHRcdH1cblx0XHRcdG9wdHMub3JpZ2luYWxfY2FsbGJhY2sgPSBvcHRzLmNhbGxiYWNrO1xuXHRcdFx0b3B0cy5jYWxsYmFjayA9IGZ1bmN0aW9uIChyKSB7XG5cdFx0XHRcdGlmICgkLmlzUGxhaW5PYmplY3Qoci5tZXNzYWdlKSkge1xuXHRcdFx0XHRcdGlmIChvcHRzLmNoaWxkKSB7XG5cdFx0XHRcdFx0XHQvLyB1cGRhdGUgY2hpbGQgZG9jXG5cdFx0XHRcdFx0XHRvcHRzLmNoaWxkID0gbG9jYWxzW29wdHMuY2hpbGQuZG9jdHlwZV1bb3B0cy5jaGlsZC5uYW1lXTtcblxuXHRcdFx0XHRcdFx0bGV0IHN0ZF9maWVsZF9saXN0ID0gWydkb2N0eXBlJ11cblx0XHRcdFx0XHRcdFx0LmNvbmNhdChmcmFwcGUubW9kZWwuc3RkX2ZpZWxkc19saXN0KVxuXHRcdFx0XHRcdFx0XHQuY29uY2F0KGZyYXBwZS5tb2RlbC5jaGlsZF90YWJsZV9maWVsZF9saXN0KTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGtleSBpbiByLm1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHN0ZF9maWVsZF9saXN0LmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0XHRvcHRzLmNoaWxkW2tleV0gPSByLm1lc3NhZ2Vba2V5XTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRtZS5maWVsZHNfZGljdFtvcHRzLmNoaWxkLnBhcmVudGZpZWxkXS5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIHVwZGF0ZSBwYXJlbnQgZG9jXG5cdFx0XHRcdFx0XHRtZS5zZXRfdmFsdWUoci5tZXNzYWdlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0b3B0cy5vcmlnaW5hbF9jYWxsYmFjayAmJiBvcHRzLm9yaWdpbmFsX2NhbGxiYWNrKHIpO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIGZyYXBwZS5jYWxsKG9wdHMpO1xuXHR9XG5cblx0Z2V0X2ZpZWxkKGZpZWxkKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmllbGRzX2RpY3RbZmllbGRdO1xuXHR9XG5cblx0c2V0X3JlYWRfb25seSgpIHtcblx0XHRjb25zdCBkb2NwZXJtcyA9IGZyYXBwZS5wZXJtLmdldF9wZXJtKHRoaXMuZG9jLmRvY3R5cGUpO1xuXHRcdHRoaXMucGVybSA9IGRvY3Blcm1zLm1hcChwID0+ICh7XG5cdFx0XHRyZWFkOiBwLnJlYWQsXG5cdFx0XHRjYW5jZWw6IHAuY2FuY2VsLFxuXHRcdFx0c2hhcmU6IHAuc2hhcmUsXG5cdFx0XHRwcmludDogcC5wcmludCxcblx0XHRcdGVtYWlsOiBwLmVtYWlsLFxuXHRcdH0pKTtcblx0fVxuXG5cdHRyaWdnZXIoZXZlbnQsIGRvY3R5cGUsIGRvY25hbWUpIHtcblx0XHRyZXR1cm4gdGhpcy5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKGV2ZW50LCBkb2N0eXBlLCBkb2NuYW1lKTtcblx0fVxuXG5cdGdldF9mb3JtYXR0ZWQoZmllbGRuYW1lKSB7XG5cdFx0cmV0dXJuIGZyYXBwZS5mb3JtYXQoXG5cdFx0XHR0aGlzLmRvY1tmaWVsZG5hbWVdLFxuXHRcdFx0ZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKHRoaXMuZG9jdHlwZSwgZmllbGRuYW1lLCB0aGlzLmRvY25hbWUpLFxuXHRcdFx0eyBub19pY29uOiB0cnVlIH0sXG5cdFx0XHR0aGlzLmRvYyxcblx0XHQpO1xuXHR9XG5cblx0b3Blbl9ncmlkX3JvdygpIHtcblx0XHRyZXR1cm4gZnJhcHBlLnVpLmZvcm0uZ2V0X29wZW5fZ3JpZF9mb3JtKCk7XG5cdH1cblxuXHRnZXRfdGl0bGUoKSB7XG5cdFx0aWYgKHRoaXMubWV0YS50aXRsZV9maWVsZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZG9jW3RoaXMubWV0YS50aXRsZV9maWVsZF07XG5cdFx0fVxuXHRcdHJldHVybiBTdHJpbmcodGhpcy5kb2MubmFtZSk7XG5cblx0fVxuXG5cdGdldF9zZWxlY3RlZCgpIHtcblx0XHQvLyByZXR1cm5zIGxpc3Qgb2YgY2hpbGRyZW4gdGhhdCBhcmUgc2VsZWN0ZWQuIHJldHVybnMgW3BhcmVudGZpZWxkLCBuYW1lXSBmb3IgZWFjaFxuXHRcdGxldCBzZWxlY3RlZCA9IHt9LFxuXHRcdFx0bWUgPSB0aGlzO1xuXHRcdGZvciAoY29uc3QgZGYgb2YgZnJhcHBlLm1ldGEuZ2V0X3RhYmxlX2ZpZWxkcyh0aGlzLmRvY3R5cGUpKSB7XG5cdFx0XHQvLyBoYW5kbGUgVGFibGVNdWx0aXNlbGVjdCBjaGlsZCBmaWVsZHNcblx0XHRcdGxldCBfc2VsZWN0ZWQgPSBbXTtcblxuXHRcdFx0aWYgKG1lLmZpZWxkc19kaWN0W2RmLmZpZWxkbmFtZV0uZ3JpZCkge1xuXHRcdFx0XHRfc2VsZWN0ZWQgPSBtZS5maWVsZHNfZGljdFtkZi5maWVsZG5hbWVdLmdyaWQuZ2V0X3NlbGVjdGVkKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChfc2VsZWN0ZWQubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGVjdGVkW2RmLmZpZWxkbmFtZV0gPSBfc2VsZWN0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHNldF9pbmRpY2F0b3JfZm9ybWF0dGVyKGZpZWxkbmFtZSwgZ2V0X2NvbG9yLCBnZXRfdGV4dCkge1xuXHRcdC8vIGdldCBkb2N0eXBlIGZyb20gcGFyZW50XG5cdFx0bGV0IGRvY3R5cGU7XG5cdFx0aWYgKGZyYXBwZS5tZXRhLmRvY2ZpZWxkX21hcFt0aGlzLmRvY3R5cGVdW2ZpZWxkbmFtZV0pIHtcblx0XHRcdGRvY3R5cGUgPSB0aGlzLmRvY3R5cGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYXBwZS5tZXRhLmdldF90YWJsZV9maWVsZHModGhpcy5kb2N0eXBlKS5ldmVyeShmdW5jdGlvbiAoZGYpIHtcblx0XHRcdFx0aWYgKGZyYXBwZS5tZXRhLmRvY2ZpZWxkX21hcFtkZi5vcHRpb25zXVtmaWVsZG5hbWVdKSB7XG5cdFx0XHRcdFx0ZG9jdHlwZSA9IGRmLm9wdGlvbnM7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRmcmFwcGUubWV0YS5kb2NmaWVsZF9tYXBbZG9jdHlwZV1bZmllbGRuYW1lXS5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAoXG5cdFx0XHR2YWx1ZSxcblx0XHRcdGRmLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdGRvYyxcblx0XHQpIHtcblx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRsZXQgbGFiZWw7XG5cdFx0XHRcdGlmIChnZXRfdGV4dCkge1xuXHRcdFx0XHRcdGxhYmVsID0gZ2V0X3RleHQoZG9jKTtcblx0XHRcdFx0fSBlbHNlIGlmIChmcmFwcGUuZm9ybS5saW5rX2Zvcm1hdHRlcnNbZGYub3B0aW9uc10pIHtcblx0XHRcdFx0XHRsYWJlbCA9IGZyYXBwZS5mb3JtLmxpbmtfZm9ybWF0dGVyc1tkZi5vcHRpb25zXSh2YWx1ZSwgZG9jKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsYWJlbCA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZXNjYXBlZF9uYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblxuXHRcdFx0XHRyZXR1cm4gYFxuXHRcdFx0XHRcdFx0PGEgY2xhc3M9XCJpbmRpY2F0b3IgJHtnZXRfY29sb3IoZG9jIHx8IHt9KX1cIlxuXHRcdFx0XHRcdFx0XHRocmVmPVwiL2FwcC8ke2ZyYXBwZS5yb3V0ZXIuc2x1ZyhkZi5vcHRpb25zKX0vJHtlc2NhcGVkX25hbWV9XCJcblx0XHRcdFx0XHRcdFx0ZGF0YS1kb2N0eXBlPVwiJHtkZi5vcHRpb25zfVwiXG5cdFx0XHRcdFx0XHRcdGRhdGEtbmFtZT1cIiR7dmFsdWV9XCI+XG5cdFx0XHRcdFx0XHRcdCR7bGFiZWx9XG5cdFx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdHJldHVybiAnJztcblxuXHRcdH07XG5cdH1cblxuXHRjYW5fY3JlYXRlKGRvY3R5cGUpIHtcblx0XHQvLyByZXR1cm4gdHJ1ZSBvciBmYWxzZSBpZiB0aGUgdXNlciBjYW4gbWFrZSBhIHBhcnRpY2xhciBkb2N0eXBlXG5cdFx0Ly8gd2lsbCBjaGVjayBwZXJtaXNzaW9uLCBgY2FuX21ha2VfbWV0aG9kc2AgaWYgZXhpc3RzLCBvciB3aWxsIGRlY2lkZWQgb25cblx0XHQvLyBiYXNpcyBvZiB3aGV0aGVyIHRoZSBkb2N1bWVudCBpcyBzdWJtaXR0YWJsZVxuXHRcdGlmICghZnJhcHBlLm1vZGVsLmNhbl9jcmVhdGUoZG9jdHlwZSkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jdXN0b21fbWFrZV9idXR0b25zICYmIHRoaXMuY3VzdG9tX21ha2VfYnV0dG9uc1tkb2N0eXBlXSkge1xuXHRcdFx0Ly8gY3VzdG9tIGJ1dHRvbnMgYXJlIHRyYW5zbGF0ZWQgYW5kIHNvIGFyZSB0aGUga2V5c1xuXHRcdFx0Y29uc3Qga2V5ID0gX18odGhpcy5jdXN0b21fbWFrZV9idXR0b25zW2RvY3R5cGVdKTtcblx0XHRcdC8vIGlmIHRoZSBidXR0b24gaXMgcHJlc2VudCwgdGhlbiBzaG93IG1ha2Vcblx0XHRcdHJldHVybiBCb29sZWFuKHRoaXMuY3VzdG9tX2J1dHRvbnNba2V5XSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2FuX21ha2VfbWV0aG9kcyAmJiB0aGlzLmNhbl9tYWtlX21ldGhvZHNbZG9jdHlwZV0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNhbl9tYWtlX21ldGhvZHNbZG9jdHlwZV0odGhpcyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm1ldGEuaXNfc3VibWl0dGFibGUgJiYgIXRoaXMuZG9jLmRvY3N0YXR1cyA9PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXG5cblx0fVxuXG5cdG1ha2VfbmV3KGRvY3R5cGUpIHtcblx0XHQvLyBtYWtlIG5ldyBkb2N0eXBlIGZyb20gdGhlIGN1cnJlbnQgZm9ybVxuXHRcdC8vIHdpbGwgaGFuZG92ZXIgdG8gYG1ha2VfbWV0aG9kc2AgaWYgZGVmaW5lZFxuXHRcdC8vIG9yIHdpbGwgY3JlYXRlIGFuZCBtYXRjaCBsaW5rIGZpZWxkc1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0aWYgKHRoaXMubWFrZV9tZXRob2RzICYmIHRoaXMubWFrZV9tZXRob2RzW2RvY3R5cGVdKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5tYWtlX21ldGhvZHNbZG9jdHlwZV0odGhpcyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmN1c3RvbV9tYWtlX2J1dHRvbnMgJiYgdGhpcy5jdXN0b21fbWFrZV9idXR0b25zW2RvY3R5cGVdKSB7XG5cdFx0XHR0aGlzLmN1c3RvbV9idXR0b25zW19fKHRoaXMuY3VzdG9tX21ha2VfYnV0dG9uc1tkb2N0eXBlXSldLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYXBwZS5tb2RlbC53aXRoX2RvY3R5cGUoZG9jdHlwZSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgbmV3X2RvYyA9IGZyYXBwZS5tb2RlbC5nZXRfbmV3X2RvYyhkb2N0eXBlLCBudWxsLCBudWxsLCB0cnVlKTtcblxuXHRcdFx0XHQvLyBzZXQgbGluayBmaWVsZHMgKGlmIGZvdW5kKVxuXHRcdFx0XHRtZS5zZXRfbGlua19maWVsZChkb2N0eXBlLCBuZXdfZG9jKTtcblxuXHRcdFx0XHRmcmFwcGUudWkuZm9ybS5tYWtlX3F1aWNrX2VudHJ5KGRvY3R5cGUsIG51bGwsIG51bGwsIG5ld19kb2MpO1xuXHRcdFx0XHQvLyBmcmFwcGUuc2V0X3JvdXRlKCdGb3JtJywgZG9jdHlwZSwgbmV3X2RvYy5uYW1lKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHNldF9saW5rX2ZpZWxkKGRvY3R5cGUsIG5ld19kb2MpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGZvciAoY29uc3QgZGYgb2YgZnJhcHBlLmdldF9tZXRhKGRvY3R5cGUpLmZpZWxkcykge1xuXHRcdFx0aWYgKGRmLmZpZWxkdHlwZSA9PT0gJ0xpbmsnICYmIGRmLm9wdGlvbnMgPT09IG1lLmRvY3R5cGUpIHtcblx0XHRcdFx0bmV3X2RvY1tkZi5maWVsZG5hbWVdID0gbWUuZG9jLm5hbWU7XG5cdFx0XHR9IGVsc2UgaWYgKFsnTGluaycsICdEeW5hbWljIExpbmsnXS5pbmNsdWRlcyhkZi5maWVsZHR5cGUpICYmIG1lLmRvY1tkZi5maWVsZG5hbWVdKSB7XG5cdFx0XHRcdG5ld19kb2NbZGYuZmllbGRuYW1lXSA9IG1lLmRvY1tkZi5maWVsZG5hbWVdO1xuXHRcdFx0fSBlbHNlIGlmIChkZi5maWVsZHR5cGUgPT09ICdUYWJsZScgJiYgZGYub3B0aW9ucyAmJiBkZi5yZXFkKSB7XG5cdFx0XHRcdGxldCByb3cgPSBuZXdfZG9jW2RmLmZpZWxkbmFtZV1bMF07XG5cdFx0XHRcdG1lLnNldF9saW5rX2ZpZWxkKGRmLm9wdGlvbnMsIHJvdyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlX2luX2FsbF9yb3dzKHRhYmxlX2ZpZWxkbmFtZSwgZmllbGRuYW1lLCB2YWx1ZSkge1xuXHRcdC8vIFVwZGF0ZSB0aGUgYHZhbHVlYCBvZiB0aGUgZmllbGQgbmFtZWQgYGZpZWxkbmFtZWAgaW4gYWxsIHJvd3Mgb2YgdGhlXG5cdFx0Ly8gY2hpbGQgdGFibGUgbmFtZWQgYHRhYmxlX2ZpZWxkbmFtZWAuXG5cdFx0Ly8gRG8gbm90IG92ZXJ3cml0ZSBleGlzdGluZyB2YWx1ZXMuXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XG5cblx0XHRmb3IgKGNvbnN0IGNoaWxkIG9mIGZyYXBwZS5tb2RlbFxuXHRcdFx0LmdldF9jaGlsZHJlbih0aGlzLmRvYywgdGFibGVfZmllbGRuYW1lKVxuXHRcdFx0LmZpbHRlcihjaGlsZCA9PiAhZnJhcHBlLm1vZGVsLmhhc192YWx1ZShjaGlsZC5kb2N0eXBlLCBjaGlsZC5uYW1lLCBmaWVsZG5hbWUpKSkgeyBmcmFwcGUubW9kZWwuc2V0X3ZhbHVlKGNoaWxkLmRvY3R5cGUsIGNoaWxkLm5hbWUsIGZpZWxkbmFtZSwgdmFsdWUpO1xuXHRcdH1cblx0fVxuXG5cdGdldF9zdW0odGFibGVfZmllbGRuYW1lLCBmaWVsZG5hbWUpIHtcblx0XHRsZXQgc3VtID0gMDtcblx0XHRmb3IgKGxldCBkIG9mIHRoaXMuZG9jW3RhYmxlX2ZpZWxkbmFtZV0gfHwgW10pIHtcblx0XHRcdHN1bSArPSBkW2ZpZWxkbmFtZV07XG5cdFx0fVxuXHRcdHJldHVybiBzdW07XG5cdH1cblxuXHRzY3JvbGxfdG9fZmllbGQoZmllbGRuYW1lLCBmb2N1cyA9IHRydWUpIHtcblx0XHRsZXQgZmllbGQgPSB0aGlzLmdldF9maWVsZChmaWVsZG5hbWUpO1xuXHRcdGlmICghZmllbGQpIHsgcmV0dXJuOyB9XG5cblx0XHRsZXQgJGVsID0gZmllbGQuJHdyYXBwZXI7XG5cblx0XHQvLyBzZXQgdGFiIGFzIGFjdGl2ZVxuXHRcdGlmIChmaWVsZC50YWIgJiYgIWZpZWxkLnRhYi5pc19hY3RpdmUoKSkge1xuXHRcdFx0ZmllbGQudGFiLnNldF9hY3RpdmUoKTtcblx0XHR9XG5cblx0XHQvLyB1bmNvbGxhcHNlIHNlY3Rpb25cblx0XHRpZiAoZmllbGQuc2VjdGlvbj8uaXNfY29sbGFwc2VkKCkpIHtcblx0XHRcdGZpZWxkLnNlY3Rpb24uY29sbGFwc2UoZmFsc2UpO1xuXHRcdH1cblxuXHRcdC8vIHNjcm9sbCB0byBpbnB1dFxuXHRcdGZyYXBwZS51dGlscy5zY3JvbGxfdG8oJGVsLCB0cnVlLCAxNSk7XG5cblx0XHQvLyBmb2N1cyBpZiB0ZXh0IGZpZWxkXG5cdFx0aWYgKGZvY3VzKSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0JGVsLmZpbmQoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJykuZm9jdXMoKTtcblx0XHRcdH0sIDUwMCk7XG5cdFx0fVxuXG5cdFx0Ly8gaGlnaGxpZ2h0IGNvbnRyb2wgaW5zaWRlIGZpZWxkXG5cdFx0bGV0IGNvbnRyb2xfZWxlbWVudCA9ICRlbC5jbG9zZXN0KCcuZnJhcHBlLWNvbnRyb2wnKTtcblx0XHRjb250cm9sX2VsZW1lbnQuYWRkQ2xhc3MoJ2hpZ2hsaWdodCcpO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Y29udHJvbF9lbGVtZW50LnJlbW92ZUNsYXNzKCdoaWdobGlnaHQnKTtcblx0XHR9LCAyMDAwKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHNldHVwX2RvY2luZm9fY2hhbmdlX2xpc3RlbmVyKCkge1xuXHRcdGxldCB7IGRvY3R5cGUgfSA9IHRoaXM7XG5cdFx0bGV0IHsgZG9jbmFtZSB9ID0gdGhpcztcblxuXHRcdGlmICh0aGlzLmRvYyAmJiAhdGhpcy5pc19uZXcoKSkge1xuXHRcdFx0ZnJhcHBlLnNvY2tldGlvLmRvY19zdWJzY3JpYmUoZG9jdHlwZSwgZG9jbmFtZSk7XG5cdFx0fVxuXHRcdGZyYXBwZS5yZWFsdGltZS5vZmYoJ2RvY2luZm9fdXBkYXRlJyk7XG5cdFx0ZnJhcHBlLnJlYWx0aW1lLm9uKCdkb2NpbmZvX3VwZGF0ZScsICh7IGRvYywga2V5LCBhY3Rpb24gPSAndXBkYXRlJyB9KSA9PiB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFkb2MucmVmZXJlbmNlX2RvY3R5cGUgfHxcblx0XHRcdFx0XHQhZG9jLnJlZmVyZW5jZV9uYW1lIHx8XG5cdFx0XHRcdFx0ZG9jLnJlZmVyZW5jZV9kb2N0eXBlICE9PSBkb2N0eXBlIHx8XG5cdFx0XHRcdFx0ZG9jLnJlZmVyZW5jZV9uYW1lICE9PSBkb2NuYW1lXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRvY19saXN0ID0gZnJhcHBlLm1vZGVsLmRvY2luZm9bZG9jdHlwZV1bZG9jbmFtZV1ba2V5XSB8fCBbXTtcblx0XHRcdGxldCBkb2NpbmRleCA9IGRvY19saXN0LmZpbmRJbmRleChvbGRfZG9jID0+IG9sZF9kb2MubmFtZSA9PT0gZG9jLm5hbWUpO1xuXG5cdFx0XHRpZiAoYWN0aW9uID09PSAnYWRkJykge1xuXHRcdFx0XHRmcmFwcGUubW9kZWwuZG9jaW5mb1tkb2N0eXBlXVtkb2NuYW1lXVtrZXldLnB1c2goZG9jKTtcblx0XHRcdH1cblx0XHRcdGlmIChkb2NpbmRleCA+IC0xKSB7XG5cdFx0XHRcdGlmIChhY3Rpb24gPT09ICd1cGRhdGUnKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLm1vZGVsLmRvY2luZm9bZG9jdHlwZV1bZG9jbmFtZV1ba2V5XS5zcGxpY2UoZG9jaW5kZXgsIDEsIGRvYyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcblx0XHRcdFx0XHRmcmFwcGUubW9kZWwuZG9jaW5mb1tkb2N0eXBlXVtkb2NuYW1lXVtrZXldLnNwbGljZShkb2NpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIG5vIG5lZWQgdG8gdXBkYXRlIHRpbWVsaW5lIG9mIG93bmVyIG9mIGNvbW1lbnRcblx0XHRcdC8vIGdldHMgaGFuZGxlZCB2aWEgY29tbWVudCBzdWJtaXQgY29kZVxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhKFxuXHRcdFx0XHRcdFsnYWRkJywgJ3VwZGF0ZSddLmluY2x1ZGVzKGFjdGlvbikgJiZcblx0XHRcdFx0XHRkb2MuZG9jdHlwZSA9PT0gJ0NvbW1lbnQnICYmXG5cdFx0XHRcdFx0ZG9jLm93bmVyID09PSBmcmFwcGUuc2Vzc2lvbi51c2VyXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLnRpbWVsaW5lICYmIHRoaXMudGltZWxpbmUucmVmcmVzaCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gRmlsdGVycyBmaWVsZHMgZnJvbSB0aGUgcmVmZXJlbmNlIGRvY3R5cGUgYW5kIHNldHMgdGhlbSBhcyBvcHRpb25zIGZvciBhIFNlbGVjdCBmaWVsZFxuXHRzZXRfZmllbGRzX2FzX29wdGlvbnMoXG5cdFx0ZmllbGRuYW1lLFxuXHRcdHJlZmVyZW5jZV9kb2N0eXBlLFxuXHRcdGZpbHRlcl9mdW5jdGlvbixcblx0XHRkZWZhdWx0X29wdGlvbnMgPSBbXSxcblx0XHR0YWJsZV9maWVsZG5hbWUsXG5cdCkge1xuXHRcdGlmICghcmVmZXJlbmNlX2RvY3R5cGUpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOyB9XG5cdFx0bGV0IG9wdGlvbnMgPSBkZWZhdWx0X29wdGlvbnMgfHwgW107XG5cdFx0aWYgKCFmaWx0ZXJfZnVuY3Rpb24pIHsgZmlsdGVyX2Z1bmN0aW9uID0gZiA9PiBmOyB9XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdFx0ZnJhcHBlLm1vZGVsLndpdGhfZG9jdHlwZShyZWZlcmVuY2VfZG9jdHlwZSwgKCkgPT4ge1xuXHRcdFx0XHRmcmFwcGUuZ2V0X21ldGEocmVmZXJlbmNlX2RvY3R5cGUpLmZpZWxkcy5tYXAoZGYgPT4ge1xuXHRcdFx0XHRcdGZpbHRlcl9mdW5jdGlvbihkZikgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMucHVzaCh7IGxhYmVsOiBkZi5sYWJlbCB8fCBkZi5maWVsZG5hbWUsIHZhbHVlOiBkZi5maWVsZG5hbWUgfSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRvcHRpb25zICYmXG5cdFx0XHRcdFx0dGhpcy5zZXRfZGZfcHJvcGVydHkoXG5cdFx0XHRcdFx0XHRmaWVsZG5hbWUsXG5cdFx0XHRcdFx0XHQnb3B0aW9ucycsXG5cdFx0XHRcdFx0XHRvcHRpb25zLFxuXHRcdFx0XHRcdFx0dGhpcy5kb2MubmFtZSxcblx0XHRcdFx0XHRcdHRhYmxlX2ZpZWxkbmFtZSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRyZXNvbHZlKG9wdGlvbnMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0c2V0X2FjdGl2ZV90YWIodGFiKSB7XG5cdFx0aWYgKCF0aGlzLmFjdGl2ZV90YWJfbWFwKSB7XG5cdFx0XHR0aGlzLmFjdGl2ZV90YWJfbWFwID0ge307XG5cdFx0fVxuXHRcdHRoaXMuYWN0aXZlX3RhYl9tYXBbdGhpcy5kb2NuYW1lXSA9IHRhYjtcblx0fVxuXHRnZXRfYWN0aXZlX3RhYigpIHtcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmVfdGFiX21hcCAmJiB0aGlzLmFjdGl2ZV90YWJfbWFwW3RoaXMuZG9jbmFtZV07XG5cdH1cblxuXHRnZXRfaW52b2x2ZWRfdXNlcnMoKSB7XG5cdFx0bGV0IHVzZXJfZmllbGRzID0gdGhpcy5tZXRhLmZpZWxkc1xuXHRcdFx0LmZpbHRlcihkID0+IGQuZmllbGR0eXBlID09PSAnTGluaycgJiYgZC5vcHRpb25zID09PSAnVXNlcicpXG5cdFx0XHQubWFwKGQgPT4gZC5maWVsZG5hbWUpO1xuXG5cdFx0dXNlcl9maWVsZHMgPSBbLi4udXNlcl9maWVsZHMsICdvd25lcicsICdtb2RpZmllZF9ieSddO1xuXHRcdGxldCBpbnZvbHZlZF91c2VycyA9IHVzZXJfZmllbGRzLm1hcChmaWVsZCA9PiB0aGlzLmRvY1tmaWVsZF0pO1xuXG5cdFx0Y29uc3QgZG9jaW5mbyA9IHRoaXMuZ2V0X2RvY2luZm8oKTtcblxuXHRcdGludm9sdmVkX3VzZXJzID0gaW52b2x2ZWRfdXNlcnMuY29uY2F0KFxuXHRcdFx0ZG9jaW5mby5jb21tdW5pY2F0aW9ucy5tYXAoZCA9PiBkLnNlbmRlciAmJiBkLmRlbGl2ZXJ5X3N0YXR1cyA9PT0gJ3NlbnQnKSxcblx0XHRcdGRvY2luZm8uY29tbWVudHMubWFwKGQgPT4gZC5vd25lciksXG5cdFx0XHRkb2NpbmZvLnZlcnNpb25zLm1hcChkID0+IGQub3duZXIpLFxuXHRcdFx0ZG9jaW5mby5hc3NpZ25tZW50cy5tYXAoZCA9PiBkLm93bmVyKSxcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGludm9sdmVkX3VzZXJzXG5cdFx0XHQudW5pcUJ5KHUgPT4gdSlcblx0XHRcdC5maWx0ZXIodXNlciA9PiAhWydBZG1pbmlzdHJhdG9yJywgZnJhcHBlLnNlc3Npb24udXNlcl0uaW5jbHVkZXModXNlcikpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXHR9XG59XG5pbnRlcmZhY2UgRm9ybSB7XG5cdHNhdmVfZGlzYWJsZWQ/OiBib29sZWFuO1xuXHRkb2M6IGxvY2Fscy5Eb2N0eXBlO1xuXHR2aWV3ZXJzXG5cdHNldHVwX2RvbmU/OiBib29sZWFuO1xuXHR0b29sYmFyOiBUb29sYmFyXG5cblx0ZmllbGRzXG5cdGZpZWxkc19kaWN0XG5cdHN0YXRlX2ZpZWxkbmFtZVxuXHR3cmFwcGVyOiBIVE1MRWxlbWVudFxuXHQkd3JhcHBlcjogSlF1ZXJ5XG5cdHBhZ2U6IFBhZ2Vcblx0Zm9vdGVyPzogRm9vdGVyXG5cblxuXHRmb3JtX3dyYXBwZXI6IGpRdWVyeVxuXHRib2R5OiBqUXVlcnlcblx0bGF5b3V0OiBMYXlvdXRcbn1cbmV4cG9ydCBkZWZhdWx0IEZvcm07XG4iLCAiZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbG9hZERvYyhcblx0ZG9jdHlwZTogc3RyaW5nLFxuXHRuYW1lOiBzdHJpbmcsXG4pIHtcblxuXHRjb25zdCBkb2MgPSBmcmFwcGUuZ2V0X2RvYyhkb2N0eXBlLCBuYW1lKTtcblx0aWYgKFxuXHRcdGRvYyAmJlxuXHRcdGZyYXBwZS5tb2RlbC5nZXRfZG9jaW5mbyhkb2N0eXBlLCBuYW1lKSAmJlxuXHRcdChkb2MuX19pc2xvY2FsIHx8IGZyYXBwZS5tb2RlbC5pc19mcmVzaChkb2MpKVxuXHQpIHsgcmV0dXJuIHRydWU7IH1cblx0cmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KHJlc29sdmUgPT4ge1xuXHRcdGZyYXBwZS5tb2RlbC53aXRoX2RvYyhkb2N0eXBlLCBuYW1lLCAobmFtZSwgcikgPT4ge1xuXHRcdFx0aWYgKHIgJiYgclsnNDAzJ10pIHsgcmV0dXJuIHJlc29sdmUoZmFsc2UpOyB9XG5cblx0XHRcdGlmICghKGxvY2Fsc1tkb2N0eXBlXSAmJiBsb2NhbHNbZG9jdHlwZV1bbmFtZV0pKSB7XG5cdFx0XHRcdHJldHVybiByZXNvbHZlKGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdHJlc29sdmUodHJ1ZSk7XG5cdFx0fSk7XG5cdH0pO1xufVxuIiwgImltcG9ydCB7IHNoYWxsb3dSZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tICdwaW5pYSc7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZVN0b3JlKCdHdWlndTpHbG9iYWxWaWV3OkZvcm1EZXRhaWwnLCAoKSA9PiB7XG5cdGNvbnN0IGN1cnJlbnRUYWIgPSBzaGFsbG93UmVmKCcnKTtcblx0cmV0dXJuIHsgY3VycmVudFRhYiB9O1xufSk7XG4iLCAiaW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlU3RhdGljVk5vZGUgYXMgX2NyZWF0ZVN0YXRpY1ZOb2RlIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF9ob2lzdGVkXzEgPSB7IHJlZjogXCJyb290XCIgfVxuY29uc3QgX2hvaXN0ZWRfMiA9IHsgY2xhc3M6IFwiY29udGFpbmVyIHBhZ2UtYm9keVwiIH1cbmNvbnN0IF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7IGNsYXNzOiBcInBhZ2UtdG9vbGJhciBoaWRlXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRhaW5lclwiIH0pXG5dLCAtMSAvKiBIT0lTVEVEICovKVxuY29uc3QgX2hvaXN0ZWRfNCA9IHsgY2xhc3M6IFwicGFnZS13cmFwcGVyXCIgfVxuY29uc3QgX2hvaXN0ZWRfNSA9IHsgY2xhc3M6IFwicGFnZS1jb250ZW50XCIgfVxuY29uc3QgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHsgY2xhc3M6IFwid29ya2Zsb3ctYnV0dG9uLWFyZWEgYnRuLWdyb3VwIHB1bGwtcmlnaHQgaGlkZVwiIH0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgeyBjbGFzczogXCJjbGVhcmZpeFwiIH0sIG51bGwsIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF84ID0geyBjbGFzczogXCJyb3cgbGF5b3V0LW1haW5cIiB9XG5jb25zdCBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL19jcmVhdGVTdGF0aWNWTm9kZShcIjxkaXYgY2xhc3M9XFxcImNvbCBsYXlvdXQtbWFpbi1zZWN0aW9uLXdyYXBwZXJcXFwiPjxkaXYgY2xhc3M9XFxcImxheW91dC1tYWluLXNlY3Rpb25cXFwiPjxkaXY+PGRpdiBjbGFzcz1cXFwic3RkLWZvcm0tbGF5b3V0XFxcIj48ZGl2IGNsYXNzPVxcXCJmb3JtLWxheW91dFxcXCI+PGRpdiBjbGFzcz1cXFwiZm9ybS1tZXNzYWdlIGhpZGRlblxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiZm9ybS1wYWdlXFxcIj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJsYXlvdXQtZm9vdGVyIGhpZGVcXFwiPjwvZGl2PjwvZGl2PlwiLCAxKVxuY29uc3QgX2hvaXN0ZWRfMTAgPSBbXCJoaWRkZW5cIl1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfMSwgW1xuICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJIZWFkZXJcIl0sIHtcbiAgICAgIG9wZW46ICRzZXR1cC5vcGVuLFxuICAgICAgXCJvblVwZGF0ZTpvcGVuXCI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+ICgoJHNldHVwLm9wZW4pID0gJGV2ZW50KSksXG4gICAgICBoYXNTaWRlcjogISRzZXR1cC5zaW5nbGVfY29sdW1uLFxuICAgICAgb25IaWRlOiAkc2V0dXAuaGlkZVxuICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm9wZW5cIiwgXCJoYXNTaWRlclwiXSksXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICBfaG9pc3RlZF8zLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF80LCBbXG4gICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfNSwgW1xuICAgICAgICAgIF9ob2lzdGVkXzYsXG4gICAgICAgICAgX2hvaXN0ZWRfNyxcbiAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzgsIFtcbiAgICAgICAgICAgIF9ob2lzdGVkXzksXG4gICAgICAgICAgICAoISRzZXR1cC5zaW5nbGVfY29sdW1uKVxuICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgICAgaGlkZGVuOiAhJHNldHVwLm9wZW4sXG4gICAgICAgICAgICAgICAgICBjbGFzczogXCJjb2wtbGctMiBsYXlvdXQtc2lkZS1zZWN0aW9uXCJcbiAgICAgICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8xMCkpXG4gICAgICAgICAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICBdKVxuICAgICAgICBdKVxuICAgICAgXSlcbiAgICBdKVxuICBdLCA1MTIgLyogTkVFRF9QQVRDSCAqLykpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL01haW4udnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTWFpbi52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcImd1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL01haW4udnVlXCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJpbXBvcnQgeyBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gXCJ2dWVcIlxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICByZXR1cm4gKCRwcm9wcy52YWx1ZSAmJiAkc2V0dXAuZG9jTWV0YSAmJiAkc2V0dXAubmFtZSlcbiAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJNYWluXCJdLCB7XG4gICAgICAgIGtleTogYCR7JHNldHVwLmRvY01ldGEubmFtZX06JHskcHJvcHMudmFsdWUubmFtZX1gLFxuICAgICAgICBtZXRhOiAkc2V0dXAuZG9jTWV0YSxcbiAgICAgICAgb3B0aW9uczogJHByb3BzLm9wdGlvbnMsXG4gICAgICAgIGxvYWRpbmc6ICRwcm9wcy5sb2FkaW5nLFxuICAgICAgICBuYW1lOiAkc2V0dXAubmFtZSxcbiAgICAgICAgdmFsdWU6ICRzZXR1cC5kb2MsXG4gICAgICAgIFwib25VcGRhdGU6dmFsdWVcIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCgkc2V0dXAuZG9jKSA9ICRldmVudCkpLFxuICAgICAgICBvblJlZnJlc2g6ICRzZXR1cC5yZWZyZXNoXG4gICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbXCJtZXRhXCIsIFwib3B0aW9uc1wiLCBcImxvYWRpbmdcIiwgXCJuYW1lXCIsIFwidmFsdWVcIl0pKVxuICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvaW5kZXgudnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9pbmRleC52dWVcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTBcIjtleHBvcnQgZGVmYXVsdCAoKSA9Pnt9IiwgImltcG9ydCB7IG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi1jNTRlMTI1OFwiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJmb3JtLWNvbnRhaW5lclwiIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfMSwgW1xuICAgICgkc2V0dXAubWV0YSYmJHNldHVwLmRldGFpbClcbiAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCRzZXR1cFtcIkZvcm1EZXRhaWxcIl0sIHtcbiAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgbG9hZGluZzogJHNldHVwLmxvYWRpbmcsXG4gICAgICAgICAgbWV0YTogJHNldHVwLm1ldGEsXG4gICAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgICAgdmFsdWU6ICRzZXR1cC5kZXRhaWxcbiAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wibG9hZGluZ1wiLCBcIm1ldGFcIiwgXCJ2YWx1ZVwiXSkpXG4gICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gIF0pKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1jNTRlMTI1OFwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IFxuXHRcdHJlZj1cIndyYXBwZXJSZWZcIiBcblx0XHRjbGFzcz1cImNvbnRlbnQgcGFnZS1jb250YWluZXJcIiBcblx0XHRpZD1cInBhZ2UtV29ya3NwYWNlc1wiIFxuXHRcdGRhdGEtcGFnZS1yb3V0ZT1cIldvcmtzcGFjZXNcIlxuXHQ+XG5cdDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyBvbk1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IFdvcmtzcGFjZSBmcm9tICcuL3dvcmtzcGFjZS5qcyc7XG5cbmludGVyZmFjZSBQcm9wc3tcblx0b3JnYW5pemF0aW9uOnN0cmluZ1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmludGVyZmFjZSBFbWl0e1xuXG59XG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8RW1pdD4oKTtcbmNvbnN0IHdyYXBwZXJSZWYgPSByZWY8SFRNTEVsZW1lbnQ+KClcblxud2F0Y2god3JhcHBlclJlZiwoKT0+e1xuXHRpZighd3JhcHBlclJlZi52YWx1ZSl7cmV0dXJuO31cblx0ZnJhcHBlLnVpLm1ha2VfYXBwX3BhZ2Uoe1xuXHRcdHBhcmVudDogd3JhcHBlclJlZi52YWx1ZSxcblx0XHRuYW1lOiBcIldvcmtzcGFjZXNcIixcblx0XHR0aXRsZTogX18oXCJXb3Jrc3BhY2VcIiksXG5cdH0pO1xuXHRjb25zdCB3b3Jrc3BhY2UgPSBuZXcgV29ya3NwYWNlKHdyYXBwZXJSZWYudmFsdWUsIHByb3BzLm9yZ2FuaXphdGlvbik7XG5cdHdvcmtzcGFjZS5zaG93KClcbn0sIHtpbW1lZGlhdGU6IHRydWV9KVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPSdsZXNzJyBzY29wZWQ+XG4uY29udGVudHtcblx0aGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0OmRlZXAoLnBhZ2UtYm9keSl7XG5cdFx0b3ZlcmZsb3c6IGF1dG87XG5cdH1cblx0OmRlZXAoLnBhZ2UtaGVhZCl7XG5cdFx0cG9zaXRpb246IHN0YXRpYztcblx0fVxufVxuPC9zdHlsZT5cbiIsICJ2YXIgTHQgPSB0eXBlb2YgZ2xvYmFsVGhpcyA8IFwidVwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgPCBcInVcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgPCBcInVcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmIDwgXCJ1XCIgPyBzZWxmIDoge307XG5mdW5jdGlvbiB4ZShzKSB7XG4gIHJldHVybiBzICYmIHMuX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgXCJkZWZhdWx0XCIpID8gcy5kZWZhdWx0IDogcztcbn1cbmZ1bmN0aW9uIEJlKCkge1xufVxuT2JqZWN0LmFzc2lnbihCZSwge1xuICBkZWZhdWx0OiBCZSxcbiAgcmVnaXN0ZXI6IEJlLFxuICByZXZlcnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuICBfX2VzTW9kdWxlOiAhMFxufSk7XG5FbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbihzKSB7XG4gIGNvbnN0IGUgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyk7XG4gIGxldCB0ID0gZS5sZW5ndGg7XG4gIGZvciAoOyAtLXQgPj0gMCAmJiBlLml0ZW0odCkgIT09IHRoaXM7IClcbiAgICA7XG4gIHJldHVybiB0ID4gLTE7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgfHwgKEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbihzKSB7XG4gIGxldCBlID0gdGhpcztcbiAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoZSkpXG4gICAgcmV0dXJuIG51bGw7XG4gIGRvIHtcbiAgICBpZiAoZS5tYXRjaGVzKHMpKVxuICAgICAgcmV0dXJuIGU7XG4gICAgZSA9IGUucGFyZW50RWxlbWVudCB8fCBlLnBhcmVudE5vZGU7XG4gIH0gd2hpbGUgKGUgIT09IG51bGwpO1xuICByZXR1cm4gbnVsbDtcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUucHJlcGVuZCB8fCAoRWxlbWVudC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgQXJyYXkuaXNBcnJheShlKSB8fCAoZSA9IFtlXSksIGUuZm9yRWFjaCgobykgPT4ge1xuICAgIGNvbnN0IGkgPSBvIGluc3RhbmNlb2YgTm9kZTtcbiAgICB0LmFwcGVuZENoaWxkKGkgPyBvIDogZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobykpO1xuICB9KSwgdGhpcy5pbnNlcnRCZWZvcmUodCwgdGhpcy5maXJzdENoaWxkKTtcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCB8fCAoRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCA9IGZ1bmN0aW9uKHMpIHtcbiAgcyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyAhMCA6ICEhcztcbiAgY29uc3QgZSA9IHRoaXMucGFyZW50Tm9kZSwgdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpLCBvID0gcGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC13aWR0aFwiKSksIGkgPSBwYXJzZUludCh0LmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItbGVmdC13aWR0aFwiKSksIG4gPSB0aGlzLm9mZnNldFRvcCAtIGUub2Zmc2V0VG9wIDwgZS5zY3JvbGxUb3AsIHIgPSB0aGlzLm9mZnNldFRvcCAtIGUub2Zmc2V0VG9wICsgdGhpcy5jbGllbnRIZWlnaHQgLSBvID4gZS5zY3JvbGxUb3AgKyBlLmNsaWVudEhlaWdodCwgYSA9IHRoaXMub2Zmc2V0TGVmdCAtIGUub2Zmc2V0TGVmdCA8IGUuc2Nyb2xsTGVmdCwgbCA9IHRoaXMub2Zmc2V0TGVmdCAtIGUub2Zmc2V0TGVmdCArIHRoaXMuY2xpZW50V2lkdGggLSBpID4gZS5zY3JvbGxMZWZ0ICsgZS5jbGllbnRXaWR0aCwgYyA9IG4gJiYgIXI7XG4gIChuIHx8IHIpICYmIHMgJiYgKGUuc2Nyb2xsVG9wID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCAtIGUuY2xpZW50SGVpZ2h0IC8gMiAtIG8gKyB0aGlzLmNsaWVudEhlaWdodCAvIDIpLCAoYSB8fCBsKSAmJiBzICYmIChlLnNjcm9sbExlZnQgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgLSBlLmNsaWVudFdpZHRoIC8gMiAtIGkgKyB0aGlzLmNsaWVudFdpZHRoIC8gMiksIChuIHx8IHIgfHwgYSB8fCBsKSAmJiAhcyAmJiB0aGlzLnNjcm9sbEludG9WaWV3KGMpO1xufSk7XG5sZXQgT3QgPSAocyA9IDIxKSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHMpKS5yZWR1Y2UoKGUsIHQpID0+ICh0ICY9IDYzLCB0IDwgMzYgPyBlICs9IHQudG9TdHJpbmcoMzYpIDogdCA8IDYyID8gZSArPSAodCAtIDI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKSA6IHQgPiA2MiA/IGUgKz0gXCItXCIgOiBlICs9IFwiX1wiLCBlKSwgXCJcIik7XG52YXIgZXQgPSAvKiBAX19QVVJFX18gKi8gKChzKSA9PiAocy5WRVJCT1NFID0gXCJWRVJCT1NFXCIsIHMuSU5GTyA9IFwiSU5GT1wiLCBzLldBUk4gPSBcIldBUk5cIiwgcy5FUlJPUiA9IFwiRVJST1JcIiwgcykpKGV0IHx8IHt9KTtcbmNvbnN0IEIgPSB7XG4gIEJBQ0tTUEFDRTogOCxcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIFNISUZUOiAxNixcbiAgQ1RSTDogMTcsXG4gIEFMVDogMTgsXG4gIEVTQzogMjcsXG4gIFNQQUNFOiAzMixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgRE9XTjogNDAsXG4gIFJJR0hUOiAzOSxcbiAgREVMRVRFOiA0NixcbiAgTUVUQTogOTFcbn0sIF90ID0ge1xuICBMRUZUOiAwLFxuICBXSEVFTDogMSxcbiAgUklHSFQ6IDIsXG4gIEJBQ0tXQVJEOiAzLFxuICBGT1JXQVJEOiA0XG59O1xuZnVuY3Rpb24gZ2UocywgZSwgdCA9IFwibG9nXCIsIG8sIGkgPSBcImNvbG9yOiBpbmhlcml0XCIpIHtcbiAgaWYgKCEoXCJjb25zb2xlXCIgaW4gd2luZG93KSB8fCAhd2luZG93LmNvbnNvbGVbdF0pXG4gICAgcmV0dXJuO1xuICBjb25zdCBuID0gW1wiaW5mb1wiLCBcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXS5pbmNsdWRlcyh0KSwgciA9IFtdO1xuICBzd2l0Y2ggKGdlLmxvZ0xldmVsKSB7XG4gICAgY2FzZSBcIkVSUk9SXCI6XG4gICAgICBpZiAodCAhPT0gXCJlcnJvclwiKVxuICAgICAgICByZXR1cm47XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiV0FSTlwiOlxuICAgICAgaWYgKCFbXCJlcnJvclwiLCBcIndhcm5cIl0uaW5jbHVkZXModCkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJJTkZPXCI6XG4gICAgICBpZiAoIW4gfHwgcylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgbyAmJiByLnB1c2gobyk7XG4gIGNvbnN0IGEgPSBcIkVkaXRvci5qcyAyLjI3LjBcIiwgbCA9IGBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgY29sb3I6ICMwMDZGRUE7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA5cHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NiwgMTM4LCAyMjksIDAuMTYpO1xuICAgICAgICAgICAgbWFyZ2luOiA0cHggNXB4IDRweCAwO2A7XG4gIHMgJiYgKG4gPyAoci51bnNoaWZ0KGwsIGkpLCBlID0gYCVjJHthfSVjICR7ZX1gKSA6IGUgPSBgKCAke2F9ICkke2V9YCk7XG4gIHRyeSB7XG4gICAgbiA/IG8gPyBjb25zb2xlW3RdKGAke2V9ICVvYCwgLi4ucikgOiBjb25zb2xlW3RdKGUsIC4uLnIpIDogY29uc29sZVt0XShlKTtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbmdlLmxvZ0xldmVsID0gXCJWRVJCT1NFXCI7XG5mdW5jdGlvbiBBdChzKSB7XG4gIGdlLmxvZ0xldmVsID0gcztcbn1cbmNvbnN0IFQgPSBnZS5iaW5kKHdpbmRvdywgITEpLCBLID0gZ2UuYmluZCh3aW5kb3csICEwKTtcbmZ1bmN0aW9uIHRlKHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gRChzKSB7XG4gIHJldHVybiB0ZShzKSA9PT0gXCJmdW5jdGlvblwiIHx8IHRlKHMpID09PSBcImFzeW5jZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGoocykge1xuICByZXR1cm4gdGUocykgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBKKHMpIHtcbiAgcmV0dXJuIHRlKHMpID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gTnQocykge1xuICByZXR1cm4gdGUocykgPT09IFwiYm9vbGVhblwiO1xufVxuZnVuY3Rpb24gVmUocykge1xuICByZXR1cm4gdGUocykgPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBaZShzKSB7XG4gIHJldHVybiB0ZShzKSA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIFYocykge1xuICByZXR1cm4gcyA/IE9iamVjdC5rZXlzKHMpLmxlbmd0aCA9PT0gMCAmJiBzLmNvbnN0cnVjdG9yID09PSBPYmplY3QgOiAhMDtcbn1cbmZ1bmN0aW9uIHR0KHMpIHtcbiAgcmV0dXJuIHMgPiA0NyAmJiBzIDwgNTggfHwgLy8gbnVtYmVyIGtleXNcbiAgcyA9PT0gMzIgfHwgcyA9PT0gMTMgfHwgLy8gU3BhY2UgYmFyICYgcmV0dXJuIGtleShzKVxuICBzID09PSAyMjkgfHwgLy8gcHJvY2Vzc2luZyBrZXkgaW5wdXQgZm9yIGNlcnRhaW4gbGFuZ3VhZ2VzIFx1MjAxNCBDaGluZXNlLCBKYXBhbmVzZSwgZXRjLlxuICBzID4gNjQgJiYgcyA8IDkxIHx8IC8vIGxldHRlciBrZXlzXG4gIHMgPiA5NSAmJiBzIDwgMTEyIHx8IC8vIE51bXBhZCBrZXlzXG4gIHMgPiAxODUgJiYgcyA8IDE5MyB8fCAvLyA7PSwtLi9gIChpbiBvcmRlcilcbiAgcyA+IDIxOCAmJiBzIDwgMjIzO1xufVxuYXN5bmMgZnVuY3Rpb24gb3QocywgZSA9ICgpID0+IHtcbn0sIHQgPSAoKSA9PiB7XG59KSB7XG4gIGFzeW5jIGZ1bmN0aW9uIG8oaSwgbiwgcikge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBpLmZ1bmN0aW9uKGkuZGF0YSksIGF3YWl0IG4oWmUoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHIoWmUoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHMucmVkdWNlKGFzeW5jIChpLCBuKSA9PiAoYXdhaXQgaSwgbyhuLCBlLCB0KSksIFByb21pc2UucmVzb2x2ZSgpKTtcbn1cbmZ1bmN0aW9uIGl0KHMpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHMpO1xufVxuZnVuY3Rpb24gb2UocywgZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMsIG8gPSBhcmd1bWVudHM7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gcy5hcHBseSh0LCBvKSwgZSk7XG4gIH07XG59XG5mdW5jdGlvbiBSdChzKSB7XG4gIHJldHVybiBzLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xufVxuZnVuY3Rpb24gRHQocykge1xuICByZXR1cm4gL15bLVxcd10rXFwvKFstK1xcd10rfFxcKikkLy50ZXN0KHMpO1xufVxuZnVuY3Rpb24gUHQocywgZSwgdCkge1xuICBsZXQgbztcbiAgcmV0dXJuICguLi5pKSA9PiB7XG4gICAgY29uc3QgbiA9IHRoaXMsIHIgPSAoKSA9PiB7XG4gICAgICBvID0gbnVsbCwgdCB8fCBzLmFwcGx5KG4sIGkpO1xuICAgIH0sIGEgPSB0ICYmICFvO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobyksIG8gPSB3aW5kb3cuc2V0VGltZW91dChyLCBlKSwgYSAmJiBzLmFwcGx5KG4sIGkpO1xuICB9O1xufVxuZnVuY3Rpb24gVGUocywgZSwgdCA9IHZvaWQgMCkge1xuICBsZXQgbywgaSwgbiwgciA9IG51bGwsIGEgPSAwO1xuICB0IHx8ICh0ID0ge30pO1xuICBjb25zdCBsID0gZnVuY3Rpb24oKSB7XG4gICAgYSA9IHQubGVhZGluZyA9PT0gITEgPyAwIDogRGF0ZS5ub3coKSwgciA9IG51bGwsIG4gPSBzLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYyA9IERhdGUubm93KCk7XG4gICAgIWEgJiYgdC5sZWFkaW5nID09PSAhMSAmJiAoYSA9IGMpO1xuICAgIGNvbnN0IHUgPSBlIC0gKGMgLSBhKTtcbiAgICByZXR1cm4gbyA9IHRoaXMsIGkgPSBhcmd1bWVudHMsIHUgPD0gMCB8fCB1ID4gZSA/IChyICYmIChjbGVhclRpbWVvdXQociksIHIgPSBudWxsKSwgYSA9IGMsIG4gPSBzLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpKSA6ICFyICYmIHQudHJhaWxpbmcgIT09ICExICYmIChyID0gc2V0VGltZW91dChsLCB1KSksIG47XG4gIH07XG59XG5mdW5jdGlvbiBGdCgpIHtcbiAgY29uc3QgcyA9IHtcbiAgICB3aW46ICExLFxuICAgIG1hYzogITEsXG4gICAgeDExOiAhMSxcbiAgICBsaW51eDogITFcbiAgfSwgZSA9IE9iamVjdC5rZXlzKHMpLmZpbmQoKHQpID0+IHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YodCkgIT09IC0xKTtcbiAgcmV0dXJuIGUgJiYgKHNbZV0gPSAhMCksIHM7XG59XG5mdW5jdGlvbiBrZShzKSB7XG4gIHJldHVybiBzWzBdLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gU2UocywgLi4uZSkge1xuICBpZiAoIWUubGVuZ3RoKVxuICAgIHJldHVybiBzO1xuICBjb25zdCB0ID0gZS5zaGlmdCgpO1xuICBpZiAoaihzKSAmJiBqKHQpKVxuICAgIGZvciAoY29uc3QgbyBpbiB0KVxuICAgICAgaih0W29dKSA/IChzW29dIHx8IE9iamVjdC5hc3NpZ24ocywgeyBbb106IHt9IH0pLCBTZShzW29dLCB0W29dKSkgOiBPYmplY3QuYXNzaWduKHMsIHsgW29dOiB0W29dIH0pO1xuICByZXR1cm4gU2UocywgLi4uZSk7XG59XG5mdW5jdGlvbiBudChzKSB7XG4gIGNvbnN0IGUgPSBGdCgpO1xuICByZXR1cm4gcyA9IHMucmVwbGFjZSgvc2hpZnQvZ2ksIFwiXHUyMUU3XCIpLnJlcGxhY2UoL2JhY2tzcGFjZS9naSwgXCJcdTIzMkJcIikucmVwbGFjZSgvZW50ZXIvZ2ksIFwiXHUyM0NFXCIpLnJlcGxhY2UoL3VwL2dpLCBcIlx1MjE5MVwiKS5yZXBsYWNlKC9sZWZ0L2dpLCBcIlx1MjE5MlwiKS5yZXBsYWNlKC9kb3duL2dpLCBcIlx1MjE5M1wiKS5yZXBsYWNlKC9yaWdodC9naSwgXCJcdTIxOTBcIikucmVwbGFjZSgvZXNjYXBlL2dpLCBcIlx1MjM4QlwiKS5yZXBsYWNlKC9pbnNlcnQvZ2ksIFwiSW5zXCIpLnJlcGxhY2UoL2RlbGV0ZS9naSwgXCJcdTI0MjFcIikucmVwbGFjZSgvXFwrL2dpLCBcIiArIFwiKSwgZS5tYWMgPyBzID0gcy5yZXBsYWNlKC9jdHJsfGNtZC9naSwgXCJcdTIzMThcIikucmVwbGFjZSgvYWx0L2dpLCBcIlx1MjMyNVwiKSA6IHMgPSBzLnJlcGxhY2UoL2NtZC9naSwgXCJDdHJsXCIpLnJlcGxhY2UoL3dpbmRvd3MvZ2ksIFwiV0lOXCIpLCBzO1xufVxuZnVuY3Rpb24gSHQocykge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKHMpLmhyZWY7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBzLnN1YnN0cmluZygwLCAyKSA9PT0gXCIvL1wiID8gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgcyA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBzO1xufVxuZnVuY3Rpb24genQoKSB7XG4gIHJldHVybiBPdCgxMCk7XG59XG5mdW5jdGlvbiBqdChzKSB7XG4gIHdpbmRvdy5vcGVuKHMsIFwiX2JsYW5rXCIpO1xufVxuZnVuY3Rpb24gVXQocyA9IFwiXCIpIHtcbiAgcmV0dXJuIGAke3N9JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpLnRvU3RyaW5nKDE2KX1gO1xufVxuZnVuY3Rpb24gSWUocywgZSwgdCkge1xuICBjb25zdCBvID0gYFx1MDBBQiR7ZX1cdTAwQkIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFBsZWFzZSB1c2UgdGhlIFx1MDBBQiR7dH1cdTAwQkIgaW5zdGVhZC5gO1xuICBzICYmIEsobywgXCJ3YXJuXCIpO1xufVxuZnVuY3Rpb24gYWUocywgZSwgdCkge1xuICBjb25zdCBvID0gdC52YWx1ZSA/IFwidmFsdWVcIiA6IFwiZ2V0XCIsIGkgPSB0W29dLCBuID0gYCMke2V9Q2FjaGVgO1xuICBpZiAodFtvXSA9IGZ1bmN0aW9uKC4uLnIpIHtcbiAgICByZXR1cm4gdGhpc1tuXSA9PT0gdm9pZCAwICYmICh0aGlzW25dID0gaS5hcHBseSh0aGlzLCAuLi5yKSksIHRoaXNbbl07XG4gIH0sIG8gPT09IFwiZ2V0XCIgJiYgdC5zZXQpIHtcbiAgICBjb25zdCByID0gdC5zZXQ7XG4gICAgdC5zZXQgPSBmdW5jdGlvbihhKSB7XG4gICAgICBkZWxldGUgc1tuXSwgci5hcHBseSh0aGlzLCBhKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB0O1xufVxuY29uc3Qgc3QgPSA2NTA7XG5mdW5jdGlvbiBlZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKGAobWF4LXdpZHRoOiAke3N0fXB4KWApLm1hdGNoZXM7XG59XG5jb25zdCBHZSA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0gJiYgKC9pUChhZHxob25lfG9kKS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSB8fCB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtID09PSBcIk1hY0ludGVsXCIgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpO1xuZnVuY3Rpb24gJHQocywgZSkge1xuICBjb25zdCB0ID0gQXJyYXkuaXNBcnJheShzKSB8fCBqKHMpLCBvID0gQXJyYXkuaXNBcnJheShlKSB8fCBqKGUpO1xuICByZXR1cm4gdCB8fCBvID8gSlNPTi5zdHJpbmdpZnkocykgPT09IEpTT04uc3RyaW5naWZ5KGUpIDogcyA9PT0gZTtcbn1cbmNsYXNzIGQge1xuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHRhZyBoYXMgbm8gY2xvc2VkIHRhZ1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzU2luZ2xlVGFnKGUpIHtcbiAgICByZXR1cm4gZS50YWdOYW1lICYmIFtcbiAgICAgIFwiQVJFQVwiLFxuICAgICAgXCJCQVNFXCIsXG4gICAgICBcIkJSXCIsXG4gICAgICBcIkNPTFwiLFxuICAgICAgXCJDT01NQU5EXCIsXG4gICAgICBcIkVNQkVEXCIsXG4gICAgICBcIkhSXCIsXG4gICAgICBcIklNR1wiLFxuICAgICAgXCJJTlBVVFwiLFxuICAgICAgXCJLRVlHRU5cIixcbiAgICAgIFwiTElOS1wiLFxuICAgICAgXCJNRVRBXCIsXG4gICAgICBcIlBBUkFNXCIsXG4gICAgICBcIlNPVVJDRVwiLFxuICAgICAgXCJUUkFDS1wiLFxuICAgICAgXCJXQlJcIlxuICAgIF0uaW5jbHVkZXMoZS50YWdOYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWxlbWVudCBpcyBCUiBvciBXQlJcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNMaW5lQnJlYWtUYWcoZSkge1xuICAgIHJldHVybiBlICYmIGUudGFnTmFtZSAmJiBbXG4gICAgICBcIkJSXCIsXG4gICAgICBcIldCUlwiXG4gICAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZm9yIG1ha2luZyBFbGVtZW50cyB3aXRoIGNsYXNzIG5hbWUgYW5kIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lIC0gbmV3IEVsZW1lbnQgdGFnIG5hbWVcbiAgICogQHBhcmFtICB7c3RyaW5nW118c3RyaW5nfSBbY2xhc3NOYW1lc10gLSBsaXN0IG9yIG5hbWUgb2YgQ1NTIGNsYXNzIG5hbWUocylcbiAgICogQHBhcmFtICB7b2JqZWN0fSBbYXR0cmlidXRlc10gLSBhbnkgYXR0cmlidXRlc1xuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgbWFrZShlLCB0ID0gbnVsbCwgbyA9IHt9KSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/IGkuY2xhc3NMaXN0LmFkZCguLi50KSA6IHQgJiYgaS5jbGFzc0xpc3QuYWRkKHQpO1xuICAgIGZvciAoY29uc3QgbiBpbiBvKVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIG4pICYmIChpW25dID0gb1tuXSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgVGV4dCBOb2RlIHdpdGggdGhlIHBhc3NlZCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gdGV4dCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtUZXh0fVxuICAgKi9cbiAgc3RhdGljIHRleHQoZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIG9uZSBvciBzZXZlcmFsIGVsZW1lbnRzIHRvIHRoZSBwYXJlbnRcbiAgICpcbiAgICogQHBhcmFtICB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBwYXJlbnQgLSB3aGVyZSB0byBhcHBlbmRcbiAgICogQHBhcmFtICB7RWxlbWVudHxFbGVtZW50W118RG9jdW1lbnRGcmFnbWVudHxUZXh0fFRleHRbXX0gZWxlbWVudHMgLSBlbGVtZW50IG9yIGVsZW1lbnRzIGxpc3RcbiAgICovXG4gIHN0YXRpYyBhcHBlbmQoZSwgdCkge1xuICAgIEFycmF5LmlzQXJyYXkodCkgPyB0LmZvckVhY2goKG8pID0+IGUuYXBwZW5kQ2hpbGQobykpIDogZS5hcHBlbmRDaGlsZCh0KTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIGVsZW1lbnQgb3IgYSBjb3VwbGUgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcGFyZW50IGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50IC0gd2hlcmUgdG8gYXBwZW5kXG4gICAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzIC0gZWxlbWVudCBvciBlbGVtZW50cyBsaXN0XG4gICAqL1xuICBzdGF0aWMgcHJlcGVuZChlLCB0KSB7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/ICh0ID0gdC5yZXZlcnNlKCksIHQuZm9yRWFjaCgobykgPT4gZS5wcmVwZW5kKG8pKSkgOiBlLnByZXBlbmQodCk7XG4gIH1cbiAgLyoqXG4gICAqIFN3YXAgdHdvIGVsZW1lbnRzIGluIHBhcmVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbDEgLSBmcm9tXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsMiAtIHRvXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBzdGF0aWMgc3dhcChlLCB0KSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGkgPSBlLnBhcmVudE5vZGU7XG4gICAgaS5pbnNlcnRCZWZvcmUobywgZSksIGkuaW5zZXJ0QmVmb3JlKGUsIHQpLCBpLmluc2VydEJlZm9yZSh0LCBvKSwgaS5yZW1vdmVDaGlsZChvKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0b3IgRGVjb3JhdG9yXG4gICAqXG4gICAqIFJldHVybnMgZmlyc3QgbWF0Y2hcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbCAtIGVsZW1lbnQgd2Ugc2VhcmNoaW5nIGluc2lkZS4gRGVmYXVsdCAtIERPTSBEb2N1bWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWFyY2hpbmcgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgc3RhdGljIGZpbmQoZSA9IGRvY3VtZW50LCB0KSB7XG4gICAgcmV0dXJuIGUucXVlcnlTZWxlY3Rvcih0KTtcbiAgfVxuICAvKipcbiAgICogR2V0IEVsZW1lbnQgYnkgSWRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaWQgdG8gZmluZFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3RvciBEZWNvcmF0b3IuXG4gICAqXG4gICAqIFJldHVybnMgYWxsIG1hdGNoZXNcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50fSBlbCAtIGVsZW1lbnQgd2Ugc2VhcmNoaW5nIGluc2lkZS4gRGVmYXVsdCAtIERPTSBEb2N1bWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWFyY2hpbmcgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtOb2RlTGlzdH1cbiAgICovXG4gIHN0YXRpYyBmaW5kQWxsKGUgPSBkb2N1bWVudCwgdCkge1xuICAgIHJldHVybiBlLnF1ZXJ5U2VsZWN0b3JBbGwodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQ1NTIHNlbGVjdG9yIGZvciBhbGwgdGV4dCBpbnB1dHNcbiAgICovXG4gIHN0YXRpYyBnZXQgYWxsSW5wdXRzU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIFwiW2NvbnRlbnRlZGl0YWJsZT10cnVlXSwgdGV4dGFyZWEsIGlucHV0Om5vdChbdHlwZV0pLCBcIiArIFtcInRleHRcIiwgXCJwYXNzd29yZFwiLCBcImVtYWlsXCIsIFwibnVtYmVyXCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCJdLm1hcCgodCkgPT4gYGlucHV0W3R5cGU9XCIke3R9XCJdYCkuam9pbihcIiwgXCIpO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFsbCBjb250ZW50ZWRpdGFibGUsIHRleHRhcmVhIGFuZCBlZGl0YWJsZSBpbnB1dCBlbGVtZW50cyBwYXNzZWQgaG9sZGVyIGNvbnRhaW5zXG4gICAqXG4gICAqIEBwYXJhbSBob2xkZXIgLSBlbGVtZW50IHdoZXJlIHRvIGZpbmQgaW5wdXRzXG4gICAqL1xuICBzdGF0aWMgZmluZEFsbElucHV0cyhlKSB7XG4gICAgcmV0dXJuIGl0KGUucXVlcnlTZWxlY3RvckFsbChkLmFsbElucHV0c1NlbGVjdG9yKSkucmVkdWNlKCh0LCBvKSA9PiBkLmlzTmF0aXZlSW5wdXQobykgfHwgZC5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cyhvKSA/IFsuLi50LCBvXSA6IFsuLi50LCAuLi5kLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzKG8pXSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIGRlZXBlc3Qgbm9kZSB3aGljaCBpcyBMZWFmLlxuICAgKiBMZWFmIGlzIHRoZSB2ZXJ0ZXggdGhhdCBkb2Vzbid0IGhhdmUgYW55IGNoaWxkIG5vZGVzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgcmVjdXJzaXZlbHkgZ29lcyB0aHJvdyB0aGUgYWxsIE5vZGUgdW50aWwgaXQgZmluZHMgdGhlIExlYWZcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gcm9vdCBOb2RlLiBGcm9tIHRoaXMgdmVydGV4IHdlIHN0YXJ0IERlZXAtZmlyc3Qgc2VhcmNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EZXB0aC1maXJzdF9zZWFyY2h9XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F0TGFzdF0gLSBmaW5kIGxhc3QgdGV4dCBub2RlXG4gICAqIEByZXR1cm5zIHtOb2RlfSAtIGl0IGNhbiBiZSB0ZXh0IE5vZGUgb3IgRWxlbWVudCBOb2RlLCBzbyB0aGF0IGNhcmV0IHdpbGwgYWJsZSB0byB3b3JrIHdpdGggaXRcbiAgICovXG4gIHN0YXRpYyBnZXREZWVwZXN0Tm9kZShlLCB0ID0gITEpIHtcbiAgICBjb25zdCBvID0gdCA/IFwibGFzdENoaWxkXCIgOiBcImZpcnN0Q2hpbGRcIiwgaSA9IHQgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiO1xuICAgIGlmIChlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVbb10pIHtcbiAgICAgIGxldCBuID0gZVtvXTtcbiAgICAgIGlmIChkLmlzU2luZ2xlVGFnKG4pICYmICFkLmlzTmF0aXZlSW5wdXQobikgJiYgIWQuaXNMaW5lQnJlYWtUYWcobikpXG4gICAgICAgIGlmIChuW2ldKVxuICAgICAgICAgIG4gPSBuW2ldO1xuICAgICAgICBlbHNlIGlmIChuLnBhcmVudE5vZGVbaV0pXG4gICAgICAgICAgbiA9IG4ucGFyZW50Tm9kZVtpXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBuLnBhcmVudE5vZGU7XG4gICAgICByZXR1cm4gdGhpcy5nZXREZWVwZXN0Tm9kZShuLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9iamVjdCBpcyBET00gbm9kZVxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5vZGUgLSBvYmplY3QgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBzdGF0aWMgaXNFbGVtZW50KGUpIHtcbiAgICByZXR1cm4gVmUoZSkgPyAhMSA6IGUgJiYgZS5ub2RlVHlwZSAmJiBlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIERvY3VtZW50RnJhZ21lbnQgbm9kZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbm9kZSAtIG9iamVjdCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc0ZyYWdtZW50KGUpIHtcbiAgICByZXR1cm4gVmUoZSkgPyAhMSA6IGUgJiYgZS5ub2RlVHlwZSAmJiBlLm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBlbGVtZW50IGlzIGNvbnRlbnRlZGl0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gaHRtbCBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzQ29udGVudEVkaXRhYmxlKGUpIHtcbiAgICByZXR1cm4gZS5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgdGFyZ2V0IGlmIGl0IGlzIG5hdGl2ZSBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCAtIEhUTUwgZWxlbWVudCBvciBzdHJpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBzdGF0aWMgaXNOYXRpdmVJbnB1dChlKSB7XG4gICAgY29uc3QgdCA9IFtcbiAgICAgIFwiSU5QVVRcIixcbiAgICAgIFwiVEVYVEFSRUFcIlxuICAgIF07XG4gICAgcmV0dXJuIGUgJiYgZS50YWdOYW1lID8gdC5pbmNsdWRlcyhlLnRhZ05hbWUpIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB3ZSBjYW4gc2V0IGNhcmV0XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIHRhcmdldCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBjYW5TZXRDYXJldChlKSB7XG4gICAgbGV0IHQgPSAhMDtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgIGNhc2UgXCJzdWJtaXRcIjpcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgY2FzZSBcInJlc2V0XCI6XG4gICAgICAgICAgdCA9ICExO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIHQgPSBkLmlzQ29udGVudEVkaXRhYmxlKGUpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgbm9kZSBpZiBpdCBpcyBlbXB0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNoZWNrcyBzaW1wbGUgTm9kZSB3aXRob3V0IGFueSBjaGlsZHMgZm9yIGVtcHRpbmVzc1xuICAgKiBJZiB5b3UgaGF2ZSBOb2RlIHdpdGggMiBvciBtb3JlIGNoaWxkcmVuIGlkIGRlcHRoLCB5b3UgYmV0dGVyIHVzZSB7QGxpbmsgRG9tI2lzRW1wdHl9IG1ldGhvZFxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGl0IGlzIGVtcHR5XG4gICAqL1xuICBzdGF0aWMgaXNOb2RlRW1wdHkoZSkge1xuICAgIGxldCB0O1xuICAgIHJldHVybiB0aGlzLmlzU2luZ2xlVGFnKGUpICYmICF0aGlzLmlzTGluZUJyZWFrVGFnKGUpID8gITEgOiAodGhpcy5pc0VsZW1lbnQoZSkgJiYgdGhpcy5pc05hdGl2ZUlucHV0KGUpID8gdCA9IGUudmFsdWUgOiB0ID0gZS50ZXh0Q29udGVudC5yZXBsYWNlKFwiXHUyMDBCXCIsIFwiXCIpLCB0LnRyaW0oKS5sZW5ndGggPT09IDApO1xuICB9XG4gIC8qKlxuICAgKiBjaGVja3Mgbm9kZSBpZiBpdCBpcyBkb2Vzbid0IGhhdmUgYW55IGNoaWxkIG5vZGVzXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNMZWFmKGUpIHtcbiAgICByZXR1cm4gZSA/IGUuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgOiAhMTtcbiAgfVxuICAvKipcbiAgICogYnJlYWR0aC1maXJzdCBzZWFyY2ggKEJGUylcbiAgICoge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JyZWFkdGgtZmlyc3Rfc2VhcmNofVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gUHVzaGVzIHRvIHN0YWNrIGFsbCBET00gbGVhZnMgYW5kIGNoZWNrcyBmb3IgZW1wdGluZXNzXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNFbXB0eShlKSB7XG4gICAgZS5ub3JtYWxpemUoKTtcbiAgICBjb25zdCB0ID0gW2VdO1xuICAgIGZvciAoOyB0Lmxlbmd0aCA+IDA7IClcbiAgICAgIGlmIChlID0gdC5zaGlmdCgpLCAhIWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMZWFmKGUpICYmICF0aGlzLmlzTm9kZUVtcHR5KGUpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgZS5jaGlsZE5vZGVzICYmIHQucHVzaCguLi5BcnJheS5mcm9tKGUuY2hpbGROb2RlcykpO1xuICAgICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgc3RyaW5nIGNvbnRhaW5zIGh0bWwgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIHN0cmluZyB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0hUTUxTdHJpbmcoZSkge1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgcmV0dXJuIHQuaW5uZXJIVE1MID0gZSwgdC5jaGlsZEVsZW1lbnRDb3VudCA+IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBsZW5ndGggb2Ygbm9kZWBzIHRleHQgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHdpdGggY29udGVudFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgc3RhdGljIGdldENvbnRlbnRMZW5ndGgoZSkge1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQoZSkgPyBlLnZhbHVlLmxlbmd0aCA6IGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFID8gZS5sZW5ndGggOiBlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFycmF5IG9mIG5hbWVzIG9mIGJsb2NrIGh0bWwgZWxlbWVudHNcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ1tdfVxuICAgKi9cbiAgc3RhdGljIGdldCBibG9ja0VsZW1lbnRzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBcImFkZHJlc3NcIixcbiAgICAgIFwiYXJ0aWNsZVwiLFxuICAgICAgXCJhc2lkZVwiLFxuICAgICAgXCJibG9ja3F1b3RlXCIsXG4gICAgICBcImNhbnZhc1wiLFxuICAgICAgXCJkaXZcIixcbiAgICAgIFwiZGxcIixcbiAgICAgIFwiZHRcIixcbiAgICAgIFwiZmllbGRzZXRcIixcbiAgICAgIFwiZmlnY2FwdGlvblwiLFxuICAgICAgXCJmaWd1cmVcIixcbiAgICAgIFwiZm9vdGVyXCIsXG4gICAgICBcImZvcm1cIixcbiAgICAgIFwiaDFcIixcbiAgICAgIFwiaDJcIixcbiAgICAgIFwiaDNcIixcbiAgICAgIFwiaDRcIixcbiAgICAgIFwiaDVcIixcbiAgICAgIFwiaDZcIixcbiAgICAgIFwiaGVhZGVyXCIsXG4gICAgICBcImhncm91cFwiLFxuICAgICAgXCJoclwiLFxuICAgICAgXCJsaVwiLFxuICAgICAgXCJtYWluXCIsXG4gICAgICBcIm5hdlwiLFxuICAgICAgXCJub3NjcmlwdFwiLFxuICAgICAgXCJvbFwiLFxuICAgICAgXCJvdXRwdXRcIixcbiAgICAgIFwicFwiLFxuICAgICAgXCJwcmVcIixcbiAgICAgIFwicnVieVwiLFxuICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICBcInRhYmxlXCIsXG4gICAgICBcInRib2R5XCIsXG4gICAgICBcInRoZWFkXCIsXG4gICAgICBcInRyXCIsXG4gICAgICBcInRmb290XCIsXG4gICAgICBcInVsXCIsXG4gICAgICBcInZpZGVvXCJcbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgY29udGVudCBpbmNsdWRlcyBvbmx5IGlubGluZSBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gZGF0YSAtIGVsZW1lbnQgb3IgaHRtbCBzdHJpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMoZSkge1xuICAgIGxldCB0O1xuICAgIEooZSkgPyAodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHQuaW5uZXJIVE1MID0gZSkgOiB0ID0gZTtcbiAgICBjb25zdCBvID0gKGkpID0+ICFkLmJsb2NrRWxlbWVudHMuaW5jbHVkZXMoaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmIEFycmF5LmZyb20oaS5jaGlsZHJlbikuZXZlcnkobyk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odC5jaGlsZHJlbikuZXZlcnkobyk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYW5kIHJldHVybiBhbGwgYmxvY2sgZWxlbWVudHMgaW4gdGhlIHBhc3NlZCBwYXJlbnQgKGluY2x1ZGluZyBzdWJ0cmVlKVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnQgLSByb290IGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBzdGF0aWMgZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMoZSkge1xuICAgIHJldHVybiBkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKGUpID8gW2VdIDogQXJyYXkuZnJvbShlLmNoaWxkcmVuKS5yZWR1Y2UoKHQsIG8pID0+IFsuLi50LCAuLi5kLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzKG8pXSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZm9yIGdldCBob2xkZXIgZnJvbSB7c3RyaW5nfSBvciByZXR1cm4gSFRNTEVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBIVE1MRWxlbWVudH0gZWxlbWVudCAtIGhvbGRlcidzIGlkIG9yIGhvbGRlcidzIEhUTUwgRWxlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgZ2V0SG9sZGVyKGUpIHtcbiAgICByZXR1cm4gSihlKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpIDogZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgYW5jaG9yIChpcyBBIHRhZylcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0FuY2hvcihlKSB7XG4gICAgcmV0dXJuIGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGVsZW1lbnQncyBvZmZzZXQgcmVsYXRlZCB0byB0aGUgZG9jdW1lbnRcbiAgICpcbiAgICogQHRvZG8gaGFuZGxlIGNhc2Ugd2hlbiBlZGl0b3IgaW5pdGlhbGl6ZWQgaW4gc2Nyb2xsYWJsZSBwb3B1cFxuICAgKiBAcGFyYW0gZWwgLSBlbGVtZW50IHRvIGNvbXB1dGUgb2Zmc2V0XG4gICAqL1xuICBzdGF0aWMgb2Zmc2V0KGUpIHtcbiAgICBjb25zdCB0ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbyA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgaSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBuID0gdC50b3AgKyBpLCByID0gdC5sZWZ0ICsgbztcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBuLFxuICAgICAgbGVmdDogcixcbiAgICAgIGJvdHRvbTogbiArIHQuaGVpZ2h0LFxuICAgICAgcmlnaHQ6IHIgKyB0LndpZHRoXG4gICAgfTtcbiAgfVxufVxuY29uc3QgV3QgPSB7XG4gIGJsb2NrVHVuZXM6IHtcbiAgICB0b2dnbGVyOiB7XG4gICAgICBcIkNsaWNrIHRvIHR1bmVcIjogXCJcIixcbiAgICAgIFwib3IgZHJhZyB0byBtb3ZlXCI6IFwiXCJcbiAgICB9XG4gIH0sXG4gIGlubGluZVRvb2xiYXI6IHtcbiAgICBjb252ZXJ0ZXI6IHtcbiAgICAgIFwiQ29udmVydCB0b1wiOiBcIlwiXG4gICAgfVxuICB9LFxuICB0b29sYmFyOiB7XG4gICAgdG9vbGJveDoge1xuICAgICAgQWRkOiBcIlwiXG4gICAgfVxuICB9LFxuICBwb3BvdmVyOiB7XG4gICAgRmlsdGVyOiBcIlwiLFxuICAgIFwiTm90aGluZyBmb3VuZFwiOiBcIlwiXG4gIH1cbn0sIFl0ID0ge1xuICBUZXh0OiBcIlwiLFxuICBMaW5rOiBcIlwiLFxuICBCb2xkOiBcIlwiLFxuICBJdGFsaWM6IFwiXCJcbn0sIEt0ID0ge1xuICBsaW5rOiB7XG4gICAgXCJBZGQgYSBsaW5rXCI6IFwiXCJcbiAgfSxcbiAgc3R1Yjoge1xuICAgIFwiVGhlIGJsb2NrIGNhbiBub3QgYmUgZGlzcGxheWVkIGNvcnJlY3RseS5cIjogXCJcIlxuICB9XG59LCBYdCA9IHtcbiAgZGVsZXRlOiB7XG4gICAgRGVsZXRlOiBcIlwiLFxuICAgIFwiQ2xpY2sgdG8gZGVsZXRlXCI6IFwiXCJcbiAgfSxcbiAgbW92ZVVwOiB7XG4gICAgXCJNb3ZlIHVwXCI6IFwiXCJcbiAgfSxcbiAgbW92ZURvd246IHtcbiAgICBcIk1vdmUgZG93blwiOiBcIlwiXG4gIH1cbn0sIHJ0ID0ge1xuICB1aTogV3QsXG4gIHRvb2xOYW1lczogWXQsXG4gIHRvb2xzOiBLdCxcbiAgYmxvY2tUdW5lczogWHRcbn0sIGllID0gY2xhc3Mge1xuICAvKipcbiAgICogVHlwZS1zYWZlIHRyYW5zbGF0aW9uIGZvciBpbnRlcm5hbCBVSSB0ZXh0czpcbiAgICogUGVyZm9ybSB0cmFuc2xhdGlvbiBvZiB0aGUgc3RyaW5nIGJ5IG5hbWVzcGFjZSBhbmQgYSBrZXlcbiAgICpcbiAgICogQGV4YW1wbGUgSTE4bi51aShJMThuSW50ZXJuYWxOUy51aS5ibG9ja1R1bmVzLnRvZ2dsZXIsICdDbGljayB0byB0dW5lJylcbiAgICogQHBhcmFtIGludGVybmFsTmFtZXNwYWNlIC0gcGF0aCB0byB0cmFuc2xhdGVkIHN0cmluZyBpbiBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSBkaWN0S2V5IC0gZGljdGlvbmFyeSBrZXkuIEJldHRlciB0byB1c2UgZGVmYXVsdCBsb2NhbGUgb3JpZ2luYWwgdGV4dFxuICAgKi9cbiAgc3RhdGljIHVpKHMsIGUpIHtcbiAgICByZXR1cm4gaWUuX3QocywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSBmb3IgZXh0ZXJuYWwgc3RyaW5ncyB0aGF0IGlzIG5vdCBwcmVzZW50ZWQgaW4gZGVmYXVsdCBkaWN0aW9uYXJ5LlxuICAgKiBGb3IgZXhhbXBsZSwgZm9yIHVzZXItc3BlY2lmaWVkIHRvb2wgbmFtZXNcbiAgICpcbiAgICogQHBhcmFtIG5hbWVzcGFjZSAtIHBhdGggdG8gdHJhbnNsYXRlZCBzdHJpbmcgaW4gZGljdGlvbmFyeVxuICAgKiBAcGFyYW0gZGljdEtleSAtIGRpY3Rpb25hcnkga2V5LiBCZXR0ZXIgdG8gdXNlIGRlZmF1bHQgbG9jYWxlIG9yaWdpbmFsIHRleHRcbiAgICovXG4gIHN0YXRpYyB0KHMsIGUpIHtcbiAgICByZXR1cm4gaWUuX3QocywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkanVzdCBtb2R1bGUgZm9yIHVzaW5nIGV4dGVybmFsIGRpY3Rpb25hcnlcbiAgICpcbiAgICogQHBhcmFtIGRpY3Rpb25hcnkgLSBuZXcgbWVzc2FnZXMgbGlzdCB0byBvdmVycmlkZSBkZWZhdWx0XG4gICAqL1xuICBzdGF0aWMgc2V0RGljdGlvbmFyeShzKSB7XG4gICAgaWUuY3VycmVudERpY3Rpb25hcnkgPSBzO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIHRyYW5zbGF0aW9uIGJvdGggZm9yIGludGVybmFsIGFuZCBleHRlcm5hbCBuYW1lc3BhY2VzXG4gICAqIElmIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uIGZvdW5kLCByZXR1cm5zIHBhc3NlZCBrZXkgYXMgYSB0cmFuc2xhdGVkIG1lc3NhZ2VcbiAgICpcbiAgICogQHBhcmFtIG5hbWVzcGFjZSAtIHBhdGggdG8gdHJhbnNsYXRlZCBzdHJpbmcgaW4gZGljdGlvbmFyeVxuICAgKiBAcGFyYW0gZGljdEtleSAtIGRpY3Rpb25hcnkga2V5LiBCZXR0ZXIgdG8gdXNlIGRlZmF1bHQgbG9jYWxlIG9yaWdpbmFsIHRleHRcbiAgICovXG4gIHN0YXRpYyBfdChzLCBlKSB7XG4gICAgY29uc3QgdCA9IGllLmdldE5hbWVzcGFjZShzKTtcbiAgICByZXR1cm4gIXQgfHwgIXRbZV0gPyBlIDogdFtlXTtcbiAgfVxuICAvKipcbiAgICogRmluZCBtZXNzYWdlcyBzZWN0aW9uIGJ5IG5hbWVzcGFjZSBwYXRoXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBwYXRoIHRvIHNlY3Rpb25cbiAgICovXG4gIHN0YXRpYyBnZXROYW1lc3BhY2Uocykge1xuICAgIHJldHVybiBzLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKHQsIG8pID0+ICF0IHx8ICFPYmplY3Qua2V5cyh0KS5sZW5ndGggPyB7fSA6IHRbb10sIGllLmN1cnJlbnREaWN0aW9uYXJ5KTtcbiAgfVxufTtcbmxldCAkID0gaWU7XG4kLmN1cnJlbnREaWN0aW9uYXJ5ID0gcnQ7XG5jbGFzcyBhdCBleHRlbmRzIEVycm9yIHtcbn1cbmNsYXNzIHdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgYW55IGV2ZW50IG9uIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHN1YnNjcmliZXJcbiAgICovXG4gIG9uKGUsIHQpIHtcbiAgICBlIGluIHRoaXMuc3Vic2NyaWJlcnMgfHwgKHRoaXMuc3Vic2NyaWJlcnNbZV0gPSBbXSksIHRoaXMuc3Vic2NyaWJlcnNbZV0ucHVzaCh0KTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIGFueSBldmVudCBvbiBjYWxsYmFjay4gQ2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbmQgYmUgcmVtb3ZlZCBmcm9tIHN1YnNjcmliZXJzIGFycmF5IGFmdGVyIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHN1YnNjcmliZXJcbiAgICovXG4gIG9uY2UoZSwgdCkge1xuICAgIGUgaW4gdGhpcy5zdWJzY3JpYmVycyB8fCAodGhpcy5zdWJzY3JpYmVyc1tlXSA9IFtdKTtcbiAgICBjb25zdCBvID0gKGkpID0+IHtcbiAgICAgIGNvbnN0IG4gPSB0KGkpLCByID0gdGhpcy5zdWJzY3JpYmVyc1tlXS5pbmRleE9mKG8pO1xuICAgICAgcmV0dXJuIHIgIT09IC0xICYmIHRoaXMuc3Vic2NyaWJlcnNbZV0uc3BsaWNlKHIsIDEpLCBuO1xuICAgIH07XG4gICAgdGhpcy5zdWJzY3JpYmVyc1tlXS5wdXNoKG8pO1xuICB9XG4gIC8qKlxuICAgKiBFbWl0IGNhbGxiYWNrcyB3aXRoIHBhc3NlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBkYXRhIC0gc3Vic2NyaWJlcnMgZ2V0IHRoaXMgZGF0YSB3aGVuIHRoZXkgd2VyZSBmaXJlZFxuICAgKi9cbiAgZW1pdChlLCB0KSB7XG4gICAgVih0aGlzLnN1YnNjcmliZXJzKSB8fCAhdGhpcy5zdWJzY3JpYmVyc1tlXSB8fCB0aGlzLnN1YnNjcmliZXJzW2VdLnJlZHVjZSgobywgaSkgPT4ge1xuICAgICAgY29uc3QgbiA9IGkobyk7XG4gICAgICByZXR1cm4gbiAhPT0gdm9pZCAwID8gbiA6IG87XG4gICAgfSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGNhbGxiYWNrIGZyb20gZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb2ZmKGUsIHQpIHtcbiAgICBmb3IgKGxldCBvID0gMDsgbyA8IHRoaXMuc3Vic2NyaWJlcnNbZV0ubGVuZ3RoOyBvKyspXG4gICAgICBpZiAodGhpcy5zdWJzY3JpYmVyc1tlXVtvXSA9PT0gdCkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdWJzY3JpYmVyc1tlXVtvXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3llclxuICAgKiBjbGVhcnMgc3Vic2NyaWJlcnMgbGlzdFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzID0gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gaGUocykge1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywge1xuICAgIC8qKlxuICAgICAqIEJsb2NrIGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBzLmlkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9vbCBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgcmV0dXJuIHMubmFtZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRvb2wgY29uZmlnIHBhc3NlZCBvbiBFZGl0b3IncyBpbml0aWFsaXphdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1Rvb2xDb25maWd9XG4gICAgICovXG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgIHJldHVybiBzLmNvbmZpZztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIC5jZS1ibG9jayBlbGVtZW50LCB0aGF0IHdyYXBzIHBsdWdpbiBjb250ZW50c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIGdldCBob2xkZXIoKSB7XG4gICAgICByZXR1cm4gcy5ob2xkZXI7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGNvbnRlbnQgaXMgZW1wdHlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIHMuaXNFbXB0eTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgaXMgc2VsZWN0ZWQgd2l0aCBDcm9zcy1CbG9jayBzZWxlY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBzZWxlY3RlZCgpIHtcbiAgICAgIHJldHVybiBzLnNlbGVjdGVkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0IEJsb2NrJ3Mgc3RyZXRjaCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSBcdTIwMTQgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgc2V0IHN0cmV0Y2hlZCh0KSB7XG4gICAgICBzLnN0cmV0Y2hlZCA9IHQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGlzIHN0cmV0Y2hlZFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHN0cmV0Y2hlZCgpIHtcbiAgICAgIHJldHVybiBzLnN0cmV0Y2hlZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGwgVG9vbCBtZXRob2Qgd2l0aCBlcnJvcnMgaGFuZGxlciB1bmRlci10aGUtaG9vZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBtZXRob2QgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbSAtIG9iamVjdCB3aXRoIHBhcmFtZXRlcnNcbiAgICAgKiBAcmV0dXJucyB7dW5rbm93bn1cbiAgICAgKi9cbiAgICBjYWxsKHQsIG8pIHtcbiAgICAgIHJldHVybiBzLmNhbGwodCwgbyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTYXZlIEJsb2NrIGNvbnRlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWR8U2F2ZWREYXRhPn1cbiAgICAgKi9cbiAgICBzYXZlKCkge1xuICAgICAgcmV0dXJuIHMuc2F2ZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgQmxvY2sgZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byB2YWxpZGF0ZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHZhbGlkYXRlKHQpIHtcbiAgICAgIHJldHVybiBzLnZhbGlkYXRlKHQpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNheSBFZGl0b3IgdGhhdCBCbG9jayB3YXMgY2hhbmdlZC4gVXNlZCB0byBtYW51YWxseSB0cmlnZ2VyIEVkaXRvcidzICdvbkNoYW5nZScgY2FsbGJhY2tcbiAgICAgKiBDYW4gYmUgdXNlZnVsIGZvciBibG9jayBjaGFuZ2VzIGludmlzaWJsZSBmb3IgZWRpdG9yIGNvcmUuXG4gICAgICovXG4gICAgZGlzcGF0Y2hDaGFuZ2UoKSB7XG4gICAgICBzLmRpc3BhdGNoQ2hhbmdlKCk7XG4gICAgfVxuICB9KTtcbn1cbmNsYXNzIFJlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQXNzaWducyBldmVudCBsaXN0ZW5lciBvbiBlbGVtZW50IGFuZCByZXR1cm5zIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gZWxlbWVudCB0aGF0IG5lZWRzIHRvIGJlIGxpc3RlbmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBtZXRob2QgdGhhdCB3aWxsIGJlIGZpcmVkIG9uIGV2ZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvbihlLCB0LCBvLCBpID0gITEpIHtcbiAgICBjb25zdCBuID0gVXQoXCJsXCIpLCByID0ge1xuICAgICAgaWQ6IG4sXG4gICAgICBlbGVtZW50OiBlLFxuICAgICAgZXZlbnRUeXBlOiB0LFxuICAgICAgaGFuZGxlcjogbyxcbiAgICAgIG9wdGlvbnM6IGlcbiAgICB9O1xuICAgIGlmICghdGhpcy5maW5kT25lKGUsIHQsIG8pKVxuICAgICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLnB1c2gociksIGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBvLCBpKSwgbjtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lciBmcm9tIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIERPTSBlbGVtZW50IHRoYXQgd2UgcmVtb3ZpbmcgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIHJlbW92ZSBoYW5kbGVyLCBpZiBlbGVtZW50IGxpc3RlbnMgc2V2ZXJhbCBoYW5kbGVycyBvbiB0aGUgc2FtZSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvZmYoZSwgdCwgbywgaSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmZpbmRBbGwoZSwgdCwgbyk7XG4gICAgbi5mb3JFYWNoKChyLCBhKSA9PiB7XG4gICAgICBjb25zdCBsID0gdGhpcy5hbGxMaXN0ZW5lcnMuaW5kZXhPZihuW2FdKTtcbiAgICAgIGwgPiAtMSAmJiAodGhpcy5hbGxMaXN0ZW5lcnMuc3BsaWNlKGwsIDEpLCByLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmV2ZW50VHlwZSwgci5oYW5kbGVyLCByLm9wdGlvbnMpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBsaXN0ZW5lciBieSBpZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBsaXN0ZW5lciBpZGVudGlmaWVyXG4gICAqL1xuICBvZmZCeUlkKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5maW5kQnlJZChlKTtcbiAgICB0ICYmIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQuZXZlbnRUeXBlLCB0LmhhbmRsZXIsIHQub3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIGZpcnN0IGxpc3RlbmVyIGJ5IHBhc3NlZCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGV2ZW50IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50VHlwZV0gLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXSAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YXxudWxsfVxuICAgKi9cbiAgZmluZE9uZShlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZmluZEFsbChlLCB0LCBvKTtcbiAgICByZXR1cm4gaS5sZW5ndGggPiAwID8gaVswXSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgc3RvcmVkIGxpc3RlbmVycyBieSBwYXNzZWQgcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBldmVudCB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfVxuICAgKi9cbiAgZmluZEFsbChlLCB0LCBvKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgbiA9IGUgPyB0aGlzLmZpbmRCeUV2ZW50VGFyZ2V0KGUpIDogW107XG4gICAgcmV0dXJuIGUgJiYgdCAmJiBvID8gaSA9IG4uZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCAmJiByLmhhbmRsZXIgPT09IG8pIDogZSAmJiB0ID8gaSA9IG4uZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCkgOiBpID0gbiwgaTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGwoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMubWFwKChlKSA9PiB7XG4gICAgICBlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLmV2ZW50VHlwZSwgZS5oYW5kbGVyLCBlLm9wdGlvbnMpO1xuICAgIH0pLCB0aGlzLmFsbExpc3RlbmVycyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgY2xlYW51cCBvbiBkZXN0cnVjdGlvblxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIHNlYXJjaGluZyBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdGVuZXJzIHRoYXQgZm91bmQgb24gZWxlbWVudFxuICAgKi9cbiAgZmluZEJ5RXZlbnRUYXJnZXQoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maWx0ZXIoKHQpID0+IHtcbiAgICAgIGlmICh0LmVsZW1lbnQgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGV2ZW50IHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlUeXBlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5ldmVudFR5cGUgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlIYW5kbGVyKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5oYW5kbGVyID09PSBlKVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0ZW5lciBkYXRhIGZvdW5kIGJ5IGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGxpc3RlbmVyIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YX1cbiAgICovXG4gIGZpbmRCeUlkKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmluZCgodCkgPT4gdC5pZCA9PT0gZSk7XG4gIH1cbn1cbmNsYXNzIFMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTW9kdWxlIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gTW9kdWxlIGNvbmZpZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5ldmVudHNEaXNwYXRjaGVyIC0gQ29tbW9uIGV2ZW50IGJ1c1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIGlmICh0aGlzLm5vZGVzID0ge30sIHRoaXMubGlzdGVuZXJzID0gbmV3IFJlKCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBBc3NpZ25zIGV2ZW50IGxpc3RlbmVyIG9uIERPTSBlbGVtZW50IGFuZCBwdXNoZXMgaW50byBzcGVjaWFsIGFycmF5IHRoYXQgbWlnaHQgYmUgcmVtb3ZlZFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gRWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIEV2ZW50IG5hbWVcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW58QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IG9wdGlvbnMgLSBMaXN0ZW5pbmcgb3B0aW9uc1xuICAgICAgICovXG4gICAgICBvbjogKG8sIGksIG4sIHIgPSAhMSkgPT4ge1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcy5wdXNoKFxuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLm9uKG8sIGksIG4sIHIpXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBDbGVhcnMgYWxsIG11dGFibGUgbGlzdGVuZXJzXG4gICAgICAgKi9cbiAgICAgIGNsZWFyQWxsOiAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLm11dGFibGVMaXN0ZW5lcklkcylcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5vZmZCeUlkKG8pO1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcyA9IFtdO1xuICAgICAgfVxuICAgIH0sIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzID0gW10sIG5ldy50YXJnZXQgPT09IFMpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3JzIGZvciBhYnN0cmFjdCBjbGFzcyBNb2R1bGUgYXJlIG5vdCBhbGxvd2VkLlwiKTtcbiAgICB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvciBtb2R1bGVzIHNldHRlclxuICAgKlxuICAgKiBAcGFyYW0ge0VkaXRvck1vZHVsZXN9IEVkaXRvciAtIEVkaXRvcidzIE1vZHVsZXNcbiAgICovXG4gIHNldCBzdGF0ZShlKSB7XG4gICAgdGhpcy5FZGl0b3IgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgbWVtb3JpemVkIG5vZGVzXG4gICAqL1xuICByZW1vdmVBbGxOb2RlcygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgY29uc3QgdCA9IHRoaXMubm9kZXNbZV07XG4gICAgICB0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBjdXJyZW50IGRpcmVjdGlvbiBpcyBSVEwgKFJpZ2h0LVRvLUxlZnQpXG4gICAqL1xuICBnZXQgaXNSdGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmkxOG4uZGlyZWN0aW9uID09PSBcInJ0bFwiO1xuICB9XG59XG5jbGFzcyBtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG51bGwsIHRoaXMuc2VsZWN0aW9uID0gbnVsbCwgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbCwgdGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCA9ICExLCB0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kID0gXCJiYWNrQ29sb3JcIiwgdGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0ID0gXCJyZW1vdmVGb3JtYXRcIjtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2VkaXRvcldyYXBwZXI6IHN0cmluZywgZWRpdG9yWm9uZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0b3JXcmFwcGVyOiBcImNvZGV4LWVkaXRvclwiLFxuICAgICAgZWRpdG9yWm9uZTogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvclxuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvQVBJL1NlbGVjdGlvbi9hbmNob3JOb2RlfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Tm9kZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBhbmNob3JOb2RlKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgPyBlLmFuY2hvck5vZGUgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvciBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvckVsZW1lbnQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ID0gZS5hbmNob3JOb2RlO1xuICAgIHJldHVybiB0ID8gZC5pc0VsZW1lbnQodCkgPyB0IDogdC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3Rpb24gb2Zmc2V0IGFjY29yZGluZyB0byB0aGUgYW5jaG9yIG5vZGVcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9TZWxlY3Rpb24vYW5jaG9yT2Zmc2V0fVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvck9mZnNldCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBlID8gZS5hbmNob3JPZmZzZXQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBJcyBjdXJyZW50IHNlbGVjdGlvbiByYW5nZSBjb2xsYXBzZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNDb2xsYXBzZWQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZSA/IGUuaXNDb2xsYXBzZWQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBjdXJyZW50IHNlbGVjdGlvbiBpZiBpdCBpcyBhdCBFZGl0b3IncyB6b25lXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc0F0RWRpdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2VsZWN0aW9uQXRFZGl0b3IobS5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBzZWxlY3Rpb24gaXMgYXQgRWRpdG9yJ3Mgem9uZVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBjaGVja1xuICAgKi9cbiAgc3RhdGljIGlzU2VsZWN0aW9uQXRFZGl0b3IoZSkge1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBsZXQgdCA9IGUuYW5jaG9yTm9kZSB8fCBlLmZvY3VzTm9kZTtcbiAgICB0ICYmIHQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICh0ID0gdC5wYXJlbnROb2RlKTtcbiAgICBsZXQgbyA9IG51bGw7XG4gICAgcmV0dXJuIHQgJiYgdCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgKG8gPSB0LmNsb3Nlc3QoYC4ke20uQ1NTLmVkaXRvclpvbmV9YCkpLCBvID8gby5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgOiAhMTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHJhbmdlIGF0IEVkaXRvciB6b25lXG4gICAqXG4gICAqIEBwYXJhbSByYW5nZSAtIHJhbmdlIHRvIGNoZWNrXG4gICAqL1xuICBzdGF0aWMgaXNSYW5nZUF0RWRpdG9yKGUpIHtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHQgPSBlLnN0YXJ0Q29udGFpbmVyO1xuICAgIHQgJiYgdC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgKHQgPSB0LnBhcmVudE5vZGUpO1xuICAgIGxldCBvID0gbnVsbDtcbiAgICByZXR1cm4gdCAmJiB0IGluc3RhbmNlb2YgRWxlbWVudCAmJiAobyA9IHQuY2xvc2VzdChgLiR7bS5DU1MuZWRpdG9yWm9uZX1gKSksIG8gPyBvLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2RzIHJldHVybiBib29sZWFuIHRoYXQgdHJ1ZSBpZiBzZWxlY3Rpb24gZXhpc3RzIG9uIHRoZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzU2VsZWN0aW9uRXhpc3RzKCkge1xuICAgIHJldHVybiAhIW0uZ2V0KCkuYW5jaG9yTm9kZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IHJhbmdlXG4gICAqXG4gICAqIEByZXR1cm5zIHtSYW5nZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCByYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSYW5nZUZyb21TZWxlY3Rpb24odGhpcy5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcmFuZ2UgZnJvbSBwYXNzZWQgU2VsZWN0aW9uIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBnZXQgUmFuZ2UgZnJvbVxuICAgKi9cbiAgc3RhdGljIGdldFJhbmdlRnJvbVNlbGVjdGlvbihlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5yYW5nZUNvdW50ID8gZS5nZXRSYW5nZUF0KDApIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBzZWxlY3RlZCB0ZXh0XG4gICAqXG4gICAqIEByZXR1cm5zIHtET01SZWN0IHwgQ2xpZW50UmVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgcmVjdCgpIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LnNlbGVjdGlvbiwgdCwgbyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIGlmIChlICYmIGUudHlwZSAhPT0gXCJDb250cm9sXCIpXG4gICAgICByZXR1cm4gZSA9IGUsIHQgPSBlLmNyZWF0ZVJhbmdlKCksIG8ueCA9IHQuYm91bmRpbmdMZWZ0LCBvLnkgPSB0LmJvdW5kaW5nVG9wLCBvLndpZHRoID0gdC5ib3VuZGluZ1dpZHRoLCBvLmhlaWdodCA9IHQuYm91bmRpbmdIZWlnaHQsIG87XG4gICAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKVxuICAgICAgcmV0dXJuIFQoXCJNZXRob2Qgd2luZG93LmdldFNlbGVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIsIFwid2FyblwiKSwgbztcbiAgICBpZiAoZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgZS5yYW5nZUNvdW50ID09PSBudWxsIHx8IGlzTmFOKGUucmFuZ2VDb3VudCkpXG4gICAgICByZXR1cm4gVChcIk1ldGhvZCBTZWxlY3Rpb25VdGlscy5yYW5nZUNvdW50IGlzIG5vdCBzdXBwb3J0ZWRcIiwgXCJ3YXJuXCIpLCBvO1xuICAgIGlmIChlLnJhbmdlQ291bnQgPT09IDApXG4gICAgICByZXR1cm4gbztcbiAgICBpZiAodCA9IGUuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCksIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChvID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG8ueCA9PT0gMCAmJiBvLnkgPT09IDApIHtcbiAgICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIGlmIChpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgICBpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXHUyMDBCXCIpKSwgdC5pbnNlcnROb2RlKGkpLCBvID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbiA9IGkucGFyZW50Tm9kZTtcbiAgICAgICAgbi5yZW1vdmVDaGlsZChpKSwgbi5ub3JtYWxpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0ZWQgdGV4dCBhcyBTdHJpbmdcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbiA/IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aW5kb3cgU2VsZWN0aW9uVXRpbHNcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0U2VsZWN0aW9ufVxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VsZWN0aW9ufVxuICAgKi9cbiAgc3RhdGljIGdldCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgZm9jdXMgdG8gY29udGVudGVkaXRhYmxlIG9yIG5hdGl2ZSBpbnB1dCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gZWxlbWVudCB3aGVyZSB0byBzZXQgZm9jdXNcbiAgICogQHBhcmFtIG9mZnNldCAtIG9mZnNldCBvZiBjdXJzb3JcbiAgICovXG4gIHN0YXRpYyBzZXRDdXJzb3IoZSwgdCA9IDApIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgaSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZC5pc05hdGl2ZUlucHV0KGUpID8gZC5jYW5TZXRDYXJldChlKSA/IChlLmZvY3VzKCksIGUuc2VsZWN0aW9uU3RhcnQgPSBlLnNlbGVjdGlvbkVuZCA9IHQsIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpIDogdm9pZCAwIDogKG8uc2V0U3RhcnQoZSwgdCksIG8uc2V0RW5kKGUsIHQpLCBpLnJlbW92ZUFsbFJhbmdlcygpLCBpLmFkZFJhbmdlKG8pLCBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCByYW5nZSBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSB3aGVyZSByYW5nZSBzaG91bGQgYmVcbiAgICovXG4gIHN0YXRpYyBpc1JhbmdlSW5zaWRlQ29udGFpbmVyKGUpIHtcbiAgICBjb25zdCB0ID0gbS5yYW5nZTtcbiAgICByZXR1cm4gdCA9PT0gbnVsbCA/ICExIDogZS5jb250YWlucyh0LnN0YXJ0Q29udGFpbmVyKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBmYWtlIGN1cnNvciB0byB0aGUgY3VycmVudCByYW5nZVxuICAgKi9cbiAgc3RhdGljIGFkZEZha2VDdXJzb3IoKSB7XG4gICAgY29uc3QgZSA9IG0ucmFuZ2U7XG4gICAgaWYgKGUgPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGQubWFrZShcInNwYW5cIiwgXCJjb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQuZGF0YXNldC5tdXRhdGlvbkZyZWUgPSBcInRydWVcIiwgZS5jb2xsYXBzZSgpLCBlLmluc2VydE5vZGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBlbGVtZW50IGNvbnRhaW5zIGEgZmFrZSBjdXJzb3JcbiAgICpcbiAgICogQHBhcmFtIGVsIC0gd2hlcmUgdG8gY2hlY2tcbiAgICovXG4gIHN0YXRpYyBpc0Zha2VDdXJzb3JJbnNpZGVDb250YWluZXIoZSkge1xuICAgIHJldHVybiBkLmZpbmQoZSwgXCIuY29kZXgtZWRpdG9yX19mYWtlLWN1cnNvclwiKSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGN1cnNvciBmcm9tIGEgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBjb250YWluZXIgdG8gbG9vayBmb3JcbiAgICovXG4gIHN0YXRpYyByZW1vdmVGYWtlQ3Vyc29yKGUgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgY29uc3QgdCA9IGQuZmluZChlLCBcIi5jb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQgJiYgdC5yZW1vdmUoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGJhY2tncm91bmRcbiAgICovXG4gIHJlbW92ZUZha2VCYWNrZ3JvdW5kKCkge1xuICAgIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgJiYgKHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSAhMSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0KSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgZmFrZSBiYWNrZ3JvdW5kXG4gICAqL1xuICBzZXRGYWtlQmFja2dyb3VuZCgpIHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kLCAhMSwgXCIjYThkNmZmXCIpLCB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFNhdmUgU2VsZWN0aW9uVXRpbHMncyByYW5nZVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBtLnJhbmdlO1xuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlIHNhdmVkIFNlbGVjdGlvblV0aWxzJ3MgcmFuZ2VcbiAgICovXG4gIHJlc3RvcmUoKSB7XG4gICAgaWYgKCF0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBzYXZlZCBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyU2F2ZWQoKSB7XG4gICAgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ29sbGFwc2UgY3VycmVudCBzZWxlY3Rpb25cbiAgICovXG4gIGNvbGxhcHNlVG9FbmQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgdCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgdC5zZWxlY3ROb2RlQ29udGVudHMoZS5mb2N1c05vZGUpLCB0LmNvbGxhcHNlKCExKSwgZS5yZW1vdmVBbGxSYW5nZXMoKSwgZS5hZGRSYW5nZSh0KTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgYWhlYWQgdG8gZmluZCBwYXNzZWQgdGFnIGZyb20gY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lICAgICAgIC0gdGFnIHRvIGZvdW5kXG4gICAqIEBwYXJhbSAge3N0cmluZ30gW2NsYXNzTmFtZV0gICAtIHRhZydzIGNsYXNzIG5hbWVcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbc2VhcmNoRGVwdGhdIC0gY291bnQgb2YgdGFncyB0aGF0IGNhbiBiZSBpbmNsdWRlZC4gRm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmaW5kUGFyZW50VGFnKGUsIHQsIG8gPSAxMCkge1xuICAgIGNvbnN0IGkgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgbGV0IG4gPSBudWxsO1xuICAgIHJldHVybiAhaSB8fCAhaS5hbmNob3JOb2RlIHx8ICFpLmZvY3VzTm9kZSA/IG51bGwgOiAoW1xuICAgICAgLyoqIHRoZSBOb2RlIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gYmVnaW5zICovXG4gICAgICBpLmFuY2hvck5vZGUsXG4gICAgICAvKiogdGhlIE5vZGUgaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBlbmRzICovXG4gICAgICBpLmZvY3VzTm9kZVxuICAgIF0uZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgbGV0IGwgPSBvO1xuICAgICAgZm9yICg7IGwgPiAwICYmIGEucGFyZW50Tm9kZSAmJiAhKGEudGFnTmFtZSA9PT0gZSAmJiAobiA9IGEsIHQgJiYgYS5jbGFzc0xpc3QgJiYgIWEuY2xhc3NMaXN0LmNvbnRhaW5zKHQpICYmIChuID0gbnVsbCksIG4pKTsgKVxuICAgICAgICBhID0gYS5wYXJlbnROb2RlLCBsLS07XG4gICAgfSksIG4pO1xuICB9XG4gIC8qKlxuICAgKiBFeHBhbmRzIHNlbGVjdGlvbiByYW5nZSB0byB0aGUgcGFzc2VkIHBhcmVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoaWNoIGNvbnRlbnRzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKi9cbiAgZXhwYW5kVG9UYWcoZSkge1xuICAgIGNvbnN0IHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgdC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBvLnNlbGVjdE5vZGVDb250ZW50cyhlKSwgdC5hZGRSYW5nZShvKTtcbiAgfVxufVxuZnVuY3Rpb24gVnQocywgZSkge1xuICBjb25zdCB7IHR5cGU6IHQsIHRhcmdldDogbywgYWRkZWROb2RlczogaSwgcmVtb3ZlZE5vZGVzOiBuIH0gPSBzO1xuICBpZiAoW1wiY2hhcmFjdGVyRGF0YVwiLCBcImF0dHJpYnV0ZXNcIl0uaW5jbHVkZXModCkpIHtcbiAgICBjb25zdCBsID0gby5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBvLnBhcmVudE5vZGUgOiBvO1xuICAgIHJldHVybiBlLmNvbnRhaW5zKGwpO1xuICB9XG4gIGNvbnN0IHIgPSBBcnJheS5mcm9tKGkpLnNvbWUoKGwpID0+IGUuY29udGFpbnMobCkpLCBhID0gQXJyYXkuZnJvbShuKS5zb21lKChsKSA9PiBlLmNvbnRhaW5zKGwpKTtcbiAgcmV0dXJuIHIgfHwgYTtcbn1cbmNvbnN0IE1lID0gXCJyZWRhY3RvciBkb20gY2hhbmdlZFwiLCBsdCA9IFwiYmxvY2sgY2hhbmdlZFwiLCBjdCA9IFwiZmFrZSBjdXJzb3IgaXMgYWJvdXQgdG8gYmUgdG9nZ2xlZFwiLCBkdCA9IFwiZmFrZSBjdXJzb3IgaGF2ZSBiZWVuIHNldFwiO1xudmFyIHEgPSAvKiBAX19QVVJFX18gKi8gKChzKSA9PiAocy5BUFBFTkRfQ0FMTEJBQ0sgPSBcImFwcGVuZENhbGxiYWNrXCIsIHMuUkVOREVSRUQgPSBcInJlbmRlcmVkXCIsIHMuTU9WRUQgPSBcIm1vdmVkXCIsIHMuVVBEQVRFRCA9IFwidXBkYXRlZFwiLCBzLlJFTU9WRUQgPSBcInJlbW92ZWRcIiwgcy5PTl9QQVNURSA9IFwib25QYXN0ZVwiLCBzKSkocSB8fCB7fSk7XG5jbGFzcyBGIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBibG9jayBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqIEBwYXJhbSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIGlkLiBXaWxsIGJlIGdlbmVyYXRlZCBpZiBvbWl0dGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gVG9vbCdzIGluaXRpYWwgZGF0YVxuICAgKiBAcGFyYW0gb3B0aW9ucy50b29sIFx1MjAxNCBibG9jaydzIHRvb2xcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yIEFQSSBtb2R1bGUgZm9yIHBhc3MgaXQgdG8gdGhlIEJsb2NrIFR1bmVzXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlYWRPbmx5IC0gUmVhZC1Pbmx5IGZsYWdcbiAgICogQHBhcmFtIFtldmVudEJ1c10gLSBFZGl0b3IgY29tbW9uIGV2ZW50IGJ1cy4gQWxsb3dzIHRvIHN1YnNjcmliZSBvbiBzb21lIEVkaXRvciBldmVudHMuIENvdWxkIGJlIG9taXR0ZWQgd2hlbiBcInZpcnR1YWxcIiBCbG9jayBpcyBjcmVhdGVkLiBTZWUgQmxvY2tzQVBJQGNvbXBvc2VCbG9ja0RhdGEuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQ6IGUgPSB6dCgpLFxuICAgIGRhdGE6IHQsXG4gICAgdG9vbDogbyxcbiAgICBhcGk6IGksXG4gICAgcmVhZE9ubHk6IG4sXG4gICAgdHVuZXNEYXRhOiByXG4gIH0sIGEpIHtcbiAgICBzdXBlcigpLCB0aGlzLmNhY2hlZElucHV0cyA9IFtdLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBudWxsLCB0aGlzLnR1bmVzSW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhID0ge30sIHRoaXMuaW5wdXRJbmRleCA9IDAsIHRoaXMuZWRpdG9yRXZlbnRCdXMgPSBudWxsLCB0aGlzLmhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgdGhpcy5kcm9wSW5wdXRzQ2FjaGUoKSwgdGhpcy51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCB0aGlzLmRpZE11dGF0ZWQgPSAobCA9IHZvaWQgMCkgPT4ge1xuICAgICAgY29uc3QgYyA9IGwgPT09IHZvaWQgMCwgdSA9IGwgaW5zdGFuY2VvZiBJbnB1dEV2ZW50O1xuICAgICAgIWMgJiYgIXUgJiYgdGhpcy5kZXRlY3RUb29sUm9vdENoYW5nZShsKTtcbiAgICAgIGxldCBoO1xuICAgICAgYyB8fCB1ID8gaCA9ICEwIDogaCA9ICEobC5sZW5ndGggPiAwICYmIGwuZXZlcnkoKHYpID0+IHtcbiAgICAgICAgY29uc3QgeyBhZGRlZE5vZGVzOiBwLCByZW1vdmVkTm9kZXM6IGsgfSA9IHY7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgLi4uQXJyYXkuZnJvbShwKSxcbiAgICAgICAgICAuLi5BcnJheS5mcm9tKGspXG4gICAgICAgIF0uc29tZSgoQSkgPT4gZC5pc0VsZW1lbnQoQSkgPyBBLmRhdGFzZXQubXV0YXRpb25GcmVlID09PSBcInRydWVcIiA6ICExKTtcbiAgICAgIH0pKSwgaCAmJiAodGhpcy5kcm9wSW5wdXRzQ2FjaGUoKSwgdGhpcy51cGRhdGVDdXJyZW50SW5wdXQoKSwgdGhpcy5jYWxsKFxuICAgICAgICBcInVwZGF0ZWRcIlxuICAgICAgICAvKiBVUERBVEVEICovXG4gICAgICApLCB0aGlzLmVtaXQoXCJkaWRNdXRhdGVkXCIsIHRoaXMpKTtcbiAgICB9LCB0aGlzLm5hbWUgPSBvLm5hbWUsIHRoaXMuaWQgPSBlLCB0aGlzLnNldHRpbmdzID0gby5zZXR0aW5ncywgdGhpcy5jb25maWcgPSBvLnNldHRpbmdzLmNvbmZpZyB8fCB7fSwgdGhpcy5hcGkgPSBpLCB0aGlzLmVkaXRvckV2ZW50QnVzID0gYSB8fCBudWxsLCB0aGlzLmJsb2NrQVBJID0gbmV3IGhlKHRoaXMpLCB0aGlzLnRvb2wgPSBvLCB0aGlzLnRvb2xJbnN0YW5jZSA9IG8uY3JlYXRlKHQsIHRoaXMuYmxvY2tBUEksIG4pLCB0aGlzLnR1bmVzID0gby50dW5lcywgdGhpcy5jb21wb3NlVHVuZXMociksIHRoaXMuaG9sZGVyID0gdGhpcy5jb21wb3NlKCksIHRoaXMud2F0Y2hCbG9ja011dGF0aW9ucygpLCB0aGlzLmFkZElucHV0RXZlbnRzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBjbGFzc2VzIGZvciB0aGUgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge3t3cmFwcGVyOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JhcHBlcjogXCJjZS1ibG9ja1wiLFxuICAgICAgd3JhcHBlclN0cmV0Y2hlZDogXCJjZS1ibG9jay0tc3RyZXRjaGVkXCIsXG4gICAgICBjb250ZW50OiBcImNlLWJsb2NrX19jb250ZW50XCIsXG4gICAgICBmb2N1c2VkOiBcImNlLWJsb2NrLS1mb2N1c2VkXCIsXG4gICAgICBzZWxlY3RlZDogXCJjZS1ibG9jay0tc2VsZWN0ZWRcIixcbiAgICAgIGRyb3BUYXJnZXQ6IFwiY2UtYmxvY2stLWRyb3AtdGFyZ2V0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFuZCByZXR1cm4gYWxsIGVkaXRhYmxlIGVsZW1lbnRzIChjb250ZW50ZWRpdGFibGUgYW5kIG5hdGl2ZSBpbnB1dHMpIGluIHRoZSBUb29sIEhUTUxcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBnZXQgaW5wdXRzKCkge1xuICAgIGlmICh0aGlzLmNhY2hlZElucHV0cy5sZW5ndGggIT09IDApXG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRJbnB1dHM7XG4gICAgY29uc3QgZSA9IGQuZmluZEFsbElucHV0cyh0aGlzLmhvbGRlcik7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRJbmRleCA+IGUubGVuZ3RoIC0gMSAmJiAodGhpcy5pbnB1dEluZGV4ID0gZS5sZW5ndGggLSAxKSwgdGhpcy5jYWNoZWRJbnB1dHMgPSBlLCBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gY3VycmVudCBUb29sYHMgaW5wdXRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbdGhpcy5pbnB1dEluZGV4XTtcbiAgfVxuICAvKipcbiAgICogU2V0IGlucHV0IGluZGV4IHRvIHRoZSBwYXNzZWQgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgTm9kZX0gZWxlbWVudCAtIEhUTUwgRWxlbWVudCB0byBzZXQgYXMgY3VycmVudCBpbnB1dFxuICAgKi9cbiAgc2V0IGN1cnJlbnRJbnB1dChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuaW5wdXRzLmZpbmRJbmRleCgobykgPT4gbyA9PT0gZSB8fCBvLmNvbnRhaW5zKGUpKTtcbiAgICB0ICE9PSAtMSAmJiAodGhpcy5pbnB1dEluZGV4ID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBUb29sYHMgaW5wdXRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGZpcnN0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzWzBdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgVG9vbGBzIGlucHV0XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBsYXN0SW5wdXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaW5wdXRzO1xuICAgIHJldHVybiBlW2UubGVuZ3RoIC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBuZXh0IFRvb2xgcyBpbnB1dCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgbmV4dElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXggKyAxXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHByZXZpb3VzIFRvb2xgcyBpbnB1dCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgcHJldmlvdXNJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbdGhpcy5pbnB1dEluZGV4IC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jaydzIEpTT04gZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZSgpLnRoZW4oKGUpID0+IGUgJiYgIVYoZS5kYXRhKSA/IGUuZGF0YSA6IHt9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0b29sJ3Mgc2FuaXRpemVyIGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2wuc2FuaXRpemVDb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIGlzIGJsb2NrIG1lcmdlYWJsZVxuICAgKiBXZSBwbHVnaW4gaGF2ZSBtZXJnZSBmdW5jdGlvbiB0aGVuIHdlIGNhbGwgaXQgbWVyZ2VhYmxlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IG1lcmdlYWJsZSgpIHtcbiAgICByZXR1cm4gRCh0aGlzLnRvb2xJbnN0YW5jZS5tZXJnZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGJsb2NrIGZvciBlbXB0aW5lc3NcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNFbXB0eSgpIHtcbiAgICBjb25zdCBlID0gZC5pc0VtcHR5KHRoaXMucGx1Z2luc0NvbnRlbnQpLCB0ID0gIXRoaXMuaGFzTWVkaWE7XG4gICAgcmV0dXJuIGUgJiYgdDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYmxvY2sgaGFzIGEgbWVkaWEgY29udGVudCBzdWNoIGFzIGltYWdlcywgaWZyYW1lIGFuZCBvdGhlclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBoYXNNZWRpYSgpIHtcbiAgICBjb25zdCBlID0gW1xuICAgICAgXCJpbWdcIixcbiAgICAgIFwiaWZyYW1lXCIsXG4gICAgICBcInZpZGVvXCIsXG4gICAgICBcImF1ZGlvXCIsXG4gICAgICBcInNvdXJjZVwiLFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgXCJ0ZXh0YXJlYVwiLFxuICAgICAgXCJ0d2l0dGVyd2lkZ2V0XCJcbiAgICBdO1xuICAgIHJldHVybiAhIXRoaXMuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoZS5qb2luKFwiLFwiKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBmb2N1c2VkIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSAndHJ1ZScgdG8gc2VsZWN0LCAnZmFsc2UnIHRvIHJlbW92ZSBzZWxlY3Rpb25cbiAgICovXG4gIHNldCBmb2N1c2VkKGUpIHtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEYuQ1NTLmZvY3VzZWQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sncyBmb2N1c2VkIHN0YXRlXG4gICAqL1xuICBnZXQgZm9jdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEYuQ1NTLmZvY3VzZWQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0ZWQgc3RhdGVcbiAgICogV2UgZG9uJ3QgbmVlZCB0byBtYXJrIEJsb2NrIGFzIFNlbGVjdGVkIHdoZW4gaXQgaXMgZW1wdHlcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyB0byBzZWxlY3QsICdmYWxzZScgdG8gcmVtb3ZlIHNlbGVjdGlvblxuICAgKi9cbiAgc2V0IHNlbGVjdGVkKGUpIHtcbiAgICB2YXIgaSwgbjtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEYuQ1NTLnNlbGVjdGVkLCBlKTtcbiAgICBjb25zdCB0ID0gZSA9PT0gITAgJiYgbS5pc1JhbmdlSW5zaWRlQ29udGFpbmVyKHRoaXMuaG9sZGVyKSwgbyA9IGUgPT09ICExICYmIG0uaXNGYWtlQ3Vyc29ySW5zaWRlQ29udGFpbmVyKHRoaXMuaG9sZGVyKTtcbiAgICAodCB8fCBvKSAmJiAoKGkgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IGkuZW1pdChjdCwgeyBzdGF0ZTogZSB9KSwgdCA/IG0uYWRkRmFrZUN1cnNvcigpIDogbS5yZW1vdmVGYWtlQ3Vyc29yKHRoaXMuaG9sZGVyKSwgKG4gPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IG4uZW1pdChkdCwgeyBzdGF0ZTogZSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVHJ1ZSBpZiBpdCBpcyBTZWxlY3RlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzZWxlY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEYuQ1NTLnNlbGVjdGVkKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHN0cmV0Y2hlZCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIHRvIGVuYWJsZSwgJ2ZhbHNlJyB0byBkaXNhYmxlIHN0cmV0Y2hlZCBzdGF0ZVxuICAgKi9cbiAgc2V0IHN0cmV0Y2hlZChlKSB7XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShGLkNTUy53cmFwcGVyU3RyZXRjaGVkLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEJsb2NrJ3Mgc3RyZXRjaGVkIHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHN0cmV0Y2hlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEYuQ1NTLndyYXBwZXJTdHJldGNoZWQpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgZHJvcCB0YXJnZXQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyBpZiBibG9jayBpcyBkcm9wIHRhcmdldCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBzZXQgZHJvcFRhcmdldChlKSB7XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShGLkNTUy5kcm9wVGFyZ2V0LCBlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBQbHVnaW5zIGNvbnRlbnRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IHBsdWdpbnNDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxzIFRvb2wncyBtZXRob2RcbiAgICpcbiAgICogTWV0aG9kIGNoZWNrcyB0b29sIHByb3BlcnR5IHtNZXRob2ROYW1lfS4gRmlyZXMgbWV0aG9kIHdpdGggcGFzc2VzIHBhcmFtcyBJZiBpdCBpcyBpbnN0YW5jZSBvZiBGdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIG1ldGhvZCB0byBjYWxsXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBtZXRob2QgYXJndW1lbnRcbiAgICovXG4gIGNhbGwoZSwgdCkge1xuICAgIGlmIChEKHRoaXMudG9vbEluc3RhbmNlW2VdKSkge1xuICAgICAgZSA9PT0gXCJhcHBlbmRDYWxsYmFja1wiICYmIFQoXG4gICAgICAgIFwiYGFwcGVuZENhbGxiYWNrYCBob29rIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBVc2UgYHJlbmRlcmVkYCBob29rIGluc3RlYWRcIixcbiAgICAgICAgXCJ3YXJuXCJcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnRvb2xJbnN0YW5jZVtlXS5jYWxsKHRoaXMudG9vbEluc3RhbmNlLCB0KTtcbiAgICAgIH0gY2F0Y2ggKG8pIHtcbiAgICAgICAgVChgRXJyb3IgZHVyaW5nICcke2V9JyBjYWxsOiAke28ubWVzc2FnZX1gLCBcImVycm9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCBwbHVnaW5zIG1lcmdlIG1ldGhvZFxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IGRhdGEgLSBkYXRhIHRvIG1lcmdlXG4gICAqL1xuICBhc3luYyBtZXJnZVdpdGgoZSkge1xuICAgIGF3YWl0IHRoaXMudG9vbEluc3RhbmNlLm1lcmdlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0cyBkYXRhIGZyb20gQmxvY2tcbiAgICogR3JvdXBzIFRvb2wncyBzYXZlIHByb2Nlc3NpbmcgdGltZVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgYXN5bmMgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy50b29sSW5zdGFuY2Uuc2F2ZSh0aGlzLnBsdWdpbnNDb250ZW50KSwgdCA9IHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGE7XG4gICAgW1xuICAgICAgLi4udGhpcy50dW5lc0luc3RhbmNlcy5lbnRyaWVzKCksXG4gICAgICAuLi50aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcy5lbnRyaWVzKClcbiAgICBdLmZvckVhY2goKFtuLCByXSkgPT4ge1xuICAgICAgaWYgKEQoci5zYXZlKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0W25dID0gci5zYXZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgICAgICBUKGBUdW5lICR7ci5jb25zdHJ1Y3Rvci5uYW1lfSBzYXZlIG1ldGhvZCB0aHJvd3MgYW4gRXJyb3IgJW9gLCBcIndhcm5cIiwgYSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGxldCBpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZSkudGhlbigobikgPT4gKGkgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCksIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdG9vbDogdGhpcy5uYW1lLFxuICAgICAgZGF0YTogbixcbiAgICAgIHR1bmVzOiB0LFxuICAgICAgdGltZTogaSAtIG9cbiAgICB9KSkuY2F0Y2goKG4pID0+IHtcbiAgICAgIFQoYFNhdmluZyBwcm9jZXNzIGZvciAke3RoaXMubmFtZX0gdG9vbCBmYWlsZWQgZHVlIHRvIHRoZSAke259YCwgXCJsb2dcIiwgXCJyZWRcIik7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVzZXMgVG9vbCdzIHZhbGlkYXRpb24gbWV0aG9kIHRvIGNoZWNrIHRoZSBjb3JyZWN0bmVzcyBvZiBvdXRwdXQgZGF0YVxuICAgKiBUb29sJ3MgdmFsaWRhdGlvbiBtZXRob2QgaXMgb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCByZXR1cm5zIHRydWV8ZmFsc2Ugd2hldGhlciBkYXRhIHBhc3NlZCB0aGUgdmFsaWRhdGlvbiBvciBub3RcbiAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byB2YWxpZGF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gdmFsaWRcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlKGUpIHtcbiAgICBsZXQgdCA9ICEwO1xuICAgIHJldHVybiB0aGlzLnRvb2xJbnN0YW5jZS52YWxpZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmICh0ID0gYXdhaXQgdGhpcy50b29sSW5zdGFuY2UudmFsaWRhdGUoZSkpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGEgdG8gcmVuZGVyIGluIHR1bmVzIG1lbnUuXG4gICAqIFNwbGl0cyBibG9jayB0dW5lcyBzZXR0aW5ncyBpbnRvIDIgZ3JvdXBzOiBwb3BvdmVyIGl0ZW1zIGFuZCBjdXN0b20gaHRtbC5cbiAgICovXG4gIGdldFR1bmVzKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0ID0gW10sIG8gPSB0eXBlb2YgdGhpcy50b29sSW5zdGFuY2UucmVuZGVyU2V0dGluZ3MgPT0gXCJmdW5jdGlvblwiID8gdGhpcy50b29sSW5zdGFuY2UucmVuZGVyU2V0dGluZ3MoKSA6IFtdLCBpID0gW1xuICAgICAgLi4udGhpcy50dW5lc0luc3RhbmNlcy52YWx1ZXMoKSxcbiAgICAgIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLnZhbHVlcygpXG4gICAgXS5tYXAoKG4pID0+IG4ucmVuZGVyKCkpO1xuICAgIHJldHVybiBbbywgaV0uZmxhdCgpLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGQuaXNFbGVtZW50KG4pID8gZS5hcHBlbmRDaGlsZChuKSA6IEFycmF5LmlzQXJyYXkobikgPyB0LnB1c2goLi4ubikgOiB0LnB1c2gobik7XG4gICAgfSksIFt0LCBlXTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIGN1cnJlbnQgaW5wdXQgaW5kZXggd2l0aCBzZWxlY3Rpb24gYW5jaG9yIG5vZGVcbiAgICovXG4gIHVwZGF0ZUN1cnJlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IGQuaXNOYXRpdmVJbnB1dChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB8fCAhbS5hbmNob3JOb2RlID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG0uYW5jaG9yTm9kZTtcbiAgfVxuICAvKipcbiAgICogQWxsb3dzIHRvIHNheSBFZGl0b3IgdGhhdCBCbG9jayB3YXMgY2hhbmdlZC4gVXNlZCB0byBtYW51YWxseSB0cmlnZ2VyIEVkaXRvcidzICdvbkNoYW5nZScgY2FsbGJhY2tcbiAgICogQ2FuIGJlIHVzZWZ1bCBmb3IgYmxvY2sgY2hhbmdlcyBpbnZpc2libGUgZm9yIGVkaXRvciBjb3JlLlxuICAgKi9cbiAgZGlzcGF0Y2hDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaWRNdXRhdGVkKCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgVG9vbCBpbnN0YW5jZSBkZXN0cm95IG1ldGhvZFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVud2F0Y2hCbG9ja011dGF0aW9ucygpLCB0aGlzLnJlbW92ZUlucHV0RXZlbnRzKCksIHN1cGVyLmRlc3Ryb3koKSwgRCh0aGlzLnRvb2xJbnN0YW5jZS5kZXN0cm95KSAmJiB0aGlzLnRvb2xJbnN0YW5jZS5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgY291bGQgc3BlY2lmeSBzZXZlcmFsIGVudHJpZXMgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSBUb29sYm94IChmb3IgZXhhbXBsZSwgXCJIZWFkaW5nIDFcIiwgXCJIZWFkaW5nIDJcIiwgXCJIZWFkaW5nIDNcIilcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZW50cnkgdGhhdCBpcyByZWxhdGVkIHRvIHRoZSBCbG9jayAoZGVwZW5kZWQgb24gdGhlIEJsb2NrIGRhdGEpXG4gICAqL1xuICBhc3luYyBnZXRBY3RpdmVUb29sYm94RW50cnkoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMudG9vbC50b29sYm94O1xuICAgIGlmIChlLmxlbmd0aCA9PT0gMSlcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50b29sLnRvb2xib3hbMF0pO1xuICAgIGNvbnN0IHQgPSBhd2FpdCB0aGlzLmRhdGE7XG4gICAgcmV0dXJuIGUuZmluZCgoaSkgPT4gT2JqZWN0LmVudHJpZXMoaS5kYXRhKS5zb21lKChbbiwgcl0pID0+IHRbbl0gJiYgJHQodFtuXSwgcikpKTtcbiAgfVxuICAvKipcbiAgICogTWFrZSBkZWZhdWx0IEJsb2NrIHdyYXBwZXJzIGFuZCBwdXQgVG9vbGBzIGNvbnRlbnQgdGhlcmVcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKi9cbiAgY29tcG9zZSgpIHtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIEYuQ1NTLndyYXBwZXIpLCB0ID0gZC5tYWtlKFwiZGl2XCIsIEYuQ1NTLmNvbnRlbnQpLCBvID0gdGhpcy50b29sSW5zdGFuY2UucmVuZGVyKCk7XG4gICAgdGhpcy50b29sUmVuZGVyZWRFbGVtZW50ID0gbywgdC5hcHBlbmRDaGlsZCh0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpO1xuICAgIGxldCBpID0gdDtcbiAgICByZXR1cm4gWy4uLnRoaXMudHVuZXNJbnN0YW5jZXMudmFsdWVzKCksIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLnZhbHVlcygpXS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBpZiAoRChuLndyYXApKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGkgPSBuLndyYXAoaSk7XG4gICAgICAgIH0gY2F0Y2ggKHIpIHtcbiAgICAgICAgICBUKGBUdW5lICR7bi5jb25zdHJ1Y3Rvci5uYW1lfSB3cmFwIG1ldGhvZCB0aHJvd3MgYW4gRXJyb3IgJW9gLCBcIndhcm5cIiwgcik7XG4gICAgICAgIH1cbiAgICB9KSwgZS5hcHBlbmRDaGlsZChpKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zdGFudGlhdGUgQmxvY2sgVHVuZXNcbiAgICpcbiAgICogQHBhcmFtIHR1bmVzRGF0YSAtIGN1cnJlbnQgQmxvY2sgdHVuZXMgZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29tcG9zZVR1bmVzKGUpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMudHVuZXMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IHtcbiAgICAgICh0LmlzSW50ZXJuYWwgPyB0aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcyA6IHRoaXMudHVuZXNJbnN0YW5jZXMpLnNldCh0Lm5hbWUsIHQuY3JlYXRlKGVbdC5uYW1lXSwgdGhpcy5ibG9ja0FQSSkpO1xuICAgIH0pLCBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbdCwgb10pID0+IHtcbiAgICAgIHRoaXMudHVuZXNJbnN0YW5jZXMuaGFzKHQpIHx8ICh0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhW3RdID0gbyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgZm9jdXMgZXZlbnQgbGlzdGVuZXJzIHRvIGFsbCBpbnB1dHMgYW5kIGNvbnRlbnRlZGl0YWJsZVxuICAgKi9cbiAgYWRkSW5wdXRFdmVudHMoKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVGb2N1cyksIGQuaXNOYXRpdmVJbnB1dChlKSAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLmRpZE11dGF0ZWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZW1vdmVzIGZvY3VzIGV2ZW50IGxpc3RlbmVycyBmcm9tIGFsbCBpbnB1dHMgYW5kIGNvbnRlbnRlZGl0YWJsZVxuICAgKi9cbiAgcmVtb3ZlSW5wdXRFdmVudHMoKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVGb2N1cyksIGQuaXNOYXRpdmVJbnB1dChlKSAmJiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLmRpZE11dGF0ZWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gY29tbW9uIGVkaXRvciBEb20gQ2hhbmdlZCBldmVudCBhbmQgZGV0ZWN0IG11dGF0aW9ucyByZWxhdGVkIHRvIHRoZSAgQmxvY2tcbiAgICovXG4gIHdhdGNoQmxvY2tNdXRhdGlvbnMoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5yZWRhY3RvckRvbUNoYW5nZWRDYWxsYmFjayA9ICh0KSA9PiB7XG4gICAgICBjb25zdCB7IG11dGF0aW9uczogbyB9ID0gdDtcbiAgICAgIG8uc29tZSgobikgPT4gVnQobiwgdGhpcy50b29sUmVuZGVyZWRFbGVtZW50KSkgJiYgdGhpcy5kaWRNdXRhdGVkKG8pO1xuICAgIH0sIChlID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBlLm9uKE1lLCB0aGlzLnJlZGFjdG9yRG9tQ2hhbmdlZENhbGxiYWNrKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHJlZGFjdG9yIGRvbSBjaGFuZ2UgZXZlbnQgbGlzdGVuZXJcbiAgICovXG4gIHVud2F0Y2hCbG9ja011dGF0aW9ucygpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgZS5vZmYoTWUsIHRoaXMucmVkYWN0b3JEb21DaGFuZ2VkQ2FsbGJhY2spO1xuICB9XG4gIC8qKlxuICAgKiBTb21ldGltZXMgVG9vbCBjYW4gcmVwbGFjZSBvd24gbWFpbiBlbGVtZW50LCBmb3IgZXhhbXBsZSBIMiAtPiBINCBvciBVTCAtPiBPTFxuICAgKiBXZSBuZWVkIHRvIGRldGVjdCBzdWNoIGNoYW5nZXMgYW5kIHVwZGF0ZSBhIGxpbmsgdG8gdG9vbHMgbWFpbiBlbGVtZW50IHdpdGggdGhlIG5ldyBvbmVcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9ucyAtIHJlY29yZHMgb2YgYmxvY2sgY29udGVudCBtdXRhdGlvbnNcbiAgICovXG4gIGRldGVjdFRvb2xSb290Q2hhbmdlKGUpIHtcbiAgICBlLmZvckVhY2goKHQpID0+IHtcbiAgICAgIGlmIChBcnJheS5mcm9tKHQucmVtb3ZlZE5vZGVzKS5pbmNsdWRlcyh0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0LmFkZGVkTm9kZXNbdC5hZGRlZE5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgaW5wdXRzIGNhY2hlZCB2YWx1ZVxuICAgKi9cbiAgZHJvcElucHV0c0NhY2hlKCkge1xuICAgIHRoaXMuY2FjaGVkSW5wdXRzID0gW107XG4gIH1cbn1cbmNsYXNzIFp0IGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaW5zZXJ0ID0gKGUgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssIHQgPSB7fSwgbyA9IHt9LCBpLCBuLCByLCBhKSA9PiB7XG4gICAgICBjb25zdCBsID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydCh7XG4gICAgICAgIGlkOiBhLFxuICAgICAgICB0b29sOiBlLFxuICAgICAgICBkYXRhOiB0LFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgbmVlZFRvRm9jdXM6IG4sXG4gICAgICAgIHJlcGxhY2U6IHJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBoZShsKTtcbiAgICB9LCB0aGlzLmNvbXBvc2VCbG9ja0RhdGEgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpO1xuICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgdG9vbDogdCxcbiAgICAgICAgYXBpOiB0aGlzLkVkaXRvci5BUEksXG4gICAgICAgIHJlYWRPbmx5OiAhMCxcbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIHR1bmVzRGF0YToge31cbiAgICAgIH0pLmRhdGE7XG4gICAgfSwgdGhpcy51cGRhdGUgPSAoZSwgdCkgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gby5nZXRCbG9ja0J5SWQoZSk7XG4gICAgICBpZiAoIWkpIHtcbiAgICAgICAgVChcImJsb2Nrcy51cGRhdGUoKTogQmxvY2sgd2l0aCBwYXNzZWQgaWQgd2FzIG5vdCBmb3VuZFwiLCBcIndhcm5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG4gPSBvLmdldEJsb2NrSW5kZXgoaSk7XG4gICAgICBvLmluc2VydCh7XG4gICAgICAgIGlkOiBpLmlkLFxuICAgICAgICB0b29sOiBpLm5hbWUsXG4gICAgICAgIGRhdGE6IHQsXG4gICAgICAgIGluZGV4OiBuLFxuICAgICAgICByZXBsYWNlOiAhMCxcbiAgICAgICAgdHVuZXM6IGkudHVuZXNcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3N9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xlYXI6ICgpID0+IHRoaXMuY2xlYXIoKSxcbiAgICAgIHJlbmRlcjogKGUpID0+IHRoaXMucmVuZGVyKGUpLFxuICAgICAgcmVuZGVyRnJvbUhUTUw6IChlKSA9PiB0aGlzLnJlbmRlckZyb21IVE1MKGUpLFxuICAgICAgZGVsZXRlOiAoZSkgPT4gdGhpcy5kZWxldGUoZSksXG4gICAgICBzd2FwOiAoZSwgdCkgPT4gdGhpcy5zd2FwKGUsIHQpLFxuICAgICAgbW92ZTogKGUsIHQpID0+IHRoaXMubW92ZShlLCB0KSxcbiAgICAgIGdldEJsb2NrQnlJbmRleDogKGUpID0+IHRoaXMuZ2V0QmxvY2tCeUluZGV4KGUpLFxuICAgICAgZ2V0QnlJZDogKGUpID0+IHRoaXMuZ2V0QnlJZChlKSxcbiAgICAgIGdldEN1cnJlbnRCbG9ja0luZGV4OiAoKSA9PiB0aGlzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksXG4gICAgICBnZXRCbG9ja0luZGV4OiAoZSkgPT4gdGhpcy5nZXRCbG9ja0luZGV4KGUpLFxuICAgICAgZ2V0QmxvY2tzQ291bnQ6ICgpID0+IHRoaXMuZ2V0QmxvY2tzQ291bnQoKSxcbiAgICAgIHN0cmV0Y2hCbG9jazogKGUsIHQgPSAhMCkgPT4gdGhpcy5zdHJldGNoQmxvY2soZSwgdCksXG4gICAgICBpbnNlcnROZXdCbG9jazogKCkgPT4gdGhpcy5pbnNlcnROZXdCbG9jaygpLFxuICAgICAgaW5zZXJ0OiB0aGlzLmluc2VydCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICBjb21wb3NlQmxvY2tEYXRhOiB0aGlzLmNvbXBvc2VCbG9ja0RhdGFcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrcyBjb3VudFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0QmxvY2tzQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgYmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldEN1cnJlbnRCbG9ja0luZGV4KCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIEJsb2NrIGJ5IGlkO1xuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBibG9jayBpZFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQoZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBLKFwiVGhlcmUgaXMgbm8gYmxvY2sgd2l0aCBpZCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0luZGV4KHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB0byBnZXRcbiAgICovXG4gIGdldEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgSyhcIlRoZXJlIGlzIG5vIGJsb2NrIGF0IGluZGV4IGBcIiArIGUgKyBcImBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGhlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiBibG9jayB0byBnZXRcbiAgICovXG4gIGdldEJ5SWQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKGUpO1xuICAgIHJldHVybiB0ID09PSB2b2lkIDAgPyAoSyhcIlRoZXJlIGlzIG5vIGJsb2NrIHdpdGggaWQgYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIiksIG51bGwpIDogbmV3IGhlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIEJsb2NrIE1hbmFnZXIgbWV0aG9kIHRoYXQgc3dhcCBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIHBvc2l0aW9uIG9mIGZpcnN0IEJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gcG9zaXRpb24gb2Ygc2Vjb25kIEJsb2NrXG4gICAqIEBkZXByZWNhdGVkIFx1MjAxNCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIFQoXG4gICAgICBcImBibG9ja3Muc3dhcCgpYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBgYmxvY2subW92ZSgpYCBtZXRob2QgaW5zdGVhZFwiLFxuICAgICAgXCJpbmZvXCJcbiAgICApLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc3dhcChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBibG9jayBmcm9tIG9uZSBpbmRleCB0byBhbm90aGVyXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggdG8gbW92ZSB0b1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggdG8gbW92ZSBmcm9tXG4gICAqL1xuICBtb3ZlKGUsIHQpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubW92ZShlLCB0KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmxvY2tJbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKGUpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnJlbW92ZUJsb2NrKGUpO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIEsodCwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KCksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLCB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuRU5EKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBFZGl0b3IncyBhcmVhXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoITApLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbGxzIEVkaXRvciB3aXRoIEJsb2NrcyBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7T3V0cHV0RGF0YX0gZGF0YSBcdTIwMTQgU2F2ZWQgRWRpdG9yIGRhdGFcbiAgICovXG4gIHJlbmRlcihlKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcigpLCB0aGlzLkVkaXRvci5SZW5kZXJlci5yZW5kZXIoZS5ibG9ja3MpO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgcGFzc2VkIEhUTUwgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIC0gSFRNTCBzdHJpbmcgdG8gcmVuZGVyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgcmVuZGVyRnJvbUhUTUwoZSkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoKSwgdGhpcy5FZGl0b3IuUGFzdGUucHJvY2Vzc1RleHQoZSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBTdHJldGNoIEJsb2NrJ3MgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byBzdHJldGNoXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdHVzIC0gdHJ1ZSB0byBlbmFibGUsIGZhbHNlIHRvIGRpc2FibGVcbiAgICogQGRlcHJlY2F0ZWQgVXNlIEJsb2NrQVBJIGludGVyZmFjZSB0byBzdHJldGNoIEJsb2Nrc1xuICAgKi9cbiAgc3RyZXRjaEJsb2NrKGUsIHQgPSAhMCkge1xuICAgIEllKFxuICAgICAgITAsXG4gICAgICBcImJsb2Nrcy5zdHJldGNoQmxvY2soKVwiLFxuICAgICAgXCJCbG9ja0FQSVwiXG4gICAgKTtcbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleChlKTtcbiAgICBvICYmIChvLnN0cmV0Y2hlZCA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrXG4gICAqIEFmdGVyIHNldCBjYXJldCB0byB0aGlzIEJsb2NrXG4gICAqXG4gICAqIEB0b2RvIHJlbW92ZSBpbiAzLjAuMFxuICAgKiBAZGVwcmVjYXRlZCB3aXRoIGluc2VydCgpIG1ldGhvZFxuICAgKi9cbiAgaW5zZXJ0TmV3QmxvY2soKSB7XG4gICAgVChcIk1ldGhvZCBibG9ja3MuaW5zZXJ0TmV3QmxvY2soKSBpcyBkZXByZWNhdGVkIGFuZCBpdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGJsb2Nrcy5pbnNlcnQoKSBpbnN0ZWFkLlwiLCBcIndhcm5cIiksIHRoaXMuaW5zZXJ0KCk7XG4gIH1cbn1cbmNsYXNzIEd0IGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuc2V0VG9GaXJzdEJsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5maXJzdEJsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmZpcnN0QmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb0xhc3RCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmxhc3RCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvUHJldmlvdXNCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucHJldmlvdXNCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5wcmV2aW91c0Jsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9OZXh0QmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLm5leHRCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5uZXh0QmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb0Jsb2NrID0gKGUsIHQgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgbyA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3NbZV0gPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzW2VdLCB0LCBvKSwgITApIDogITEsIHRoaXMuZm9jdXMgPSAoZSA9ICExKSA9PiBlID8gdGhpcy5zZXRUb0xhc3RCbG9jayh0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuRU5EKSA6IHRoaXMuc2V0VG9GaXJzdEJsb2NrKHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5TVEFSVCk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtDYXJldH1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXRUb0ZpcnN0QmxvY2s6IHRoaXMuc2V0VG9GaXJzdEJsb2NrLFxuICAgICAgc2V0VG9MYXN0QmxvY2s6IHRoaXMuc2V0VG9MYXN0QmxvY2ssXG4gICAgICBzZXRUb1ByZXZpb3VzQmxvY2s6IHRoaXMuc2V0VG9QcmV2aW91c0Jsb2NrLFxuICAgICAgc2V0VG9OZXh0QmxvY2s6IHRoaXMuc2V0VG9OZXh0QmxvY2ssXG4gICAgICBzZXRUb0Jsb2NrOiB0aGlzLnNldFRvQmxvY2ssXG4gICAgICBmb2N1czogdGhpcy5mb2N1c1xuICAgIH07XG4gIH1cbn1cbmNsYXNzIHF0IGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7RXZlbnRzfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVtaXQ6IChlLCB0KSA9PiB0aGlzLmVtaXQoZSwgdCksXG4gICAgICBvZmY6IChlLCB0KSA9PiB0aGlzLm9mZihlLCB0KSxcbiAgICAgIG9uOiAoZSwgdCkgPT4gdGhpcy5vbihlLCB0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBvbiBFdmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIGV2ZW50IG5hbWUgdG8gc3Vic2NyaWJlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb24oZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihlLCB0KTtcbiAgfVxuICAvKipcbiAgICogRW1pdCBldmVudCB3aXRoIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIGV2ZW50IHRvIGVtaXRcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBldmVudCdzIGRhdGFcbiAgICovXG4gIGVtaXQoZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIEV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBldmVudCB0byB1bnN1YnNjcmliZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9mZihlLCB0KTtcbiAgfVxufVxuY2xhc3MgRGUgZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIFJldHVybiBuYW1lc3BhY2Ugc2VjdGlvbiBmb3IgdG9vbCBvciBibG9jayB0dW5lXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gdG9vbCBvYmplY3RcbiAgICovXG4gIHN0YXRpYyBnZXROYW1lc3BhY2UoZSkge1xuICAgIHJldHVybiBlLmlzVHVuZSgpID8gYGJsb2NrVHVuZXMuJHtlLm5hbWV9YCA6IGB0b29scy4ke2UubmFtZX1gO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gSTE4biBBUEkgbWV0aG9kcyB3aXRoIGdsb2JhbCBkaWN0aW9uYXJ5IGFjY2Vzc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHQ6ICgpID0+IHtcbiAgICAgICAgSyhcIkkxOG4udCgpIG1ldGhvZCBjYW4gYmUgYWNjZXNzZWQgb25seSBmcm9tIFRvb2xzXCIsIFwid2FyblwiKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gSTE4biBBUEkgbWV0aG9kcyB3aXRoIHRvb2wgbmFtZXNwYWNlZCBkaWN0aW9uYXJ5XG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gVG9vbCBvYmplY3RcbiAgICovXG4gIGdldE1ldGhvZHNGb3JUb29sKGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMubWV0aG9kcyxcbiAgICAgIHtcbiAgICAgICAgdDogKHQpID0+ICQudChEZS5nZXROYW1lc3BhY2UoZSksIHQpXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuY2xhc3MgSnQgZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEVkaXRvci5qcyBDb3JlIEFQSSBtb2R1bGVzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2tzOiB0aGlzLkVkaXRvci5CbG9ja3NBUEkubWV0aG9kcyxcbiAgICAgIGNhcmV0OiB0aGlzLkVkaXRvci5DYXJldEFQSS5tZXRob2RzLFxuICAgICAgZXZlbnRzOiB0aGlzLkVkaXRvci5FdmVudHNBUEkubWV0aG9kcyxcbiAgICAgIGxpc3RlbmVyczogdGhpcy5FZGl0b3IuTGlzdGVuZXJzQVBJLm1ldGhvZHMsXG4gICAgICBub3RpZmllcjogdGhpcy5FZGl0b3IuTm90aWZpZXJBUEkubWV0aG9kcyxcbiAgICAgIHNhbml0aXplcjogdGhpcy5FZGl0b3IuU2FuaXRpemVyQVBJLm1ldGhvZHMsXG4gICAgICBzYXZlcjogdGhpcy5FZGl0b3IuU2F2ZXJBUEkubWV0aG9kcyxcbiAgICAgIHNlbGVjdGlvbjogdGhpcy5FZGl0b3IuU2VsZWN0aW9uQVBJLm1ldGhvZHMsXG4gICAgICBzdHlsZXM6IHRoaXMuRWRpdG9yLlN0eWxlc0FQSS5jbGFzc2VzLFxuICAgICAgdG9vbGJhcjogdGhpcy5FZGl0b3IuVG9vbGJhckFQSS5tZXRob2RzLFxuICAgICAgaW5saW5lVG9vbGJhcjogdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhckFQSS5tZXRob2RzLFxuICAgICAgdG9vbHRpcDogdGhpcy5FZGl0b3IuVG9vbHRpcEFQSS5tZXRob2RzLFxuICAgICAgaTE4bjogdGhpcy5FZGl0b3IuSTE4bkFQSS5tZXRob2RzLFxuICAgICAgcmVhZE9ubHk6IHRoaXMuRWRpdG9yLlJlYWRPbmx5QVBJLm1ldGhvZHMsXG4gICAgICB1aTogdGhpcy5FZGl0b3IuVWlBUEkubWV0aG9kc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgRWRpdG9yLmpzIENvcmUgQVBJIG1ldGhvZHMgZm9yIHBhc3NlZCB0b29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gdG9vbCBvYmplY3RcbiAgICovXG4gIGdldE1ldGhvZHNGb3JUb29sKGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMubWV0aG9kcyxcbiAgICAgIHtcbiAgICAgICAgaTE4bjogdGhpcy5FZGl0b3IuSTE4bkFQSS5nZXRNZXRob2RzRm9yVG9vbChlKVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFF0IGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7SW5saW5lVG9vbGJhcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgb3BlbjogKCkgPT4gdGhpcy5vcGVuKClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIElubGluZSBUb29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIudHJ5VG9TaG93KCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIElubGluZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIGVvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJzfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uOiAoZSwgdCwgbywgaSkgPT4gdGhpcy5vbihlLCB0LCBvLCBpKSxcbiAgICAgIG9mZjogKGUsIHQsIG8sIGkpID0+IHRoaXMub2ZmKGUsIHQsIG8sIGkpLFxuICAgICAgb2ZmQnlJZDogKGUpID0+IHRoaXMub2ZmQnlJZChlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFkcyBhIERPTSBldmVudCBsaXN0ZW5lci4gUmV0dXJuIGl0J3MgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHNldCBoYW5kbGVyIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VDYXB0dXJlIC0gY2FwdHVyZSBldmVudCBvciBub3RcbiAgICovXG4gIG9uKGUsIHQsIG8sIGkpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMub24oZSwgdCwgbywgaSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgRE9NIGxpc3RlbmVyIGZyb20gZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHJlbW92ZSBoYW5kbGVyIGZyb21cbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIGhhbmRsZXIgLSBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQ2FwdHVyZSAtIGNhcHR1cmUgZXZlbnQgb3Igbm90XG4gICAqL1xuICBvZmYoZSwgdCwgbywgaSkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9mZihlLCB0LCBvLCBpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBET00gbGlzdGVuZXIgYnkgdGhlIGxpc3RlbmVyIGlkXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIGlkIG9mIHRoZSBsaXN0ZW5lciB0byByZW1vdmVcbiAgICovXG4gIG9mZkJ5SWQoZSkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9mZkJ5SWQoZSk7XG4gIH1cbn1cbnZhciBMZSA9IHt9LCB0byA9IHtcbiAgZ2V0IGV4cG9ydHMoKSB7XG4gICAgcmV0dXJuIExlO1xuICB9LFxuICBzZXQgZXhwb3J0cyhzKSB7XG4gICAgTGUgPSBzO1xuICB9XG59O1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKG4pIHtcbiAgICAgICAgaWYgKG9bbl0pXG4gICAgICAgICAgcmV0dXJuIG9bbl0uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW25dID0geyBpOiBuLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24obiwgciwgYSkge1xuICAgICAgICBpLm8obiwgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogYSB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKG4gPSBpKG4pKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuICYmIG4uX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgdmFyIGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihhKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbiB9KSwgMiAmIHIgJiYgdHlwZW9mIG4gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBsIGluIG4pXG4gICAgICAgICAgICBpLmQoYSwgbCwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gbltjXTtcbiAgICAgICAgICAgIH0uYmluZChudWxsLCBsKSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IG4gJiYgbi5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG4uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKTtcbiAgICAgIH0sIGkucCA9IFwiL1wiLCBpKGkucyA9IDApO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGkoMSksIC8qIVxuICAgICAgICogQ29kZXggSmF2YVNjcmlwdCBOb3RpZmljYXRpb24gbW9kdWxlXG4gICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29kZXgtdGVhbS9qcy1ub3RpZmllclxuICAgICAgICovXG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG4gPSBpKDYpLCByID0gXCJjZHgtbm90aWZ5LS1ib3VuY2UtaW5cIiwgYSA9IG51bGw7XG4gICAgICAgIHJldHVybiB7IHNob3c6IGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgICBpZiAobC5tZXNzYWdlKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChhKVxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgYSA9IG4uZ2V0V3JhcHBlcigpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIHZhciBjID0gbnVsbCwgdSA9IGwudGltZSB8fCA4ZTM7XG4gICAgICAgICAgICBzd2l0Y2ggKGwudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiY29uZmlybVwiOlxuICAgICAgICAgICAgICAgIGMgPSBuLmNvbmZpcm0obCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRcIjpcbiAgICAgICAgICAgICAgICBjID0gbi5wcm9tcHQobCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYyA9IG4uYWxlcnQobCksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgYy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LCB1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoYyksIGMuY2xhc3NMaXN0LmFkZChyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gfTtcbiAgICAgIH0oKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgbiA9IGkoMik7XG4gICAgICB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIChuID0gW1t0LmksIG4sIFwiXCJdXSk7XG4gICAgICB2YXIgciA9IHsgaG1yOiAhMCwgdHJhbnNmb3JtOiB2b2lkIDAsIGluc2VydEludG86IHZvaWQgMCB9O1xuICAgICAgaSg0KShuLCByKSwgbi5sb2NhbHMgJiYgKHQuZXhwb3J0cyA9IG4ubG9jYWxzKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICAodC5leHBvcnRzID0gaSgzKSghMSkpLnB1c2goW3QuaSwgYC5jZHgtbm90aWZ5LS1lcnJvcntiYWNrZ3JvdW5kOiNmZmZiZmIhaW1wb3J0YW50fS5jZHgtbm90aWZ5LS1lcnJvcjo6YmVmb3Jle2JhY2tncm91bmQ6I2ZiNWQ1ZCFpbXBvcnRhbnR9LmNkeC1ub3RpZnlfX2lucHV0e21heC13aWR0aDoxMzBweDtwYWRkaW5nOjVweCAxMHB4O2JhY2tncm91bmQ6I2Y3ZjdmNztib3JkZXI6MDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTNweDtjb2xvcjojNjU2YjdjO291dGxpbmU6MH0uY2R4LW5vdGlmeV9faW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM2NTZiN2N9LmNkeC1ub3RpZnlfX2lucHV0OjpwbGFjZWhvbGRlcntjb2xvcjojNjU2YjdjfS5jZHgtbm90aWZ5X19pbnB1dDpmb2N1czotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgxMDEsMTA3LDEyNCwuMyl9LmNkeC1ub3RpZnlfX2lucHV0OmZvY3VzOjpwbGFjZWhvbGRlcntjb2xvcjpyZ2JhKDEwMSwxMDcsMTI0LC4zKX0uY2R4LW5vdGlmeV9fYnV0dG9ue2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxM3B4O3BhZGRpbmc6NXB4IDEwcHg7Y3Vyc29yOnBvaW50ZXJ9LmNkeC1ub3RpZnlfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1sZWZ0OjEwcHh9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY2FuY2Vse2JhY2tncm91bmQ6I2YyZjVmNztib3gtc2hhZG93OjAgMnB4IDFweCAwIHJnYmEoMTYsMTksMjksMCk7Y29sb3I6IzY1NmI3Y30uY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWw6aG92ZXJ7YmFja2dyb3VuZDojZWVlfS5jZHgtbm90aWZ5X19idXR0b24tLWNvbmZpcm17YmFja2dyb3VuZDojMzRjOTkyO2JveC1zaGFkb3c6MCAxcHggMXB4IDAgcmdiYSgxOCw0OSwzNSwuMDUpO2NvbG9yOiNmZmZ9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY29uZmlybTpob3ZlcntiYWNrZ3JvdW5kOiMzM2IwODJ9LmNkeC1ub3RpZnlfX2J0bnMtd3JhcHBlcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7bWFyZ2luLXRvcDo1cHh9LmNkeC1ub3RpZnlfX2Nyb3Nze3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7cmlnaHQ6NXB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7cGFkZGluZzo1cHg7b3BhY2l0eTouNTQ7Y3Vyc29yOnBvaW50ZXJ9LmNkeC1ub3RpZnlfX2Nyb3NzOjphZnRlciwuY2R4LW5vdGlmeV9fY3Jvc3M6OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6OXB4O3RvcDo1cHg7aGVpZ2h0OjEycHg7d2lkdGg6MnB4O2JhY2tncm91bmQ6IzU3NWQ2N30uY2R4LW5vdGlmeV9fY3Jvc3M6OmJlZm9yZXt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9LmNkeC1ub3RpZnlfX2Nyb3NzOjphZnRlcnt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uY2R4LW5vdGlmeV9fY3Jvc3M6aG92ZXJ7b3BhY2l0eToxfS5jZHgtbm90aWZpZXN7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyO2JvdHRvbToyMHB4O2xlZnQ6MjBweDtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxcIlNlZ29lIFVJXCIsUm9ib3RvLE94eWdlbixVYnVudHUsQ2FudGFyZWxsLFwiRmlyYSBTYW5zXCIsXCJEcm9pZCBTYW5zXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLHNhbnMtc2VyaWZ9LmNkeC1ub3RpZnl7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjIwcHg7bWFyZ2luLXRvcDoxNXB4O3BhZGRpbmc6MTNweCAxNnB4O2JhY2tncm91bmQ6I2ZmZjtib3gtc2hhZG93OjAgMTFweCAxN3B4IDAgcmdiYSgyMywzMiw2MSwuMTMpO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNGVtO3dvcmQtd3JhcDpicmVhay13b3JkfS5jZHgtbm90aWZ5OjpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3RvcDowO2xlZnQ6MDt3aWR0aDozcHg7aGVpZ2h0OmNhbGMoMTAwJSAtIDZweCk7bWFyZ2luOjNweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOjAgMH1Aa2V5ZnJhbWVzIGJvdW5jZUluezAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjMpfTUwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTcwJXt0cmFuc2Zvcm06c2NhbGUoLjkpfTEwMCV7dHJhbnNmb3JtOnNjYWxlKDEpfX0uY2R4LW5vdGlmeS0tYm91bmNlLWlue2FuaW1hdGlvbi1uYW1lOmJvdW5jZUluO2FuaW1hdGlvbi1kdXJhdGlvbjouNnM7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxfS5jZHgtbm90aWZ5LS1zdWNjZXNze2JhY2tncm91bmQ6I2ZhZmZmZSFpbXBvcnRhbnR9LmNkeC1ub3RpZnktLXN1Y2Nlc3M6OmJlZm9yZXtiYWNrZ3JvdW5kOiM0MWZmYjEhaW1wb3J0YW50fWAsIFwiXCJdKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBuID0gW107XG4gICAgICAgIHJldHVybiBuLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIHZhciBhID0gZnVuY3Rpb24obCwgYykge1xuICAgICAgICAgICAgICB2YXIgdSA9IGxbMV0gfHwgXCJcIiwgaCA9IGxbM107XG4gICAgICAgICAgICAgIGlmICghaClcbiAgICAgICAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgICAgICAgaWYgKGMgJiYgdHlwZW9mIGJ0b2EgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSAocCA9IGgsIFwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocCkpKSkgKyBcIiAqL1wiKSwgdiA9IGguc291cmNlcy5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIiArIGguc291cmNlUm9vdCArIGsgKyBcIiAqL1wiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbdV0uY29uY2F0KHYpLmNvbmNhdChbZl0pLmpvaW4oYFxuYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHA7XG4gICAgICAgICAgICAgIHJldHVybiBbdV0uam9pbihgXG5gKTtcbiAgICAgICAgICAgIH0ociwgaSk7XG4gICAgICAgICAgICByZXR1cm4gclsyXSA/IFwiQG1lZGlhIFwiICsgclsyXSArIFwie1wiICsgYSArIFwifVwiIDogYTtcbiAgICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgICAgICB9LCBuLmkgPSBmdW5jdGlvbihyLCBhKSB7XG4gICAgICAgICAgdHlwZW9mIHIgPT0gXCJzdHJpbmdcIiAmJiAociA9IFtbbnVsbCwgciwgXCJcIl1dKTtcbiAgICAgICAgICBmb3IgKHZhciBsID0ge30sIGMgPSAwOyBjIDwgdGhpcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdmFyIHUgPSB0aGlzW2NdWzBdO1xuICAgICAgICAgICAgdHlwZW9mIHUgPT0gXCJudW1iZXJcIiAmJiAobFt1XSA9ICEwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjID0gMDsgYyA8IHIubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICAgIHZhciBoID0gcltjXTtcbiAgICAgICAgICAgIHR5cGVvZiBoWzBdID09IFwibnVtYmVyXCIgJiYgbFtoWzBdXSB8fCAoYSAmJiAhaFsyXSA/IGhbMl0gPSBhIDogYSAmJiAoaFsyXSA9IFwiKFwiICsgaFsyXSArIFwiKSBhbmQgKFwiICsgYSArIFwiKVwiKSwgbi5wdXNoKGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIG47XG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBuLCByLCBhID0ge30sIGwgPSAobiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHIgPT09IHZvaWQgMCAmJiAociA9IG4uYXBwbHkodGhpcywgYXJndW1lbnRzKSksIHI7XG4gICAgICB9KSwgYyA9IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgdmFyIGcgPSB7fTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKEUpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIEUgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIEUoKTtcbiAgICAgICAgICBpZiAoZ1tFXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YXIgQyA9IGZ1bmN0aW9uKE8pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoTyk7XG4gICAgICAgICAgICB9LmNhbGwodGhpcywgRSk7XG4gICAgICAgICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIEMgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgQyA9IEMuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIEMgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBnW0VdID0gQztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdbRV07XG4gICAgICAgIH07XG4gICAgICB9KCksIHUgPSBudWxsLCBoID0gMCwgZiA9IFtdLCB2ID0gaSg1KTtcbiAgICAgIGZ1bmN0aW9uIHAoYiwgZykge1xuICAgICAgICBmb3IgKHZhciBFID0gMDsgRSA8IGIubGVuZ3RoOyBFKyspIHtcbiAgICAgICAgICB2YXIgQyA9IGJbRV0sIE8gPSBhW0MuaWRdO1xuICAgICAgICAgIGlmIChPKSB7XG4gICAgICAgICAgICBPLnJlZnMrKztcbiAgICAgICAgICAgIGZvciAodmFyIEkgPSAwOyBJIDwgTy5wYXJ0cy5sZW5ndGg7IEkrKylcbiAgICAgICAgICAgICAgTy5wYXJ0c1tJXShDLnBhcnRzW0ldKTtcbiAgICAgICAgICAgIGZvciAoOyBJIDwgQy5wYXJ0cy5sZW5ndGg7IEkrKylcbiAgICAgICAgICAgICAgTy5wYXJ0cy5wdXNoKHgoQy5wYXJ0c1tJXSwgZykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgSCA9IFtdO1xuICAgICAgICAgICAgZm9yIChJID0gMDsgSSA8IEMucGFydHMubGVuZ3RoOyBJKyspXG4gICAgICAgICAgICAgIEgucHVzaCh4KEMucGFydHNbSV0sIGcpKTtcbiAgICAgICAgICAgIGFbQy5pZF0gPSB7IGlkOiBDLmlkLCByZWZzOiAxLCBwYXJ0czogSCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gayhiLCBnKSB7XG4gICAgICAgIGZvciAodmFyIEUgPSBbXSwgQyA9IHt9LCBPID0gMDsgTyA8IGIubGVuZ3RoOyBPKyspIHtcbiAgICAgICAgICB2YXIgSSA9IGJbT10sIEggPSBnLmJhc2UgPyBJWzBdICsgZy5iYXNlIDogSVswXSwgTCA9IHsgY3NzOiBJWzFdLCBtZWRpYTogSVsyXSwgc291cmNlTWFwOiBJWzNdIH07XG4gICAgICAgICAgQ1tIXSA/IENbSF0ucGFydHMucHVzaChMKSA6IEUucHVzaChDW0hdID0geyBpZDogSCwgcGFydHM6IFtMXSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF8oYiwgZykge1xuICAgICAgICB2YXIgRSA9IGMoYi5pbnNlcnRJbnRvKTtcbiAgICAgICAgaWYgKCFFKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgICAgICB2YXIgQyA9IGZbZi5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGIuaW5zZXJ0QXQgPT09IFwidG9wXCIpXG4gICAgICAgICAgQyA/IEMubmV4dFNpYmxpbmcgPyBFLmluc2VydEJlZm9yZShnLCBDLm5leHRTaWJsaW5nKSA6IEUuYXBwZW5kQ2hpbGQoZykgOiBFLmluc2VydEJlZm9yZShnLCBFLmZpcnN0Q2hpbGQpLCBmLnB1c2goZyk7XG4gICAgICAgIGVsc2UgaWYgKGIuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpXG4gICAgICAgICAgRS5hcHBlbmRDaGlsZChnKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBiLmluc2VydEF0ICE9IFwib2JqZWN0XCIgfHwgIWIuaW5zZXJ0QXQuYmVmb3JlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbU3R5bGUgTG9hZGVyXVxuXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXG5gKTtcbiAgICAgICAgICB2YXIgTyA9IGMoYi5pbnNlcnRJbnRvICsgXCIgXCIgKyBiLmluc2VydEF0LmJlZm9yZSk7XG4gICAgICAgICAgRS5pbnNlcnRCZWZvcmUoZywgTyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIEEoYikge1xuICAgICAgICBpZiAoYi5wYXJlbnROb2RlID09PSBudWxsKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO1xuICAgICAgICB2YXIgZyA9IGYuaW5kZXhPZihiKTtcbiAgICAgICAgZyA+PSAwICYmIGYuc3BsaWNlKGcsIDEpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gUihiKSB7XG4gICAgICAgIHZhciBnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICByZXR1cm4gYi5hdHRycy50eXBlID09PSB2b2lkIDAgJiYgKGIuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIiksIHkoZywgYi5hdHRycyksIF8oYiwgZyksIGc7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB5KGIsIGcpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZykuZm9yRWFjaChmdW5jdGlvbihFKSB7XG4gICAgICAgICAgYi5zZXRBdHRyaWJ1dGUoRSwgZ1tFXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24geChiLCBnKSB7XG4gICAgICAgIHZhciBFLCBDLCBPLCBJO1xuICAgICAgICBpZiAoZy50cmFuc2Zvcm0gJiYgYi5jc3MpIHtcbiAgICAgICAgICBpZiAoIShJID0gZy50cmFuc2Zvcm0oYi5jc3MpKSlcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgYi5jc3MgPSBJO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnLnNpbmdsZXRvbikge1xuICAgICAgICAgIHZhciBIID0gaCsrO1xuICAgICAgICAgIEUgPSB1IHx8ICh1ID0gUihnKSksIEMgPSBOLmJpbmQobnVsbCwgRSwgSCwgITEpLCBPID0gTi5iaW5kKG51bGwsIEUsIEgsICEwKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgYi5zb3VyY2VNYXAgJiYgdHlwZW9mIFVSTCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgQmxvYiA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGJ0b2EgPT0gXCJmdW5jdGlvblwiID8gKEUgPSBmdW5jdGlvbihMKSB7XG4gICAgICAgICAgICB2YXIgVyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgcmV0dXJuIEwuYXR0cnMudHlwZSA9PT0gdm9pZCAwICYmIChMLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCIpLCBMLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiLCB5KFcsIEwuYXR0cnMpLCBfKEwsIFcpLCBXO1xuICAgICAgICAgIH0oZyksIEMgPSBmdW5jdGlvbihMLCBXLCBsZSkge1xuICAgICAgICAgICAgdmFyIFEgPSBsZS5jc3MsIEVlID0gbGUuc291cmNlTWFwLCBJdCA9IFcuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB2b2lkIDAgJiYgRWU7XG4gICAgICAgICAgICAoVy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgSXQpICYmIChRID0gdihRKSksIEVlICYmIChRICs9IGBcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsYCArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KEVlKSkpKSArIFwiICovXCIpO1xuICAgICAgICAgICAgdmFyIE10ID0gbmV3IEJsb2IoW1FdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KSwgWGUgPSBMLmhyZWY7XG4gICAgICAgICAgICBMLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKE10KSwgWGUgJiYgVVJMLnJldm9rZU9iamVjdFVSTChYZSk7XG4gICAgICAgICAgfS5iaW5kKG51bGwsIEUsIGcpLCBPID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBKEUpLCBFLmhyZWYgJiYgVVJMLnJldm9rZU9iamVjdFVSTChFLmhyZWYpO1xuICAgICAgICAgIH0pIDogKEUgPSBSKGcpLCBDID0gZnVuY3Rpb24oTCwgVykge1xuICAgICAgICAgICAgdmFyIGxlID0gVy5jc3MsIFEgPSBXLm1lZGlhO1xuICAgICAgICAgICAgaWYgKFEgJiYgTC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBRKSwgTC5zdHlsZVNoZWV0KVxuICAgICAgICAgICAgICBMLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGxlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAoOyBMLmZpcnN0Q2hpbGQ7IClcbiAgICAgICAgICAgICAgICBMLnJlbW92ZUNoaWxkKEwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgIEwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQobnVsbCwgRSksIE8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEEoRSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBDKGIpLCBmdW5jdGlvbihMKSB7XG4gICAgICAgICAgaWYgKEwpIHtcbiAgICAgICAgICAgIGlmIChMLmNzcyA9PT0gYi5jc3MgJiYgTC5tZWRpYSA9PT0gYi5tZWRpYSAmJiBMLnNvdXJjZU1hcCA9PT0gYi5zb3VyY2VNYXApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIEMoYiA9IEwpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgTygpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oYiwgZykge1xuICAgICAgICBpZiAodHlwZW9mIERFQlVHIDwgXCJ1XCIgJiYgREVCVUcgJiYgdHlwZW9mIGRvY3VtZW50ICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuICAgICAgICAoZyA9IGcgfHwge30pLmF0dHJzID0gdHlwZW9mIGcuYXR0cnMgPT0gXCJvYmplY3RcIiA/IGcuYXR0cnMgOiB7fSwgZy5zaW5nbGV0b24gfHwgdHlwZW9mIGcuc2luZ2xldG9uID09IFwiYm9vbGVhblwiIHx8IChnLnNpbmdsZXRvbiA9IGwoKSksIGcuaW5zZXJ0SW50byB8fCAoZy5pbnNlcnRJbnRvID0gXCJoZWFkXCIpLCBnLmluc2VydEF0IHx8IChnLmluc2VydEF0ID0gXCJib3R0b21cIik7XG4gICAgICAgIHZhciBFID0gayhiLCBnKTtcbiAgICAgICAgcmV0dXJuIHAoRSwgZyksIGZ1bmN0aW9uKEMpIHtcbiAgICAgICAgICBmb3IgKHZhciBPID0gW10sIEkgPSAwOyBJIDwgRS5sZW5ndGg7IEkrKykge1xuICAgICAgICAgICAgdmFyIEggPSBFW0ldO1xuICAgICAgICAgICAgKEwgPSBhW0guaWRdKS5yZWZzLS0sIE8ucHVzaChMKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChDICYmIHAoayhDLCBnKSwgZyksIEkgPSAwOyBJIDwgTy5sZW5ndGg7IEkrKykge1xuICAgICAgICAgICAgdmFyIEw7XG4gICAgICAgICAgICBpZiAoKEwgPSBPW0ldKS5yZWZzID09PSAwKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIFcgPSAwOyBXIDwgTC5wYXJ0cy5sZW5ndGg7IFcrKylcbiAgICAgICAgICAgICAgICBMLnBhcnRzW1ddKCk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBhW0wuaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICB2YXIgdywgTSA9ICh3ID0gW10sIGZ1bmN0aW9uKGIsIGcpIHtcbiAgICAgICAgcmV0dXJuIHdbYl0gPSBnLCB3LmZpbHRlcihCb29sZWFuKS5qb2luKGBcbmApO1xuICAgICAgfSk7XG4gICAgICBmdW5jdGlvbiBOKGIsIGcsIEUsIEMpIHtcbiAgICAgICAgdmFyIE8gPSBFID8gXCJcIiA6IEMuY3NzO1xuICAgICAgICBpZiAoYi5zdHlsZVNoZWV0KVxuICAgICAgICAgIGIuc3R5bGVTaGVldC5jc3NUZXh0ID0gTShnLCBPKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIEkgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShPKSwgSCA9IGIuY2hpbGROb2RlcztcbiAgICAgICAgICBIW2ddICYmIGIucmVtb3ZlQ2hpbGQoSFtnXSksIEgubGVuZ3RoID8gYi5pbnNlcnRCZWZvcmUoSSwgSFtnXSkgOiBiLmFwcGVuZENoaWxkKEkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24odCwgbykge1xuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgbiA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIGlmICghbilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgICAgICAgaWYgKCFpIHx8IHR5cGVvZiBpICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIHZhciByID0gbi5wcm90b2NvbCArIFwiLy9cIiArIG4uaG9zdCwgYSA9IHIgKyBuLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuICAgICAgICByZXR1cm4gaS5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24obCwgYykge1xuICAgICAgICAgIHZhciB1LCBoID0gYy50cmltKCkucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKGYsIHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgIH0pLnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24oZiwgdikge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QoaCkgPyBsIDogKHUgPSBoLmluZGV4T2YoXCIvL1wiKSA9PT0gMCA/IGggOiBoLmluZGV4T2YoXCIvXCIpID09PSAwID8gciArIGggOiBhICsgaC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIiksIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkodSkgKyBcIilcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgbiwgciwgYSwgbCwgYywgdSwgaCwgZiwgdjtcbiAgICAgIHQuZXhwb3J0cyA9IChuID0gXCJjZHgtbm90aWZpZXNcIiwgciA9IFwiY2R4LW5vdGlmeVwiLCBhID0gXCJjZHgtbm90aWZ5X19jcm9zc1wiLCBsID0gXCJjZHgtbm90aWZ5X19idXR0b24tLWNvbmZpcm1cIiwgYyA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWxcIiwgdSA9IFwiY2R4LW5vdGlmeV9faW5wdXRcIiwgaCA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uXCIsIGYgPSBcImNkeC1ub3RpZnlfX2J0bnMtd3JhcHBlclwiLCB7IGFsZXJ0OiB2ID0gZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIgayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIiksIF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLCBBID0gcC5tZXNzYWdlLCBSID0gcC5zdHlsZTtcbiAgICAgICAgcmV0dXJuIGsuY2xhc3NMaXN0LmFkZChyKSwgUiAmJiBrLmNsYXNzTGlzdC5hZGQociArIFwiLS1cIiArIFIpLCBrLmlubmVySFRNTCA9IEEsIF8uY2xhc3NMaXN0LmFkZChhKSwgXy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIGsuYXBwZW5kQ2hpbGQoXyksIGs7XG4gICAgICB9LCBjb25maXJtOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBrID0gdihwKSwgXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCBSID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgeSA9IGsucXVlcnlTZWxlY3RvcihcIi5cIiArIGEpLCB4ID0gcC5jYW5jZWxIYW5kbGVyLCB3ID0gcC5va0hhbmRsZXI7XG4gICAgICAgIHJldHVybiBfLmNsYXNzTGlzdC5hZGQoZiksIEEuaW5uZXJIVE1MID0gcC5va1RleHQgfHwgXCJDb25maXJtXCIsIFIuaW5uZXJIVE1MID0gcC5jYW5jZWxUZXh0IHx8IFwiQ2FuY2VsXCIsIEEuY2xhc3NMaXN0LmFkZChoKSwgUi5jbGFzc0xpc3QuYWRkKGgpLCBBLmNsYXNzTGlzdC5hZGQobCksIFIuY2xhc3NMaXN0LmFkZChjKSwgeCAmJiB0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIgJiYgKFIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHgpLCB5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB4KSksIHcgJiYgdHlwZW9mIHcgPT0gXCJmdW5jdGlvblwiICYmIEEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHcpLCBBLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgUi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIF8uYXBwZW5kQ2hpbGQoQSksIF8uYXBwZW5kQ2hpbGQoUiksIGsuYXBwZW5kQ2hpbGQoXyksIGs7XG4gICAgICB9LCBwcm9tcHQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGsgPSB2KHApLCBfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIFIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHkgPSBrLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBhKSwgeCA9IHAuY2FuY2VsSGFuZGxlciwgdyA9IHAub2tIYW5kbGVyO1xuICAgICAgICByZXR1cm4gXy5jbGFzc0xpc3QuYWRkKGYpLCBBLmlubmVySFRNTCA9IHAub2tUZXh0IHx8IFwiT2tcIiwgQS5jbGFzc0xpc3QuYWRkKGgpLCBBLmNsYXNzTGlzdC5hZGQobCksIFIuY2xhc3NMaXN0LmFkZCh1KSwgcC5wbGFjZWhvbGRlciAmJiBSLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIHAucGxhY2Vob2xkZXIpLCBwLmRlZmF1bHQgJiYgKFIudmFsdWUgPSBwLmRlZmF1bHQpLCBwLmlucHV0VHlwZSAmJiAoUi50eXBlID0gcC5pbnB1dFR5cGUpLCB4ICYmIHR5cGVvZiB4ID09IFwiZnVuY3Rpb25cIiAmJiB5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB4KSwgdyAmJiB0eXBlb2YgdyA9PSBcImZ1bmN0aW9uXCIgJiYgQS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdyhSLnZhbHVlKTtcbiAgICAgICAgfSksIEEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGsucmVtb3ZlLmJpbmQoaykpLCBfLmFwcGVuZENoaWxkKFIpLCBfLmFwcGVuZENoaWxkKEEpLCBrLmFwcGVuZENoaWxkKF8pLCBrO1xuICAgICAgfSwgZ2V0V3JhcHBlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgcmV0dXJuIHAuY2xhc3NMaXN0LmFkZChuKSwgcDtcbiAgICAgIH0gfSk7XG4gICAgfV0pO1xuICB9KTtcbn0pKHRvKTtcbmNvbnN0IG9vID0gLyogQF9fUFVSRV9fICovIHhlKExlKTtcbmNsYXNzIGlvIHtcbiAgLyoqXG4gICAqIFNob3cgd2ViIG5vdGlmaWNhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge05vdGlmaWVyT3B0aW9ucyB8IENvbmZpcm1Ob3RpZmllck9wdGlvbnMgfCBQcm9tcHROb3RpZmllck9wdGlvbnN9IG9wdGlvbnMgLSBub3RpZmljYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgc2hvdyhlKSB7XG4gICAgb28uc2hvdyhlKTtcbiAgfVxufVxuY2xhc3Mgbm8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLm5vdGlmaWVyID0gbmV3IGlvKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdzogKGUpID0+IHRoaXMuc2hvdyhlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNob3cgbm90aWZpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7Tm90aWZpZXJPcHRpb25zfSBvcHRpb25zIC0gbWVzc2FnZSBvcHRpb25cbiAgICovXG4gIHNob3coZSkge1xuICAgIHJldHVybiB0aGlzLm5vdGlmaWVyLnNob3coZSk7XG4gIH1cbn1cbmNsYXNzIHNvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgY29uc3QgZSA9ICgpID0+IHRoaXMuaXNFbmFibGVkO1xuICAgIHJldHVybiB7XG4gICAgICB0b2dnbGU6ICh0KSA9PiB0aGlzLnRvZ2dsZSh0KSxcbiAgICAgIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9yIHRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gc3RhdGUgLSBzZXQgb3IgdG9nZ2xlIHN0YXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBjdXJyZW50IHZhbHVlXG4gICAqL1xuICB0b2dnbGUoZSkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5SZWFkT25seS50b2dnbGUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgY3VycmVudCByZWFkLW9ubHkgc3RhdGVcbiAgICovXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZDtcbiAgfVxufVxudmFyIE9lID0ge30sIHJvID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gT2U7XG4gIH0sXG4gIHNldCBleHBvcnRzKHMpIHtcbiAgICBPZSA9IHM7XG4gIH1cbn07XG4oZnVuY3Rpb24ocywgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIHMuZXhwb3J0cyA9IG8oKTtcbiAgfSkoTHQsIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHQoaCkge1xuICAgICAgdmFyIGYgPSBoLnRhZ3MsIHYgPSBPYmplY3Qua2V5cyhmKSwgcCA9IHYubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmW2tdO1xuICAgICAgfSkuZXZlcnkoZnVuY3Rpb24oaykge1xuICAgICAgICByZXR1cm4gayA9PT0gXCJvYmplY3RcIiB8fCBrID09PSBcImJvb2xlYW5cIiB8fCBrID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9KTtcbiAgICAgIGlmICghcClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbmZpZ3VyYXRpb24gd2FzIGludmFsaWRcIik7XG4gICAgICB0aGlzLmNvbmZpZyA9IGg7XG4gICAgfVxuICAgIHZhciBvID0gW1wiUFwiLCBcIkxJXCIsIFwiVERcIiwgXCJUSFwiLCBcIkRJVlwiLCBcIkgxXCIsIFwiSDJcIiwgXCJIM1wiLCBcIkg0XCIsIFwiSDVcIiwgXCJINlwiLCBcIlBSRVwiXTtcbiAgICBmdW5jdGlvbiBpKGgpIHtcbiAgICAgIHJldHVybiBvLmluZGV4T2YoaC5ub2RlTmFtZSkgIT09IC0xO1xuICAgIH1cbiAgICB2YXIgbiA9IFtcIkFcIiwgXCJCXCIsIFwiU1RST05HXCIsIFwiSVwiLCBcIkVNXCIsIFwiU1VCXCIsIFwiU1VQXCIsIFwiVVwiLCBcIlNUUklLRVwiXTtcbiAgICBmdW5jdGlvbiByKGgpIHtcbiAgICAgIHJldHVybiBuLmluZGV4T2YoaC5ub2RlTmFtZSkgIT09IC0xO1xuICAgIH1cbiAgICB0LnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIGNvbnN0IGYgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKSwgdiA9IGYuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJldHVybiB2LmlubmVySFRNTCA9IGgsIHRoaXMuX3Nhbml0aXplKGYsIHYpLCB2LmlubmVySFRNTDtcbiAgICB9LCB0LnByb3RvdHlwZS5fc2FuaXRpemUgPSBmdW5jdGlvbihoLCBmKSB7XG4gICAgICB2YXIgdiA9IGEoaCwgZiksIHAgPSB2LmZpcnN0Q2hpbGQoKTtcbiAgICAgIGlmIChwKVxuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKHAubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKVxuICAgICAgICAgICAgaWYgKHAuZGF0YS50cmltKCkgPT09IFwiXCIgJiYgKHAucHJldmlvdXNFbGVtZW50U2libGluZyAmJiBpKHAucHJldmlvdXNFbGVtZW50U2libGluZykgfHwgcC5uZXh0RWxlbWVudFNpYmxpbmcgJiYgaShwLm5leHRFbGVtZW50U2libGluZykpKSB7XG4gICAgICAgICAgICAgIGYucmVtb3ZlQ2hpbGQocCksIHRoaXMuX3Nhbml0aXplKGgsIGYpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBpZiAocC5ub2RlVHlwZSA9PT0gTm9kZS5DT01NRU5UX05PREUpIHtcbiAgICAgICAgICAgIGYucmVtb3ZlQ2hpbGQocCksIHRoaXMuX3Nhbml0aXplKGgsIGYpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBrID0gcihwKSwgXztcbiAgICAgICAgICBrICYmIChfID0gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChwLmNoaWxkTm9kZXMsIGkpKTtcbiAgICAgICAgICB2YXIgQSA9ICEhZi5wYXJlbnROb2RlLCBSID0gaShmKSAmJiBpKHApICYmIEEsIHkgPSBwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHggPSBsKHRoaXMuY29uZmlnLCB5LCBwKSwgdyA9IGsgJiYgXztcbiAgICAgICAgICBpZiAodyB8fCBjKHAsIHgpIHx8ICF0aGlzLmNvbmZpZy5rZWVwTmVzdGVkQmxvY2tFbGVtZW50cyAmJiBSKSB7XG4gICAgICAgICAgICBpZiAoIShwLm5vZGVOYW1lID09PSBcIlNDUklQVFwiIHx8IHAubm9kZU5hbWUgPT09IFwiU1RZTEVcIikpXG4gICAgICAgICAgICAgIGZvciAoOyBwLmNoaWxkTm9kZXMubGVuZ3RoID4gMDsgKVxuICAgICAgICAgICAgICAgIGYuaW5zZXJ0QmVmb3JlKHAuY2hpbGROb2Rlc1swXSwgcCk7XG4gICAgICAgICAgICBmLnJlbW92ZUNoaWxkKHApLCB0aGlzLl9zYW5pdGl6ZShoLCBmKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBNID0gMDsgTSA8IHAuYXR0cmlidXRlcy5sZW5ndGg7IE0gKz0gMSkge1xuICAgICAgICAgICAgdmFyIE4gPSBwLmF0dHJpYnV0ZXNbTV07XG4gICAgICAgICAgICB1KE4sIHgsIHApICYmIChwLnJlbW92ZUF0dHJpYnV0ZShOLm5hbWUpLCBNID0gTSAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9zYW5pdGl6ZShoLCBwKTtcbiAgICAgICAgfSB3aGlsZSAocCA9IHYubmV4dFNpYmxpbmcoKSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBhKGgsIGYpIHtcbiAgICAgIHJldHVybiBoLmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgIGYsXG4gICAgICAgIE5vZGVGaWx0ZXIuU0hPV19URVhUIHwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgITFcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGwoaCwgZiwgdikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBoLnRhZ3NbZl0gPT0gXCJmdW5jdGlvblwiID8gaC50YWdzW2ZdKHYpIDogaC50YWdzW2ZdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjKGgsIGYpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZiA+IFwidVwiID8gITAgOiB0eXBlb2YgZiA9PSBcImJvb2xlYW5cIiA/ICFmIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHUoaCwgZiwgdikge1xuICAgICAgdmFyIHAgPSBoLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBmID09PSAhMCA/ICExIDogdHlwZW9mIGZbcF0gPT0gXCJmdW5jdGlvblwiID8gIWZbcF0oaC52YWx1ZSwgdikgOiB0eXBlb2YgZltwXSA+IFwidVwiIHx8IGZbcF0gPT09ICExID8gITAgOiB0eXBlb2YgZltwXSA9PSBcInN0cmluZ1wiID8gZltwXSAhPT0gaC52YWx1ZSA6ICExO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfSk7XG59KShybyk7XG5jb25zdCBhbyA9IE9lO1xuZnVuY3Rpb24gaHQocywgZSkge1xuICByZXR1cm4gcy5tYXAoKHQpID0+IHtcbiAgICBjb25zdCBvID0gRChlKSA/IGUodC50b29sKSA6IGU7XG4gICAgcmV0dXJuIFYobykgfHwgKHQuZGF0YSA9IFBlKHQuZGF0YSwgbykpLCB0O1xuICB9KTtcbn1cbmZ1bmN0aW9uIFoocywgZSA9IHt9KSB7XG4gIGNvbnN0IHQgPSB7XG4gICAgdGFnczogZVxuICB9O1xuICByZXR1cm4gbmV3IGFvKHQpLmNsZWFuKHMpO1xufVxuZnVuY3Rpb24gUGUocywgZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShzKSA/IGxvKHMsIGUpIDogaihzKSA/IGNvKHMsIGUpIDogSihzKSA/IGhvKHMsIGUpIDogcztcbn1cbmZ1bmN0aW9uIGxvKHMsIGUpIHtcbiAgcmV0dXJuIHMubWFwKCh0KSA9PiBQZSh0LCBlKSk7XG59XG5mdW5jdGlvbiBjbyhzLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgZm9yIChjb25zdCBvIGluIHMpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBvKSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IGkgPSBzW29dLCBuID0gdW8oZVtvXSkgPyBlW29dIDogZTtcbiAgICB0W29dID0gUGUoaSwgbik7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBobyhzLCBlKSB7XG4gIHJldHVybiBqKGUpID8gWihzLCBlKSA6IGUgPT09ICExID8gWihzLCB7fSkgOiBzO1xufVxuZnVuY3Rpb24gdW8ocykge1xuICByZXR1cm4gaihzKSB8fCBOdChzKSB8fCBEKHMpO1xufVxuY2xhc3MgcG8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xlYW46IChlLCB0KSA9PiB0aGlzLmNsZWFuKGUsIHQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBzYW5pdGl6aW5nIG9mIGEgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWludFN0cmluZyAtIHdoYXQgdG8gc2FuaXRpemVcbiAgICogQHBhcmFtIHtTYW5pdGl6ZXJDb25maWd9IGNvbmZpZyAtIHNhbml0aXplciBjb25maWdcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGNsZWFuKGUsIHQpIHtcbiAgICByZXR1cm4gWihlLCB0KTtcbiAgfVxufVxuY2xhc3MgZm8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYXZlcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzYXZlOiAoKSA9PiB0aGlzLnNhdmUoKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBFZGl0b3IncyBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gXCJFZGl0b3IncyBjb250ZW50IGNhbiBub3QgYmUgc2F2ZWQgaW4gcmVhZC1vbmx5IG1vZGVcIjtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkID8gKEsoZSwgXCJ3YXJuXCIpLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZSkpKSA6IHRoaXMuRWRpdG9yLlNhdmVyLnNhdmUoKTtcbiAgfVxufVxuY2xhc3MgZ28gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTZWxlY3Rpb25BUElJbnRlcmZhY2V9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmluZFBhcmVudFRhZzogKGUsIHQpID0+IHRoaXMuZmluZFBhcmVudFRhZyhlLCB0KSxcbiAgICAgIGV4cGFuZFRvVGFnOiAoZSkgPT4gdGhpcy5leHBhbmRUb1RhZyhlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIExvb2tzIGFoZWFkIGZyb20gc2VsZWN0aW9uIGFuZCBmaW5kIHBhc3NlZCB0YWcgd2l0aCBjbGFzcyBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIC0gdGFnIHRvIGZpbmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIHRhZydzIGNsYXNzIG5hbWVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmaW5kUGFyZW50VGFnKGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IG0oKS5maW5kUGFyZW50VGFnKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBFeHBhbmQgc2VsZWN0aW9uIHRvIHBhc3NlZCB0YWdcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSAtIHRhZyB0aGF0IHNob3VsZCBjb250YWluIHNlbGVjdGlvblxuICAgKi9cbiAgZXhwYW5kVG9UYWcoZSkge1xuICAgIG5ldyBtKCkuZXhwYW5kVG9UYWcoZSk7XG4gIH1cbn1cbmNsYXNzIGJvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBFeHBvcnRlZCBjbGFzc2VzXG4gICAqL1xuICBnZXQgY2xhc3NlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBCYXNlIEJsb2NrIHN0eWxlc1xuICAgICAgICovXG4gICAgICBibG9jazogXCJjZHgtYmxvY2tcIixcbiAgICAgIC8qKlxuICAgICAgICogSW5saW5lIFRvb2xzIHN0eWxlc1xuICAgICAgICovXG4gICAgICBpbmxpbmVUb29sQnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBpbmxpbmVUb29sQnV0dG9uQWN0aXZlOiBcImNlLWlubGluZS10b29sLS1hY3RpdmVcIixcbiAgICAgIC8qKlxuICAgICAgICogVUkgZWxlbWVudHNcbiAgICAgICAqL1xuICAgICAgaW5wdXQ6IFwiY2R4LWlucHV0XCIsXG4gICAgICBsb2FkZXI6IFwiY2R4LWxvYWRlclwiLFxuICAgICAgYnV0dG9uOiBcImNkeC1idXR0b25cIixcbiAgICAgIC8qKlxuICAgICAgICogU2V0dGluZ3Mgc3R5bGVzXG4gICAgICAgKi9cbiAgICAgIHNldHRpbmdzQnV0dG9uOiBcImNkeC1zZXR0aW5ncy1idXR0b25cIixcbiAgICAgIHNldHRpbmdzQnV0dG9uQWN0aXZlOiBcImNkeC1zZXR0aW5ncy1idXR0b24tLWFjdGl2ZVwiXG4gICAgfTtcbiAgfVxufVxuY2xhc3MgbW8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYmFyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICBvcGVuOiAoKSA9PiB0aGlzLm9wZW4oKSxcbiAgICAgIHRvZ2dsZUJsb2NrU2V0dGluZ3M6IChlKSA9PiB0aGlzLnRvZ2dsZUJsb2NrU2V0dGluZ3MoZSksXG4gICAgICB0b2dnbGVUb29sYm94OiAoZSkgPT4gdGhpcy50b2dnbGVUb29sYm94KGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT3BlbiB0b29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdG9vbGJhciBhbmQgYWxsIGluY2x1ZGVkIGVsZW1lbnRzXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgQmxvY2sgU2V0dGluZyBvZiB0aGUgY3VycmVudCBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wZW5pbmdTdGF0ZSBcdTIwMTQgIG9wZW5pbmcgc3RhdGUgb2YgQmxvY2sgU2V0dGluZ1xuICAgKi9cbiAgdG9nZ2xlQmxvY2tTZXR0aW5ncyhlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCA9PT0gLTEpIHtcbiAgICAgIEsoXCJDb3VsZCd0IHRvZ2dsZSB0aGUgVG9vbGJhciBiZWNhdXNlIHRoZXJlIGlzIG5vIGJsb2NrIHNlbGVjdGVkIFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUgPz8gIXRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuKCkpIDogdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHRvb2xib3hcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvcGVuaW5nU3RhdGUgLSBPcGVuaW5nIHN0YXRlIG9mIHRvb2xib3hcbiAgICovXG4gIHRvZ2dsZVRvb2xib3goZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXggPT09IC0xKSB7XG4gICAgICBLKFwiQ291bGQndCB0b2dnbGUgdGhlIFRvb2xib3ggYmVjYXVzZSB0aGVyZSBpcyBubyBibG9jayBzZWxlY3RlZCBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlID8/ICF0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSwgdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW4oKSkgOiB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3guY2xvc2UoKTtcbiAgfVxufVxudmFyIF9lID0ge30sIGtvID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gX2U7XG4gIH0sXG4gIHNldCBleHBvcnRzKHMpIHtcbiAgICBfZSA9IHM7XG4gIH1cbn07XG4vKiFcbiAqIENvZGVYLlRvb2x0aXBzXG4gKiBcbiAqIEB2ZXJzaW9uIDEuMC41XG4gKiBcbiAqIEBsaWNlbmNlIE1JVFxuICogQGF1dGhvciBDb2RlWCA8aHR0cHM6Ly9jb2RleC5zbz5cbiAqIFxuICogXG4gKi9cbihmdW5jdGlvbihzLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgcy5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShuKSB7XG4gICAgICAgIGlmIChvW25dKVxuICAgICAgICAgIHJldHVybiBvW25dLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tuXSA9IHsgaTogbiwgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W25dLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKG4sIHIsIGEpIHtcbiAgICAgICAgaS5vKG4sIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGEgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChuID0gaShuKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgbiAmJiBuLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIHZhciBhID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIoYSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IG4gfSksIDIgJiByICYmIHR5cGVvZiBuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgbCBpbiBuKVxuICAgICAgICAgICAgaS5kKGEsIGwsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5bY107XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgbCkpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0sIGkubiA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIHIgPSBuICYmIG4uX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuLmRlZmF1bHQ7XG4gICAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkuZChyLCBcImFcIiwgciksIHI7XG4gICAgICB9LCBpLm8gPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgcik7XG4gICAgICB9LCBpLnAgPSBcIlwiLCBpKGkucyA9IDApO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHQuZXhwb3J0cyA9IGkoMSk7XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgaS5yKG8pLCBpLmQobywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0pO1xuICAgICAgY2xhc3MgbiB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMubm9kZXMgPSB7IHdyYXBwZXI6IG51bGwsIGNvbnRlbnQ6IG51bGwgfSwgdGhpcy5zaG93ZWQgPSAhMSwgdGhpcy5vZmZzZXRUb3AgPSAxMCwgdGhpcy5vZmZzZXRMZWZ0ID0gMTAsIHRoaXMub2Zmc2V0UmlnaHQgPSAxMCwgdGhpcy5oaWRpbmdEZWxheSA9IDAsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93ZWQgJiYgdGhpcy5oaWRlKCEwKTtcbiAgICAgICAgICB9LCB0aGlzLmxvYWRTdHlsZXMoKSwgdGhpcy5wcmVwYXJlKCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsLCB7IHBhc3NpdmU6ICEwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdldCBDU1MoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdG9vbHRpcDogXCJjdFwiLCB0b29sdGlwQ29udGVudDogXCJjdF9fY29udGVudFwiLCB0b29sdGlwU2hvd246IFwiY3QtLXNob3duXCIsIHBsYWNlbWVudDogeyBsZWZ0OiBcImN0LS1sZWZ0XCIsIGJvdHRvbTogXCJjdC0tYm90dG9tXCIsIHJpZ2h0OiBcImN0LS1yaWdodFwiLCB0b3A6IFwiY3QtLXRvcFwiIH0gfTtcbiAgICAgICAgfVxuICAgICAgICBzaG93KGEsIGwsIGMpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIgfHwgdGhpcy5wcmVwYXJlKCksIHRoaXMuaGlkaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5oaWRpbmdUaW1lb3V0KTtcbiAgICAgICAgICBjb25zdCB1ID0gT2JqZWN0LmFzc2lnbih7IHBsYWNlbWVudDogXCJib3R0b21cIiwgbWFyZ2luVG9wOiAwLCBtYXJnaW5MZWZ0OiAwLCBtYXJnaW5SaWdodDogMCwgbWFyZ2luQm90dG9tOiAwLCBkZWxheTogNzAsIGhpZGluZ0RlbGF5OiAwIH0sIGMpO1xuICAgICAgICAgIGlmICh1LmhpZGluZ0RlbGF5ICYmICh0aGlzLmhpZGluZ0RlbGF5ID0gdS5oaWRpbmdEZWxheSksIHRoaXMubm9kZXMuY29udGVudC5pbm5lckhUTUwgPSBcIlwiLCB0eXBlb2YgbCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGwpKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghKGwgaW5zdGFuY2VvZiBOb2RlKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJbQ29kZVggVG9vbHRpcF0gV3JvbmcgdHlwZSBvZiBcdTAwQUJjb250ZW50XHUwMEJCIHBhc3NlZC4gSXQgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIE5vZGUgb3IgU3RyaW5nLiBCdXQgXCIgKyB0eXBlb2YgbCArIFwiIGdpdmVuLlwiKTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMuY29udGVudC5hcHBlbmRDaGlsZChsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSguLi5PYmplY3QudmFsdWVzKHRoaXMuQ1NTLnBsYWNlbWVudCkpLCB1LnBsYWNlbWVudCkge1xuICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlVG9wKGEsIHUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VMZWZ0KGEsIHUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlUmlnaHQoYSwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhpcy5wbGFjZUJvdHRvbShhLCB1KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdSAmJiB1LmRlbGF5ID8gdGhpcy5zaG93aW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MudG9vbHRpcFNob3duKSwgdGhpcy5zaG93ZWQgPSAhMDtcbiAgICAgICAgICB9LCB1LmRlbGF5KSA6ICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICEwKTtcbiAgICAgICAgfVxuICAgICAgICBoaWRlKGEgPSAhMSkge1xuICAgICAgICAgIGlmICh0aGlzLmhpZGluZ0RlbGF5ICYmICFhKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5oaWRpbmdUaW1lb3V0KSwgdm9pZCAodGhpcy5oaWRpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaGlkZSghMCk7XG4gICAgICAgICAgICB9LCB0aGlzLmhpZGluZ0RlbGF5KSk7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MudG9vbHRpcFNob3duKSwgdGhpcy5zaG93ZWQgPSAhMSwgdGhpcy5zaG93aW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5zaG93aW5nVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgb25Ib3ZlcihhLCBsLCBjKSB7XG4gICAgICAgICAgYS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3coYSwgbCwgYyk7XG4gICAgICAgICAgfSksIGEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIucmVtb3ZlKCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBwcmVwYXJlKCkge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlciA9IHRoaXMubWFrZShcImRpdlwiLCB0aGlzLkNTUy50b29sdGlwKSwgdGhpcy5ub2Rlcy5jb250ZW50ID0gdGhpcy5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2x0aXBDb250ZW50KSwgdGhpcy5hcHBlbmQodGhpcy5ub2Rlcy53cmFwcGVyLCB0aGlzLm5vZGVzLmNvbnRlbnQpLCB0aGlzLmFwcGVuZChkb2N1bWVudC5ib2R5LCB0aGlzLm5vZGVzLndyYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRTdHlsZXMoKSB7XG4gICAgICAgICAgY29uc3QgYSA9IFwiY29kZXgtdG9vbHRpcHMtc3R5bGVcIjtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgbCA9IGkoMiksIGMgPSB0aGlzLm1ha2UoXCJzdHlsZVwiLCBudWxsLCB7IHRleHRDb250ZW50OiBsLnRvU3RyaW5nKCksIGlkOiBhIH0pO1xuICAgICAgICAgIHRoaXMucHJlcGVuZChkb2N1bWVudC5oZWFkLCBjKTtcbiAgICAgICAgfVxuICAgICAgICBwbGFjZUJvdHRvbShhLCBsKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgKyBhLmNsaWVudFdpZHRoIC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIsIGggPSBjLmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldCArIHRoaXMub2Zmc2V0VG9wICsgbC5tYXJnaW5Ub3A7XG4gICAgICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChcImJvdHRvbVwiLCB1LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBwbGFjZVRvcChhLCBsKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgKyBhLmNsaWVudFdpZHRoIC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIHRoaXMubm9kZXMud3JhcHBlci5jbGllbnRIZWlnaHQgLSB0aGlzLm9mZnNldFRvcDtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwidG9wXCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlTGVmdChhLCBsKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgLSB0aGlzLm5vZGVzLndyYXBwZXIub2Zmc2V0V2lkdGggLSB0aGlzLm9mZnNldExlZnQgLSBsLm1hcmdpbkxlZnQsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIGEuY2xpZW50SGVpZ2h0IC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJsZWZ0XCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlUmlnaHQoYSwgbCkge1xuICAgICAgICAgIGNvbnN0IGMgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB1ID0gYy5yaWdodCArIHRoaXMub2Zmc2V0UmlnaHQgKyBsLm1hcmdpblJpZ2h0LCBoID0gYy50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyBhLmNsaWVudEhlaWdodCAvIDIgLSB0aGlzLm5vZGVzLndyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwicmlnaHRcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlQbGFjZW1lbnQoYSwgbCwgYykge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnBsYWNlbWVudFthXSksIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gbCArIFwicHhcIiwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLnRvcCA9IGMgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgbWFrZShhLCBsID0gbnVsbCwgYyA9IHt9KSB7XG4gICAgICAgICAgY29uc3QgdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShsKSA/IHUuY2xhc3NMaXN0LmFkZCguLi5sKSA6IGwgJiYgdS5jbGFzc0xpc3QuYWRkKGwpO1xuICAgICAgICAgIGZvciAoY29uc3QgaCBpbiBjKVxuICAgICAgICAgICAgYy5oYXNPd25Qcm9wZXJ0eShoKSAmJiAodVtoXSA9IGNbaF0pO1xuICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICB9XG4gICAgICAgIGFwcGVuZChhLCBsKSB7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShsKSA/IGwuZm9yRWFjaCgoYykgPT4gYS5hcHBlbmRDaGlsZChjKSkgOiBhLmFwcGVuZENoaWxkKGwpO1xuICAgICAgICB9XG4gICAgICAgIHByZXBlbmQoYSwgbCkge1xuICAgICAgICAgIEFycmF5LmlzQXJyYXkobCkgPyAobCA9IGwucmV2ZXJzZSgpKS5mb3JFYWNoKChjKSA9PiBhLnByZXBlbmQoYykpIDogYS5wcmVwZW5kKGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24odCwgbykge1xuICAgICAgdC5leHBvcnRzID0gYC5jdHt6LWluZGV4Ojk5OTtvcGFjaXR5OjA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbiwtd2Via2l0LXRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO3RyYW5zaXRpb246b3BhY2l0eSA1MG1zIGVhc2UtaW4sdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbix0cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKSwtd2Via2l0LXRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO3dpbGwtY2hhbmdlOm9wYWNpdHksdG9wLGxlZnQ7LXdlYmtpdC1ib3gtc2hhZG93OjAgOHB4IDEycHggMCByZ2JhKDI5LDMyLDQzLC4xNyksMCA0cHggNXB4IC0zcHggcmdiYSg1LDYsMTIsLjQ5KTtib3gtc2hhZG93OjAgOHB4IDEycHggMCByZ2JhKDI5LDMyLDQzLC4xNyksMCA0cHggNXB4IC0zcHggcmdiYSg1LDYsMTIsLjQ5KTtib3JkZXItcmFkaXVzOjlweH0uY3QsLmN0OmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjB9LmN0OmJlZm9yZXtjb250ZW50OlwiXCI7Ym90dG9tOjA7cmlnaHQ6MDtiYWNrZ3JvdW5kLWNvbG9yOiMxZDIwMmI7ei1pbmRleDotMTtib3JkZXItcmFkaXVzOjRweH1Ac3VwcG9ydHMoLXdlYmtpdC1tYXNrLWJveC1pbWFnZTp1cmwoXCJcIikpey5jdDpiZWZvcmV7Ym9yZGVyLXJhZGl1czowOy13ZWJraXQtbWFzay1ib3gtaW1hZ2U6dXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIj48cGF0aCBkPVwiTTEwLjcxIDBoMi41OGMzLjAyIDAgNC42NC40MiA2LjEgMS4yYTguMTggOC4xOCAwIDAxMy40IDMuNEMyMy42IDYuMDcgMjQgNy43IDI0IDEwLjcxdjIuNThjMCAzLjAyLS40MiA0LjY0LTEuMiA2LjFhOC4xOCA4LjE4IDAgMDEtMy40IDMuNGMtMS40Ny44LTMuMSAxLjIxLTYuMTEgMS4yMUgxMC43Yy0zLjAyIDAtNC42NC0uNDItNi4xLTEuMmE4LjE4IDguMTggMCAwMS0zLjQtMy40Qy40IDE3LjkzIDAgMTYuMyAwIDEzLjI5VjEwLjdjMC0zLjAyLjQyLTQuNjQgMS4yLTYuMWE4LjE4IDguMTggMCAwMTMuNC0zLjRDNi4wNy40IDcuNyAwIDEwLjcxIDB6XCIvPjwvc3ZnPicpIDQ4JSA0MSUgMzcuOSUgNTMuMyV9fUBtZWRpYSAoLS1tb2JpbGUpey5jdHtkaXNwbGF5Om5vbmV9fS5jdF9fY29udGVudHtwYWRkaW5nOjZweCAxMHB4O2NvbG9yOiNjZGQxZTA7Zm9udC1zaXplOjEycHg7dGV4dC1hbGlnbjpjZW50ZXI7bGV0dGVyLXNwYWNpbmc6LjAyZW07bGluZS1oZWlnaHQ6MWVtfS5jdDphZnRlcntjb250ZW50OlwiXCI7d2lkdGg6OHB4O2hlaWdodDo4cHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojMWQyMDJiO3otaW5kZXg6LTF9LmN0LS1ib3R0b217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSg1cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDVweCl9LmN0LS1ib3R0b206YWZ0ZXJ7dG9wOi0zcHg7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXRvcHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpfS5jdC0tdG9wOmFmdGVye3RvcDphdXRvO2JvdHRvbTotM3B4O2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1sZWZ0ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9LmN0LS1sZWZ0OmFmdGVye3RvcDo1MCU7bGVmdDphdXRvO3JpZ2h0OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDQxLjYlLC01MCUpIHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUoNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1yaWdodHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KX0uY3QtLXJpZ2h0OmFmdGVye3RvcDo1MCU7bGVmdDowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1zaG93bntvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX1gO1xuICAgIH1dKS5kZWZhdWx0O1xuICB9KTtcbn0pKGtvKTtcbmNvbnN0IHZvID0gLyogQF9fUFVSRV9fICovIHhlKF9lKTtcbmNsYXNzIEZlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5saWIgPSBuZXcgdm8oKTtcbiAgfVxuICAvKipcbiAgICogUmVsZWFzZSB0aGUgbGlicmFyeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmxpYi5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIHRvb2x0aXAgb24gZWxlbWVudCB3aXRoIHBhc3NlZCBIVE1MIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGFueSBIVE1MIGVsZW1lbnQgaW4gRE9NXG4gICAqIEBwYXJhbSBjb250ZW50IC0gdG9vbHRpcCdzIGNvbnRlbnRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBzaG93aW5nIHNldHRpbmdzXG4gICAqL1xuICBzaG93KGUsIHQsIG8pIHtcbiAgICB0aGlzLmxpYi5zaG93KGUsIHQsIG8pO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyB0b29sdGlwXG4gICAqXG4gICAqIEBwYXJhbSBza2lwSGlkaW5nRGVsYXkgXHUyMDE0IHBhc3MgdHJ1ZSB0byBpbW1lZGlhdGVseSBoaWRlIHRoZSB0b29sdGlwXG4gICAqL1xuICBoaWRlKGUgPSAhMSkge1xuICAgIHRoaXMubGliLmhpZGUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmRzICdtb3VzZWVudGVyJyBhbmQgJ21vdXNlbGVhdmUnIGV2ZW50cyB0aGF0IHNob3dzL2hpZGVzIHRoZSBUb29sdGlwXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBhbnkgSFRNTCBlbGVtZW50IGluIERPTVxuICAgKiBAcGFyYW0gY29udGVudCAtIHRvb2x0aXAncyBjb250ZW50XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gc2hvd2luZyBzZXR0aW5nc1xuICAgKi9cbiAgb25Ib3ZlcihlLCB0LCBvKSB7XG4gICAgdGhpcy5saWIub25Ib3ZlcihlLCB0LCBvKTtcbiAgfVxufVxuY2xhc3MgeG8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbiAtIE1vZHVsZSBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZ1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5ldmVudHNEaXNwYXRjaGVyIC0gRWRpdG9yJ3MgZXZlbnQgZGlzcGF0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy50b29sdGlwID0gbmV3IEZlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3kgTW9kdWxlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMudG9vbHRpcC5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdzogKGUsIHQsIG8pID0+IHRoaXMuc2hvdyhlLCB0LCBvKSxcbiAgICAgIGhpZGU6ICgpID0+IHRoaXMuaGlkZSgpLFxuICAgICAgb25Ib3ZlcjogKGUsIHQsIG8pID0+IHRoaXMub25Ib3ZlcihlLCB0LCBvKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBzaG93IHRvb2x0aXAgb24gZWxlbWVudCB3aXRoIHBhc3NlZCBIVE1MIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgb24gd2hpY2ggdG9vbHRpcCBzaG91bGQgYmUgc2hvd25cbiAgICogQHBhcmFtIHtUb29sdGlwQ29udGVudH0gY29udGVudCAtIHRvb2x0aXAgY29udGVudFxuICAgKiBAcGFyYW0ge1Rvb2x0aXBPcHRpb25zfSBvcHRpb25zIC0gdG9vbHRpcCBvcHRpb25zXG4gICAqL1xuICBzaG93KGUsIHQsIG8pIHtcbiAgICB0aGlzLnRvb2x0aXAuc2hvdyhlLCB0LCBvKTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIGhpZGVzIHRvb2x0aXAgb24gSFRNTCBwYWdlXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMudG9vbHRpcC5oaWRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERlY29yYXRvciBmb3Igc2hvd2luZyBUb29sdGlwIGJ5IG1vdXNlZW50ZXIvbW91c2VsZWF2ZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBvbiB3aGljaCB0b29sdGlwIHNob3VsZCBiZSBzaG93blxuICAgKiBAcGFyYW0ge1Rvb2x0aXBDb250ZW50fSBjb250ZW50IC0gdG9vbHRpcCBjb250ZW50XG4gICAqIEBwYXJhbSB7VG9vbHRpcE9wdGlvbnN9IG9wdGlvbnMgLSB0b29sdGlwIG9wdGlvbnNcbiAgICovXG4gIG9uSG92ZXIoZSwgdCwgbykge1xuICAgIHRoaXMudG9vbHRpcC5vbkhvdmVyKGUsIHQsIG8pO1xuICB9XG59XG5jbGFzcyB3byBleHRlbmRzIFMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHMgLyBnZXR0ZXJzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZXM6IHRoaXMuZWRpdG9yTm9kZXNcbiAgICAgIC8qKlxuICAgICAgICogVGhlcmUgY2FuIGJlIGFkZGVkIHNvbWUgVUkgbWV0aG9kcywgbGlrZSB0b2dnbGVUaGluTW9kZSgpIGV0Y1xuICAgICAgICovXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhwb3J0ZWQgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGVkaXRvck5vZGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFRvcC1sZXZlbCBlZGl0b3IgaW5zdGFuY2Ugd3JhcHBlclxuICAgICAgICovXG4gICAgICB3cmFwcGVyOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLFxuICAgICAgLyoqXG4gICAgICAgKiBFbGVtZW50IHRoYXQgaG9sZHMgYWxsIHRoZSBCbG9ja3NcbiAgICAgICAqL1xuICAgICAgcmVkYWN0b3I6IHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gdXQocywgZSkge1xuICBjb25zdCB0ID0ge307XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhzKS5mb3JFYWNoKChbbywgaV0pID0+IHtcbiAgICBpZiAoaihpKSkge1xuICAgICAgY29uc3QgbiA9IGUgPyBgJHtlfS4ke299YCA6IG87XG4gICAgICBPYmplY3QudmFsdWVzKGkpLmV2ZXJ5KChhKSA9PiBKKGEpKSA/IHRbb10gPSBuIDogdFtvXSA9IHV0KGksIG4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0W29dID0gaTtcbiAgfSksIHQ7XG59XG5jb25zdCBYID0gdXQocnQpO1xuZnVuY3Rpb24geW8ocywgZSkge1xuICBjb25zdCB0ID0ge307XG4gIHJldHVybiBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChvKSA9PiB7XG4gICAgY29uc3QgaSA9IGVbb107XG4gICAgaSAhPT0gdm9pZCAwID8gdFtpXSA9IHNbb10gOiB0W29dID0gc1tvXTtcbiAgfSksIHQ7XG59XG5jb25zdCBFbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSAxMkw5IDcuMUM5IDcuMDQ0NzcgOS4wNDQ3NyA3IDkuMSA3SDEwLjRDMTEuNSA3IDE0IDcuMSAxNCA5LjVDMTQgOS41IDE0IDEyIDExIDEyTTkgMTJWMTYuOEM5IDE2LjkxMDUgOS4wODk1NCAxNyA5LjIgMTdIMTIuNUMxNCAxNyAxNSAxNiAxNSAxNC41QzE1IDExLjcwNDYgMTEgMTIgMTEgMTJNOSAxMkgxMVwiLz48L3N2Zz4nLCBwdCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAxMEwxMS44NTg2IDE0Ljg1ODZDMTEuOTM2NyAxNC45MzY3IDEyLjA2MzMgMTQuOTM2NyAxMi4xNDE0IDE0Ljg1ODZMMTcgMTBcIi8+PC9zdmc+JywgQm8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMTVMMTEuODU4NiAxMC4xNDE0QzExLjkzNjcgMTAuMDYzMyAxMi4wNjMzIDEwLjA2MzMgMTIuMTQxNCAxMC4xNDE0TDE3IDE1XCIvPjwvc3ZnPicsIENvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDhMMTIgMTJNMTIgMTJMMTYgMTZNMTIgMTJMMTYgOE0xMiAxMkw4IDE2XCIvPjwvc3ZnPicsIFRvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgU28gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEzLjM0IDEwQzEyLjQyMjMgMTIuNzMzNyAxMSAxNyAxMSAxN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuMjEgN0gxNC4yXCIvPjwvc3ZnPicsIHFlID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03LjY5OTk4IDEyLjZMNy42Nzg5NiAxMi42MkM2LjUzOTkzIDEzLjcwNDggNi41MjAxMiAxNS41MTU1IDcuNjM1MTYgMTYuNjI1VjE2LjYyNUM4LjcyMjkzIDE3LjcwNzMgMTAuNDc5OSAxNy43MTAyIDExLjU3MTIgMTYuNjMxNEwxMy4wMjYzIDE1LjE5M0MxNC4wNzAzIDE0LjE2MDkgMTQuMjE0MSAxMi41MjUgMTMuMzY2MiAxMS4zMjY2TDEzLjIyIDExLjEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNi4yMiAxMS4xMkwxNi4zNTY0IDEwLjk4MDVDMTcuMjg5NSAxMC4wMjY1IDE3LjM0NzggOC41MjA3IDE2LjQ5MTQgNy40OTczM1Y3LjQ5NzMzQzE1LjU2OTEgNi4zOTUwOSAxMy45MjY5IDYuMjUxNDMgMTIuODI3MSA3LjE3Njc1TDExLjM5MDEgOC4zODU4OEMxMC4wOTM1IDkuNDc2NzQgOS45NTcwNiAxMS40MjQxIDExLjA4ODggMTIuNjg1MkwxMS4xMiAxMi43MlwiLz48L3N2Zz4nLCBJbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjQwOTk5IDcuMjk5OTlIOS40XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgNy4yOTk5OUgxNC41OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjMwOTk5IDEySDkuM1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDEySDE0LjU5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuNDA5OTkgMTYuN0g5LjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiAxNi43SDE0LjU5XCIvPjwvc3ZnPicsIE1vID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiA3VjEyTTEyIDE3VjEyTTE3IDEySDEyTTEyIDEySDdcIi8+PC9zdmc+JywgTG8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEwLjVcIiBjeT1cIjEwLjVcIiByPVwiNS41XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjE1LjQxNDJcIiB4Mj1cIjE5XCIgeTE9XCIxNVwiIHkyPVwiMTguNTg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIE9vID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNS43Nzk1IDExLjVDMTUuNzc5NSAxMS41IDE2LjA1MyAxMS4xOTYyIDE2LjU0OTcgMTAuNjcyMkMxNy40NDQyIDkuNzI4NTYgMTcuNDcwMSA4LjI0NzUgMTYuNTc4MSA3LjMwMTQ1VjcuMzAxNDVDMTUuNjQ4MiA2LjMxNTIyIDE0LjA4NzMgNi4yOTIyNyAxMy4xMjg4IDcuMjUwNzNMMTEuODc5NiA4LjQ5OTk5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04LjI0NTE3IDEyLjM4ODNDOC4yNDUxNyAxMi4zODgzIDcuOTcxNzEgMTIuNjkyMiA3LjQ3NTA0IDEzLjIxNjFDNi41ODA1MSAxNC4xNTk4IDYuNTU0NjcgMTUuNjQwOCA3LjQ0NjY2IDE2LjU4NjlWMTYuNTg2OUM4LjM3NjUzIDE3LjU3MzEgOS45Mzc0NCAxNy41OTYxIDEwLjg5NTkgMTYuNjM3NkwxMi4xNDUyIDE1LjM4ODNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3Ljc4MDIgMTUuMTAzMkwxNi41OTcgMTQuOTQyMkMxNi4wMTA5IDE0Ljg2MjQgMTUuNDg0MSAxNS4zMDU5IDE1LjQ2MjcgMTUuODk2OUwxNS40MTk5IDE3LjA4MThcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuMzkwNjQgOS4wMzIzOEw3LjU4NDMyIDkuMDY2NjhDOC4xNzU1MSA5LjA4MzY2IDguNjUyMiA4LjU4NjY1IDguNjEwNTYgNy45OTY2OUw4LjUyNzEgNi44MTM5N1wiLz48bGluZSB4MT1cIjEyLjExNDJcIiB4Mj1cIjExLjdcIiB5MT1cIjEyLjJcIiB5Mj1cIjExLjc4NThcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nO1xuY2xhc3MgUCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHBvcG92ZXIgaXRlbSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBpdGVtIGNvbnN0cnVjdGlvbiBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIGljb246IG51bGxcbiAgICB9LCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gbnVsbCwgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvciA9ICgpID0+IHtcbiAgICAgIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLm5vRm9jdXMpO1xuICAgIH0sIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IgPSAoKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShQLkNTUy5ub0hvdmVyKTtcbiAgICB9LCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLmljb24uY2xhc3NMaXN0LnJlbW92ZShQLkNTUy53b2JibGVBbmltYXRpb24pLCB0aGlzLm5vZGVzLmljb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQpO1xuICAgIH0sIHRoaXMucGFyYW1zID0gZSwgdGhpcy5ub2Rlcy5yb290ID0gdGhpcy5tYWtlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgZGlzYWJsZWQgYW5kIGhlbmNlIG5vdCBjbGlja2FibGVcbiAgICovXG4gIGdldCBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5pc0Rpc2FibGVkO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvc2VzIHBvcG92ZXIgaXRlbSB0b2dnbGUgcGFyYW1ldGVyXG4gICAqL1xuICBnZXQgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50b2dnbGU7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZW0gdGl0bGVcbiAgICovXG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMudGl0bGU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgcG9wb3ZlciBzaG91bGQgY2xvc2Ugb25jZSBpdGVtIGlzIGFjdGl2YXRlZFxuICAgKi9cbiAgZ2V0IGNsb3NlT25BY3RpdmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMuY2xvc2VPbkFjdGl2YXRlO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGNvbmZpcm1hdGlvbiBzdGF0ZSBpcyBlbmFibGVkIGZvciBwb3BvdmVyIGl0ZW1cbiAgICovXG4gIGdldCBpc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maXJtYXRpb25TdGF0ZSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBpdGVtIGlzIGZvY3VzZWQgaW4ga2V5Ym9hcmQgbmF2aWdhdGlvbiBwcm9jZXNzXG4gICAqL1xuICBnZXQgaXNGb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKFAuQ1NTLmZvY3VzZWQpO1xuICB9XG4gIC8qKlxuICAgKiBQb3BvdmVyIGl0ZW0gQ1NTIGNsYXNzZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWluZXI6IFwiY2UtcG9wb3Zlci1pdGVtXCIsXG4gICAgICB0aXRsZTogXCJjZS1wb3BvdmVyLWl0ZW1fX3RpdGxlXCIsXG4gICAgICBzZWNvbmRhcnlUaXRsZTogXCJjZS1wb3BvdmVyLWl0ZW1fX3NlY29uZGFyeS10aXRsZVwiLFxuICAgICAgaWNvbjogXCJjZS1wb3BvdmVyLWl0ZW1fX2ljb25cIixcbiAgICAgIGFjdGl2ZTogXCJjZS1wb3BvdmVyLWl0ZW0tLWFjdGl2ZVwiLFxuICAgICAgZGlzYWJsZWQ6IFwiY2UtcG9wb3Zlci1pdGVtLS1kaXNhYmxlZFwiLFxuICAgICAgZm9jdXNlZDogXCJjZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWRcIixcbiAgICAgIGhpZGRlbjogXCJjZS1wb3BvdmVyLWl0ZW0tLWhpZGRlblwiLFxuICAgICAgY29uZmlybWF0aW9uU3RhdGU6IFwiY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb25cIixcbiAgICAgIG5vSG92ZXI6IFwiY2UtcG9wb3Zlci1pdGVtLS1uby1ob3ZlclwiLFxuICAgICAgbm9Gb2N1czogXCJjZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzXCIsXG4gICAgICB3b2JibGVBbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHBvcG92ZXIgaXRlbSByb290IGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uIHBvcG92ZXIgaXRlbSBjbGlja1xuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuaXNDb25maXJtYXRpb25TdGF0ZUVuYWJsZWQpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5jb25maXJtYXRpb25TdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5wYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gYWN0aXZlIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0FjdGl2ZSAtIHRydWUgaWYgaXRlbSBzaG91bGQgc3RyaWN0bHkgc2hvdWxkIGJlY29tZSBhY3RpdmVcbiAgICovXG4gIHRvZ2dsZUFjdGl2ZShlKSB7XG4gICAgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC50b2dnbGUoUC5DU1MuYWN0aXZlLCBlKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBpdGVtIGhpZGRlbiBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0gaXNIaWRkZW4gLSB0cnVlIGlmIGl0ZW0gc2hvdWxkIGJlIGhpZGRlblxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKGUpIHtcbiAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LnRvZ2dsZShQLkNTUy5oaWRkZW4sIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgcG9wb3ZlciBpdGVtIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZVxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCAmJiB0aGlzLmRpc2FibGVDb25maXJtYXRpb25Nb2RlKCk7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBjYWxsZWQgb25jZSBpdGVtIGJlY29tZXMgZm9jdXNlZCBkdXJpbmcga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKi9cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLmRpc2FibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgSFRNTCBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gcG9wb3ZlciBpdGVtIHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gaXRlbSBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqL1xuICBtYWtlKGUpIHtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLmNvbnRhaW5lcik7XG4gICAgcmV0dXJuIGUubmFtZSAmJiAodC5kYXRhc2V0Lml0ZW1OYW1lID0gZS5uYW1lKSwgdGhpcy5ub2Rlcy5pY29uID0gZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLmljb24sIHtcbiAgICAgIGlubmVySFRNTDogZS5pY29uIHx8IFRvXG4gICAgfSksIHQuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pY29uKSwgdC5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgUC5DU1MudGl0bGUsIHtcbiAgICAgIGlubmVySFRNTDogZS50aXRsZSB8fCBcIlwiXG4gICAgfSkpLCBlLnNlY29uZGFyeUxhYmVsICYmIHQuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLnNlY29uZGFyeVRpdGxlLCB7XG4gICAgICB0ZXh0Q29udGVudDogZS5zZWNvbmRhcnlMYWJlbFxuICAgIH0pKSwgZS5pc0FjdGl2ZSAmJiB0LmNsYXNzTGlzdC5hZGQoUC5DU1MuYWN0aXZlKSwgZS5pc0Rpc2FibGVkICYmIHQuY2xhc3NMaXN0LmFkZChQLkNTUy5kaXNhYmxlZCksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjb25maXJtYXRpb24gbW9kZSBmb3IgdGhlIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdTdGF0ZSAtIG5ldyBwb3BvdmVyIGl0ZW0gcGFyYW1zIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAgICovXG4gIGVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICAuLi50aGlzLnBhcmFtcyxcbiAgICAgIC4uLmUsXG4gICAgICBjb25maXJtYXRpb246IGUuY29uZmlybWF0aW9uXG4gICAgfSwgbyA9IHRoaXMubWFrZSh0KTtcbiAgICB0aGlzLm5vZGVzLnJvb3QuaW5uZXJIVE1MID0gby5pbm5lckhUTUwsIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QuYWRkKFAuQ1NTLmNvbmZpcm1hdGlvblN0YXRlKSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IGUsIHRoaXMuZW5hYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGl0ZW0gdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAqL1xuICBkaXNhYmxlQ29uZmlybWF0aW9uTW9kZSgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5tYWtlKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLm5vZGVzLnJvb3QuaW5uZXJIVE1MID0gZS5pbm5lckhUTUwsIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLmNvbmZpcm1hdGlvblN0YXRlKSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IG51bGwsIHRoaXMuZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBzcGVjaWFsIGZvY3VzIGFuZCBob3ZlciBiZWhhdmlvciBmb3IgaXRlbSBpbiBjb25maXJtYXRpb24gc3RhdGUuXG4gICAqIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnQgaXRlbSBmcm9tIGJlaW5nIGhpZ2hsaWdodGVkIGFzIGhvdmVyZWQvZm9jdXNlZCBqdXN0IGFmdGVyIGNsaWNrLlxuICAgKi9cbiAgZW5hYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpIHtcbiAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmFkZChQLkNTUy5ub0hvdmVyKSwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5hZGQoUC5DU1Mubm9Gb2N1cyksIHRoaXMubm9kZXMucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yLCB7IG9uY2U6ICEwIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBzcGVjaWFsIGZvY3VzIGFuZCBob3ZlciBiZWhhdmlvclxuICAgKi9cbiAgZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKSB7XG4gICAgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvcigpLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKCksIHRoaXMubm9kZXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgaXRlbSdzIG9uQWN0aXZhdGUgY2FsbGJhY2sgaWYgdGhlIGl0ZW0gaGFzIG5vIGNvbmZpcm1hdGlvbiBjb25maWd1cmVkXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBhY3RpdmF0ZSBvciBicmluZyB0byBjb25maXJtYXRpb24gbW9kZVxuICAgKi9cbiAgYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIGlmIChlLmNvbmZpcm1hdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgdHJ5IHtcbiAgICAgICAgZS5vbkFjdGl2YXRlKGUpLCB0aGlzLmRpc2FibGVDb25maXJtYXRpb25Nb2RlKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdGhpcy5hbmltYXRlRXJyb3IoKTtcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICB0aGlzLmVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZS5jb25maXJtYXRpb24pO1xuICB9XG4gIC8qKlxuICAgKiBBbmltYXRlcyBpdGVtIHdoaWNoIHN5bWJvbGl6ZXMgdGhhdCBlcnJvciBvY2N1cmVkIHdoaWxlIGV4ZWN1dGluZyAnb25BY3RpdmF0ZSgpJyBjYWxsYmFja1xuICAgKi9cbiAgYW5pbWF0ZUVycm9yKCkge1xuICAgIHRoaXMubm9kZXMuaWNvbi5jbGFzc0xpc3QuY29udGFpbnMoUC5DU1Mud29iYmxlQW5pbWF0aW9uKSB8fCAodGhpcy5ub2Rlcy5pY29uLmNsYXNzTGlzdC5hZGQoUC5DU1Mud29iYmxlQW5pbWF0aW9uKSwgdGhpcy5ub2Rlcy5pY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5vbkVycm9yQW5pbWF0aW9uRW5kKSk7XG4gIH1cbn1cbmNvbnN0IGNlID0gY2xhc3Mge1xuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudFtdfSBub2RlTGlzdCBcdTIwMTQgdGhlIGxpc3Qgb2YgaXRlcmFibGUgSFRNTC1pdGVtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9jdXNlZENzc0NsYXNzIC0gdXNlci1wcm92aWRlZCBDU1MtY2xhc3MgdGhhdCB3aWxsIGJlIHNldCBpbiBmbGlwcGluZyBwcm9jZXNzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzLCBlKSB7XG4gICAgdGhpcy5jdXJzb3IgPSAtMSwgdGhpcy5pdGVtcyA9IFtdLCB0aGlzLml0ZW1zID0gcyB8fCBbXSwgdGhpcy5mb2N1c2VkQ3NzQ2xhc3MgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEZvY3VzZWQgYnV0dG9uIE5vZGVcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gLTEgPyBudWxsIDogdGhpcy5pdGVtc1t0aGlzLmN1cnNvcl07XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIHRvIHNwZWNpZmllZCBwb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY3Vyc29yUG9zaXRpb24gLSBuZXcgY3Vyc29yIHBvc2l0aW9uXG4gICAqL1xuICBzZXRDdXJzb3Iocykge1xuICAgIHMgPCB0aGlzLml0ZW1zLmxlbmd0aCAmJiBzID49IC0xICYmICh0aGlzLmRyb3BDdXJzb3IoKSwgdGhpcy5jdXJzb3IgPSBzLCB0aGlzLml0ZW1zW3RoaXMuY3Vyc29yXS5jbGFzc0xpc3QuYWRkKHRoaXMuZm9jdXNlZENzc0NsYXNzKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgaXRlbXMuIENhbiBiZSB1c2VkIHdoZW4gaXRlcmFibGUgaXRlbXMgY2hhbmdlZCBkeW5hbWljYWxseVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50W119IG5vZGVMaXN0IC0gbm9kZXMgdG8gaXRlcmF0ZVxuICAgKi9cbiAgc2V0SXRlbXMocykge1xuICAgIHRoaXMuaXRlbXMgPSBzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciBuZXh0IHRvIHRoZSBjdXJyZW50XG4gICAqL1xuICBuZXh0KCkge1xuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5sZWFmTm9kZXNBbmRSZXR1cm5JbmRleChjZS5kaXJlY3Rpb25zLlJJR0hUKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgYmVmb3JlIGN1cnJlbnRcbiAgICovXG4gIHByZXZpb3VzKCkge1xuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5sZWFmTm9kZXNBbmRSZXR1cm5JbmRleChjZS5kaXJlY3Rpb25zLkxFRlQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciB0byB0aGUgZGVmYXVsdCBwb3NpdGlvbiBhbmQgcmVtb3ZlcyBDU1MtY2xhc3MgZnJvbSBwcmV2aW91c2x5IGZvY3VzZWQgaXRlbVxuICAgKi9cbiAgZHJvcEN1cnNvcigpIHtcbiAgICB0aGlzLmN1cnNvciAhPT0gLTEgJiYgKHRoaXMuaXRlbXNbdGhpcy5jdXJzb3JdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCB0aGlzLmN1cnNvciA9IC0xKTtcbiAgfVxuICAvKipcbiAgICogTGVhZnMgbm9kZXMgaW5zaWRlIHRoZSB0YXJnZXQgbGlzdCBmcm9tIGFjdGl2ZSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gLSBsZWFmIGRpcmVjdGlvbi4gQ2FuIGJlICdsZWZ0JyBvciAncmlnaHQnXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IG9mIGZvY3VzZWQgbm9kZVxuICAgKi9cbiAgbGVhZk5vZGVzQW5kUmV0dXJuSW5kZXgocykge1xuICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICBsZXQgZSA9IHRoaXMuY3Vyc29yO1xuICAgIHJldHVybiBlID09PSAtMSA/IGUgPSBzID09PSBjZS5kaXJlY3Rpb25zLlJJR0hUID8gLTEgOiAwIDogdGhpcy5pdGVtc1tlXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9jdXNlZENzc0NsYXNzKSwgcyA9PT0gY2UuZGlyZWN0aW9ucy5SSUdIVCA/IGUgPSAoZSArIDEpICUgdGhpcy5pdGVtcy5sZW5ndGggOiBlID0gKHRoaXMuaXRlbXMubGVuZ3RoICsgZSAtIDEpICUgdGhpcy5pdGVtcy5sZW5ndGgsIGQuY2FuU2V0Q2FyZXQodGhpcy5pdGVtc1tlXSkgJiYgb2UoKCkgPT4gbS5zZXRDdXJzb3IodGhpcy5pdGVtc1tlXSksIDUwKSgpLCB0aGlzLml0ZW1zW2VdLmNsYXNzTGlzdC5hZGQodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCBlO1xuICB9XG59O1xubGV0IG5lID0gY2U7XG5uZS5kaXJlY3Rpb25zID0ge1xuICBSSUdIVDogXCJyaWdodFwiLFxuICBMRUZUOiBcImxlZnRcIlxufTtcbmNsYXNzIEcge1xuICAvKipcbiAgICogQHBhcmFtIHtGbGlwcGVyT3B0aW9uc30gb3B0aW9ucyAtIGRpZmZlcmVudCBjb25zdHJ1Y3Rpbmcgc2V0dGluZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLml0ZXJhdG9yID0gbnVsbCwgdGhpcy5hY3RpdmF0ZWQgPSAhMSwgdGhpcy5mbGlwQ2FsbGJhY2tzID0gW10sIHRoaXMub25LZXlEb3duID0gKHQpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRXZlbnRSZWFkeUZvckhhbmRsaW5nKHQpKVxuICAgICAgICBzd2l0Y2ggKEcudXNlZEtleXMuaW5jbHVkZXModC5rZXlDb2RlKSAmJiB0LnByZXZlbnREZWZhdWx0KCksIHQua2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgQi5UQUI6XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRhYlByZXNzKHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLkxFRlQ6XG4gICAgICAgICAgY2FzZSBCLlVQOlxuICAgICAgICAgICAgdGhpcy5mbGlwTGVmdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLlJJR0hUOlxuICAgICAgICAgIGNhc2UgQi5ET1dOOlxuICAgICAgICAgICAgdGhpcy5mbGlwUmlnaHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQi5FTlRFUjpcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRW50ZXJQcmVzcyh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSwgdGhpcy5pdGVyYXRvciA9IG5ldyBuZShlLml0ZW1zLCBlLmZvY3VzZWRJdGVtQ2xhc3MpLCB0aGlzLmFjdGl2YXRlQ2FsbGJhY2sgPSBlLmFjdGl2YXRlQ2FsbGJhY2ssIHRoaXMuYWxsb3dlZEtleXMgPSBlLmFsbG93ZWRLZXlzIHx8IEcudXNlZEtleXM7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgZmxpcHBlciBpcyBjdXJyZW50bHkgYWN0aXZhdGVkXG4gICAqL1xuICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkO1xuICB9XG4gIC8qKlxuICAgKiBBcnJheSBvZiBrZXlzIChjb2RlcykgdGhhdCBpcyBoYW5kbGVkIGJ5IEZsaXBwZXJcbiAgICogVXNlZCB0bzpcbiAgICogIC0gcHJldmVudERlZmF1bHQgb25seSBmb3IgdGhpcyBrZXlzLCBub3QgYWxsIGtleWRvd25zIChAc2VlIGNvbnN0cnVjdG9yKVxuICAgKiAgLSB0byBza2lwIGV4dGVybmFsIGJlaGF2aW91cnMgb25seSBmb3IgdGhlc2Uga2V5cywgd2hlbiBmaWxsZXIgaXMgYWN0aXZhdGVkIChAc2VlIEJsb2NrRXZlbnRzQGFycm93UmlnaHRBbmREb3duKVxuICAgKi9cbiAgc3RhdGljIGdldCB1c2VkS2V5cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgQi5UQUIsXG4gICAgICBCLkxFRlQsXG4gICAgICBCLlJJR0hULFxuICAgICAgQi5FTlRFUixcbiAgICAgIEIuVVAsXG4gICAgICBCLkRPV05cbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmUgdGFiL2Fycm93cyBoYW5kbGluZyBieSBmbGlwcGVyXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyAtIFNvbWUgbW9kdWxlcyAobGlrZSwgSW5saW5lVG9vbGJhciwgQmxvY2tTZXR0aW5ncykgbWlnaHQgcmVmcmVzaCBidXR0b25zIGR5bmFtaWNhbGx5XG4gICAqIEBwYXJhbSBjdXJzb3JQb3NpdGlvbiAtIGluZGV4IG9mIHRoZSBpdGVtIHRoYXQgc2hvdWxkIGJlIGZvY3VzZWQgb25jZSBmbGlwcGVyIGlzIGFjdGl2YXRlZFxuICAgKi9cbiAgYWN0aXZhdGUoZSwgdCkge1xuICAgIHRoaXMuYWN0aXZhdGVkID0gITAsIGUgJiYgdGhpcy5pdGVyYXRvci5zZXRJdGVtcyhlKSwgdCAhPT0gdm9pZCAwICYmIHRoaXMuaXRlcmF0b3Iuc2V0Q3Vyc29yKHQpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIHRhYi9hcnJvd3MgaGFuZGxpbmcgYnkgZmxpcHBlclxuICAgKi9cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmFjdGl2YXRlZCA9ICExLCB0aGlzLmRyb3BDdXJzb3IoKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1cyBmaXJzdCBpdGVtXG4gICAqL1xuICBmb2N1c0ZpcnN0KCkge1xuICAgIHRoaXMuZHJvcEN1cnNvcigpLCB0aGlzLmZsaXBSaWdodCgpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIHByZXZpb3VzIGZsaXBwZXIgaXRlcmF0b3IgaXRlbVxuICAgKi9cbiAgZmxpcExlZnQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5wcmV2aW91cygpLCB0aGlzLmZsaXBDYWxsYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIG5leHQgZmxpcHBlciBpdGVyYXRvciBpdGVtXG4gICAqL1xuICBmbGlwUmlnaHQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5uZXh0KCksIHRoaXMuZmxpcENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIHNvbWUgYnV0dG9uIGlzIGZvY3VzZWRcbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiAhIXRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW07XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgb24gZWFjaCBuYXZpZ2F0aW9uIGFjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY2IgLSBmdW5jdGlvbiB0byBleGVjdXRlXG4gICAqL1xuICBvbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcy5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBpcyBleGVjdXRlZCBvbiBlYWNoIG5hdmlnYXRpb24gYWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYiAtIGZ1bmN0aW9uIHRvIHN0b3AgZXhlY3V0aW5nXG4gICAqL1xuICByZW1vdmVPbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcyA9IHRoaXMuZmxpcENhbGxiYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IGUpO1xuICB9XG4gIC8qKlxuICAgKiBEcm9wcyBmbGlwcGVyJ3MgaXRlcmF0b3IgY3Vyc29yXG4gICAqXG4gICAqIEBzZWUgRG9tSXRlcmF0b3IjZHJvcEN1cnNvclxuICAgKi9cbiAgZHJvcEN1cnNvcigpIHtcbiAgICB0aGlzLml0ZXJhdG9yLmRyb3BDdXJzb3IoKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBmaXJlZCBiZWZvcmUgaGFuZGxpbmcgZmxpcHBlciBrZXljb2Rlc1xuICAgKiBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gZGVmaW5lcyBpZiBpdCBpcyBuZWVkIHRvIGJlIGhhbmRsZWQgb3Igbm90XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duIGtleWJvYXJkIGV2ZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNFdmVudFJlYWR5Rm9ySGFuZGxpbmcoZSkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZCAmJiB0aGlzLmFsbG93ZWRLZXlzLmluY2x1ZGVzKGUua2V5Q29kZSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gZmxpcHBlciBpcyBhY3RpdmF0ZWQgdGFiIHByZXNzIHdpbGwgbGVhZiB0aGUgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIHRhYiBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBoYW5kbGVUYWJQcmVzcyhlKSB7XG4gICAgc3dpdGNoIChlLnNoaWZ0S2V5ID8gbmUuZGlyZWN0aW9ucy5MRUZUIDogbmUuZGlyZWN0aW9ucy5SSUdIVCkge1xuICAgICAgY2FzZSBuZS5kaXJlY3Rpb25zLlJJR0hUOlxuICAgICAgICB0aGlzLmZsaXBSaWdodCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgbmUuZGlyZWN0aW9ucy5MRUZUOlxuICAgICAgICB0aGlzLmZsaXBMZWZ0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3Mgd2lsbCBjbGljayBjdXJyZW50IGl0ZW0gaWYgZmxpcHBlciBpcyBhY3RpdmF0ZWRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGVudGVyIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZUVudGVyUHJlc3MoZSkge1xuICAgIHRoaXMuYWN0aXZhdGVkICYmICh0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtICYmIChlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0uY2xpY2soKSksIEQodGhpcy5hY3RpdmF0ZUNhbGxiYWNrKSAmJiB0aGlzLmFjdGl2YXRlQ2FsbGJhY2sodGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlZCBhZnRlciBmbGlwcGluZyBpbiBhbnkgZGlyZWN0aW9uXG4gICAqL1xuICBmbGlwQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSAmJiB0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKSwgdGhpcy5mbGlwQ2FsbGJhY2tzLmZvckVhY2goKGUpID0+IGUoKSk7XG4gIH1cbn1cbmNsYXNzIHVlIHtcbiAgLyoqXG4gICAqIFN0eWxlc1xuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyYXBwZXI6IFwiY2R4LXNlYXJjaC1maWVsZFwiLFxuICAgICAgaWNvbjogXCJjZHgtc2VhcmNoLWZpZWxkX19pY29uXCIsXG4gICAgICBpbnB1dDogXCJjZHgtc2VhcmNoLWZpZWxkX19pbnB1dFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgY29uZmlnXG4gICAqIEBwYXJhbSBvcHRpb25zLml0ZW1zIC0gc2VhcmNoYWJsZSBpdGVtcyBsaXN0XG4gICAqIEBwYXJhbSBvcHRpb25zLm9uU2VhcmNoIC0gc2VhcmNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBvcHRpb25zLnBsYWNlaG9sZGVyIC0gaW5wdXQgcGxhY2Vob2xkZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXM6IGUsIG9uU2VhcmNoOiB0LCBwbGFjZWhvbGRlcjogbyB9KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgUmUoKSwgdGhpcy5pdGVtcyA9IGUsIHRoaXMub25TZWFyY2ggPSB0LCB0aGlzLnJlbmRlcihvKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWFyY2ggZmllbGQgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGZvY3VzIHRvIHRoZSBpbnB1dFxuICAgKi9cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgc2VhcmNoIHF1ZXJ5IGFuZCByZXN1bHRzXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIiwgdGhpcy5zZWFyY2hRdWVyeSA9IFwiXCIsIHRoaXMub25TZWFyY2goXCJcIiwgdGhpcy5mb3VuZEl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5yZW1vdmVBbGwoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgc2VhcmNoIGZpZWxkXG4gICAqXG4gICAqIEBwYXJhbSBwbGFjZWhvbGRlciAtIGlucHV0IHBsYWNlaG9sZGVyXG4gICAqL1xuICByZW5kZXIoZSkge1xuICAgIHRoaXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCB1ZS5DU1Mud3JhcHBlcik7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiLCB1ZS5DU1MuaWNvbiwge1xuICAgICAgaW5uZXJIVE1MOiBMb1xuICAgIH0pO1xuICAgIHRoaXMuaW5wdXQgPSBkLm1ha2UoXCJpbnB1dFwiLCB1ZS5DU1MuaW5wdXQsIHtcbiAgICAgIHBsYWNlaG9sZGVyOiBlXG4gICAgfSksIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaW5wdXQpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLmlucHV0LCBcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSB0aGlzLmlucHV0LnZhbHVlLCB0aGlzLm9uU2VhcmNoKHRoaXMuc2VhcmNoUXVlcnksIHRoaXMuZm91bmRJdGVtcyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBmb3VuZCBpdGVtcyBmb3IgdGhlIGN1cnJlbnQgc2VhcmNoIHF1ZXJ5XG4gICAqL1xuICBnZXQgZm91bmRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKGUpID0+IHRoaXMuY2hlY2tJdGVtKGUpKTtcbiAgfVxuICAvKipcbiAgICogQ29udGFpbnMgbG9naWMgZm9yIGNoZWNraW5nIHdoZXRoZXIgcGFzc2VkIGl0ZW0gY29uZm9ybXMgdGhlIHNlYXJjaCBxdWVyeVxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gYmUgY2hlY2tlZFxuICAgKi9cbiAgY2hlY2tJdGVtKGUpIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCB0ID0gKChpID0gZS50aXRsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkudG9Mb3dlckNhc2UoKSkgfHwgXCJcIiwgbyA9IHRoaXMuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdC5pbmNsdWRlcyhvKTtcbiAgfVxufVxuY29uc3QgZGUgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBMb2NrcyBib2R5IGVsZW1lbnQgc2Nyb2xsXG4gICAqL1xuICBsb2NrKCkge1xuICAgIEdlID8gdGhpcy5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGRlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBVbmxvY2tzIGJvZHkgZWxlbWVudCBzY3JvbGxcbiAgICovXG4gIHVubG9jaygpIHtcbiAgICBHZSA/IHRoaXMudW5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKGRlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBMb2NrcyBzY3JvbGwgaW4gYSBoYXJkIHdheSAodmlhIHNldHRpbmcgZml4ZWQgcG9zaXRpb24gdG8gYm9keSBlbGVtZW50KVxuICAgKi9cbiAgbG9ja0hhcmQoKSB7XG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgXCItLXdpbmRvdy1zY3JvbGwtb2Zmc2V0XCIsXG4gICAgICBgJHt0aGlzLnNjcm9sbFBvc2l0aW9ufXB4YFxuICAgICksIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChkZS5DU1Muc2Nyb2xsTG9ja2VkSGFyZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVubG9ja3MgaGFyZCBzY3JvbGwgbG9ja1xuICAgKi9cbiAgdW5sb2NrSGFyZCgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoZGUuQ1NTLnNjcm9sbExvY2tlZEhhcmQpLCB0aGlzLnNjcm9sbFBvc2l0aW9uICE9PSBudWxsICYmIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLnNjcm9sbFBvc2l0aW9uKSwgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIH1cbn07XG5sZXQgZnQgPSBkZTtcbmZ0LkNTUyA9IHtcbiAgc2Nyb2xsTG9ja2VkOiBcImNlLXNjcm9sbC1sb2NrZWRcIixcbiAgc2Nyb2xsTG9ja2VkSGFyZDogXCJjZS1zY3JvbGwtbG9ja2VkLS1oYXJkXCJcbn07XG52YXIgX28gPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIEFvID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgTm8gPSAocywgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gQW8oZSwgdCkgOiBlLCBuID0gcy5sZW5ndGggLSAxLCByOyBuID49IDA7IG4tLSlcbiAgICAociA9IHNbbl0pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgX28oZSwgdCwgaSksIGk7XG59LCBmZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLkNsb3NlID0gXCJjbG9zZVwiLCBzKSkoZmUgfHwge30pO1xuY29uc3QgeiA9IGNsYXNzIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIHBvcG92ZXIgY29uc3RydWN0aW9uIHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3Iocykge1xuICAgIHN1cGVyKCksIHRoaXMuc2NvcGVFbGVtZW50ID0gZG9jdW1lbnQuYm9keSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgUmUoKSwgdGhpcy5zY3JvbGxMb2NrZXIgPSBuZXcgZnQoKSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHdyYXBwZXI6IG51bGwsXG4gICAgICBwb3BvdmVyOiBudWxsLFxuICAgICAgbm90aGluZ0ZvdW5kTWVzc2FnZTogbnVsbCxcbiAgICAgIGN1c3RvbUNvbnRlbnQ6IG51bGwsXG4gICAgICBpdGVtczogbnVsbCxcbiAgICAgIG92ZXJsYXk6IG51bGxcbiAgICB9LCB0aGlzLm1lc3NhZ2VzID0ge1xuICAgICAgbm90aGluZ0ZvdW5kOiBcIk5vdGhpbmcgZm91bmRcIixcbiAgICAgIHNlYXJjaDogXCJTZWFyY2hcIlxuICAgIH0sIHRoaXMub25GbGlwID0gKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtcy5maW5kKCh0KSA9PiB0LmlzRm9jdXNlZCkub25Gb2N1cygpO1xuICAgIH0sIHRoaXMuaXRlbXMgPSBzLml0ZW1zLm1hcCgoZSkgPT4gbmV3IFAoZSkpLCBzLnNjb3BlRWxlbWVudCAhPT0gdm9pZCAwICYmICh0aGlzLnNjb3BlRWxlbWVudCA9IHMuc2NvcGVFbGVtZW50KSwgcy5tZXNzYWdlcyAmJiAodGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgIC4uLnRoaXMubWVzc2FnZXMsXG4gICAgICAuLi5zLm1lc3NhZ2VzXG4gICAgfSksIHMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zICYmICh0aGlzLmN1c3RvbUNvbnRlbnRGbGlwcGFibGVJdGVtcyA9IHMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zKSwgdGhpcy5tYWtlKCksIHMuY3VzdG9tQ29udGVudCAmJiB0aGlzLmFkZEN1c3RvbUNvbnRlbnQocy5jdXN0b21Db250ZW50KSwgcy5zZWFyY2hhYmxlICYmIHRoaXMuYWRkU2VhcmNoKCksIHRoaXMuaW5pdGlhbGl6ZUZsaXBwZXIoKTtcbiAgfVxuICAvKipcbiAgICogUG9wb3ZlciBDU1MgY2xhc3Nlc1xuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvcG92ZXI6IFwiY2UtcG9wb3ZlclwiLFxuICAgICAgcG9wb3Zlck9wZW5Ub3A6IFwiY2UtcG9wb3Zlci0tb3Blbi10b3BcIixcbiAgICAgIHBvcG92ZXJPcGVuZWQ6IFwiY2UtcG9wb3Zlci0tb3BlbmVkXCIsXG4gICAgICBzZWFyY2g6IFwiY2UtcG9wb3Zlcl9fc2VhcmNoXCIsXG4gICAgICBub3RoaW5nRm91bmRNZXNzYWdlOiBcImNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZVwiLFxuICAgICAgbm90aGluZ0ZvdW5kTWVzc2FnZURpc3BsYXllZDogXCJjZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2UtLWRpc3BsYXllZFwiLFxuICAgICAgY3VzdG9tQ29udGVudDogXCJjZS1wb3BvdmVyX19jdXN0b20tY29udGVudFwiLFxuICAgICAgY3VzdG9tQ29udGVudEhpZGRlbjogXCJjZS1wb3BvdmVyX19jdXN0b20tY29udGVudC0taGlkZGVuXCIsXG4gICAgICBpdGVtczogXCJjZS1wb3BvdmVyX19pdGVtc1wiLFxuICAgICAgb3ZlcmxheTogXCJjZS1wb3BvdmVyX19vdmVybGF5XCIsXG4gICAgICBvdmVybGF5SGlkZGVuOiBcImNlLXBvcG92ZXJfX292ZXJsYXktLWhpZGRlblwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcG9wb3ZlclxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgc29tZSBpdGVtIGluc2lkZSBwb3BvdmVyIGlzIGZvY3VzZWRcbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLmZsaXBwZXIuaGFzRm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBwb3BvdmVyXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuc2hvdWxkT3BlbkJvdHRvbSB8fCAodGhpcy5ub2Rlcy5wb3BvdmVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS1wb3BvdmVyLWhlaWdodFwiLCB0aGlzLmhlaWdodCArIFwicHhcIiksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QuYWRkKHouQ1NTLnBvcG92ZXJPcGVuVG9wKSksIHRoaXMubm9kZXMub3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKHouQ1NTLm92ZXJsYXlIaWRkZW4pLCB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LmFkZCh6LkNTUy5wb3BvdmVyT3BlbmVkKSwgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKHRoaXMuZmxpcHBhYmxlRWxlbWVudHMpLCB0aGlzLnNlYXJjaCAhPT0gdm9pZCAwICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2guZm9jdXMoKTtcbiAgICB9LCAxMDApLCBlZSgpICYmIHRoaXMuc2Nyb2xsTG9ja2VyLmxvY2soKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIHBvcG92ZXJcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoei5DU1MucG9wb3Zlck9wZW5lZCksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QucmVtb3ZlKHouQ1NTLnBvcG92ZXJPcGVuVG9wKSwgdGhpcy5ub2Rlcy5vdmVybGF5LmNsYXNzTGlzdC5hZGQoei5DU1Mub3ZlcmxheUhpZGRlbiksIHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMuaXRlbXMuZm9yRWFjaCgocykgPT4gcy5yZXNldCgpKSwgdGhpcy5zZWFyY2ggIT09IHZvaWQgMCAmJiB0aGlzLnNlYXJjaC5jbGVhcigpLCBlZSgpICYmIHRoaXMuc2Nyb2xsTG9ja2VyLnVubG9jaygpLCB0aGlzLmVtaXQoXG4gICAgICBcImNsb3NlXCJcbiAgICAgIC8qIENsb3NlICovXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmxpc3RlbmVycy5yZW1vdmVBbGwoKSwgZWUoKSAmJiB0aGlzLnNjcm9sbExvY2tlci51bmxvY2soKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBwb3BvdmVyXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMucG9wb3ZlciA9IGQubWFrZShcImRpdlwiLCBbei5DU1MucG9wb3Zlcl0pLCB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UgPSBkLm1ha2UoXCJkaXZcIiwgW3ouQ1NTLm5vdGhpbmdGb3VuZE1lc3NhZ2VdLCB7XG4gICAgICB0ZXh0Q29udGVudDogdGhpcy5tZXNzYWdlcy5ub3RoaW5nRm91bmRcbiAgICB9KSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMubm90aGluZ0ZvdW5kTWVzc2FnZSksIHRoaXMubm9kZXMuaXRlbXMgPSBkLm1ha2UoXCJkaXZcIiwgW3ouQ1NTLml0ZW1zXSksIHRoaXMuaXRlbXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgdGhpcy5ub2Rlcy5pdGVtcy5hcHBlbmRDaGlsZChzLmdldEVsZW1lbnQoKSk7XG4gICAgfSksIHRoaXMubm9kZXMucG9wb3Zlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLml0ZW1zKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5wb3BvdmVyLCBcImNsaWNrXCIsIChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gdGhpcy5nZXRUYXJnZXRJdGVtKHMpO1xuICAgICAgZSAhPT0gdm9pZCAwICYmIHRoaXMuaGFuZGxlSXRlbUNsaWNrKGUpO1xuICAgIH0pLCB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiksIHRoaXMubm9kZXMub3ZlcmxheSA9IGQubWFrZShcImRpdlwiLCBbei5DU1Mub3ZlcmxheSwgei5DU1Mub3ZlcmxheUhpZGRlbl0pLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLm92ZXJsYXksIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSksIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLm92ZXJsYXkpLCB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5wb3BvdmVyKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBzZWFyY2ggdG8gdGhlIHBvcG92ZXJcbiAgICovXG4gIGFkZFNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaCA9IG5ldyB1ZSh7XG4gICAgICBpdGVtczogdGhpcy5pdGVtcyxcbiAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLm1lc3NhZ2VzLnNlYXJjaCxcbiAgICAgIG9uU2VhcmNoOiAoZSwgdCkgPT4ge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICBjb25zdCBuID0gIXQuaW5jbHVkZXMoaSk7XG4gICAgICAgICAgaS50b2dnbGVIaWRkZW4obik7XG4gICAgICAgIH0pLCB0aGlzLnRvZ2dsZU5vdGhpbmdGb3VuZE1lc3NhZ2UodC5sZW5ndGggPT09IDApLCB0aGlzLnRvZ2dsZUN1c3RvbUNvbnRlbnQoZSAhPT0gXCJcIik7XG4gICAgICAgIGNvbnN0IG8gPSBlID09PSBcIlwiID8gdGhpcy5mbGlwcGFibGVFbGVtZW50cyA6IHQubWFwKChpKSA9PiBpLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIHRoaXMuZmxpcHBlci5pc0FjdGl2YXRlZCAmJiAodGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKG8pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzID0gdGhpcy5zZWFyY2guZ2V0RWxlbWVudCgpO1xuICAgIHMuY2xhc3NMaXN0LmFkZCh6LkNTUy5zZWFyY2gpLCB0aGlzLm5vZGVzLnBvcG92ZXIuaW5zZXJ0QmVmb3JlKHMsIHRoaXMubm9kZXMucG9wb3Zlci5maXJzdENoaWxkKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBjdXN0b20gaHRtbCBjb250ZW50IHRvIHRoZSBwb3BvdmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZW50IC0gaHRtbCBjb250ZW50IHRvIGFwcGVuZFxuICAgKi9cbiAgYWRkQ3VzdG9tQ29udGVudChzKSB7XG4gICAgdGhpcy5ub2Rlcy5jdXN0b21Db250ZW50ID0gcywgdGhpcy5ub2Rlcy5jdXN0b21Db250ZW50LmNsYXNzTGlzdC5hZGQoei5DU1MuY3VzdG9tQ29udGVudCksIHRoaXMubm9kZXMucG9wb3Zlci5pbnNlcnRCZWZvcmUocywgdGhpcy5ub2Rlcy5wb3BvdmVyLmZpcnN0Q2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcG9wb3ZlciBpdGVtIHRoYXQgaXMgdGhlIHRhcmdldCBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSBldmVudCAtIGV2ZW50IHRvIHJldHJpZXZlIHBvcG92ZXIgaXRlbSBmcm9tXG4gICAqL1xuICBnZXRUYXJnZXRJdGVtKHMpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maW5kKChlKSA9PiBzLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGUuZ2V0RWxlbWVudCgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgaXRlbSBjbGlja3NcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGhhbmRsZSBjbGljayBvZlxuICAgKi9cbiAgaGFuZGxlSXRlbUNsaWNrKHMpIHtcbiAgICBzLmlzRGlzYWJsZWQgfHwgKHRoaXMuaXRlbXMuZmlsdGVyKChlKSA9PiBlICE9PSBzKS5mb3JFYWNoKChlKSA9PiBlLnJlc2V0KCkpLCBzLmhhbmRsZUNsaWNrKCksIHRoaXMudG9nZ2xlSXRlbUFjdGl2ZW5lc3NJZk5lZWRlZChzKSwgcy5jbG9zZU9uQWN0aXZhdGUgJiYgdGhpcy5oaWRlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIEZsaXBwZXIgaW5zdGFuY2Ugd2hpY2ggYWxsb3dzIHRvIG5hdmlnYXRlIGJldHdlZW4gcG9wb3ZlciBpdGVtcyB2aWEga2V5Ym9hcmRcbiAgICovXG4gIGluaXRpYWxpemVGbGlwcGVyKCkge1xuICAgIHRoaXMuZmxpcHBlciA9IG5ldyBHKHtcbiAgICAgIGl0ZW1zOiB0aGlzLmZsaXBwYWJsZUVsZW1lbnRzLFxuICAgICAgZm9jdXNlZEl0ZW1DbGFzczogUC5DU1MuZm9jdXNlZCxcbiAgICAgIGFsbG93ZWRLZXlzOiBbXG4gICAgICAgIEIuVEFCLFxuICAgICAgICBCLlVQLFxuICAgICAgICBCLkRPV04sXG4gICAgICAgIEIuRU5URVJcbiAgICAgIF1cbiAgICB9KSwgdGhpcy5mbGlwcGVyLm9uRmxpcCh0aGlzLm9uRmxpcCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBlbGVtZW50cyBhdmFpbGFibGUgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqIENvbnRhaW5zIGJvdGggdXN1YWwgcG9wb3ZlciBpdGVtcyBlbGVtZW50cyBhbmQgY3VzdG9tIGh0bWwgY29udGVudC5cbiAgICovXG4gIGdldCBmbGlwcGFibGVFbGVtZW50cygpIHtcbiAgICBjb25zdCBzID0gdGhpcy5pdGVtcy5tYXAoKHQpID0+IHQuZ2V0RWxlbWVudCgpKTtcbiAgICByZXR1cm4gKHRoaXMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zIHx8IFtdKS5jb25jYXQocyk7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICBsZXQgcyA9IDA7XG4gICAgaWYgKHRoaXMubm9kZXMucG9wb3ZlciA9PT0gbnVsbClcbiAgICAgIHJldHVybiBzO1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLnBvcG92ZXIuY2xvbmVOb2RlKCEwKTtcbiAgICByZXR1cm4gZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIiwgZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgZS5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIiwgZS5jbGFzc0xpc3QuYWRkKHouQ1NTLnBvcG92ZXJPcGVuZWQpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLCBzID0gZS5vZmZzZXRIZWlnaHQsIGUucmVtb3ZlKCksIHM7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBwb3BvdmVyIHNob3VsZCBiZSBvcGVuZWQgYm90dG9tLlxuICAgKiBJdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGJlbG93IG9yIG5vdCBlbm91Z2ggc3BhY2UgYWJvdmVcbiAgICovXG4gIGdldCBzaG91bGRPcGVuQm90dG9tKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLm5vZGVzLnBvcG92ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGUgPSB0aGlzLnNjb3BlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdCA9IHRoaXMuaGVpZ2h0LCBvID0gcy50b3AgKyB0LCBpID0gcy50b3AgLSB0LCBuID0gTWF0aC5taW4od2luZG93LmlubmVySGVpZ2h0LCBlLmJvdHRvbSk7XG4gICAgcmV0dXJuIGkgPCBlLnRvcCB8fCBvIDw9IG47XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgbm90aGluZyBmb3VuZCBtZXNzYWdlIHZpc2liaWxpdHlcbiAgICpcbiAgICogQHBhcmFtIGlzRGlzcGxheWVkIC0gdHJ1ZSBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqL1xuICB0b2dnbGVOb3RoaW5nRm91bmRNZXNzYWdlKHMpIHtcbiAgICB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UuY2xhc3NMaXN0LnRvZ2dsZSh6LkNTUy5ub3RoaW5nRm91bmRNZXNzYWdlRGlzcGxheWVkLCBzKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBjdXN0b20gY29udGVudCB2aXNpYmlsaXR5XG4gICAqXG4gICAqIEBwYXJhbSBpc0Rpc3BsYXllZCAtIHRydWUgaWYgY3VzdG9tIGNvbnRlbnQgc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgdG9nZ2xlQ3VzdG9tQ29udGVudChzKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLm5vZGVzLmN1c3RvbUNvbnRlbnQpID09IG51bGwgfHwgZS5jbGFzc0xpc3QudG9nZ2xlKHouQ1NTLmN1c3RvbUNvbnRlbnRIaWRkZW4sIHMpO1xuICB9XG4gIC8qKlxuICAgKiAtIFRvZ2dsZXMgaXRlbSBhY3RpdmUgc3RhdGUsIGlmIGNsaWNrZWQgcG9wb3ZlciBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gdHJ1ZS5cbiAgICpcbiAgICogLSBQZXJmb3JtcyByYWRpb2J1dHRvbi1saWtlIGJlaGF2aW9yIGlmIHRoZSBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gc3RyaW5nIGtleS5cbiAgICogKEFsbCB0aGUgb3RoZXIgaXRlbXMgd2l0aCB0aGUgc2FtZSBrZXkgZ2V0IGluYWN0aXZlLCBhbmQgdGhlIGl0ZW0gZ2V0cyBhY3RpdmUpXG4gICAqXG4gICAqIEBwYXJhbSBjbGlja2VkSXRlbSAtIHBvcG92ZXIgaXRlbSB0aGF0IHdhcyBjbGlja2VkXG4gICAqL1xuICB0b2dnbGVJdGVtQWN0aXZlbmVzc0lmTmVlZGVkKHMpIHtcbiAgICBpZiAocy50b2dnbGUgPT09ICEwICYmIHMudG9nZ2xlQWN0aXZlKCksIHR5cGVvZiBzLnRvZ2dsZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5pdGVtcy5maWx0ZXIoKHQpID0+IHQudG9nZ2xlID09PSBzLnRvZ2dsZSk7XG4gICAgICBpZiAoZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcy50b2dnbGVBY3RpdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIHQudG9nZ2xlQWN0aXZlKHQgPT09IHMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xubGV0IEhlID0gejtcbk5vKFtcbiAgYWVcbl0sIEhlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgMSk7XG5jbGFzcyBSbyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBtKCksIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIEV2ZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7e29wZW5lZDogc3RyaW5nLCBjbG9zZWQ6IHN0cmluZ319XG4gICAqL1xuICBnZXQgZXZlbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuZWQ6IFwiYmxvY2stc2V0dGluZ3Mtb3BlbmVkXCIsXG4gICAgICBjbG9zZWQ6IFwiYmxvY2stc2V0dGluZ3MtY2xvc2VkXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBTZXR0aW5ncyBDU1NcbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldHRpbmdzOiBcImNlLXNldHRpbmdzXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXR0ZXIgZm9yIGlubmVyIHBvcG92ZXIncyBmbGlwcGVyIGluc3RhbmNlXG4gICAqXG4gICAqIEB0b2RvIHJlbW92ZSBvbmNlIEJsb2NrU2V0dGluZ3MgYmVjb21lcyBzdGFuZGFsb25lIG5vbi1tb2R1bGUgY2xhc3NcbiAgICovXG4gIGdldCBmbGlwcGVyKCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiAoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZmxpcHBlcjtcbiAgfVxuICAvKipcbiAgICogUGFuZWwgd2l0aCBibG9jayBzZXR0aW5ncyB3aXRoIDIgc2VjdGlvbnM6XG4gICAqICAtIFRvb2wncyBTZXR0aW5nc1xuICAgKiAgLSBEZWZhdWx0IFNldHRpbmdzIFtNb3ZlLCBSZW1vdmUsIGV0Y11cbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFt0aGlzLkNTUy5zZXR0aW5nc10pO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyBtb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxOb2RlcygpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIEJsb2NrIFNldHRpbmdzIHBhbmVcbiAgICpcbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIC0gbmVhciB3aGljaCBCbG9jayB3ZSBzaG91bGQgb3BlbiBCbG9ja1NldHRpbmdzXG4gICAqL1xuICBvcGVuKGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpLCBlLnNlbGVjdGVkID0gITAsIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyQ2FjaGUoKTtcbiAgICBjb25zdCBbdCwgb10gPSBlLmdldFR1bmVzKCk7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMub3BlbmVkKSwgdGhpcy5wb3BvdmVyID0gbmV3IEhlKHtcbiAgICAgIHNlYXJjaGFibGU6ICEwLFxuICAgICAgaXRlbXM6IHQubWFwKChpKSA9PiB0aGlzLnJlc29sdmVUdW5lQWxpYXNlcyhpKSksXG4gICAgICBjdXN0b21Db250ZW50OiBvLFxuICAgICAgY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zOiB0aGlzLmdldENvbnRyb2xzKG8pLFxuICAgICAgc2NvcGVFbGVtZW50OiB0aGlzLkVkaXRvci5BUEkubWV0aG9kcy51aS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogJC51aShYLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKSxcbiAgICAgICAgc2VhcmNoOiAkLnVpKFgudWkucG9wb3ZlciwgXCJGaWx0ZXJcIilcbiAgICAgIH1cbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKGZlLkNsb3NlLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZCh0aGlzLnBvcG92ZXIuZ2V0RWxlbWVudCgpKSwgdGhpcy5wb3BvdmVyLnNob3coKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyByb290IGJsb2NrIHNldHRpbmdzIGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgQmxvY2sgU2V0dGluZ3MgcGFuZVxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMSwgbS5pc0F0RWRpdG9yIHx8IHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24uY2xlYXJTYXZlZCgpLCAhdGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi5pc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suc2VsZWN0ZWQgPSAhMSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KHRoaXMuZXZlbnRzLmNsb3NlZCksIHRoaXMucG9wb3ZlciAmJiAodGhpcy5wb3BvdmVyLm9mZihmZS5DbG9zZSwgdGhpcy5vblBvcG92ZXJDbG9zZSksIHRoaXMucG9wb3Zlci5kZXN0cm95KCksIHRoaXMucG9wb3Zlci5nZXRFbGVtZW50KCkucmVtb3ZlKCksIHRoaXMucG9wb3ZlciA9IG51bGwpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3Qgb2YgYnV0dG9ucyBhbmQgaW5wdXRzIGluc2lkZSBzcGVjaWZpZWQgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBjb250YWluZXIgdG8gcXVlcnkgY29udHJvbHMgaW5zaWRlIG9mXG4gICAqL1xuICBnZXRDb250cm9scyhlKSB7XG4gICAgY29uc3QgeyBTdHlsZXNBUEk6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gZS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgYC4ke3QuY2xhc3Nlcy5zZXR0aW5nc0J1dHRvbn0sICR7ZC5hbGxJbnB1dHNTZWxlY3Rvcn1gXG4gICAgKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgfVxuICAvKipcbiAgICogUmVzb2x2ZXMgYWxpYXNlcyBpbiB0dW5lcyBtZW51IGl0ZW1zXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB3aXRoIHJlc29sdmVkIGFsaWFzZXNcbiAgICovXG4gIHJlc29sdmVUdW5lQWxpYXNlcyhlKSB7XG4gICAgY29uc3QgdCA9IHlvKGUsIHsgbGFiZWw6IFwidGl0bGVcIiB9KTtcbiAgICByZXR1cm4gZS5jb25maXJtYXRpb24gJiYgKHQuY29uZmlybWF0aW9uID0gdGhpcy5yZXNvbHZlVHVuZUFsaWFzZXMoZS5jb25maXJtYXRpb24pKSwgdDtcbiAgfVxufVxuY2xhc3MgWSBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnRvb2xzID0gW10sIHRoaXMuZmxpcHBlciA9IG51bGwsIHRoaXMudG9nZ2xpbmdDYWxsYmFjayA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBnZXR0ZXJcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb252ZXJzaW9uVG9vbGJhcldyYXBwZXI6IFwiY2UtY29udmVyc2lvbi10b29sYmFyXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbGJhclNob3dlZDogXCJjZS1jb252ZXJzaW9uLXRvb2xiYXItLXNob3dlZFwiLFxuICAgICAgY29udmVyc2lvblRvb2xiYXJUb29sczogXCJjZS1jb252ZXJzaW9uLXRvb2xiYXJfX3Rvb2xzXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbGJhckxhYmVsOiBcImNlLWNvbnZlcnNpb24tdG9vbGJhcl9fbGFiZWxcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sOiBcImNlLWNvbnZlcnNpb24tdG9vbFwiLFxuICAgICAgY29udmVyc2lvblRvb2xIaWRkZW46IFwiY2UtY29udmVyc2lvbi10b29sLS1oaWRkZW5cIixcbiAgICAgIGNvbnZlcnNpb25Ub29sSWNvbjogXCJjZS1jb252ZXJzaW9uLXRvb2xfX2ljb25cIixcbiAgICAgIGNvbnZlcnNpb25Ub29sRm9jdXNlZDogXCJjZS1jb252ZXJzaW9uLXRvb2wtLWZvY3VzZWRcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sQWN0aXZlOiBcImNlLWNvbnZlcnNpb24tdG9vbC0tYWN0aXZlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVUkgb2YgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICBZLkNTUy5jb252ZXJzaW9uVG9vbGJhcldyYXBwZXIsXG4gICAgICAuLi50aGlzLmlzUnRsID8gW3RoaXMuRWRpdG9yLlVJLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy50b29scyA9IGQubWFrZShcImRpdlwiLCBZLkNTUy5jb252ZXJzaW9uVG9vbGJhclRvb2xzKTtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIFkuQ1NTLmNvbnZlcnNpb25Ub29sYmFyTGFiZWwsIHtcbiAgICAgIHRleHRDb250ZW50OiAkLnVpKFgudWkuaW5saW5lVG9vbGJhci5jb252ZXJ0ZXIsIFwiQ29udmVydCB0b1wiKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmFkZFRvb2xzKCksIHRoaXMuZW5hYmxlRmxpcHBlcigpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIGUpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMudG9vbHMpLCB0aGlzLm5vZGVzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIERlYWN0aXZhdGVzIGZsaXBwZXIgYW5kIHJlbW92ZXMgYWxsIG5vZGVzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZmxpcHBlciAmJiAodGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5mbGlwcGVyID0gbnVsbCksIHRoaXMucmVtb3ZlQWxsTm9kZXMoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIGNvbnZlcnNpb24gZHJvcGRvd24gdmlzaWJpbGl0eVxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdG9nZ2xpbmdDYWxsYmFja10gXHUyMDE0IGNhbGxiYWNrIHRoYXQgd2lsbCBhY2NlcHQgb3BlbmluZyBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlKGUpIHtcbiAgICB0aGlzLm9wZW5lZCA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpLCBEKGUpICYmICh0aGlzLnRvZ2dsaW5nQ2FsbGJhY2sgPSBlKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuZmlsdGVyVG9vbHMoKSwgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoWS5DU1MuY29udmVyc2lvblRvb2xiYXJTaG93ZWQpLCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuZmxpcHBlci5hY3RpdmF0ZSh0aGlzLnRvb2xzLm1hcCgoZSkgPT4gZS5idXR0b24pLmZpbHRlcigoZSkgPT4gIWUuY2xhc3NMaXN0LmNvbnRhaW5zKFkuQ1NTLmNvbnZlcnNpb25Ub29sSGlkZGVuKSkpLCB0aGlzLmZsaXBwZXIuZm9jdXNGaXJzdCgpLCBEKHRoaXMudG9nZ2xpbmdDYWxsYmFjaykgJiYgdGhpcy50b2dnbGluZ0NhbGxiYWNrKCEwKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIENvbnZlcnNpb24gVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoWS5DU1MuY29udmVyc2lvblRvb2xiYXJTaG93ZWQpLCBEKHRoaXMudG9nZ2xpbmdDYWxsYmFjaykgJiYgdGhpcy50b2dnbGluZ0NhbGxiYWNrKCExKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGl0IGhhcyBtb3JlIHRoYW4gb25lIHRvb2wgYXZhaWxhYmxlIGZvciBjb252ZXJ0IGluXG4gICAqL1xuICBoYXNUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy50b29scy5sZW5ndGggPT09IDEgPyB0aGlzLnRvb2xzWzBdLm5hbWUgIT09IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA6ICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyBvbmUgQmxvY2sgd2l0aCBhbm90aGVyXG4gICAqIEZvciB0aGF0IFRvb2xzIG11c3QgcHJvdmlkZSBpbXBvcnQvZXhwb3J0IG1ldGhvZHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcGxhY2luZ1Rvb2xOYW1lIC0gbmFtZSBvZiBUb29sIHdoaWNoIHJlcGxhY2VzIGN1cnJlbnRcbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIEJsb2NrIGRhdGEgb3ZlcnJpZGVzLiBDb3VsZCBiZSBwYXNzZWQgaW4gY2FzZSBpZiBNdWx0aXBsZSBUb29sYm94IGl0ZW1zIHNwZWNpZmllZFxuICAgKi9cbiAgYXN5bmMgcmVwbGFjZVdpdGhCbG9jayhlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sudG9vbCwgbiA9IChhd2FpdCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLnNhdmUoKSkuZGF0YSwgciA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpO1xuICAgIGxldCBhID0gXCJcIjtcbiAgICBjb25zdCBsID0gby5jb252ZXJzaW9uQ29uZmlnLmV4cG9ydDtcbiAgICBpZiAoRChsKSlcbiAgICAgIGEgPSBsKG4pO1xuICAgIGVsc2UgaWYgKEoobCkpXG4gICAgICBhID0gbltsXTtcbiAgICBlbHNlIHtcbiAgICAgIFQoXCJDb252ZXJzaW9uIFx1MDBBQmV4cG9ydFx1MDBCQiBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLiBTdHJpbmcgbWVhbnMga2V5IG9mIHNhdmVkIGRhdGEgb2JqZWN0IHRvIGV4cG9ydC4gRnVuY3Rpb24gc2hvdWxkIGV4cG9ydCBwcm9jZXNzZWQgc3RyaW5nIHRvIGV4cG9ydC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGMgPSBaKFxuICAgICAgYSxcbiAgICAgIHIuc2FuaXRpemVDb25maWdcbiAgICApO1xuICAgIGxldCB1ID0ge307XG4gICAgY29uc3QgaCA9IHIuY29udmVyc2lvbkNvbmZpZy5pbXBvcnQ7XG4gICAgaWYgKEQoaCkpXG4gICAgICB1ID0gaChjKTtcbiAgICBlbHNlIGlmIChKKGgpKVxuICAgICAgdVtoXSA9IGM7XG4gICAgZWxzZSB7XG4gICAgICBUKFwiQ29udmVyc2lvbiBcdTAwQUJpbXBvcnRcdTAwQkIgcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvbi4gU3RyaW5nIG1lYW5zIGtleSBvZiB0b29sIGRhdGEgdG8gaW1wb3J0LiBGdW5jdGlvbiBhY2NlcHRzIGEgaW1wb3J0ZWQgc3RyaW5nIGFuZCByZXR1cm4gY29tcG9zZWQgdG9vbCBkYXRhLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdCAmJiAodSA9IE9iamVjdC5hc3NpZ24odSwgdCkpLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucmVwbGFjZSh7XG4gICAgICB0b29sOiBlLFxuICAgICAgZGF0YTogdVxuICAgIH0pLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLCB0aGlzLmNsb3NlKCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKSwgb2UoKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKTtcbiAgICB9LCAxMCkoKTtcbiAgfVxuICAvKipcbiAgICogSXRlcmF0ZXMgZXhpc3RpbmcgVG9vbHMgYW5kIGluc2VydHMgdG8gdGhlIENvbnZlcnNpb25Ub29sYmFyXG4gICAqIGlmIHRvb2xzIGhhdmUgYWJpbGl0eSB0byBpbXBvcnRcbiAgICovXG4gIGFkZFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzO1xuICAgIEFycmF5LmZyb20oZS5lbnRyaWVzKCkpLmZvckVhY2goKFt0LCBvXSkgPT4ge1xuICAgICAgY29uc3QgaSA9IG8uY29udmVyc2lvbkNvbmZpZztcbiAgICAgICFpIHx8ICFpLmltcG9ydCB8fCBvLnRvb2xib3guZm9yRWFjaChcbiAgICAgICAgKG4pID0+IHRoaXMuYWRkVG9vbElmVmFsaWQodCwgbilcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgYSB0b29sIHRvIHRoZSBDb252ZXJzaW9uVG9vbGJhciBpZiB0aGUgdG9vbCdzIHRvb2xib3ggY29uZmlnIGlzIHZhbGlkXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gdG9vbCdzIG5hbWVcbiAgICogQHBhcmFtIHRvb2xib3hTZXR0aW5ncyAtIHRvb2wncyBzaW5nbGUgdG9vbGJveCBzZXR0aW5nXG4gICAqL1xuICBhZGRUb29sSWZWYWxpZChlLCB0KSB7XG4gICAgVih0KSB8fCAhdC5pY29uIHx8IHRoaXMuYWRkVG9vbChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogQWRkIHRvb2wgdG8gdGhlIENvbnZlcnNpb24gVG9vbGJhclxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgLSBuYW1lIG9mIFRvb2wgdG8gYWRkXG4gICAqIEBwYXJhbSB0b29sYm94SXRlbSAtIHRvb2wncyB0b29sYm94IGl0ZW0gZGF0YVxuICAgKi9cbiAgYWRkVG9vbChlLCB0KSB7XG4gICAgY29uc3QgbyA9IGQubWFrZShcImRpdlwiLCBbWS5DU1MuY29udmVyc2lvblRvb2xdKSwgaSA9IGQubWFrZShcImRpdlwiLCBbWS5DU1MuY29udmVyc2lvblRvb2xJY29uXSk7XG4gICAgby5kYXRhc2V0LnRvb2wgPSBlLCBpLmlubmVySFRNTCA9IHQuaWNvbiwgZC5hcHBlbmQobywgaSksIGQuYXBwZW5kKG8sIGQudGV4dCgkLnQoWC50b29sTmFtZXMsIHQudGl0bGUgfHwga2UoZSkpKSksIGQuYXBwZW5kKHRoaXMubm9kZXMudG9vbHMsIG8pLCB0aGlzLnRvb2xzLnB1c2goe1xuICAgICAgbmFtZTogZSxcbiAgICAgIGJ1dHRvbjogbyxcbiAgICAgIHRvb2xib3hJdGVtOiB0XG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKG8sIFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5yZXBsYWNlV2l0aEJsb2NrKGUsIHQuZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGUgY3VycmVudCBUb29sIGFuZCBzaG93IG90aGVyc1xuICAgKi9cbiAgYXN5bmMgZmlsdGVyVG9vbHMoKSB7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGUgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgdCA9IGF3YWl0IGUuZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCk7XG4gICAgZnVuY3Rpb24gbyhpLCBuKSB7XG4gICAgICByZXR1cm4gaS5pY29uID09PSBuLmljb24gJiYgaS50aXRsZSA9PT0gbi50aXRsZTtcbiAgICB9XG4gICAgdGhpcy50b29scy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBsZXQgbiA9ICExO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY29uc3QgciA9IG8odCwgaS50b29sYm94SXRlbSk7XG4gICAgICAgIG4gPSBpLmJ1dHRvbi5kYXRhc2V0LnRvb2wgPT09IGUubmFtZSAmJiByO1xuICAgICAgfVxuICAgICAgaS5idXR0b24uaGlkZGVuID0gbiwgaS5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZShZLkNTUy5jb252ZXJzaW9uVG9vbEhpZGRlbiwgbik7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXBhcmUgRmxpcHBlciB0byBiZSBhYmxlIHRvIGxlYWYgdG9vbHMgYnkgYXJyb3dzL3RhYlxuICAgKi9cbiAgZW5hYmxlRmxpcHBlcigpIHtcbiAgICB0aGlzLmZsaXBwZXIgPSBuZXcgRyh7XG4gICAgICBmb2N1c2VkSXRlbUNsYXNzOiBZLkNTUy5jb252ZXJzaW9uVG9vbEZvY3VzZWRcbiAgICB9KTtcbiAgfVxufVxudmFyIEFlID0ge30sIERvID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gQWU7XG4gIH0sXG4gIHNldCBleHBvcnRzKHMpIHtcbiAgICBBZSA9IHM7XG4gIH1cbn07XG4vKiFcbiAqIExpYnJhcnkgZm9yIGhhbmRsaW5nIGtleWJvYXJkIHNob3J0Y3V0c1xuICogQGNvcHlyaWdodCBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEBsaWNlbnNlIE1JVFxuICogQGF1dGhvciBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEB2ZXJzaW9uIDEuMi4wXG4gKi9cbihmdW5jdGlvbihzLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgcy5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShuKSB7XG4gICAgICAgIGlmIChvW25dKVxuICAgICAgICAgIHJldHVybiBvW25dLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tuXSA9IHsgaTogbiwgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W25dLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKG4sIHIsIGEpIHtcbiAgICAgICAgaS5vKG4sIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGEgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChuID0gaShuKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgbiAmJiBuLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIHZhciBhID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIoYSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IG4gfSksIDIgJiByICYmIHR5cGVvZiBuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgbCBpbiBuKVxuICAgICAgICAgICAgaS5kKGEsIGwsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5bY107XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgbCkpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0sIGkubiA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIHIgPSBuICYmIG4uX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuLmRlZmF1bHQ7XG4gICAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkuZChyLCBcImFcIiwgciksIHI7XG4gICAgICB9LCBpLm8gPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgcik7XG4gICAgICB9LCBpLnAgPSBcIlwiLCBpKGkucyA9IDApO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGZ1bmN0aW9uIG4obCwgYykge1xuICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGMubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICB2YXIgaCA9IGNbdV07XG4gICAgICAgICAgaC5lbnVtZXJhYmxlID0gaC5lbnVtZXJhYmxlIHx8ICExLCBoLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gaCAmJiAoaC53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIGgua2V5LCBoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcihsLCBjLCB1KSB7XG4gICAgICAgIHJldHVybiBjICYmIG4obC5wcm90b3R5cGUsIGMpLCB1ICYmIG4obCwgdSksIGw7XG4gICAgICB9XG4gICAgICBpLnIobyk7XG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBsKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IHRoaXM7XG4gICAgICAgICAgKGZ1bmN0aW9uKGgsIGYpIHtcbiAgICAgICAgICAgIGlmICghKGggaW5zdGFuY2VvZiBmKSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICB9KSh0aGlzLCBsKSwgdGhpcy5jb21tYW5kcyA9IHt9LCB0aGlzLmtleXMgPSB7fSwgdGhpcy5uYW1lID0gYy5uYW1lLCB0aGlzLnBhcnNlU2hvcnRjdXROYW1lKGMubmFtZSksIHRoaXMuZWxlbWVudCA9IGMub24sIHRoaXMuY2FsbGJhY2sgPSBjLmNhbGxiYWNrLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgIHUuZXhlY3V0ZShoKTtcbiAgICAgICAgICB9LCB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5leGVjdXRlU2hvcnRjdXQsICExKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcihsLCBudWxsLCBbeyBrZXk6IFwic3VwcG9ydGVkQ29tbWFuZHNcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyBTSElGVDogW1wiU0hJRlRcIl0sIENNRDogW1wiQ01EXCIsIFwiQ09OVFJPTFwiLCBcIkNPTU1BTkRcIiwgXCJXSU5ET1dTXCIsIFwiQ1RSTFwiXSwgQUxUOiBbXCJBTFRcIiwgXCJPUFRJT05cIl0gfTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJrZXlDb2Rlc1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IDA6IDQ4LCAxOiA0OSwgMjogNTAsIDM6IDUxLCA0OiA1MiwgNTogNTMsIDY6IDU0LCA3OiA1NSwgODogNTYsIDk6IDU3LCBBOiA2NSwgQjogNjYsIEM6IDY3LCBEOiA2OCwgRTogNjksIEY6IDcwLCBHOiA3MSwgSDogNzIsIEk6IDczLCBKOiA3NCwgSzogNzUsIEw6IDc2LCBNOiA3NywgTjogNzgsIE86IDc5LCBQOiA4MCwgUTogODEsIFI6IDgyLCBTOiA4MywgVDogODQsIFU6IDg1LCBWOiA4NiwgVzogODcsIFg6IDg4LCBZOiA4OSwgWjogOTAsIEJBQ0tTUEFDRTogOCwgRU5URVI6IDEzLCBFU0NBUEU6IDI3LCBMRUZUOiAzNywgVVA6IDM4LCBSSUdIVDogMzksIERPV046IDQwLCBJTlNFUlQ6IDQ1LCBERUxFVEU6IDQ2LCBcIi5cIjogMTkwIH07XG4gICAgICAgIH0gfV0pLCByKGwsIFt7IGtleTogXCJwYXJzZVNob3J0Y3V0TmFtZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIGMgPSBjLnNwbGl0KFwiK1wiKTtcbiAgICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGMubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICAgIGNbdV0gPSBjW3VdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgaCA9ICExO1xuICAgICAgICAgICAgZm9yICh2YXIgZiBpbiBsLnN1cHBvcnRlZENvbW1hbmRzKVxuICAgICAgICAgICAgICBpZiAobC5zdXBwb3J0ZWRDb21tYW5kc1tmXS5pbmNsdWRlcyhjW3VdKSkge1xuICAgICAgICAgICAgICAgIGggPSB0aGlzLmNvbW1hbmRzW2ZdID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggfHwgKHRoaXMua2V5c1tjW3VdXSA9ICEwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgdiBpbiBsLnN1cHBvcnRlZENvbW1hbmRzKVxuICAgICAgICAgICAgdGhpcy5jb21tYW5kc1t2XSB8fCAodGhpcy5jb21tYW5kc1t2XSA9ICExKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJleGVjdXRlXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgdmFyIHUsIGggPSB7IENNRDogYy5jdHJsS2V5IHx8IGMubWV0YUtleSwgU0hJRlQ6IGMuc2hpZnRLZXksIEFMVDogYy5hbHRLZXkgfSwgZiA9ICEwO1xuICAgICAgICAgIGZvciAodSBpbiB0aGlzLmNvbW1hbmRzKVxuICAgICAgICAgICAgdGhpcy5jb21tYW5kc1t1XSAhPT0gaFt1XSAmJiAoZiA9ICExKTtcbiAgICAgICAgICB2YXIgdiwgcCA9ICEwO1xuICAgICAgICAgIGZvciAodiBpbiB0aGlzLmtleXMpXG4gICAgICAgICAgICBwID0gcCAmJiBjLmtleUNvZGUgPT09IGwua2V5Q29kZXNbdl07XG4gICAgICAgICAgZiAmJiBwICYmIHRoaXMuY2FsbGJhY2soYyk7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwicmVtb3ZlXCIsIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5leGVjdXRlU2hvcnRjdXQpO1xuICAgICAgICB9IH1dKSwgbDtcbiAgICAgIH0oKTtcbiAgICAgIG8uZGVmYXVsdCA9IGE7XG4gICAgfV0pLmRlZmF1bHQ7XG4gIH0pO1xufSkoRG8pO1xuY29uc3QgUG8gPSAvKiBAX19QVVJFX18gKi8geGUoQWUpO1xuY2xhc3MgRm8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBzaG9ydGN1dFxuICAgKlxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBvcHRpb25zXG4gICAqL1xuICBhZGQoZSkge1xuICAgIGlmICh0aGlzLmZpbmRTaG9ydGN1dChlLm9uLCBlLm5hbWUpKVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBTaG9ydGN1dCAke2UubmFtZX0gaXMgYWxyZWFkeSByZWdpc3RlcmVkIGZvciAke2Uub259LiBQbGVhc2UgcmVtb3ZlIGl0IGJlZm9yZSBhZGQgYSBuZXcgaGFuZGxlci5gXG4gICAgICApO1xuICAgIGNvbnN0IG8gPSBuZXcgUG8oe1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgb246IGUub24sXG4gICAgICBjYWxsYmFjazogZS5oYW5kbGVyXG4gICAgfSksIGkgPSB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUub24pIHx8IFtdO1xuICAgIHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5zZXQoZS5vbiwgWy4uLmksIG9dKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gRWxlbWVudCBzaG9ydGN1dCBpcyBzZXQgZm9yXG4gICAqIEBwYXJhbSBuYW1lIC0gc2hvcnRjdXQgbmFtZVxuICAgKi9cbiAgcmVtb3ZlKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5maW5kU2hvcnRjdXQoZSwgdCk7XG4gICAgaWYgKCFvKVxuICAgICAgcmV0dXJuO1xuICAgIG8ucmVtb3ZlKCk7XG4gICAgY29uc3QgaSA9IHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLnNldChlLCBpLmZpbHRlcigobikgPT4gbiAhPT0gbykpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgU2hvcnRjdXQgaW5zdGFuY2UgaWYgZXhpc3RcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBFbGVtZW50IHNob3JjdXQgaXMgc2V0IGZvclxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBuYW1lXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IC0gc2hvcnRjdXQgaW5kZXggaWYgZXhpc3RcbiAgICovXG4gIGZpbmRTaG9ydGN1dChlLCB0KSB7XG4gICAgcmV0dXJuICh0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUpIHx8IFtdKS5maW5kKCh7IG5hbWU6IGkgfSkgPT4gaSA9PT0gdCk7XG4gIH1cbn1cbmNvbnN0IHJlID0gbmV3IEZvKCk7XG52YXIgSG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIHpvID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgZ3QgPSAocywgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gem8oZSwgdCkgOiBlLCBuID0gcy5sZW5ndGggLSAxLCByOyBuID49IDA7IG4tLSlcbiAgICAociA9IHNbbl0pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgSG8oZSwgdCwgaSksIGk7XG59LCBiZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLk9wZW5lZCA9IFwidG9vbGJveC1vcGVuZWRcIiwgcy5DbG9zZWQgPSBcInRvb2xib3gtY2xvc2VkXCIsIHMuQmxvY2tBZGRlZCA9IFwidG9vbGJveC1ibG9jay1hZGRlZFwiLCBzKSkoYmUgfHwge30pO1xuY29uc3QgYnQgPSBjbGFzcyBleHRlbmRzIHdlIHtcbiAgLyoqXG4gICAqIFRvb2xib3ggY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hcGkgLSBFZGl0b3IgQVBJIG1ldGhvZHNcbiAgICogQHBhcmFtIG9wdGlvbnMudG9vbHMgLSBUb29scyBhdmFpbGFibGUgdG8gY2hlY2sgd2hldGhlciBzb21lIG9mIHRoZW0gc2hvdWxkIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCBvciBub3RcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBzLCB0b29sczogZSwgaTE4bkxhYmVsczogdCB9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHRvb2xib3g6IG51bGxcbiAgICB9LCB0aGlzLm9uUG9wb3ZlckNsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5lbWl0KFxuICAgICAgICBcInRvb2xib3gtY2xvc2VkXCJcbiAgICAgICAgLyogQ2xvc2VkICovXG4gICAgICApO1xuICAgIH0sIHRoaXMuYXBpID0gcywgdGhpcy50b29scyA9IGUsIHRoaXMuaTE4bkxhYmVscyA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVHJ1ZSBpZiBUb29sYm94IGlzIEVtcHR5IGFuZCBub3RoaW5nIHRvIHNob3dcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQubGVuZ3RoID09PSAwO1xuICB9XG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvb2xib3g6IFwiY2UtdG9vbGJveFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWFrZXMgdGhlIFRvb2xib3hcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9wb3ZlciA9IG5ldyBIZSh7XG4gICAgICBzY29wZUVsZW1lbnQ6IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub3RoaW5nRm91bmQ6IHRoaXMuaTE4bkxhYmVscy5ub3RoaW5nRm91bmQsXG4gICAgICAgIHNlYXJjaDogdGhpcy5pMThuTGFiZWxzLmZpbHRlclxuICAgICAgfSxcbiAgICAgIGl0ZW1zOiB0aGlzLnRvb2xib3hJdGVtc1RvQmVEaXNwbGF5ZWRcbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKGZlLkNsb3NlLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5lbmFibGVTaG9ydGN1dHMoKSwgdGhpcy5ub2Rlcy50b29sYm94ID0gdGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKSwgdGhpcy5ub2Rlcy50b29sYm94LmNsYXNzTGlzdC5hZGQoYnQuQ1NTLnRvb2xib3gpLCB0aGlzLm5vZGVzLnRvb2xib3g7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgVG9vbGJveCBoYXMgdGhlIEZsaXBwZXIgYWN0aXZhdGVkIGFuZCB0aGUgRmxpcHBlciBoYXMgc2VsZWN0ZWQgYnV0dG9uXG4gICAqL1xuICBoYXNGb2N1cygpIHtcbiAgICB2YXIgcztcbiAgICByZXR1cm4gKHMgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBzLmhhc0ZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3kgTW9kdWxlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHZhciBzO1xuICAgIHN1cGVyLmRlc3Ryb3koKSwgdGhpcy5ub2RlcyAmJiB0aGlzLm5vZGVzLnRvb2xib3ggJiYgKHRoaXMubm9kZXMudG9vbGJveC5yZW1vdmUoKSwgdGhpcy5ub2Rlcy50b29sYm94ID0gbnVsbCksIHRoaXMucmVtb3ZlQWxsU2hvcnRjdXRzKCksIChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMub2ZmKGZlLkNsb3NlLCB0aGlzLm9uUG9wb3ZlckNsb3NlKTtcbiAgfVxuICAvKipcbiAgICogVG9vbGJveCBUb29sJ3MgYnV0dG9uIGNsaWNrIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIC0gdG9vbCB0eXBlIHRvIGJlIGFjdGl2YXRlZFxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gQmxvY2sgZGF0YSBwcmVkZWZpbmVkIGJ5IHRoZSBhY3RpdmF0ZWQgVG9vbGJveCBpdGVtXG4gICAqL1xuICB0b29sQnV0dG9uQWN0aXZhdGVkKHMsIGUpIHtcbiAgICB0aGlzLmluc2VydE5ld0Jsb2NrKHMsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xib3ggd2l0aCBUb29sc1xuICAgKi9cbiAgb3BlbigpIHtcbiAgICB2YXIgcztcbiAgICB0aGlzLmlzRW1wdHkgfHwgKChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMuc2hvdygpLCB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLmVtaXQoXG4gICAgICBcInRvb2xib3gtb3BlbmVkXCJcbiAgICAgIC8qIE9wZW5lZCAqL1xuICAgICkpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBUb29sYm94XG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB2YXIgcztcbiAgICAocyA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCB8fCBzLmhpZGUoKSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5lbWl0KFxuICAgICAgXCJ0b29sYm94LWNsb3NlZFwiXG4gICAgICAvKiBDbG9zZWQgKi9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBUb29sYm94XG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5vcGVuZWQgPyB0aGlzLmNsb3NlKCkgOiB0aGlzLm9wZW4oKTtcbiAgfVxuICBnZXQgdG9vbHNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IHMgPSBbXTtcbiAgICByZXR1cm4gdGhpcy50b29scy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLnRvb2xib3ggJiYgcy5wdXNoKGUpO1xuICAgIH0pLCBzO1xuICB9XG4gIGdldCB0b29sYm94SXRlbXNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IHMgPSAoZSwgdCkgPT4gKHtcbiAgICAgIGljb246IGUuaWNvbixcbiAgICAgIHRpdGxlOiAkLnQoWC50b29sTmFtZXMsIGUudGl0bGUgfHwga2UodC5uYW1lKSksXG4gICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9vbEJ1dHRvbkFjdGl2YXRlZCh0Lm5hbWUsIGUuZGF0YSk7XG4gICAgICB9LFxuICAgICAgc2Vjb25kYXJ5TGFiZWw6IHQuc2hvcnRjdXQgPyBudCh0LnNob3J0Y3V0KSA6IFwiXCJcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQucmVkdWNlKChlLCB0KSA9PiAoQXJyYXkuaXNBcnJheSh0LnRvb2xib3gpID8gdC50b29sYm94LmZvckVhY2goKG8pID0+IHtcbiAgICAgIGUucHVzaChzKG8sIHQpKTtcbiAgICB9KSA6IHQudG9vbGJveCAhPT0gdm9pZCAwICYmIGUucHVzaChzKHQudG9vbGJveCwgdCkpLCBlKSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlIGFsbCB0b29scyBhbmQgZW5hYmxlIHRoZWlycyBzaG9ydGN1dHMgaWYgc3BlY2lmaWVkXG4gICAqL1xuICBlbmFibGVTaG9ydGN1dHMoKSB7XG4gICAgdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3QgZSA9IHMuc2hvcnRjdXQ7XG4gICAgICBlICYmIHRoaXMuZW5hYmxlU2hvcnRjdXRGb3JUb29sKHMubmFtZSwgZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBzaG9ydGN1dCBCbG9jayBUb29sIGltcGxlbWVudGVkIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBzaG9ydGN1dCBhY2NvcmRpbmcgdG8gdGhlIFNob3J0Y3V0RGF0YSBNb2R1bGUgZm9ybWF0XG4gICAqL1xuICBlbmFibGVTaG9ydGN1dEZvclRvb2wocywgZSkge1xuICAgIHJlLmFkZCh7XG4gICAgICBuYW1lOiBlLFxuICAgICAgb246IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgaGFuZGxlcjogKHQpID0+IHtcbiAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmluc2VydE5ld0Jsb2NrKHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBhZGRlZCBzaG9ydGN1dHNcbiAgICogRmlyZWQgd2hlbiB0aGUgUmVhZC1Pbmx5IG1vZGUgaXMgYWN0aXZhdGVkXG4gICAqL1xuICByZW1vdmVBbGxTaG9ydGN1dHMoKSB7XG4gICAgdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3QgZSA9IHMuc2hvcnRjdXQ7XG4gICAgICBlICYmIHJlLnJlbW92ZSh0aGlzLmFwaS51aS5ub2Rlcy5yZWRhY3RvciwgZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgbmV3IGJsb2NrXG4gICAqIENhbiBiZSBjYWxsZWQgd2hlbiBidXR0b24gY2xpY2tlZCBvbiBUb29sYm94IG9yIGJ5IFNob3J0Y3V0RGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9vbE5hbWUgLSBUb29sIG5hbWVcbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIHByZWRlZmluZWQgQmxvY2sgZGF0YVxuICAgKi9cbiAgYXN5bmMgaW5zZXJ0TmV3QmxvY2socywgZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSwgbyA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgodCk7XG4gICAgaWYgKCFvKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGkgPSBvLmlzRW1wdHkgPyB0IDogdCArIDE7XG4gICAgbGV0IG47XG4gICAgaWYgKGUpIHtcbiAgICAgIGNvbnN0IGEgPSBhd2FpdCB0aGlzLmFwaS5ibG9ja3MuY29tcG9zZUJsb2NrRGF0YShzKTtcbiAgICAgIG4gPSBPYmplY3QuYXNzaWduKGEsIGUpO1xuICAgIH1cbiAgICBjb25zdCByID0gdGhpcy5hcGkuYmxvY2tzLmluc2VydChcbiAgICAgIHMsXG4gICAgICBuLFxuICAgICAgdm9pZCAwLFxuICAgICAgaSxcbiAgICAgIHZvaWQgMCxcbiAgICAgIG8uaXNFbXB0eVxuICAgICk7XG4gICAgci5jYWxsKHEuQVBQRU5EX0NBTExCQUNLKSwgdGhpcy5hcGkuY2FyZXQuc2V0VG9CbG9jayhpKSwgdGhpcy5lbWl0KFwidG9vbGJveC1ibG9jay1hZGRlZFwiLCB7XG4gICAgICBibG9jazogclxuICAgIH0pLCB0aGlzLmFwaS50b29sYmFyLmNsb3NlKCk7XG4gIH1cbn07XG5sZXQgemUgPSBidDtcbmd0KFtcbiAgYWVcbl0sIHplLnByb3RvdHlwZSwgXCJ0b29sc1RvQmVEaXNwbGF5ZWRcIiwgMSk7XG5ndChbXG4gIGFlXG5dLCB6ZS5wcm90b3R5cGUsIFwidG9vbGJveEl0ZW1zVG9CZURpc3BsYXllZFwiLCAxKTtcbmNvbnN0IG10ID0gXCJibG9jayBob3ZlcmVkXCI7XG5jbGFzcyBqbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLnRvb2x0aXAgPSBuZXcgRmUoKTtcbiAgfVxuICAvKipcbiAgICogQ1NTIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbGJhcjogXCJjZS10b29sYmFyXCIsXG4gICAgICBjb250ZW50OiBcImNlLXRvb2xiYXJfX2NvbnRlbnRcIixcbiAgICAgIGFjdGlvbnM6IFwiY2UtdG9vbGJhcl9fYWN0aW9uc1wiLFxuICAgICAgYWN0aW9uc09wZW5lZDogXCJjZS10b29sYmFyX19hY3Rpb25zLS1vcGVuZWRcIixcbiAgICAgIHRvb2xiYXJPcGVuZWQ6IFwiY2UtdG9vbGJhci0tb3BlbmVkXCIsXG4gICAgICBvcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXI6IFwiY29kZXgtZWRpdG9yLS10b29sYm94LW9wZW5lZFwiLFxuICAgICAgcGx1c0J1dHRvbjogXCJjZS10b29sYmFyX19wbHVzXCIsXG4gICAgICBwbHVzQnV0dG9uU2hvcnRjdXQ6IFwiY2UtdG9vbGJhcl9fcGx1cy1zaG9ydGN1dFwiLFxuICAgICAgc2V0dGluZ3NUb2dnbGVyOiBcImNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0blwiLFxuICAgICAgc2V0dGluZ3NUb2dnbGVySGlkZGVuOiBcImNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bi0taGlkZGVuXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBUb29sYmFyIG9wZW5pbmcgc3RhdGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgb3BlbmVkKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ1NTLnRvb2xiYXJPcGVuZWQpO1xuICB9XG4gIC8qKlxuICAgKiBQdWJsaWMgaW50ZXJmYWNlIGZvciBhY2Nlc3NpbmcgdGhlIFRvb2xib3hcbiAgICovXG4gIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuZWQ6IHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW5lZCxcbiAgICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICB9LFxuICAgICAgb3BlbjogKCkgPT4ge1xuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW4oKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGU6ICgpID0+IHRoaXMudG9vbGJveEluc3RhbmNlLnRvZ2dsZSgpLFxuICAgICAgaGFzRm9jdXM6ICgpID0+IHRoaXMudG9vbGJveEluc3RhbmNlLmhhc0ZvY3VzKClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBhY3Rpb25zIGFwcGVhcmFuY2UgbWFuaXB1bGF0aW9uc1xuICAgKi9cbiAgZ2V0IGJsb2NrQWN0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZTogKCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGVzLmFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5hY3Rpb25zT3BlbmVkKTtcbiAgICAgIH0sXG4gICAgICBzaG93OiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmFjdGlvbnNPcGVuZWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBCbG9jayBUdW5lcyB0b2dnbGVyXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lc1RvZ2dsZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGU6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKSxcbiAgICAgIHNob3c6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyAodGhpcy5kZXN0cm95KCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZGVzdHJveSgpLCB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpKSA6ICh0aGlzLmRyYXdVSSgpLCB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHBhc3NlZCAob3IgY3VycmVudCkgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gbW92ZSBUb29sYmFyIG5lYXIgaXRcbiAgICovXG4gIG1vdmVBbmRPcGVuKGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSB7XG4gICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW5lZCAmJiB0aGlzLnRvb2xib3hJbnN0YW5jZS5jbG9zZSgpLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCAmJiB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCksICFlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuaG92ZXJlZEJsb2NrID0gZTtcbiAgICBjb25zdCB0ID0gZS5ob2xkZXIsIHsgaXNNb2JpbGU6IG8gfSA9IHRoaXMuRWRpdG9yLlVJLCBpID0gZS5wbHVnaW5zQ29udGVudCwgbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGkpLCByID0gcGFyc2VJbnQobi5wYWRkaW5nVG9wLCAxMCksIGEgPSB0Lm9mZnNldEhlaWdodDtcbiAgICBsZXQgbDtcbiAgICBvID8gbCA9IHQub2Zmc2V0VG9wICsgYSA6IGwgPSB0Lm9mZnNldFRvcCArIHIsIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS50b3AgPSBgJHtNYXRoLmZsb29yKGwpfXB4YCwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5sZW5ndGggPT09IDEgJiYgZS5pc0VtcHR5ID8gdGhpcy5ibG9ja1R1bmVzVG9nZ2xlci5oaWRlKCkgOiB0aGlzLmJsb2NrVHVuZXNUb2dnbGVyLnNob3coKSwgdGhpcy5vcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQgfHwgKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLnRvb2xiYXJPcGVuZWQpLCB0aGlzLmJsb2NrQWN0aW9ucy5oaWRlKCksIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gVG9vbGJhciB3aXRoIFBsdXMgQnV0dG9uIGFuZCBBY3Rpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2l0aEJsb2NrQWN0aW9ucyAtIGJ5IGRlZmF1bHQsIFRvb2xiYXIgb3BlbnMgd2l0aCBCbG9jayBBY3Rpb25zLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGZsYWcgYWxsb3dzIHRvIG9wZW4gVG9vbGJhciB3aXRob3V0IEFjdGlvbnMuXG4gICAqL1xuICBvcGVuKGUgPSAhMCkge1xuICAgIG9lKCgpID0+IHtcbiAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRvb2xiYXJPcGVuZWQpLCBlID8gdGhpcy5ibG9ja0FjdGlvbnMuc2hvdygpIDogdGhpcy5ibG9ja0FjdGlvbnMuaGlkZSgpO1xuICAgIH0sIDUwKSgpO1xuICB9XG4gIC8qKlxuICAgKiBEcmF3cyBUb29sYmFyIGVsZW1lbnRzXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy50b29sYmFyKSwgW1wiY29udGVudFwiLCBcImFjdGlvbnNcIl0uZm9yRWFjaCgodCkgPT4ge1xuICAgICAgdGhpcy5ub2Rlc1t0XSA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTU1t0XSk7XG4gICAgfSksIGQuYXBwZW5kKHRoaXMubm9kZXMud3JhcHBlciwgdGhpcy5ub2Rlcy5jb250ZW50KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5jb250ZW50LCB0aGlzLm5vZGVzLmFjdGlvbnMpLCB0aGlzLm5vZGVzLnBsdXNCdXR0b24gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MucGx1c0J1dHRvbiwge1xuICAgICAgaW5uZXJIVE1MOiBNb1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMubm9kZXMucGx1c0J1dHRvbiksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucGx1c0J1dHRvbiwgXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnRvb2x0aXAuaGlkZSghMCksIHRoaXMucGx1c0J1dHRvbkNsaWNrZWQoKTtcbiAgICB9LCAhMSk7XG4gICAgY29uc3QgZSA9IGQubWFrZShcImRpdlwiKTtcbiAgICBlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCQudWkoWC51aS50b29sYmFyLnRvb2xib3gsIFwiQWRkXCIpKSksIGUuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnBsdXNCdXR0b25TaG9ydGN1dCwge1xuICAgICAgdGV4dENvbnRlbnQ6IFwiXHUyMUU1IFRhYlwiXG4gICAgfSkpLCB0aGlzLnRvb2x0aXAub25Ib3Zlcih0aGlzLm5vZGVzLnBsdXNCdXR0b24sIGUsIHtcbiAgICAgIGhpZGluZ0RlbGF5OiA0MDBcbiAgICB9KSwgdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIgPSBkLm1ha2UoXCJzcGFuXCIsIHRoaXMuQ1NTLnNldHRpbmdzVG9nZ2xlciwge1xuICAgICAgaW5uZXJIVE1MOiBJb1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyKSwgdGhpcy50b29sdGlwLm9uSG92ZXIoXG4gICAgICB0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlcixcbiAgICAgICQudWkoWC51aS5ibG9ja1R1bmVzLnRvZ2dsZXIsIFwiQ2xpY2sgdG8gdHVuZVwiKSxcbiAgICAgIHtcbiAgICAgICAgaGlkaW5nRGVsYXk6IDQwMFxuICAgICAgfVxuICAgICksIGQuYXBwZW5kKHRoaXMubm9kZXMuYWN0aW9ucywgdGhpcy5tYWtlVG9vbGJveCgpKSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmdldEVsZW1lbnQoKSksIGQuYXBwZW5kKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMud3JhcHBlcik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFRvb2xib3ggaW5zdGFuY2UgYW5kIHJldHVybiBpdCdzIHJlbmRlcmVkIGVsZW1lbnRcbiAgICovXG4gIG1ha2VUb29sYm94KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xib3hJbnN0YW5jZSA9IG5ldyB6ZSh7XG4gICAgICBhcGk6IHRoaXMuRWRpdG9yLkFQSS5tZXRob2RzLFxuICAgICAgdG9vbHM6IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMsXG4gICAgICBpMThuTGFiZWxzOiB7XG4gICAgICAgIGZpbHRlcjogJC51aShYLnVpLnBvcG92ZXIsIFwiRmlsdGVyXCIpLFxuICAgICAgICBub3RoaW5nRm91bmQ6ICQudWkoWC51aS5wb3BvdmVyLCBcIk5vdGhpbmcgZm91bmRcIilcbiAgICAgIH1cbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2Uub24oYmUuT3BlbmVkLCAoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Mub3BlbmVkVG9vbGJveEhvbGRlck1vZGlmaWVyKTtcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2Uub24oYmUuQ2xvc2VkLCAoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1Mub3BlbmVkVG9vbGJveEhvbGRlck1vZGlmaWVyKTtcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2Uub24oYmUuQmxvY2tBZGRlZCwgKHsgYmxvY2s6IGUgfSkgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IHQuZ2V0QmxvY2tCeUlkKGUuaWQpO1xuICAgICAgaS5pbnB1dHMubGVuZ3RoID09PSAwICYmIChpID09PSB0Lmxhc3RCbG9jayA/ICh0Lmluc2VydEF0RW5kKCksIG8uc2V0VG9CbG9jayh0Lmxhc3RCbG9jaykpIDogby5zZXRUb0Jsb2NrKHQubmV4dEJsb2NrKSk7XG4gICAgfSksIHRoaXMudG9vbGJveEluc3RhbmNlLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlciBmb3IgUGx1cyBCdXR0b25cbiAgICovXG4gIHBsdXNCdXR0b25DbGlja2VkKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgPSB0aGlzLmhvdmVyZWRCbG9jaywgdGhpcy50b29sYm94SW5zdGFuY2UudG9nZ2xlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBiaW5kaW5nc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCB0aGlzLnNldHRpbmdzVG9nZ2xlckNsaWNrZWQoKSwgdGhpcy50b29sYm94SW5zdGFuY2Uub3BlbmVkICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCksIHRoaXMudG9vbHRpcC5oaWRlKCEwKTtcbiAgICB9LCAhMCksIGVlKCkgfHwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKG10LCAoZSkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgfHwgdGhpcy50b29sYm94SW5zdGFuY2Uub3BlbmVkIHx8IHRoaXMubW92ZUFuZE9wZW4oZS5ibG9jayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgYmluZGluZ3NcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGlja3Mgb24gdGhlIEJsb2NrIFNldHRpbmdzIHRvZ2dsZXJcbiAgICovXG4gIHNldHRpbmdzVG9nZ2xlckNsaWNrZWQoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3Blbih0aGlzLmhvdmVyZWRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIERyYXdzIFRvb2xiYXIgVUlcbiAgICpcbiAgICogVG9vbGJhciBjb250YWlucyBCbG9ja1NldHRpbmdzIGFuZCBUb29sYm94LlxuICAgKiBUaGF0J3Mgd2h5IGF0IGZpcnN0IHdlIGRyYXcgaXRzIGNvbXBvbmVudHMgYW5kIHRoZW4gVG9vbGJhciBpdHNlbGZcbiAgICpcbiAgICogU3RlcHM6XG4gICAqICAtIE1ha2UgVG9vbGJhciBkZXBlbmRlbnQgY29tcG9uZW50cyBsaWtlIEJsb2NrU2V0dGluZ3MsIFRvb2xib3ggYW5kIHNvIG9uXG4gICAqICAtIE1ha2UgaXRzZWxmIGFuZCBhcHBlbmQgZGVwZW5kZW50IG5vZGVzIHRvIGl0c2VsZlxuICAgKlxuICAgKi9cbiAgZHJhd1VJKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MubWFrZSgpLCB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY3JlYXRlZCBhbmQgc2F2ZWQgSFRNTEVsZW1lbnRzXG4gICAqIEl0IGlzIHVzZWQgaW4gUmVhZC1Pbmx5IG1vZGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxOb2RlcygpLCB0aGlzLnRvb2xib3hJbnN0YW5jZSAmJiB0aGlzLnRvb2xib3hJbnN0YW5jZS5kZXN0cm95KCksIHRoaXMudG9vbHRpcC5kZXN0cm95KCk7XG4gIH1cbn1cbnZhciB5ZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzW3MuQmxvY2sgPSAwXSA9IFwiQmxvY2tcIiwgc1tzLklubGluZSA9IDFdID0gXCJJbmxpbmVcIiwgc1tzLlR1bmUgPSAyXSA9IFwiVHVuZVwiLCBzKSkoeWUgfHwge30pLCBtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBzLlRvb2xib3ggPSBcInRvb2xib3hcIiwgcy5FbmFibGVkSW5saW5lVG9vbHMgPSBcImlubGluZVRvb2xiYXJcIiwgcy5FbmFibGVkQmxvY2tUdW5lcyA9IFwidHVuZXNcIiwgcy5Db25maWcgPSBcImNvbmZpZ1wiLCBzKSkobWUgfHwge30pLCBrdCA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBzLlNhbml0aXplQ29uZmlnID0gXCJzYW5pdGl6ZVwiLCBzKSkoa3QgfHwge30pLCBzZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLklzRW5hYmxlZExpbmVCcmVha3MgPSBcImVuYWJsZUxpbmVCcmVha3NcIiwgcy5Ub29sYm94ID0gXCJ0b29sYm94XCIsIHMuQ29udmVyc2lvbkNvbmZpZyA9IFwiY29udmVyc2lvbkNvbmZpZ1wiLCBzLklzUmVhZE9ubHlTdXBwb3J0ZWQgPSBcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIiwgcy5QYXN0ZUNvbmZpZyA9IFwicGFzdGVDb25maWdcIiwgcykpKHNlIHx8IHt9KSwgamUgPSAvKiBAX19QVVJFX18gKi8gKChzKSA9PiAocy5Jc0lubGluZSA9IFwiaXNJbmxpbmVcIiwgcy5UaXRsZSA9IFwidGl0bGVcIiwgcykpKGplIHx8IHt9KSwgdnQgPSAvKiBAX19QVVJFX18gKi8gKChzKSA9PiAocy5Jc1R1bmUgPSBcImlzVHVuZVwiLCBzKSkodnQgfHwge30pO1xuY2xhc3MgVWUge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zIC0gQ29uc3RydWN0b3Igb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWU6IGUsXG4gICAgY29uc3RydWN0YWJsZTogdCxcbiAgICBjb25maWc6IG8sXG4gICAgYXBpOiBpLFxuICAgIGlzRGVmYXVsdDogbixcbiAgICBpc0ludGVybmFsOiByID0gITEsXG4gICAgZGVmYXVsdFBsYWNlaG9sZGVyOiBhXG4gIH0pIHtcbiAgICB0aGlzLmFwaSA9IGksIHRoaXMubmFtZSA9IGUsIHRoaXMuY29uc3RydWN0YWJsZSA9IHQsIHRoaXMuY29uZmlnID0gbywgdGhpcy5pc0RlZmF1bHQgPSBuLCB0aGlzLmlzSW50ZXJuYWwgPSByLCB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciA9IGE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5jb25maWcuY29uZmlnIHx8IHt9O1xuICAgIHJldHVybiB0aGlzLmlzRGVmYXVsdCAmJiAhKFwicGxhY2Vob2xkZXJcIiBpbiBlKSAmJiB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciAmJiAoZS5wbGFjZWhvbGRlciA9IHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyKSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHJlc2V0IG1ldGhvZFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgaWYgKEQodGhpcy5jb25zdHJ1Y3RhYmxlLnJlc2V0KSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucmVzZXQoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHByZXBhcmUgbWV0aG9kXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIGlmIChEKHRoaXMuY29uc3RydWN0YWJsZS5wcmVwYXJlKSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucHJlcGFyZSh7XG4gICAgICAgIHRvb2xOYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5nc1xuICAgICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2hvcnRjdXQgZm9yIFRvb2wgKGludGVybmFsIG9yIHNwZWNpZmllZCBieSB1c2VyKVxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbnN0cnVjdGFibGUuc2hvcnRjdXQ7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnNob3J0Y3V0IHx8IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCdzIHNhbml0aXplciBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgc2FuaXRpemVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5zYW5pdGl6ZSB8fCB7fTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIGlubGluZVxuICAgKi9cbiAgaXNJbmxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIGJsb2NrXG4gICAqL1xuICBpc0Jsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBUb29scyBpcyB0dW5lXG4gICAqL1xuICBpc1R1bmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMjtcbiAgfVxufVxuY2xhc3MgVW8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbiAtIE1vZHVsZSBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZ1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5ldmVudHNEaXNwYXRjaGVyIC0gRWRpdG9yJ3MgZXZlbnQgZGlzcGF0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy5DU1MgPSB7XG4gICAgICBpbmxpbmVUb29sYmFyOiBcImNlLWlubGluZS10b29sYmFyXCIsXG4gICAgICBpbmxpbmVUb29sYmFyU2hvd2VkOiBcImNlLWlubGluZS10b29sYmFyLS1zaG93ZWRcIixcbiAgICAgIGlubGluZVRvb2xiYXJMZWZ0T3JpZW50ZWQ6IFwiY2UtaW5saW5lLXRvb2xiYXItLWxlZnQtb3JpZW50ZWRcIixcbiAgICAgIGlubGluZVRvb2xiYXJSaWdodE9yaWVudGVkOiBcImNlLWlubGluZS10b29sYmFyLS1yaWdodC1vcmllbnRlZFwiLFxuICAgICAgaW5saW5lVG9vbGJhclNob3J0Y3V0OiBcImNlLWlubGluZS10b29sYmFyX19zaG9ydGN1dFwiLFxuICAgICAgYnV0dG9uc1dyYXBwZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2J1dHRvbnNcIixcbiAgICAgIGFjdGlvbnNXcmFwcGVyOiBcImNlLWlubGluZS10b29sYmFyX19hY3Rpb25zXCIsXG4gICAgICBpbmxpbmVUb29sQnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBpbnB1dEZpZWxkOiBcImNkeC1pbnB1dFwiLFxuICAgICAgZm9jdXNlZEJ1dHRvbjogXCJjZS1pbmxpbmUtdG9vbC0tZm9jdXNlZFwiLFxuICAgICAgY29udmVyc2lvblRvZ2dsZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duXCIsXG4gICAgICBjb252ZXJzaW9uVG9nZ2xlckFycm93OiBcImNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1hcnJvd1wiLFxuICAgICAgY29udmVyc2lvblRvZ2dsZXJIaWRkZW46IFwiY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLS1oaWRkZW5cIixcbiAgICAgIGNvbnZlcnNpb25Ub2dnbGVyQ29udGVudDogXCJjZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudFwiLFxuICAgICAgdG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyOiBcImNlLWlubGluZS10b29sYmFyX190b2dnbGVyLWFuZC1idXR0b24td3JhcHBlclwiXG4gICAgfSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy50b29sYmFyVmVydGljYWxNYXJnaW4gPSBlZSgpID8gMjAgOiA2LCB0aGlzLmJ1dHRvbnNMaXN0ID0gbnVsbCwgdGhpcy53aWR0aCA9IDAsIHRoaXMuZmxpcHBlciA9IG51bGwsIHRoaXMudG9vbHRpcCA9IG5ldyBGZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIHJlYWQtb25seSBtb2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gcmVhZC1vbmx5IG1vZGVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gKHRoaXMuZGVzdHJveSgpLCB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5kZXN0cm95KCkpIDogdGhpcy5tYWtlKCk7XG4gIH1cbiAgLyoqXG4gICAqICBNb3ZpbmcgLyBhcHBlYXJhbmNlXG4gICAqICB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XG4gICAqL1xuICAvKipcbiAgICogU2hvd3MgSW5saW5lIFRvb2xiYXIgaWYgc29tZXRoaW5nIGlzIHNlbGVjdGVkXG4gICAqXG4gICAqIEBwYXJhbSBbbmVlZFRvQ2xvc2VdIC0gcGFzcyB0cnVlIHRvIGNsb3NlIHRvb2xiYXIgaWYgaXQgaXMgbm90IGFsbG93ZWQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF2b2lkIHRvIHVzZSBpdCBqdXN0IGZvciBjbG9zaW5nIElULCBiZXR0ZXIgY2FsbCAuY2xvc2UoKSBjbGVhcmx5LlxuICAgKiBAcGFyYW0gW25lZWRUb1Nob3dDb252ZXJzaW9uVG9vbGJhcl0gLSBwYXNzIGZhbHNlIHRvIG5vdCB0byBzaG93IENvbnZlcnNpb24gVG9vbGJhclxuICAgKi9cbiAgdHJ5VG9TaG93KGUgPSAhMSwgdCA9ICEwKSB7XG4gICAgaWYgKCF0aGlzLmFsbG93ZWRUb1Nob3coKSkge1xuICAgICAgZSAmJiB0aGlzLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubW92ZSgpLCB0aGlzLm9wZW4odCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBUb29sYmFyIHRvIHRoZSBzZWxlY3RlZCB0ZXh0XG4gICAqL1xuICBtb3ZlKCkge1xuICAgIGNvbnN0IGUgPSBtLnJlY3QsIHQgPSB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0ge1xuICAgICAgeDogZS54IC0gdC5sZWZ0LFxuICAgICAgeTogZS55ICsgZS5oZWlnaHQgLSAvLyArIHdpbmRvdy5zY3JvbGxZXG4gICAgICB0LnRvcCArIHRoaXMudG9vbGJhclZlcnRpY2FsTWFyZ2luXG4gICAgfTtcbiAgICBlLndpZHRoICYmIChvLnggKz0gTWF0aC5mbG9vcihlLndpZHRoIC8gMikpO1xuICAgIGNvbnN0IGkgPSBvLnggLSB0aGlzLndpZHRoIC8gMiwgbiA9IG8ueCArIHRoaXMud2lkdGggLyAyO1xuICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgdGhpcy5DU1MuaW5saW5lVG9vbGJhckxlZnRPcmllbnRlZCxcbiAgICAgIGkgPCB0aGlzLkVkaXRvci5VSS5jb250ZW50UmVjdC5sZWZ0XG4gICAgKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyUmlnaHRPcmllbnRlZCxcbiAgICAgIG4gPiB0aGlzLkVkaXRvci5VSS5jb250ZW50UmVjdC5yaWdodFxuICAgICksIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcihvLngpICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gTWF0aC5mbG9vcihvLnkpICsgXCJweFwiO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuZWQgJiYgKHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCB8fCAodGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuaW5saW5lVG9vbGJhclNob3dlZCksIEFycmF5LmZyb20odGhpcy50b29sc0luc3RhbmNlcy5lbnRyaWVzKCkpLmZvckVhY2goKFtlLCB0XSkgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0VG9vbFNob3J0Y3V0KGUpO1xuICAgICAgbyAmJiByZS5yZW1vdmUodGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3IsIG8pLCBEKHQuY2xlYXIpICYmIHQuY2xlYXIoKTtcbiAgICB9KSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSkpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyBJbmxpbmUgVG9vbGJhclxuICAgKlxuICAgKiBAcGFyYW0gW25lZWRUb1Nob3dDb252ZXJzaW9uVG9vbGJhcl0gLSBwYXNzIGZhbHNlIHRvIG5vdCB0byBzaG93IENvbnZlcnNpb24gVG9vbGJhclxuICAgKi9cbiAgb3BlbihlID0gITApIHtcbiAgICBpZiAodGhpcy5vcGVuZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5hZGRUb29sc0ZpbHRlcmVkKCksIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlubGluZVRvb2xiYXJTaG93ZWQpLCB0aGlzLmJ1dHRvbnNMaXN0ID0gdGhpcy5ub2Rlcy5idXR0b25zLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuQ1NTLmlubGluZVRvb2xCdXR0b259YCksIHRoaXMub3BlbmVkID0gITAsIGUgJiYgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuaGFzVG9vbHMoKSA/IHRoaXMuc2V0Q29udmVyc2lvblRvZ2dsZXJDb250ZW50KCkgOiB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLmhpZGRlbiA9ICEwO1xuICAgIGxldCB0ID0gQXJyYXkuZnJvbSh0aGlzLmJ1dHRvbnNMaXN0KTtcbiAgICB0LnVuc2hpZnQodGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlciksIHQgPSB0LmZpbHRlcigobykgPT4gIW8uaGlkZGVuKSwgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBub2RlIGlzIGNvbnRhaW5lZCBieSBJbmxpbmUgVG9vbGJhclxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgXHUyMDE0IG5vZGUgdG8gY2hlY2tcbiAgICovXG4gIGNvbnRhaW5zTm9kZShlKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlci5jb250YWlucyhlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBVSSBhbmQgaXRzIGNvbXBvbmVudHNcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5mbGlwcGVyICYmICh0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmZsaXBwZXIgPSBudWxsKSwgdGhpcy5yZW1vdmVBbGxOb2RlcygpLCB0aGlzLnRvb2x0aXAuZGVzdHJveSgpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtpbmcgRE9NXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyLFxuICAgICAgLi4udGhpcy5pc1J0bCA/IFt0aGlzLkVkaXRvci5VSS5DU1MuZWRpdG9yUnRsRml4XSA6IFtdXG4gICAgXSksIHRoaXMubm9kZXMudG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvZ2dsZXJBbmRCdXR0b25zV3JhcHBlciksIHRoaXMubm9kZXMuYnV0dG9ucyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5idXR0b25zV3JhcHBlciksIHRoaXMubm9kZXMuYWN0aW9ucyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5hY3Rpb25zV3JhcHBlciksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMubm9kZXMud3JhcHBlciwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoYC4ke3RoaXMuQ1NTLmFjdGlvbnNXcmFwcGVyfWApIHx8IGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy53cmFwcGVyLCBbdGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIsIHRoaXMubm9kZXMuYWN0aW9uc10pLCBkLmFwcGVuZCh0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLCB0aGlzLm5vZGVzLndyYXBwZXIpLCB0aGlzLmFkZENvbnZlcnNpb25Ub2dnbGVyKCksIGQuYXBwZW5kKHRoaXMubm9kZXMudG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyLCB0aGlzLm5vZGVzLmJ1dHRvbnMpLCB0aGlzLnByZXBhcmVDb252ZXJzaW9uVG9vbGJhcigpLCB0aGlzLnJlY2FsY3VsYXRlV2lkdGgoKSwgdGhpcy5lbmFibGVGbGlwcGVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIE5lZWQgdG8gc2hvdyBJbmxpbmUgVG9vbGJhciBvciBub3RcbiAgICovXG4gIGFsbG93ZWRUb1Nob3coKSB7XG4gICAgY29uc3QgZSA9IFtcIklNR1wiLCBcIklOUFVUXCJdLCB0ID0gbS5nZXQoKSwgbyA9IG0udGV4dDtcbiAgICBpZiAoIXQgfHwgIXQuYW5jaG9yTm9kZSB8fCB0LmlzQ29sbGFwc2VkIHx8IG8ubGVuZ3RoIDwgMSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCBpID0gZC5pc0VsZW1lbnQodC5hbmNob3JOb2RlKSA/IHQuYW5jaG9yTm9kZSA6IHQuYW5jaG9yTm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIGlmICh0ICYmIGUuaW5jbHVkZXMoaS50YWdOYW1lKSB8fCBpLmNsb3Nlc3QoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJykgPT09IG51bGwpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgciA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayh0LmFuY2hvck5vZGUpO1xuICAgIHJldHVybiByID8gci50b29sLmlubGluZVRvb2xzLnNpemUgIT09IDAgOiAhMTtcbiAgfVxuICAvKipcbiAgICogUmVjYWxjdWxhdGUgaW5saW5lIHRvb2xiYXIgd2lkdGhcbiAgICovXG4gIHJlY2FsY3VsYXRlV2lkdGgoKSB7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgdG9nZ2xlciBmb3IgQ29udmVyc2lvbiBEcm9wZG93blxuICAgKiBhbmQgcHJlcGVuZCBpdCB0byB0aGUgYnV0dG9ucyBsaXN0XG4gICAqL1xuICBhZGRDb252ZXJzaW9uVG9nZ2xlcigpIHtcbiAgICB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmNvbnZlcnNpb25Ub2dnbGVyKSwgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuY29udmVyc2lvblRvZ2dsZXJDb250ZW50KTtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmNvbnZlcnNpb25Ub2dnbGVyQXJyb3csIHtcbiAgICAgIGlubmVySFRNTDogcHRcbiAgICB9KTtcbiAgICB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXJDb250ZW50KSwgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlci5hcHBlbmRDaGlsZChlKSwgdGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlciksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIsIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIudG9nZ2xlKCh0KSA9PiB7XG4gICAgICAgICF0ICYmIHRoaXMub3BlbmVkID8gdGhpcy5mbGlwcGVyLmFjdGl2YXRlKCkgOiB0aGlzLm9wZW5lZCAmJiB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSksIGVlKCkgPT09ICExICYmIHRoaXMudG9vbHRpcC5vbkhvdmVyKHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIsICQudWkoWC51aS5pbmxpbmVUb29sYmFyLmNvbnZlcnRlciwgXCJDb252ZXJ0IHRvXCIpLCB7XG4gICAgICBwbGFjZW1lbnQ6IFwidG9wXCIsXG4gICAgICBoaWRpbmdEZWxheTogMTAwXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZXMgQ29udmVyc2lvbiBEcm9wZG93biBjb250ZW50IGZvciBjdXJyZW50IGJsb2NrJ3MgVG9vbFxuICAgKi9cbiAgYXN5bmMgc2V0Q29udmVyc2lvblRvZ2dsZXJDb250ZW50KCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IHQgfSA9IGUsIG8gPSB0Lm5hbWUsIGkgPSB0LnRvb2wuY29udmVyc2lvbkNvbmZpZywgbiA9IGkgJiYgaS5leHBvcnQ7XG4gICAgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlci5oaWRkZW4gPSAhbiwgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlci5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ1NTLmNvbnZlcnNpb25Ub2dnbGVySGlkZGVuLCAhbik7XG4gICAgY29uc3QgciA9IGF3YWl0IHQuZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCkgfHwge307XG4gICAgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQuaW5uZXJIVE1MID0gci5pY29uIHx8IHIudGl0bGUgfHwga2Uobyk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSBDb252ZXJzaW9uIERyb3Bkb3duXG4gICAqL1xuICBwcmVwYXJlQ29udmVyc2lvblRvb2xiYXIoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLm1ha2UoKTtcbiAgICBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIGUpO1xuICB9XG4gIC8qKlxuICAgKiAgV29ya2luZyB3aXRoIFRvb2xzXG4gICAqICB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XG4gICAqL1xuICAvKipcbiAgICogQXBwZW5kIG9ubHkgYWxsb3dlZCBUb29sc1xuICAgKi9cbiAgYWRkVG9vbHNGaWx0ZXJlZCgpIHtcbiAgICBjb25zdCBlID0gbS5nZXQoKSwgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayhlLmFuY2hvck5vZGUpO1xuICAgIHRoaXMubm9kZXMuYnV0dG9ucy5pbm5lckhUTUwgPSBcIlwiLCB0aGlzLm5vZGVzLmFjdGlvbnMuaW5uZXJIVE1MID0gXCJcIiwgdGhpcy50b29sc0luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIEFycmF5LmZyb20odC50b29sLmlubGluZVRvb2xzLnZhbHVlcygpKS5mb3JFYWNoKChvKSA9PiB7XG4gICAgICB0aGlzLmFkZFRvb2wobyk7XG4gICAgfSksIHRoaXMucmVjYWxjdWxhdGVXaWR0aCgpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdG9vbCBidXR0b24gYW5kIGFjdGl2YXRlIGNsaWNrc1xuICAgKlxuICAgKiBAcGFyYW0ge0lubGluZVRvb2x9IHRvb2wgLSBJbmxpbmVUb29sIG9iamVjdFxuICAgKi9cbiAgYWRkVG9vbChlKSB7XG4gICAgY29uc3QgdCA9IGUuY3JlYXRlKCksIG8gPSB0LnJlbmRlcigpO1xuICAgIGlmICghbykge1xuICAgICAgVChcIlJlbmRlciBtZXRob2QgbXVzdCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgTm9kZVwiLCBcIndhcm5cIiwgZS5uYW1lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG8uZGF0YXNldC50b29sID0gZS5uYW1lLCB0aGlzLm5vZGVzLmJ1dHRvbnMuYXBwZW5kQ2hpbGQobyksIHRoaXMudG9vbHNJbnN0YW5jZXMuc2V0KGUubmFtZSwgdCksIEQodC5yZW5kZXJBY3Rpb25zKSkge1xuICAgICAgY29uc3QgYSA9IHQucmVuZGVyQWN0aW9ucygpO1xuICAgICAgdGhpcy5ub2Rlcy5hY3Rpb25zLmFwcGVuZENoaWxkKGEpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5vbihvLCBcImNsaWNrXCIsIChhKSA9PiB7XG4gICAgICB0aGlzLnRvb2xDbGlja2VkKHQpLCBhLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgY29uc3QgaSA9IHRoaXMuZ2V0VG9vbFNob3J0Y3V0KGUubmFtZSk7XG4gICAgaWYgKGkpXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmVuYWJsZVNob3J0Y3V0cyh0LCBpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIGNvbnN0IG4gPSBkLm1ha2UoXCJkaXZcIiksIHIgPSAkLnQoXG4gICAgICBYLnRvb2xOYW1lcyxcbiAgICAgIGUudGl0bGUgfHwga2UoZS5uYW1lKVxuICAgICk7XG4gICAgbi5hcHBlbmRDaGlsZChkLnRleHQocikpLCBpICYmIG4uYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmlubGluZVRvb2xiYXJTaG9ydGN1dCwge1xuICAgICAgdGV4dENvbnRlbnQ6IG50KGkpXG4gICAgfSkpLCBlZSgpID09PSAhMSAmJiB0aGlzLnRvb2x0aXAub25Ib3ZlcihvLCBuLCB7XG4gICAgICBwbGFjZW1lbnQ6IFwidG9wXCIsXG4gICAgICBoaWRpbmdEZWxheTogMTAwXG4gICAgfSksIHQuY2hlY2tTdGF0ZShtLmdldCgpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHNob3J0Y3V0IG5hbWUgZm9yIHRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIFx1MjAxNCBUb29sIG5hbWVcbiAgICovXG4gIGdldFRvb2xTaG9ydGN1dChlKSB7XG4gICAgY29uc3QgeyBUb29sczogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSB0LmlubGluZVRvb2xzLmdldChlKSwgaSA9IHQuaW50ZXJuYWwuaW5saW5lVG9vbHM7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaS5rZXlzKCkpLmluY2x1ZGVzKGUpID8gdGhpcy5pbmxpbmVUb29sc1tlXVtrdC5TaG9ydGN1dF0gOiBvLnNob3J0Y3V0O1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGUgVG9vbCBzaG9ydGN1dCB3aXRoIEVkaXRvciBTaG9ydGN1dHMgTW9kdWxlXG4gICAqXG4gICAqIEBwYXJhbSB7SW5saW5lVG9vbH0gdG9vbCAtIFRvb2wgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNob3J0Y3V0IC0gc2hvcnRjdXQgYWNjb3JkaW5nIHRvIHRoZSBTaG9ydGN1dERhdGEgTW9kdWxlIGZvcm1hdFxuICAgKi9cbiAgZW5hYmxlU2hvcnRjdXRzKGUsIHQpIHtcbiAgICByZS5hZGQoe1xuICAgICAgbmFtZTogdCxcbiAgICAgIGhhbmRsZXI6IChvKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiBpIH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXI7XG4gICAgICAgIGkgJiYgaS50b29sLmVuYWJsZWRJbmxpbmVUb29scyAmJiAoby5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnRvb2xDbGlja2VkKGUpKTtcbiAgICAgIH0sXG4gICAgICBvbjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5saW5lIFRvb2wgYnV0dG9uIGNsaWNrc1xuICAgKlxuICAgKiBAcGFyYW0ge0lubGluZVRvb2x9IHRvb2wgLSBUb29sJ3MgaW5zdGFuY2VcbiAgICovXG4gIHRvb2xDbGlja2VkKGUpIHtcbiAgICBjb25zdCB0ID0gbS5yYW5nZTtcbiAgICBlLnN1cnJvdW5kKHQpLCB0aGlzLmNoZWNrVG9vbHNTdGF0ZSgpLCBlLnJlbmRlckFjdGlvbnMgIT09IHZvaWQgMCAmJiB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBUb29sc2Agc3RhdGUgYnkgc2VsZWN0aW9uXG4gICAqL1xuICBjaGVja1Rvb2xzU3RhdGUoKSB7XG4gICAgdGhpcy50b29sc0luc3RhbmNlcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmNoZWNrU3RhdGUobS5nZXQoKSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmxpbmUgdG9vbHMgdG9vbHNcbiAgICogVG9vbHMgdGhhdCBoYXMgaXNJbmxpbmUgaXMgdHJ1ZVxuICAgKi9cbiAgZ2V0IGlubGluZVRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSB7fTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLkVkaXRvci5Ub29scy5pbmxpbmVUb29scy5lbnRyaWVzKCkpLmZvckVhY2goKFt0LCBvXSkgPT4ge1xuICAgICAgZVt0XSA9IG8uY3JlYXRlKCk7XG4gICAgfSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IHRvIGxlYWYgYnV0dG9ucyBieSBhcnJvd3MgLyB0YWJcbiAgICogQnV0dG9ucyB3aWxsIGJlIGZpbGxlZCBvbiBvcGVuaW5nXG4gICAqL1xuICBlbmFibGVGbGlwcGVyKCkge1xuICAgIHRoaXMuZmxpcHBlciA9IG5ldyBHKHtcbiAgICAgIGZvY3VzZWRJdGVtQ2xhc3M6IHRoaXMuQ1NTLmZvY3VzZWRCdXR0b24sXG4gICAgICBhbGxvd2VkS2V5czogW1xuICAgICAgICBCLkVOVEVSLFxuICAgICAgICBCLlRBQlxuICAgICAgXVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyAkbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQWxsIGtleWRvd25zIG9uIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBrZXlkb3duKGUpIHtcbiAgICBzd2l0Y2ggKHRoaXMuYmVmb3JlS2V5ZG93blByb2Nlc3NpbmcoZSksIGUua2V5Q29kZSkge1xuICAgICAgY2FzZSBCLkJBQ0tTUEFDRTpcbiAgICAgICAgdGhpcy5iYWNrc3BhY2UoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLkVOVEVSOlxuICAgICAgICB0aGlzLmVudGVyKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5ET1dOOlxuICAgICAgY2FzZSBCLlJJR0hUOlxuICAgICAgICB0aGlzLmFycm93UmlnaHRBbmREb3duKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5VUDpcbiAgICAgIGNhc2UgQi5MRUZUOlxuICAgICAgICB0aGlzLmFycm93TGVmdEFuZFVwKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5UQUI6XG4gICAgICAgIHRoaXMudGFiUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaXJlcyBvbiBrZXlkb3duIGJlZm9yZSBldmVudCBwcm9jZXNzaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBiZWZvcmVLZXlkb3duUHJvY2Vzc2luZyhlKSB7XG4gICAgdGhpcy5uZWVkVG9vbGJhckNsb3NpbmcoZSkgJiYgdHQoZS5rZXlDb2RlKSAmJiAodGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5jbG9zZSgpLCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhckZvY3VzZWQoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSkpKTtcbiAgfVxuICAvKipcbiAgICogS2V5IHVwIG9uIEJsb2NrOlxuICAgKiAtIHNob3dzIElubGluZSBUb29sYmFyIGlmIHNvbWV0aGluZyBzZWxlY3RlZFxuICAgKiAtIHNob3dzIGNvbnZlcnNpb24gdG9vbGJhciB3aXRoIDg1JSBvZiBibG9jayBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleXVwIGV2ZW50XG4gICAqL1xuICBrZXl1cChlKSB7XG4gICAgZS5zaGlmdEtleSB8fCB0aGlzLkVkaXRvci5VSS5jaGVja0VtcHRpbmVzcygpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xib3ggdG8gbGVhZiBUb29sc1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gdGFiIGtleWRvd24gZXZlbnRcbiAgICovXG4gIHRhYlByZXNzZWQoZSkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBJbmxpbmVUb29sYmFyOiBvLCBDb252ZXJzaW9uVG9vbGJhcjogaSB9ID0gdGhpcy5FZGl0b3IsIG4gPSB0LmN1cnJlbnRCbG9jaztcbiAgICBpZiAoIW4pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgciA9IG4uaXNFbXB0eSwgYSA9IG4udG9vbC5pc0RlZmF1bHQgJiYgciwgbCA9ICFyICYmIGkub3BlbmVkLCBjID0gIXIgJiYgIW0uaXNDb2xsYXBzZWQgJiYgby5vcGVuZWQ7XG4gICAgYSA/IHRoaXMuYWN0aXZhdGVUb29sYm94KCkgOiAhbCAmJiAhYyAmJiB0aGlzLmFjdGl2YXRlQmxvY2tTZXR0aW5ncygpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZHJvcCB0YXJnZXQgc3R5bGVzXG4gICAqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBldmVudCAtIGRyYWcgb3ZlciBldmVudFxuICAgKi9cbiAgZHJhZ092ZXIoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgdC5kcm9wVGFyZ2V0ID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBkcm9wIHRhcmdldCBzdHlsZVxuICAgKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZXZlbnQgLSBkcmFnIGxlYXZlIGV2ZW50XG4gICAqL1xuICBkcmFnTGVhdmUoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgdC5kcm9wVGFyZ2V0ID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIENvcHlpbmcgc2VsZWN0ZWQgYmxvY2tzXG4gICAqIEJlZm9yZSBwdXR0aW5nIHRvIHRoZSBjbGlwYm9hcmQgd2Ugc2FuaXRpemUgYWxsIGJsb2NrcyBhbmQgdGhlbiBjb3B5IHRvIHRoZSBjbGlwYm9hcmRcbiAgICpcbiAgICogQHBhcmFtIHtDbGlwYm9hcmRFdmVudH0gZXZlbnQgLSBjbGlwYm9hcmQgZXZlbnRcbiAgICovXG4gIGhhbmRsZUNvbW1hbmRDKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrU2VsZWN0aW9uOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmFueUJsb2NrU2VsZWN0ZWQgJiYgdC5jb3B5U2VsZWN0ZWRCbG9ja3MoZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvcHkgYW5kIERlbGV0ZSBzZWxlY3RlZCBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtDbGlwYm9hcmRFdmVudH0gZXZlbnQgLSBjbGlwYm9hcmQgZXZlbnRcbiAgICovXG4gIGhhbmRsZUNvbW1hbmRYKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrU2VsZWN0aW9uOiB0LCBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmFueUJsb2NrU2VsZWN0ZWQgJiYgdC5jb3B5U2VsZWN0ZWRCbG9ja3MoZSkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBuID0gby5yZW1vdmVTZWxlY3RlZEJsb2NrcygpLCByID0gby5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KG4sICEwKTtcbiAgICAgIGkuc2V0VG9CbG9jayhyLCBpLnBvc2l0aW9ucy5TVEFSVCksIHQuY2xlYXJTZWxlY3Rpb24oZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVOVEVSIHByZXNzZWQgb24gYmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGVudGVyKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgVUk6IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmICh0LmN1cnJlbnRCbG9jay50b29sLmlzTGluZUJyZWFrc0VuYWJsZWQgfHwgby5zb21lVG9vbGJhck9wZW5lZCAmJiBvLnNvbWVGbGlwcGVyQnV0dG9uRm9jdXNlZCB8fCBlLnNoaWZ0S2V5KVxuICAgICAgcmV0dXJuO1xuICAgIGxldCBuID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jaztcbiAgICB0aGlzLkVkaXRvci5DYXJldC5pc0F0U3RhcnQgJiYgIXRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suaGFzTWVkaWEgPyB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleCh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXgpIDogdGhpcy5FZGl0b3IuQ2FyZXQuaXNBdEVuZCA/IG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleCh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXggKyAxKSA6IG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc3BsaXQoKSwgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhuKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbihuKSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYmFja3NwYWNlIGtleWRvd24gb24gQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGJhY2tzcGFjZShlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3IsIG4gPSB0LmN1cnJlbnRCbG9jaywgciA9IG4udG9vbDtcbiAgICBpZiAobi5zZWxlY3RlZCB8fCBuLmlzRW1wdHkgJiYgbi5jdXJyZW50SW5wdXQgPT09IG4uZmlyc3RJbnB1dCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYyA9IHQuY3VycmVudEJsb2NrSW5kZXg7XG4gICAgICB0LnByZXZpb3VzQmxvY2sgJiYgdC5wcmV2aW91c0Jsb2NrLmlucHV0cy5sZW5ndGggPT09IDAgPyB0LnJlbW92ZUJsb2NrKGMgLSAxKSA6IHQucmVtb3ZlQmxvY2soKSwgaS5zZXRUb0Jsb2NrKFxuICAgICAgICB0LmN1cnJlbnRCbG9jayxcbiAgICAgICAgYyA/IGkucG9zaXRpb25zLkVORCA6IGkucG9zaXRpb25zLlNUQVJUXG4gICAgICApLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksIG8uY2xlYXJTZWxlY3Rpb24oZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyLmlzTGluZUJyZWFrc0VuYWJsZWQgJiYgIWkuaXNBdFN0YXJ0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGEgPSB0LmN1cnJlbnRCbG9ja0luZGV4ID09PSAwO1xuICAgIGkuaXNBdFN0YXJ0ICYmIG0uaXNDb2xsYXBzZWQgJiYgbi5jdXJyZW50SW5wdXQgPT09IG4uZmlyc3RJbnB1dCAmJiAhYSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLm1lcmdlQmxvY2tzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBNZXJnZSBjdXJyZW50IGFuZCBwcmV2aW91cyBCbG9ja3MgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHR5cGVcbiAgICovXG4gIG1lcmdlQmxvY2tzKCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBDYXJldDogdCwgVG9vbGJhcjogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSBlLnByZXZpb3VzQmxvY2ssIG4gPSBlLmN1cnJlbnRCbG9jaztcbiAgICBpZiAobi5uYW1lICE9PSBpLm5hbWUgfHwgIWkubWVyZ2VhYmxlKSB7XG4gICAgICBpZiAoaS5pbnB1dHMubGVuZ3RoID09PSAwIHx8IGkuaXNFbXB0eSkge1xuICAgICAgICBlLnJlbW92ZUJsb2NrKGUuY3VycmVudEJsb2NrSW5kZXggLSAxKSwgdC5zZXRUb0Jsb2NrKGUuY3VycmVudEJsb2NrKSwgby5jbG9zZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0Lm5hdmlnYXRlUHJldmlvdXMoKSAmJiBvLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHQuY3JlYXRlU2hhZG93KGkucGx1Z2luc0NvbnRlbnQpLCBlLm1lcmdlQmxvY2tzKGksIG4pLnRoZW4oKCkgPT4ge1xuICAgICAgdC5yZXN0b3JlQ2FyZXQoaS5wbHVnaW5zQ29udGVudCksIGkucGx1Z2luc0NvbnRlbnQubm9ybWFsaXplKCksIG8uY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHJpZ2h0IGFuZCBkb3duIGtleWJvYXJkIGtleXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBhcnJvd1JpZ2h0QW5kRG93bihlKSB7XG4gICAgY29uc3QgdCA9IEcudXNlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKSAmJiAoIWUuc2hpZnRLZXkgfHwgZS5rZXlDb2RlID09PSBCLlRBQik7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkICYmIHQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyRm9jdXNlZCgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gICAgY29uc3QgbyA9IHRoaXMuRWRpdG9yLkNhcmV0LmlzQXRFbmQgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uYW55QmxvY2tTZWxlY3RlZDtcbiAgICBpZiAoZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT09IEIuRE9XTiAmJiBvKSB7XG4gICAgICB0aGlzLkVkaXRvci5Dcm9zc0Jsb2NrU2VsZWN0aW9uLnRvZ2dsZUJsb2NrU2VsZWN0ZWRTdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoZS5rZXlDb2RlID09PSBCLkRPV04gfHwgZS5rZXlDb2RlID09PSBCLlJJR0hUICYmICF0aGlzLmlzUnRsID8gdGhpcy5FZGl0b3IuQ2FyZXQubmF2aWdhdGVOZXh0KCkgOiB0aGlzLkVkaXRvci5DYXJldC5uYXZpZ2F0ZVByZXZpb3VzKCkpID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogb2UoKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLnVwZGF0ZUN1cnJlbnRJbnB1dCgpO1xuICAgIH0sIDIwKSgpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGxlZnQgYW5kIHVwIGtleWJvYXJkIGtleXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBhcnJvd0xlZnRBbmRVcChlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkKSB7XG4gICAgICBpZiAoRy51c2VkS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpICYmICghZS5zaGlmdEtleSB8fCBlLmtleUNvZGUgPT09IEIuVEFCKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5FZGl0b3IuVUkuY2xvc2VBbGxUb29sYmFycygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXJGb2N1c2VkKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQ2FyZXQuaXNBdFN0YXJ0IHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQ7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSBCLlVQICYmIHQpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKGUua2V5Q29kZSA9PT0gQi5VUCB8fCBlLmtleUNvZGUgPT09IEIuTEVGVCAmJiAhdGhpcy5pc1J0bCA/IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlTmV4dCgpKSA/IGUucHJldmVudERlZmF1bHQoKSA6IG9lKCgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCAyMCkoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhc2VzIHdoZW4gd2UgbmVlZCB0byBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgbmVlZFRvb2xiYXJDbG9zaW5nKGUpIHtcbiAgICBjb25zdCB0ID0gZS5rZXlDb2RlID09PSBCLkVOVEVSICYmIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQsIG8gPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQsIGkgPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5vcGVuZWQsIG4gPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIub3BlbmVkLCByID0gZS5rZXlDb2RlID09PSBCLlRBQjtcbiAgICByZXR1cm4gIShlLnNoaWZ0S2V5IHx8IHIgfHwgdCB8fCBvIHx8IGkgfHwgbik7XG4gIH1cbiAgLyoqXG4gICAqIElmIFRvb2xib3ggaXMgbm90IG9wZW4sIHRoZW4ganVzdCBvcGVuIGl0IGFuZCBzaG93IHBsdXMgYnV0dG9uXG4gICAqL1xuICBhY3RpdmF0ZVRvb2xib3goKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5vcGVuZWQgfHwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgYW5kIHNob3cgQmxvY2tTZXR0aW5ncyBiZWZvcmUgZmxpcHBpbmcgVG9vbHNcbiAgICovXG4gIGFjdGl2YXRlQmxvY2tTZXR0aW5ncygpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm9wZW5lZCB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5mb2N1c2VkID0gITAsIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpO1xuICB9XG59XG5jbGFzcyBDZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gd29ya2luZ0FyZWEgXHUyMDE0IGVkaXRvcmBzIHdvcmtpbmcgbm9kZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuYmxvY2tzID0gW10sIHRoaXMud29ya2luZ0FyZWEgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbGVuZ3RoIG9mIEJsb2NrIGluc3RhbmNlcyBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2VzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IGFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrcztcbiAgfVxuICAvKipcbiAgICogR2V0IGJsb2NrcyBodG1sIGVsZW1lbnRzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0IG5vZGVzKCkge1xuICAgIHJldHVybiBpdCh0aGlzLndvcmtpbmdBcmVhLmNoaWxkcmVuKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBzZXR0ZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYmxvY2tzWzBdID0gbmV3IEJsb2NrKC4uLilcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIFx1MjAxNCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkgXHUyMDE0IGJsb2NrIGluZGV4IG9yIGFueSBCbG9ja3MgY2xhc3MgcHJvcGVydHkga2V5IHRvIHNldFxuICAgKiBAcGFyYW0ge0Jsb2NrfSB2YWx1ZSBcdTIwMTQgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIHNldChlLCB0LCBvKSB7XG4gICAgcmV0dXJuIGlzTmFOKE51bWJlcih0KSkgPyAoUmVmbGVjdC5zZXQoZSwgdCwgbyksICEwKSA6IChlLmluc2VydCgrdCwgbyksICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBnZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIFx1MjAxNCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkgXHUyMDE0IEJsb2NrcyBjbGFzcyBwcm9wZXJ0eSBrZXlcbiAgICogQHJldHVybnMge0Jsb2NrfCp9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHQpKSA/IFJlZmxlY3QuZ2V0KGUsIHQpIDogZS5nZXQoK3QpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIG5ldyBCbG9jayB0byB0aGUgYmxvY2tzIGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gd29ya2luZyBhcmVhXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gYWRkXG4gICAqL1xuICBwdXNoKGUpIHtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGUpLCB0aGlzLmluc2VydFRvRE9NKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwcyBibG9ja3Mgd2l0aCBpbmRleGVzIGZpcnN0IGFuZCBzZWNvbmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpcnN0IC0gZmlyc3QgYmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZCAtIHNlY29uZCBibG9jayBpbmRleFxuICAgKiBAZGVwcmVjYXRlZCBcdTIwMTQgdXNlICdtb3ZlJyBpbnN0ZWFkXG4gICAqL1xuICBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3NbdF07XG4gICAgZC5zd2FwKHRoaXMuYmxvY2tzW2VdLmhvbGRlciwgby5ob2xkZXIpLCB0aGlzLmJsb2Nrc1t0XSA9IHRoaXMuYmxvY2tzW2VdLCB0aGlzLmJsb2Nrc1tlXSA9IG87XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgYSBibG9jayBmcm9tIG9uZSB0byBhbm90aGVyIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gbmV3IGluZGV4IG9mIHRoZSBibG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gYmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYmxvY2tzLnNwbGljZSh0LCAxKVswXSwgaSA9IGUgLSAxLCBuID0gTWF0aC5tYXgoMCwgaSksIHIgPSB0aGlzLmJsb2Nrc1tuXTtcbiAgICBlID4gMCA/IHRoaXMuaW5zZXJ0VG9ET00obywgXCJhZnRlcmVuZFwiLCByKSA6IHRoaXMuaW5zZXJ0VG9ET00obywgXCJiZWZvcmViZWdpblwiLCByKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDAsIG8pO1xuICAgIGNvbnN0IGEgPSB0aGlzLmNvbXBvc2VCbG9ja0V2ZW50KFwibW92ZVwiLCB7XG4gICAgICBmcm9tSW5kZXg6IHQsXG4gICAgICB0b0luZGV4OiBlXG4gICAgfSk7XG4gICAgby5jYWxsKHEuTU9WRUQsIGEpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggXHUyMDE0IGluZGV4IHRvIGluc2VydCBCbG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayBcdTIwMTQgQmxvY2sgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSBcdTIwMTQgaXQgdHJ1ZSwgcmVwbGFjZSBibG9jayBvbiBnaXZlbiBpbmRleFxuICAgKi9cbiAgaW5zZXJ0KGUsIHQsIG8gPSAhMSkge1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucHVzaCh0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA+IHRoaXMubGVuZ3RoICYmIChlID0gdGhpcy5sZW5ndGgpLCBvICYmICh0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwocS5SRU1PVkVEKSk7XG4gICAgY29uc3QgaSA9IG8gPyAxIDogMDtcbiAgICBpZiAodGhpcy5ibG9ja3Muc3BsaWNlKGUsIGksIHQpLCBlID4gMCkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuYmxvY2tzW2UgLSAxXTtcbiAgICAgIHRoaXMuaW5zZXJ0VG9ET00odCwgXCJhZnRlcmVuZFwiLCBuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbiA9IHRoaXMuYmxvY2tzW2UgKyAxXTtcbiAgICAgIG4gPyB0aGlzLmluc2VydFRvRE9NKHQsIFwiYmVmb3JlYmVnaW5cIiwgbikgOiB0aGlzLmluc2VydFRvRE9NKHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlKGUpIHtcbiAgICBpc05hTihlKSAmJiAoZSA9IHRoaXMubGVuZ3RoIC0gMSksIHRoaXMuYmxvY2tzW2VdLmhvbGRlci5yZW1vdmUoKSwgdGhpcy5ibG9ja3NbZV0uY2FsbChxLlJFTU9WRUQpLCB0aGlzLmJsb2Nrcy5zcGxpY2UoZSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgYmxvY2tzXG4gICAqL1xuICByZW1vdmVBbGwoKSB7XG4gICAgdGhpcy53b3JraW5nQXJlYS5pbm5lckhUTUwgPSBcIlwiLCB0aGlzLmJsb2Nrcy5mb3JFYWNoKChlKSA9PiBlLmNhbGwocS5SRU1PVkVEKSksIHRoaXMuYmxvY2tzLmxlbmd0aCA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBCbG9jayBhZnRlciBwYXNzZWQgdGFyZ2V0XG4gICAqXG4gICAqIEB0b2RvIGRlY2lkZSBpZiB0aGlzIG1ldGhvZCBpcyBuZWNlc3NhcnlcbiAgICogQHBhcmFtIHtCbG9ja30gdGFyZ2V0QmxvY2sgXHUyMDE0IHRhcmdldCBhZnRlciB3aGljaCBCbG9jayBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICogQHBhcmFtIHtCbG9ja30gbmV3QmxvY2sgXHUyMDE0IEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgaW5zZXJ0QWZ0ZXIoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmJsb2Nrcy5pbmRleE9mKGUpO1xuICAgIHRoaXMuaW5zZXJ0KG8gKyAxLCB0KTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrIGJ5IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBcdTIwMTQgQmxvY2sgaW5kZXhcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0KGUpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3NbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBpbmRleCBvZiBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBmaW5kXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBpbmRleE9mKGUpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MuaW5kZXhPZihlKTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IG5ldyBCbG9jayBpbnRvIERPTVxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIHRvIGluc2VydFxuICAgKiBAcGFyYW0ge0luc2VydFBvc2l0aW9ufSBwb3NpdGlvbiBcdTIwMTQgaW5zZXJ0IHBvc2l0aW9uIChpZiBzZXQsIHdpbGwgdXNlIGluc2VydEFkamFjZW50RWxlbWVudClcbiAgICogQHBhcmFtIHtCbG9ja30gdGFyZ2V0IFx1MjAxNCBCbG9jayByZWxhdGVkIHRvIHBvc2l0aW9uXG4gICAqL1xuICBpbnNlcnRUb0RPTShlLCB0LCBvKSB7XG4gICAgdCA/IG8uaG9sZGVyLmluc2VydEFkamFjZW50RWxlbWVudCh0LCBlLmhvbGRlcikgOiB0aGlzLndvcmtpbmdBcmVhLmFwcGVuZENoaWxkKGUuaG9sZGVyKSwgZS5jYWxsKHEuUkVOREVSRUQpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wb3NlcyBCbG9jayBldmVudCB3aXRoIHBhc3NlZCB0eXBlIGFuZCBkZXRhaWxzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge29iamVjdH0gZGV0YWlsIC0gZXZlbnQgZGV0YWlsXG4gICAqL1xuICBjb21wb3NlQmxvY2tFdmVudChlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChlLCB7XG4gICAgICBkZXRhaWw6IHRcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgSmUgPSBcImJsb2NrLXJlbW92ZWRcIiwgUWUgPSBcImJsb2NrLWFkZGVkXCIsIFdvID0gXCJibG9jay1tb3ZlZFwiLCBZbyA9IFwiYmxvY2stY2hhbmdlZFwiO1xuY2xhc3MgS28gZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5fY3VycmVudEJsb2NrSW5kZXggPSAtMSwgdGhpcy5fYmxvY2tzID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IEJsb2NrIGluZGV4XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgY3VycmVudEJsb2NrSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRCbG9ja0luZGV4O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgY3VycmVudCBCbG9jayBpbmRleCBhbmQgZmlyZSBCbG9jayBsaWZlY3ljbGUgY2FsbGJhY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdJbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIHNldCBhcyBjdXJyZW50XG4gICAqL1xuICBzZXQgY3VycmVudEJsb2NrSW5kZXgoZSkge1xuICAgIHRoaXMuX2N1cnJlbnRCbG9ja0luZGV4ID0gZTtcbiAgfVxuICAvKipcbiAgICogcmV0dXJucyBmaXJzdCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgZmlyc3RCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzWzBdO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGxhc3QgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0IGxhc3RCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzW3RoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgQmxvY2sgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrSW5kZXhdO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgcGFzc2VkIEJsb2NrIGFzIGEgY3VycmVudFxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgLSBibG9jayB0byBzZXQgYXMgYSBjdXJyZW50XG4gICAqL1xuICBzZXQgY3VycmVudEJsb2NrKGUpIHtcbiAgICB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5nZXRCbG9ja0luZGV4KGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIG5leHQgQmxvY2sgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfG51bGx9XG4gICAqL1xuICBnZXQgbmV4dEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID09PSB0aGlzLl9ibG9ja3MubGVuZ3RoIC0gMSA/IG51bGwgOiB0aGlzLl9ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tJbmRleCArIDFdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgQmxvY2sgd2l0aCBpbnB1dHMgYWZ0ZXIgY3VycmVudCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2sgfCB1bmRlZmluZWR9XG4gICAqL1xuICBnZXQgbmV4dENvbnRlbnRmdWxCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3Muc2xpY2UodGhpcy5jdXJyZW50QmxvY2tJbmRleCArIDEpLmZpbmQoKHQpID0+ICEhdC5pbnB1dHMubGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IEJsb2NrIHdpdGggaW5wdXRzIGJlZm9yZSBjdXJyZW50IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9jayB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGdldCBwcmV2aW91c0NvbnRlbnRmdWxCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3Muc2xpY2UoMCwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCkucmV2ZXJzZSgpLmZpbmQoKHQpID0+ICEhdC5pbnB1dHMubGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwcmV2aW91cyBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t8bnVsbH1cbiAgICovXG4gIGdldCBwcmV2aW91c0Jsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID09PSAwID8gbnVsbCA6IHRoaXMuX2Jsb2Nrc1t0aGlzLmN1cnJlbnRCbG9ja0luZGV4IC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhcnJheSBvZiBCbG9jayBpbnN0YW5jZXNcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrW119IHtAbGluayBCbG9ja3MjYXJyYXl9XG4gICAqL1xuICBnZXQgYmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MuYXJyYXk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGVhY2ggQmxvY2sgaXMgZW1wdHlcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNFZGl0b3JFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MuZXZlcnkoKGUpID0+IGUuaXNFbXB0eSk7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgRWRpdG9yLlVJIHByZXBhcmF0aW9uXG4gICAqIERlZmluZSB0aGlzLl9ibG9ja3MgcHJvcGVydHlcbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgY29uc3QgZSA9IG5ldyBDZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3Rvcik7XG4gICAgdGhpcy5fYmxvY2tzID0gbmV3IFByb3h5KGUsIHtcbiAgICAgIHNldDogQ2Uuc2V0LFxuICAgICAgZ2V0OiBDZS5nZXRcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24oXG4gICAgICBkb2N1bWVudCxcbiAgICAgIFwiY29weVwiLFxuICAgICAgKHQpID0+IHRoaXMuRWRpdG9yLkJsb2NrRXZlbnRzLmhhbmRsZUNvbW1hbmRDKHQpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBJZiByZWFkT25seSBpcyB0cnVlOlxuICAgKiAgLSBVbmJpbmQgZXZlbnQgaGFuZGxlcnMgZnJvbSBjcmVhdGVkIEJsb2Nrc1xuICAgKlxuICAgKiBpZiByZWFkT25seSBpcyBmYWxzZTpcbiAgICogIC0gQmluZCBldmVudCBoYW5kbGVycyB0byBhbGwgZXhpc3RpbmcgQmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gXCJyZWFkIG9ubHlcIiBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpIDogdGhpcy5lbmFibGVNb2R1bGVCaW5kaW5ncygpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIEJsb2NrIGluc3RhbmNlIGJ5IHRvb2wgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGJsb2NrIGNyZWF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudG9vbCAtIHRvb2xzIHBhc3NlZCBpbiBlZGl0b3IgY29uZmlnIHtAbGluayBFZGl0b3JDb25maWcjdG9vbHN9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF0gLSB1bmlxdWUgaWQgZm9yIHRoaXMgYmxvY2tcbiAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBbb3B0aW9ucy5kYXRhXSAtIGNvbnN0cnVjdG9yIHBhcmFtc1xuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBjb21wb3NlQmxvY2soe1xuICAgIHRvb2w6IGUsXG4gICAgZGF0YTogdCA9IHt9LFxuICAgIGlkOiBvID0gdm9pZCAwLFxuICAgIHR1bmVzOiBpID0ge31cbiAgfSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQsIHIgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLmdldChlKSwgYSA9IG5ldyBGKHtcbiAgICAgIGlkOiBvLFxuICAgICAgZGF0YTogdCxcbiAgICAgIHRvb2w6IHIsXG4gICAgICBhcGk6IHRoaXMuRWRpdG9yLkFQSSxcbiAgICAgIHJlYWRPbmx5OiBuLFxuICAgICAgdHVuZXNEYXRhOiBpXG4gICAgfSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyKTtcbiAgICByZXR1cm4gbiB8fCB0aGlzLmJpbmRCbG9ja0V2ZW50cyhhKSwgYTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IG5ldyBibG9jayBpbnRvIF9ibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBpbnNlcnQgb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWRdIC0gYmxvY2sncyB1bmlxdWUgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRvb2xdIC0gcGx1Z2luIG5hbWUsIGJ5IGRlZmF1bHQgbWV0aG9kIGluc2VydHMgdGhlIGRlZmF1bHQgYmxvY2sgdHlwZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZGF0YV0gLSBwbHVnaW4gZGF0YVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW5kZXhdIC0gaW5kZXggd2hlcmUgdG8gaW5zZXJ0IG5ldyBCbG9ja1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5lZWRUb0ZvY3VzXSAtIGZsYWcgc2hvd3MgaWYgbmVlZGVkIHRvIHVwZGF0ZSBjdXJyZW50IEJsb2NrIGluZGV4XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVwbGFjZV0gLSBmbGFnIHNob3dzIGlmIGJsb2NrIGJ5IHBhc3NlZCBpbmRleCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBpbnNlcnRlZCBvbmVcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgaW5zZXJ0KHtcbiAgICBpZDogZSA9IHZvaWQgMCxcbiAgICB0b29sOiB0ID0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLFxuICAgIGRhdGE6IG8gPSB7fSxcbiAgICBpbmRleDogaSxcbiAgICBuZWVkVG9Gb2N1czogbiA9ICEwLFxuICAgIHJlcGxhY2U6IHIgPSAhMSxcbiAgICB0dW5lczogYSA9IHt9XG4gIH0gPSB7fSkge1xuICAgIGxldCBsID0gaTtcbiAgICBsID09PSB2b2lkIDAgJiYgKGwgPSB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgKHIgPyAwIDogMSkpO1xuICAgIGNvbnN0IGMgPSB0aGlzLmNvbXBvc2VCbG9jayh7XG4gICAgICBpZDogZSxcbiAgICAgIHRvb2w6IHQsXG4gICAgICBkYXRhOiBvLFxuICAgICAgdHVuZXM6IGFcbiAgICB9KTtcbiAgICByZXR1cm4gciAmJiB0aGlzLmJsb2NrRGlkTXV0YXRlZChKZSwgdGhpcy5nZXRCbG9ja0J5SW5kZXgobCksIHtcbiAgICAgIGluZGV4OiBsXG4gICAgfSksIHRoaXMuX2Jsb2Nrcy5pbnNlcnQobCwgYywgciksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFFlLCBjLCB7XG4gICAgICBpbmRleDogbFxuICAgIH0pLCBuID8gdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IGwgOiBsIDw9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggJiYgdGhpcy5jdXJyZW50QmxvY2tJbmRleCsrLCBjO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGN1cnJlbnQgd29ya2luZyBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIHJlcGxhY2Ugb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50b29sIFx1MjAxNCBwbHVnaW4gbmFtZVxuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IG9wdGlvbnMuZGF0YSBcdTIwMTQgcGx1Z2luIGRhdGFcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgcmVwbGFjZSh7XG4gICAgdG9vbDogZSA9IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICBkYXRhOiB0ID0ge31cbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiBlLFxuICAgICAgZGF0YTogdCxcbiAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4LFxuICAgICAgcmVwbGFjZTogITBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHBhc3RlZCBjb250ZW50LiBDYWxsIG9uUGFzdGUgY2FsbGJhY2sgYWZ0ZXIgaW5zZXJ0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9vbE5hbWUgLSBuYW1lIG9mIFRvb2wgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gcGFzdGVFdmVudCAtIHBhc3RlZCBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIHNob3VsZCByZXBsYWNlIGN1cnJlbnQgYmxvY2tcbiAgICovXG4gIHBhc3RlKGUsIHQsIG8gPSAhMSkge1xuICAgIGNvbnN0IGkgPSB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiBlLFxuICAgICAgcmVwbGFjZTogb1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICBpLmNhbGwocS5PTl9QQVNURSwgdCk7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgVChgJHtlfTogb25QYXN0ZSBjYWxsYmFjayBjYWxsIGlzIGZhaWxlZGAsIFwiZXJyb3JcIiwgbik7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IGRlZmF1bHQgYmxvY2sgYXQgcGFzc2VkIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IHdoZXJlIEJsb2NrIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5lZWRUb0ZvY3VzIC0gaWYgdHJ1ZSwgdXBkYXRlcyBjdXJyZW50IEJsb2NrIGluZGV4XG4gICAqXG4gICAqIFRPRE86IFJlbW92ZSBtZXRob2QgYW5kIHVzZSBpbnNlcnQoKSB3aXRoIGluZGV4IGluc3RlYWQgKD8pXG4gICAqIEByZXR1cm5zIHtCbG9ja30gaW5zZXJ0ZWQgQmxvY2tcbiAgICovXG4gIGluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgoZSwgdCA9ICExKSB7XG4gICAgY29uc3QgbyA9IHRoaXMuY29tcG9zZUJsb2NrKHsgdG9vbDogdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrIH0pO1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbZV0gPSBvLCB0aGlzLmJsb2NrRGlkTXV0YXRlZChRZSwgbywge1xuICAgICAgaW5kZXg6IGVcbiAgICB9KSwgdCA/IHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSBlIDogZSA8PSB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICYmIHRoaXMuY3VycmVudEJsb2NrSW5kZXgrKywgbztcbiAgfVxuICAvKipcbiAgICogQWx3YXlzIGluc2VydHMgYXQgdGhlIGVuZFxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBpbnNlcnRBdEVuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IHRoaXMuYmxvY2tzLmxlbmd0aCAtIDEsIHRoaXMuaW5zZXJ0KCk7XG4gIH1cbiAgLyoqXG4gICAqIE1lcmdlIHR3byBibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gdGFyZ2V0QmxvY2sgLSBwcmV2aW91cyBibG9jayB3aWxsIGJlIGFwcGVuZCB0byB0aGlzIGJsb2NrXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrVG9NZXJnZSAtIGJsb2NrIHRoYXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0YXJnZXQgYmxvY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gdGhlIHNlcXVlbmNlIHRoYXQgY2FuIGJlIGNvbnRpbnVlZFxuICAgKi9cbiAgYXN5bmMgbWVyZ2VCbG9ja3MoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLl9ibG9ja3MuaW5kZXhPZih0KTtcbiAgICBpZiAodC5pc0VtcHR5KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGkgPSBhd2FpdCB0LmRhdGE7XG4gICAgVihpKSB8fCBhd2FpdCBlLm1lcmdlV2l0aChpKSwgdGhpcy5yZW1vdmVCbG9jayhvKSwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IHRoaXMuX2Jsb2Nrcy5pbmRleE9mKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYmxvY2sgd2l0aCBwYXNzZWQgaW5kZXggb3IgcmVtb3ZlIGxhc3RcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8bnVsbH0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byByZW1vdmVcbiAgICogQHRocm93cyB7RXJyb3J9IGlmIEJsb2NrIHRvIHJlbW92ZSBpcyBub3QgZm91bmRcbiAgICovXG4gIHJlbW92ZUJsb2NrKGUgPSB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KSB7XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlSW5kZXgoZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGEgQmxvY2sgdG8gcmVtb3ZlXCIpO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9ibG9ja3NbZV07XG4gICAgdC5kZXN0cm95KCksIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoZSksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKEplLCB0LCB7XG4gICAgICBpbmRleDogZVxuICAgIH0pLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID49IGUgJiYgdGhpcy5jdXJyZW50QmxvY2tJbmRleC0tLCB0aGlzLmJsb2Nrcy5sZW5ndGggPyBlID09PSAwICYmICh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gMCkgOiAodGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLmluc2VydCgpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIG9ubHkgc2VsZWN0ZWQgQmxvY2tzXG4gICAqIGFuZCByZXR1cm5zIGZpcnN0IEJsb2NrIGluZGV4IHdoZXJlIHN0YXJ0ZWQgcmVtb3ZpbmcuLi5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9XG4gICAqL1xuICByZW1vdmVTZWxlY3RlZEJsb2NrcygpIHtcbiAgICBsZXQgZTtcbiAgICBmb3IgKGxldCB0ID0gdGhpcy5ibG9ja3MubGVuZ3RoIC0gMTsgdCA+PSAwOyB0LS0pXG4gICAgICB0aGlzLmJsb2Nrc1t0XS5zZWxlY3RlZCAmJiAodGhpcy5yZW1vdmVCbG9jayh0KSwgZSA9IHQpO1xuICAgIHJldHVybiBlO1xuICB9XG4gIC8qKlxuICAgKiBBdHRlbnRpb24hXG4gICAqIEFmdGVyIHJlbW92aW5nIGluc2VydCB0aGUgbmV3IGRlZmF1bHQgdHlwZWQgQmxvY2sgYW5kIGZvY3VzIG9uIGl0XG4gICAqIFJlbW92ZXMgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsQmxvY2tzKCkge1xuICAgIGZvciAobGV0IGUgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyBlID49IDA7IGUtLSlcbiAgICAgIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoZSk7XG4gICAgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLmluc2VydCgpLCB0aGlzLmN1cnJlbnRCbG9jay5maXJzdElucHV0LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0IGN1cnJlbnQgQmxvY2tcbiAgICogMS4gRXh0cmFjdCBjb250ZW50IGZyb20gQ2FyZXQgcG9zaXRpb24gdG8gdGhlIEJsb2NrYHMgZW5kXG4gICAqIDIuIEluc2VydCBhIG5ldyBCbG9jayBiZWxvdyBjdXJyZW50IG9uZSB3aXRoIGV4dHJhY3RlZCBjb250ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIHNwbGl0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5DYXJldC5leHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvbigpLCB0ID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIHQuYXBwZW5kQ2hpbGQoZSk7XG4gICAgY29uc3QgbyA9IHtcbiAgICAgIHRleHQ6IGQuaXNFbXB0eSh0KSA/IFwiXCIgOiB0LmlubmVySFRNTFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHsgZGF0YTogbyB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBieSBwYXNzZWQgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggdG8gZ2V0LiAtMSB0byBnZXQgbGFzdFxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5SW5kZXgoZSkge1xuICAgIHJldHVybiBlID09PSAtMSAmJiAoZSA9IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKSwgdGhpcy5fYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluZGV4IGZvciBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gZmluZCBpbmRleFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5pbmRleE9mKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBCbG9jayBieSBwYXNzZWQgaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gaWQgb2YgYmxvY2sgdG8gZ2V0XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldEJsb2NrQnlJZChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheS5maW5kKCh0KSA9PiB0LmlkID09PSBlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrIGluc3RhbmNlIGJ5IGh0bWwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gZ2V0IEJsb2NrIGJ5XG4gICAqL1xuICBnZXRCbG9jayhlKSB7XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9ibG9ja3Mubm9kZXMsIG8gPSBlLmNsb3Nlc3QoYC4ke0YuQ1NTLndyYXBwZXJ9YCksIGkgPSB0LmluZGV4T2Yobyk7XG4gICAgaWYgKGkgPj0gMClcbiAgICAgIHJldHVybiB0aGlzLl9ibG9ja3NbaV07XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBzZWxlY3Rpb24gZnJvbSBhbGwgQmxvY2tzIHRoZW4gaGlnaGxpZ2h0IG9ubHkgQ3VycmVudCBCbG9ja1xuICAgKi9cbiAgaGlnaGxpZ2h0Q3VycmVudE5vZGUoKSB7XG4gICAgdGhpcy5jbGVhckZvY3VzZWQoKSwgdGhpcy5jdXJyZW50QmxvY2suZm9jdXNlZCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgc2VsZWN0aW9uIGZyb20gYWxsIEJsb2Nrc1xuICAgKi9cbiAgY2xlYXJGb2N1c2VkKCkge1xuICAgIHRoaXMuYmxvY2tzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUuZm9jdXNlZCA9ICExO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiAxKSBGaW5kIGZpcnN0LWxldmVsIEJsb2NrIGZyb20gcGFzc2VkIGNoaWxkIE5vZGVcbiAgICogMikgTWFyayBpdCBhcyBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gY2hpbGROb2RlIC0gbG9vayBhaGVhZCBmcm9tIHRoaXMgbm9kZS5cbiAgICogQHJldHVybnMge0Jsb2NrIHwgdW5kZWZpbmVkfSBjYW4gcmV0dXJuIHVuZGVmaW5lZCBpbiBjYXNlIHdoZW4gdGhlIHBhc3NlZCBjaGlsZCBub3RlIGlzIG5vdCBhIHBhcnQgb2YgdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAqL1xuICBzZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZShlKSB7XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSBlLmNsb3Nlc3QoYC4ke0YuQ1NTLndyYXBwZXJ9YCk7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG8gPSB0LmNsb3Nlc3QoYC4ke3RoaXMuRWRpdG9yLlVJLkNTUy5lZGl0b3JXcmFwcGVyfWApO1xuICAgIGlmIChvICE9IG51bGwgJiYgby5pc0VxdWFsTm9kZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyKSlcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5fYmxvY2tzLm5vZGVzLmluZGV4T2YodCksIHRoaXMuY3VycmVudEJsb2NrLnVwZGF0ZUN1cnJlbnRJbnB1dCgpLCB0aGlzLmN1cnJlbnRCbG9jaztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGJsb2NrIHdoaWNoIGNvbnRlbnRzIHBhc3NlZCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gY2hpbGROb2RlIC0gbm9kZSB0byBnZXQgQmxvY2sgYnlcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0QmxvY2tCeUNoaWxkTm9kZShlKSB7XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSBlLmNsb3Nlc3QoYC4ke0YuQ1NTLndyYXBwZXJ9YCk7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmZpbmQoKG8pID0+IG8uaG9sZGVyID09PSB0KTtcbiAgfVxuICAvKipcbiAgICogU3dhcCBCbG9ja3MgUG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIGluZGV4IG9mIGZpcnN0IGJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggb2Ygc2Vjb25kIGJsb2NrXG4gICAqIEBkZXByZWNhdGVkIFx1MjAxNCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIHRoaXMuX2Jsb2Nrcy5zd2FwKGUsIHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdDtcbiAgfVxuICAvKipcbiAgICogTW92ZSBhIGJsb2NrIHRvIGEgbmV3IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggd2hlcmUgdG8gbW92ZSBCbG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0ID0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCkge1xuICAgIGlmIChpc05hTihlKSB8fCBpc05hTih0KSkge1xuICAgICAgVChcIldhcm5pbmcgZHVyaW5nICdtb3ZlJyBjYWxsOiBpbmNvcnJlY3QgaW5kaWNlcyBwcm92aWRlZC5cIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVJbmRleChlKSB8fCAhdGhpcy52YWxpZGF0ZUluZGV4KHQpKSB7XG4gICAgICBUKFwiV2FybmluZyBkdXJpbmcgJ21vdmUnIGNhbGw6IGluZGljZXMgY2Fubm90IGJlIGxvd2VyIHRoYW4gMCBvciBncmVhdGVyIHRoYW4gdGhlIGFtb3VudCBvZiBibG9ja3MuXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYmxvY2tzLm1vdmUoZSwgdCksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSBlLCB0aGlzLmJsb2NrRGlkTXV0YXRlZChXbywgdGhpcy5jdXJyZW50QmxvY2ssIHtcbiAgICAgIGZyb21JbmRleDogdCxcbiAgICAgIHRvSW5kZXg6IGVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJyZW50IEJsb2NrIEluZGV4IC0xIHdoaWNoIG1lYW5zIHVua25vd25cbiAgICogYW5kIGNsZWFyIGhpZ2hsaWdodHNcbiAgICovXG4gIGRyb3BQb2ludGVyKCkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSAtMSwgdGhpcy5jbGVhckZvY3VzZWQoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5lZWRUb0FkZERlZmF1bHRCbG9jayAtIDEpIGluIGludGVybmFsIGNhbGxzIChmb3IgZXhhbXBsZSwgaW4gYXBpLmJsb2Nrcy5yZW5kZXIpXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2UgZG9uJ3QgbmVlZCB0byBhZGQgYW4gZW1wdHkgZGVmYXVsdCBibG9ja1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyKSBpbiBhcGkuYmxvY2tzLmNsZWFyIHdlIHNob3VsZCBhZGQgZW1wdHkgYmxvY2tcbiAgICovXG4gIGNsZWFyKGUgPSAhMSkge1xuICAgIHRoaXMuX2Jsb2Nrcy5yZW1vdmVBbGwoKSwgdGhpcy5kcm9wUG9pbnRlcigpLCBlICYmIHRoaXMuaW5zZXJ0KCksIHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFucyB1cCBhbGwgdGhlIGJsb2NrIHRvb2xzJyByZXNvdXJjZXNcbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBlZGl0b3IgaXMgZGVzdHJveWVkXG4gICAqL1xuICBhc3luYyBkZXN0cm95KCkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuYmxvY2tzLm1hcCgoZSkgPT4gZS5kZXN0cm95KCkpKTtcbiAgfVxuICAvKipcbiAgICogQmluZCBCbG9jayBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byB3aGljaCBldmVudCBzaG91bGQgYmUgYm91bmRcbiAgICovXG4gIGJpbmRCbG9ja0V2ZW50cyhlKSB7XG4gICAgY29uc3QgeyBCbG9ja0V2ZW50czogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwia2V5ZG93blwiLCAobykgPT4ge1xuICAgICAgdC5rZXlkb3duKG8pO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJrZXl1cFwiLCAobykgPT4ge1xuICAgICAgdC5rZXl1cChvKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwiZHJhZ292ZXJcIiwgKG8pID0+IHtcbiAgICAgIHQuZHJhZ092ZXIobyk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImRyYWdsZWF2ZVwiLCAobykgPT4ge1xuICAgICAgdC5kcmFnTGVhdmUobyk7XG4gICAgfSksIGUub24oXCJkaWRNdXRhdGVkXCIsIChvKSA9PiB0aGlzLmJsb2NrRGlkTXV0YXRlZChZbywgbywge1xuICAgICAgaW5kZXg6IHRoaXMuZ2V0QmxvY2tJbmRleChvKVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSBtdXRhYmxlIGhhbmRsZXJzIGFuZCBiaW5kaW5nc1xuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgYWxsIG1vZHVsZSBoYW5kbGVycyBhbmQgYmluZGluZ3MgZm9yIGFsbCBCbG9ja3NcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKFxuICAgICAgZG9jdW1lbnQsXG4gICAgICBcImN1dFwiLFxuICAgICAgKGUpID0+IHRoaXMuRWRpdG9yLkJsb2NrRXZlbnRzLmhhbmRsZUNvbW1hbmRYKGUpXG4gICAgKSwgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5iaW5kQmxvY2tFdmVudHMoZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSBnaXZlbiBpbmRleCBpcyBub3QgbG93ZXIgdGhhbiAwIG9yIGhpZ2hlciB0aGFuIHRoZSBhbW91bnQgb2YgYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIGJsb2NrcyBhcnJheSB0byB2YWxpZGF0ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHZhbGlkYXRlSW5kZXgoZSkge1xuICAgIHJldHVybiAhKGUgPCAwIHx8IGUgPj0gdGhpcy5fYmxvY2tzLmxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIG11dGF0aW9uIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvblR5cGUgLSB3aGF0IGhhcHBlbmVkIHdpdGggYmxvY2tcbiAgICogQHBhcmFtIGJsb2NrIC0gbXV0YXRlZCBibG9ja1xuICAgKiBAcGFyYW0gZGV0YWlsRGF0YSAtIGFkZGl0aW9uYWwgZGF0YSB0byBwYXNzIHdpdGggY2hhbmdlIGV2ZW50XG4gICAqL1xuICBibG9ja0RpZE11dGF0ZWQoZSwgdCwgbykge1xuICAgIGNvbnN0IGkgPSBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRhcmdldDogbmV3IGhlKHQpLFxuICAgICAgICAuLi5vXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KGx0LCB7XG4gICAgICBldmVudDogaVxuICAgIH0pLCB0O1xuICB9XG59XG5jbGFzcyBYbyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IG51bGwsIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgQ29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBnZXQgc2FuaXRpemVyQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwOiB7fSxcbiAgICAgIGgxOiB7fSxcbiAgICAgIGgyOiB7fSxcbiAgICAgIGgzOiB7fSxcbiAgICAgIGg0OiB7fSxcbiAgICAgIGg1OiB7fSxcbiAgICAgIGg2OiB7fSxcbiAgICAgIG9sOiB7fSxcbiAgICAgIHVsOiB7fSxcbiAgICAgIGxpOiB7fSxcbiAgICAgIGJyOiAhMCxcbiAgICAgIGltZzoge1xuICAgICAgICBzcmM6ICEwLFxuICAgICAgICB3aWR0aDogITAsXG4gICAgICAgIGhlaWdodDogITBcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwXG4gICAgICB9LFxuICAgICAgYjoge30sXG4gICAgICBpOiB7fSxcbiAgICAgIHU6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRmxhZyB0aGF0IGlkZW50aWZpZXMgYWxsIEJsb2NrcyBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYWxsQmxvY2tzU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiBlLmJsb2Nrcy5ldmVyeSgodCkgPT4gdC5zZWxlY3RlZCA9PT0gITApO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0ZWQgYWxsIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gc3RhdGUgdG8gc2V0XG4gICAqL1xuICBzZXQgYWxsQmxvY2tzU2VsZWN0ZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmJsb2Nrcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBvLnNlbGVjdGVkID0gZTtcbiAgICB9KSwgdGhpcy5jbGVhckNhY2hlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBpZGVudGlmaWVzIGFueSBCbG9jayBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYW55QmxvY2tTZWxlY3RlZCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgcmV0dXJuIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID09PSBudWxsICYmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IGUuYmxvY2tzLnNvbWUoKHQpID0+IHQuc2VsZWN0ZWQgPT09ICEwKSksIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gc2VsZWN0ZWQgQmxvY2tzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkQmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmZpbHRlcigoZSkgPT4gZS5zZWxlY3RlZCk7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBQcmVwYXJhdGlvblxuICAgKiBSZWdpc3RlcnMgU2hvcnRjdXRzIENNRCtBIGFuZCBDTUQrQ1xuICAgKiB0byBzZWxlY3QgYWxsIGFuZCBjb3B5IHRoZW1cbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgbSgpLCByZS5hZGQoe1xuICAgICAgbmFtZTogXCJDTUQrQVwiLFxuICAgICAgaGFuZGxlcjogKGUpID0+IHtcbiAgICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFJlYWRPbmx5OiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgICAgaWYgKG8uaXNFbmFibGVkKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEFsbEJsb2NrcygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0LmN1cnJlbnRCbG9jayAmJiB0aGlzLmhhbmRsZUNvbW1hbmRBKGUpO1xuICAgICAgfSxcbiAgICAgIG9uOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvclxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqICAtIFJlbW92ZSBhbGwgcmFuZ2VzXG4gICAqICAtIFVuc2VsZWN0IGFsbCBCbG9ja3NcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KCkge1xuICAgIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBvZiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj99IGluZGV4IC0gQmxvY2sgaW5kZXggYWNjb3JkaW5nIHRvIHRoZSBCbG9ja01hbmFnZXIncyBpbmRleGVzXG4gICAqL1xuICB1blNlbGVjdEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCBvO1xuICAgIGlzTmFOKGUpID8gbyA9IHQuY3VycmVudEJsb2NrIDogbyA9IHQuZ2V0QmxvY2tCeUluZGV4KGUpLCBvLnNlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJDYWNoZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBzZWxlY3Rpb24gZnJvbSBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gcmVhc29uIC0gZXZlbnQgY2F1c2VkIGNsZWFyIG9mIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3RvcmVTZWxlY3Rpb24gLSBpZiB0cnVlLCByZXN0b3JlIHNhdmVkIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXJTZWxlY3Rpb24oZSwgdCA9ICExKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpLCBSZWN0YW5nbGVTZWxlY3Rpb246IG4gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICAgIGNvbnN0IHIgPSBlICYmIGUgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50LCBhID0gciAmJiB0dChlLmtleUNvZGUpO1xuICAgIGlmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWQgJiYgciAmJiBhICYmICFtLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBjb25zdCBsID0gby5yZW1vdmVTZWxlY3RlZEJsb2NrcygpO1xuICAgICAgby5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KGwsICEwKSwgaS5zZXRUb0Jsb2NrKG8uY3VycmVudEJsb2NrKSwgb2UoKCkgPT4ge1xuICAgICAgICBjb25zdCBjID0gZS5rZXk7XG4gICAgICAgIGkuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihjLmxlbmd0aCA+IDEgPyBcIlwiIDogYyk7XG4gICAgICB9LCAyMCkoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24uY2xlYXIoZSksICF0aGlzLmFueUJsb2NrU2VsZWN0ZWQgfHwgbi5pc1JlY3RBY3RpdmF0ZWQoKSkge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLmFsbEJsb2Nrc1NlbGVjdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFJlZHVjZSBlYWNoIEJsb2NrIGFuZCBjb3B5IGl0cyBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGUgLSBjb3B5L2N1dCBldmVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGNvcHlTZWxlY3RlZEJsb2NrcyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgdGhpcy5zZWxlY3RlZEJsb2Nrcy5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBjb25zdCByID0gWihuLmhvbGRlci5pbm5lckhUTUwsIHRoaXMuc2FuaXRpemVyQ29uZmlnKSwgYSA9IGQubWFrZShcInBcIik7XG4gICAgICBhLmlubmVySFRNTCA9IHIsIHQuYXBwZW5kQ2hpbGQoYSk7XG4gICAgfSk7XG4gICAgY29uc3QgbyA9IEFycmF5LmZyb20odC5jaGlsZE5vZGVzKS5tYXAoKG4pID0+IG4udGV4dENvbnRlbnQpLmpvaW4oYFxuXG5gKSwgaSA9IHQuaW5uZXJIVE1MO1xuICAgIHJldHVybiBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgbyksIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGkpLCBQcm9taXNlLmFsbCh0aGlzLnNlbGVjdGVkQmxvY2tzLm1hcCgobikgPT4gbi5zYXZlKCkpKS50aGVuKChuKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YSh0aGlzLkVkaXRvci5QYXN0ZS5NSU1FX1RZUEUsIEpTT04uc3RyaW5naWZ5KG4pKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBzZWxlY3QgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXI/fSBpbmRleCAtIEJsb2NrIGluZGV4IGFjY29yZGluZyB0byB0aGUgQmxvY2tNYW5hZ2VyJ3MgaW5kZXhlc1xuICAgKi9cbiAgc2VsZWN0QmxvY2tCeUluZGV4KGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5jbGVhckZvY3VzZWQoKTtcbiAgICBsZXQgbztcbiAgICBpc05hTihlKSA/IG8gPSB0LmN1cnJlbnRCbG9jayA6IG8gPSB0LmdldEJsb2NrQnlJbmRleChlKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpLCBtLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCBvLnNlbGVjdGVkID0gITAsIHRoaXMuY2xlYXJDYWNoZSgpLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIGFueUJsb2NrU2VsZWN0ZWQgY2FjaGVcbiAgICovXG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgdGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGUgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgZGVzdHJ1Y3Rpb25cbiAgICogRGUtcmVnaXN0ZXJzIFNob3J0Y3V0IENNRCtBXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHJlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgXCJDTUQrQVwiKTtcbiAgfVxuICAvKipcbiAgICogRmlyc3QgQ01EK0Egc2VsZWN0cyBhbGwgaW5wdXQgY29udGVudCBieSBuYXRpdmUgYmVoYXZpb3VyLFxuICAgKiBuZXh0IENNRCtBIGtleXByZXNzIHNlbGVjdHMgYWxsIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGhhbmRsZUNvbW1hbmRBKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksIGQuaXNOYXRpdmVJbnB1dChlLnRhcmdldCkgJiYgIXRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICEwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrKGUudGFyZ2V0KS5pbnB1dHM7XG4gICAgaWYgKG8ubGVuZ3RoID4gMSAmJiAhdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5uZWVkVG9TZWxlY3RBbGwpIHtcbiAgICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID8gKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5zZWxlY3RBbGxCbG9ja3MoKSwgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMSwgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMSwgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSkgOiB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEJsb2NrQnlJbmRleCgpLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IEFsbCBCbG9ja3NcbiAgICogRWFjaCBCbG9jayBoYXMgc2VsZWN0ZWQgc2V0dGVyIHRoYXQgbWFrZXMgQmxvY2sgY29weWFibGVcbiAgICovXG4gIHNlbGVjdEFsbEJsb2NrcygpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMCwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG59XG5jbGFzcyB2ZSBleHRlbmRzIFMge1xuICAvKipcbiAgICogQWxsb3dlZCBjYXJldCBwb3NpdGlvbnMgaW4gaW5wdXRcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJucyB7e1NUQVJUOiBzdHJpbmcsIEVORDogc3RyaW5nLCBERUZBVUxUOiBzdHJpbmd9fVxuICAgKi9cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgU1RBUlQ6IFwic3RhcnRcIixcbiAgICAgIEVORDogXCJlbmRcIixcbiAgICAgIERFRkFVTFQ6IFwiZGVmYXVsdFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRWxlbWVudHMgc3R5bGVzIHRoYXQgY2FuIGJlIHVzZWZ1bCBmb3IgQ2FyZXQgTW9kdWxlXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hhZG93Q2FyZXQ6IFwiY2R4LXNoYWRvdy1jYXJldFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0J3MgZGVlcGVzdCBmaXJzdCBub2RlIGFuZCBjaGVja3MgaWYgb2Zmc2V0IGlzIHplcm9cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNBdFN0YXJ0KCkge1xuICAgIGNvbnN0IGUgPSBtLmdldCgpLCB0ID0gZC5nZXREZWVwZXN0Tm9kZSh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dCk7XG4gICAgbGV0IG8gPSBlLmZvY3VzTm9kZTtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KHQpKVxuICAgICAgcmV0dXJuIHQuc2VsZWN0aW9uRW5kID09PSAwO1xuICAgIGlmICghZS5hbmNob3JOb2RlKVxuICAgICAgcmV0dXJuICExO1xuICAgIGxldCBpID0gby50ZXh0Q29udGVudC5zZWFyY2goL1xcUy8pO1xuICAgIGkgPT09IC0xICYmIChpID0gMCk7XG4gICAgbGV0IG4gPSBlLmZvY3VzT2Zmc2V0O1xuICAgIHJldHVybiBvLm5vZGVUeXBlICE9PSBOb2RlLlRFWFRfTk9ERSAmJiBvLmNoaWxkTm9kZXMubGVuZ3RoICYmIChvLmNoaWxkTm9kZXNbbl0gPyAobyA9IG8uY2hpbGROb2Rlc1tuXSwgbiA9IDApIDogKG8gPSBvLmNoaWxkTm9kZXNbbiAtIDFdLCBuID0gby50ZXh0Q29udGVudC5sZW5ndGgpKSwgKGQuaXNMaW5lQnJlYWtUYWcodCkgfHwgZC5pc0VtcHR5KHQpKSAmJiB0aGlzLmdldEhpZ2hlckxldmVsU2libGluZ3MobywgXCJsZWZ0XCIpLmV2ZXJ5KChsKSA9PiB7XG4gICAgICBjb25zdCBjID0gZC5pc0xpbmVCcmVha1RhZyhsKSwgdSA9IGwuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGQuaXNMaW5lQnJlYWtUYWcobC5jaGlsZHJlblswXSksIGggPSBjIHx8IHU7XG4gICAgICByZXR1cm4gZC5pc0VtcHR5KGwpICYmICFoO1xuICAgIH0pICYmIG4gPT09IGkgPyAhMCA6IHQgPT09IG51bGwgfHwgbyA9PT0gdCAmJiBuIDw9IGk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCdzIGRlZXBlc3QgbGFzdCBub2RlIGFuZCBjaGVja3MgaWYgb2Zmc2V0IGlzIGxhc3Qgbm9kZSB0ZXh0IGxlbmd0aFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0F0RW5kKCkge1xuICAgIGNvbnN0IGUgPSBtLmdldCgpO1xuICAgIGxldCB0ID0gZS5mb2N1c05vZGU7XG4gICAgY29uc3QgbyA9IGQuZ2V0RGVlcGVzdE5vZGUodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQsICEwKTtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KG8pKVxuICAgICAgcmV0dXJuIG8uc2VsZWN0aW9uRW5kID09PSBvLnZhbHVlLmxlbmd0aDtcbiAgICBpZiAoIWUuZm9jdXNOb2RlKVxuICAgICAgcmV0dXJuICExO1xuICAgIGxldCBpID0gZS5mb2N1c09mZnNldDtcbiAgICBpZiAodC5ub2RlVHlwZSAhPT0gTm9kZS5URVhUX05PREUgJiYgdC5jaGlsZE5vZGVzLmxlbmd0aCAmJiAodC5jaGlsZE5vZGVzW2kgLSAxXSA/ICh0ID0gdC5jaGlsZE5vZGVzW2kgLSAxXSwgaSA9IHQudGV4dENvbnRlbnQubGVuZ3RoKSA6ICh0ID0gdC5jaGlsZE5vZGVzWzBdLCBpID0gMCkpLCBkLmlzTGluZUJyZWFrVGFnKG8pIHx8IGQuaXNFbXB0eShvKSkge1xuICAgICAgY29uc3QgciA9IHRoaXMuZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyh0LCBcInJpZ2h0XCIpO1xuICAgICAgaWYgKHIuZXZlcnkoKGwsIGMpID0+IGMgPT09IHIubGVuZ3RoIC0gMSAmJiBkLmlzTGluZUJyZWFrVGFnKGwpIHx8IGQuaXNFbXB0eShsKSAmJiAhZC5pc0xpbmVCcmVha1RhZyhsKSkgJiYgaSA9PT0gdC50ZXh0Q29udGVudC5sZW5ndGgpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgY29uc3QgbiA9IG8udGV4dENvbnRlbnQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTtcbiAgICByZXR1cm4gdCA9PT0gbyAmJiBpID49IG4ubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgZ2V0cyBCbG9jayBpbnN0YW5jZSBhbmQgcHV0cyBjYXJldCB0byB0aGUgdGV4dCBub2RlIHdpdGggb2Zmc2V0XG4gICAqIFRoZXJlIHR3byB3YXlzIHRoYXQgbWV0aG9kIGFwcGxpZXMgY2FyZXQgcG9zaXRpb246XG4gICAqICAgLSBmaXJzdCBmb3VuZCB0ZXh0IG5vZGU6IHNldHMgYXQgdGhlIGJlZ2lubmluZywgYnV0IHlvdSBjYW4gcGFzcyBhbiBvZmZzZXRcbiAgICogICAtIGxhc3QgZm91bmQgdGV4dCBub2RlOiBzZXRzIGF0IHRoZSBlbmQgb2YgdGhlIG5vZGUuIEFsc28sIHlvdSBjYW4gY3VzdG9taXplIHRoZSBiZWhhdmlvdXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayBjbGFzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiB3aGVyZSB0byBzZXQgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvQmxvY2soZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCBuO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgbiA9IGUuZmlyc3RJbnB1dDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgbiA9IGUubGFzdElucHV0O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG4gPSBlLmN1cnJlbnRJbnB1dDtcbiAgICB9XG4gICAgaWYgKCFuKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSBkLmdldERlZXBlc3ROb2RlKG4sIHQgPT09IHRoaXMucG9zaXRpb25zLkVORCksIGEgPSBkLmdldENvbnRlbnRMZW5ndGgocik7XG4gICAgc3dpdGNoICghMCkge1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgbyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5FTkQ6XG4gICAgICBjYXNlIG8gPiBhOlxuICAgICAgICBvID0gYTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG9lKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0KHIsIG8pO1xuICAgIH0sIDIwKSgpLCBpLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUuaG9sZGVyKSwgaS5jdXJyZW50QmxvY2suY3VycmVudElucHV0ID0gbjtcbiAgfVxuICAvKipcbiAgICogU2V0IGNhcmV0IHRvIHRoZSBjdXJyZW50IGlucHV0IG9mIGN1cnJlbnQgQmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGlucHV0IC0gaW5wdXQgd2hlcmUgY2FyZXQgc2hvdWxkIGJlIHNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvSW5wdXQoZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgbiA9IGQuZ2V0RGVlcGVzdE5vZGUoZSk7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICB0aGlzLnNldChuLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgdGhpcy5zZXQobiwgZC5nZXRDb250ZW50TGVuZ3RoKG4pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvICYmIHRoaXMuc2V0KG4sIG8pO1xuICAgIH1cbiAgICBpLmN1cnJlbnRJbnB1dCA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgRG9jdW1lbnQgUmFuZ2UgYW5kIHNldHMgY2FyZXQgdG8gdGhlIGVsZW1lbnQgd2l0aCBvZmZzZXRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRhcmdldCBub2RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gb2Zmc2V0XG4gICAqL1xuICBzZXQoZSwgdCA9IDApIHtcbiAgICBjb25zdCB7IHRvcDogbywgYm90dG9tOiBpIH0gPSBtLnNldEN1cnNvcihlLCB0KSwgeyBpbm5lckhlaWdodDogbiB9ID0gd2luZG93O1xuICAgIG8gPCAwICYmIHdpbmRvdy5zY3JvbGxCeSgwLCBvKSwgaSA+IG4gJiYgd2luZG93LnNjcm9sbEJ5KDAsIGkgLSBuKTtcbiAgfVxuICAvKipcbiAgICogU2V0IENhcmV0IHRvIHRoZSBsYXN0IEJsb2NrXG4gICAqIElmIGxhc3QgYmxvY2sgaXMgbm90IGVtcHR5LCBhcHBlbmQgYW5vdGhlciBlbXB0eSBibG9ja1xuICAgKi9cbiAgc2V0VG9UaGVMYXN0QmxvY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2s7XG4gICAgaWYgKGUpXG4gICAgICBpZiAoZS50b29sLmlzRGVmYXVsdCAmJiBlLmlzRW1wdHkpXG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayhlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydEF0RW5kKCk7XG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayh0KTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBjb250ZW50IGZyYWdtZW50IG9mIGN1cnJlbnQgQmxvY2sgZnJvbSBDYXJldCBwb3NpdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBCbG9ja1xuICAgKi9cbiAgZXh0cmFjdEZyYWdtZW50RnJvbUNhcmV0UG9zaXRpb24oKSB7XG4gICAgY29uc3QgZSA9IG0uZ2V0KCk7XG4gICAgaWYgKGUucmFuZ2VDb3VudCkge1xuICAgICAgY29uc3QgdCA9IGUuZ2V0UmFuZ2VBdCgwKSwgbyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suY3VycmVudElucHV0O1xuICAgICAgaWYgKHQuZGVsZXRlQ29udGVudHMoKSwgbylcbiAgICAgICAgaWYgKGQuaXNOYXRpdmVJbnB1dChvKSkge1xuICAgICAgICAgIGNvbnN0IGkgPSBvLCBuID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCByID0gaS52YWx1ZS5zdWJzdHJpbmcoMCwgaS5zZWxlY3Rpb25TdGFydCksIGEgPSBpLnZhbHVlLnN1YnN0cmluZyhpLnNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICByZXR1cm4gbi50ZXh0Q29udGVudCA9IGEsIGkudmFsdWUgPSByLCBuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGkgPSB0LmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICByZXR1cm4gaS5zZWxlY3ROb2RlQ29udGVudHMobyksIGkuc2V0U3RhcnQodC5lbmRDb250YWluZXIsIHQuZW5kT2Zmc2V0KSwgaS5leHRyYWN0Q29udGVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0J3MgY2FyZXQgdG8gdGhlIG5leHQgQmxvY2sgb3IgVG9vbGBzIGlucHV0XG4gICAqIEJlZm9yZSBtb3ZpbmcgY2FyZXQsIHdlIHNob3VsZCBjaGVjayBpZiBjYXJldCBwb3NpdGlvbiBpcyBhdCB0aGUgZW5kIG9mIFBsdWdpbnMgbm9kZVxuICAgKiBVc2luZyB7QGxpbmsgRG9tI2dldERlZXBlc3ROb2RlfSB0byBnZXQgYSBsYXN0IG5vZGUgYW5kIG1hdGNoIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBuYXZpZ2F0ZU5leHQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogdCwgbmV4dENvbnRlbnRmdWxCbG9jazogbyB9ID0gZSwgeyBuZXh0SW5wdXQ6IGkgfSA9IHQsIG4gPSB0aGlzLmlzQXRFbmQ7XG4gICAgbGV0IHIgPSBvO1xuICAgIGlmICghciAmJiAhaSkge1xuICAgICAgaWYgKHQudG9vbC5pc0RlZmF1bHQgfHwgIW4pXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHIgPSBlLmluc2VydEF0RW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBuID8gKGkgPyB0aGlzLnNldFRvSW5wdXQoaSwgdGhpcy5wb3NpdGlvbnMuU1RBUlQpIDogdGhpcy5zZXRUb0Jsb2NrKHIsIHRoaXMucG9zaXRpb25zLlNUQVJUKSwgITApIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCdzIGNhcmV0IHRvIHRoZSBwcmV2aW91cyBUb29sYHMgaW5wdXQgb3IgQmxvY2tcbiAgICogQmVmb3JlIG1vdmluZyBjYXJldCwgd2Ugc2hvdWxkIGNoZWNrIGlmIGNhcmV0IHBvc2l0aW9uIGlzIHN0YXJ0IG9mIHRoZSBQbHVnaW5zIG5vZGVcbiAgICogVXNpbmcge0BsaW5rIERvbSNnZXREZWVwZXN0Tm9kZX0gdG8gZ2V0IGEgbGFzdCBub2RlIGFuZCBtYXRjaCB3aXRoIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgbmF2aWdhdGVQcmV2aW91cygpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogZSwgcHJldmlvdXNDb250ZW50ZnVsQmxvY2s6IHQgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlcjtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgeyBwcmV2aW91c0lucHV0OiBvIH0gPSBlO1xuICAgIHJldHVybiAhdCAmJiAhbyA/ICExIDogdGhpcy5pc0F0U3RhcnQgPyAobyA/IHRoaXMuc2V0VG9JbnB1dChvLCB0aGlzLnBvc2l0aW9ucy5FTkQpIDogdGhpcy5zZXRUb0Jsb2NrKHQsIHRoaXMucG9zaXRpb25zLkVORCksICEwKSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHNoYWRvdyBlbGVtZW50IGFmdGVyIHBhc3NlZCBlbGVtZW50IHdoZXJlIGNhcmV0IGNhbiBiZSBwbGFjZWRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBhZnRlciB3aGljaCBzaGFkb3cgY2FyZXQgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqL1xuICBjcmVhdGVTaGFkb3coZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICB0LmNsYXNzTGlzdC5hZGQodmUuQ1NTLnNoYWRvd0NhcmV0KSwgZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3RvcmVzIGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNhcmV0IHNob3VsZCBiZSByZXN0b3JlZFxuICAgKi9cbiAgcmVzdG9yZUNhcmV0KGUpIHtcbiAgICBjb25zdCB0ID0gZS5xdWVyeVNlbGVjdG9yKGAuJHt2ZS5DU1Muc2hhZG93Q2FyZXR9YCk7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIG5ldyBtKCkuZXhwYW5kVG9UYWcodCksIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICBpLnNlbGVjdE5vZGUodCksIGkuZXh0cmFjdENvbnRlbnRzKCk7XG4gICAgfSwgNTApO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHBhc3NlZCBjb250ZW50IGF0IGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gY29udGVudCB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBpID0gbS5nZXQoKSwgbiA9IG0ucmFuZ2U7XG4gICAgby5pbm5lckhUTUwgPSBlLCBBcnJheS5mcm9tKG8uY2hpbGROb2RlcykuZm9yRWFjaCgobCkgPT4gdC5hcHBlbmRDaGlsZChsKSksIHQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgJiYgdC5hcHBlbmRDaGlsZChuZXcgVGV4dCgpKTtcbiAgICBjb25zdCByID0gdC5sYXN0Q2hpbGQ7XG4gICAgbi5kZWxldGVDb250ZW50cygpLCBuLmluc2VydE5vZGUodCk7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgYS5zZXRTdGFydChyLCByLnRleHRDb250ZW50Lmxlbmd0aCksIGkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuYWRkUmFuZ2UoYSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgZmlyc3QtbGV2ZWwgKGZpcnN0IGNoaWxkIG9mIFtjb250ZW50ZWRpdGFibGVdKSBzaWJsaW5ncyBmcm9tIHBhc3NlZCBub2RlXG4gICAqIFRoZW4geW91IGNhbiBjaGVjayBpdCBmb3IgZW1wdGluZXNzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY29udGVudGVkaXRhYmxlPlxuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGxlZnQgZmlyc3QtbGV2ZWwgc2libGluZ3NcbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDxibG9ja3F1b3RlPjxhPjxiPmFkYWRkYWQ8L2I+PGE+PGJsb2NrcXVvdGU+ICAgICAgIDwtLSBwYXNzZWQgbm9kZSBmb3IgZXhhbXBsZSA8Yj5cbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCByaWdodCBmaXJzdC1sZXZlbCBzaWJsaW5nc1xuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogPC9kaXY+XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZyb20gLSBlbGVtZW50IGZyb20gd2hpY2ggc2libGluZ3Mgc2hvdWxkIGJlIHNlYXJjaGVkXG4gICAqIEBwYXJhbSB7J2xlZnQnIHwgJ3JpZ2h0J30gZGlyZWN0aW9uIC0gZGlyZWN0aW9uIG9mIHNlYXJjaFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX1cbiAgICovXG4gIGdldEhpZ2hlckxldmVsU2libGluZ3MoZSwgdCkge1xuICAgIGxldCBvID0gZTtcbiAgICBjb25zdCBpID0gW107XG4gICAgZm9yICg7IG8ucGFyZW50Tm9kZSAmJiBvLnBhcmVudE5vZGUuY29udGVudEVkaXRhYmxlICE9PSBcInRydWVcIjsgKVxuICAgICAgbyA9IG8ucGFyZW50Tm9kZTtcbiAgICBjb25zdCBuID0gdCA9PT0gXCJsZWZ0XCIgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiO1xuICAgIGZvciAoOyBvW25dOyApXG4gICAgICBvID0gb1tuXSwgaS5wdXNoKG8pO1xuICAgIHJldHVybiBpO1xuICB9XG59XG5jbGFzcyBWbyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9uTW91c2VVcCA9ICgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLm9mZihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdGhpcy5vbk1vdXNlT3ZlciksIHRoaXMubGlzdGVuZXJzLm9mZihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcbiAgICB9LCB0aGlzLm9uTW91c2VPdmVyID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSB0LmdldEJsb2NrQnlDaGlsZE5vZGUoZS5yZWxhdGVkVGFyZ2V0KSB8fCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrLCBuID0gdC5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICAgIGlmICghKCFpIHx8ICFuKSAmJiBuICE9PSBpKSB7XG4gICAgICAgIGlmIChpID09PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaykge1xuICAgICAgICAgIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuc2VsZWN0ZWQgPSAhMCwgbi5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPT09IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrKSB7XG4gICAgICAgICAgaS5zZWxlY3RlZCA9ICExLCBuLnNlbGVjdGVkID0gITEsIG8uY2xlYXJDYWNoZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksIHRoaXMudG9nZ2xlQmxvY2tzU2VsZWN0ZWRTdGF0ZShpLCBuKSwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IG47XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIHByZXBhcmF0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlQ3Jvc3NCbG9ja1NlbGVjdGlvbihlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBsaXN0ZW5lcnNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGRvd24gZXZlbnRcbiAgICovXG4gIHdhdGNoU2VsZWN0aW9uKGUpIHtcbiAgICBpZiAoZS5idXR0b24gIT09IF90LkxFRlQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID0gdC5nZXRCbG9jayhlLnRhcmdldCksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaywgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHRoaXMub25Nb3VzZU92ZXIpLCB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcbiAgfVxuICAvKipcbiAgICogcmV0dXJuIGJvb2xlYW4gaXMgY3Jvc3MgYmxvY2sgc2VsZWN0aW9uIHN0YXJ0ZWRcbiAgICovXG4gIGdldCBpc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrICYmICEhdGhpcy5sYXN0U2VsZWN0ZWRCbG9jaztcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHNlbGVjdGlvbiBzdGF0ZSBvZiB0aGUgbmV4dCBCbG9ja1xuICAgKiBVc2VkIGZvciBDQlMgdmlhIFNoaWZ0ICsgYXJyb3cga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5leHQgLSBpZiB0cnVlLCB0b2dnbGUgbmV4dCBibG9jay4gUHJldmlvdXMgb3RoZXJ3aXNlXG4gICAqL1xuICB0b2dnbGVCbG9ja1NlbGVjdGVkU3RhdGUoZSA9ICEwKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrIHx8ICh0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPSB0LmN1cnJlbnRCbG9jayksIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID09PSB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrICYmICh0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jay5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKSwgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSk7XG4gICAgY29uc3QgaSA9IHQuYmxvY2tzLmluZGV4T2YodGhpcy5sYXN0U2VsZWN0ZWRCbG9jaykgKyAoZSA/IDEgOiAtMSksIG4gPSB0LmJsb2Nrc1tpXTtcbiAgICBuICYmICh0aGlzLmxhc3RTZWxlY3RlZEJsb2NrLnNlbGVjdGVkICE9PSBuLnNlbGVjdGVkID8gKG4uc2VsZWN0ZWQgPSAhMCwgby5jbGVhckNhY2hlKCkpIDogKHRoaXMubGFzdFNlbGVjdGVkQmxvY2suc2VsZWN0ZWQgPSAhMSwgby5jbGVhckNhY2hlKCkpLCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gbiwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCBuLmhvbGRlci5zY3JvbGxJbnRvVmlldyh7XG4gICAgICBibG9jazogXCJuZWFyZXN0XCJcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIHNhdmVkIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IHJlYXNvbiAtIGV2ZW50IGNhdXNlZCBjbGVhciBvZiBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvciwgbiA9IHQuYmxvY2tzLmluZGV4T2YodGhpcy5maXJzdFNlbGVjdGVkQmxvY2spLCByID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmxhc3RTZWxlY3RlZEJsb2NrKTtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmIG4gPiAtMSAmJiByID4gLTEpXG4gICAgICBpZiAoZSAmJiBlIGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudClcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICBjYXNlIEIuRE9XTjpcbiAgICAgICAgICBjYXNlIEIuUklHSFQ6XG4gICAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5tYXgobiwgcildLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLlVQOlxuICAgICAgICAgIGNhc2UgQi5MRUZUOlxuICAgICAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWluKG4sIHIpXSwgaS5wb3NpdGlvbnMuU1RBUlQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGkuc2V0VG9CbG9jayh0LmJsb2Nrc1tNYXRoLm1heChuLCByKV0sIGkucG9zaXRpb25zLkVORCk7XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWF4KG4sIHIpXSwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIENyb3NzIEJsb2NrIFNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZG93biBldmVudFxuICAgKi9cbiAgZW5hYmxlQ3Jvc3NCbG9ja1NlbGVjdGlvbihlKSB7XG4gICAgY29uc3QgeyBVSTogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgbS5pc0NvbGxhcHNlZCB8fCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKSwgdC5ub2Rlcy5yZWRhY3Rvci5jb250YWlucyhlLnRhcmdldCkgPyB0aGlzLndhdGNoU2VsZWN0aW9uKGUpIDogdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSBibG9ja3Mgc2VsZWN0aW9uIHN0YXRlIGJldHdlZW4gcGFzc2VkIHR3byBibG9ja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGZpcnN0QmxvY2sgLSBmaXJzdCBibG9jayBpbiByYW5nZVxuICAgKiBAcGFyYW0ge0Jsb2NrfSBsYXN0QmxvY2sgLSBsYXN0IGJsb2NrIGluIHJhbmdlXG4gICAqL1xuICB0b2dnbGVCbG9ja3NTZWxlY3RlZFN0YXRlKGUsIHQpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogbywgQmxvY2tTZWxlY3Rpb246IGkgfSA9IHRoaXMuRWRpdG9yLCBuID0gby5ibG9ja3MuaW5kZXhPZihlKSwgciA9IG8uYmxvY2tzLmluZGV4T2YodCksIGEgPSBlLnNlbGVjdGVkICE9PSB0LnNlbGVjdGVkO1xuICAgIGZvciAobGV0IGwgPSBNYXRoLm1pbihuLCByKTsgbCA8PSBNYXRoLm1heChuLCByKTsgbCsrKSB7XG4gICAgICBjb25zdCBjID0gby5ibG9ja3NbbF07XG4gICAgICBjICE9PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayAmJiBjICE9PSAoYSA/IGUgOiB0KSAmJiAoby5ibG9ja3NbbF0uc2VsZWN0ZWQgPSAhby5ibG9ja3NbbF0uc2VsZWN0ZWQsIGkuY2xlYXJDYWNoZSgpKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFpvIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgPSAhMTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBpZiBzdGF0ZSBpcyB0cnVlOlxuICAgKiAgLSBkaXNhYmxlIGFsbCBkcmFnLW4tZHJvcCBldmVudCBoYW5kbGVyc1xuICAgKlxuICAgKiBpZiBzdGF0ZSBpcyBmYWxzZTpcbiAgICogIC0gcmVzdG9yZSBkcmFnLW4tZHJvcCBldmVudCBoYW5kbGVyc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIFwicmVhZCBvbmx5XCIgc3RhdGVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gdGhpcy5kaXNhYmxlTW9kdWxlQmluZGluZ3MoKSA6IHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIGRyYWcgZXZlbnRzIGxpc3RlbmVycyB0byBlZGl0b3Igem9uZVxuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgY29uc3QgeyBVSTogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJvcFwiLCBhc3luYyAodCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRHJvcCh0KTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUubm9kZXMuaG9sZGVyLCBcImRyYWdzdGFydFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NEcmFnU3RhcnQoKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJhZ292ZXJcIiwgKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc0RyYWdPdmVyKHQpO1xuICAgIH0sICEwKTtcbiAgfVxuICAvKipcbiAgICogVW5iaW5kIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGRyb3AgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGRyb3BFdmVudCAtIGRyb3AgZXZlbnRcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NEcm9wKGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBCbG9ja01hbmFnZXI6IHQsXG4gICAgICBDYXJldDogbyxcbiAgICAgIFBhc3RlOiBpXG4gICAgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGUucHJldmVudERlZmF1bHQoKSwgdC5ibG9ja3MuZm9yRWFjaCgocikgPT4ge1xuICAgICAgci5kcm9wVGFyZ2V0ID0gITE7XG4gICAgfSksIG0uaXNBdEVkaXRvciAmJiAhbS5pc0NvbGxhcHNlZCAmJiB0aGlzLmlzU3RhcnRlZEF0RWRpdG9yICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiZGVsZXRlXCIpLCB0aGlzLmlzU3RhcnRlZEF0RWRpdG9yID0gITE7XG4gICAgY29uc3QgbiA9IHQuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUoZS50YXJnZXQpO1xuICAgIGlmIChuKVxuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhuLCBvLnBvc2l0aW9ucy5FTkQpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgciA9IHQuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUodC5sYXN0QmxvY2suaG9sZGVyKTtcbiAgICAgIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sociwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICB9XG4gICAgYXdhaXQgaS5wcm9jZXNzRGF0YVRyYW5zZmVyKGUuZGF0YVRyYW5zZmVyLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBkcmFnIHN0YXJ0IGV2ZW50XG4gICAqL1xuICBwcm9jZXNzRHJhZ1N0YXJ0KCkge1xuICAgIG0uaXNBdEVkaXRvciAmJiAhbS5pc0NvbGxhcHNlZCAmJiAodGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciA9ICEwKSwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZHJhZ0V2ZW50IC0gZHJhZyBldmVudFxuICAgKi9cbiAgcHJvY2Vzc0RyYWdPdmVyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cbmNsYXNzIEdvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBQcmVwYXJlIHRoZSBtb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBvcHRpb25zIHVzZWQgYnkgdGhlIG1vZGlmaWNhdGlvbiBvYnNlcnZlciBtb2R1bGVcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gRWRpdG9yIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLmV2ZW50c0Rpc3BhdGNoZXIgLSBjb21tb24gRWRpdG9yIGV2ZW50IGJ1c1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy5kaXNhYmxlZCA9ICExLCB0aGlzLmJhdGNoaW5nVGltZW91dCA9IG51bGwsIHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5iYXRjaFRpbWUgPSA0MDAsIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChvKSA9PiB7XG4gICAgICB0aGlzLnJlZGFjdG9yQ2hhbmdlZChvKTtcbiAgICB9KSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKGx0LCAobykgPT4ge1xuICAgICAgdGhpcy5wYXJ0aWN1bGFyQmxvY2tDaGFuZ2VkKG8uZXZlbnQpO1xuICAgIH0pLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oY3QsICgpID0+IHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH0pLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oZHQsICgpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgb25DaGFuZ2UgZXZlbnRcbiAgICovXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yLFxuICAgICAge1xuICAgICAgICBjaGlsZExpc3Q6ICEwLFxuICAgICAgICBzdWJ0cmVlOiAhMCxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogITAsXG4gICAgICAgIGF0dHJpYnV0ZXM6ICEwXG4gICAgICB9XG4gICAgKSwgdGhpcy5kaXNhYmxlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBvbkNoYW5nZSBldmVudFxuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLCB0aGlzLmRpc2FibGVkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgb25DaGFuZ2UgZXZlbnQgcGFzc2VkIHRvIEVkaXRvci5qcyBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCAtIHNvbWUgb2Ygb3VyIGN1c3RvbSBjaGFuZ2UgZXZlbnRzXG4gICAqL1xuICBwYXJ0aWN1bGFyQmxvY2tDaGFuZ2VkKGUpIHtcbiAgICB0aGlzLmRpc2FibGVkIHx8ICFEKHRoaXMuY29uZmlnLm9uQ2hhbmdlKSB8fCAodGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUuc2V0KGBibG9jazoke2UuZGV0YWlsLnRhcmdldC5pZH06ZXZlbnQ6JHtlLnR5cGV9YCwgZSksIHRoaXMuYmF0Y2hpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmJhdGNoaW5nVGltZW91dCksIHRoaXMuYmF0Y2hpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsZXQgdDtcbiAgICAgIHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnNpemUgPT09IDEgPyB0ID0gdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUudmFsdWVzKCkubmV4dCgpLnZhbHVlIDogdCA9IEFycmF5LmZyb20odGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUudmFsdWVzKCkpLCB0aGlzLmNvbmZpZy5vbkNoYW5nZSAmJiB0aGlzLmNvbmZpZy5vbkNoYW5nZSh0aGlzLkVkaXRvci5BUEkubWV0aG9kcywgdCksIHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLmNsZWFyKCk7XG4gICAgfSwgdGhpcy5iYXRjaFRpbWUpKTtcbiAgfVxuICAvKipcbiAgICogRmlyZWQgb24gZXZlcnkgYmxvY2tzIHdyYXBwZXIgZG9tIGNoYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb25zIC0gbXV0YXRpb25zIGhhcHBlbmVkXG4gICAqL1xuICByZWRhY3RvckNoYW5nZWQoZSkge1xuICAgIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KE1lLCB7XG4gICAgICBtdXRhdGlvbnM6IGVcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgeHQgPSBjbGFzcyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLk1JTUVfVFlQRSA9IFwiYXBwbGljYXRpb24veC1lZGl0b3ItanNcIiwgdGhpcy50b29sc1RhZ3MgPSB7fSwgdGhpcy50YWdzQnlUb29sID0ge30sIHRoaXMudG9vbHNQYXR0ZXJucyA9IFtdLCB0aGlzLnRvb2xzRmlsZXMgPSB7fSwgdGhpcy5leGNlcHRpb25MaXN0ID0gW10sIHRoaXMucHJvY2Vzc1Rvb2wgPSAocykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IHMuY3JlYXRlKHt9LCB7fSwgITEpO1xuICAgICAgICBpZiAocy5wYXN0ZUNvbmZpZyA9PT0gITEpIHtcbiAgICAgICAgICB0aGlzLmV4Y2VwdGlvbkxpc3QucHVzaChzLm5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUQoZS5vblBhc3RlKSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZ2V0VGFnc0NvbmZpZyhzKSwgdGhpcy5nZXRGaWxlc0NvbmZpZyhzKSwgdGhpcy5nZXRQYXR0ZXJuc0NvbmZpZyhzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgVChcbiAgICAgICAgICBgUGFzdGUgaGFuZGxpbmcgZm9yIFx1MDBBQiR7cy5uYW1lfVx1MDBCQiBUb29sIGhhc24ndCBiZWVuIHNldCB1cCBiZWNhdXNlIG9mIHRoZSBlcnJvcmAsXG4gICAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgICAgZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaGFuZGxlUGFzdGVFdmVudCA9IGFzeW5jIChzKSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSwgVG9vbGJhcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICAhZS5jdXJyZW50QmxvY2sgfHwgdGhpcy5pc05hdGl2ZUJlaGF2aW91cihzLnRhcmdldCkgJiYgIXMuY2xpcGJvYXJkRGF0YS50eXBlcy5pbmNsdWRlcyhcIkZpbGVzXCIpIHx8IGUuY3VycmVudEJsb2NrICYmIHRoaXMuZXhjZXB0aW9uTGlzdC5pbmNsdWRlcyhlLmN1cnJlbnRCbG9jay5uYW1lKSB8fCAocy5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnByb2Nlc3NEYXRhVHJhbnNmZXIocy5jbGlwYm9hcmREYXRhKSwgZS5jbGVhckZvY3VzZWQoKSwgdC5jbG9zZSgpKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb25QYXN0ZSBjYWxsYmFjayBhbmQgY29sbGVjdCB0b29sc2AgcGFzdGUgY29uZmlndXJhdGlvbnNcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5wcm9jZXNzVG9vbHMoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIHJlYWQgb25seSBmbGFnIHZhbHVlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShzKSB7XG4gICAgcyA/IHRoaXMudW5zZXRDYWxsYmFjaygpIDogdGhpcy5zZXRDYWxsYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcGFzdGVkIG9yIGRyb3BwZWQgZGF0YSB0cmFuc2ZlciBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtEYXRhVHJhbnNmZXJ9IGRhdGFUcmFuc2ZlciAtIHBhc3RlZCBvciBkcm9wcGVkIGRhdGEgdHJhbnNmZXIgb2JqZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEcmFnTkRyb3AgLSB0cnVlIGlmIGRhdGEgdHJhbnNmZXIgY29tZXMgZnJvbSBkcmFnJ24nZHJvcCBldmVudHNcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NEYXRhVHJhbnNmZXIocywgZSA9ICExKSB7XG4gICAgY29uc3QgeyBUb29sczogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBzLnR5cGVzO1xuICAgIGlmICgoby5pbmNsdWRlcyA/IG8uaW5jbHVkZXMoXCJGaWxlc1wiKSA6IG8uY29udGFpbnMoXCJGaWxlc1wiKSkgJiYgIVYodGhpcy50b29sc0ZpbGVzKSkge1xuICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRmlsZXMocy5maWxlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG4gPSBzLmdldERhdGEodGhpcy5NSU1FX1RZUEUpLCByID0gcy5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcbiAgICBsZXQgYSA9IHMuZ2V0RGF0YShcInRleHQvaHRtbFwiKTtcbiAgICBpZiAobilcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0RWRpdG9ySlNEYXRhKEpTT04ucGFyc2UobikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICBlICYmIHIudHJpbSgpICYmIGEudHJpbSgpICYmIChhID0gXCI8cD5cIiArIChhLnRyaW0oKSA/IGEgOiByKSArIFwiPC9wPlwiKTtcbiAgICBjb25zdCBsID0gT2JqZWN0LmtleXModGhpcy50b29sc1RhZ3MpLnJlZHVjZSgoaCwgZikgPT4gKGhbZi50b0xvd2VyQ2FzZSgpXSA9IHRoaXMudG9vbHNUYWdzW2ZdLnNhbml0aXphdGlvbkNvbmZpZyA/PyB7fSwgaCksIHt9KSwgYyA9IE9iamVjdC5hc3NpZ24oe30sIGwsIHQuZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZygpLCB7IGJyOiB7fSB9KSwgdSA9IFooYSwgYyk7XG4gICAgIXUudHJpbSgpIHx8IHUudHJpbSgpID09PSByIHx8ICFkLmlzSFRNTFN0cmluZyh1KSA/IGF3YWl0IHRoaXMucHJvY2Vzc1RleHQocikgOiBhd2FpdCB0aGlzLnByb2Nlc3NUZXh0KHUsICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZWQgdGV4dCBhbmQgZGl2aWRlIHRoZW0gaW50byBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSB0ZXh0IHRvIHByb2Nlc3MuIENhbiBiZSBIVE1MIG9yIHBsYWluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSFRNTCAtIGlmIHBhc3NlZCBzdHJpbmcgaXMgSFRNTCwgdGhpcyBwYXJhbWV0ZXIgc2hvdWxkIGJlIHRydWVcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NUZXh0KHMsIGUgPSAhMSkge1xuICAgIGNvbnN0IHsgQ2FyZXQ6IHQsIEJsb2NrTWFuYWdlcjogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSBlID8gdGhpcy5wcm9jZXNzSFRNTChzKSA6IHRoaXMucHJvY2Vzc1BsYWluKHMpO1xuICAgIGlmICghaS5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGkubGVuZ3RoID09PSAxKSB7XG4gICAgICBpWzBdLmlzQmxvY2sgPyB0aGlzLnByb2Nlc3NTaW5nbGVCbG9jayhpLnBvcCgpKSA6IHRoaXMucHJvY2Vzc0lubGluZVBhc3RlKGkucG9wKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByID0gby5jdXJyZW50QmxvY2sgJiYgby5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgby5jdXJyZW50QmxvY2suaXNFbXB0eTtcbiAgICBpLm1hcChcbiAgICAgIGFzeW5jIChhLCBsKSA9PiB0aGlzLmluc2VydEJsb2NrKGEsIGwgPT09IDAgJiYgcilcbiAgICApLCBvLmN1cnJlbnRCbG9jayAmJiB0LnNldFRvQmxvY2soby5jdXJyZW50QmxvY2ssIHQucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBvblBhc3RlIGNhbGxiYWNrIGhhbmRsZXJcbiAgICovXG4gIHNldENhbGxiYWNrKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMuRWRpdG9yLlVJLm5vZGVzLmhvbGRlciwgXCJwYXN0ZVwiLCB0aGlzLmhhbmRsZVBhc3RlRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldCBvblBhc3RlIGNhbGxiYWNrIGhhbmRsZXJcbiAgICovXG4gIHVuc2V0Q2FsbGJhY2soKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmKHRoaXMuRWRpdG9yLlVJLm5vZGVzLmhvbGRlciwgXCJwYXN0ZVwiLCB0aGlzLmhhbmRsZVBhc3RlRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW5kIHByb2Nlc3MgdG9vbGBzIHBhc3RlIGNvbmZpZ3NcbiAgICovXG4gIHByb2Nlc3NUb29scygpIHtcbiAgICBjb25zdCBzID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scztcbiAgICBBcnJheS5mcm9tKHMudmFsdWVzKCkpLmZvckVhY2godGhpcy5wcm9jZXNzVG9vbCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0YWdzIG5hbWUgbGlzdCBmcm9tIGVpdGhlciB0YWcgbmFtZSBvciBzYW5pdGl6YXRpb24gY29uZmlnLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG9iamVjdH0gdGFnT3JTYW5pdGl6ZUNvbmZpZyAtIHRhZyBuYW1lIG9yIHNhbml0aXplIGNvbmZpZyBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gYXJyYXkgb2YgdGFncy5cbiAgICovXG4gIGNvbGxlY3RUYWdOYW1lcyhzKSB7XG4gICAgcmV0dXJuIEoocykgPyBbc10gOiBqKHMpID8gT2JqZWN0LmtleXMocykgOiBbXTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZ3MgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0VGFnc0NvbmZpZyhzKSB7XG4gICAgaWYgKHMucGFzdGVDb25maWcgPT09ICExKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGUgPSBzLnBhc3RlQ29uZmlnLnRhZ3MgfHwgW10sIHQgPSBbXTtcbiAgICBlLmZvckVhY2goKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmNvbGxlY3RUYWdOYW1lcyhvKTtcbiAgICAgIHQucHVzaCguLi5pKSwgaS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50b29sc1RhZ3MsIG4pKSB7XG4gICAgICAgICAgVChcbiAgICAgICAgICAgIGBQYXN0ZSBoYW5kbGVyIGZvciBcdTAwQUIke3MubmFtZX1cdTAwQkIgVG9vbCBvbiBcdTAwQUIke259XHUwMEJCIHRhZyBpcyBza2lwcGVkIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSB1c2VkIGJ5IFx1MDBBQiR7dGhpcy50b29sc1RhZ3Nbbl0udG9vbC5uYW1lfVx1MDBCQiBUb29sLmAsXG4gICAgICAgICAgICBcIndhcm5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBqKG8pID8gb1tuXSA6IG51bGw7XG4gICAgICAgIHRoaXMudG9vbHNUYWdzW24udG9VcHBlckNhc2UoKV0gPSB7XG4gICAgICAgICAgdG9vbDogcyxcbiAgICAgICAgICBzYW5pdGl6YXRpb25Db25maWc6IHJcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pLCB0aGlzLnRhZ3NCeVRvb2xbcy5uYW1lXSA9IHQubWFwKChvKSA9PiBvLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZmlsZXNgIHR5cGVzIGFuZCBleHRlbnNpb25zIHRvIHN1YnN0aXR1dGUgYnkgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrVG9vbCBvYmplY3RcbiAgICovXG4gIGdldEZpbGVzQ29uZmlnKHMpIHtcbiAgICBpZiAocy5wYXN0ZUNvbmZpZyA9PT0gITEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBmaWxlczogZSA9IHt9IH0gPSBzLnBhc3RlQ29uZmlnO1xuICAgIGxldCB7IGV4dGVuc2lvbnM6IHQsIG1pbWVUeXBlczogbyB9ID0gZTtcbiAgICAhdCAmJiAhbyB8fCAodCAmJiAhQXJyYXkuaXNBcnJheSh0KSAmJiAoVChgXHUwMEFCZXh0ZW5zaW9uc1x1MDBCQiBwcm9wZXJ0eSBvZiB0aGUgb25Ecm9wIGNvbmZpZyBmb3IgXHUwMEFCJHtzLm5hbWV9XHUwMEJCIFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIHQgPSBbXSksIG8gJiYgIUFycmF5LmlzQXJyYXkobykgJiYgKFQoYFx1MDBBQm1pbWVUeXBlc1x1MDBCQiBwcm9wZXJ0eSBvZiB0aGUgb25Ecm9wIGNvbmZpZyBmb3IgXHUwMEFCJHtzLm5hbWV9XHUwMEJCIFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIG8gPSBbXSksIG8gJiYgKG8gPSBvLmZpbHRlcigoaSkgPT4gRHQoaSkgPyAhMCA6IChUKGBNSU1FIHR5cGUgdmFsdWUgXHUwMEFCJHtpfVx1MDBCQiBmb3IgdGhlIFx1MDBBQiR7cy5uYW1lfVx1MDBCQiBUb29sIGlzIG5vdCBhIHZhbGlkIE1JTUUgdHlwZWAsIFwid2FyblwiKSwgITEpKSksIHRoaXMudG9vbHNGaWxlc1tzLm5hbWVdID0ge1xuICAgICAgZXh0ZW5zaW9uczogdCB8fCBbXSxcbiAgICAgIG1pbWVUeXBlczogbyB8fCBbXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgUmVnRXhwIHBhdHRlcm5zIHRvIHN1YnN0aXR1dGUgYnkgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrVG9vbCBvYmplY3RcbiAgICovXG4gIGdldFBhdHRlcm5zQ29uZmlnKHMpIHtcbiAgICBzLnBhc3RlQ29uZmlnID09PSAhMSB8fCAhcy5wYXN0ZUNvbmZpZy5wYXR0ZXJucyB8fCBWKHMucGFzdGVDb25maWcucGF0dGVybnMpIHx8IE9iamVjdC5lbnRyaWVzKHMucGFzdGVDb25maWcucGF0dGVybnMpLmZvckVhY2goKFtlLCB0XSkgPT4ge1xuICAgICAgdCBpbnN0YW5jZW9mIFJlZ0V4cCB8fCBUKFxuICAgICAgICBgUGF0dGVybiAke3R9IGZvciBcdTAwQUIke3MubmFtZX1cdTAwQkIgVG9vbCBpcyBza2lwcGVkIGJlY2F1c2UgaXQgc2hvdWxkIGJlIGEgUmVnZXhwIGluc3RhbmNlLmAsXG4gICAgICAgIFwid2FyblwiXG4gICAgICApLCB0aGlzLnRvb2xzUGF0dGVybnMucHVzaCh7XG4gICAgICAgIGtleTogZSxcbiAgICAgICAgcGF0dGVybjogdCxcbiAgICAgICAgdG9vbDogc1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJyb3dzZXIgYmVoYXZpb3Igc3VpdHMgYmV0dGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNvbnRlbnQgaGFzIGJlZW4gcGFzdGVkXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNOYXRpdmVCZWhhdmlvdXIocykge1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQocyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlcyBmcm9tIGRhdGEgdHJhbnNmZXIgb2JqZWN0IGFuZCBpbnNlcnQgcmVsYXRlZCBUb29sc1xuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0fSBpdGVtcyAtIHBhc3RlZCBvciBkcm9wcGVkIGl0ZW1zXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZXMocykge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBsZXQgdDtcbiAgICB0ID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBBcnJheS5mcm9tKHMpLm1hcCgobikgPT4gdGhpcy5wcm9jZXNzRmlsZShuKSlcbiAgICApLCB0ID0gdC5maWx0ZXIoKG4pID0+ICEhbik7XG4gICAgY29uc3QgaSA9IGUuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGUuY3VycmVudEJsb2NrLmlzRW1wdHk7XG4gICAgdC5mb3JFYWNoKFxuICAgICAgKG4sIHIpID0+IHtcbiAgICAgICAgZS5wYXN0ZShuLnR5cGUsIG4uZXZlbnQsIHIgPT09IDAgJiYgaSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGZpbGUgYW5kIGZpbmQgVG9vbCB0byBoYW5kbGUgaXRcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gZmlsZSB0byBwcm9jZXNzXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZShzKSB7XG4gICAgY29uc3QgZSA9IFJ0KHMpLCB0ID0gT2JqZWN0LmVudHJpZXModGhpcy50b29sc0ZpbGVzKS5maW5kKChbbiwgeyBtaW1lVHlwZXM6IHIsIGV4dGVuc2lvbnM6IGEgfV0pID0+IHtcbiAgICAgIGNvbnN0IFtsLCBjXSA9IHMudHlwZS5zcGxpdChcIi9cIiksIHUgPSBhLmZpbmQoKGYpID0+IGYudG9Mb3dlckNhc2UoKSA9PT0gZS50b0xvd2VyQ2FzZSgpKSwgaCA9IHIuZmluZCgoZikgPT4ge1xuICAgICAgICBjb25zdCBbdiwgcF0gPSBmLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgcmV0dXJuIHYgPT09IGwgJiYgKHAgPT09IGMgfHwgcCA9PT0gXCIqXCIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISF1IHx8ICEhaDtcbiAgICB9KTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgW29dID0gdDtcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJmaWxlXCIsIHtcbiAgICAgICAgZmlsZTogc1xuICAgICAgfSksXG4gICAgICB0eXBlOiBvXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgSFRNTCBzdHJpbmcgdG8gYmxvY2tzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5uZXJIVE1MIC0gaHRtbCBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzSFRNTChzKSB7XG4gICAgY29uc3QgeyBUb29sczogZSB9ID0gdGhpcy5FZGl0b3IsIHQgPSBkLm1ha2UoXCJESVZcIik7XG4gICAgcmV0dXJuIHQuaW5uZXJIVE1MID0gcywgdGhpcy5nZXROb2Rlcyh0KS5tYXAoKGkpID0+IHtcbiAgICAgIGxldCBuLCByID0gZS5kZWZhdWx0VG9vbCwgYSA9ICExO1xuICAgICAgc3dpdGNoIChpLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAgICAgIG4gPSBkLm1ha2UoXCJkaXZcIiksIG4uYXBwZW5kQ2hpbGQoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgbiA9IGksIGEgPSAhMCwgdGhpcy50b29sc1RhZ3Nbbi50YWdOYW1lXSAmJiAociA9IHRoaXMudG9vbHNUYWdzW24udGFnTmFtZV0udG9vbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRhZ3M6IGwgfSA9IHIucGFzdGVDb25maWcgfHwgeyB0YWdzOiBbXSB9LCBjID0gbC5yZWR1Y2UoKGYsIHYpID0+ICh0aGlzLmNvbGxlY3RUYWdOYW1lcyh2KS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgIGNvbnN0IF8gPSBqKHYpID8gdltrXSA6IG51bGw7XG4gICAgICAgIGZbay50b0xvd2VyQ2FzZSgpXSA9IF8gfHwge307XG4gICAgICB9KSwgZiksIHt9KSwgdSA9IE9iamVjdC5hc3NpZ24oe30sIGMsIHIuYmFzZVNhbml0aXplQ29uZmlnKTtcbiAgICAgIGlmIChuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgIGNvbnN0IGYgPSBaKG4ub3V0ZXJIVE1MLCB1KTtcbiAgICAgICAgbiA9IGQubWFrZShcImRpdlwiLCB2b2lkIDAsIHtcbiAgICAgICAgICBpbm5lckhUTUw6IGZcbiAgICAgICAgfSkuZmlyc3RDaGlsZDtcbiAgICAgIH0gZWxzZVxuICAgICAgICBuLmlubmVySFRNTCA9IFoobi5pbm5lckhUTUwsIHUpO1xuICAgICAgY29uc3QgaCA9IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJ0YWdcIiwge1xuICAgICAgICBkYXRhOiBuXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IG4sXG4gICAgICAgIGlzQmxvY2s6IGEsXG4gICAgICAgIHRvb2w6IHIubmFtZSxcbiAgICAgICAgZXZlbnQ6IGhcbiAgICAgIH07XG4gICAgfSkuZmlsdGVyKChpKSA9PiB7XG4gICAgICBjb25zdCBuID0gZC5pc0VtcHR5KGkuY29udGVudCksIHIgPSBkLmlzU2luZ2xlVGFnKGkuY29udGVudCk7XG4gICAgICByZXR1cm4gIW4gfHwgcjtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgcGxhaW4gdGV4dCBieSBuZXcgbGluZSBzeW1ib2xzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhaW4gLSBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzUGxhaW4ocykge1xuICAgIGNvbnN0IHsgZGVmYXVsdEJsb2NrOiBlIH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIXMpXG4gICAgICByZXR1cm4gW107XG4gICAgY29uc3QgdCA9IGU7XG4gICAgcmV0dXJuIHMuc3BsaXQoL1xccj9cXG4vKS5maWx0ZXIoKG8pID0+IG8udHJpbSgpKS5tYXAoKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgICBpLnRleHRDb250ZW50ID0gbztcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmNvbXBvc2VQYXN0ZUV2ZW50KFwidGFnXCIsIHtcbiAgICAgICAgZGF0YTogaVxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50OiBpLFxuICAgICAgICB0b29sOiB0LFxuICAgICAgICBpc0Jsb2NrOiAhMSxcbiAgICAgICAgZXZlbnQ6IG5cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgb2Ygc2luZ2xlIEJsb2NrIHRvb2wgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRGF0YX0gZGF0YVRvSW5zZXJ0IC0gZGF0YSBvZiBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NTaW5nbGVCbG9jayhzKSB7XG4gICAgY29uc3QgeyBDYXJldDogZSwgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IG8gfSA9IHQ7XG4gICAgaWYgKCFvIHx8IHMudG9vbCAhPT0gby5uYW1lIHx8ICFkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKHMuY29udGVudC5pbm5lckhUTUwpKSB7XG4gICAgICB0aGlzLmluc2VydEJsb2NrKHMsIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnRvb2wuaXNEZWZhdWx0KSAmJiBvLmlzRW1wdHkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLmluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24ocy5jb250ZW50LmlubmVySFRNTCk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgdG8gc2luZ2xlIEJsb2NrOlxuICAgKiAxLiBGaW5kIHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqIDIuIEluc2VydCBuZXcgYmxvY2sgaWYgaXQgaXMgbm90IHRoZSBzYW1lIHR5cGUgYXMgY3VycmVudCBvbmVcbiAgICogMy4gSnVzdCBpbnNlcnQgdGV4dCBpZiB0aGVyZSBpcyBubyBzdWJzdGl0dXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVEYXRhfSBkYXRhVG9JbnNlcnQgLSBkYXRhIG9mIEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0lubGluZVBhc3RlKHMpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSwgQ2FyZXQ6IHQgfSA9IHRoaXMuRWRpdG9yLCB7IGNvbnRlbnQ6IG8gfSA9IHM7XG4gICAgaWYgKGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIG8udGV4dENvbnRlbnQubGVuZ3RoIDwgeHQuUEFUVEVSTl9QUk9DRVNTSU5HX01BWF9MRU5HVEgpIHtcbiAgICAgIGNvbnN0IG4gPSBhd2FpdCB0aGlzLnByb2Nlc3NQYXR0ZXJuKG8udGV4dENvbnRlbnQpO1xuICAgICAgaWYgKG4pIHtcbiAgICAgICAgY29uc3QgciA9IGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGUuY3VycmVudEJsb2NrLmlzRW1wdHksIGEgPSBlLnBhc3RlKG4udG9vbCwgbi5ldmVudCwgcik7XG4gICAgICAgIHQuc2V0VG9CbG9jayhhLCB0LnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLmN1cnJlbnRCbG9jayAmJiBlLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQpIHtcbiAgICAgIGNvbnN0IG4gPSBlLmN1cnJlbnRCbG9jay50b29sLmJhc2VTYW5pdGl6ZUNvbmZpZztcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFxuICAgICAgICBcImluc2VydEhUTUxcIixcbiAgICAgICAgITEsXG4gICAgICAgIFooby5pbm5lckhUTUwsIG4pXG4gICAgICApO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5pbnNlcnRCbG9jayhzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtldmVudDogUGFzdGVFdmVudCwgdG9vbDogc3RyaW5nfT59XG4gICAqL1xuICBhc3luYyBwcm9jZXNzUGF0dGVybihzKSB7XG4gICAgY29uc3QgZSA9IHRoaXMudG9vbHNQYXR0ZXJucy5maW5kKChvKSA9PiB7XG4gICAgICBjb25zdCBpID0gby5wYXR0ZXJuLmV4ZWMocyk7XG4gICAgICByZXR1cm4gaSA/IHMgPT09IGkuc2hpZnQoKSA6ICExO1xuICAgIH0pO1xuICAgIHJldHVybiBlID8ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJwYXR0ZXJuXCIsIHtcbiAgICAgICAga2V5OiBlLmtleSxcbiAgICAgICAgZGF0YTogc1xuICAgICAgfSksXG4gICAgICB0b29sOiBlLnRvb2wubmFtZVxuICAgIH0gOiB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBwYXN0ZWQgQmxvY2sgY29udGVudCB0byBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZURhdGF9IGRhdGEgLSBkYXRhIHRvIGluc2VydFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhblJlcGxhY2VDdXJyZW50QmxvY2sgLSBpZiB0cnVlIGFuZCBpcyBjdXJyZW50IEJsb2NrIGlzIGVtcHR5LCB3aWxsIHJlcGxhY2UgY3VycmVudCBCbG9ja1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGluc2VydEJsb2NrKHMsIGUgPSAhMSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbyB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBpIH0gPSB0O1xuICAgIGxldCBuO1xuICAgIGlmIChlICYmIGkgJiYgaS5pc0VtcHR5KSB7XG4gICAgICBuID0gdC5wYXN0ZShzLnRvb2wsIHMuZXZlbnQsICEwKSwgby5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLkVORCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG4gPSB0LnBhc3RlKHMudG9vbCwgcy5ldmVudCksIG8uc2V0VG9CbG9jayhuLCBvLnBvc2l0aW9ucy5FTkQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgZGF0YSBwYXNzZWQgYXMgYXBwbGljYXRpb24veC1lZGl0b3ItanMgSlNPTlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBibG9ja3MgXHUyMDE0IEJsb2NrcycgZGF0YSB0byBpbnNlcnRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBpbnNlcnRFZGl0b3JKU0RhdGEocykge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBDYXJldDogdCwgVG9vbHM6IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIGh0KFxuICAgICAgcyxcbiAgICAgIChuKSA9PiBvLmJsb2NrVG9vbHMuZ2V0KG4pLnNhbml0aXplQ29uZmlnXG4gICAgKS5mb3JFYWNoKCh7IHRvb2w6IG4sIGRhdGE6IHIgfSwgYSkgPT4ge1xuICAgICAgbGV0IGwgPSAhMTtcbiAgICAgIGEgPT09IDAgJiYgKGwgPSBlLmN1cnJlbnRCbG9jayAmJiBlLmN1cnJlbnRCbG9jay50b29sLmlzRGVmYXVsdCAmJiBlLmN1cnJlbnRCbG9jay5pc0VtcHR5KTtcbiAgICAgIGNvbnN0IGMgPSBlLmluc2VydCh7XG4gICAgICAgIHRvb2w6IG4sXG4gICAgICAgIGRhdGE6IHIsXG4gICAgICAgIHJlcGxhY2U6IGxcbiAgICAgIH0pO1xuICAgICAgdC5zZXRUb0Jsb2NrKGMsIHQucG9zaXRpb25zLkVORCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG5vZGVzIGZyb20gRWxlbWVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIGN1cnJlbnQgbm9kZVxuICAgKiBAcGFyYW0ge05vZGVbXX0gbm9kZXMgLSBwcm9jZXNzZWQgbm9kZXNcbiAgICogQHBhcmFtIHtOb2RlfSBkZXN0Tm9kZSAtIGRlc3RpbmF0aW9uIG5vZGVcbiAgICovXG4gIHByb2Nlc3NFbGVtZW50Tm9kZShzLCBlLCB0KSB7XG4gICAgY29uc3QgbyA9IE9iamVjdC5rZXlzKHRoaXMudG9vbHNUYWdzKSwgaSA9IHMsIHsgdG9vbDogbiB9ID0gdGhpcy50b29sc1RhZ3NbaS50YWdOYW1lXSB8fCB7fSwgciA9IHRoaXMudGFnc0J5VG9vbFtuID09IG51bGwgPyB2b2lkIDAgOiBuLm5hbWVdIHx8IFtdLCBhID0gby5pbmNsdWRlcyhpLnRhZ05hbWUpLCBsID0gZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKGkudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSwgYyA9IEFycmF5LmZyb20oaS5jaGlsZHJlbikuc29tZShcbiAgICAgICh7IHRhZ05hbWU6IGggfSkgPT4gby5pbmNsdWRlcyhoKSAmJiAhci5pbmNsdWRlcyhoKVxuICAgICksIHUgPSBBcnJheS5mcm9tKGkuY2hpbGRyZW4pLnNvbWUoXG4gICAgICAoeyB0YWdOYW1lOiBoIH0pID0+IGQuYmxvY2tFbGVtZW50cy5pbmNsdWRlcyhoLnRvTG93ZXJDYXNlKCkpXG4gICAgKTtcbiAgICBpZiAoIWwgJiYgIWEgJiYgIWMpXG4gICAgICByZXR1cm4gdC5hcHBlbmRDaGlsZChpKSwgWy4uLmUsIHRdO1xuICAgIGlmIChhICYmICFjIHx8IGwgJiYgIXUgJiYgIWMpXG4gICAgICByZXR1cm4gWy4uLmUsIHQsIGldO1xuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBkaXZpZGUgSFRNTCBzdHJpbmcgdG8gdHdvIHR5cGVzIG9mIG5vZGVzOlxuICAgKiAxLiBCbG9jayBlbGVtZW50XG4gICAqIDIuIERvY3VtZW50IEZyYWdtZW50cyBjb250YWluZWQgdGV4dCBhbmQgbWFya3VwIHRhZ3MgbGlrZSBhLCBiLCBpIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSB3cmFwcGVyIC0gd3JhcHBlciBvZiBwYXN0ZXIgSFRNTCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtOb2RlW119XG4gICAqL1xuICBnZXROb2RlcyhzKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20ocy5jaGlsZE5vZGVzKTtcbiAgICBsZXQgdDtcbiAgICBjb25zdCBvID0gKGksIG4pID0+IHtcbiAgICAgIGlmIChkLmlzRW1wdHkobikgJiYgIWQuaXNTaW5nbGVUYWcobikpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgY29uc3QgciA9IGlbaS5sZW5ndGggLSAxXTtcbiAgICAgIGxldCBhID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIHN3aXRjaCAociAmJiBkLmlzRnJhZ21lbnQocikgJiYgKGEgPSBpLnBvcCgpKSwgbi5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgIGlmICh0ID0gdGhpcy5wcm9jZXNzRWxlbWVudE5vZGUobiwgaSwgYSksIHQpXG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICByZXR1cm4gYS5hcHBlbmRDaGlsZChuKSwgWy4uLmksIGFdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBbLi4uaSwgYV07XG4gICAgICB9XG4gICAgICByZXR1cm4gWy4uLmksIC4uLkFycmF5LmZyb20obi5jaGlsZE5vZGVzKS5yZWR1Y2UobywgW10pXTtcbiAgICB9O1xuICAgIHJldHVybiBlLnJlZHVjZShvLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXBvc2UgcGFzdGUgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnREZXRhaWx9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZVBhc3RlRXZlbnQocywgZSkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQocywge1xuICAgICAgZGV0YWlsOiBlXG4gICAgfSk7XG4gIH1cbn07XG5sZXQgd3QgPSB4dDtcbnd0LlBBVFRFUk5fUFJPQ0VTU0lOR19NQVhfTEVOR1RIID0gNDUwO1xuY2xhc3MgcW8gZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkgPSBbXSwgdGhpcy5yZWFkT25seUVuYWJsZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdGF0ZSBvZiByZWFkIG9ubHkgbW9kZVxuICAgKi9cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBpbml0aWFsIHN0YXRlXG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGNvbnN0IHsgVG9vbHM6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGJsb2NrVG9vbHM6IHQgfSA9IGUsIG8gPSBbXTtcbiAgICBBcnJheS5mcm9tKHQuZW50cmllcygpKS5mb3JFYWNoKChbaSwgbl0pID0+IHtcbiAgICAgIG4uaXNSZWFkT25seVN1cHBvcnRlZCB8fCBvLnB1c2goaSk7XG4gICAgfSksIHRoaXMudG9vbHNEb250U3VwcG9ydFJlYWRPbmx5ID0gbywgdGhpcy5jb25maWcucmVhZE9ubHkgJiYgby5sZW5ndGggPiAwICYmIHRoaXMudGhyb3dDcml0aWNhbEVycm9yKCksIHRoaXMudG9nZ2xlKHRoaXMuY29uZmlnLnJlYWRPbmx5KTtcbiAgfVxuICAvKipcbiAgICogU2V0IHJlYWQtb25seSBtb2RlIG9yIHRvZ2dsZSBjdXJyZW50IHN0YXRlXG4gICAqIENhbGwgYWxsIE1vZHVsZXMgYHRvZ2dsZVJlYWRPbmx5YCBtZXRob2QgYW5kIHJlLXJlbmRlciBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtIChvcHRpb25hbCkgcmVhZC1vbmx5IHN0YXRlIG9yIHRvZ2dsZVxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKGUgPSAhdGhpcy5yZWFkT25seUVuYWJsZWQpIHtcbiAgICBlICYmIHRoaXMudG9vbHNEb250U3VwcG9ydFJlYWRPbmx5Lmxlbmd0aCA+IDAgJiYgdGhpcy50aHJvd0NyaXRpY2FsRXJyb3IoKTtcbiAgICBjb25zdCB0ID0gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgdGhpcy5yZWFkT25seUVuYWJsZWQgPSBlO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLkVkaXRvcilcbiAgICAgIHRoaXMuRWRpdG9yW2ldLnRvZ2dsZVJlYWRPbmx5ICYmIHRoaXMuRWRpdG9yW2ldLnRvZ2dsZVJlYWRPbmx5KGUpO1xuICAgIGlmICh0ID09PSBlKVxuICAgICAgcmV0dXJuIHRoaXMucmVhZE9ubHlFbmFibGVkO1xuICAgIGNvbnN0IG8gPSBhd2FpdCB0aGlzLkVkaXRvci5TYXZlci5zYXZlKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcigpLCBhd2FpdCB0aGlzLkVkaXRvci5SZW5kZXJlci5yZW5kZXIoby5ibG9ja3MpLCB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgfVxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGFib3V0IHRvb2xzIHdoaWNoIGRvbid0IHN1cHBvcnQgcmVhZC1vbmx5IG1vZGVcbiAgICovXG4gIHRocm93Q3JpdGljYWxFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgYXQoXG4gICAgICBgVG8gZW5hYmxlIHJlYWQtb25seSBtb2RlIGFsbCBjb25uZWN0ZWQgdG9vbHMgc2hvdWxkIHN1cHBvcnQgaXQuIFRvb2xzICR7dGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkuam9pbihcIiwgXCIpfSBkb24ndCBzdXBwb3J0IHJlYWQtb25seSBtb2RlLmBcbiAgICApO1xuICB9XG59XG5jbGFzcyBwZSBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExLCB0aGlzLlNDUk9MTF9TUEVFRCA9IDMsIHRoaXMuSEVJR0hUX09GX1NDUk9MTF9aT05FID0gNDAsIHRoaXMuQk9UVE9NX1NDUk9MTF9aT05FID0gMSwgdGhpcy5UT1BfU0NST0xMX1pPTkUgPSAyLCB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OID0gMCwgdGhpcy5tb3VzZWRvd24gPSAhMSwgdGhpcy5pc1Njcm9sbGluZyA9ICExLCB0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIHRoaXMuc3RhcnRYID0gMCwgdGhpcy5zdGFydFkgPSAwLCB0aGlzLm1vdXNlWCA9IDAsIHRoaXMubW91c2VZID0gMCwgdGhpcy5zdGFja09mU2VsZWN0ZWQgPSBbXSwgdGhpcy5saXN0ZW5lcklkcyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBDU1MgY2xhc3NlcyBmb3IgdGhlIEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7d3JhcHBlcjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG92ZXJsYXk6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlcIixcbiAgICAgIG92ZXJsYXlDb250YWluZXI6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX2NvbnRhaW5lclwiLFxuICAgICAgcmVjdDogXCJjb2RleC1lZGl0b3Itb3ZlcmxheV9fcmVjdGFuZ2xlXCIsXG4gICAgICB0b3BTY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tdG9wXCIsXG4gICAgICBib3R0b21TY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tYm90dG9tXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgUHJlcGFyYXRpb25cbiAgICogQ3JlYXRpbmcgcmVjdCBhbmQgaGFuZyBoYW5kbGVyc1xuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEluaXQgcmVjdCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VYIC0gWCBjb29yZCBvZiBtb3VzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVkgLSBZIGNvb3JkIG9mIG1vdXNlXG4gICAqL1xuICBzdGFydFNlbGVjdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSAtIHdpbmRvdy5wYWdlWE9mZnNldCwgdCAtIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgby5jbG9zZXN0KGAuJHt0aGlzLkVkaXRvci5Ub29sYmFyLkNTUy50b29sYmFyfWApIHx8ICh0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbGxCbG9ja3NTZWxlY3RlZCA9ICExLCB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuc3RhY2tPZlNlbGVjdGVkID0gW10pO1xuICAgIGNvbnN0IG4gPSBbXG4gICAgICBgLiR7Ri5DU1MuY29udGVudH1gLFxuICAgICAgYC4ke3RoaXMuRWRpdG9yLlRvb2xiYXIuQ1NTLnRvb2xiYXJ9YCxcbiAgICAgIGAuJHt0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLkNTUy5pbmxpbmVUb29sYmFyfWBcbiAgICBdLCByID0gby5jbG9zZXN0KFwiLlwiICsgdGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXIpLCBhID0gbi5zb21lKChsKSA9PiAhIW8uY2xvc2VzdChsKSk7XG4gICAgIXIgfHwgYSB8fCAodGhpcy5tb3VzZWRvd24gPSAhMCwgdGhpcy5zdGFydFggPSBlLCB0aGlzLnN0YXJ0WSA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcGFyYW1zIHRvIGVuZCBzZWxlY3Rpb25cbiAgICovXG4gIGVuZFNlbGVjdGlvbigpIHtcbiAgICB0aGlzLm1vdXNlZG93biA9ICExLCB0aGlzLnN0YXJ0WCA9IDAsIHRoaXMuc3RhcnRZID0gMCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuICAvKipcbiAgICogaXMgUmVjdFNlbGVjdGlvbiBBY3RpdmF0ZWRcbiAgICovXG4gIGlzUmVjdEFjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIE1hcmsgdGhhdCBzZWxlY3Rpb24gaXMgZW5kXG4gICAqL1xuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIE1vZHVsZSBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyOiBlIH0gPSB0aGlzLmdlbkhUTUwoKTtcbiAgICB0aGlzLmxpc3RlbmVycy5vbihlLCBcIm1vdXNlZG93blwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTW91c2VEb3duKHQpO1xuICAgIH0sICExKSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZW1vdmVcIiwgVGUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlTW92ZSh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZUxlYXZlKCk7XG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKHdpbmRvdywgXCJzY3JvbGxcIiwgVGUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc1Njcm9sbCh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2V1cFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZVVwKCk7XG4gICAgfSwgITEpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgZG93biBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc01vdXNlRG93bihlKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OKVxuICAgICAgcmV0dXJuO1xuICAgIGUudGFyZ2V0LmNsb3Nlc3QoZC5hbGxJbnB1dHNTZWxlY3RvcikgIT09IG51bGwgfHwgdGhpcy5zdGFydFNlbGVjdGlvbihlLnBhZ2VYLCBlLnBhZ2VZKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIG1vdmUgZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIGV2ZW50IHBheWxvYWRcbiAgICovXG4gIHByb2Nlc3NNb3VzZU1vdmUoZSkge1xuICAgIHRoaXMuY2hhbmdpbmdSZWN0YW5nbGUoZSksIHRoaXMuc2Nyb2xsQnlab25lcyhlLmNsaWVudFkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbGVhdmVcbiAgICovXG4gIHByb2Nlc3NNb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5lbmRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc1Njcm9sbChlKSB7XG4gICAgdGhpcy5jaGFuZ2luZ1JlY3RhbmdsZShlKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIHVwXG4gICAqL1xuICBwcm9jZXNzTW91c2VVcCgpIHtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuZW5kU2VsZWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNjcm9sbCBJZiBtb3VzZSBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50WSAtIFkgY29vcmQgb2YgbW91c2VcbiAgICovXG4gIHNjcm9sbEJ5Wm9uZXMoZSkge1xuICAgIGlmICh0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIGUgPD0gdGhpcy5IRUlHSFRfT0ZfU0NST0xMX1pPTkUgJiYgKHRoaXMuaW5TY3JvbGxab25lID0gdGhpcy5UT1BfU0NST0xMX1pPTkUpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZSA8PSB0aGlzLkhFSUdIVF9PRl9TQ1JPTExfWk9ORSAmJiAodGhpcy5pblNjcm9sbFpvbmUgPSB0aGlzLkJPVFRPTV9TQ1JPTExfWk9ORSksICF0aGlzLmluU2Nyb2xsWm9uZSkge1xuICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICExO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzU2Nyb2xsaW5nIHx8ICh0aGlzLnNjcm9sbFZlcnRpY2FsKHRoaXMuaW5TY3JvbGxab25lID09PSB0aGlzLlRPUF9TQ1JPTExfWk9ORSA/IC10aGlzLlNDUk9MTF9TUEVFRCA6IHRoaXMuU0NST0xMX1NQRUVEKSwgdGhpcy5pc1Njcm9sbGluZyA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIHJlcXVpcmVkIEhUTUwgZWxlbWVudHNcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIEVsZW1lbnQ+fVxuICAgKi9cbiAgZ2VuSFRNTCgpIHtcbiAgICBjb25zdCB7IFVJOiBlIH0gPSB0aGlzLkVkaXRvciwgdCA9IGUubm9kZXMuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBlLkNTUy5lZGl0b3JXcmFwcGVyKSwgbyA9IGQubWFrZShcImRpdlwiLCBwZS5DU1Mub3ZlcmxheSwge30pLCBpID0gZC5tYWtlKFwiZGl2XCIsIHBlLkNTUy5vdmVybGF5Q29udGFpbmVyLCB7fSksIG4gPSBkLm1ha2UoXCJkaXZcIiwgcGUuQ1NTLnJlY3QsIHt9KTtcbiAgICByZXR1cm4gaS5hcHBlbmRDaGlsZChuKSwgby5hcHBlbmRDaGlsZChpKSwgdC5hcHBlbmRDaGlsZChvKSwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlID0gbiwge1xuICAgICAgY29udGFpbmVyOiB0LFxuICAgICAgb3ZlcmxheTogb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBzY3JvbGxpbmcgaWYgYmxvY2tTZWxlY3Rpb24gaXMgYWN0aXZlIGFuZCBtb3VzZSBpcyBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWQgLSBzcGVlZCBvZiBzY3JvbGxpbmdcbiAgICovXG4gIHNjcm9sbFZlcnRpY2FsKGUpIHtcbiAgICBpZiAoISh0aGlzLmluU2Nyb2xsWm9uZSAmJiB0aGlzLm1vdXNlZG93bikpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgZSksIHRoaXMubW91c2VZICs9IHdpbmRvdy5wYWdlWU9mZnNldCAtIHQsIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zY3JvbGxWZXJ0aWNhbChlKTtcbiAgICB9LCAwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2hhbmdlIGluIHRoZSByZWN0YW5nbGUgYW5kIGl0cyBlZmZlY3RcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGV2ZW50XG4gICAqL1xuICBjaGFuZ2luZ1JlY3RhbmdsZShlKSB7XG4gICAgaWYgKCF0aGlzLm1vdXNlZG93bilcbiAgICAgIHJldHVybjtcbiAgICBlLnBhZ2VZICE9PSB2b2lkIDAgJiYgKHRoaXMubW91c2VYID0gZS5wYWdlWCwgdGhpcy5tb3VzZVkgPSBlLnBhZ2VZKTtcbiAgICBjb25zdCB7IHJpZ2h0UG9zOiB0LCBsZWZ0UG9zOiBvLCBpbmRleDogaSB9ID0gdGhpcy5nZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSwgbiA9IHRoaXMuc3RhcnRYID4gdCAmJiB0aGlzLm1vdXNlWCA+IHQsIHIgPSB0aGlzLnN0YXJ0WCA8IG8gJiYgdGhpcy5tb3VzZVggPCBvO1xuICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgPSAhKG4gfHwgciksIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkIHx8ICh0aGlzLnJlY3RDcm9zc2VzQmxvY2tzID0gITEsIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITAsIHRoaXMuc2hyaW5rUmVjdGFuZ2xlVG9Qb2ludCgpLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIiksIHRoaXMudXBkYXRlUmVjdGFuZ2xlU2l6ZSgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksIGkgIT09IHZvaWQgMCAmJiAodGhpcy50cnlTZWxlY3ROZXh0QmxvY2soaSksIHRoaXMuaW52ZXJzZVNlbGVjdGlvbigpLCBtLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpKTtcbiAgfVxuICAvKipcbiAgICogU2hyaW5rIHJlY3QgdG8gc2luZ3VsYXIgcG9pbnRcbiAgICovXG4gIHNocmlua1JlY3RhbmdsZVRvUG9pbnQoKSB7XG4gICAgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YDtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IG9yIHVuc2VsZWN0IGFsbCBvZiBibG9ja3MgaW4gYXJyYXkgaWYgcmVjdCBpcyBvdXQgb3IgaW4gc2VsZWN0YWJsZSBhcmVhXG4gICAqL1xuICBpbnZlcnNlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkWzBdKS5zZWxlY3RlZDtcbiAgICBpZiAodGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiAhdClcbiAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLnN0YWNrT2ZTZWxlY3RlZClcbiAgICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uc2VsZWN0QmxvY2tCeUluZGV4KG8pO1xuICAgIGlmICghdGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiB0KVxuICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuc3RhY2tPZlNlbGVjdGVkKVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi51blNlbGVjdEJsb2NrQnlJbmRleChvKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBzaXplIG9mIHJlY3RhbmdsZVxuICAgKi9cbiAgdXBkYXRlUmVjdGFuZ2xlU2l6ZSgpIHtcbiAgICB0aGlzLm1vdXNlWSA+PSB0aGlzLnN0YXJ0WSA/ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSA6ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSwgdGhpcy5tb3VzZVggPj0gdGhpcy5zdGFydFggPyAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCkgOiAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbGxlY3RzIGluZm9ybWF0aW9uIG5lZWRlZCB0byBkZXRlcm1pbmUgdGhlIGJlaGF2aW9yIG9mIHRoZSByZWN0YW5nbGVcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gaW5kZXggLSBpbmRleCBuZXh0IEJsb2NrLCBsZWZ0UG9zIC0gc3RhcnQgb2YgbGVmdCBib3JkZXIgb2YgQmxvY2ssIHJpZ2h0UG9zIC0gcmlnaHQgYm9yZGVyXG4gICAqL1xuICBnZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLyAyLCBvID0gdGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQsIGkgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQsIG8pLCBuID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUoaSk7XG4gICAgbGV0IHI7XG4gICAgbiAhPT0gdm9pZCAwICYmIChyID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5maW5kSW5kZXgoKGgpID0+IGguaG9sZGVyID09PSBuLmhvbGRlcikpO1xuICAgIGNvbnN0IGEgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrLmhvbGRlci5xdWVyeVNlbGVjdG9yKFwiLlwiICsgRi5DU1MuY29udGVudCksIGwgPSBOdW1iZXIucGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkud2lkdGgsIDEwKSAvIDIsIGMgPSB0IC0gbCwgdSA9IHQgKyBsO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogcixcbiAgICAgIGxlZnRQb3M6IGMsXG4gICAgICByaWdodFBvczogdVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBibG9jayB3aXRoIGluZGV4IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGJsb2NrIGluIHJlZGFjdG9yXG4gICAqL1xuICBhZGRCbG9ja0luU2VsZWN0aW9uKGUpIHtcbiAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdEJsb2NrQnlJbmRleChlKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucHVzaChlKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGJsb2NrIHRvIHRoZSBzZWxlY3Rpb24gYW5kIGRldGVybWluZXMgd2hpY2ggYmxvY2tzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5kZXggLSBpbmRleCBvZiBuZXcgYmxvY2sgaW4gdGhlIHJlYWN0b3JcbiAgICovXG4gIHRyeVNlbGVjdE5leHRCbG9jayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW3RoaXMuc3RhY2tPZlNlbGVjdGVkLmxlbmd0aCAtIDFdID09PSBlLCBvID0gdGhpcy5zdGFja09mU2VsZWN0ZWQubGVuZ3RoLCBpID0gMSwgbiA9IC0xLCByID0gMDtcbiAgICBpZiAodClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBhID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdIC0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDJdID4gMDtcbiAgICBsZXQgbCA9IHI7XG4gICAgbyA+IDEgJiYgKGwgPSBhID8gaSA6IG4pO1xuICAgIGNvbnN0IGMgPSBlID4gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGwgPT09IGksIHUgPSBlIDwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGwgPT09IG4sIGYgPSAhKGMgfHwgdSB8fCBsID09PSByKTtcbiAgICBpZiAoIWYgJiYgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gfHwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdID09PSB2b2lkIDApKSB7XG4gICAgICBsZXQgayA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSArIDEgfHwgZTtcbiAgICAgIGZvciAoazsgayA8PSBlOyBrKyspXG4gICAgICAgIHRoaXMuYWRkQmxvY2tJblNlbGVjdGlvbihrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmICYmIGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0pIHtcbiAgICAgIGZvciAobGV0IGsgPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gLSAxOyBrID49IGU7IGstLSlcbiAgICAgICAgdGhpcy5hZGRCbG9ja0luU2VsZWN0aW9uKGspO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWYpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHYgPSBvIC0gMSwgcDtcbiAgICBmb3IgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gPyBwID0gKCkgPT4gZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW3ZdIDogcCA9ICgpID0+IGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFt2XTsgcCgpOyApXG4gICAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnVuU2VsZWN0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkW3ZdKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucG9wKCksIHYtLTtcbiAgfVxufVxuY2xhc3MgSm8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IFJlbmRlcmVyQmxvY2tzXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIC0gdG9vbCBuYW1lXG4gICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkYXRhIC0gdG9vbCBkYXRhXG4gICAqL1xuICAvKipcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYmxvY2tzOiBbXG4gICAqICAge1xuICAgKiAgICAgaWQgICA6ICdvRGUtRVZyR1dBJyxcbiAgICogICAgIHR5cGUgOiAncGFyYWdyYXBoJyxcbiAgICogICAgIGRhdGEgOiB7XG4gICAqICAgICAgIHRleHQgOiAnSGVsbG8gZnJvbSBDb2RleCEnXG4gICAqICAgICB9XG4gICAqICAgfSxcbiAgICogICB7XG4gICAqICAgICBpZCAgIDogJ0xkNUJKakpDSHMnLFxuICAgKiAgICAgdHlwZSA6ICdwYXJhZ3JhcGgnLFxuICAgKiAgICAgZGF0YSA6IHtcbiAgICogICAgICAgdGV4dCA6ICdMZWF2ZSBmZWVkYmFjayBpZiB5b3UgbGlrZSBpdCEnXG4gICAqICAgICB9XG4gICAqICAgfSxcbiAgICogXVxuICAgKi9cbiAgLyoqXG4gICAqIE1ha2UgcGx1Z2luIGJsb2NrcyBmcm9tIGFycmF5IG9mIHBsdWdpbmBzIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPdXRwdXRCbG9ja0RhdGFbXX0gYmxvY2tzIC0gYmxvY2tzIHRvIHJlbmRlclxuICAgKi9cbiAgYXN5bmMgcmVuZGVyKGUpIHtcbiAgICBjb25zdCB0ID0gZS5tYXAoKGkpID0+ICh7IGZ1bmN0aW9uOiAoKSA9PiB0aGlzLmluc2VydEJsb2NrKGkpIH0pKTtcbiAgICB0aGlzLkVkaXRvci5Nb2RpZmljYXRpb25zT2JzZXJ2ZXIuZGlzYWJsZSgpO1xuICAgIGNvbnN0IG8gPSBhd2FpdCBvdCh0KTtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmVuYWJsZSgpLCB0aGlzLkVkaXRvci5VSS5jaGVja0VtcHRpbmVzcygpLCBvO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcGx1Z2luIGluc3RhbmNlXG4gICAqIEFkZCBwbHVnaW4gaW5zdGFuY2UgdG8gQmxvY2tNYW5hZ2VyXG4gICAqIEluc2VydCBibG9jayB0byB3b3JraW5nIHpvbmVcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW0gLSBCbG9jayBkYXRhIHRvIGluc2VydFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIGluc2VydEJsb2NrKGUpIHtcbiAgICB2YXIgbDtcbiAgICBjb25zdCB7IFRvb2xzOiB0LCBCbG9ja01hbmFnZXI6IG8gfSA9IHRoaXMuRWRpdG9yLCB7IHR5cGU6IGksIGRhdGE6IG4sIHR1bmVzOiByLCBpZDogYSB9ID0gZTtcbiAgICBpZiAodC5hdmFpbGFibGUuaGFzKGkpKVxuICAgICAgdHJ5IHtcbiAgICAgICAgby5pbnNlcnQoe1xuICAgICAgICAgIGlkOiBhLFxuICAgICAgICAgIHRvb2w6IGksXG4gICAgICAgICAgZGF0YTogbixcbiAgICAgICAgICB0dW5lczogclxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgdGhyb3cgVChgQmxvY2sgXHUwMEFCJHtpfVx1MDBCQiBza2lwcGVkIGJlY2F1c2Ugb2YgcGx1Z2lucyBlcnJvcmAsIFwid2FyblwiLCB7XG4gICAgICAgICAgZGF0YTogbixcbiAgICAgICAgICBlcnJvcjogY1xuICAgICAgICB9KSwgRXJyb3IoYyk7XG4gICAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBjID0ge1xuICAgICAgICBzYXZlZERhdGE6IHtcbiAgICAgICAgICBpZDogYSxcbiAgICAgICAgICB0eXBlOiBpLFxuICAgICAgICAgIGRhdGE6IG5cbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGU6IGlcbiAgICAgIH07XG4gICAgICBpZiAodC51bmF2YWlsYWJsZS5oYXMoaSkpIHtcbiAgICAgICAgY29uc3QgZiA9IChsID0gdC51bmF2YWlsYWJsZS5nZXQoaSkudG9vbGJveFswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IGwudGl0bGU7XG4gICAgICAgIGMudGl0bGUgPSBmIHx8IGMudGl0bGU7XG4gICAgICB9XG4gICAgICBjb25zdCB1ID0gby5pbnNlcnQoe1xuICAgICAgICBpZDogYSxcbiAgICAgICAgdG9vbDogdC5zdHViVG9vbCxcbiAgICAgICAgZGF0YTogY1xuICAgICAgfSk7XG4gICAgICB1LnN0cmV0Y2hlZCA9ICEwLCBUKGBUb29sIFx1MDBBQiR7aX1cdTAwQkIgaXMgbm90IGZvdW5kLiBDaGVjayAndG9vbHMnIHByb3BlcnR5IGF0IHlvdXIgaW5pdGlhbCBFZGl0b3IuanMgY29uZmlnLmAsIFwid2FyblwiKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFFvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBDb21wb3NlcyBuZXcgY2hhaW4gb2YgUHJvbWlzZXMgdG8gZmlyZSB0aGVtIGFsdGVybmF0ZWxseVxuICAgKlxuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IGUuYmxvY2tzLCBpID0gW107XG4gICAgdHJ5IHtcbiAgICAgIG8uZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICBpLnB1c2godGhpcy5nZXRTYXZlZERhdGEoYSkpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuID0gYXdhaXQgUHJvbWlzZS5hbGwoaSksIHIgPSBhd2FpdCBodChuLCAoYSkgPT4gdC5ibG9ja1Rvb2xzLmdldChhKS5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgICByZXR1cm4gdGhpcy5tYWtlT3V0cHV0KHIpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgIEsoXCJTYXZpbmcgZmFpbGVkIGR1ZSB0byB0aGUgRXJyb3IgJW9cIiwgXCJlcnJvclwiLCBuKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNhdmVzIGFuZCB2YWxpZGF0ZXNcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBFZGl0b3IncyBUb29sXG4gICAqIEByZXR1cm5zIHtWYWxpZGF0ZWREYXRhfSAtIFRvb2wncyB2YWxpZGF0ZWQgZGF0YVxuICAgKi9cbiAgYXN5bmMgZ2V0U2F2ZWREYXRhKGUpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgZS5zYXZlKCksIG8gPSB0ICYmIGF3YWl0IGUudmFsaWRhdGUodC5kYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udCxcbiAgICAgIGlzVmFsaWQ6IG9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG91dHB1dCBvYmplY3Qgd2l0aCBzYXZlZCBkYXRhLCB0aW1lIGFuZCB2ZXJzaW9uIG9mIGVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlZERhdGF9IGFsbEV4dHJhY3RlZERhdGEgLSBkYXRhIGV4dHJhY3RlZCBmcm9tIEJsb2Nrc1xuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIG1ha2VPdXRwdXQoZSkge1xuICAgIGxldCB0ID0gMDtcbiAgICBjb25zdCBvID0gW107XG4gICAgcmV0dXJuIFQoXCJbRWRpdG9yLmpzIHNhdmluZ106XCIsIFwiZ3JvdXBDb2xsYXBzZWRcIiksIGUuZm9yRWFjaCgoeyBpZDogaSwgdG9vbDogbiwgZGF0YTogciwgdHVuZXM6IGEsIHRpbWU6IGwsIGlzVmFsaWQ6IGMgfSkgPT4ge1xuICAgICAgaWYgKHQgKz0gbCwgVChgJHtuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbi5zbGljZSgxKX1gLCBcImdyb3VwXCIpLCBjKVxuICAgICAgICBUKHIpLCBUKHZvaWQgMCwgXCJncm91cEVuZFwiKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBUKGBCbG9jayBcdTAwQUIke259XHUwMEJCIHNraXBwZWQgYmVjYXVzZSBzYXZlZCBkYXRhIGlzIGludmFsaWRgKSwgVCh2b2lkIDAsIFwiZ3JvdXBFbmRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChuID09PSB0aGlzLkVkaXRvci5Ub29scy5zdHViVG9vbCkge1xuICAgICAgICBvLnB1c2gocik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHUgPSB7XG4gICAgICAgIGlkOiBpLFxuICAgICAgICB0eXBlOiBuLFxuICAgICAgICBkYXRhOiByLFxuICAgICAgICAuLi4hVihhKSAmJiB7XG4gICAgICAgICAgdHVuZXM6IGFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG8ucHVzaCh1KTtcbiAgICB9KSwgVChcIlRvdGFsXCIsIFwibG9nXCIsIHQpLCBUKHZvaWQgMCwgXCJncm91cEVuZFwiKSwge1xuICAgICAgdGltZTogKy8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgYmxvY2tzOiBvLFxuICAgICAgdmVyc2lvbjogXCIyLjI3LjBcIlxuICAgIH07XG4gIH1cbn1cbnZhciBOZSA9IHt9LCBlaSA9IHtcbiAgZ2V0IGV4cG9ydHMoKSB7XG4gICAgcmV0dXJuIE5lO1xuICB9LFxuICBzZXQgZXhwb3J0cyhzKSB7XG4gICAgTmUgPSBzO1xuICB9XG59O1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKG4pIHtcbiAgICAgICAgaWYgKG9bbl0pXG4gICAgICAgICAgcmV0dXJuIG9bbl0uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW25dID0geyBpOiBuLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24obiwgciwgYSkge1xuICAgICAgICBpLm8obiwgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogYSB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKG4gPSBpKG4pKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuICYmIG4uX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgdmFyIGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihhKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbiB9KSwgMiAmIHIgJiYgdHlwZW9mIG4gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBsIGluIG4pXG4gICAgICAgICAgICBpLmQoYSwgbCwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gbltjXTtcbiAgICAgICAgICAgIH0uYmluZChudWxsLCBsKSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IG4gJiYgbi5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG4uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKTtcbiAgICAgIH0sIGkucCA9IFwiL1wiLCBpKGkucyA9IDQpO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBuID0gaSgxKSwgciA9IGkoMik7XG4gICAgICB0eXBlb2YgKHIgPSByLl9fZXNNb2R1bGUgPyByLmRlZmF1bHQgOiByKSA9PSBcInN0cmluZ1wiICYmIChyID0gW1t0LmksIHIsIFwiXCJdXSk7XG4gICAgICB2YXIgYSA9IHsgaW5zZXJ0OiBcImhlYWRcIiwgc2luZ2xldG9uOiAhMSB9O1xuICAgICAgbihyLCBhKSwgdC5leHBvcnRzID0gci5sb2NhbHMgfHwge307XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIG4sIHIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG4gPT09IHZvaWQgMCAmJiAobiA9ICEhKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKSksIG47XG4gICAgICB9LCBhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ID0ge307XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgaWYgKHlbeF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFyIHcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHgpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiB3IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHcgPSB3LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICB3ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgeVt4XSA9IHc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB5W3hdO1xuICAgICAgICB9O1xuICAgICAgfSgpLCBsID0gW107XG4gICAgICBmdW5jdGlvbiBjKHkpIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IC0xLCB3ID0gMDsgdyA8IGwubGVuZ3RoOyB3KyspXG4gICAgICAgICAgaWYgKGxbd10uaWRlbnRpZmllciA9PT0geSkge1xuICAgICAgICAgICAgeCA9IHc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdSh5LCB4KSB7XG4gICAgICAgIGZvciAodmFyIHcgPSB7fSwgTSA9IFtdLCBOID0gMDsgTiA8IHkubGVuZ3RoOyBOKyspIHtcbiAgICAgICAgICB2YXIgYiA9IHlbTl0sIGcgPSB4LmJhc2UgPyBiWzBdICsgeC5iYXNlIDogYlswXSwgRSA9IHdbZ10gfHwgMCwgQyA9IFwiXCIuY29uY2F0KGcsIFwiIFwiKS5jb25jYXQoRSk7XG4gICAgICAgICAgd1tnXSA9IEUgKyAxO1xuICAgICAgICAgIHZhciBPID0gYyhDKSwgSSA9IHsgY3NzOiBiWzFdLCBtZWRpYTogYlsyXSwgc291cmNlTWFwOiBiWzNdIH07XG4gICAgICAgICAgTyAhPT0gLTEgPyAobFtPXS5yZWZlcmVuY2VzKyssIGxbT10udXBkYXRlcihJKSkgOiBsLnB1c2goeyBpZGVudGlmaWVyOiBDLCB1cGRhdGVyOiBSKEksIHgpLCByZWZlcmVuY2VzOiAxIH0pLCBNLnB1c2goQyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE07XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBoKHkpIHtcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksIHcgPSB5LmF0dHJpYnV0ZXMgfHwge307XG4gICAgICAgIGlmICh3Lm5vbmNlID09PSB2b2lkIDApIHtcbiAgICAgICAgICB2YXIgTSA9IGkubmM7XG4gICAgICAgICAgTSAmJiAody5ub25jZSA9IE0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh3KS5mb3JFYWNoKGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgICB4LnNldEF0dHJpYnV0ZShiLCB3W2JdKTtcbiAgICAgICAgfSksIHR5cGVvZiB5Lmluc2VydCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgeS5pbnNlcnQoeCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBOID0gYSh5Lmluc2VydCB8fCBcImhlYWRcIik7XG4gICAgICAgICAgaWYgKCFOKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICBOLmFwcGVuZENoaWxkKHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgICAgdmFyIGYsIHYgPSAoZiA9IFtdLCBmdW5jdGlvbih5LCB4KSB7XG4gICAgICAgIHJldHVybiBmW3ldID0geCwgZi5maWx0ZXIoQm9vbGVhbikuam9pbihgXG5gKTtcbiAgICAgIH0pO1xuICAgICAgZnVuY3Rpb24gcCh5LCB4LCB3LCBNKSB7XG4gICAgICAgIHZhciBOID0gdyA/IFwiXCIgOiBNLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KE0ubWVkaWEsIFwiIHtcIikuY29uY2F0KE0uY3NzLCBcIn1cIikgOiBNLmNzcztcbiAgICAgICAgaWYgKHkuc3R5bGVTaGVldClcbiAgICAgICAgICB5LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHYoeCwgTik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBiID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoTiksIGcgPSB5LmNoaWxkTm9kZXM7XG4gICAgICAgICAgZ1t4XSAmJiB5LnJlbW92ZUNoaWxkKGdbeF0pLCBnLmxlbmd0aCA/IHkuaW5zZXJ0QmVmb3JlKGIsIGdbeF0pIDogeS5hcHBlbmRDaGlsZChiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gayh5LCB4LCB3KSB7XG4gICAgICAgIHZhciBNID0gdy5jc3MsIE4gPSB3Lm1lZGlhLCBiID0gdy5zb3VyY2VNYXA7XG4gICAgICAgIGlmIChOID8geS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBOKSA6IHkucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIiksIGIgJiYgYnRvYSAmJiAoTSArPSBgXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGAuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGIpKSkpLCBcIiAqL1wiKSksIHkuc3R5bGVTaGVldClcbiAgICAgICAgICB5LnN0eWxlU2hlZXQuY3NzVGV4dCA9IE07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZvciAoOyB5LmZpcnN0Q2hpbGQ7IClcbiAgICAgICAgICAgIHkucmVtb3ZlQ2hpbGQoeS5maXJzdENoaWxkKTtcbiAgICAgICAgICB5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKE0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIF8gPSBudWxsLCBBID0gMDtcbiAgICAgIGZ1bmN0aW9uIFIoeSwgeCkge1xuICAgICAgICB2YXIgdywgTSwgTjtcbiAgICAgICAgaWYgKHguc2luZ2xldG9uKSB7XG4gICAgICAgICAgdmFyIGIgPSBBKys7XG4gICAgICAgICAgdyA9IF8gfHwgKF8gPSBoKHgpKSwgTSA9IHAuYmluZChudWxsLCB3LCBiLCAhMSksIE4gPSBwLmJpbmQobnVsbCwgdywgYiwgITApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB3ID0gaCh4KSwgTSA9IGsuYmluZChudWxsLCB3LCB4KSwgTiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgKGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgICAgaWYgKGcucGFyZW50Tm9kZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgIGcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnKTtcbiAgICAgICAgICAgIH0pKHcpO1xuICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBNKHkpLCBmdW5jdGlvbihnKSB7XG4gICAgICAgICAgaWYgKGcpIHtcbiAgICAgICAgICAgIGlmIChnLmNzcyA9PT0geS5jc3MgJiYgZy5tZWRpYSA9PT0geS5tZWRpYSAmJiBnLnNvdXJjZU1hcCA9PT0geS5zb3VyY2VNYXApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIE0oeSA9IGcpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgTigpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oeSwgeCkge1xuICAgICAgICAoeCA9IHggfHwge30pLnNpbmdsZXRvbiB8fCB0eXBlb2YgeC5zaW5nbGV0b24gPT0gXCJib29sZWFuXCIgfHwgKHguc2luZ2xldG9uID0gcigpKTtcbiAgICAgICAgdmFyIHcgPSB1KHkgPSB5IHx8IFtdLCB4KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICBpZiAoTSA9IE0gfHwgW10sIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChNKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBOID0gMDsgTiA8IHcubGVuZ3RoOyBOKyspIHtcbiAgICAgICAgICAgICAgdmFyIGIgPSBjKHdbTl0pO1xuICAgICAgICAgICAgICBsW2JdLnJlZmVyZW5jZXMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGcgPSB1KE0sIHgpLCBFID0gMDsgRSA8IHcubGVuZ3RoOyBFKyspIHtcbiAgICAgICAgICAgICAgdmFyIEMgPSBjKHdbRV0pO1xuICAgICAgICAgICAgICBsW0NdLnJlZmVyZW5jZXMgPT09IDAgJiYgKGxbQ10udXBkYXRlcigpLCBsLnNwbGljZShDLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3ID0gZztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIChvID0gaSgzKSghMSkpLnB1c2goW3QuaSwgYC5jZS1wYXJhZ3JhcGgge1xuICAgIGxpbmUtaGVpZ2h0OiAxLjZlbTtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuXG4uY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmV7XG4gIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcik7XG4gIGNvbG9yOiAjNzA3Njg0O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBvcGFjaXR5OiAwO1xufVxuXG4vKiogU2hvdyBwbGFjZWhvbGRlciBhdCB0aGUgZmlyc3QgcGFyYWdyYXBoIGlmIEVkaXRvciBpcyBlbXB0eSAqL1xuLmNvZGV4LWVkaXRvci0tZW1wdHkgLmNlLWJsb2NrOmZpcnN0LWNoaWxkIC5jZS1wYXJhZ3JhcGhbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6OmJlZm9yZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5jb2RleC1lZGl0b3ItLXRvb2xib3gtb3BlbmVkIC5jZS1ibG9jazpmaXJzdC1jaGlsZCAuY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmUsXG4uY29kZXgtZWRpdG9yLS1lbXB0eSAuY2UtYmxvY2s6Zmlyc3QtY2hpbGQgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpmb2N1czo6YmVmb3JlIHtcbiAgb3BhY2l0eTogMDtcbn1cblxuLmNlLXBhcmFncmFwaCBwOmZpcnN0LW9mLXR5cGV7XG4gICAgbWFyZ2luLXRvcDogMDtcbn1cblxuLmNlLXBhcmFncmFwaCBwOmxhc3Qtb2YtdHlwZXtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xufVxuYCwgXCJcIl0pLCB0LmV4cG9ydHMgPSBvO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIHIgPSBbXTtcbiAgICAgICAgcmV0dXJuIHIudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgdmFyIGwgPSBmdW5jdGlvbihjLCB1KSB7XG4gICAgICAgICAgICAgIHZhciBoID0gY1sxXSB8fCBcIlwiLCBmID0gY1szXTtcbiAgICAgICAgICAgICAgaWYgKCFmKVxuICAgICAgICAgICAgICAgIHJldHVybiBoO1xuICAgICAgICAgICAgICBpZiAodSAmJiB0eXBlb2YgYnRvYSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IChrID0gZiwgXyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGspKSkpLCBBID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoXyksIFwiLyojIFwiLmNvbmNhdChBLCBcIiAqL1wiKSksIHAgPSBmLnNvdXJjZXMubWFwKGZ1bmN0aW9uKFIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGYuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoUiwgXCIgKi9cIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtoXS5jb25jYXQocCkuY29uY2F0KFt2XSkuam9pbihgXG5gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgaywgXywgQTtcbiAgICAgICAgICAgICAgcmV0dXJuIFtoXS5qb2luKGBcbmApO1xuICAgICAgICAgICAgfShhLCBuKTtcbiAgICAgICAgICAgIHJldHVybiBhWzJdID8gXCJAbWVkaWEgXCIuY29uY2F0KGFbMl0sIFwiIHtcIikuY29uY2F0KGwsIFwifVwiKSA6IGw7XG4gICAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgfSwgci5pID0gZnVuY3Rpb24oYSwgbCwgYykge1xuICAgICAgICAgIHR5cGVvZiBhID09IFwic3RyaW5nXCIgJiYgKGEgPSBbW251bGwsIGEsIFwiXCJdXSk7XG4gICAgICAgICAgdmFyIHUgPSB7fTtcbiAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgdGhpcy5sZW5ndGg7IGgrKykge1xuICAgICAgICAgICAgICB2YXIgZiA9IHRoaXNbaF1bMF07XG4gICAgICAgICAgICAgIGYgIT0gbnVsbCAmJiAodVtmXSA9ICEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGEubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgICAgIHZhciBwID0gW10uY29uY2F0KGFbdl0pO1xuICAgICAgICAgICAgYyAmJiB1W3BbMF1dIHx8IChsICYmIChwWzJdID8gcFsyXSA9IFwiXCIuY29uY2F0KGwsIFwiIGFuZCBcIikuY29uY2F0KHBbMl0pIDogcFsyXSA9IGwpLCByLnB1c2gocCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcjtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgaS5yKG8pLCBpLmQobywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0pLCBpKDApO1xuICAgICAgZnVuY3Rpb24gbihsLCBjKSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgIHZhciBoID0gY1t1XTtcbiAgICAgICAgICBoLmVudW1lcmFibGUgPSBoLmVudW1lcmFibGUgfHwgITEsIGguY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBoICYmIChoLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobCwgaC5rZXksIGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKGwsIGMsIHUpIHtcbiAgICAgICAgcmV0dXJuIGMgJiYgbihsLnByb3RvdHlwZSwgYyksIHUgJiYgbihsLCB1KSwgbDtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQmFzZSBQYXJhZ3JhcGggQmxvY2sgZm9yIHRoZSBFZGl0b3IuanMuXG4gICAgICAgKiBSZXByZXNlbnRzIHNpbXBsZSBwYXJhZ3JhcGhcbiAgICAgICAqXG4gICAgICAgKiBAYXV0aG9yIENvZGVYICh0ZWFtQGNvZGV4LnNvKVxuICAgICAgICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gICAgICAgKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAgICAgICAqL1xuICAgICAgdmFyIGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gbChjKSB7XG4gICAgICAgICAgdmFyIHUgPSBjLmRhdGEsIGggPSBjLmNvbmZpZywgZiA9IGMuYXBpLCB2ID0gYy5yZWFkT25seTtcbiAgICAgICAgICAoZnVuY3Rpb24ocCwgaykge1xuICAgICAgICAgICAgaWYgKCEocCBpbnN0YW5jZW9mIGspKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIH0pKHRoaXMsIGwpLCB0aGlzLmFwaSA9IGYsIHRoaXMucmVhZE9ubHkgPSB2LCB0aGlzLl9DU1MgPSB7IGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssIHdyYXBwZXI6IFwiY2UtcGFyYWdyYXBoXCIgfSwgdGhpcy5yZWFkT25seSB8fCAodGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcykpLCB0aGlzLl9wbGFjZWhvbGRlciA9IGgucGxhY2Vob2xkZXIgPyBoLnBsYWNlaG9sZGVyIDogbC5ERUZBVUxUX1BMQUNFSE9MREVSLCB0aGlzLl9kYXRhID0ge30sIHRoaXMuX2VsZW1lbnQgPSB0aGlzLmRyYXdWaWV3KCksIHRoaXMuX3ByZXNlcnZlQmxhbmsgPSBoLnByZXNlcnZlQmxhbmsgIT09IHZvaWQgMCAmJiBoLnByZXNlcnZlQmxhbmssIHRoaXMuZGF0YSA9IHU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIobCwgbnVsbCwgW3sga2V5OiBcIkRFRkFVTFRfUExBQ0VIT0xERVJcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSB9XSksIHIobCwgW3sga2V5OiBcIm9uS2V5VXBcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICBjLmNvZGUgIT09IFwiQmFja3NwYWNlXCIgJiYgYy5jb2RlICE9PSBcIkRlbGV0ZVwiIHx8IHRoaXMuX2VsZW1lbnQudGV4dENvbnRlbnQgPT09IFwiXCIgJiYgKHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gXCJcIik7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiZHJhd1ZpZXdcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgICByZXR1cm4gYy5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy53cmFwcGVyLCB0aGlzLl9DU1MuYmxvY2spLCBjLmNvbnRlbnRFZGl0YWJsZSA9ICExLCBjLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLmFwaS5pMThuLnQodGhpcy5fcGxhY2Vob2xkZXIpLCB0aGlzLnJlYWRPbmx5IHx8IChjLmNvbnRlbnRFZGl0YWJsZSA9ICEwLCBjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXApKSwgYztcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW5kZXJcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICAgICB9IH0sIHsga2V5OiBcIm1lcmdlXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgdmFyIHUgPSB7IHRleHQ6IHRoaXMuZGF0YS50ZXh0ICsgYy50ZXh0IH07XG4gICAgICAgICAgdGhpcy5kYXRhID0gdTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJ2YWxpZGF0ZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHJldHVybiAhKGMudGV4dC50cmltKCkgPT09IFwiXCIgJiYgIXRoaXMuX3ByZXNlcnZlQmxhbmspO1xuICAgICAgICB9IH0sIHsga2V5OiBcInNhdmVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICByZXR1cm4geyB0ZXh0OiBjLmlubmVySFRNTCB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcIm9uUGFzdGVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IHsgdGV4dDogYy5kZXRhaWwuZGF0YS5pbm5lckhUTUwgfTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB1O1xuICAgICAgICB9IH0sIHsga2V5OiBcImRhdGFcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYyA9IHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnRleHQgPSBjLCB0aGlzLl9kYXRhO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB0aGlzLl9kYXRhID0gYyB8fCB7fSwgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLl9kYXRhLnRleHQgfHwgXCJcIjtcbiAgICAgICAgfSB9XSwgW3sga2V5OiBcImNvbnZlcnNpb25Db25maWdcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyBleHBvcnQ6IFwidGV4dFwiLCBpbXBvcnQ6IFwidGV4dFwiIH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwic2FuaXRpemVcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyB0ZXh0OiB7IGJyOiAhMCB9IH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiaXNSZWFkT25seVN1cHBvcnRlZFwiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgfSB9LCB7IGtleTogXCJwYXN0ZUNvbmZpZ1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IHRhZ3M6IFtcIlBcIl0gfTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJ0b29sYm94XCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgaWNvbjogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDlWNy4yQzggNy4wODk1NCA4LjA4OTU0IDcgOC4yIDdMMTIgN00xNiA5VjcuMkMxNiA3LjA4OTU0IDE1LjkxMDUgNyAxNS44IDdMMTIgN00xMiA3TDEyIDE3TTEyIDE3SDEwTTEyIDE3SDE0XCIvPjwvc3ZnPicsIHRpdGxlOiBcIlRleHRcIiB9O1xuICAgICAgICB9IH1dKSwgbDtcbiAgICAgIH0oKTtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KShlaSk7XG5jb25zdCB0aSA9IC8qIEBfX1BVUkVfXyAqLyB4ZShOZSk7XG5jbGFzcyAkZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29tbWFuZE5hbWUgPSBcImJvbGRcIiwgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tYm9sZFwiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogdm9pZCAwXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIFJ1bGVcbiAgICogTGVhdmUgPGI+IHRhZ3NcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGI6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gRW8sIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwIHJhbmdlIHdpdGggPGI+IHRhZ1xuICAgKi9cbiAgc3Vycm91bmQoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxiPiB0YWdcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzaG9ydGN1dCgpIHtcbiAgICByZXR1cm4gXCJDTUQrQlwiO1xuICB9XG59XG4kZS5pc0lubGluZSA9ICEwO1xuJGUudGl0bGUgPSBcIkJvbGRcIjtcbmNsYXNzIFdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiaXRhbGljXCIsIHRoaXMuQ1NTID0ge1xuICAgICAgYnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBidXR0b25BY3RpdmU6IFwiY2UtaW5saW5lLXRvb2wtLWFjdGl2ZVwiLFxuICAgICAgYnV0dG9uTW9kaWZpZXI6IFwiY2UtaW5saW5lLXRvb2wtLWl0YWxpY1wiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxpPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpOiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBidXR0b24gZm9yIElubGluZSBUb29sYmFyXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgdGhpcy5ub2Rlcy5idXR0b24udHlwZSA9IFwiYnV0dG9uXCIsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uLCB0aGlzLkNTUy5idXR0b25Nb2RpZmllciksIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IFNvLCB0aGlzLm5vZGVzLmJ1dHRvbjtcbiAgfVxuICAvKipcbiAgICogV3JhcCByYW5nZSB3aXRoIDxpPiB0YWdcbiAgICovXG4gIHN1cnJvdW5kKCkge1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBzZWxlY3Rpb24gYW5kIHNldCBhY3RpdmF0ZWQgc3RhdGUgdG8gYnV0dG9uIGlmIHRoZXJlIGFyZSA8aT4gdGFnXG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIHJldHVybiBcIkNNRCtJXCI7XG4gIH1cbn1cbldlLmlzSW5saW5lID0gITA7XG5XZS50aXRsZSA9IFwiSXRhbGljXCI7XG5jbGFzcyBZZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuY29tbWFuZExpbmsgPSBcImNyZWF0ZUxpbmtcIiwgdGhpcy5jb21tYW5kVW5saW5rID0gXCJ1bmxpbmtcIiwgdGhpcy5FTlRFUl9LRVkgPSAxMywgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tbGlua1wiLFxuICAgICAgYnV0dG9uVW5saW5rOiBcImNlLWlubGluZS10b29sLS11bmxpbmtcIixcbiAgICAgIGlucHV0OiBcImNlLWlubGluZS10b29sLWlucHV0XCIsXG4gICAgICBpbnB1dFNob3dlZDogXCJjZS1pbmxpbmUtdG9vbC1pbnB1dC0tc2hvd2VkXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiBudWxsLFxuICAgICAgaW5wdXQ6IG51bGxcbiAgICB9LCB0aGlzLmlucHV0T3BlbmVkID0gITEsIHRoaXMudG9vbGJhciA9IGUudG9vbGJhciwgdGhpcy5pbmxpbmVUb29sYmFyID0gZS5pbmxpbmVUb29sYmFyLCB0aGlzLm5vdGlmaWVyID0gZS5ub3RpZmllciwgdGhpcy5pMThuID0gZS5pMThuLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBtKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxhPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIHJlbDogXCJub2ZvbGxvd1wiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gcWUsIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBJbnB1dCBmb3IgdGhlIGxpbmtcbiAgICovXG4gIHJlbmRlckFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHRoaXMubm9kZXMuaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLmkxOG4udChcIkFkZCBhIGxpbmtcIiksIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5pbnB1dCksIHRoaXMubm9kZXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUua2V5Q29kZSA9PT0gdGhpcy5FTlRFUl9LRVkgJiYgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgfSksIHRoaXMubm9kZXMuaW5wdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3Mgb24gdGhlIElubGluZSBUb29sYmFyIGljb25cbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSByYW5nZSB0byB3cmFwIHdpdGggbGlua1xuICAgKi9cbiAgc3Vycm91bmQoZSkge1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLmlucHV0T3BlbmVkID8gKHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24ucmVtb3ZlRmFrZUJhY2tncm91bmQoKSkgOiAodGhpcy5zZWxlY3Rpb24uc2V0RmFrZUJhY2tncm91bmQoKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpKTtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKFwiQVwiKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHQpLCB0aGlzLnVubGluaygpLCB0aGlzLmNsb3NlQWN0aW9ucygpLCB0aGlzLmNoZWNrU3RhdGUoKSwgdGhpcy50b29sYmFyLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2dnbGVBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxhPiB0YWdcbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBPbywgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25VbmxpbmspLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSksIHRoaXMub3BlbkFjdGlvbnMoKTtcbiAgICAgIGNvbnN0IHQgPSBlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gdCAhPT0gXCJudWxsXCIgPyB0IDogXCJcIiwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gcWUsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuYnV0dG9uVW5saW5rKSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xuICAgIHJldHVybiAhIWU7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIElubGluZSBUb29sYmFyIGNsb3NpbmdcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2xvc2VBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgcmV0dXJuIFwiQ01EK0tcIjtcbiAgfVxuICAvKipcbiAgICogU2hvdy9jbG9zZSBsaW5rIGlucHV0XG4gICAqL1xuICB0b2dnbGVBY3Rpb25zKCkge1xuICAgIHRoaXMuaW5wdXRPcGVuZWQgPyB0aGlzLmNsb3NlQWN0aW9ucyghMSkgOiB0aGlzLm9wZW5BY3Rpb25zKCEwKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkRm9jdXMgLSBvbiBsaW5rIGNyZWF0aW9uIHdlIG5lZWQgdG8gZm9jdXMgaW5wdXQuIE9uIGVkaXRpbmcgLSBub3BlLlxuICAgKi9cbiAgb3BlbkFjdGlvbnMoZSA9ICExKSB7XG4gICAgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0U2hvd2VkKSwgZSAmJiB0aGlzLm5vZGVzLmlucHV0LmZvY3VzKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhclNhdmVkU2VsZWN0aW9uIFx1MjAxNCB3ZSBkb24ndCBuZWVkIHRvIGNsZWFyIHNhdmVkIHNlbGVjdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB0b2dnbGUtY2xpY2tzIG9uIHRoZSBpY29uIG9mIG9wZW5lZCBUb29sYmFyXG4gICAqL1xuICBjbG9zZUFjdGlvbnMoZSA9ICEwKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRmFrZUJhY2tncm91bmRFbmFibGVkKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IG0oKTtcbiAgICAgIHQuc2F2ZSgpLCB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCksIHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuaW5wdXRTaG93ZWQpLCB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gXCJcIiwgZSAmJiB0aGlzLnNlbGVjdGlvbi5jbGVhclNhdmVkKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBsZXQgdCA9IHRoaXMubm9kZXMuaW5wdXQudmFsdWUgfHwgXCJcIjtcbiAgICBpZiAoIXQudHJpbSgpKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMudW5saW5rKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jbG9zZUFjdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlVVJMKHQpKSB7XG4gICAgICB0aGlzLm5vdGlmaWVyLnNob3coe1xuICAgICAgICBtZXNzYWdlOiBcIlBhc3RlZCBsaW5rIGlzIG5vdCB2YWxpZC5cIixcbiAgICAgICAgc3R5bGU6IFwiZXJyb3JcIlxuICAgICAgfSksIFQoXCJJbmNvcnJlY3QgTGluayBwYXN0ZWRcIiwgXCJ3YXJuXCIsIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ID0gdGhpcy5wcmVwYXJlTGluayh0KSwgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpLCB0aGlzLmluc2VydExpbmsodCksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgdGhpcy5zZWxlY3Rpb24uY29sbGFwc2VUb0VuZCgpLCB0aGlzLmlubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZWN0cyBpZiBwYXNzZWQgc3RyaW5nIGlzIFVSTFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVVUkwoZSkge1xuICAgIHJldHVybiAhL1xccy8udGVzdChlKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBsaW5rIGJlZm9yZSBpbmplY3Rpb25cbiAgICogLSBzYW5pdGl6ZVxuICAgKiAtIGFkZCBwcm90b2NvbCBmb3IgbGlua3MgbGlrZSAnZ29vZ2xlLmNvbSdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSByYXcgdXNlciBpbnB1dFxuICAgKi9cbiAgcHJlcGFyZUxpbmsoZSkge1xuICAgIHJldHVybiBlID0gZS50cmltKCksIGUgPSB0aGlzLmFkZFByb3RvY29sKGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgJ2h0dHAnIHByb3RvY29sIHRvIHRoZSBsaW5rcyBsaWtlICd2Yy5ydScsICdnb29nbGUuY29tJ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqL1xuICBhZGRQcm90b2NvbChlKSB7XG4gICAgaWYgKC9eKFxcdyspOihcXC9cXC8pPy8udGVzdChlKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGNvbnN0IHQgPSAvXlxcL1teL1xcc10vLnRlc3QoZSksIG8gPSBlLnN1YnN0cmluZygwLCAxKSA9PT0gXCIjXCIsIGkgPSAvXlxcL1xcL1teL1xcc10vLnRlc3QoZSk7XG4gICAgcmV0dXJuICF0ICYmICFvICYmICFpICYmIChlID0gXCJodHRwOi8vXCIgKyBlKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyA8YT4gdGFnIHdpdGggXCJocmVmXCJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSBcImhyZWZcIiB2YWx1ZVxuICAgKi9cbiAgaW5zZXJ0TGluayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCksIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZExpbmssICExLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyA8YT4gdGFnXG4gICAqL1xuICB1bmxpbmsoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kVW5saW5rKTtcbiAgfVxufVxuWWUuaXNJbmxpbmUgPSAhMDtcblllLnRpdGxlID0gXCJMaW5rXCI7XG5jbGFzcyB5dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGNvbnN0cnVjdG9yIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuZGF0YSAtIHN0dWIgdG9vbCBkYXRhXG4gICAqIEBwYXJhbSBvcHRpb25zLmFwaSAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogZSwgYXBpOiB0IH0pIHtcbiAgICB0aGlzLkNTUyA9IHtcbiAgICAgIHdyYXBwZXI6IFwiY2Utc3R1YlwiLFxuICAgICAgaW5mbzogXCJjZS1zdHViX19pbmZvXCIsXG4gICAgICB0aXRsZTogXCJjZS1zdHViX190aXRsZVwiLFxuICAgICAgc3VidGl0bGU6IFwiY2Utc3R1Yl9fc3VidGl0bGVcIlxuICAgIH0sIHRoaXMuYXBpID0gdCwgdGhpcy50aXRsZSA9IGUudGl0bGUgfHwgdGhpcy5hcGkuaTE4bi50KFwiRXJyb3JcIiksIHRoaXMuc3VidGl0bGUgPSB0aGlzLmFwaS5pMThuLnQoXCJUaGUgYmxvY2sgY2FuIG5vdCBiZSBkaXNwbGF5ZWQgY29ycmVjdGx5LlwiKSwgdGhpcy5zYXZlZERhdGEgPSBlLnNhdmVkRGF0YSwgdGhpcy53cmFwcGVyID0gdGhpcy5tYWtlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc3R1YiBob2xkZXJcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBvcmlnaW5hbCBUb29sIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrVG9vbERhdGF9XG4gICAqL1xuICBzYXZlKCkge1xuICAgIHJldHVybiB0aGlzLnNhdmVkRGF0YTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIFRvb2wgaHRtbCBtYXJrdXBcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLndyYXBwZXIpLCB0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiNTJcIiBoZWlnaHQ9XCI1MlwiIHZpZXdCb3g9XCIwIDAgNTIgNTJcIj48cGF0aCBmaWxsPVwiI0Q3NkI2QlwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIiBkPVwiTTI2IDUyQzExLjY0IDUyIDAgNDAuMzYgMCAyNlMxMS42NCAwIDI2IDBzMjYgMTEuNjQgMjYgMjYtMTEuNjQgMjYtMjYgMjZ6bTAtMy4yNWMxMi41NjQgMCAyMi43NS0xMC4xODYgMjIuNzUtMjIuNzVTMzguNTY0IDMuMjUgMjYgMy4yNSAzLjI1IDEzLjQzNiAzLjI1IDI2IDEzLjQzNiA0OC43NSAyNiA0OC43NXpNMTUuNzA4IDMzLjA0MmEyLjE2NyAyLjE2NyAwIDEgMSAwLTQuMzM0IDIuMTY3IDIuMTY3IDAgMCAxIDAgNC4zMzR6bTIzLjgzNCAwYTIuMTY3IDIuMTY3IDAgMSAxIDAtNC4zMzQgMi4xNjcgMi4xNjcgMCAwIDEgMCA0LjMzNHptLTE1Ljg3NSA1LjQ1MmExLjA4MyAxLjA4MyAwIDEgMS0xLjgzNC0xLjE1NWMxLjMzMS0yLjExNCAzLjQ5LTMuMTc5IDYuMzM0LTMuMTc5IDIuODQ0IDAgNS4wMDIgMS4wNjUgNi4zMzMgMy4xOGExLjA4MyAxLjA4MyAwIDEgMS0xLjgzMyAxLjE1NGMtLjkxMy0xLjQ1LTIuMzY2LTIuMTY3LTQuNS0yLjE2N3MtMy41ODcuNzE3LTQuNSAyLjE2N3pcIi8+PC9zdmc+JywgbyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5pbmZvKSwgaSA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy50aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMudGl0bGVcbiAgICB9KSwgbiA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5zdWJ0aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMuc3VidGl0bGVcbiAgICB9KTtcbiAgICByZXR1cm4gZS5pbm5lckhUTUwgPSB0LCBvLmFwcGVuZENoaWxkKGkpLCBvLmFwcGVuZENoaWxkKG4pLCBlLmFwcGVuZENoaWxkKG8pLCBlO1xuICB9XG59XG55dC5pc1JlYWRPbmx5U3VwcG9ydGVkID0gITA7XG5jbGFzcyBvaSBleHRlbmRzIFVlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0geWUuSW5saW5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRpdGxlIGZvciBJbmxpbmUgVG9vbCBpZiBzcGVjaWZpZWQgYnkgdXNlclxuICAgKi9cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbamUuVGl0bGVdO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBJbmxpbmVUb29sIGluc3RhbmNlIGZyb20gY29uc3RydWN0YWJsZVxuICAgKi9cbiAgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RhYmxlKHtcbiAgICAgIGFwaTogdGhpcy5hcGkuZ2V0TWV0aG9kc0ZvclRvb2wodGhpcyksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgaWkgZXh0ZW5kcyBVZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IHllLlR1bmU7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IEJsb2NrVHVuZSBpbnN0YW5jZSBmcm9tIGNvbnN0cnVjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgLSBUdW5lIGRhdGFcbiAgICogQHBhcmFtIGJsb2NrIC0gQmxvY2sgQVBJIG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBhcGk6IHRoaXMuYXBpLmdldE1ldGhvZHNGb3JUb29sKHRoaXMpLFxuICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICBkYXRhOiBlXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFUgZXh0ZW5kcyBNYXAge1xuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUb29scyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc0Jsb2NrKCkpO1xuICAgIHJldHVybiBuZXcgVShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBJbmxpbmUgVG9vbHMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGlubGluZVRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW5saW5lKCkpO1xuICAgIHJldHVybiBuZXcgVShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUdW5lcyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lcygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc1R1bmUoKSk7XG4gICAgcmV0dXJuIG5ldyBVKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGludGVybmFsIFRvb2xzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBpbnRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW50ZXJuYWwpO1xuICAgIHJldHVybiBuZXcgVShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29scyBjb2xsZWN0aW9uIHByb3ZpZGVkIGJ5IHVzZXJcbiAgICovXG4gIGdldCBleHRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiAhdC5pc0ludGVybmFsKTtcbiAgICByZXR1cm4gbmV3IFUoZSk7XG4gIH1cbn1cbnZhciBuaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgc2kgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBFdCA9IChzLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBzaShlLCB0KSA6IGUsIG4gPSBzLmxlbmd0aCAtIDEsIHI7IG4gPj0gMDsgbi0tKVxuICAgIChyID0gc1tuXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBuaShlLCB0LCBpKSwgaTtcbn07XG5jbGFzcyBLZSBleHRlbmRzIFVlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0geWUuQmxvY2ssIHRoaXMuaW5saW5lVG9vbHMgPSBuZXcgVSgpLCB0aGlzLnR1bmVzID0gbmV3IFUoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgVG9vbCBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRvb2wgZGF0YVxuICAgKiBAcGFyYW0gYmxvY2sgLSBCbG9ja0FQSSBmb3IgY3VycmVudCBCbG9ja1xuICAgKiBAcGFyYW0gcmVhZE9ubHkgLSBUcnVlIGlmIEVkaXRvciBpcyBpbiByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgY3JlYXRlKGUsIHQsIG8pIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBkYXRhOiBlLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICByZWFkT25seTogbyxcbiAgICAgIGFwaTogdGhpcy5hcGkuZ2V0TWV0aG9kc0ZvclRvb2wodGhpcyksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZCBieSBUb29sXG4gICAqL1xuICBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW3NlLklzUmVhZE9ubHlTdXBwb3J0ZWRdID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2wgc3VwcG9ydHMgbGluZWJyZWFrc1xuICAgKi9cbiAgZ2V0IGlzTGluZUJyZWFrc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtzZS5Jc0VuYWJsZWRMaW5lQnJlYWtzXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHRvb2xib3ggY29uZmlndXJhdGlvbiAoaW50ZXJuYWwgb3IgdXNlci1zcGVjaWZpZWQpLlxuICAgKlxuICAgKiBNZXJnZXMgaW50ZXJuYWwgYW5kIHVzZXItZGVmaW5lZCB0b29sYm94IGNvbmZpZ3MgYmFzZWQgb24gdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICpcbiAgICogLSBJZiBib3RoIGludGVybmFsIGFuZCB1c2VyLWRlZmluZWQgdG9vbGJveCBjb25maWdzIGFyZSBhcnJheXMgdGhlaXIgaXRlbXMgYXJlIG1lcmdlZC5cbiAgICogTGVuZ3RoIG9mIHRoZSBzZWNvbmQgb25lIGlzIGtlcHQuXG4gICAqXG4gICAqIC0gSWYgYm90aCBhcmUgb2JqZWN0cyB0aGVpciBwcm9wZXJ0aWVzIGFyZSBtZXJnZWQuXG4gICAqXG4gICAqIC0gSWYgb25lIGlzIGFuIG9iamVjdCBhbmQgYW5vdGhlciBpcyBhbiBhcnJheSB0aGFuIGludGVybmFsIGNvbmZpZyBpcyByZXBsYWNlZCB3aXRoIHVzZXItZGVmaW5lZFxuICAgKiBjb25maWcuIFRoaXMgaXMgbWFkZSB0byBhbGxvdyB1c2VyIHRvIG92ZXJyaWRlIGRlZmF1bHQgdG9vbCdzIHRvb2xib3ggcmVwcmVzZW50YXRpb24gKHNpbmdsZS9tdWx0aXBsZSBlbnRyaWVzKVxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuY29uc3RydWN0YWJsZVtzZS5Ub29sYm94XSwgdCA9IHRoaXMuY29uZmlnW21lLlRvb2xib3hdO1xuICAgIGlmICghVihlKSAmJiB0ICE9PSAhMSlcbiAgICAgIHJldHVybiB0ID8gQXJyYXkuaXNBcnJheShlKSA/IEFycmF5LmlzQXJyYXkodCkgPyB0Lm1hcCgobywgaSkgPT4ge1xuICAgICAgICBjb25zdCBuID0gZVtpXTtcbiAgICAgICAgcmV0dXJuIG4gPyB7XG4gICAgICAgICAgLi4ubixcbiAgICAgICAgICAuLi5vXG4gICAgICAgIH0gOiBvO1xuICAgICAgfSkgOiBbdF0gOiBBcnJheS5pc0FycmF5KHQpID8gdCA6IFtcbiAgICAgICAge1xuICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgLi4udFxuICAgICAgICB9XG4gICAgICBdIDogQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBjb252ZXJzaW9uIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbc2UuQ29udmVyc2lvbkNvbmZpZ107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCBpbmxpbmUgdG9vbHMgZm9yIFRvb2xcbiAgICovXG4gIGdldCBlbmFibGVkSW5saW5lVG9vbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnW21lLkVuYWJsZWRJbmxpbmVUb29sc10gfHwgITE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCB0dW5lcyBmb3IgVG9vbFxuICAgKi9cbiAgZ2V0IGVuYWJsZWRCbG9ja1R1bmVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ1ttZS5FbmFibGVkQmxvY2tUdW5lc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBwYXN0ZSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtzZS5QYXN0ZUNvbmZpZ10gPz8ge307XG4gIH1cbiAgZ2V0IHNhbml0aXplQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSBzdXBlci5zYW5pdGl6ZUNvbmZpZywgdCA9IHRoaXMuYmFzZVNhbml0aXplQ29uZmlnO1xuICAgIGlmIChWKGUpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgY29uc3QgbyA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBlKVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBpKSkge1xuICAgICAgICBjb25zdCBuID0gZVtpXTtcbiAgICAgICAgaihuKSA/IG9baV0gPSBPYmplY3QuYXNzaWduKHt9LCB0LCBuKSA6IG9baV0gPSBuO1xuICAgICAgfVxuICAgIHJldHVybiBvO1xuICB9XG4gIGdldCBiYXNlU2FuaXRpemVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW5saW5lVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBBcnJheS5mcm9tKHRoaXMudHVuZXMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBlO1xuICB9XG59XG5FdChbXG4gIGFlXG5dLCBLZS5wcm90b3R5cGUsIFwic2FuaXRpemVDb25maWdcIiwgMSk7XG5FdChbXG4gIGFlXG5dLCBLZS5wcm90b3R5cGUsIFwiYmFzZVNhbml0aXplQ29uZmlnXCIsIDEpO1xuY2xhc3Mgcmkge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBjb25maWcgLSB0b29scyBjb25maWdcbiAgICogQHBhcmFtIGVkaXRvckNvbmZpZyAtIEVkaXRvckpTIGNvbmZpZ1xuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9ySlMgQVBJIG1vZHVsZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCwgbykge1xuICAgIHRoaXMuYXBpID0gbywgdGhpcy5jb25maWcgPSBlLCB0aGlzLmVkaXRvckNvbmZpZyA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBvYmplY3QgYmFzZWQgb24gaXQncyB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gdG9vbCBuYW1lXG4gICAqL1xuICBnZXQoZSkge1xuICAgIGNvbnN0IHsgY2xhc3M6IHQsIGlzSW50ZXJuYWw6IG8gPSAhMSwgLi4uaSB9ID0gdGhpcy5jb25maWdbZV0sIG4gPSB0aGlzLmdldENvbnN0cnVjdG9yKHQpO1xuICAgIHJldHVybiBuZXcgbih7XG4gICAgICBuYW1lOiBlLFxuICAgICAgY29uc3RydWN0YWJsZTogdCxcbiAgICAgIGNvbmZpZzogaSxcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBpc0RlZmF1bHQ6IGUgPT09IHRoaXMuZWRpdG9yQ29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRlZmF1bHRQbGFjZWhvbGRlcjogdGhpcy5lZGl0b3JDb25maWcucGxhY2Vob2xkZXIsXG4gICAgICBpc0ludGVybmFsOiBvXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYXBwcm9wcmlhdGUgVG9vbCBvYmplY3QgY29uc3RydWN0b3IgZm9yIFRvb2wgY29uc3RydWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0gY29uc3RydWN0YWJsZSAtIFRvb2xzIGNvbnN0cnVjdGFibGVcbiAgICovXG4gIGdldENvbnN0cnVjdG9yKGUpIHtcbiAgICBzd2l0Y2ggKCEwKSB7XG4gICAgICBjYXNlIGVbamUuSXNJbmxpbmVdOlxuICAgICAgICByZXR1cm4gb2k7XG4gICAgICBjYXNlIGVbdnQuSXNUdW5lXTpcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIEtlO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgQnQge1xuICAvKipcbiAgICogTW92ZURvd25UdW5lIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7QVBJfSBhcGkgXHUyMDE0IEVkaXRvcidzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgYW5pbWF0aW9uOiBcIndvYmJsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHB0LFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIk1vdmUgZG93blwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS1kb3duXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2tzIG9uICdtb3ZlIGRvd24nIGJ1dHRvblxuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCB0ID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlICsgMSk7XG4gICAgaWYgKCF0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1vdmUgQmxvY2sgZG93biBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBsYXN0XCIpO1xuICAgIGNvbnN0IG8gPSB0LmhvbGRlciwgaSA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IG4gPSBNYXRoLmFicyh3aW5kb3cuaW5uZXJIZWlnaHQgLSBvLm9mZnNldEhlaWdodCk7XG4gICAgaS50b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgKG4gPSB3aW5kb3cuc2Nyb2xsWSArIG8ub2Zmc2V0SGVpZ2h0KSwgd2luZG93LnNjcm9sbFRvKDAsIG4pLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlICsgMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cbkJ0LmlzVHVuZSA9ICEwO1xuY2xhc3MgQ3Qge1xuICAvKipcbiAgICogRGVsZXRlVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IENvLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkRlbGV0ZVwiKSxcbiAgICAgIG5hbWU6IFwiZGVsZXRlXCIsXG4gICAgICBjb25maXJtYXRpb246IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkNsaWNrIHRvIGRlbGV0ZVwiKSxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5oYW5kbGVDbGljaygpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGJsb2NrIGNvbmRpdGlvbnMgcGFzc2VkXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICB0aGlzLmFwaS5ibG9ja3MuZGVsZXRlKCk7XG4gIH1cbn1cbkN0LmlzVHVuZSA9ICEwO1xuY2xhc3MgVHQge1xuICAvKipcbiAgICogTW92ZVVwVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5DU1MgPSB7XG4gICAgICBhbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9LCB0aGlzLmFwaSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFR1bmUncyBhcHBlYXJhbmNlIGluIGJsb2NrIHNldHRpbmdzIG1lbnVcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogQm8sXG4gICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiTW92ZSB1cFwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS11cFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBjdXJyZW50IGJsb2NrIHVwXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGUpLCBvID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlIC0gMSk7XG4gICAgaWYgKGUgPT09IDAgfHwgIXQgfHwgIW8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbW92ZSBCbG9jayB1cCBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBmaXJzdFwiKTtcbiAgICBjb25zdCBpID0gdC5ob2xkZXIsIG4gPSBvLmhvbGRlciwgciA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGEgPSBuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBsO1xuICAgIGEudG9wID4gMCA/IGwgPSBNYXRoLmFicyhyLnRvcCkgLSBNYXRoLmFicyhhLnRvcCkgOiBsID0gTWF0aC5hYnMoci50b3ApICsgYS5oZWlnaHQsIHdpbmRvdy5zY3JvbGxCeSgwLCAtMSAqIGwpLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlIC0gMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cblR0LmlzVHVuZSA9ICEwO1xudmFyIGFpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBsaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIGNpID0gKHMsIGUsIHQsIG8pID0+IHtcbiAgZm9yICh2YXIgaSA9IG8gPiAxID8gdm9pZCAwIDogbyA/IGxpKGUsIHQpIDogZSwgbiA9IHMubGVuZ3RoIC0gMSwgcjsgbiA+PSAwOyBuLS0pXG4gICAgKHIgPSBzW25dKSAmJiAoaSA9IChvID8gcihlLCB0LCBpKSA6IHIoaSkpIHx8IGkpO1xuICByZXR1cm4gbyAmJiBpICYmIGFpKGUsIHQsIGkpLCBpO1xufTtcbmNsYXNzIFN0IGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuc3R1YlRvb2wgPSBcInN0dWJcIiwgdGhpcy50b29sc0F2YWlsYWJsZSA9IG5ldyBVKCksIHRoaXMudG9vbHNVbmF2YWlsYWJsZSA9IG5ldyBVKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzQXZhaWxhYmxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHVuYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgdW5hdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbHNVbmF2YWlsYWJsZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2xzIGZvciB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIGdldCBpbmxpbmVUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW5saW5lVG9vbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBlZGl0b3IgYmxvY2sgdG9vbHNcbiAgICovXG4gIGdldCBibG9ja1Rvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5ibG9ja1Rvb2xzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYXZhaWxhYmxlIEJsb2NrIFR1bmVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IC0gb2JqZWN0IG9mIElubGluZSBUb29sJ3MgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGJsb2NrVHVuZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmJsb2NrVHVuZXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZGVmYXVsdCBUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0IGRlZmF1bHRUb29sKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrVG9vbHMuZ2V0KHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaW50ZXJuYWwgdG9vbHNcbiAgICovXG4gIGdldCBpbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW50ZXJuYWxUb29scztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBpbnN0YW5jZXMgdmlhIHBhc3NlZCBvciBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRlVG9vbHMoKSwgdGhpcy5jb25maWcudG9vbHMgPSBTZSh7fSwgdGhpcy5pbnRlcm5hbFRvb2xzLCB0aGlzLmNvbmZpZy50b29scyksICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb25maWcsIFwidG9vbHNcIikgfHwgT2JqZWN0LmtleXModGhpcy5jb25maWcudG9vbHMpLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgd2l0aG91dCB0b29sc1wiKTtcbiAgICBjb25zdCBlID0gdGhpcy5wcmVwYXJlQ29uZmlnKCk7XG4gICAgdGhpcy5mYWN0b3J5ID0gbmV3IHJpKGUsIHRoaXMuY29uZmlnLCB0aGlzLkVkaXRvci5BUEkpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldExpc3RPZlByZXBhcmVGdW5jdGlvbnMoZSk7XG4gICAgaWYgKHQubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGF3YWl0IG90KHQsIChvKSA9PiB7XG4gICAgICB0aGlzLnRvb2xQcmVwYXJlTWV0aG9kU3VjY2VzcyhvKTtcbiAgICB9LCAobykgPT4ge1xuICAgICAgdGhpcy50b29sUHJlcGFyZU1ldGhvZEZhbGxiYWNrKG8pO1xuICAgIH0pLCB0aGlzLnByZXBhcmVCbG9ja1Rvb2xzKCk7XG4gIH1cbiAgZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihlLCB0LnNhbml0aXplQ29uZmlnKTtcbiAgICB9KSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgZWFjaCBUb29sIHJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBhbnl0aGluZyBzZXQgYnkgVG9vbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBPYmplY3QudmFsdWVzKHRoaXMuYXZhaWxhYmxlKS5mb3JFYWNoKGFzeW5jIChlKSA9PiB7XG4gICAgICBEKGUucmVzZXQpICYmIGF3YWl0IGUucmVzZXQoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbnRlcm5hbCB0b29sc1xuICAgKiBJbmNsdWRlcyBCb2xkLCBJdGFsaWMsIExpbmsgYW5kIFBhcmFncmFwaFxuICAgKi9cbiAgZ2V0IGludGVybmFsVG9vbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvbGQ6IHtcbiAgICAgICAgY2xhc3M6ICRlLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIGl0YWxpYzoge1xuICAgICAgICBjbGFzczogV2UsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBjbGFzczogWWUsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIGNsYXNzOiB0aSxcbiAgICAgICAgaW5saW5lVG9vbGJhcjogITAsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgc3R1Yjoge1xuICAgICAgICBjbGFzczogeXQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbW92ZVVwOiB7XG4gICAgICAgIGNsYXNzOiBUdCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBkZWxldGU6IHtcbiAgICAgICAgY2xhc3M6IEN0LFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIG1vdmVEb3duOiB7XG4gICAgICAgIGNsYXNzOiBCdCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBUb29sIHByZXBhcmUgbWV0aG9kIHN1Y2Nlc3MgY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBhcHBlbmQgdG9vbCB0byBhdmFpbGFibGUgbGlzdFxuICAgKi9cbiAgdG9vbFByZXBhcmVNZXRob2RTdWNjZXNzKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5mYWN0b3J5LmdldChlLnRvb2xOYW1lKTtcbiAgICBpZiAodC5pc0lubGluZSgpKSB7XG4gICAgICBjb25zdCBpID0gW1wicmVuZGVyXCIsIFwic3Vycm91bmRcIiwgXCJjaGVja1N0YXRlXCJdLmZpbHRlcigobikgPT4gIXQuY3JlYXRlKClbbl0pO1xuICAgICAgaWYgKGkubGVuZ3RoKSB7XG4gICAgICAgIFQoXG4gICAgICAgICAgYEluY29ycmVjdCBJbmxpbmUgVG9vbDogJHt0Lm5hbWV9LiBTb21lIG9mIHJlcXVpcmVkIG1ldGhvZHMgaXMgbm90IGltcGxlbWVudGVkICVvYCxcbiAgICAgICAgICBcIndhcm5cIixcbiAgICAgICAgICBpXG4gICAgICAgICksIHRoaXMudG9vbHNVbmF2YWlsYWJsZS5zZXQodC5uYW1lLCB0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRvb2xzQXZhaWxhYmxlLnNldCh0Lm5hbWUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBUb29sIHByZXBhcmUgbWV0aG9kIGZhaWwgY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBhcHBlbmQgdG9vbCB0byB1bmF2YWlsYWJsZSBsaXN0XG4gICAqL1xuICB0b29sUHJlcGFyZU1ldGhvZEZhbGxiYWNrKGUpIHtcbiAgICB0aGlzLnRvb2xzVW5hdmFpbGFibGUuc2V0KGUudG9vbE5hbWUsIHRoaXMuZmFjdG9yeS5nZXQoZS50b29sTmFtZSkpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kcyBwcmVwYXJlIGZ1bmN0aW9uIG9mIHBsdWdpbnMgd2l0aCB1c2VyIG9yIGRlZmF1bHQgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdCBvZiBmdW5jdGlvbnMgdGhhdCBuZWVkcyB0byBiZSBmaXJlZCBzZXF1ZW50aWFsbHlcbiAgICogQHBhcmFtIGNvbmZpZyAtIHRvb2xzIGNvbmZpZ1xuICAgKi9cbiAgZ2V0TGlzdE9mUHJlcGFyZUZ1bmN0aW9ucyhlKSB7XG4gICAgY29uc3QgdCA9IFtdO1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbbywgaV0pID0+IHtcbiAgICAgIHQucHVzaCh7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgZnVuY3Rpb246IEQoaS5jbGFzcy5wcmVwYXJlKSA/IGkuY2xhc3MucHJlcGFyZSA6ICgpID0+IHtcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvb2xOYW1lOiBvLFxuICAgICAgICAgIGNvbmZpZzogaS5jb25maWdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbiBlbmFibGVkIElubGluZSBUb29scyBhbmQgQmxvY2sgVHVuZXMgZm9yIEJsb2NrIFRvb2xcbiAgICovXG4gIHByZXBhcmVCbG9ja1Rvb2xzKCkge1xuICAgIEFycmF5LmZyb20odGhpcy5ibG9ja1Rvb2xzLnZhbHVlcygpKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmFzc2lnbklubGluZVRvb2xzVG9CbG9ja1Rvb2woZSksIHRoaXMuYXNzaWduQmxvY2tUdW5lc1RvQmxvY2tUb29sKGUpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBc3NpZ24gZW5hYmxlZCBJbmxpbmUgVG9vbHMgZm9yIEJsb2NrIFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBCbG9jayBUb29sXG4gICAqL1xuICBhc3NpZ25JbmxpbmVUb29sc1RvQmxvY2tUb29sKGUpIHtcbiAgICBpZiAodGhpcy5jb25maWcuaW5saW5lVG9vbGJhciAhPT0gITEpIHtcbiAgICAgIGlmIChlLmVuYWJsZWRJbmxpbmVUb29scyA9PT0gITApIHtcbiAgICAgICAgZS5pbmxpbmVUb29scyA9IG5ldyBVKFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5jb25maWcuaW5saW5lVG9vbGJhcikgPyB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyLm1hcCgodCkgPT4gW3QsIHRoaXMuaW5saW5lVG9vbHMuZ2V0KHQpXSkgOiBBcnJheS5mcm9tKHRoaXMuaW5saW5lVG9vbHMuZW50cmllcygpKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBBcnJheS5pc0FycmF5KGUuZW5hYmxlZElubGluZVRvb2xzKSAmJiAoZS5pbmxpbmVUb29scyA9IG5ldyBVKFxuICAgICAgICBlLmVuYWJsZWRJbmxpbmVUb29scy5tYXAoKHQpID0+IFt0LCB0aGlzLmlubGluZVRvb2xzLmdldCh0KV0pXG4gICAgICApKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbiBlbmFibGVkIEJsb2NrIFR1bmVzIGZvciBCbG9jayBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIFx1MjAxNCBCbG9jayBUb29sXG4gICAqL1xuICBhc3NpZ25CbG9ja1R1bmVzVG9CbG9ja1Rvb2woZSkge1xuICAgIGlmIChlLmVuYWJsZWRCbG9ja1R1bmVzICE9PSAhMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5lbmFibGVkQmxvY2tUdW5lcykpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBVKFxuICAgICAgICAgIGUuZW5hYmxlZEJsb2NrVHVuZXMubWFwKChvKSA9PiBbbywgdGhpcy5ibG9ja1R1bmVzLmdldChvKV0pXG4gICAgICAgICk7XG4gICAgICAgIGUudHVuZXMgPSBuZXcgVShbLi4udCwgLi4udGhpcy5ibG9ja1R1bmVzLmludGVybmFsVG9vbHNdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5jb25maWcudHVuZXMpKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVShcbiAgICAgICAgICB0aGlzLmNvbmZpZy50dW5lcy5tYXAoKG8pID0+IFtvLCB0aGlzLmJsb2NrVHVuZXMuZ2V0KG8pXSlcbiAgICAgICAgKTtcbiAgICAgICAgZS50dW5lcyA9IG5ldyBVKFsuLi50LCAuLi50aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29sc10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlLnR1bmVzID0gdGhpcy5ibG9ja1R1bmVzLmludGVybmFsVG9vbHM7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBUb29scyBjb25maWd1cmF0aW9uIG9iamVjdHMgYW5kIHRocm93IEVycm9yIGZvciB1c2VyIGlmIGl0IGlzIGludmFsaWRcbiAgICovXG4gIHZhbGlkYXRlVG9vbHMoKSB7XG4gICAgZm9yIChjb25zdCBlIGluIHRoaXMuY29uZmlnLnRvb2xzKVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvbmZpZy50b29scywgZSkpIHtcbiAgICAgICAgaWYgKGUgaW4gdGhpcy5pbnRlcm5hbFRvb2xzKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY29uZmlnLnRvb2xzW2VdO1xuICAgICAgICBpZiAoIUQodCkgJiYgIUQodC5jbGFzcykpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBgVG9vbCBcdTAwQUIke2V9XHUwMEJCIG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbiBpbiB0aGUgXHUwMEFCY2xhc3NcdTAwQkIgcHJvcGVydHlgXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVW5pZnkgdG9vbHMgY29uZmlnXG4gICAqL1xuICBwcmVwYXJlQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgaW4gdGhpcy5jb25maWcudG9vbHMpXG4gICAgICBqKHRoaXMuY29uZmlnLnRvb2xzW3RdKSA/IGVbdF0gPSB0aGlzLmNvbmZpZy50b29sc1t0XSA6IGVbdF0gPSB7IGNsYXNzOiB0aGlzLmNvbmZpZy50b29sc1t0XSB9O1xuICAgIHJldHVybiBlO1xuICB9XG59XG5jaShbXG4gIGFlXG5dLCBTdC5wcm90b3R5cGUsIFwiZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZ1wiLCAxKTtcbmNvbnN0IGRpID0gYDpyb290ey0tc2VsZWN0aW9uQ29sb3I6ICNlMWYyZmY7LS1pbmxpbmVTZWxlY3Rpb25Db2xvcjogI2Q0ZWNmZjstLWJnLWxpZ2h0OiAjZWZmMmY1Oy0tZ3JheVRleHQ6ICM3MDc2ODQ7LS1jb2xvci1kYXJrOiAjMUQyMDJCOy0tY29sb3ItYWN0aXZlLWljb246ICMzODhBRTU7LS1jb2xvci1ncmF5LWJvcmRlcjogcmdiYSgyMDEsIDIwMSwgMjA0LCAuNDgpOy0tY29udGVudC13aWR0aDogNjUwcHg7LS1uYXJyb3ctbW9kZS1yaWdodC1wYWRkaW5nOiA1MHB4Oy0tdG9vbGJveC1idXR0b25zLXNpemU6IDI2cHg7LS10b29sYm94LWJ1dHRvbnMtc2l6ZS0tbW9iaWxlOiAzNnB4Oy0taWNvbi1zaXplOiAyMHB4Oy0taWNvbi1zaXplLS1tb2JpbGU6IDI4cHg7LS1ibG9jay1wYWRkaW5nLXZlcnRpY2FsOiAuNGVtOy0tY29sb3ItbGluZS1ncmF5OiAjRUZGMEYxIH0uY29kZXgtZWRpdG9ye3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDt6LWluZGV4OjF9LmNvZGV4LWVkaXRvciAuaGlkZSwuY29kZXgtZWRpdG9yX19yZWRhY3Rvci0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY29kZXgtZWRpdG9yX19yZWRhY3RvciBbY29udGVudGVkaXRhYmxlXTplbXB0eTphZnRlcntjb250ZW50OlwiXFxcXGZlZmZcIn1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY29kZXgtZWRpdG9yX19yZWRhY3RvcnttYXJnaW4tcmlnaHQ6NTBweH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cuY29kZXgtZWRpdG9yLS1ydGwgLmNvZGV4LWVkaXRvcl9fcmVkYWN0b3J7bWFyZ2luLWxlZnQ6NTBweDttYXJnaW4tcmlnaHQ6MH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xiYXJfX2FjdGlvbnN7cmlnaHQ6LTVweH19LmNvZGV4LWVkaXRvcl9fbG9hZGVye3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDozMHZofS5jb2RleC1lZGl0b3JfX2xvYWRlcjpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDttYXJnaW4tdG9wOi0xNXB4O21hcmdpbi1sZWZ0Oi0xNXB4O2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlcjoycHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpO2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnQ7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYW5pbWF0aW9uOmVkaXRvci1sb2FkZXItc3BpbiAuOHMgaW5maW5pdGUgbGluZWFyO2FuaW1hdGlvbjplZGl0b3ItbG9hZGVyLXNwaW4gLjhzIGluZmluaXRlIGxpbmVhcjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LmNvZGV4LWVkaXRvci1jb3B5YWJsZXtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MXB4O3dpZHRoOjFweDt0b3A6LTQwMCU7b3BhY2l0eTouMDAxfS5jb2RleC1lZGl0b3Itb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MHB4O2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206MHB4O3otaW5kZXg6OTk5O3BvaW50ZXItZXZlbnRzOm5vbmU7b3ZlcmZsb3c6aGlkZGVufS5jb2RleC1lZGl0b3Itb3ZlcmxheV9fY29udGFpbmVye3Bvc2l0aW9uOnJlbGF0aXZlO3BvaW50ZXItZXZlbnRzOmF1dG87ei1pbmRleDowfS5jb2RleC1lZGl0b3Itb3ZlcmxheV9fcmVjdGFuZ2xle3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojMmVhYWRjMzM7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudH0uY29kZXgtZWRpdG9yIHN2Z3ttYXgtaGVpZ2h0OjEwMCV9LmNvZGV4LWVkaXRvciBwYXRoe3N0cm9rZTpjdXJyZW50Q29sb3J9OjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9OjpzZWxlY3Rpb257YmFja2dyb3VuZC1jb2xvcjojZDRlY2ZmfS5jb2RleC1lZGl0b3ItLXRvb2xib3gtb3BlbmVkIFtjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06Zm9jdXM6YmVmb3Jle29wYWNpdHk6MCFpbXBvcnRhbnR9QC13ZWJraXQta2V5ZnJhbWVzIGVkaXRvci1sb2FkZXItc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgZWRpdG9yLWxvYWRlci1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19LmNlLXNjcm9sbC1sb2NrZWR7b3ZlcmZsb3c6aGlkZGVufS5jZS1zY3JvbGwtbG9ja2VkLS1oYXJke292ZXJmbG93OmhpZGRlbjt0b3A6Y2FsYygtMSAqIHZhcigtLXdpbmRvdy1zY3JvbGwtb2Zmc2V0KSk7cG9zaXRpb246Zml4ZWQ7d2lkdGg6MTAwJX0uY2UtdG9vbGJhcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2U7d2lsbC1jaGFuZ2U6b3BhY2l0eSx0b3A7ZGlzcGxheTpub25lfS5jZS10b29sYmFyLS1vcGVuZWR7ZGlzcGxheTpibG9ja30uY2UtdG9vbGJhcl9fY29udGVudHttYXgtd2lkdGg6NjUwcHg7bWFyZ2luOjAgYXV0bztwb3NpdGlvbjpyZWxhdGl2ZX0uY2UtdG9vbGJhcl9fcGx1c3tjb2xvcjojMWQyMDJiO2N1cnNvcjpwb2ludGVyO3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7Ym9yZGVyLXJhZGl1czo3cHg7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjB9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fcGx1c3t3aWR0aDozNnB4O2hlaWdodDozNnB4fX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXRvb2xiYXJfX3BsdXM6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2UtdG9vbGJhcl9fcGx1cy0tYWN0aXZle2JhY2tncm91bmQtY29sb3I6I2VmZjJmNTstd2Via2l0LWFuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7YW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHM7YW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkc30uY2UtdG9vbGJhcl9fcGx1cy1zaG9ydGN1dHtvcGFjaXR5Oi42O3dvcmQtc3BhY2luZzotMnB4O21hcmdpbi10b3A6NXB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3BsdXN7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI0U4RThFQjstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHJnYmEoMTMsMjAsMzMsLjEzKTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCAjMGQxNDIxMjE7Ym9yZGVyLXJhZGl1czo2cHg7ei1pbmRleDoyO3Bvc2l0aW9uOnN0YXRpY30uY2UtdG9vbGJhcl9fcGx1cy0tbGVmdC1vcmllbnRlZDpiZWZvcmV7bGVmdDoxNXB4O21hcmdpbi1sZWZ0OjB9LmNlLXRvb2xiYXJfX3BsdXMtLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfX0uY2UtdG9vbGJhcl9fYWN0aW9uc3twb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMDAlO29wYWNpdHk6MDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmctcmlnaHQ6NXB4fS5jZS10b29sYmFyX19hY3Rpb25zLS1vcGVuZWR7b3BhY2l0eToxfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX2FjdGlvbnN7cmlnaHQ6YXV0b319LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bntjb2xvcjojMWQyMDJiO3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7Ym9yZGVyLXJhZGl1czo3cHg7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7bWFyZ2luLWxlZnQ6M3B4O2N1cnNvcjpwb2ludGVyO3VzZXItc2VsZWN0Om5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VmZjJmNX19LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bi0tYWN0aXZle2JhY2tncm91bmQtY29sb3I6I2VmZjJmNTstd2Via2l0LWFuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7YW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHM7YW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkc31AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG57d2lkdGg6MjRweH19LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bi0taGlkZGVue2Rpc3BsYXk6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG57cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI0U4RThFQjstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHJnYmEoMTMsMjAsMzMsLjEzKTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCAjMGQxNDIxMjE7Ym9yZGVyLXJhZGl1czo2cHg7ei1pbmRleDoyO3Bvc2l0aW9uOnN0YXRpY30uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1yaWdodC1vcmllbnRlZDpiZWZvcmV7bGVmdDphdXRvO3JpZ2h0OjE1cHg7bWFyZ2luLWxlZnQ6MH19LmNlLXRvb2xiYXJfX3BsdXMgc3ZnLC5jZS10b29sYmFyX19zZXR0aW5ncy1idG4gc3Zne3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xiYXJfX3BsdXN7bGVmdDo1cHh9fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jZS10b29sYm94IC5jZS1wb3BvdmVye3JpZ2h0OjA7bGVmdDphdXRvO2xlZnQ6aW5pdGlhbH19LmNlLWlubGluZS10b29sYmFyey0teS1vZmZzZXQ6IDhweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDhweCkgc2NhbGUoLjk0KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjE1cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjE1cyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIC4xNXMgZWFzZSxvcGFjaXR5IC4yNXMgZWFzZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMTVzIGVhc2Usb3BhY2l0eSAuMjVzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjE1cyBlYXNlO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5O3RvcDowO2xlZnQ6MDt6LWluZGV4OjN9LmNlLWlubGluZS10b29sYmFyLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1pbmxpbmUtdG9vbGJhci0tc2hvd2Vke29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpfS5jZS1pbmxpbmUtdG9vbGJhci0tbGVmdC1vcmllbnRlZHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0yM3B4KSB0cmFuc2xhdGVZKDhweCkgc2NhbGUoLjk0KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC0yM3B4KSB0cmFuc2xhdGVZKDhweCkgc2NhbGUoLjk0KX0uY2UtaW5saW5lLXRvb2xiYXItLWxlZnQtb3JpZW50ZWQuY2UtaW5saW5lLXRvb2xiYXItLXNob3dlZHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0yM3B4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC0yM3B4KX0uY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwMCUpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTEwMCUpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO21hcmdpbi1sZWZ0OjIzcHh9LmNlLWlubGluZS10b29sYmFyLS1yaWdodC1vcmllbnRlZC5jZS1pbmxpbmUtdG9vbGJhci0tc2hvd2Vkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwMCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTEwMCUpfS5jZS1pbmxpbmUtdG9vbGJhciBbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jZS1pbmxpbmUtdG9vbGJhcl9fdG9nZ2xlci1hbmQtYnV0dG9uLXdyYXBwZXJ7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6MCA2cHh9LmNlLWlubGluZS10b29sYmFyX19idXR0b25ze2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NnB4O21hcmdpbjowIDZweCAwIC02cHg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duOmhvdmVye2JhY2tncm91bmQ6I2VmZjJmNX19LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWNvbnRlbnQsLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1hcnJvd3tkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudCBzdmcsLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1hcnJvdyBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH0uY2UtaW5saW5lLXRvb2xiYXJfX3Nob3J0Y3V0e29wYWNpdHk6LjY7d29yZC1zcGFjaW5nOi0zcHg7bWFyZ2luLXRvcDozcHh9LmNlLWlubGluZS10b29se2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOjZweCAxcHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246Ym90dG9tO2NvbG9yOmluaGVyaXQ7bWFyZ2luOjA7Ym9yZGVyLXJhZGl1czowO2xpbmUtaGVpZ2h0Om5vcm1hbH0uY2UtaW5saW5lLXRvb2wgc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtaW5saW5lLXRvb2wgc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtaW5saW5lLXRvb2w6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2UtaW5saW5lLXRvb2wtLWFjdGl2ZXtjb2xvcjojMzg4YWU1fS5jZS1pbmxpbmUtdG9vbC0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2UtaW5saW5lLXRvb2wtLWZvY3VzZWR7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMCAwcHggMXB4IHJnYmEoNywxNjEsMjI3LC4wOCk7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzA3YTFlMzE0fS5jZS1pbmxpbmUtdG9vbC0tZm9jdXNlZC1hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7YW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouMjVzO2FuaW1hdGlvbi1kdXJhdGlvbjouMjVzfS5jZS1pbmxpbmUtdG9vbC0tbGluayAuaWNvbi0tdW5saW5rLC5jZS1pbmxpbmUtdG9vbC0tdW5saW5rIC5pY29uLS1saW5re2Rpc3BsYXk6bm9uZX0uY2UtaW5saW5lLXRvb2wtLXVubGluayAuaWNvbi0tdW5saW5re2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1ib3R0b206LTFweH0uY2UtaW5saW5lLXRvb2wtaW5wdXR7b3V0bGluZTpub25lO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MCAwIDRweCA0cHg7bWFyZ2luOjA7Zm9udC1zaXplOjEzcHg7cGFkZGluZzoxMHB4O3dpZHRoOjEwMCU7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6bm9uZTtmb250LXdlaWdodDo1MDA7Ym9yZGVyLXRvcDoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2ZvbnQtZmFtaWx5OmluaGVyaXR9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtaW5saW5lLXRvb2wtaW5wdXR7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NTAwfX0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0LS1zaG93ZWR7ZGlzcGxheTpibG9ja30uY2UtY29udmVyc2lvbi10b29sYmFye3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNFOEU4RUI7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCByZ2JhKDEzLDIwLDMzLC4xMyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggIzBkMTQyMTIxO2JvcmRlci1yYWRpdXM6NnB4O3otaW5kZXg6MjtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjFzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIC4xcyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIC4xcyBlYXNlLG9wYWNpdHkgLjFzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjFzIGVhc2Usb3BhY2l0eSAuMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMXMgZWFzZTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpO2xlZnQ6LTFweDt3aWR0aDoxNTBweDttYXJnaW4tdG9wOjVweDstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveH0uY2UtY29udmVyc2lvbi10b29sYmFyLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtY29udmVyc2lvbi10b29sYmFyLS1yaWdodC1vcmllbnRlZDpiZWZvcmV7bGVmdDphdXRvO3JpZ2h0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtY29udmVyc2lvbi10b29sYmFyLS1zaG93ZWR7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfS5jZS1jb252ZXJzaW9uLXRvb2xiYXIgW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sYmFyX19idXR0b25ze2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWNvbnZlcnNpb24tdG9vbGJhcl9fbGFiZWx7Y29sb3I6IzcwNzY4NDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo1MDA7bGV0dGVyLXNwYWNpbmc6LjMzcHg7cGFkZGluZzoxMHB4IDEwcHggNXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZX0uY2UtY29udmVyc2lvbi10b29se2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo1cHggMTBweDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O2ZvbnQtd2VpZ2h0OjUwMDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2UtY29udmVyc2lvbi10b29sLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1jb252ZXJzaW9uLXRvb2wtLWZvY3VzZWR7YmFja2dyb3VuZDpyZ2JhKDM0LDE4NiwyNTUsLjA4KSFpbXBvcnRhbnR9LmNlLWNvbnZlcnNpb24tdG9vbC0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNlLWNvbnZlcnNpb24tdG9vbC0tZm9jdXNlZC1hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7YW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouMjVzO2FuaW1hdGlvbi1kdXJhdGlvbjouMjVzfS5jZS1jb252ZXJzaW9uLXRvb2w6aG92ZXJ7YmFja2dyb3VuZDojZWZmMmY1fS5jZS1jb252ZXJzaW9uLXRvb2xfX2ljb257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDt3aWR0aDoyNnB4O2hlaWdodDoyNnB4Oy13ZWJraXQtYm94LXNoYWRvdzowIDAgMCAxcHggcmdiYSgyMDEsMjAxLDIwNCwuNDgpO2JveC1zaGFkb3c6MCAwIDAgMXB4ICNjOWM5Y2M3YTtib3JkZXItcmFkaXVzOjVweDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7bWFyZ2luLXJpZ2h0OjEwcHh9LmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1jb252ZXJzaW9uLXRvb2xfX2ljb257d2lkdGg6MzZweDtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjhweH0uY2UtY29udmVyc2lvbi10b29sX19pY29uIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX0uY2UtY29udmVyc2lvbi10b29sLS1sYXN0e21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sLS1hY3RpdmV7Y29sb3I6IzM4OGFlNSFpbXBvcnRhbnR9LmNlLWNvbnZlcnNpb24tdG9vbC0tYWN0aXZley13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfS5jZS1zZXR0aW5nc19fYnV0dG9ue2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOjZweCAxcHg7Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246Ym90dG9tO2NvbG9yOmluaGVyaXQ7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MzJweH0uY2Utc2V0dGluZ3NfX2J1dHRvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1zZXR0aW5nc19fYnV0dG9uIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXNldHRpbmdzX19idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tYWN0aXZle2NvbG9yOiMzODhhZTV9LmNlLXNldHRpbmdzX19idXR0b24tLWZvY3VzZWR7YmFja2dyb3VuZDpyZ2JhKDM0LDE4NiwyNTUsLjA4KSFpbXBvcnRhbnR9LmNlLXNldHRpbmdzX19idXR0b24tLWZvY3VzZWR7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMCAwcHggMXB4IHJnYmEoNywxNjEsMjI3LC4wOCk7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzA3YTFlMzE0fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNlLXNldHRpbmdzX19idXR0b246bm90KDpudGgtY2hpbGQoM24rMykpe21hcmdpbi1yaWdodDozcHh9LmNlLXNldHRpbmdzX19idXR0b246bnRoLWNoaWxkKG4rNCl7bWFyZ2luLXRvcDozcHh9LmNlLXNldHRpbmdzX19idXR0b24tLWRpc2FibGVke2N1cnNvcjpub3QtYWxsb3dlZCFpbXBvcnRhbnR9LmNlLXNldHRpbmdzX19idXR0b24tLWRpc2FibGVke29wYWNpdHk6LjN9LmNlLXNldHRpbmdzX19idXR0b24tLXNlbGVjdGVke2NvbG9yOiMzODhhZTV9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXNldHRpbmdzIC5jZS1wb3BvdmVye3JpZ2h0OjA7bGVmdDphdXRvO2xlZnQ6aW5pdGlhbH19QC13ZWJraXQta2V5ZnJhbWVzIGZhZGUtaW57MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19QGtleWZyYW1lcyBmYWRlLWluezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fS5jZS1ibG9ja3std2Via2l0LWFuaW1hdGlvbjpmYWRlLWluIC4zcyBlYXNlO2FuaW1hdGlvbjpmYWRlLWluIC4zcyBlYXNlOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpub25lO2FuaW1hdGlvbi1maWxsLW1vZGU6bm9uZTstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6aW5pdGlhbDthbmltYXRpb24tZmlsbC1tb2RlOmluaXRpYWx9LmNlLWJsb2NrOmZpcnN0LW9mLXR5cGV7bWFyZ2luLXRvcDowfS5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50e2JhY2tncm91bmQ6I2UxZjJmZn0uY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudCBbY29udGVudGVkaXRhYmxlXXstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnQgaW1nLC5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50IC5jZS1zdHVie29wYWNpdHk6LjU1fS5jZS1ibG9jay0tc3RyZXRjaGVkIC5jZS1ibG9ja19fY29udGVudHttYXgtd2lkdGg6bm9uZX0uY2UtYmxvY2tfX2NvbnRlbnR7cG9zaXRpb246cmVsYXRpdmU7bWF4LXdpZHRoOjY1MHB4O21hcmdpbjowIGF1dG87LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjE1cyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMTVzIGVhc2V9LmNlLWJsb2NrLS1kcm9wLXRhcmdldCAuY2UtYmxvY2tfX2NvbnRlbnQ6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtsZWZ0Oi0yMHB4O21hcmdpbi10b3A6LTFweDtoZWlnaHQ6OHB4O3dpZHRoOjhweDtib3JkZXI6c29saWQgIzM4OEFFNTtib3JkZXItd2lkdGg6MXB4IDFweCAwIDA7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0O3RyYW5zZm9ybS1vcmlnaW46cmlnaHQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uY2UtYmxvY2stLWRyb3AtdGFyZ2V0IC5jZS1ibG9ja19fY29udGVudDphZnRlcntjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7aGVpZ2h0OjFweDt3aWR0aDoxMDAlO2NvbG9yOiMzODhhZTU7YmFja2dyb3VuZDpyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KDkwZGVnLCMzODhBRTUsIzM4OEFFNSAxcHgsI2ZmZiAxcHgsI2ZmZiA2cHgpfS5jZS1ibG9jayBhe2N1cnNvcjpwb2ludGVyOy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jZS1ibG9jayBie2ZvbnQtd2VpZ2h0OjcwMH0uY2UtYmxvY2sgaXtmb250LXN0eWxlOml0YWxpY31AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtYmxvY2stLWZvY3VzZWR7bWFyZ2luLXJpZ2h0Oi01MHB4O3BhZGRpbmctcmlnaHQ6NTBweH19QC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUluezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9MjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QGtleWZyYW1lcyBib3VuY2VJbnswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpfTIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUAtd2Via2l0LWtleWZyYW1lcyBzZWxlY3Rpb25Cb3VuY2V7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSl9NzAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgc2VsZWN0aW9uQm91bmNlezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYnV0dG9uQ2xpY2tlZHswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSk7dHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMil9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgYnV0dG9uQ2xpY2tlZHswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSk7dHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMil9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fS5jZHgtYmxvY2t7cGFkZGluZzouNGVtIDB9LmNkeC1ibG9jazo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntsaW5lLWhlaWdodDpub3JtYWwhaW1wb3J0YW50fS5jZHgtaW5wdXR7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMXB4IDJweCAwIHJnYmEoMzUsNDQsNzIsLjA2KTtib3gtc2hhZG93Omluc2V0IDAgMXB4IDJweCAjMjMyYzQ4MGY7Ym9yZGVyLXJhZGl1czozcHg7cGFkZGluZzoxMHB4IDEycHg7b3V0bGluZTpub25lO3dpZHRoOjEwMCU7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5jZHgtaW5wdXRbZGF0YS1wbGFjZWhvbGRlcl06YmVmb3Jle3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnR9LmNkeC1pbnB1dFtkYXRhLXBsYWNlaG9sZGVyXTpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDt3aGl0ZS1zcGFjZTpub3dyYXA7cG9pbnRlci1ldmVudHM6bm9uZX0uY2R4LXNldHRpbmdzLWJ1dHRvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzo2cHggMXB4O2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyO2JvcmRlcjowO291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtjb2xvcjppbmhlcml0O21hcmdpbjowO21pbi13aWR0aDoyNnB4O21pbi1oZWlnaHQ6MjZweH0uY2R4LXNldHRpbmdzLWJ1dHRvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZHgtc2V0dGluZ3MtYnV0dG9uIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNkeC1zZXR0aW5ncy1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNkeC1zZXR0aW5ncy1idXR0b24tLWZvY3VzZWQtYW5pbWF0ZWR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkO2FuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjI1czthbmltYXRpb24tZHVyYXRpb246LjI1c30uY2R4LXNldHRpbmdzLWJ1dHRvbi0tYWN0aXZle2NvbG9yOiMzODhhZTV9LmNkeC1zZXR0aW5ncy1idXR0b24gc3Zne3dpZHRoOmF1dG87aGVpZ2h0OmF1dG99QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2R4LXNldHRpbmdzLWJ1dHRvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fX0uY2R4LWxvYWRlcntwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KX0uY2R4LWxvYWRlcjpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MThweDtoZWlnaHQ6MThweDttYXJnaW46LTExcHggMCAwIC0xMXB4O2JvcmRlcjoycHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpO2JvcmRlci1sZWZ0LWNvbG9yOiMzODhhZTU7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246Y2R4Um90YXRpb24gMS4ycyBpbmZpbml0ZSBsaW5lYXI7YW5pbWF0aW9uOmNkeFJvdGF0aW9uIDEuMnMgaW5maW5pdGUgbGluZWFyfUAtd2Via2l0LWtleWZyYW1lcyBjZHhSb3RhdGlvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgY2R4Um90YXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uY2R4LWJ1dHRvbntwYWRkaW5nOjEzcHg7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Zm9udC1zaXplOjE0LjlweDtiYWNrZ3JvdW5kOiNmZmY7LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDJweCAwIHJnYmEoMTgsMzAsNTcsLjA0KTtib3gtc2hhZG93OjAgMnB4IDJweCAjMTIxZTM5MGE7Y29sb3I6IzcwNzY4NDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcn1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNkeC1idXR0b246aG92ZXJ7YmFja2dyb3VuZDojRkJGQ0ZFOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAzcHggMCByZ2JhKDE4LDMwLDU3LC4wOCk7Ym94LXNoYWRvdzowIDFweCAzcHggIzEyMWUzOTE0fX0uY2R4LWJ1dHRvbiBzdmd7aGVpZ2h0OjIwcHg7bWFyZ2luLXJpZ2h0Oi4yZW07bWFyZ2luLXRvcDotMnB4fS5jZS1zdHVie2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO3BhZGRpbmc6My41ZW0gMDttYXJnaW46MTdweCAwO2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQ6I2ZjZjdmNztjb2xvcjojYjQ2MjYyfS5jZS1zdHViX19pbmZve21hcmdpbi1sZWZ0OjIwcHh9LmNlLXN0dWJfX3RpdGxle21hcmdpbi1ib3R0b206M3B4O2ZvbnQtd2VpZ2h0OjYwMDtmb250LXNpemU6MThweDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplfS5jZS1zdHViX19zdWJ0aXRsZXtmb250LXNpemU6MTZweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRse2RpcmVjdGlvbjpydGx9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2R4LWxpc3R7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDo0MHB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX3BsdXN7cmlnaHQ6LTI2cHg7bGVmdDphdXRvfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX2FjdGlvbnN7cmlnaHQ6YXV0bztsZWZ0Oi0yNnB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3ttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDphdXRvO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLWxlZnQ6MTBweH19LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2Utc2V0dGluZ3N7bGVmdDo1cHg7cmlnaHQ6YXV0b30uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nczpiZWZvcmV7cmlnaHQ6YXV0bztsZWZ0OjI1cHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2Utc2V0dGluZ3NfX2J1dHRvbjpub3QoOm50aC1jaGlsZCgzbiszKSl7bWFyZ2luLWxlZnQ6M3B4O21hcmdpbi1yaWdodDowfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbnttYXJnaW4tcmlnaHQ6MDttYXJnaW4tbGVmdDoxMHB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bntib3JkZXItcmlnaHQ6MHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7bWFyZ2luOjAgLTZweCAwIDZweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24gLmljb24tLXRvZ2dsZXItZG93bnttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDo0cHh9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX3BsdXN7bGVmdDowcHg7cmlnaHQ6NXB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3tsZWZ0Oi01cHh9fS5jZHgtc2VhcmNoLWZpZWxkey0taWNvbi1tYXJnaW4tcmlnaHQ6IDEwcHg7YmFja2dyb3VuZDpyZ2JhKDIzMiwyMzIsMjM1LC40OSk7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIyNiwyMjYsMjI5LC4yKTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjJweDtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOmF1dG8gYXV0byAxZnI7Z3JpZC10ZW1wbGF0ZS1yb3dzOmF1dG99LmNkeC1zZWFyY2gtZmllbGRfX2ljb257d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXJpZ2h0OnZhcigtLWljb24tbWFyZ2luLXJpZ2h0KX0uY2R4LXNlYXJjaC1maWVsZF9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtjb2xvcjojNzA3Njg0fS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dHtmb250LXNpemU6MTRweDtvdXRsaW5lOm5vbmU7Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDttYXJnaW46MDtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MjJweDttaW4td2lkdGg6Y2FsYygxMDAlIC0gMjZweCAtIHZhcigtLWljb24tbWFyZ2luLXJpZ2h0KSl9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNlLXBvcG92ZXJ7LS1ib3JkZXItcmFkaXVzOiA2cHg7LS13aWR0aDogMjAwcHg7LS1tYXgtaGVpZ2h0OiAyNzBweDstLXBhZGRpbmc6IDZweDstLW9mZnNldC1mcm9tLXRhcmdldDogOHB4Oy0tY29sb3ItYm9yZGVyOiAjZThlOGViOy0tY29sb3Itc2hhZG93OiByZ2JhKDEzLDIwLDMzLC4xMyk7LS1jb2xvci1iYWNrZ3JvdW5kOiB3aGl0ZTstLWNvbG9yLXRleHQtcHJpbWFyeTogYmxhY2s7LS1jb2xvci10ZXh0LXNlY29uZGFyeTogIzcwNzY4NDstLWNvbG9yLWJvcmRlci1pY29uOiByZ2JhKDIwMSwgMjAxLCAyMDQsIC40OCk7LS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZDogI0VGRjBGMTstLWNvbG9yLXRleHQtaWNvbi1hY3RpdmU6ICMzODhBRTU7LS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlOiByZ2JhKDU2LCAxMzgsIDIyOSwgLjEpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWZvY3VzOiByZ2JhKDM0LCAxODYsIDI1NSwgLjA4KTstLWNvbG9yLXNoYWRvdy1pdGVtLWZvY3VzOiByZ2JhKDcsIDE2MSwgMjI3LCAuMDgpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWhvdmVyOiAjZWZmMmY1Oy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm06ICNFMjRBNEE7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3ZlcjogI0NFNDM0MzttaW4td2lkdGg6dmFyKC0td2lkdGgpO3dpZHRoOnZhcigtLXdpZHRoKTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHZhcigtLWNvbG9yLXNoYWRvdyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggdmFyKC0tY29sb3Itc2hhZG93KTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOmNhbGMoMTAwJSArIHZhcigtLW9mZnNldC1mcm9tLXRhcmdldCkpO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZCk7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt6LWluZGV4OjQ7b3BhY2l0eTowO21heC1oZWlnaHQ6MDtwb2ludGVyLWV2ZW50czpub25lO3BhZGRpbmc6MDtib3JkZXI6bm9uZX0uY2UtcG9wb3Zlci0tb3BlbmVke29wYWNpdHk6MTtwYWRkaW5nOnZhcigtLXBhZGRpbmcpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7cG9pbnRlci1ldmVudHM6YXV0bzstd2Via2l0LWFuaW1hdGlvbjpwYW5lbFNob3dpbmcgLjFzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZyAuMXMgZWFzZTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci0tb3BlbmVkey13ZWJraXQtYW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2V9fS5jZS1wb3BvdmVyX19pdGVtc3tvdmVyZmxvdy15OmF1dG87LW1zLXNjcm9sbC1jaGFpbmluZzpub25lO292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbn1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyX19vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JhY2tncm91bmQ6IzFEMjAyQjt6LWluZGV4OjM7b3BhY2l0eTouNTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMTJzIGVhc2UtaW47dHJhbnNpdGlvbjpvcGFjaXR5IC4xMnMgZWFzZS1pbjt3aWxsLWNoYW5nZTpvcGFjaXR5O3Zpc2liaWxpdHk6dmlzaWJsZX19LmNlLXBvcG92ZXJfX292ZXJsYXktLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLXBvcG92ZXItLW9wZW4tdG9we3RvcDpjYWxjKC0xICogKHZhcigtLW9mZnNldC1mcm9tLXRhcmdldCkgKyB2YXIoLS1wb3BvdmVyLWhlaWdodCkpKX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyey0tb2Zmc2V0OiA1cHg7cG9zaXRpb246Zml4ZWQ7bWF4LXdpZHRoOm5vbmU7bWluLXdpZHRoOmNhbGMoMTAwJSAtIHZhcigtLW9mZnNldCkgKiAyKTtsZWZ0OnZhcigtLW9mZnNldCk7cmlnaHQ6dmFyKC0tb2Zmc2V0KTtib3R0b206Y2FsYyh2YXIoLS1vZmZzZXQpICsgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTt0b3A6YXV0bztib3JkZXItcmFkaXVzOjEwcHh9LmNlLXBvcG92ZXIgLmNlLXBvcG92ZXJfX3NlYXJjaHtkaXNwbGF5Om5vbmV9fS5jZS1wb3BvdmVyX19zZWFyY2gsLmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50Om5vdCg6ZW1wdHkpe21hcmdpbi1ib3R0b206NXB4fS5jZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2V7Y29sb3I6IzcwNzY4NDtkaXNwbGF5Om5vbmU7Y3Vyc29yOmRlZmF1bHQ7cGFkZGluZzozcHg7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MjBweDtmb250LXdlaWdodDo1MDA7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5jZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2UtLWRpc3BsYXllZHtkaXNwbGF5OmJsb2NrfS5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudDpub3QoOmVtcHR5KXtwYWRkaW5nOjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudDpub3QoOmVtcHR5KXtwYWRkaW5nOjB9fS5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudC0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY2UtcG9wb3Zlci1pdGVtey0tYm9yZGVyLXJhZGl1czogNnB4Oy0taWNvbi1zaXplOiAyMHB4Oy0taWNvbi1zaXplLW1vYmlsZTogMjhweDtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzozcHg7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVte3BhZGRpbmc6NHB4fX0uY2UtcG9wb3Zlci1pdGVtOm5vdCg6bGFzdC1vZi10eXBlKXttYXJnaW4tYm90dG9tOjFweH0uY2UtcG9wb3Zlci1pdGVtX19pY29ue2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbik7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY29sb3ItYm9yZGVyLWljb24pO2JhY2tncm91bmQ6I2ZmZjtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXJpZ2h0OjEwcHh9LmNlLXBvcG92ZXItaXRlbV9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX2ljb257d2lkdGg6MzZweDtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjhweH0uY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDp2YXIoLS1pY29uLXNpemUtbW9iaWxlKTtoZWlnaHQ6dmFyKC0taWNvbi1zaXplLW1vYmlsZSl9fS5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpc31AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNnB4fX0uY2UtcG9wb3Zlci1pdGVtX19zZWNvbmRhcnktdGl0bGV7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpO2ZvbnQtc2l6ZToxMnB4O21hcmdpbi1sZWZ0OmF1dG87d2hpdGUtc3BhY2U6bm93cmFwO2xldHRlci1zcGFjaW5nOi0uMWVtO3BhZGRpbmctcmlnaHQ6NXB4O21hcmdpbi1ib3R0b206LTJweDtvcGFjaXR5Oi42fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9fc2Vjb25kYXJ5LXRpdGxle2Rpc3BsYXk6bm9uZX19LmNlLXBvcG92ZXItaXRlbS0tYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pY29uLWFjdGl2ZSk7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZSl9LmNlLXBvcG92ZXItaXRlbS0tYWN0aXZlIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfS5jZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KTtjdXJzb3I6ZGVmYXVsdDtwb2ludGVyLWV2ZW50czpub25lfS5jZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVkIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZCk7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY29sb3ItYm9yZGVyLWljb24tZGlzYWJsZWQpfS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWQ6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1mb2N1cykhaW1wb3J0YW50fS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWQ6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKXstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggdmFyKC0tY29sb3Itc2hhZG93LWl0ZW0tZm9jdXMpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLWNvbG9yLXNoYWRvdy1pdGVtLWZvY3VzKX0uY2UtcG9wb3Zlci1pdGVtLS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtcG9wb3Zlci1pdGVtOmhvdmVye2N1cnNvcjpwb2ludGVyfS5jZS1wb3BvdmVyLWl0ZW06aG92ZXI6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWhvdmVyKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1ob3Zlcil9LmNlLXBvcG92ZXItaXRlbTpob3ZlciAuY2UtcG9wb3Zlci1pdGVtX19pY29uey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX19LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9ue2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0pfS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbiAuY2UtcG9wb3Zlci1pdGVtX19pY29ue2NvbG9yOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtKX0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb24gLmNlLXBvcG92ZXItaXRlbV9fdGl0bGV7Y29sb3I6I2ZmZn1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uOm5vdCguY2UtcG9wb3Zlci1pdGVtLS1uby1ob3Zlcik6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3Zlcil9fS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbjpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXMpLmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZHtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyKSFpbXBvcnRhbnR9LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb24sLmNlLXBvcG92ZXItaXRlbS0tYWN0aXZlIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb24sLmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZCAuY2UtcG9wb3Zlci1pdGVtX19pY29uey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX1ALXdlYmtpdC1rZXlmcmFtZXMgcGFuZWxTaG93aW5nezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1Aa2V5ZnJhbWVzIHBhbmVsU2hvd2luZ3swJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpfTcwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHBhbmVsU2hvd2luZ01vYmlsZXswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxNHB4KSBzY2FsZSguOTgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgcGFuZWxTaG93aW5nTW9iaWxlezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19LndvYmJsZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOndvYmJsZTthbmltYXRpb24tbmFtZTp3b2JibGU7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjRzO2FuaW1hdGlvbi1kdXJhdGlvbjouNHN9QC13ZWJraXQta2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX1Aa2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX1cbmA7XG5jbGFzcyBoaSBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzTW9iaWxlID0gITEsIHRoaXMuY29udGVudFJlY3RDYWNoZSA9IHZvaWQgMCwgdGhpcy5yZXNpemVEZWJvdW5jZXIgPSBQdCgoKSA9PiB7XG4gICAgICB0aGlzLndpbmRvd1Jlc2l6ZSgpO1xuICAgIH0sIDIwMCk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvci5qcyBVSSBDU1MgY2xhc3MgbmFtZXNcbiAgICpcbiAgICogQHJldHVybnMge3tlZGl0b3JXcmFwcGVyOiBzdHJpbmcsIGVkaXRvclpvbmU6IHN0cmluZ319XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0b3JXcmFwcGVyOiBcImNvZGV4LWVkaXRvclwiLFxuICAgICAgZWRpdG9yV3JhcHBlck5hcnJvdzogXCJjb2RleC1lZGl0b3ItLW5hcnJvd1wiLFxuICAgICAgZWRpdG9yWm9uZTogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yXCIsXG4gICAgICBlZGl0b3Jab25lSGlkZGVuOiBcImNvZGV4LWVkaXRvcl9fcmVkYWN0b3ItLWhpZGRlblwiLFxuICAgICAgZWRpdG9yTG9hZGVyOiBcImNvZGV4LWVkaXRvcl9fbG9hZGVyXCIsXG4gICAgICBlZGl0b3JFbXB0eTogXCJjb2RleC1lZGl0b3ItLWVtcHR5XCIsXG4gICAgICBlZGl0b3JSdGxGaXg6IFwiY29kZXgtZWRpdG9yLS1ydGxcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBXaWR0aCBvZiBjZW50ZXIgY29sdW1uIG9mIEVkaXRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NUmVjdH1cbiAgICovXG4gIGdldCBjb250ZW50UmVjdCgpIHtcbiAgICBpZiAodGhpcy5jb250ZW50UmVjdENhY2hlKVxuICAgICAgcmV0dXJuIHRoaXMuY29udGVudFJlY3RDYWNoZTtcbiAgICBjb25zdCBlID0gdGhpcy5ub2Rlcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoYC4ke0YuQ1NTLmNvbnRlbnR9YCk7XG4gICAgcmV0dXJuIGUgPyAodGhpcy5jb250ZW50UmVjdENhY2hlID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5jb250ZW50UmVjdENhY2hlKSA6IHtcbiAgICAgIHdpZHRoOiA2NTAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDBcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGxvYWRlciB0byBlZGl0b3Igd2hpbGUgY29udGVudCBpcyBub3QgcmVhZHlcbiAgICovXG4gIGFkZExvYWRlcigpIHtcbiAgICB0aGlzLm5vZGVzLmxvYWRlciA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5lZGl0b3JMb2FkZXIpLCB0aGlzLm5vZGVzLndyYXBwZXIucHJlcGVuZCh0aGlzLm5vZGVzLmxvYWRlciksIHRoaXMubm9kZXMucmVkYWN0b3IuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5lZGl0b3Jab25lSGlkZGVuKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBsb2FkZXIgd2hlbiBjb250ZW50IGhhcyBsb2FkZWRcbiAgICovXG4gIHJlbW92ZUxvYWRlcigpIHtcbiAgICB0aGlzLm5vZGVzLmxvYWRlci5yZW1vdmUoKSwgdGhpcy5ub2Rlcy5yZWRhY3Rvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmVkaXRvclpvbmVIaWRkZW4pO1xuICB9XG4gIC8qKlxuICAgKiBNYWtpbmcgbWFpbiBpbnRlcmZhY2VcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5jaGVja0lzTW9iaWxlKCksIHRoaXMubWFrZSgpLCB0aGlzLmFkZExvYWRlcigpLCB0aGlzLmxvYWRTdHlsZXMoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBJZiByZWFkT25seSBpcyB0cnVlOlxuICAgKiAgLSByZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBtYWluIFVJIG1vZHVsZSBlbGVtZW50c1xuICAgKlxuICAgKiBpZiByZWFkT25seSBpcyBmYWxzZTpcbiAgICogIC0gZW5hYmxlcyBhbGwgbGlzdGVuZXJzIHRvIFVJIG1vZHVsZSBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIFwicmVhZCBvbmx5XCIgc3RhdGVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gdGhpcy5kaXNhYmxlTW9kdWxlQmluZGluZ3MoKSA6IHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgRWRpdG9yIGlzIGVtcHR5IGFuZCBzZXQgQ1NTIGNsYXNzIHRvIHdyYXBwZXJcbiAgICovXG4gIGNoZWNrRW1wdGluZXNzKCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5lZGl0b3JFbXB0eSwgZS5pc0VkaXRvckVtcHR5KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb25lIG9mIFRvb2xiYXIgaXMgb3BlbmVkXG4gICAqIFVzZWQgdG8gcHJldmVudCBnbG9iYWwga2V5ZG93bnMgKGZvciBleGFtcGxlLCBFbnRlcikgY29uZmxpY3RzIHdpdGggRW50ZXItb24tdG9vbGJhclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzb21lVG9vbGJhck9wZW5lZCgpIHtcbiAgICBjb25zdCB7IFRvb2xiYXI6IGUsIEJsb2NrU2V0dGluZ3M6IHQsIElubGluZVRvb2xiYXI6IG8sIENvbnZlcnNpb25Ub29sYmFyOiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICByZXR1cm4gdC5vcGVuZWQgfHwgby5vcGVuZWQgfHwgaS5vcGVuZWQgfHwgZS50b29sYm94Lm9wZW5lZDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgZm9yIHNvbWUgRmxpcHBlci1idXR0b25zIGlzIHVuZGVyIGZvY3VzXG4gICAqL1xuICBnZXQgc29tZUZsaXBwZXJCdXR0b25Gb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3guaGFzRm9jdXMoKSA/ICEwIDogT2JqZWN0LmVudHJpZXModGhpcy5FZGl0b3IpLmZpbHRlcigoW2UsIHRdKSA9PiB0LmZsaXBwZXIgaW5zdGFuY2VvZiBHKS5zb21lKChbZSwgdF0pID0+IHQuZmxpcHBlci5oYXNGb2N1cygpKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYW4gZWRpdG9yYHMgVUlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5ub2Rlcy5ob2xkZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgYWxsIEVkaXRvcidzIHRvb2xiYXJzXG4gICAqL1xuICBjbG9zZUFsbFRvb2xiYXJzKCkge1xuICAgIGNvbnN0IHsgVG9vbGJhcjogZSwgQmxvY2tTZXR0aW5nczogdCwgSW5saW5lVG9vbGJhcjogbywgQ29udmVyc2lvblRvb2xiYXI6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuY2xvc2UoKSwgby5jbG9zZSgpLCBpLmNsb3NlKCksIGUudG9vbGJveC5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBmb3IgbW9iaWxlIG1vZGUgYW5kIGNhY2hlIGEgcmVzdWx0XG4gICAqL1xuICBjaGVja0lzTW9iaWxlKCkge1xuICAgIHRoaXMuaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IHN0O1xuICB9XG4gIC8qKlxuICAgKiBNYWtlcyBFZGl0b3IuanMgaW50ZXJmYWNlXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMuaG9sZGVyID0gZC5nZXRIb2xkZXIodGhpcy5jb25maWcuaG9sZGVyKSwgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFtcbiAgICAgIHRoaXMuQ1NTLmVkaXRvcldyYXBwZXIsXG4gICAgICAuLi50aGlzLmlzUnRsID8gW3RoaXMuQ1NTLmVkaXRvclJ0bEZpeF0gOiBbXVxuICAgIF0pLCB0aGlzLm5vZGVzLnJlZGFjdG9yID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmVkaXRvclpvbmUpLCB0aGlzLm5vZGVzLmhvbGRlci5vZmZzZXRXaWR0aCA8IHRoaXMuY29udGVudFJlY3Qud2lkdGggJiYgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuZWRpdG9yV3JhcHBlck5hcnJvdyksIHRoaXMubm9kZXMucmVkYWN0b3Iuc3R5bGUucGFkZGluZ0JvdHRvbSA9IHRoaXMuY29uZmlnLm1pbkhlaWdodCArIFwicHhcIiwgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMucmVkYWN0b3IpLCB0aGlzLm5vZGVzLmhvbGRlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLndyYXBwZXIpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmRzIENTU1xuICAgKi9cbiAgbG9hZFN0eWxlcygpIHtcbiAgICBjb25zdCBlID0gXCJlZGl0b3ItanMtc3R5bGVzXCI7XG4gICAgaWYgKGQuZ2V0KGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJzdHlsZVwiLCBudWxsLCB7XG4gICAgICBpZDogZSxcbiAgICAgIHRleHRDb250ZW50OiBkaS50b1N0cmluZygpXG4gICAgfSk7XG4gICAgZC5wcmVwZW5kKGRvY3VtZW50LmhlYWQsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50cyBvbiB0aGUgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5yZWRhY3RvckNsaWNrZWQoZSk7XG4gICAgfSwgITEpLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudFRvdWNoZWQoZSk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcInRvdWNoc3RhcnRcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRUb3VjaGVkKGUpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZG9jdW1lbnQsIFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudEtleWRvd24oZSk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRDbGlja2VkKGUpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZG9jdW1lbnQsIFwic2VsZWN0aW9uY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24od2luZG93LCBcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZURlYm91bmNlcigpO1xuICAgIH0sIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMud2F0Y2hCbG9ja0hvdmVyZWRFdmVudHMoKTtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIHJlZGFjdG9yIG1vdXNlbW92ZSB0byBlbWl0ICdibG9jay1ob3ZlcmVkJyBldmVudFxuICAgKi9cbiAgd2F0Y2hCbG9ja0hvdmVyZWRFdmVudHMoKSB7XG4gICAgbGV0IGU7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJtb3VzZW1vdmVcIiwgVGUoKHQpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB0LnRhcmdldC5jbG9zZXN0KFwiLmNlLWJsb2NrXCIpO1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uYW55QmxvY2tTZWxlY3RlZCB8fCBvICYmIGUgIT09IG8gJiYgKGUgPSBvLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChtdCwge1xuICAgICAgICBibG9jazogdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUobylcbiAgICAgIH0pKTtcbiAgICB9LCAyMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVuYmluZCBldmVudHMgb24gdGhlIEVkaXRvci5qcyBpbnRlcmZhY2VcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgd2luZG93IGhhbmRsZXJcbiAgICovXG4gIHdpbmRvd1Jlc2l6ZSgpIHtcbiAgICB0aGlzLmNvbnRlbnRSZWN0Q2FjaGUgPSBudWxsLCB0aGlzLmNoZWNrSXNNb2JpbGUoKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGtleWRvd25zIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgZG9jdW1lbnRLZXlkb3duKGUpIHtcbiAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgY2FzZSBCLkVOVEVSOlxuICAgICAgICB0aGlzLmVudGVyUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuQkFDS1NQQUNFOlxuICAgICAgICB0aGlzLmJhY2tzcGFjZVByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLkVTQzpcbiAgICAgICAgdGhpcy5lc2NhcGVQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuZGVmYXVsdEJlaGF2aW91cihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJZ25vcmUgYWxsIG90aGVyIGRvY3VtZW50J3Mga2V5ZG93biBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBkZWZhdWx0QmVoYXZpb3VyKGUpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogdCB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCBvID0gZS50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5DU1MuZWRpdG9yV3JhcHBlcn1gKSwgaSA9IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleTtcbiAgICBpZiAodCAhPT0gdm9pZCAwICYmIG8gPT09IG51bGwpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrRXZlbnRzLmtleWRvd24oZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG8gfHwgdCAmJiBpIHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZHJvcFBvaW50ZXIoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBiYWNrc3BhY2VQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmICFtLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBjb25zdCBuID0gdC5yZW1vdmVTZWxlY3RlZEJsb2NrcygpO1xuICAgICAgaS5zZXRUb0Jsb2NrKHQuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChuLCAhMCksIGkucG9zaXRpb25zLlNUQVJUKSwgby5jbGVhclNlbGVjdGlvbihlKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXNjYXBlIHByZXNzZWRcbiAgICogSWYgc29tZSBvZiBUb29sYmFyIGNvbXBvbmVudHMgYXJlIG9wZW5lZCwgdGhlbiBjbG9zZSBpdCBvdGhlcndpc2UgY2xvc2UgVG9vbGJhclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIGVzY2FwZSBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBlc2NhcGVQcmVzc2VkKGUpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKSwgdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW5lZCA/ICh0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3guY2xvc2UoKSwgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSkgOiB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLm9wZW5lZCA/IHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLmNsb3NlKCkgOiB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLm9wZW5lZCA/IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBkb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGVudGVyUHJlc3NlZChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IHQuY3VycmVudEJsb2NrSW5kZXggPj0gMDtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmICFtLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBvLmNsZWFyU2VsZWN0aW9uKGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5zb21lVG9vbGJhck9wZW5lZCAmJiBpICYmIGUudGFyZ2V0LnRhZ05hbWUgPT09IFwiQk9EWVwiKSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydCgpO1xuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhuKSwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmhpZ2hsaWdodEN1cnJlbnROb2RlKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4obik7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBbGwgY2xpY2tzIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBDbGljayBldmVudFxuICAgKi9cbiAgZG9jdW1lbnRDbGlja2VkKGUpIHtcbiAgICBpZiAoIWUuaXNUcnVzdGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlLnRhcmdldDtcbiAgICB0aGlzLm5vZGVzLmhvbGRlci5jb250YWlucyh0KSB8fCBtLmlzQXRFZGl0b3IgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5kcm9wUG9pbnRlcigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICAgIGNvbnN0IGkgPSB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm5vZGVzLndyYXBwZXIuY29udGFpbnModCksIG4gPSB0aGlzLkVkaXRvci5Ub29sYmFyLm5vZGVzLnNldHRpbmdzVG9nZ2xlci5jb250YWlucyh0KSwgciA9IGkgfHwgbjtcbiAgICBpZiAodGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgJiYgIXIpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKTtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZSh0KTtcbiAgICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oYSk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJzdCB0b3VjaCBvbiBlZGl0b3JcbiAgICogRmlyZWQgYmVmb3JlIGNsaWNrXG4gICAqXG4gICAqIFVzZWQgdG8gY2hhbmdlIGN1cnJlbnQgYmxvY2sgXHUyMDE0IHdlIG5lZWQgdG8gZG8gaXQgYmVmb3JlICdzZWxlY3Rpb25DaGFuZ2UnIGV2ZW50LlxuICAgKiBBbHNvOlxuICAgKiAtIE1vdmUgYW5kIHNob3cgdGhlIFRvb2xiYXJcbiAgICogLSBTZXQgYSBDYXJldFxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudCAtIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudFRvdWNoZWQoZSkge1xuICAgIGxldCB0ID0gZS50YXJnZXQ7XG4gICAgaWYgKHQgPT09IHRoaXMubm9kZXMucmVkYWN0b3IpIHtcbiAgICAgIGNvbnN0IG8gPSBlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WCA6IGUudG91Y2hlc1swXS5jbGllbnRYLCBpID0gZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgPyBlLmNsaWVudFkgOiBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG8sIGkpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKHQpLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaGlnaGxpZ2h0Q3VycmVudE5vZGUoKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRoaXMuRWRpdG9yLlJlY3RhbmdsZVNlbGVjdGlvbi5pc1JlY3RBY3RpdmF0ZWQoKSB8fCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb1RoZUxhc3RCbG9jaygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbCBjbGlja3Mgb24gdGhlIHJlZGFjdG9yIHpvbmVcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIGNsaWNrIGV2ZW50XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiAtIEJ5IGNsaWNrcyBvbiB0aGUgRWRpdG9yJ3MgYm90dG9tIHpvbmU6XG4gICAqICAgICAgLSBpZiBsYXN0IEJsb2NrIGlzIGVtcHR5LCBzZXQgYSBDYXJldCB0byB0aGlzXG4gICAqICAgICAgLSBvdGhlcndpc2UsIGFkZCBhIG5ldyBlbXB0eSBCbG9jayBhbmQgc2V0IGEgQ2FyZXQgdG8gdGhhdFxuICAgKi9cbiAgcmVkYWN0b3JDbGlja2VkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrU2VsZWN0aW9uOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAoIW0uaXNDb2xsYXBzZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9ICgpID0+IHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSwgaSA9IGUudGFyZ2V0LCBuID0gZS5tZXRhS2V5IHx8IGUuY3RybEtleTtcbiAgICBpZiAoZC5pc0FuY2hvcihpKSAmJiBuKSB7XG4gICAgICBvKCk7XG4gICAgICBjb25zdCB1ID0gaS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCBoID0gSHQodSk7XG4gICAgICBqdChoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgciA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoLTEpLCBhID0gZC5vZmZzZXQoci5ob2xkZXIpLmJvdHRvbSwgbCA9IGUucGFnZVk7XG4gICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCAmJiBlLnRhcmdldC5pc0VxdWFsTm9kZSh0aGlzLm5vZGVzLnJlZGFjdG9yKSAmJiAvKipcbiAgICAqIElmIHRoZXJlIGlzIGNyb3NzIGJsb2NrIHNlbGVjdGlvbiBzdGFydGVkLCB0YXJnZXQgd2lsbCBiZSBlcXVhbCB0byByZWRhY3RvciBzbyB3ZSBuZWVkIGFkZGl0aW9uYWwgY2hlY2tcbiAgICAqL1xuICAgICF0LmFueUJsb2NrU2VsZWN0ZWQgJiYgLyoqXG4gICAgKiBQcmV2ZW50IGNhcmV0IGp1bXBpbmcgKHRvIGxhc3QgYmxvY2spIHdoZW4gY2xpY2tpbmcgYmV0d2VlbiBibG9ja3NcbiAgICAqL1xuICAgIGEgPCBsKSB7XG4gICAgICBvKCk7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdSwgQ2FyZXQ6IGgsIFRvb2xiYXI6IGYgfSA9IHRoaXMuRWRpdG9yO1xuICAgICAgKCF1Lmxhc3RCbG9jay50b29sLmlzRGVmYXVsdCB8fCAhdS5sYXN0QmxvY2suaXNFbXB0eSkgJiYgdS5pbnNlcnRBdEVuZCgpLCBoLnNldFRvVGhlTGFzdEJsb2NrKCksIGYubW92ZUFuZE9wZW4odS5sYXN0QmxvY2spO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHNlbGVjdGlvbiBjaGFuZ2VzIG9uIG1vYmlsZSBkZXZpY2VzXG4gICAqIFVzZXMgZm9yIHNob3dpbmcgdGhlIElubGluZSBUb29sYmFyXG4gICAqL1xuICBzZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgIGNvbnN0IHsgQ3Jvc3NCbG9ja1NlbGVjdGlvbjogZSwgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gbS5hbmNob3JFbGVtZW50O1xuICAgIGlmIChlLmlzQ3Jvc3NCbG9ja1NlbGVjdGlvblN0YXJ0ZWQgJiYgdC5hbnlCbG9ja1NlbGVjdGVkICYmIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksICFvKSB7XG4gICAgICBtLnJhbmdlIHx8IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaSA9IG8uY2xvc2VzdChgLiR7Ri5DU1MuY29udGVudH1gKSA9PT0gbnVsbDtcbiAgICBpZiAoaSAmJiAodGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jb250YWluc05vZGUobykgfHwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCAhKG8uZGF0YXNldC5pbmxpbmVUb29sYmFyID09PSBcInRydWVcIikpKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgfHwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKG8pO1xuICAgIGNvbnN0IG4gPSBpICE9PSAhMDtcbiAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLnRyeVRvU2hvdyghMCwgbik7XG4gIH1cbn1cbmNvbnN0IHVpID0ge1xuICAvLyBBUEkgTW9kdWxlc1xuICBCbG9ja3NBUEk6IFp0LFxuICBDYXJldEFQSTogR3QsXG4gIEV2ZW50c0FQSTogcXQsXG4gIEkxOG5BUEk6IERlLFxuICBBUEk6IEp0LFxuICBJbmxpbmVUb29sYmFyQVBJOiBRdCxcbiAgTGlzdGVuZXJzQVBJOiBlbyxcbiAgTm90aWZpZXJBUEk6IG5vLFxuICBSZWFkT25seUFQSTogc28sXG4gIFNhbml0aXplckFQSTogcG8sXG4gIFNhdmVyQVBJOiBmbyxcbiAgU2VsZWN0aW9uQVBJOiBnbyxcbiAgU3R5bGVzQVBJOiBibyxcbiAgVG9vbGJhckFQSTogbW8sXG4gIFRvb2x0aXBBUEk6IHhvLFxuICBVaUFQSTogd28sXG4gIC8vIFRvb2xiYXIgTW9kdWxlc1xuICBCbG9ja1NldHRpbmdzOiBSbyxcbiAgQ29udmVyc2lvblRvb2xiYXI6IFksXG4gIFRvb2xiYXI6IGpvLFxuICBJbmxpbmVUb29sYmFyOiBVbyxcbiAgLy8gTW9kdWxlc1xuICBCbG9ja0V2ZW50czogJG8sXG4gIEJsb2NrTWFuYWdlcjogS28sXG4gIEJsb2NrU2VsZWN0aW9uOiBYbyxcbiAgQ2FyZXQ6IHZlLFxuICBDcm9zc0Jsb2NrU2VsZWN0aW9uOiBWbyxcbiAgRHJhZ05Ecm9wOiBabyxcbiAgTW9kaWZpY2F0aW9uc09ic2VydmVyOiBHbyxcbiAgUGFzdGU6IHd0LFxuICBSZWFkT25seTogcW8sXG4gIFJlY3RhbmdsZVNlbGVjdGlvbjogcGUsXG4gIFJlbmRlcmVyOiBKbyxcbiAgU2F2ZXI6IFFvLFxuICBUb29sczogU3QsXG4gIFVJOiBoaVxufTtcbmNsYXNzIHBpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfSBjb25maWcgLSB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm1vZHVsZUluc3RhbmNlcyA9IHt9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIgPSBuZXcgd2UoKTtcbiAgICBsZXQgdCwgbztcbiAgICB0aGlzLmlzUmVhZHkgPSBuZXcgUHJvbWlzZSgoaSwgbikgPT4ge1xuICAgICAgdCA9IGksIG8gPSBuO1xuICAgIH0pLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGUsIGF3YWl0IHRoaXMudmFsaWRhdGUoKSwgYXdhaXQgdGhpcy5pbml0KCksIGF3YWl0IHRoaXMuc3RhcnQoKSwgSyhcIkknbSByZWFkeSEgKFx1RkY4OVx1MjVENVx1MzBFRVx1MjVENSlcdUZGODkqOlx1RkY2NVx1RkY5Rlx1MjcyN1wiLCBcImxvZ1wiLCBcIlwiLCBcImNvbG9yOiAjRTI0QTc1XCIpLCBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGF3YWl0IHRoaXMucmVuZGVyKCksIHRoaXMuY29uZmlndXJhdGlvbi5hdXRvZm9jdXMpIHtcbiAgICAgICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogaSwgQ2FyZXQ6IG4gfSA9IHRoaXMubW9kdWxlSW5zdGFuY2VzO1xuICAgICAgICAgIG4uc2V0VG9CbG9jayhpLmJsb2Nrc1swXSwgbi5wb3NpdGlvbnMuU1RBUlQpLCBpLmhpZ2hsaWdodEN1cnJlbnROb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2R1bGVJbnN0YW5jZXMuVUkucmVtb3ZlTG9hZGVyKCksIHQoKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSkuY2F0Y2goKGkpID0+IHtcbiAgICAgIFQoYEVkaXRvci5qcyBpcyBub3QgcmVhZHkgYmVjYXVzZSBvZiAke2l9YCwgXCJlcnJvclwiKSwgbyhpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0dGluZyBmb3IgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0VkaXRvckNvbmZpZ3xzdHJpbmd9IGNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZyB0byBzZXRcbiAgICovXG4gIHNldCBjb25maWd1cmF0aW9uKGUpIHtcbiAgICB2YXIgbywgaTtcbiAgICBqKGUpID8gdGhpcy5jb25maWcgPSB7XG4gICAgICAuLi5lXG4gICAgfSA6IHRoaXMuY29uZmlnID0ge1xuICAgICAgaG9sZGVyOiBlXG4gICAgfSwgSWUoISF0aGlzLmNvbmZpZy5ob2xkZXJJZCwgXCJjb25maWcuaG9sZGVySWRcIiwgXCJjb25maWcuaG9sZGVyXCIpLCB0aGlzLmNvbmZpZy5ob2xkZXJJZCAmJiAhdGhpcy5jb25maWcuaG9sZGVyICYmICh0aGlzLmNvbmZpZy5ob2xkZXIgPSB0aGlzLmNvbmZpZy5ob2xkZXJJZCwgdGhpcy5jb25maWcuaG9sZGVySWQgPSBudWxsKSwgdGhpcy5jb25maWcuaG9sZGVyID09IG51bGwgJiYgKHRoaXMuY29uZmlnLmhvbGRlciA9IFwiZWRpdG9yanNcIiksIHRoaXMuY29uZmlnLmxvZ0xldmVsIHx8ICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA9IGV0LlZFUkJPU0UpLCBBdCh0aGlzLmNvbmZpZy5sb2dMZXZlbCksIEllKCEhdGhpcy5jb25maWcuaW5pdGlhbEJsb2NrLCBcImNvbmZpZy5pbml0aWFsQmxvY2tcIiwgXCJjb25maWcuZGVmYXVsdEJsb2NrXCIpLCB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2sgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2sgfHwgdGhpcy5jb25maWcuaW5pdGlhbEJsb2NrIHx8IFwicGFyYWdyYXBoXCIsIHRoaXMuY29uZmlnLm1pbkhlaWdodCA9IHRoaXMuY29uZmlnLm1pbkhlaWdodCAhPT0gdm9pZCAwID8gdGhpcy5jb25maWcubWluSGVpZ2h0IDogMzAwO1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICB0eXBlOiB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgICBkYXRhOiB7fVxuICAgIH07XG4gICAgdGhpcy5jb25maWcucGxhY2Vob2xkZXIgPSB0aGlzLmNvbmZpZy5wbGFjZWhvbGRlciB8fCAhMSwgdGhpcy5jb25maWcuc2FuaXRpemVyID0gdGhpcy5jb25maWcuc2FuaXRpemVyIHx8IHtcbiAgICAgIHA6ICEwLFxuICAgICAgYjogITAsXG4gICAgICBhOiAhMFxuICAgIH0sIHRoaXMuY29uZmlnLmhpZGVUb29sYmFyID0gdGhpcy5jb25maWcuaGlkZVRvb2xiYXIgPyB0aGlzLmNvbmZpZy5oaWRlVG9vbGJhciA6ICExLCB0aGlzLmNvbmZpZy50b29scyA9IHRoaXMuY29uZmlnLnRvb2xzIHx8IHt9LCB0aGlzLmNvbmZpZy5pMThuID0gdGhpcy5jb25maWcuaTE4biB8fCB7fSwgdGhpcy5jb25maWcuZGF0YSA9IHRoaXMuY29uZmlnLmRhdGEgfHwgeyBibG9ja3M6IFtdIH0sIHRoaXMuY29uZmlnLm9uUmVhZHkgPSB0aGlzLmNvbmZpZy5vblJlYWR5IHx8ICgoKSA9PiB7XG4gICAgfSksIHRoaXMuY29uZmlnLm9uQ2hhbmdlID0gdGhpcy5jb25maWcub25DaGFuZ2UgfHwgKCgpID0+IHtcbiAgICB9KSwgdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciA9IHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIgIT09IHZvaWQgMCA/IHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIgOiAhMCwgKFYodGhpcy5jb25maWcuZGF0YSkgfHwgIXRoaXMuY29uZmlnLmRhdGEuYmxvY2tzIHx8IHRoaXMuY29uZmlnLmRhdGEuYmxvY2tzLmxlbmd0aCA9PT0gMCkgJiYgKHRoaXMuY29uZmlnLmRhdGEgPSB7IGJsb2NrczogW3RdIH0pLCB0aGlzLmNvbmZpZy5yZWFkT25seSA9IHRoaXMuY29uZmlnLnJlYWRPbmx5IHx8ICExLCAobyA9IHRoaXMuY29uZmlnLmkxOG4pICE9IG51bGwgJiYgby5tZXNzYWdlcyAmJiAkLnNldERpY3Rpb25hcnkodGhpcy5jb25maWcuaTE4bi5tZXNzYWdlcyksIHRoaXMuY29uZmlnLmkxOG4uZGlyZWN0aW9uID0gKChpID0gdGhpcy5jb25maWcuaTE4bikgPT0gbnVsbCA/IHZvaWQgMCA6IGkuZGlyZWN0aW9uKSB8fCBcImx0clwiO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHByaXZhdGUgcHJvcGVydHlcbiAgICpcbiAgICogQHJldHVybnMge0VkaXRvckNvbmZpZ31cbiAgICovXG4gIGdldCBjb25maWd1cmF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGZvciByZXF1aXJlZCBmaWVsZHMgaW4gRWRpdG9yJ3MgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGUoKSB7XG4gICAgY29uc3QgeyBob2xkZXJJZDogZSwgaG9sZGVyOiB0IH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoZSAmJiB0KVxuICAgICAgdGhyb3cgRXJyb3IoXCJcdTAwQUJob2xkZXJJZFx1MDBCQiBhbmQgXHUwMEFCaG9sZGVyXHUwMEJCIHBhcmFtIGNhbid0IGFzc2lnbiBhdCB0aGUgc2FtZSB0aW1lLlwiKTtcbiAgICBpZiAoSih0KSAmJiAhZC5nZXQodCkpXG4gICAgICB0aHJvdyBFcnJvcihgZWxlbWVudCB3aXRoIElEIFx1MDBBQiR7dH1cdTAwQkIgaXMgbWlzc2luZy4gUGFzcyBjb3JyZWN0IGhvbGRlcidzIElELmApO1xuICAgIGlmICh0ICYmIGoodCkgJiYgIWQuaXNFbGVtZW50KHQpKVxuICAgICAgdGhyb3cgRXJyb3IoXCJcdTAwQUJob2xkZXJcdTAwQkIgdmFsdWUgbXVzdCBiZSBhbiBFbGVtZW50IG5vZGVcIik7XG4gIH1cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIG1vZHVsZXM6XG4gICAqICAtIG1ha2UgYW5kIHNhdmUgaW5zdGFuY2VzXG4gICAqICAtIGNvbmZpZ3VyZVxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmNvbnN0cnVjdE1vZHVsZXMoKSwgdGhpcy5jb25maWd1cmVNb2R1bGVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0IEVkaXRvciFcbiAgICpcbiAgICogR2V0IGxpc3Qgb2YgbW9kdWxlcyB0aGF0IG5lZWRzIHRvIGJlIHByZXBhcmVkIGFuZCByZXR1cm4gYSBzZXF1ZW5jZSAoUHJvbWlzZSlcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBzdGFydCgpIHtcbiAgICBhd2FpdCBbXG4gICAgICBcIlRvb2xzXCIsXG4gICAgICBcIlVJXCIsXG4gICAgICBcIkJsb2NrTWFuYWdlclwiLFxuICAgICAgXCJQYXN0ZVwiLFxuICAgICAgXCJCbG9ja1NlbGVjdGlvblwiLFxuICAgICAgXCJSZWN0YW5nbGVTZWxlY3Rpb25cIixcbiAgICAgIFwiQ3Jvc3NCbG9ja1NlbGVjdGlvblwiLFxuICAgICAgXCJSZWFkT25seVwiXG4gICAgXS5yZWR1Y2UoXG4gICAgICAodCwgbykgPT4gdC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLm1vZHVsZUluc3RhbmNlc1tvXS5wcmVwYXJlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgICAgICBpZiAoaSBpbnN0YW5jZW9mIGF0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGkubWVzc2FnZSk7XG4gICAgICAgICAgVChgTW9kdWxlICR7b30gd2FzIHNraXBwZWQgYmVjYXVzZSBvZiAlb2AsIFwid2FyblwiLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBQcm9taXNlLnJlc29sdmUoKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBpbml0aWFsIGRhdGFcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5tb2R1bGVJbnN0YW5jZXMuUmVuZGVyZXIucmVuZGVyKHRoaXMuY29uZmlnLmRhdGEuYmxvY2tzKTtcbiAgfVxuICAvKipcbiAgICogTWFrZSBtb2R1bGVzIGluc3RhbmNlcyBhbmQgc2F2ZSBpdCB0byB0aGUgQHByb3BlcnR5IHRoaXMubW9kdWxlSW5zdGFuY2VzXG4gICAqL1xuICBjb25zdHJ1Y3RNb2R1bGVzKCkge1xuICAgIE9iamVjdC5lbnRyaWVzKHVpKS5mb3JFYWNoKChbZSwgdF0pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubW9kdWxlSW5zdGFuY2VzW2VdID0gbmV3IHQoe1xuICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWd1cmF0aW9uLFxuICAgICAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRoaXMuZXZlbnRzRGlzcGF0Y2hlclxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKG8pIHtcbiAgICAgICAgVChcIltjb25zdHJ1Y3RNb2R1bGVzXVwiLCBgTW9kdWxlICR7ZX0gc2tpcHBlZCBiZWNhdXNlYCwgXCJlcnJvclwiLCBvKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlcyBpbnN0YW5jZXMgY29uZmlndXJhdGlvbjpcbiAgICogIC0gcGFzcyBvdGhlciBtb2R1bGVzIHRvIHRoZSAnc3RhdGUnIHByb3BlcnR5XG4gICAqICAtIC4uLlxuICAgKi9cbiAgY29uZmlndXJlTW9kdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5tb2R1bGVJbnN0YW5jZXMpXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5tb2R1bGVJbnN0YW5jZXMsIGUpICYmICh0aGlzLm1vZHVsZUluc3RhbmNlc1tlXS5zdGF0ZSA9IHRoaXMuZ2V0TW9kdWxlc0RpZmYoZSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gbW9kdWxlcyB3aXRob3V0IHBhc3NlZCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gbW9kdWxlIGZvciB3aXRjaCBtb2R1bGVzIGRpZmZlcmVuY2Ugc2hvdWxkIGJlIGNhbGN1bGF0ZWRcbiAgICovXG4gIGdldE1vZHVsZXNEaWZmKGUpIHtcbiAgICBjb25zdCB0ID0ge307XG4gICAgZm9yIChjb25zdCBvIGluIHRoaXMubW9kdWxlSW5zdGFuY2VzKVxuICAgICAgbyAhPT0gZSAmJiAodFtvXSA9IHRoaXMubW9kdWxlSW5zdGFuY2VzW29dKTtcbiAgICByZXR1cm4gdDtcbiAgfVxufVxuLyoqXG4gKiBFZGl0b3IuanNcbiAqXG4gKiBAbGljZW5zZSBBcGFjaGUtMi4wXG4gKiBAc2VlIEVkaXRvci5qcyA8aHR0cHM6Ly9lZGl0b3Jqcy5pbz5cbiAqIEBhdXRob3IgQ29kZVggVGVhbSA8aHR0cHM6Ly9jb2RleC5zbz5cbiAqL1xuY2xhc3MgZmkge1xuICAvKiogRWRpdG9yIHZlcnNpb24gKi9cbiAgc3RhdGljIGdldCB2ZXJzaW9uKCkge1xuICAgIHJldHVybiBcIjIuMjcuMFwiO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0VkaXRvckNvbmZpZ3xzdHJpbmd8dW5kZWZpbmVkfSBbY29uZmlndXJhdGlvbl0gLSB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBsZXQgdCA9ICgpID0+IHtcbiAgICB9O1xuICAgIGooZSkgJiYgRChlLm9uUmVhZHkpICYmICh0ID0gZS5vblJlYWR5KTtcbiAgICBjb25zdCBvID0gbmV3IHBpKGUpO1xuICAgIHRoaXMuaXNSZWFkeSA9IG8uaXNSZWFkeS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuZXhwb3J0QVBJKG8pLCB0KCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydCBleHRlcm5hbCBBUEkgbWV0aG9kc1xuICAgKlxuICAgKiBAcGFyYW0ge0NvcmV9IGVkaXRvciBcdTIwMTQgRWRpdG9yJ3MgaW5zdGFuY2VcbiAgICovXG4gIGV4cG9ydEFQSShlKSB7XG4gICAgY29uc3QgdCA9IFtcImNvbmZpZ3VyYXRpb25cIl0sIG8gPSAoKSA9PiB7XG4gICAgICBPYmplY3QudmFsdWVzKGUubW9kdWxlSW5zdGFuY2VzKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIEQobi5kZXN0cm95KSAmJiBuLmRlc3Ryb3koKSwgbi5saXN0ZW5lcnMucmVtb3ZlQWxsKCk7XG4gICAgICB9KSwgZSA9IG51bGw7XG4gICAgICBmb3IgKGNvbnN0IG4gaW4gdGhpcylcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIG4pICYmIGRlbGV0ZSB0aGlzW25dO1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG51bGwpO1xuICAgIH07XG4gICAgdC5mb3JFYWNoKChuKSA9PiB7XG4gICAgICB0aGlzW25dID0gZVtuXTtcbiAgICB9KSwgdGhpcy5kZXN0cm95ID0gbywgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGUubW9kdWxlSW5zdGFuY2VzLkFQSS5tZXRob2RzKSwgZGVsZXRlIHRoaXMuZXhwb3J0QVBJLCBPYmplY3QuZW50cmllcyh7XG4gICAgICBibG9ja3M6IHtcbiAgICAgICAgY2xlYXI6IFwiY2xlYXJcIixcbiAgICAgICAgcmVuZGVyOiBcInJlbmRlclwiXG4gICAgICB9LFxuICAgICAgY2FyZXQ6IHtcbiAgICAgICAgZm9jdXM6IFwiZm9jdXNcIlxuICAgICAgfSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBvbjogXCJvblwiLFxuICAgICAgICBvZmY6IFwib2ZmXCIsXG4gICAgICAgIGVtaXQ6IFwiZW1pdFwiXG4gICAgICB9LFxuICAgICAgc2F2ZXI6IHtcbiAgICAgICAgc2F2ZTogXCJzYXZlXCJcbiAgICAgIH1cbiAgICB9KS5mb3JFYWNoKChbbiwgcl0pID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFthLCBsXSkgPT4ge1xuICAgICAgICB0aGlzW2xdID0gZS5tb2R1bGVJbnN0YW5jZXMuQVBJLm1ldGhvZHNbbl1bYV07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgZmkgYXMgZGVmYXVsdFxufTtcbiIsICJpbXBvcnQgRWRpdG9ySlMgZnJvbSBcIkBlZGl0b3Jqcy9lZGl0b3Jqc1wiO1xuaW1wb3J0IFVuZG8gZnJvbSBcImVkaXRvcmpzLXVuZG9cIjtcbmltcG9ydCB7IGJsb2NrcyBhcyBndWlndUJsb2NrcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9leHRlbmRzL3BhdGNoZXMvd29ya3NwYWNlL2NvbmZpZ0RpYWxvZ3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3Jrc3BhY2Uge1xuXHRjb25zdHJ1Y3Rvcih3cmFwcGVyLCBvcmdhbml6YXRpb25fbmFtZSkge1xuXHRcdHRoaXMud3JhcHBlciA9ICQod3JhcHBlcik7XG5cdFx0dGhpcy5wYWdlID0gd3JhcHBlci5wYWdlO1xuXHRcdHRoaXMuYmxvY2tzID0gZnJhcHBlLndvcmtzcGFjZV9ibG9jay5ibG9ja3M7XG5cdFx0dGhpcy5pc19yZWFkX29ubHkgPSB0cnVlO1xuXHRcdHRoaXMucGFnZXMgPSB7fTtcblx0XHR0aGlzLnNvcnRlZF9wdWJsaWNfaXRlbXMgPSBbXTtcblx0XHR0aGlzLnNvcnRlZF9wcml2YXRlX2l0ZW1zID0gW107XG5cdFx0dGhpcy5jdXJyZW50X3BhZ2UgPSB7fTtcblx0XHR0aGlzLnNpZGViYXJfaXRlbXMgPSB7XG5cdFx0XHRwdWJsaWM6IHt9LFxuXHRcdFx0cHJpdmF0ZToge30sXG5cdFx0fTtcblx0XHR0aGlzLm9yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uX25hbWVcblx0XHR0aGlzLnNpZGViYXJfY2F0ZWdvcmllcyA9IFtcIk15IFdvcmtzcGFjZXNcIiwgXCJQdWJsaWNcIl07XG5cblx0XHR0aGlzLnByZXBhcmVfY29udGFpbmVyKCk7XG5cdFx0dGhpcy5zZXR1cF9wYWdlcygpO1xuXHRcdHRoaXMucmVnaXN0ZXJfYXdlc29tZWJhcl9zaG9ydGN1dCgpO1xuXHR9XG5cblx0cHJlcGFyZV9jb250YWluZXIoKSB7XG5cdFx0bGV0IGxpc3Rfc2lkZWJhciA9ICQoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImxpc3Qtc2lkZWJhciBvdmVybGF5LXNpZGViYXIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZGVzay1zaWRlYmFyIGxpc3QtdW5zdHlsZWQgc2lkZWJhci1tZW51XCI+PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIuZmluZChcIi5sYXlvdXQtc2lkZS1zZWN0aW9uXCIpKTtcblx0XHR0aGlzLnNpZGViYXIgPSBsaXN0X3NpZGViYXIuZmluZChcIi5kZXNrLXNpZGViYXJcIik7XG5cdFx0dGhpcy5ib2R5ID0gdGhpcy53cmFwcGVyLmZpbmQoXCIubGF5b3V0LW1haW4tc2VjdGlvblwiKTtcblx0fVxuXG5cdGFzeW5jIHNldHVwX3BhZ2VzKHJlbG9hZCkge1xuXHRcdCF0aGlzLmRpc2NhcmQgJiYgdGhpcy5jcmVhdGVfcGFnZV9za2VsZXRvbigpO1xuXHRcdCF0aGlzLmRpc2NhcmQgJiYgdGhpcy5jcmVhdGVfc2lkZWJhcl9za2VsZXRvbigpO1xuXHRcdHRoaXMuc2lkZWJhcl9wYWdlcyA9ICF0aGlzLmRpc2NhcmQgPyBhd2FpdCB0aGlzLmdldF9wYWdlcygpIDogdGhpcy5zaWRlYmFyX3BhZ2VzO1xuXHRcdHRoaXMuY2FjaGVkX3BhZ2VzID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuc2lkZWJhcl9wYWdlcyk7XG5cdFx0dGhpcy5hbGxfcGFnZXMgPSB0aGlzLnNpZGViYXJfcGFnZXMucGFnZXM7XG5cdFx0dGhpcy5oYXNfYWNjZXNzID0gdGhpcy5zaWRlYmFyX3BhZ2VzLmhhc19hY2Nlc3M7XG5cblx0XHR0aGlzLmFsbF9wYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG5cdFx0XHRwYWdlLmlzX2VkaXRhYmxlID0gIXBhZ2UucHVibGljIHx8IHRoaXMuaGFzX2FjY2Vzcztcblx0XHR9KTtcblxuXHRcdHRoaXMucHVibGljX3BhZ2VzID0gdGhpcy5hbGxfcGFnZXMuZmlsdGVyKChwYWdlKSA9PiBwYWdlLnB1YmxpYyk7XG5cdFx0dGhpcy5wcml2YXRlX3BhZ2VzID0gdGhpcy5hbGxfcGFnZXMuZmlsdGVyKChwYWdlKSA9PiAhcGFnZS5wdWJsaWMpO1xuXG5cdFx0aWYgKHRoaXMuYWxsX3BhZ2VzKSB7XG5cdFx0XHRmcmFwcGUud29ya3NwYWNlcyA9IHt9O1xuXHRcdFx0Zm9yIChsZXQgcGFnZSBvZiB0aGlzLmFsbF9wYWdlcykge1xuXHRcdFx0XHRmcmFwcGUud29ya3NwYWNlc1tmcmFwcGUucm91dGVyLnNsdWcocGFnZS5uYW1lKV0gPSB7XG5cdFx0XHRcdFx0dGl0bGU6IHBhZ2UudGl0bGUsXG5cdFx0XHRcdFx0cHVibGljOiBwYWdlLnB1YmxpYyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHRoaXMubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRyZWxvYWQgJiYgdGhpcy5zaG93KCk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0X3BhZ2VzKCkge1xuXHRcdHJldHVybiBmcmFwcGUueGNhbGwoXCJ0aWFuanlfb3JnYW5pemF0aW9uLndvcmtzcGFjZS5nZXRfd29ya3NwYWNlX3NpZGViYXJfaXRlbXNcIik7XG5cdH1cblxuXHRzaWRlYmFyX2l0ZW1fY29udGFpbmVyKGl0ZW0pIHtcblx0XHRyZXR1cm4gJChgXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGNsYXNzPVwic2lkZWJhci1pdGVtLWNvbnRhaW5lciAke2l0ZW0uaXNfZWRpdGFibGUgPyBcImlzLWRyYWdnYWJsZVwiIDogXCJcIn1cIlxuXHRcdFx0XHRpdGVtLXBhcmVudD1cIiR7aXRlbS5wYXJlbnRfcGFnZX1cIlxuXHRcdFx0XHRpdGVtLW5hbWU9XCIke2l0ZW0udGl0bGV9XCJcblx0XHRcdFx0aXRlbS1wdWJsaWM9XCIke2l0ZW0ucHVibGljIHx8IDB9XCJcblx0XHRcdFx0aXRlbS1pcy1oaWRkZW49XCIke2l0ZW0uaXNfaGlkZGVuIHx8IDB9XCJcblx0XHRcdD5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImRlc2stc2lkZWJhci1pdGVtIHN0YW5kYXJkLXNpZGViYXItaXRlbSAke2l0ZW0uc2VsZWN0ZWQgPyBcInNlbGVjdGVkXCIgOiBcIlwifVwiPlxuXHRcdFx0XHRcdDxhXG5cdFx0XHRcdFx0XHRjbGFzcz1cIml0ZW0tYW5jaG9yICR7aXRlbS5pc19lZGl0YWJsZSA/IFwiXCIgOiBcImJsb2NrLWNsaWNrXCJ9IGl0ZW0tYVwiIHRpdGxlPVwiJHtfXyhpdGVtLnRpdGxlKX1cIlxuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwic2lkZWJhci1pdGVtLWljb25cIiBpdGVtLWljb249JHtpdGVtLmljb24gfHwgXCJmb2xkZXItbm9ybWFsXCJ9PiR7ZnJhcHBlLnV0aWxzLmljb24oXG5cdFx0XHRpdGVtLmljb24gfHwgXCJmb2xkZXItbm9ybWFsXCIsXG5cdFx0XHRcIm1kXCJcblx0XHQpfTwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwic2lkZWJhci1pdGVtLWxhYmVsXCI+JHtfXyhpdGVtLnRpdGxlLnJlcGxhY2VBbGwoL3t7KFtefV0rKX19L2csICcnKSl9PHNwYW4+XG5cdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzaWRlYmFyLWl0ZW0tY29udHJvbFwiPjwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInNpZGViYXItY2hpbGQtaXRlbSBuZXN0ZWQtY29udGFpbmVyXCI+PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKTtcblx0fVxuXG5cdG1ha2Vfc2lkZWJhcigpIHtcblx0XHRpZiAodGhpcy5zaWRlYmFyLmZpbmQoXCIuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uXCIpWzBdKSB7XG5cdFx0XHR0aGlzLnNpZGViYXIuZmluZChcIi5zdGFuZGFyZC1zaWRlYmFyLXNlY3Rpb25cIikucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zaWRlYmFyX2NhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcblx0XHRcdGlmKGNhdGVnb3J5ICE9IFwiUHVibGljXCIpe3JldHVybjt9XG5cdFx0XHRsZXQgcm9vdF9wYWdlcyA9IHRoaXMucHVibGljX3BhZ2VzLmZpbHRlcihcblx0XHRcdFx0KHBhZ2UpID0+IHBhZ2UucGFyZW50X3BhZ2UgPT0gXCJcIiB8fCBwYWdlLnBhcmVudF9wYWdlID09IG51bGxcblx0XHRcdCk7XG5cdFx0XHRpZiAoY2F0ZWdvcnkgIT0gXCJQdWJsaWNcIikge1xuXHRcdFx0XHRyb290X3BhZ2VzID0gdGhpcy5wcml2YXRlX3BhZ2VzLmZpbHRlcihcblx0XHRcdFx0XHQocGFnZSkgPT4gcGFnZS5wYXJlbnRfcGFnZSA9PSBcIlwiIHx8IHBhZ2UucGFyZW50X3BhZ2UgPT0gbnVsbFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0cm9vdF9wYWdlcyA9IHJvb3RfcGFnZXMudW5pcUJ5KChkKSA9PiBkLnRpdGxlKTtcblx0XHRcdHRoaXMuYnVpbGRfc2lkZWJhcl9zZWN0aW9uKGNhdGVnb3J5LCByb290X3BhZ2VzKTtcblx0XHR9KTtcblxuXHRcdC8vIFNjcm9sbCBzaWRlYmFyIHRvIHNlbGVjdGVkIHBhZ2UgaWYgaXQgaXMgbm90IGluIHZpZXdwb3J0LlxuXHRcdHRoaXMuc2lkZWJhci5maW5kKFwiLnNlbGVjdGVkXCIpLmxlbmd0aCAmJlxuXHRcdFx0IWZyYXBwZS5kb20uaXNfZWxlbWVudF9pbl92aWV3cG9ydCh0aGlzLnNpZGViYXIuZmluZChcIi5zZWxlY3RlZFwiKSkgJiZcblx0XHRcdHRoaXMuc2lkZWJhci5maW5kKFwiLnNlbGVjdGVkXCIpWzBdLnNjcm9sbEludG9WaWV3KCk7XG5cblx0XHR0aGlzLnJlbW92ZV9zaWRlYmFyX3NrZWxldG9uKCk7XG5cdH1cblxuXHRidWlsZF9zaWRlYmFyX3NlY3Rpb24odGl0bGUsIHJvb3RfcGFnZXMpIHtcblx0XHRsZXQgc2lkZWJhcl9zZWN0aW9uID0gJChcblx0XHRcdGA8ZGl2IGNsYXNzPVwic3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uIG5lc3RlZC1jb250YWluZXJcIiBkYXRhLXRpdGxlPVwiJHt0aXRsZX1cIj48L2Rpdj5gXG5cdFx0KTtcblxuXHRcdGxldCAkdGl0bGUgPSAkKGA8ZGl2IGNsYXNzPVwic3RhbmRhcmQtc2lkZWJhci1sYWJlbFwiPlxuXHRcdFx0PHNwYW4+JHtmcmFwcGUudXRpbHMuaWNvbihcInNtYWxsLWRvd25cIiwgXCJ4c1wiKX08L3NwYW4+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj4ke19fKHRpdGxlKX08c3Bhbj5cblx0XHQ8L2Rpdj5gKS5hcHBlbmRUbyhzaWRlYmFyX3NlY3Rpb24pO1xuXHRcdHRoaXMucHJlcGFyZV9zaWRlYmFyKHJvb3RfcGFnZXMsIHNpZGViYXJfc2VjdGlvbiwgdGhpcy5zaWRlYmFyKTtcblxuXHRcdCR0aXRsZS5vbihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRsZXQgaWNvbiA9XG5cdFx0XHRcdCQoZS50YXJnZXQpLmZpbmQoXCJzcGFuIHVzZVwiKS5hdHRyKFwiaHJlZlwiKSA9PT0gXCIjaWNvbi1zbWFsbC1kb3duXCJcblx0XHRcdFx0XHQ/IFwiI2ljb24tcmlnaHRcIlxuXHRcdFx0XHRcdDogXCIjaWNvbi1zbWFsbC1kb3duXCI7XG5cdFx0XHQkKGUudGFyZ2V0KS5maW5kKFwic3BhbiB1c2VcIikuYXR0cihcImhyZWZcIiwgaWNvbik7XG5cdFx0XHQkKGUudGFyZ2V0KS5wYXJlbnQoKS5maW5kKFwiLnNpZGViYXItaXRlbS1jb250YWluZXJcIikudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0fSk7XG5cblx0XHRpZiAoT2JqZWN0LmtleXMocm9vdF9wYWdlcykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRzaWRlYmFyX3NlY3Rpb24uYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0c2lkZWJhcl9zZWN0aW9uLmZpbmQoXCIuc2lkZWJhci1pdGVtLWNvbnRhaW5lclwiKS5sZW5ndGggJiZcblx0XHRcdHNpZGViYXJfc2VjdGlvbi5maW5kKFwiPiBbaXRlbS1pcy1oaWRkZW49JzAnXVwiKS5sZW5ndGggPT0gMFxuXHRcdCkge1xuXHRcdFx0c2lkZWJhcl9zZWN0aW9uLmFkZENsYXNzKFwiaGlkZGVuIHNob3ctaW4tZWRpdC1tb2RlXCIpO1xuXHRcdH1cblx0fVxuXG5cdHByZXBhcmVfc2lkZWJhcihpdGVtcywgY2hpbGRfY29udGFpbmVyLCBpdGVtX2NvbnRhaW5lcikge1xuXHRcdGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuYXBwZW5kX2l0ZW0oaXRlbSwgY2hpbGRfY29udGFpbmVyKSk7XG5cdFx0Y2hpbGRfY29udGFpbmVyLmFwcGVuZFRvKGl0ZW1fY29udGFpbmVyKTtcblx0fVxuXG5cdGFwcGVuZF9pdGVtKGl0ZW0sIGNvbnRhaW5lcikge1xuXHRcdGxldCBpc19jdXJyZW50X3BhZ2UgPVxuXHRcdFx0ZnJhcHBlLnJvdXRlci5zbHVnKGl0ZW0udGl0bGUpID09IGZyYXBwZS5yb3V0ZXIuc2x1Zyh0aGlzLmdldF9wYWdlX3RvX3Nob3coKS5uYW1lKSAmJlxuXHRcdFx0aXRlbS5wdWJsaWMgPT0gdGhpcy5nZXRfcGFnZV90b19zaG93KCkucHVibGljO1xuXHRcdGl0ZW0uc2VsZWN0ZWQgPSBpc19jdXJyZW50X3BhZ2U7XG5cdFx0aWYgKGlzX2N1cnJlbnRfcGFnZSkge1xuXHRcdFx0dGhpcy5jdXJyZW50X3BhZ2UgPSB7IG5hbWU6IGl0ZW0udGl0bGUsIHB1YmxpYzogaXRlbS5wdWJsaWMgfTtcblx0XHR9XG5cblx0XHRsZXQgJGl0ZW1fY29udGFpbmVyID0gdGhpcy5zaWRlYmFyX2l0ZW1fY29udGFpbmVyKGl0ZW0pO1xuXHRcdC8vIFRPRE8gXHU4QkJFXHU3RjZFXHU1RjUzXHU1MjREd29ya3NwYWNlXG5cdFx0JGl0ZW1fY29udGFpbmVyLmZpbmQoJy5pdGVtLWEnKS5vbihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdHRoaXMudXBkYXRlX3NlbGVjdGVkX3NpZGViYXIodGhpcy5jdXJyZW50X3BhZ2UsIGZhbHNlKTtcblx0XHRcdHRoaXMuY3VycmVudF9wYWdlPXtcblx0XHRcdFx0bmFtZTppdGVtLnRpdGxlLFxuXHRcdFx0XHRwdWJsaWM6IGl0ZW0ucHVibGljLFxuXHRcdFx0fVxuXHRcdFx0dGhpcy5zaG93KClcblx0XHR9KVxuXG5cdFx0bGV0IHNpZGViYXJfY29udHJvbCA9ICRpdGVtX2NvbnRhaW5lci5maW5kKFwiLnNpZGViYXItaXRlbS1jb250cm9sXCIpO1xuXG5cdFx0dGhpcy5hZGRfc2lkZWJhcl9hY3Rpb25zKGl0ZW0sIHNpZGViYXJfY29udHJvbCk7XG5cdFx0bGV0IHBhZ2VzID0gaXRlbS5wdWJsaWMgPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblx0XHRcblx0XHQvLyBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTVCNTBcdTdFQTdcdUZGMENcdTUyMjRcdTY1QURcdTVCNTBcdTdFQTdcdTkxQ0NcdTk3NjJcdTY3MDlcdTZDQTFcdTY3MDlcdTVGNTNcdTUyNERcdTk4NzVcdTk3NjJcdUZGMENcdTY3MDlcdTVGNTNcdTUyNERcdTk4NzVcdTk3NjJcdTVDMzFcdTRFMERcdThCQkVcdTdGNkVoaWRkZW5cdUZGMENcdTRFNUZcdTVDMzFcdTY2MkZcdTVDNTVcdTVGMDBcdTcyQjZcdTYwMDFcblx0XHRsZXQgZGVzY2VuZGFudD1bXTtcblx0XHRmdW5jdGlvbiBnZXREZXNjZW5kYW50KHBhZ2VzLCB0aXRsZSkge1xuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBwYWdlcy5maWx0ZXIoKHBhZ2UpID0+IHBhZ2UucGFyZW50X3BhZ2UgPT0gdGl0bGUpO1xuXHRcdFx0ZGVzY2VuZGFudCA9IFsuLi5kZXNjZW5kYW50LCAuLi4gY2hpbGRyZW5dO1xuXHRcdFx0Y2hpbGRyZW4uZm9yRWFjaChjaGlsZD0+e1xuXHRcdFx0XHRnZXREZXNjZW5kYW50KHBhZ2VzLCBjaGlsZC50aXRsZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Z2V0RGVzY2VuZGFudChwYWdlcywgaXRlbS50aXRsZSk7XG5cdFx0Y29uc3QgaXNDdXJyZW50UGFyZW50ID0gZGVzY2VuZGFudC5zb21lKHBhZ2U9Pntcblx0XHRcdHJldHVybiBwYWdlLm5hbWU9PT0gdGhpcy5nZXRfcGFnZV90b19zaG93KCkubmFtZSYmXG5cdFx0XHRwYWdlLnB1YmxpYyA9PT0gdGhpcy5nZXRfcGFnZV90b19zaG93KCkucHVibGljO1xuXHRcdH0pO1xuXHRcdFxuXHRcdGxldCBjaGlsZF9pdGVtcyA9IHBhZ2VzLmZpbHRlcigocGFnZSkgPT4gcGFnZS5wYXJlbnRfcGFnZSA9PSBpdGVtLnRpdGxlKTtcblx0XHRpZiAoY2hpbGRfaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0bGV0IGNoaWxkX2NvbnRhaW5lciA9ICRpdGVtX2NvbnRhaW5lci5maW5kKFwiLnNpZGViYXItY2hpbGQtaXRlbVwiKTtcblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1NEUwRFx1NjYyRlx1NUY1M1x1NTI0RFx1OTg3NVx1OTc2Mlx1NzY4NFx1Nzk1Nlx1NTE0OFx1RkYwQ1x1NjI0RFx1OEJCRVx1N0Y2RVx1NEUwRFx1NjYzRVx1NzkzQVx1NUI1MFx1N0VBN1xuXHRcdFx0aWYgKCFpc0N1cnJlbnRQYXJlbnQpIHtcblx0XHRcdFx0Y2hpbGRfY29udGFpbmVyLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wcmVwYXJlX3NpZGViYXIoY2hpbGRfaXRlbXMsIGNoaWxkX2NvbnRhaW5lciwgJGl0ZW1fY29udGFpbmVyKTtcblx0XHR9XG5cblx0XHQkaXRlbV9jb250YWluZXIuYXBwZW5kVG8oY29udGFpbmVyKTtcblx0XHR0aGlzLnNpZGViYXJfaXRlbXNbaXRlbS5wdWJsaWMgPyBcInB1YmxpY1wiIDogXCJwcml2YXRlXCJdW2l0ZW0udGl0bGVdID0gJGl0ZW1fY29udGFpbmVyO1xuXHRcdGNvbnN0IHBhcmVudHMgPSAkaXRlbV9jb250YWluZXIucGFyZW50cygpO1xuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1NUY1M1x1NTI0RFx1OTg3NVx1OTc2Mlx1RkYwQ1x1NjI4QVx1NUI4M1x1NzY4NFx1NzIzNlx1N0VBN1x1OTBGRFx1NjYzRVx1NzkzQVx1NTFGQVx1Njc2NVxuXHRcdGlmKGlzX2N1cnJlbnRfcGFnZSl7XG5cdFx0XHRwYXJlbnRzLmVhY2gocGFyZW50PT57XG5cdFx0XHRcdGlmICgkKHBhcmVudCkuaGFzQ2xhc3MoXCJoaWRkZW5cIikpIHtcblx0XHRcdFx0XHRwYXJlbnQudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBpZiAoJGl0ZW1fY29udGFpbmVyLnBhcmVudCgpLmhhc0NsYXNzKFwiaGlkZGVuXCIpICYmIGlzX2N1cnJlbnRfcGFnZSkge1xuXHRcdC8vIFx0JGl0ZW1fY29udGFpbmVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdC8vIH1cblxuXHRcdHRoaXMuYWRkX2Ryb3BfaWNvbihpdGVtLCBzaWRlYmFyX2NvbnRyb2wsICRpdGVtX2NvbnRhaW5lcik7XG5cblx0XHRpZiAoY2hpbGRfaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0JGl0ZW1fY29udGFpbmVyLmZpbmQoXCIuZHJvcC1pY29uXCIpLmZpcnN0KCkuYWRkQ2xhc3MoXCJzaG93LWluLWVkaXQtbW9kZVwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7IG9yZ2FuaXphdGlvbiB9ID0gaXRlbTtcblx0XHRpZiAoIXRoaXMub3JnYW5pemF0aW9uX25hbWUpIHsgcmV0dXJuOyB9XG5cdFx0aWYoIW9yZ2FuaXphdGlvbil7XG5cdFx0XHQkaXRlbV9jb250YWluZXIuaGlkZSgpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5vcmdhbml6YXRpb25fbmFtZSA9PT0gb3JnYW5pemF0aW9uKSB7IHJldHVybjsgfVxuXHRcdCRpdGVtX2NvbnRhaW5lci5oaWRlKCk7XG5cdH1cblxuXHRhZGRfZHJvcF9pY29uKGl0ZW0sIHNpZGViYXJfY29udHJvbCwgaXRlbV9jb250YWluZXIpIHtcblx0XHRsZXQgZHJvcF9pY29uID0gXCJzbWFsbC1kb3duXCI7XG5cdFx0aWYgKGl0ZW1fY29udGFpbmVyLmZpbmQoYFtpdGVtLW5hbWU9XCIke3RoaXMuY3VycmVudF9wYWdlLm5hbWV9XCJdYCkubGVuZ3RoKSB7XG5cdFx0XHRkcm9wX2ljb24gPSBcInNtYWxsLXVwXCI7XG5cdFx0fVxuXHRcdC8vIFx1NEZFRVx1NjUzOVx1NkU5MFx1NzgwMVx1RkYwQ1x1OEZEOVx1OTFDQ1x1NTNFQVx1NUM1NVx1NUYwMFx1NTIzMFx1NUI1MFx1N0VBN1x1RkYwQ1x1ODAwQ1x1NEUwRFx1NjYyRlx1NjdFNVx1NjI3RVx1NjI0MFx1NjcwOVx1NTQwRVx1NEVFM1xuXHRcdGxldCAkY2hpbGRfaXRlbV9zZWN0aW9uID0gaXRlbV9jb250YWluZXIuY2hpbGRyZW4oXCIuc2lkZWJhci1jaGlsZC1pdGVtXCIpO1xuXHRcdGxldCAkZHJvcF9pY29uID0gJChcblx0XHRcdGA8c3BhbiBjbGFzcz1cImRyb3AtaWNvbiBoaWRkZW5cIj4ke2ZyYXBwZS51dGlscy5pY29uKGRyb3BfaWNvbiwgXCJzbVwiKX08L3NwYW4+YFxuXHRcdCkuYXBwZW5kVG8oc2lkZWJhcl9jb250cm9sKTtcblx0XHRsZXQgcGFnZXMgPSBpdGVtLnB1YmxpYyA/IHRoaXMucHVibGljX3BhZ2VzIDogdGhpcy5wcml2YXRlX3BhZ2VzO1xuXHRcdGlmIChcblx0XHRcdHBhZ2VzLnNvbWUoXG5cdFx0XHRcdChlKSA9PiBlLnBhcmVudF9wYWdlID09IGl0ZW0udGl0bGUgJiYgKGUuaXNfaGlkZGVuID09IDAgfHwgIXRoaXMuaXNfcmVhZF9vbmx5KVxuXHRcdFx0KVxuXHRcdCkge1xuXHRcdFx0JGRyb3BfaWNvbi5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblx0XHR9XG5cdFx0JGRyb3BfaWNvbi5vbihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGxldCBpY29uID1cblx0XHRcdFx0JGRyb3BfaWNvbi5maW5kKFwidXNlXCIpLmF0dHIoXCJocmVmXCIpID09PSBcIiNpY29uLXNtYWxsLWRvd25cIlxuXHRcdFx0XHRcdD8gXCIjaWNvbi1zbWFsbC11cFwiXG5cdFx0XHRcdFx0OiBcIiNpY29uLXNtYWxsLWRvd25cIjtcblx0XHRcdCRkcm9wX2ljb24uZmluZChcInVzZVwiKS5hdHRyKFwiaHJlZlwiLCBpY29uKTtcblx0XHRcdCRjaGlsZF9pdGVtX3NlY3Rpb24udG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0fSk7XG5cdH1cblxuXHRzaG93KCkge1xuXHRcdGlmICghdGhpcy5hbGxfcGFnZXMpIHtcblx0XHRcdC8vIHBhZ2VzIG5vdCB5ZXQgbG9hZGVkLCBjYWxsIGFnYWluIGFmdGVyIGEgYml0XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2hvdygpLCAxMDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBwYWdlID0gdGhpcy5nZXRfcGFnZV90b19zaG93KCk7XG5cdFx0dGhpcy5wYWdlLnNldF90aXRsZShfXyhwYWdlLm5hbWUpKTtcblxuXHRcdHRoaXMudXBkYXRlX3NlbGVjdGVkX3NpZGViYXIodGhpcy5jdXJyZW50X3BhZ2UsIGZhbHNlKTsgLy9yZW1vdmUgc2VsZWN0ZWQgZnJvbSBvbGQgcGFnZVxuXHRcdHRoaXMudXBkYXRlX3NlbGVjdGVkX3NpZGViYXIocGFnZSwgdHJ1ZSk7IC8vYWRkIHNlbGVjdGVkIG9uIG5ldyBwYWdlXG5cblx0XHR0aGlzLnNob3dfcGFnZShwYWdlKTtcblx0fVxuXG5cdHVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHBhZ2UsIGFkZCkge1xuXHRcdGxldCBzZWN0aW9uID0gcGFnZS5wdWJsaWMgPyBcInB1YmxpY1wiIDogXCJwcml2YXRlXCI7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5zaWRlYmFyICYmXG5cdFx0XHR0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl0gJiZcblx0XHRcdHRoaXMuc2lkZWJhcl9pdGVtc1tzZWN0aW9uXVtwYWdlLm5hbWVdXG5cdFx0KSB7XG5cdFx0XHRsZXQgJHNpZGViYXIgPSB0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl1bcGFnZS5uYW1lXTtcblx0XHRcdGxldCBwYWdlcyA9IHBhZ2UucHVibGljID8gdGhpcy5wdWJsaWNfcGFnZXMgOiB0aGlzLnByaXZhdGVfcGFnZXM7XG5cdFx0XHRsZXQgc2lkZWJhcl9wYWdlID0gcGFnZXMuZmluZCgocCkgPT4gcC50aXRsZSA9PSBwYWdlLm5hbWUpO1xuXG5cdFx0XHRpZiAoYWRkKSB7XG5cdFx0XHRcdCRzaWRlYmFyWzBdLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcblx0XHRcdFx0aWYgKHNpZGViYXJfcGFnZSkgc2lkZWJhcl9wYWdlLnNlbGVjdGVkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBvcGVuIGNoaWxkIHNpZGViYXIgc2VjdGlvbiBpZiBjbG9zZWRcblx0XHRcdFx0JHNpZGViYXIucGFyZW50KCkuaGFzQ2xhc3MoXCJzaWRlYmFyLWNoaWxkLWl0ZW1cIikgJiZcblx0XHRcdFx0XHQkc2lkZWJhci5wYXJlbnQoKS5oYXNDbGFzcyhcImhpZGRlblwiKSAmJlxuXHRcdFx0XHRcdCRzaWRlYmFyLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG5cdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlID0geyBuYW1lOiBwYWdlLm5hbWUsIHB1YmxpYzogcGFnZS5wdWJsaWMgfTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlLmN1cnJlbnRfcGFnZSA9IHBhZ2UubmFtZTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlLmlzX2N1cnJlbnRfcGFnZV9wdWJsaWMgPSBwYWdlLnB1YmxpYztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRzaWRlYmFyWzBdLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcblx0XHRcdFx0aWYgKHNpZGViYXJfcGFnZSkgc2lkZWJhcl9wYWdlLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Z2V0X2RhdGEocGFnZSkge1xuXHRcdHJldHVybiBmcmFwcGVcblx0XHRcdC5jYWxsKFwiZnJhcHBlLmRlc2suZGVza3RvcC5nZXRfZGVza3RvcF9wYWdlXCIsIHtcblx0XHRcdFx0cGFnZTogcGFnZSxcblx0XHRcdH0pXG5cdFx0XHQudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBhZ2VfZGF0YSA9IGRhdGEubWVzc2FnZTtcblxuXHRcdFx0XHQvLyBjYWNoaW5nIHBhZ2UgZGF0YVxuXHRcdFx0XHR0aGlzLnBhZ2VzW3BhZ2UubmFtZV0gJiYgZGVsZXRlIHRoaXMucGFnZXNbcGFnZS5uYW1lXTtcblx0XHRcdFx0dGhpcy5wYWdlc1twYWdlLm5hbWVdID0gZGF0YS5tZXNzYWdlO1xuXG5cdFx0XHRcdGlmICghdGhpcy5wYWdlX2RhdGEgfHwgT2JqZWN0LmtleXModGhpcy5wYWdlX2RhdGEpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXHRcdFx0XHRpZiAodGhpcy5wYWdlX2RhdGEuY2hhcnRzICYmIHRoaXMucGFnZV9kYXRhLmNoYXJ0cy5pdGVtcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuXHRcdFx0XHRyZXR1cm4gZnJhcHBlLmRhc2hib2FyZF91dGlscy5nZXRfZGFzaGJvYXJkX3NldHRpbmdzKCkudGhlbigoc2V0dGluZ3MpID0+IHtcblx0XHRcdFx0XHRpZiAoc2V0dGluZ3MpIHtcblx0XHRcdFx0XHRcdGxldCBjaGFydF9jb25maWcgPSBzZXR0aW5ncy5jaGFydF9jb25maWdcblx0XHRcdFx0XHRcdFx0PyBKU09OLnBhcnNlKHNldHRpbmdzLmNoYXJ0X2NvbmZpZylcblx0XHRcdFx0XHRcdFx0OiB7fTtcblx0XHRcdFx0XHRcdHRoaXMucGFnZV9kYXRhLmNoYXJ0cy5pdGVtcy5tYXAoKGNoYXJ0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNoYXJ0LmNoYXJ0X3NldHRpbmdzID0gY2hhcnRfY29uZmlnW2NoYXJ0LmNoYXJ0X25hbWVdIHx8IHt9O1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR0aGlzLnBhZ2VzW3BhZ2UubmFtZV0gPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRnZXRfcGFnZV90b19zaG93KCkge1xuXHRcdGxldCBkZWZhdWx0X3BhZ2U7XG5cdFx0Y29uc3QgZmlyc3RPcmdhbml6YXRpb25QYWdlID0gdGhpcy5hbGxfcGFnZXM/LmZpbmQoaXRlbT0+aXRlbS5vcmdhbml6YXRpb24gPT09IHRoaXMub3JnYW5pemF0aW9uX25hbWUpXG5cdFx0aWYgKGZpcnN0T3JnYW5pemF0aW9uUGFnZSkge1xuXHRcdFx0ZGVmYXVsdF9wYWdlID0geyBuYW1lOiBmaXJzdE9yZ2FuaXphdGlvblBhZ2UudGl0bGUsIHB1YmxpYzogZmlyc3RPcmdhbml6YXRpb25QYWdlLnB1YmxpYyB9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZWZhdWx0X3BhZ2UgPSB7IG5hbWU6IFwiQnVpbGRcIiwgcHVibGljOiB0cnVlIH07XG5cdFx0fVxuXG5cdFx0bGV0IHBhZ2UgPSB0aGlzLmN1cnJlbnRfcGFnZS5uYW1lIHx8XG5cdFx0XHRkZWZhdWx0X3BhZ2UubmFtZTtcblx0XHRsZXQgaXNfcHVibGljID0gdGhpcy5jdXJyZW50X3BhZ2UubmFtZT8gdGhpcy5jdXJyZW50X3BhZ2UucHVibGljOiBkZWZhdWx0X3BhZ2UucHVibGljO1xuXHRcdHJldHVybiB7IG5hbWU6IHBhZ2UsIHB1YmxpYzogaXNfcHVibGljIH07XG5cdH1cblxuXHRhc3luYyBzaG93X3BhZ2UocGFnZSkge1xuXHRcdGlmICghdGhpcy5ib2R5LmZpbmQoXCIjZWRpdG9yanNcIilbMF0pIHtcblx0XHRcdHRoaXMuJHBhZ2UgPSAkKGBcblx0XHRcdFx0PGRpdiBpZD1cImVkaXRvcmpzXCIgY2xhc3M9XCJkZXNrLXBhZ2UgcGFnZS1tYWluLWNvbnRlbnRcIj48L2Rpdj5cblx0XHRcdGApLmFwcGVuZFRvKHRoaXMuYm9keSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuYWxsX3BhZ2VzLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5jcmVhdGVfcGFnZV9za2VsZXRvbigpO1xuXG5cdFx0XHRsZXQgcGFnZXMgPVxuXHRcdFx0XHRwYWdlLnB1YmxpYyAmJiB0aGlzLnB1YmxpY19wYWdlcy5sZW5ndGggPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblx0XHRcdGxldCBjdXJyZW50X3BhZ2UgPSBwYWdlcy5maWx0ZXIoKHApID0+IHAudGl0bGUgPT0gcGFnZS5uYW1lKVswXTtcblx0XHRcdHRoaXMuY29udGVudCA9IGN1cnJlbnRfcGFnZSAmJiBKU09OLnBhcnNlKGN1cnJlbnRfcGFnZS5jb250ZW50KTtcblxuXHRcdFx0dGhpcy5jb250ZW50ICYmIHRoaXMuYWRkX2N1c3RvbV9jYXJkc19pbl9jb250ZW50KCk7XG5cblx0XHRcdCQoXCIuaXRlbS1hbmNob3JcIikuYWRkQ2xhc3MoXCJkaXNhYmxlLWNsaWNrXCIpO1xuXG5cdFx0XHRpZiAodGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzW2N1cnJlbnRfcGFnZS5uYW1lXSkge1xuXHRcdFx0XHR0aGlzLnBhZ2VfZGF0YSA9IHRoaXMucGFnZXNbY3VycmVudF9wYWdlLm5hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXdhaXQgZnJhcHBlLmFmdGVyX2FqYXgoKCkgPT4gdGhpcy5nZXRfZGF0YShjdXJyZW50X3BhZ2UpKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zZXR1cF9hY3Rpb25zKHBhZ2UpO1xuXG5cdFx0XHR0aGlzLnByZXBhcmVfZWRpdG9yanMoKTtcblx0XHRcdCQoXCIuaXRlbS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlLWNsaWNrXCIpO1xuXG5cdFx0XHR0aGlzLnJlbW92ZV9wYWdlX3NrZWxldG9uKCk7XG5cdFx0fVxuXHR9XG5cblx0YWRkX2N1c3RvbV9jYXJkc19pbl9jb250ZW50KCkge1xuXHRcdGxldCBpbmRleCA9IC0xO1xuXHRcdHRoaXMuY29udGVudC5maW5kKChpdGVtLCBpKSA9PiB7XG5cdFx0XHRpZiAoaXRlbS50eXBlID09IFwiY2FyZFwiKSBpbmRleCA9IGk7XG5cdFx0fSk7XG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0dGhpcy5jb250ZW50LnNwbGljZShpbmRleCArIDEsIDAsIHtcblx0XHRcdFx0dHlwZTogXCJjYXJkXCIsXG5cdFx0XHRcdGRhdGE6IHsgY2FyZF9uYW1lOiBcIkN1c3RvbSBEb2N1bWVudHNcIiwgY29sOiA0IH0sXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuY29udGVudC5zcGxpY2UoaW5kZXggKyAyLCAwLCB7XG5cdFx0XHRcdHR5cGU6IFwiY2FyZFwiLFxuXHRcdFx0XHRkYXRhOiB7IGNhcmRfbmFtZTogXCJDdXN0b20gUmVwb3J0c1wiLCBjb2w6IDQgfSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByZXBhcmVfZWRpdG9yanMoKSB7XG5cdFx0aWYgKHRoaXMuZWRpdG9yKSB7XG5cdFx0XHR0aGlzLmVkaXRvci5pc1JlYWR5LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmVkaXRvci5jb25maWd1cmF0aW9uLnRvb2xzLmNoYXJ0LmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi50b29scy5zaG9ydGN1dC5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMuY2FyZC5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMub25ib2FyZGluZy5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMucXVpY2tfbGlzdC5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMubnVtYmVyX2NhcmQuY29uZmlnLnBhZ2VfZGF0YSA9IHRoaXMucGFnZV9kYXRhO1xuXHRcdFx0XHR0aGlzLmVkaXRvci5jb25maWd1cmF0aW9uLnRvb2xzLmN1c3RvbV9ibG9jay5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLnJlbmRlcih7IGJsb2NrczogdGhpcy5jb250ZW50IHx8IFtdIH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuaW5pdGlhbGl6ZV9lZGl0b3Jqcyh0aGlzLmNvbnRlbnQpO1xuXHRcdH1cblx0fVxuXG5cdHNldHVwX2FjdGlvbnMocGFnZSkge1xuXHRcdGxldCBwYWdlcyA9IHBhZ2UucHVibGljID8gdGhpcy5wdWJsaWNfcGFnZXMgOiB0aGlzLnByaXZhdGVfcGFnZXM7XG5cdFx0bGV0IGN1cnJlbnRfcGFnZSA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC50aXRsZSA9PSBwYWdlLm5hbWUpWzBdO1xuXG5cdFx0aWYgKCF0aGlzLmlzX3JlYWRfb25seSkge1xuXHRcdFx0dGhpcy5zZXR1cF9jdXN0b21pemF0aW9uX2J1dHRvbnMoY3VycmVudF9wYWdlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmNsZWFyX3BhZ2VfYWN0aW9ucygpO1xuXG5cdFx0dGhpcy5wYWdlLnNldF9zZWNvbmRhcnlfYWN0aW9uKF9fKFwiRWRpdFwiKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCF0aGlzLmVkaXRvciB8fCAhdGhpcy5lZGl0b3IucmVhZE9ubHkpIHJldHVybjtcblx0XHRcdHRoaXMuaXNfcmVhZF9vbmx5ID0gZmFsc2U7XG5cdFx0XHR0aGlzLnRvZ2dsZV9oaWRkZW5fd29ya3NwYWNlcyh0cnVlKTtcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlYWRPbmx5LnRvZ2dsZSgpO1xuXHRcdFx0dGhpcy5lZGl0b3IuaXNSZWFkeS50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5pbml0aWFsaXplX2VkaXRvcmpzX3VuZG8oKTtcblx0XHRcdFx0dGhpcy5zZXR1cF9jdXN0b21pemF0aW9uX2J1dHRvbnMoY3VycmVudF9wYWdlKTtcblx0XHRcdFx0dGhpcy5zaG93X3NpZGViYXJfYWN0aW9ucygpO1xuXHRcdFx0XHR0aGlzLm1ha2VfYmxvY2tzX3NvcnRhYmxlKCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMucGFnZS5hZGRfaW5uZXJfYnV0dG9uKF9fKFwiQ3JlYXRlIFdvcmtzcGFjZVwiKSwgKCkgPT4ge1xuXHRcdFx0dGhpcy5pbml0aWFsaXplX25ld19wYWdlKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRpbml0aWFsaXplX2VkaXRvcmpzX3VuZG8oKSB7XG5cdFx0dGhpcy51bmRvID0gbmV3IFVuZG8oeyBlZGl0b3I6IHRoaXMuZWRpdG9yIH0pO1xuXHRcdHRoaXMudW5kby5pbml0aWFsaXplKHsgYmxvY2tzOiB0aGlzLmNvbnRlbnQgfHwgW10gfSk7XG5cdFx0dGhpcy51bmRvLnJlYWRPbmx5ID0gZmFsc2U7XG5cdH1cblxuXHRjbGVhcl9wYWdlX2FjdGlvbnMoKSB7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX3ByaW1hcnlfYWN0aW9uKCk7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX3NlY29uZGFyeV9hY3Rpb24oKTtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfaW5uZXJfdG9vbGJhcigpO1xuXHR9XG5cblx0c2V0dXBfY3VzdG9taXphdGlvbl9idXR0b25zKHBhZ2UpIHtcblx0XHR0aGlzLmNsZWFyX3BhZ2VfYWN0aW9ucygpO1xuXG5cdFx0cGFnZS5pc19lZGl0YWJsZSAmJlxuXHRcdFx0dGhpcy5wYWdlLnNldF9wcmltYXJ5X2FjdGlvbihcblx0XHRcdFx0X18oXCJTYXZlXCIpLFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5jbGVhcl9wYWdlX2FjdGlvbnMoKTtcblx0XHRcdFx0XHR0aGlzLnNhdmVfcGFnZShwYWdlKS50aGVuKChzYXZlZCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKCFzYXZlZCkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dGhpcy51bmRvLnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlYWRPbmx5LnRvZ2dsZSgpO1xuXHRcdFx0XHRcdFx0dGhpcy5pc19yZWFkX29ubHkgPSB0cnVlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHRfXyhcIlNhdmluZ1wiKVxuXHRcdFx0KTtcblxuXHRcdHRoaXMucGFnZS5zZXRfc2Vjb25kYXJ5X2FjdGlvbihfXyhcIkRpc2NhcmRcIiksIGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuZGlzY2FyZCA9IHRydWU7XG5cdFx0XHR0aGlzLmNsZWFyX3BhZ2VfYWN0aW9ucygpO1xuXHRcdFx0dGhpcy50b2dnbGVfaGlkZGVuX3dvcmtzcGFjZXMoZmFsc2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3IucmVhZE9ubHkudG9nZ2xlKCk7XG5cdFx0XHR0aGlzLmlzX3JlYWRfb25seSA9IHRydWU7XG5cdFx0XHR0aGlzLnNpZGViYXJfcGFnZXMgPSB0aGlzLmNhY2hlZF9wYWdlcztcblx0XHRcdHRoaXMucmVsb2FkKCk7XG5cdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7IG1lc3NhZ2U6IF9fKFwiQ3VzdG9taXphdGlvbnMgRGlzY2FyZGVkXCIpLCBpbmRpY2F0b3I6IFwiaW5mb1wiIH0pO1xuXHRcdH0pO1xuXG5cdFx0aWYgKHBhZ2UubmFtZSAmJiB0aGlzLmhhc19hY2Nlc3MpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfaW5uZXJfYnV0dG9uKF9fKFwiU2V0dGluZ3NcIiksICgpID0+IHtcblx0XHRcdFx0ZnJhcHBlLnNldF9yb3V0ZShgd29ya3NwYWNlLyR7cGFnZS5uYW1lfWApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0dG9nZ2xlX2hpZGRlbl93b3Jrc3BhY2VzKHNob3cpIHtcblx0XHQkKFwiLmRlc2stc2lkZWJhclwiKS50b2dnbGVDbGFzcyhcInNob3ctaGlkZGVuLXdvcmtzcGFjZXNcIiwgc2hvdyk7XG5cdH1cblxuXHRzaG93X3NpZGViYXJfYWN0aW9ucygpIHtcblx0XHR0aGlzLnNpZGViYXIuZmluZChcIi5zdGFuZGFyZC1zaWRlYmFyLXNlY3Rpb25cIikuYWRkQ2xhc3MoXCJzaG93LWNvbnRyb2xcIik7XG5cdFx0dGhpcy5tYWtlX3NpZGViYXJfc29ydGFibGUoKTtcblx0fVxuXG5cdGFkZF9zaWRlYmFyX2FjdGlvbnMoaXRlbSwgc2lkZWJhcl9jb250cm9sLCBpc19uZXcpIHtcblx0XHRpZiAoIWl0ZW0uaXNfZWRpdGFibGUpIHtcblx0XHRcdHNpZGViYXJfY29udHJvbC5wYXJlbnQoKS5jbGljaygoKSA9PiB7XG5cdFx0XHRcdCF0aGlzLmlzX3JlYWRfb25seSAmJlxuXHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBfXyhcIk9ubHkgV29ya3NwYWNlIE1hbmFnZXIgY2FuIHNvcnQgb3IgZWRpdCB0aGlzIHBhZ2VcIiksXG5cdFx0XHRcdFx0XHRcdGluZGljYXRvcjogXCJpbmZvXCIsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0NVxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZnJhcHBlLnV0aWxzLmFkZF9jdXN0b21fYnV0dG9uKFxuXHRcdFx0XHRmcmFwcGUudXRpbHMuaWNvbihcImR1cGxpY2F0ZVwiLCBcInNtXCIpLFxuXHRcdFx0XHQoKSA9PiB0aGlzLmR1cGxpY2F0ZV9wYWdlKGl0ZW0pLFxuXHRcdFx0XHRcImR1cGxpY2F0ZS1wYWdlXCIsXG5cdFx0XHRcdF9fKFwiRHVwbGljYXRlIFdvcmtzcGFjZVwiKSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0c2lkZWJhcl9jb250cm9sXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSBpZiAoaXRlbS5pc19oaWRkZW4pIHtcblx0XHRcdGZyYXBwZS51dGlscy5hZGRfY3VzdG9tX2J1dHRvbihcblx0XHRcdFx0ZnJhcHBlLnV0aWxzLmljb24oXCJ1bmhpZGVcIiwgXCJzbVwiKSxcblx0XHRcdFx0KGUpID0+IHRoaXMudW5oaWRlX3dvcmtzcGFjZShpdGVtLCBlKSxcblx0XHRcdFx0XCJ1bmhpZGUtd29ya3NwYWNlLWJ0blwiLFxuXHRcdFx0XHRfXyhcIlVuaGlkZSBXb3Jrc3BhY2VcIiksXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHNpZGViYXJfY29udHJvbFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhcHBlLnV0aWxzLmFkZF9jdXN0b21fYnV0dG9uKFxuXHRcdFx0XHRmcmFwcGUudXRpbHMuaWNvbihcImRyYWdcIiwgXCJ4c1wiKSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XCJkcmFnLWhhbmRsZVwiLFxuXHRcdFx0XHRfXyhcIkRyYWdcIiksXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHNpZGViYXJfY29udHJvbFxuXHRcdFx0KTtcblxuXHRcdFx0IWlzX25ldyAmJiB0aGlzLmFkZF9zZXR0aW5nc19idXR0b24oaXRlbSwgc2lkZWJhcl9jb250cm9sKTtcblx0XHR9XG5cdH1cblxuXHRnZXRfcGFyZW50X3BhZ2VzKHBhZ2UpIHtcblx0XHR0aGlzLnB1YmxpY19wYXJlbnRfcGFnZXMgPSBbXG5cdFx0XHQnJyxcblx0XHRcdC4uLnRoaXMucHVibGljX3BhZ2VzLmZpbHRlcigocCkgPT4gcC5vcmdhbml6YXRpb249PT10aGlzLm9yZ2FuaXphdGlvbl9uYW1lKS5tYXAocCA9PiBwLnRpdGxlKSxcblx0XHRdO1xuXHRcdHRoaXMucHJpdmF0ZV9wYXJlbnRfcGFnZXMgPSBbXG5cdFx0XHQnJyxcblx0XHRcdC4uLnRoaXMucHJpdmF0ZV9wYWdlcy5maWx0ZXIoKHApID0+IHAub3JnYW5pemF0aW9uPT09dGhpcy5vcmdhbml6YXRpb25fbmFtZSkubWFwKHAgPT4gcC50aXRsZSksXG5cdFx0XTtcblx0XG5cdFx0aWYgKHBhZ2UpIHtcblx0XHRcdHJldHVybiBwYWdlLnB1YmxpYyA/IHRoaXMucHVibGljX3BhcmVudF9wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYXJlbnRfcGFnZXM7XG5cdFx0fVxuXHR9XG5cblx0ZWRpdF9wYWdlKGl0ZW0pIHtcblx0XHR2YXIgbWUgPSB0aGlzO1xuXHRcdGxldCBvbGRfaXRlbSA9IGl0ZW07XG5cdFx0bGV0IHBhcmVudF9wYWdlcyA9IHRoaXMuZ2V0X3BhcmVudF9wYWdlcyhpdGVtKTtcblx0XHRsZXQgaWR4ID0gcGFyZW50X3BhZ2VzLmZpbmRJbmRleCh4ID0+IHggPT0gaXRlbS50aXRsZSk7XG5cdFx0aWYgKGlkeCAhPT0gLTEpIHsgcGFyZW50X3BhZ2VzLnNwbGljZShpZHgsIDEpOyB9XG5cdFx0Y29uc3QgdGl0bGUgPSBpdGVtLnRpdGxlLnJlcGxhY2VBbGwoL3t7KFtefV0rKX19L2csICcnKTtcblx0XHRjb25zdCByZXMgPSBpdGVtLnRpdGxlLm1hdGNoKC97eyhbXn1dKyl9fS8pO1xuXHRcdGNvbnN0IHN1ZmZpeCA9IHJlcz8uWzFdIHx8ICcnO1xuXHRcdGNvbnN0IGQgPSBuZXcgZnJhcHBlLnVpLkRpYWxvZyh7XG5cdFx0XHR0aXRsZTogX18oJ1VwZGF0ZSBEZXRhaWxzJyksXG5cdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnVGl0bGUnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdEYXRhJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICd0aXRsZScsXG5cdFx0XHRcdFx0cmVxZDogMSxcblx0XHRcdFx0XHRkZWZhdWx0OiB0aXRsZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnU3VmZml4JyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnRGF0YScsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAnc3VmZml4Jyxcblx0XHRcdFx0XHRkZWZhdWx0OiBzdWZmaXgsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1BhcmVudCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ1NlbGVjdCcsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAncGFyZW50Jyxcblx0XHRcdFx0XHRvcHRpb25zOiBwYXJlbnRfcGFnZXMsXG5cdFx0XHRcdFx0ZGVmYXVsdDogaXRlbS5wYXJlbnRfcGFnZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXyhcIkRlZmF1bHRcIiksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiBcIkNoZWNrXCIsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiBcImRlZmF1bHRcIixcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0NvbHVtbiBCcmVhaycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ0ljb24nKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdJY29uJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdpY29uJyxcblx0XHRcdFx0XHRkZWZhdWx0OiBpdGVtLmljb24sXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKCdVcGRhdGUnKSxcblx0XHRcdHByaW1hcnlfYWN0aW9uOiB2YWx1ZXMgPT4ge1xuXHRcdFx0XHR2YWx1ZXMudGl0bGUgPSBmcmFwcGUudXRpbHMuZXNjYXBlX2h0bWwoYCR7dmFsdWVzLnRpdGxlfSR7dmFsdWVzLnN1ZmZpeCA/IGB7eyR7dmFsdWVzLnN1ZmZpeH19fWAgOiAnJ31gKTtcblx0XHRcdFx0dmFsdWVzLmlzX3B1YmxpYyA9IDE7XG5cdFx0XHRcdGxldCBpc190aXRsZV9jaGFuZ2VkID0gdmFsdWVzLnRpdGxlICE9IG9sZF9pdGVtLnRpdGxlO1xuXHRcdFx0XHRsZXQgaXNfc2VjdGlvbl9jaGFuZ2VkID0gdmFsdWVzLmlzX3B1YmxpYyAhPSBvbGRfaXRlbS5wdWJsaWM7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQoaXNfdGl0bGVfY2hhbmdlZCB8fCBpc19zZWN0aW9uX2NoYW5nZWQpICYmXG5cdFx0XHRcdFx0IXRoaXMudmFsaWRhdGVfcGFnZSh2YWx1ZXMsIG9sZF9pdGVtKVxuXHRcdFx0XHQpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZG9jdHlwZS53b3Jrc3BhY2Uud29ya3NwYWNlLnVwZGF0ZV9wYWdlJyxcblx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiBvbGRfaXRlbS5uYW1lLFxuXHRcdFx0XHRcdFx0dGl0bGU6IHZhbHVlcy50aXRsZSxcblx0XHRcdFx0XHRcdGljb246IHZhbHVlcy5pY29uIHx8ICcnLFxuXHRcdFx0XHRcdFx0cGFyZW50OiB2YWx1ZXMucGFyZW50IHx8ICcnLFxuXHRcdFx0XHRcdFx0cHVibGljOiB2YWx1ZXMuaXNfcHVibGljIHx8IDAsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjYWxsYmFjayhyZXMpIHtcblx0XHRcdFx0XHRcdGlmIChyZXMubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0XHRcdFx0bWV0aG9kOiBcInRpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnNldF9vcmdhbml6YXRpb25fd29ya3NwYWNlXCIsXG5cdFx0XHRcdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0d29ya3NwYWNlX25hbWU6IHJlcy5tZXNzYWdlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRvcmdhbml6YXRpb25fbmFtZTogbWUub3JnYW5pemF0aW9uX25hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OiB2YWx1ZXMuZGVmYXVsdCxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRsZXQgbWVzc2FnZSA9IF9fKCdXb3Jrc3BhY2UgezB9IEVkaXRlZCBTdWNjZXNzZnVsbHknLCBbXG5cdFx0XHRcdFx0XHRcdFx0b2xkX2l0ZW0udGl0bGUuYm9sZCgpLFxuXHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoeyBtZXNzYWdlLCBpbmRpY2F0b3I6ICdncmVlbicgfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy51cGRhdGVfc2lkZWJhcihvbGRfaXRlbSwgdmFsdWVzKTtcblxuXHRcdFx0XHRpZiAodGhpcy5tYWtlX3BhZ2Vfc2VsZWN0ZWQpIHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHRoaXMuY3VycmVudF9wYWdlLCBmYWxzZSk7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50X3BhZ2U9e1xuXHRcdFx0XHRcdFx0bmFtZTogdmFsdWVzLnRpdGxlLFxuXHRcdFx0XHRcdFx0cHVibGljOiB2YWx1ZXMuaXNfcHVibGljLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnNob3coKVxuXHRcdFx0XHRcdHRoaXMubWFrZV9wYWdlX3NlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm1ha2Vfc2lkZWJhcigpO1xuXHRcdFx0XHR0aGlzLnNob3dfc2lkZWJhcl9hY3Rpb25zKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGQuc2hvdygpO1xuXHR9XG5cblx0dXBkYXRlX3NpZGViYXIob2xkX2l0ZW0sIG5ld19pdGVtKSB7XG5cdFx0bGV0IGlzX3NlY3Rpb25fY2hhbmdlZCA9IG9sZF9pdGVtLnB1YmxpYyAhPSAobmV3X2l0ZW0uaXNfcHVibGljIHx8IDApO1xuXHRcdGxldCBpc190aXRsZV9jaGFuZ2VkID0gb2xkX2l0ZW0udGl0bGUgIT0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0bGV0IG5ld191cGRhdGVkX2l0ZW0gPSB7IC4uLm9sZF9pdGVtIH07XG5cblx0XHRsZXQgcGFnZXMgPSBvbGRfaXRlbS5wdWJsaWMgPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblxuXHRcdGxldCBjaGlsZF9pdGVtcyA9IHBhZ2VzLmZpbHRlcigocGFnZSkgPT4gcGFnZS5wYXJlbnRfcGFnZSA9PSBvbGRfaXRlbS50aXRsZSk7XG5cblx0XHR0aGlzLm1ha2VfcGFnZV9zZWxlY3RlZCA9IG9sZF9pdGVtLnNlbGVjdGVkO1xuXG5cdFx0bmV3X3VwZGF0ZWRfaXRlbS50aXRsZSA9IG5ld19pdGVtLnRpdGxlO1xuXHRcdG5ld191cGRhdGVkX2l0ZW0uaWNvbiA9IG5ld19pdGVtLmljb247XG5cdFx0bmV3X3VwZGF0ZWRfaXRlbS5wYXJlbnRfcGFnZSA9IG5ld19pdGVtLnBhcmVudCB8fCBcIlwiO1xuXHRcdG5ld191cGRhdGVkX2l0ZW0ucHVibGljID0gbmV3X2l0ZW0uaXNfcHVibGljO1xuXG5cdFx0aWYgKGlzX3RpdGxlX2NoYW5nZWQgfHwgaXNfc2VjdGlvbl9jaGFuZ2VkKSB7XG5cdFx0XHRpZiAobmV3X2l0ZW0uaXNfcHVibGljKSB7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0ubmFtZSA9IG5ld19pdGVtLnRpdGxlO1xuXHRcdFx0XHRuZXdfdXBkYXRlZF9pdGVtLmxhYmVsID0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0uZm9yX3VzZXIgPSBcIlwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IHVzZXIgPSBmcmFwcGUuc2Vzc2lvbi51c2VyO1xuXHRcdFx0XHRuZXdfdXBkYXRlZF9pdGVtLm5hbWUgPSBgJHtuZXdfaXRlbS50aXRsZX0tJHt1c2VyfWA7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0ubGFiZWwgPSBgJHtuZXdfaXRlbS50aXRsZX0tJHt1c2VyfWA7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0uZm9yX3VzZXIgPSB1c2VyO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKG9sZF9pdGVtLCBuZXdfdXBkYXRlZF9pdGVtKTtcblxuXHRcdGlmIChjaGlsZF9pdGVtcy5sZW5ndGgpIHtcblx0XHRcdGNoaWxkX2l0ZW1zLmZvckVhY2goKGNoaWxkKSA9PiB7XG5cdFx0XHRcdGNoaWxkLnBhcmVudF9wYWdlID0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0XHRcdGlzX3NlY3Rpb25fY2hhbmdlZCAmJiB0aGlzLnVwZGF0ZV9jaGlsZF9zaWRlYmFyKGNoaWxkLCBuZXdfaXRlbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVfY2hpbGRfc2lkZWJhcihjaGlsZCwgbmV3X2l0ZW0pIHtcblx0XHRsZXQgb2xkX2NoaWxkID0geyAuLi5jaGlsZCB9O1xuXHRcdHRoaXMubWFrZV9wYWdlX3NlbGVjdGVkID0gY2hpbGQuc2VsZWN0ZWQ7XG5cblx0XHRjaGlsZC5wdWJsaWMgPSBuZXdfaXRlbS5pc19wdWJsaWM7XG5cdFx0aWYgKG5ld19pdGVtLmlzX3B1YmxpYykge1xuXHRcdFx0Y2hpbGQubmFtZSA9IGNoaWxkLnRpdGxlO1xuXHRcdFx0Y2hpbGQubGFiZWwgPSBjaGlsZC50aXRsZTtcblx0XHRcdGNoaWxkLmZvcl91c2VyID0gXCJcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHVzZXIgPSBmcmFwcGUuc2Vzc2lvbi51c2VyO1xuXHRcdFx0Y2hpbGQubmFtZSA9IGAke2NoaWxkLnRpdGxlfS0ke3VzZXJ9YDtcblx0XHRcdGNoaWxkLmxhYmVsID0gYCR7Y2hpbGQudGl0bGV9LSR7dXNlcn1gO1xuXHRcdFx0Y2hpbGQuZm9yX3VzZXIgPSB1c2VyO1xuXHRcdH1cblxuXHRcdHRoaXMudXBkYXRlX2NhY2hlZF92YWx1ZXMob2xkX2NoaWxkLCBjaGlsZCk7XG5cdH1cblxuXHR1cGRhdGVfY2FjaGVkX3ZhbHVlcyhvbGRfaXRlbSwgbmV3X2l0ZW0sIGR1cGxpY2F0ZSwgbmV3X3BhZ2UpIHtcblx0XHRsZXQgW2Zyb21fcGFnZXMsIHRvX3BhZ2VzXSA9IG9sZF9pdGVtLnB1YmxpY1xuXHRcdFx0PyBbdGhpcy5wdWJsaWNfcGFnZXMsIHRoaXMucHJpdmF0ZV9wYWdlc11cblx0XHRcdDogW3RoaXMucHJpdmF0ZV9wYWdlcywgdGhpcy5wdWJsaWNfcGFnZXNdO1xuXG5cdFx0bGV0IG9sZF9pdGVtX2luZGV4ID0gZnJvbV9wYWdlcy5maW5kSW5kZXgoKHBhZ2UpID0+IHBhZ2UudGl0bGUgPT0gb2xkX2l0ZW0udGl0bGUpO1xuXHRcdGR1cGxpY2F0ZSAmJiBvbGRfaXRlbV9pbmRleCsrO1xuXG5cdFx0Ly8gdXBkYXRlIGZyYXBwZS53b3Jrc3BhY2VzXG5cdFx0aWYgKGZyYXBwZS53b3Jrc3BhY2VzW2ZyYXBwZS5yb3V0ZXIuc2x1ZyhvbGRfaXRlbS5uYW1lKV0gfHwgbmV3X3BhZ2UpIHtcblx0XHRcdCFkdXBsaWNhdGUgJiYgZGVsZXRlIGZyYXBwZS53b3Jrc3BhY2VzW2ZyYXBwZS5yb3V0ZXIuc2x1ZyhvbGRfaXRlbS5uYW1lKV07XG5cdFx0XHRpZiAobmV3X2l0ZW0pIHtcblx0XHRcdFx0ZnJhcHBlLndvcmtzcGFjZXNbZnJhcHBlLnJvdXRlci5zbHVnKG5ld19pdGVtLm5hbWUpXSA9IHsgdGl0bGU6IG5ld19pdGVtLnRpdGxlIH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdXBkYXRlIHBhZ2UgYmxvY2sgZGF0YVxuXHRcdGlmICgodGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzW29sZF9pdGVtLm5hbWVdKSB8fCBuZXdfcGFnZSkge1xuXHRcdFx0aWYgKG5ld19pdGVtKSB7XG5cdFx0XHRcdHRoaXMucGFnZXNbbmV3X2l0ZW0ubmFtZV0gPSB0aGlzLnBhZ2VzW29sZF9pdGVtLm5hbWVdIHx8IHt9O1xuXHRcdFx0fVxuXHRcdFx0IWR1cGxpY2F0ZSAmJiBkZWxldGUgdGhpcy5wYWdlc1tvbGRfaXRlbS5uYW1lXTtcblx0XHR9XG5cblx0XHQvLyB1cGRhdGUgcHVibGljIGFuZCBwcml2YXRlIHBhZ2VzXG5cdFx0aWYgKG5ld19pdGVtKSB7XG5cdFx0XHRsZXQgaXNfc2VjdGlvbl9jaGFuZ2VkID1cblx0XHRcdFx0b2xkX2l0ZW0ucHVibGljICE9IChuZXdfaXRlbS5pc19wdWJsaWMgfHwgbmV3X2l0ZW0ucHVibGljIHx8IDApO1xuXG5cdFx0XHRpZiAoaXNfc2VjdGlvbl9jaGFuZ2VkKSB7XG5cdFx0XHRcdCFkdXBsaWNhdGUgJiYgZnJvbV9wYWdlcy5zcGxpY2Uob2xkX2l0ZW1faW5kZXgsIDEpO1xuXHRcdFx0XHR0b19wYWdlcy5wdXNoKG5ld19pdGVtKTtcblx0XHRcdH0gZWxzZSBpZiAobmV3X3BhZ2UpIHtcblx0XHRcdFx0ZnJvbV9wYWdlcy5wdXNoKG5ld19pdGVtKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZyb21fcGFnZXMuc3BsaWNlKG9sZF9pdGVtX2luZGV4LCBkdXBsaWNhdGUgPyAwIDogMSwgbmV3X2l0ZW0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmcm9tX3BhZ2VzLnNwbGljZShvbGRfaXRlbV9pbmRleCwgMSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zaWRlYmFyX3BhZ2VzLnBhZ2VzID0gWy4uLnRoaXMucHVibGljX3BhZ2VzLCAuLi50aGlzLnByaXZhdGVfcGFnZXNdO1xuXHRcdHRoaXMuY2FjaGVkX3BhZ2VzID0gdGhpcy5zaWRlYmFyX3BhZ2VzO1xuXHR9XG5cblx0YWRkX3NldHRpbmdzX2J1dHRvbihpdGVtLCBzaWRlYmFyX2NvbnRyb2wpIHtcblx0XHR0aGlzLmRyb3Bkb3duX2xpc3QgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiBfXyhcIkVkaXRcIiksXG5cdFx0XHRcdHRpdGxlOiBfXyhcIkVkaXQgV29ya3NwYWNlXCIpLFxuXHRcdFx0XHRpY29uOiBmcmFwcGUudXRpbHMuaWNvbihcImVkaXRcIiwgXCJzbVwiKSxcblx0XHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLmVkaXRfcGFnZShpdGVtKSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiBfXyhcIkR1cGxpY2F0ZVwiKSxcblx0XHRcdFx0dGl0bGU6IF9fKFwiRHVwbGljYXRlIFdvcmtzcGFjZVwiKSxcblx0XHRcdFx0aWNvbjogZnJhcHBlLnV0aWxzLmljb24oXCJkdXBsaWNhdGVcIiwgXCJzbVwiKSxcblx0XHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLmR1cGxpY2F0ZV9wYWdlKGl0ZW0pLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6IF9fKFwiSGlkZVwiKSxcblx0XHRcdFx0dGl0bGU6IF9fKFwiSGlkZSBXb3Jrc3BhY2VcIiksXG5cdFx0XHRcdGljb246IGZyYXBwZS51dGlscy5pY29uKFwiaGlkZVwiLCBcInNtXCIpLFxuXHRcdFx0XHRhY3Rpb246IChlKSA9PiB0aGlzLmhpZGVfd29ya3NwYWNlKGl0ZW0sIGUpLFxuXHRcdFx0fSxcblx0XHRdO1xuXG5cdFx0aWYgKHRoaXMuaXNfaXRlbV9kZWxldGFibGUoaXRlbSkpIHtcblx0XHRcdHRoaXMuZHJvcGRvd25fbGlzdC5wdXNoKHtcblx0XHRcdFx0bGFiZWw6IF9fKFwiRGVsZXRlXCIpLFxuXHRcdFx0XHR0aXRsZTogX18oXCJEZWxldGUgV29ya3NwYWNlXCIpLFxuXHRcdFx0XHRpY29uOiBmcmFwcGUudXRpbHMuaWNvbihcImRlbGV0ZS1hY3RpdmVcIiwgXCJzbVwiKSxcblx0XHRcdFx0YWN0aW9uOiAoKSA9PiB0aGlzLmRlbGV0ZV9wYWdlKGl0ZW0pLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0bGV0ICRidXR0b24gPSAkKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeSBidG4teHMgc2V0dGluZy1idG4gZHJvcGRvd24tYnRuXCIgdGl0bGU9XCIke19fKFwiU2V0dGluZ1wiKX1cIj5cblx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbihcImRvdC1ob3Jpem9udGFsXCIsIFwieHNcIil9XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3M9XCJkcm9wZG93bi1saXN0IGhpZGRlblwiPjwvZGl2PlxuXHRcdGApO1xuXG5cdFx0bGV0IGRyb3Bkb3duX2l0ZW0gPSBmdW5jdGlvbiAobGFiZWwsIHRpdGxlLCBpY29uLCBhY3Rpb24pIHtcblx0XHRcdGxldCBodG1sID0gJChgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgdGl0bGU9XCIke3RpdGxlfVwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZHJvcGRvd24taXRlbS1pY29uXCI+JHtpY29ufTwvc3Bhbj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0tbGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgKTtcblxuXHRcdFx0aHRtbC5jbGljaygoZXZlbnQpID0+IHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdGFjdGlvbiAmJiBhY3Rpb24oZXZlbnQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBodG1sO1xuXHRcdH07XG5cblx0XHQkYnV0dG9uLmZpbHRlcihcIi5kcm9wZG93bi1idG5cIikuY2xpY2soKGV2ZW50KSA9PiB7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGlmICgkYnV0dG9uLmZpbHRlcihcIi5kcm9wZG93bi1saXN0LmhpZGRlblwiKS5sZW5ndGgpIHtcblx0XHRcdFx0JChcIi5kcm9wZG93bi1saXN0Om5vdCguaGlkZGVuKVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcblx0XHRcdH1cblx0XHRcdCRidXR0b24uZmlsdGVyKFwiLmRyb3Bkb3duLWxpc3RcIikudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0fSk7XG5cblx0XHRzaWRlYmFyX2NvbnRyb2wuYXBwZW5kKCRidXR0b24pO1xuXG5cdFx0dGhpcy5kcm9wZG93bl9saXN0LmZvckVhY2goKGkpID0+IHtcblx0XHRcdCRidXR0b25cblx0XHRcdFx0LmZpbHRlcihcIi5kcm9wZG93bi1saXN0XCIpXG5cdFx0XHRcdC5hcHBlbmQoZHJvcGRvd25faXRlbShpLmxhYmVsLCBpLnRpdGxlLCBpLmljb24sIGkuYWN0aW9uKSk7XG5cdFx0fSk7XG5cdH1cblxuXHRpc19pdGVtX2RlbGV0YWJsZShpdGVtKSB7XG5cdFx0Ly8gaWYgaXRlbSBpcyBwcml2YXRlXG5cdFx0Ly8gaWYgaXRlbSBpcyBwdWJsaWMgYnV0IGRvZXNuJ3QgaGF2ZSBtb2R1bGUgc2V0XG5cdFx0Ly8gaWYgaXRlbSBpcyBwdWJsaWMgYW5kIGhhcyBtb2R1bGUgc2V0IGJ1dCBkZXZlbG9wZXIgbW9kZSBpcyBvblxuXHRcdC8vIHRoZW4gaXRlbSBpcyBkZWxldGFibGVcblx0XHRpZiAoXG5cdFx0XHQhaXRlbS5wdWJsaWMgfHxcblx0XHRcdChpdGVtLnB1YmxpYyAmJiAoIWl0ZW0ubW9kdWxlIHx8IChpdGVtLm1vZHVsZSAmJiBmcmFwcGUuYm9vdC5kZXZlbG9wZXJfbW9kZSkpKVxuXHRcdClcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGRlbGV0ZV9wYWdlKHBhZ2UpIHtcblx0XHRmcmFwcGUuY29uZmlybShcblx0XHRcdF9fKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBwYWdlIHswfT9cIiwgW3BhZ2UudGl0bGUuYm9sZCgpXSksXG5cdFx0XHQoKSA9PiB7XG5cdFx0XHRcdGZyYXBwZS5jYWxsKHtcblx0XHRcdFx0XHRtZXRob2Q6IFwidGlhbmp5X29yZ2FuaXphdGlvbi50aWFuanlfb3JnYW5pemF0aW9uLnBhZ2UudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcuZGVsZXRlX3BhZ2VcIixcblx0XHRcdFx0XHRhcmdzOiB7IHBhZ2U6IHBhZ2UgfSxcblx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRsZXQgcGFnZSA9IHJlcy5tZXNzYWdlO1xuXHRcdFx0XHRcdFx0XHRsZXQgbWVzc2FnZSA9IF9fKFwiV29ya3NwYWNlIHswfSBEZWxldGVkIFN1Y2Nlc3NmdWxseVwiLCBbXG5cdFx0XHRcdFx0XHRcdFx0cGFnZS50aXRsZS5ib2xkKCksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7IG1lc3NhZ2U6IG1lc3NhZ2UsIGluZGljYXRvcjogXCJncmVlblwiIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMucGFnZS5jbGVhcl9wcmltYXJ5X2FjdGlvbigpO1xuXHRcdFx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKHBhZ2UpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZS5uYW1lID09IHBhZ2UudGl0bGUgJiZcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZS5wdWJsaWMgPT0gcGFnZS5wdWJsaWNcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy51cGRhdGVfc2VsZWN0ZWRfc2lkZWJhcih0aGlzLmN1cnJlbnRfcGFnZSwgZmFsc2UpO1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlID0ge31cblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZSA9IHRoaXMuZ2V0X3BhZ2VfdG9fc2hvdygpXG5cdFx0XHRcdFx0dGhpcy5zaG93KClcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRcdHRoaXMuc2hvd19zaWRlYmFyX2FjdGlvbnMoKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0ZHVwbGljYXRlX3BhZ2UocGFnZSkge1xuXHRcdHZhciBtZSA9IHRoaXM7XG5cdFx0bGV0IG5ld19wYWdlID0geyAuLi5wYWdlIH07XG5cdFx0aWYgKCF0aGlzLmhhc19hY2Nlc3MgJiYgbmV3X3BhZ2UucHVibGljKSB7XG5cdFx0XHRuZXdfcGFnZS5wdWJsaWMgPSAwO1xuXHRcdH1cblx0XHRsZXQgcGFyZW50X3BhZ2VzID0gdGhpcy5nZXRfcGFyZW50X3BhZ2VzKHsgcHVibGljOiBuZXdfcGFnZS5wdWJsaWMgfSk7XG5cdFx0Y29uc3QgZCA9IG5ldyBmcmFwcGUudWkuRGlhbG9nKHtcblx0XHRcdHRpdGxlOiBfXygnQ3JlYXRlIER1cGxpY2F0ZScpLFxuXHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1RpdGxlJyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnRGF0YScsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAndGl0bGUnLFxuXHRcdFx0XHRcdHJlcWQ6IDEsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1N1ZmZpeCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0RhdGEnLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ3N1ZmZpeCcsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1BhcmVudCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ1NlbGVjdCcsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAncGFyZW50Jyxcblx0XHRcdFx0XHRvcHRpb25zOiBwYXJlbnRfcGFnZXMsXG5cdFx0XHRcdFx0ZGVmYXVsdDogbmV3X3BhZ2UucGFyZW50X3BhZ2UsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oXCJEZWZhdWx0XCIpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogXCJDaGVja1wiLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogXCJkZWZhdWx0XCIsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdDb2x1bW4gQnJlYWsnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdJY29uJyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnSWNvbicsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAnaWNvbicsXG5cdFx0XHRcdFx0ZGVmYXVsdDogbmV3X3BhZ2UuaWNvbixcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0XHRwcmltYXJ5X2FjdGlvbl9sYWJlbDogX18oJ0R1cGxpY2F0ZScpLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb246IHZhbHVlcyA9PiB7XG5cdFx0XHRcdHZhbHVlcy50aXRsZSA9IGAke3ZhbHVlcy50aXRsZX0ke3ZhbHVlcy5zdWZmaXggPyBge3ske3ZhbHVlcy5zdWZmaXh9fX1gIDogJyd9YDtcblx0XHRcdFx0dmFsdWVzLmlzX3B1YmxpYyA9IDE7XG5cdFx0XHRcdGlmICghdGhpcy52YWxpZGF0ZV9wYWdlKHZhbHVlcykpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZG9jdHlwZS53b3Jrc3BhY2Uud29ya3NwYWNlLmR1cGxpY2F0ZV9wYWdlJyxcblx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRwYWdlX25hbWU6IHBhZ2UubmFtZSxcblx0XHRcdFx0XHRcdG5ld19wYWdlOiB2YWx1ZXMsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjYWxsYmFjayhyZXMpIHtcblx0XHRcdFx0XHRcdGlmIChyZXMubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0XHRcdFx0bWV0aG9kOiBcInRpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnNhdmVfb3JnYW5pemF0aW9uX3dvcmtzcGFjZVwiLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHdvcmtzcGFjZV9uYW1lOiByZXMubWVzc2FnZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3JnYW5pemF0aW9uX25hbWU6IG1lLm9yZ2FuaXphdGlvbl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogdmFsdWVzLmRlZmF1bHRcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRsZXQgbmV3X3BhZ2UgPSByZXMubWVzc2FnZTtcblx0XHRcdFx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBfXyhcblx0XHRcdFx0XHRcdFx0XHQnRHVwbGljYXRlIG9mIHswfSBuYW1lZCBhcyB7MX0gaXMgY3JlYXRlZCBzdWNjZXNzZnVsbHknLFxuXHRcdFx0XHRcdFx0XHRcdFtwYWdlLnRpdGxlLmJvbGQoKSwgbmV3X3BhZ2UudGl0bGUuYm9sZCgpXVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7IG1lc3NhZ2UsIGluZGljYXRvcjogJ2dyZWVuJyB9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRuZXdfcGFnZS50aXRsZSA9IHZhbHVlcy50aXRsZTtcblx0XHRcdFx0bmV3X3BhZ2UucHVibGljID0gdmFsdWVzLmlzX3B1YmxpYyB8fCAwO1xuXHRcdFx0XHRuZXdfcGFnZS5uYW1lID0gdmFsdWVzLnRpdGxlICsgKG5ld19wYWdlLnB1YmxpYyA/ICcnIDogYC0ke2ZyYXBwZS5zZXNzaW9uLnVzZXJ9YCk7XG5cdFx0XHRcdG5ld19wYWdlLmxhYmVsID0gbmV3X3BhZ2UubmFtZTtcblx0XHRcdFx0bmV3X3BhZ2UuaWNvbiA9IHZhbHVlcy5pY29uO1xuXHRcdFx0XHRuZXdfcGFnZS5wYXJlbnRfcGFnZSA9IHZhbHVlcy5wYXJlbnQgfHwgJyc7XG5cdFx0XHRcdG5ld19wYWdlLmZvcl91c2VyID0gbmV3X3BhZ2UucHVibGljID8gJycgOiBmcmFwcGUuc2Vzc2lvbi51c2VyO1xuXHRcdFx0XHRuZXdfcGFnZS5pc19lZGl0YWJsZSA9ICFuZXdfcGFnZS5wdWJsaWM7XG5cdFx0XHRcdG5ld19wYWdlLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0bmV3X3BhZ2Uub3JnYW5pemF0aW9uID0gdGhpcy5vcmdhbml6YXRpb25fbmFtZVxuXHRcdFx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKHBhZ2UsIG5ld19wYWdlLCB0cnVlKTtcblxuXHRcdFx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHRoaXMuY3VycmVudF9wYWdlLCBmYWxzZSk7XG5cdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlPXtcblx0XHRcdFx0XHRuYW1lOiBuZXdfcGFnZS5uYW1lLFxuXHRcdFx0XHRcdHB1YmxpYzogbmV3X3BhZ2UucHVibGljLFxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc2hvdygpXG5cblx0XHRcdFx0bWUubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRcdG1lLnNob3dfc2lkZWJhcl9hY3Rpb25zKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGQuc2hvdygpO1xuXHR9XG5cblx0aGlkZV91bmhpZGVfd29ya3NwYWNlKHBhZ2UsIGV2ZW50LCBoaWRlKSB7XG5cdFx0cGFnZS5pc19oaWRkZW4gPSBoaWRlO1xuXG5cdFx0bGV0IHNpZGViYXJfY29udHJvbCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLnNpZGViYXItaXRlbS1jb250cm9sXCIpO1xuXHRcdGxldCBzaWRlYmFyX2l0ZW1fY29udGFpbmVyID0gc2lkZWJhcl9jb250cm9sLmNsb3Nlc3QoXCIuc2lkZWJhci1pdGVtLWNvbnRhaW5lclwiKTtcblx0XHQkKHNpZGViYXJfaXRlbV9jb250YWluZXIpLmF0dHIoXCJpdGVtLWlzLWhpZGRlblwiLCBoaWRlKTtcblxuXHRcdCQoc2lkZWJhcl9jb250cm9sKS5lbXB0eSgpO1xuXHRcdHRoaXMuYWRkX3NpZGViYXJfYWN0aW9ucyhwYWdlLCAkKHNpZGViYXJfY29udHJvbCkpO1xuXG5cdFx0dGhpcy5hZGRfZHJvcF9pY29uKHBhZ2UsICQoc2lkZWJhcl9jb250cm9sKSwgJChzaWRlYmFyX2l0ZW1fY29udGFpbmVyKSk7XG5cblx0XHRsZXQgY2FjaGVkX3BhZ2UgPSB0aGlzLmNhY2hlZF9wYWdlcy5wYWdlcy5maW5kSW5kZXgoKHApID0+IHAubmFtZSA9PT0gcGFnZS5uYW1lKTtcblx0XHRpZiAoY2FjaGVkX3BhZ2UgIT09IC0xKSB7XG5cdFx0XHR0aGlzLmNhY2hlZF9wYWdlcy5wYWdlc1tjYWNoZWRfcGFnZV0uaXNfaGlkZGVuID0gaGlkZTtcblx0XHR9XG5cblx0XHRsZXQgbWV0aG9kID0gaGlkZSA/IFwiaGlkZV9wYWdlXCIgOiBcInVuaGlkZV9wYWdlXCI7XG5cdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0bWV0aG9kOiBcImZyYXBwZS5kZXNrLmRvY3R5cGUud29ya3NwYWNlLndvcmtzcGFjZS5cIiArIG1ldGhvZCxcblx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0cGFnZV9uYW1lOiBwYWdlLm5hbWUsXG5cdFx0XHR9LFxuXHRcdFx0Y2FsbGJhY2s6IChyKSA9PiB7XG5cdFx0XHRcdGlmICghci5tZXNzYWdlKSByZXR1cm47XG5cblx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBoaWRlID8gXCJ7MH0gaXMgaGlkZGVuIHN1Y2Nlc3NmdWxseVwiIDogXCJ7MH0gaXMgdW5oaWRkZW4gc3VjY2Vzc2Z1bGx5XCI7XG5cdFx0XHRcdG1lc3NhZ2UgPSBfXyhtZXNzYWdlLCBbcGFnZS50aXRsZS5ib2xkKCldKTtcblx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoeyBtZXNzYWdlOiBtZXNzYWdlLCBpbmRpY2F0b3I6IFwiZ3JlZW5cIiB9KTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRoaWRlX3dvcmtzcGFjZShwYWdlLCBldmVudCkge1xuXHRcdHRoaXMuaGlkZV91bmhpZGVfd29ya3NwYWNlKHBhZ2UsIGV2ZW50LCAxKTtcblx0fVxuXG5cdHVuaGlkZV93b3Jrc3BhY2UocGFnZSwgZXZlbnQpIHtcblx0XHR0aGlzLmhpZGVfdW5oaWRlX3dvcmtzcGFjZShwYWdlLCBldmVudCwgMCk7XG5cdH1cblxuXHRtYWtlX3NpZGViYXJfc29ydGFibGUoKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHQkKFwiLm5lc3RlZC1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRuZXcgU29ydGFibGUodGhpcywge1xuXHRcdFx0XHRoYW5kbGU6IFwiLmRyYWctaGFuZGxlXCIsXG5cdFx0XHRcdGRyYWdnYWJsZTogXCIuc2lkZWJhci1pdGVtLWNvbnRhaW5lci5pcy1kcmFnZ2FibGVcIixcblx0XHRcdFx0Z3JvdXA6IFwibmVzdGVkXCIsXG5cdFx0XHRcdGFuaW1hdGlvbjogMTUwLFxuXHRcdFx0XHRmYWxsYmFja09uQm9keTogdHJ1ZSxcblx0XHRcdFx0c3dhcFRocmVzaG9sZDogMC42NSxcblx0XHRcdFx0b25FbmQ6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdFx0XHRsZXQgaXNfcHVibGljID0gJChldnQuaXRlbSkuYXR0cihcIml0ZW0tcHVibGljXCIpID09IFwiMVwiO1xuXHRcdFx0XHRcdG1lLnByZXBhcmVfc29ydGVkX3NpZGViYXIoaXNfcHVibGljKTtcblx0XHRcdFx0XHRtZS51cGRhdGVfc29ydGVkX3NpZGViYXIoKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJlcGFyZV9zb3J0ZWRfc2lkZWJhcihpc19wdWJsaWMpIHtcblx0XHRsZXQgcGFnZXMgPSBpc19wdWJsaWMgPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblx0XHRpZiAoaXNfcHVibGljKSB7XG5cdFx0XHR0aGlzLnNvcnRlZF9wdWJsaWNfaXRlbXMgPSB0aGlzLnNvcnRfc2lkZWJhcihcblx0XHRcdFx0dGhpcy5zaWRlYmFyLmZpbmQoXCIuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uXCIpLmxhc3QoKSxcblx0XHRcdFx0cGFnZXNcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMgPSB0aGlzLnNvcnRfc2lkZWJhcihcblx0XHRcdFx0dGhpcy5zaWRlYmFyLmZpbmQoXCIuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uXCIpLmZpcnN0KCksXG5cdFx0XHRcdHBhZ2VzXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMuc2lkZWJhcl9wYWdlcy5wYWdlcyA9IFsuLi50aGlzLnB1YmxpY19wYWdlcywgLi4udGhpcy5wcml2YXRlX3BhZ2VzXTtcblx0XHR0aGlzLmNhY2hlZF9wYWdlcyA9IHRoaXMuc2lkZWJhcl9wYWdlcztcblx0fVxuXG5cdHNvcnRfc2lkZWJhcigkc2lkZWJhcl9zZWN0aW9uLCBwYWdlcykge1xuXHRcdGxldCBzb3J0ZWRfaXRlbXMgPSBbXTtcblx0XHRBcnJheS5mcm9tKCRzaWRlYmFyX3NlY3Rpb24uZmluZChcIi5zaWRlYmFyLWl0ZW0tY29udGFpbmVyXCIpKS5mb3JFYWNoKChwYWdlLCBpKSA9PiB7XG5cdFx0XHRsZXQgcGFyZW50X3BhZ2UgPSBcIlwiO1xuXG5cdFx0XHRpZiAocGFnZS5jbG9zZXN0KFwiLm5lc3RlZC1jb250YWluZXJcIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2lkZWJhci1jaGlsZC1pdGVtXCIpKSB7XG5cdFx0XHRcdHBhcmVudF9wYWdlID0gcGFnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuYXR0cmlidXRlc1tcIml0ZW0tbmFtZVwiXS52YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0c29ydGVkX2l0ZW1zLnB1c2goe1xuXHRcdFx0XHR0aXRsZTogcGFnZS5hdHRyaWJ1dGVzW1wiaXRlbS1uYW1lXCJdLnZhbHVlLFxuXHRcdFx0XHRwYXJlbnRfcGFnZTogcGFyZW50X3BhZ2UsXG5cdFx0XHRcdHB1YmxpYzogcGFnZS5hdHRyaWJ1dGVzW1wiaXRlbS1wdWJsaWNcIl0udmFsdWUsXG5cdFx0XHR9KTtcblxuXHRcdFx0bGV0ICRkcm9wX2ljb24gPSAkKHBhZ2UpLmZpbmQoXCIuc2lkZWJhci1pdGVtLWNvbnRyb2wgLmRyb3AtaWNvblwiKS5maXJzdCgpO1xuXHRcdFx0aWYgKCQocGFnZSkuZmluZChcIi5zaWRlYmFyLWNoaWxkLWl0ZW0gPiAqXCIpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHRcdCRkcm9wX2ljb24ucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZHJvcF9pY29uLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZnJvbV9pbmRleCA9IHBhZ2VzLmZpbmRJbmRleCgocCkgPT4gcC50aXRsZSA9PSBwYWdlLmF0dHJpYnV0ZXNbXCJpdGVtLW5hbWVcIl0udmFsdWUpO1xuXHRcdFx0bGV0IGVsZW1lbnQgPSBwYWdlc1tmcm9tX2luZGV4XTtcblx0XHRcdGVsZW1lbnQucGFyZW50X3BhZ2UgPSBwYXJlbnRfcGFnZTtcblx0XHRcdGlmIChmcm9tX2luZGV4ICE9IGkpIHtcblx0XHRcdFx0cGFnZXMuc3BsaWNlKGZyb21faW5kZXgsIDEpO1xuXHRcdFx0XHRwYWdlcy5zcGxpY2UoaSwgMCwgZWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHNvcnRlZF9pdGVtcztcblx0fVxuXG5cdHVwZGF0ZV9zb3J0ZWRfc2lkZWJhcigpIHtcblx0XHRpZiAodGhpcy5zb3J0ZWRfcHVibGljX2l0ZW1zIHx8IHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMpIHtcblx0XHRcdGZyYXBwZS5jYWxsKHtcblx0XHRcdFx0bWV0aG9kOiBcImZyYXBwZS5kZXNrLmRvY3R5cGUud29ya3NwYWNlLndvcmtzcGFjZS5zb3J0X3BhZ2VzXCIsXG5cdFx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0XHRzYl9wdWJsaWNfaXRlbXM6IHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyxcblx0XHRcdFx0XHRzYl9wcml2YXRlX2l0ZW1zOiB0aGlzLnNvcnRlZF9wcml2YXRlX2l0ZW1zLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdGlmIChyZXMubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBgU2lkZWJhciBVcGRhdGVkIFN1Y2Nlc3NmdWxseWA7XG5cdFx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7IG1lc3NhZ2U6IF9fKG1lc3NhZ2UpLCBpbmRpY2F0b3I6IFwiZ3JlZW5cIiB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRtYWtlX2Jsb2Nrc19zb3J0YWJsZSgpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRoaXMucGFnZV9zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShcblx0XHRcdHRoaXMucGFnZS5tYWluLmZpbmQoXCIuY29kZXgtZWRpdG9yX19yZWRhY3RvclwiKS5nZXQoMCksXG5cdFx0XHR7XG5cdFx0XHRcdGhhbmRsZTogXCIuZHJhZy1oYW5kbGVcIixcblx0XHRcdFx0ZHJhZ2dhYmxlOiBcIi5jZS1ibG9ja1wiLFxuXHRcdFx0XHRhbmltYXRpb246IDE1MCxcblx0XHRcdFx0b25FbmQ6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdFx0XHRtZS5lZGl0b3IuYmxvY2tzLm1vdmUoZXZ0Lm5ld0luZGV4LCBldnQub2xkSW5kZXgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXREYXRhOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly9EbyBOb3RoaW5nXG5cdFx0XHRcdH0sXG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdGluaXRpYWxpemVfbmV3X3BhZ2UoKSB7XG5cdFx0dmFyIG1lID0gdGhpcztcblx0XHR0aGlzLmdldF9wYXJlbnRfcGFnZXMoKTtcblx0XHRjb25zdCBkID0gbmV3IGZyYXBwZS51aS5EaWFsb2coe1xuXHRcdFx0dGl0bGU6IF9fKFwiTmV3IFdvcmtzcGFjZVwiKSxcblx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKFwiVGl0bGVcIiksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiBcIkRhdGFcIixcblx0XHRcdFx0XHRmaWVsZG5hbWU6IFwidGl0bGVcIixcblx0XHRcdFx0XHRyZXFkOiAxLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdTdWZmaXgnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdEYXRhJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdzdWZmaXgnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKFwiUGFyZW50XCIpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogXCJTZWxlY3RcIixcblx0XHRcdFx0XHRmaWVsZG5hbWU6IFwicGFyZW50XCIsXG5cdFx0XHRcdFx0b3B0aW9uczogdGhpcy5wdWJsaWNfcGFyZW50X3BhZ2VzLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKFwiRGVmYXVsdFwiKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6IFwiQ2hlY2tcIixcblx0XHRcdFx0XHRmaWVsZG5hbWU6IFwiZGVmYXVsdFwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGR0eXBlOiBcIkNvbHVtbiBCcmVha1wiLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKFwiSWNvblwiKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6IFwiSWNvblwiLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogXCJpY29uXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKFwiQ3JlYXRlXCIpLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb246ICh2YWx1ZXMpID0+IHtcblx0XHRcdFx0dmFsdWVzLnRpdGxlID0gZnJhcHBlLnV0aWxzLmVzY2FwZV9odG1sKGAke3ZhbHVlcy50aXRsZX0ke3ZhbHVlcy5zdWZmaXggPyBge3ske3ZhbHVlcy5zdWZmaXh9fX1gIDogJyd9YCk7XG5cdFx0XHRcdHZhbHVlcy5pc19wdWJsaWMgPSAxO1xuXHRcdFx0XHRpZiAoIXRoaXMudmFsaWRhdGVfcGFnZSh2YWx1ZXMpKSByZXR1cm47XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHR0aGlzLmluaXRpYWxpemVfZWRpdG9yanNfdW5kbygpO1xuXHRcdFx0XHR0aGlzLnNldHVwX2N1c3RvbWl6YXRpb25fYnV0dG9ucyh7IGlzX2VkaXRhYmxlOiB0cnVlIH0pO1xuXG5cdFx0XHRcdGxldCBuYW1lID0gdmFsdWVzLnRpdGxlICsgKHZhbHVlcy5pc19wdWJsaWMgPyBcIlwiIDogXCItXCIgKyBmcmFwcGUuc2Vzc2lvbi51c2VyKTtcblx0XHRcdFx0bGV0IGJsb2NrcyA9IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImhlYWRlclwiLFxuXHRcdFx0XHRcdFx0ZGF0YTogeyB0ZXh0OiB2YWx1ZXMudGl0bGUgfSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRdO1xuXG5cdFx0XHRcdGxldCBuZXdfcGFnZSA9IHtcblx0XHRcdFx0XHRjb250ZW50OiBKU09OLnN0cmluZ2lmeShibG9ja3MpLFxuXHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0bGFiZWw6IG5hbWUsXG5cdFx0XHRcdFx0dGl0bGU6IHZhbHVlcy50aXRsZSxcblx0XHRcdFx0XHRwdWJsaWM6IHZhbHVlcy5pc19wdWJsaWMgfHwgMCxcblx0XHRcdFx0XHRmb3JfdXNlcjogdmFsdWVzLmlzX3B1YmxpYyA/IFwiXCIgOiBmcmFwcGUuc2Vzc2lvbi51c2VyLFxuXHRcdFx0XHRcdGljb246IHZhbHVlcy5pY29uLFxuXHRcdFx0XHRcdHBhcmVudF9wYWdlOiB2YWx1ZXMucGFyZW50IHx8IFwiXCIsXG5cdFx0XHRcdFx0aXNfZWRpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0c2VsZWN0ZWQ6IHRydWUsXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnN0IG1lID0gdGhpc1xuXHRcdFx0XHR0aGlzLmVkaXRvclxuXHRcdFx0XHRcdC5yZW5kZXIoe1xuXHRcdFx0XHRcdFx0YmxvY2tzOiBibG9ja3MsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi5yZWFkT25seSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmlzX3JlYWRfb25seSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5yZWFkT25seS50b2dnbGUoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdFx0XHRtZXRob2Q6IFwiZnJhcHBlLmRlc2suZG9jdHlwZS53b3Jrc3BhY2Uud29ya3NwYWNlLm5ld19wYWdlXCIsXG5cdFx0XHRcdFx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRuZXdfcGFnZTogbmV3X3BhZ2UsXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1ldGhvZDogXCJ0aWFuanlfb3JnYW5pemF0aW9uLnRpYW5qeV9vcmdhbml6YXRpb24ucGFnZS50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy5zYXZlX29yZ2FuaXphdGlvbl93b3Jrc3BhY2VcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdvcmtzcGFjZV9uYW1lOiByZXMubWVzc2FnZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9yZ2FuaXphdGlvbl9uYW1lOiBtZS5vcmdhbml6YXRpb25fbmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OiB2YWx1ZXMuZGVmYXVsdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHRcdGxldCBtZXNzYWdlID0gX18oXCJXb3Jrc3BhY2UgezB9IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5XCIsIFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3X3BhZ2UudGl0bGUuYm9sZCgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGluZGljYXRvcjogXCJncmVlblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRuZXdfcGFnZS5vcmdhbml6YXRpb24gPSB0aGlzLm9yZ2FuaXphdGlvbl9uYW1lXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKG5ld19wYWdlLCBuZXdfcGFnZSwgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdHRoaXMubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRcdFx0XHR0aGlzLnNob3dfc2lkZWJhcl9hY3Rpb25zKCk7XG5cblx0XHRcdFx0XHRcdC8vIFRPRE8gXHU2NjNFXHU3OTNBXHU2NUIwXHU1REU1XHU0RjVDXHU1MzNBXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHRoaXMuY3VycmVudF9wYWdlLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZT17XG5cdFx0XHRcdFx0XHRcdG5hbWU6IG5ld19wYWdlLnRpdGxlLFxuXHRcdFx0XHRcdFx0XHRwdWJsaWM6IG5ld19wYWdlLnB1YmxpYyxcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuc2hvdygpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGQuc2hvdygpO1xuXHR9XG5cblx0dmFsaWRhdGVfcGFnZShuZXdfcGFnZSwgb2xkX3BhZ2UpIHtcblx0XHRsZXQgbWVzc2FnZSA9IFwiXCI7XG5cdFx0bGV0IFtmcm9tX3BhZ2VzLCB0b19wYWdlc10gPSBuZXdfcGFnZS5pc19wdWJsaWNcblx0XHRcdD8gW3RoaXMucHJpdmF0ZV9wYWdlcywgdGhpcy5wdWJsaWNfcGFnZXNdXG5cdFx0XHQ6IFt0aGlzLnB1YmxpY19wYWdlcywgdGhpcy5wcml2YXRlX3BhZ2VzXTtcblxuXHRcdGxldCBzZWN0aW9uID0gdGhpcy5zaWRlYmFyX2NhdGVnb3JpZXNbbmV3X3BhZ2UuaXNfcHVibGljXTtcblxuXHRcdGlmICh0b19wYWdlcyAmJiB0b19wYWdlcy5maWx0ZXIoKHApID0+IHAudGl0bGUgPT0gbmV3X3BhZ2UudGl0bGUpWzBdKSB7XG5cdFx0XHRtZXNzYWdlID0gX18oXCJQYWdlIHdpdGggdGl0bGUgezB9IGFscmVhZHkgZXhpc3QuXCIsIFtuZXdfcGFnZS50aXRsZS5ib2xkKCldKTtcblx0XHR9XG5cblx0XHRpZiAoZnJhcHBlLnJvdXRlci5kb2N0eXBlX3JvdXRlX2V4aXN0KGZyYXBwZS5yb3V0ZXIuc2x1ZyhuZXdfcGFnZS50aXRsZSkpKSB7XG5cdFx0XHRtZXNzYWdlID0gX18oXCJEb2N0eXBlIHdpdGggc2FtZSByb3V0ZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgY2hvb3NlIGRpZmZlcmVudCB0aXRsZS5cIik7XG5cdFx0fVxuXG5cdFx0bGV0IGNoaWxkX3BhZ2VzID0gb2xkX3BhZ2UgJiYgZnJvbV9wYWdlcy5maWx0ZXIoKHApID0+IHAucGFyZW50X3BhZ2UgPT0gb2xkX3BhZ2UudGl0bGUpO1xuXHRcdGlmIChjaGlsZF9wYWdlcykge1xuXHRcdFx0Y2hpbGRfcGFnZXMuZXZlcnkoKGNoaWxkX3BhZ2UpID0+IHtcblx0XHRcdFx0aWYgKHRvX3BhZ2VzICYmIHRvX3BhZ2VzLmZpbmQoKHApID0+IHAudGl0bGUgPT0gY2hpbGRfcGFnZS50aXRsZSkpIHtcblx0XHRcdFx0XHRtZXNzYWdlID0gX18oXG5cdFx0XHRcdFx0XHRcIk9uZSBvZiB0aGUgY2hpbGQgcGFnZSB3aXRoIG5hbWUgezB9IGFscmVhZHkgZXhpc3QgaW4gezF9IFNlY3Rpb24uIFBsZWFzZSB1cGRhdGUgdGhlIG5hbWUgb2YgdGhlIGNoaWxkIHBhZ2UgZmlyc3QgYmVmb3JlIG1vdmluZ1wiLFxuXHRcdFx0XHRcdFx0W2NoaWxkX3BhZ2UudGl0bGUuYm9sZCgpLCBzZWN0aW9uLmJvbGQoKV1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGN1cl9kaWFsb2cuaGlkZSgpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHRmcmFwcGUudGhyb3coX18obWVzc2FnZSkpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGFkZF9wYWdlX3RvX3NpZGViYXIocGFnZSkge1xuXHRcdGxldCAkc2lkZWJhciA9ICQoXCIuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uXCIpO1xuXHRcdGxldCBpdGVtID0geyAuLi5wYWdlIH07XG5cblx0XHRpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRpdGVtLmlzX2VkaXRhYmxlID0gdHJ1ZTtcblxuXHRcdGxldCAkc2lkZWJhcl9pdGVtID0gdGhpcy5zaWRlYmFyX2l0ZW1fY29udGFpbmVyKGl0ZW0pO1xuXG5cdFx0dGhpcy5hZGRfc2lkZWJhcl9hY3Rpb25zKGl0ZW0sICRzaWRlYmFyX2l0ZW0uZmluZChcIi5zaWRlYmFyLWl0ZW0tY29udHJvbFwiKSwgdHJ1ZSk7XG5cblx0XHQkc2lkZWJhcl9pdGVtLmZpbmQoXCIuc2lkZWJhci1pdGVtLWNvbnRyb2wgLmRyYWctaGFuZGxlXCIpLmNzcyhcIm1hcmdpbi1yaWdodFwiLCBcIjhweFwiKTtcblxuXHRcdGxldCBzaWRlYmFyX3NlY3Rpb24gPSBpdGVtLmlzX3B1YmxpYyA/ICRzaWRlYmFyWzFdIDogJHNpZGViYXJbMF07XG5cblx0XHRpZiAoIWl0ZW0ucGFyZW50KSB7XG5cdFx0XHQhaXRlbS5pc19wdWJsaWMgJiYgJHNpZGViYXIuZmlyc3QoKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblx0XHRcdCRzaWRlYmFyX2l0ZW0uYXBwZW5kVG8oc2lkZWJhcl9zZWN0aW9uKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0ICRpdGVtX2NvbnRhaW5lciA9ICQoc2lkZWJhcl9zZWN0aW9uKS5maW5kKGBbaXRlbS1uYW1lPVwiJHtpdGVtLnBhcmVudH1cIl1gKTtcblx0XHRcdGxldCAkY2hpbGRfc2VjdGlvbiA9ICRpdGVtX2NvbnRhaW5lci5maW5kKFwiLnNpZGViYXItY2hpbGQtaXRlbVwiKTtcblx0XHRcdGxldCAkZHJvcF9pY29uID0gJGl0ZW1fY29udGFpbmVyLmZpbmQoXCIuZHJvcC1pY29uXCIpO1xuXHRcdFx0aWYgKCEkY2hpbGRfc2VjdGlvblswXSkge1xuXHRcdFx0XHQkY2hpbGRfc2VjdGlvbiA9ICQoXG5cdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJzaWRlYmFyLWNoaWxkLWl0ZW0gaGlkZGVuIG5lc3RlZC1jb250YWluZXJcIj48L2Rpdj5gXG5cdFx0XHRcdCkuYXBwZW5kVG8oJGl0ZW1fY29udGFpbmVyKTtcblx0XHRcdFx0JGRyb3BfaWNvbi50b2dnbGVDbGFzcyhcImhpZGRlblwiKTtcblx0XHRcdH1cblx0XHRcdCRzaWRlYmFyX2l0ZW0uYXBwZW5kVG8oJGNoaWxkX3NlY3Rpb24pO1xuXHRcdFx0JGNoaWxkX3NlY3Rpb24ucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0XHQkaXRlbV9jb250YWluZXIuZmluZChcIi5kcm9wLWljb24uaGlkZGVuXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHRcdFx0JGl0ZW1fY29udGFpbmVyLmZpbmQoXCIuZHJvcC1pY29uIHVzZVwiKS5hdHRyKFwiaHJlZlwiLCBcIiNpY29uLXNtYWxsLXVwXCIpO1xuXHRcdH1cblxuXHRcdGxldCBzZWN0aW9uID0gaXRlbS5pc19wdWJsaWMgPyBcInB1YmxpY1wiIDogXCJwcml2YXRlXCI7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5zaWRlYmFyX2l0ZW1zICYmXG5cdFx0XHR0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl0gJiZcblx0XHRcdCF0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl1baXRlbS50aXRsZV1cblx0XHQpIHtcblx0XHRcdHRoaXMuc2lkZWJhcl9pdGVtc1tzZWN0aW9uXVtpdGVtLnRpdGxlXSA9ICRzaWRlYmFyX2l0ZW07XG5cdFx0fVxuXHR9XG5cblx0aW5pdGlhbGl6ZV9lZGl0b3JqcyhibG9ja3MpIHtcblx0XHR0aGlzLnRvb2xzID0ge1xuXHRcdFx0aGVhZGVyOiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrc1tcImhlYWRlclwiXSxcblx0XHRcdFx0aW5saW5lVG9vbGJhcjogW1wiSGVhZGVyU2l6ZVwiLCBcImJvbGRcIiwgXCJpdGFsaWNcIiwgXCJsaW5rXCJdLFxuXHRcdFx0XHRjb25maWc6IHtcblx0XHRcdFx0XHRkZWZhdWx0X3NpemU6IDQsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0cGFyYWdyYXBoOiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrc1tcInBhcmFncmFwaFwiXSxcblx0XHRcdFx0aW5saW5lVG9vbGJhcjogW1wiSGVhZGVyU2l6ZVwiLCBcImJvbGRcIiwgXCJpdGFsaWNcIiwgXCJsaW5rXCJdLFxuXHRcdFx0XHRjb25maWc6IHtcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogX18oXCJDaG9vc2UgYSBibG9jayBvciBjb250aW51ZSB0eXBpbmdcIiksXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y2hhcnQ6IHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuYmxvY2tzW1wiY2hhcnRcIl0sXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdHBhZ2VfZGF0YTogdGhpcy5wYWdlX2RhdGEgfHwgW10sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y2FyZDoge1xuXHRcdFx0XHRjbGFzczogdGhpcy5ibG9ja3NbXCJjYXJkXCJdLFxuXHRcdFx0XHRjb25maWc6IHtcblx0XHRcdFx0XHRwYWdlX2RhdGE6IHRoaXMucGFnZV9kYXRhIHx8IFtdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdHNob3J0Y3V0OiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrc1tcInNob3J0Y3V0XCJdLFxuXHRcdFx0XHRjb25maWc6IHtcblx0XHRcdFx0XHRwYWdlX2RhdGE6IHRoaXMucGFnZV9kYXRhIHx8IFtdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdG9uYm9hcmRpbmc6IHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuYmxvY2tzW1wib25ib2FyZGluZ1wiXSxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRxdWlja19saXN0OiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrc1tcInF1aWNrX2xpc3RcIl0sXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdHBhZ2VfZGF0YTogdGhpcy5wYWdlX2RhdGEgfHwgW10sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0bnVtYmVyX2NhcmQ6IHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuYmxvY2tzW1wibnVtYmVyX2NhcmRcIl0sXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdHBhZ2VfZGF0YTogdGhpcy5wYWdlX2RhdGEgfHwgW10sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y3VzdG9tX2Jsb2NrOiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrc1tcImN1c3RvbV9ibG9ja1wiXSxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRzcGFjZXI6IHRoaXMuYmxvY2tzW1wic3BhY2VyXCJdLFxuXHRcdFx0SGVhZGVyU2l6ZTogZnJhcHBlLndvcmtzcGFjZV9ibG9jay50dW5lc1tcImhlYWRlcl9zaXplXCJdLFxuXHRcdH07XG5cdFx0Zm9yIChjb25zdCBbaywgY10gb2YgZnJhcHBlLmd1aWd1LmJsb2Nrcykge1xuXHRcdFx0dGhpcy50b29sc1trXSA9IGM7XG5cdFx0fVxuXHRcdHRoaXMuZWRpdG9yID0gbmV3IEVkaXRvckpTKHtcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0YmxvY2tzOiBibG9ja3MgfHwgW10sXG5cdFx0XHR9LFxuXHRcdFx0dG9vbHM6IHRoaXMudG9vbHMsXG5cdFx0XHRhdXRvZm9jdXM6IGZhbHNlLFxuXHRcdFx0cmVhZE9ubHk6IHRydWUsXG5cdFx0XHRsb2dMZXZlbDogXCJFUlJPUlwiLFxuXHRcdH0pO1xuXHR9XG5cblx0c2F2ZV9wYWdlKHBhZ2UpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRoaXMuY3VycmVudF9wYWdlID0geyBuYW1lOiBwYWdlLnRpdGxlLCBwdWJsaWM6IHBhZ2UucHVibGljIH07XG5cblx0XHRyZXR1cm4gdGhpcy5lZGl0b3Jcblx0XHRcdC5zYXZlKClcblx0XHRcdC50aGVuKChvdXRwdXREYXRhKSA9PiB7XG5cdFx0XHRcdGxldCBuZXdfd2lkZ2V0cyA9IHt9O1xuXG5cdFx0XHRcdG91dHB1dERhdGEuYmxvY2tzLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRpZiAoaXRlbS5kYXRhLm5ldykge1xuXHRcdFx0XHRcdFx0aWYgKCFuZXdfd2lkZ2V0c1tpdGVtLnR5cGVdKSB7XG5cdFx0XHRcdFx0XHRcdG5ld193aWRnZXRzW2l0ZW0udHlwZV0gPSBbXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld193aWRnZXRzW2l0ZW0udHlwZV0ucHVzaChpdGVtLmRhdGEubmV3KTtcblx0XHRcdFx0XHRcdGRlbGV0ZSBpdGVtLmRhdGFbXCJuZXdcIl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRsZXQgYmxvY2tzID0gb3V0cHV0RGF0YS5ibG9ja3MuZmlsdGVyKFxuXHRcdFx0XHRcdChpdGVtKSA9PlxuXHRcdFx0XHRcdFx0aXRlbS50eXBlICE9IFwiY2FyZFwiIHx8XG5cdFx0XHRcdFx0XHQoaXRlbS5kYXRhLmNhcmRfbmFtZSAhPT0gXCJDdXN0b20gRG9jdW1lbnRzXCIgJiZcblx0XHRcdFx0XHRcdFx0aXRlbS5kYXRhLmNhcmRfbmFtZSAhPT0gXCJDdXN0b20gUmVwb3J0c1wiKVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmNvbnRlbnQgPT0gSlNPTi5zdHJpbmdpZnkoYmxvY2tzKSAmJlxuXHRcdFx0XHRcdE9iamVjdC5rZXlzKG5ld193aWRnZXRzKS5sZW5ndGggPT09IDBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR1cF9jdXN0b21pemF0aW9uX2J1dHRvbnMocGFnZSk7XG5cdFx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogX18oXCJObyBjaGFuZ2VzIG1hZGUgb24gdGhlIHBhZ2VcIiksXG5cdFx0XHRcdFx0XHRpbmRpY2F0b3I6IFwid2FybmluZ1wiLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuY3JlYXRlX3BhZ2Vfc2tlbGV0b24oKTtcblx0XHRcdFx0cGFnZS5jb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoYmxvY2tzKTtcblx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdG1ldGhvZDogXCJmcmFwcGUuZGVzay5kb2N0eXBlLndvcmtzcGFjZS53b3Jrc3BhY2Uuc2F2ZV9wYWdlXCIsXG5cdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0dGl0bGU6IHBhZ2UudGl0bGUsXG5cdFx0XHRcdFx0XHRwdWJsaWM6IHBhZ2UucHVibGljIHx8IDAsXG5cdFx0XHRcdFx0XHRuZXdfd2lkZ2V0czogbmV3X3dpZGdldHMsXG5cdFx0XHRcdFx0XHRibG9ja3M6IEpTT04uc3RyaW5naWZ5KGJsb2NrcyksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdG1lLmRpc2NhcmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRtZS51cGRhdGVfY2FjaGVkX3ZhbHVlcyhwYWdlLCBwYWdlKTtcblx0XHRcdFx0XHRcdFx0bWUucmVsb2FkKCk7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHtcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBfXyhcIlBhZ2UgU2F2ZWQgU3VjY2Vzc2Z1bGx5XCIpLFxuXHRcdFx0XHRcdFx0XHRcdGluZGljYXRvcjogXCJncmVlblwiLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRlcnJvcjtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ1NhdmluZyBmYWlsZWQ6ICcsIGVycm9yKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0cmVsb2FkKCkge1xuXHRcdHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyA9IFtdO1xuXHRcdHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMgPSBbXTtcblx0XHR0aGlzLnNldHVwX3BhZ2VzKHRydWUpO1xuXHRcdHRoaXMuZGlzY2FyZCA9IGZhbHNlO1xuXHRcdHRoaXMudW5kby5yZWFkT25seSA9IHRydWU7XG5cdH1cblxuXHRjcmVhdGVfcGFnZV9za2VsZXRvbigpIHtcblx0XHRpZiAodGhpcy5ib2R5LmZpbmQoXCIud29ya3NwYWNlLXNrZWxldG9uXCIpLmxlbmd0aCkgcmV0dXJuO1xuXG5cdFx0dGhpcy5ib2R5LnByZXBlbmQoZnJhcHBlLnJlbmRlcl90ZW1wbGF0ZShcIndvcmtzcGFjZV9sb2FkaW5nX3NrZWxldG9uXCIpKTtcblx0XHR0aGlzLmJvZHkuZmluZChcIi5jb2RleC1lZGl0b3JcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cdH1cblxuXHRyZW1vdmVfcGFnZV9za2VsZXRvbigpIHtcblx0XHR0aGlzLmJvZHkuZmluZChcIi5jb2RleC1lZGl0b3JcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0dGhpcy5ib2R5LmZpbmQoXCIud29ya3NwYWNlLXNrZWxldG9uXCIpLnJlbW92ZSgpO1xuXHR9XG5cblx0Y3JlYXRlX3NpZGViYXJfc2tlbGV0b24oKSB7XG5cdFx0aWYgKCQoXCIud29ya3NwYWNlLXNpZGViYXItc2tlbGV0b25cIikubGVuZ3RoKSByZXR1cm47XG5cblx0XHQkKGZyYXBwZS5yZW5kZXJfdGVtcGxhdGUoXCJ3b3Jrc3BhY2Vfc2lkZWJhcl9sb2FkaW5nX3NrZWxldG9uXCIpKS5pbnNlcnRCZWZvcmUodGhpcy5zaWRlYmFyKTtcblx0XHR0aGlzLnNpZGViYXIuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cdH1cblxuXHRyZW1vdmVfc2lkZWJhcl9za2VsZXRvbigpIHtcblx0XHR0aGlzLnNpZGViYXIucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0JChcIi53b3Jrc3BhY2Utc2lkZWJhci1za2VsZXRvblwiKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJlZ2lzdGVyX2F3ZXNvbWViYXJfc2hvcnRjdXQoKSB7XG5cdFx0XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLnNwbGl0KFwiXCIpLmZvckVhY2goKGxldHRlcikgPT4ge1xuXHRcdFx0Y29uc3QgZGVmYXVsdF9zaG9ydGN1dCA9IHtcblx0XHRcdFx0YWN0aW9uOiAoZSkgPT4ge1xuXHRcdFx0XHRcdCQoXCIjbmF2YmFyLXNlYXJjaFwiKS5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gZG9uJ3QgcHJldmVudCBkZWZhdWx0ID0gdHlwZSB0aGUgbGV0dGVyIGluIGF3ZXNvbWViYXJcblx0XHRcdFx0fSxcblx0XHRcdFx0cGFnZTogdGhpcy5wYWdlLFxuXHRcdFx0fTtcblx0XHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7IHNob3J0Y3V0OiBsZXR0ZXIsIC4uLmRlZmF1bHRfc2hvcnRjdXQgfSk7XG5cdFx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoeyBzaG9ydGN1dDogYHNoaWZ0KyR7bGV0dGVyfWAsIC4uLmRlZmF1bHRfc2hvcnRjdXQgfSk7XG5cdFx0fSk7XG5cdH1cbn07XG4iLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1dvcmtzcGFjZS52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MFwiO2V4cG9ydCBkZWZhdWx0ICgpID0+e30iLCAiaW1wb3J0IHsgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LTg5YTAyN2YzXCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7XG4gIHJlZjogXCJ3cmFwcGVyUmVmXCIsXG4gIGNsYXNzOiBcImNvbnRlbnQgcGFnZS1jb250YWluZXJcIixcbiAgaWQ6IFwicGFnZS1Xb3Jrc3BhY2VzXCIsXG4gIFwiZGF0YS1wYWdlLXJvdXRlXCI6IFwiV29ya3NwYWNlc1wiXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1dvcmtzcGFjZS52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQgc3R5bGUwIGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXN0eWxlJmluZGV4PTBcIjtzdHlsZTAoc2NyaXB0KTtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1dvcmtzcGFjZS52dWVcIjtzY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtODlhMDI3ZjNcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiBjbGFzcz1cIm1lbWJlclwiPlx0XG5cdFx0PGRpdiBjbGFzcz1cImJ0bi1jb250YWluZXJcIj5cblx0XHRcdDxFbEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImNyZWF0ZU1lbWJlclwiPlx1NjVCMFx1NTg5RVx1NEVCQVx1NTQ1ODwvRWxCdXR0b24+XG5cdFx0PC9kaXY+XG5cdFx0PGVsLXRhYmxlIDpkYXRhPVwibWVtYmVyTGlzdFwiIDpib3JkZXI9XCJ0cnVlXCIgc3R5bGU9XCJ3aWR0aDogMTAwJVwiIGhlaWdodD1cIjEwMCVcIj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gZml4ZWQgcHJvcD1cInVzZXJfZG9jLmZ1bGxfbmFtZVwiIGxhYmVsPVwiXHU3NTI4XHU2MjM3XCIgd2lkdGg9XCIxODBcIiAvPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwicm9sZVwiIGxhYmVsPVwiXHU4OUQyXHU4MjcyXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdDxzcGFuPnt7IHNjb3BlLnJvdy5yb2xlcy5tYXAoaT0+aS5yb2xlKS5qb2luKCcsJykgfX08L3NwYW4+XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cInZpc2libGVcIiBsYWJlbD1cIlx1NTNFRlx1ODlDMVwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LnZpc2libGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwidmlld2FibGVcIiBsYWJlbD1cIlx1NTNFRlx1NjdFNVx1NzcwQlwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LnZpZXdhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cImFkZGlibGVcIiBsYWJlbD1cIlx1NTNFRlx1NkRGQlx1NTJBMFwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LmFkZGlibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwiZWRpdGFibGVcIiBsYWJlbD1cIlx1NTNFRlx1N0YxNlx1OEY5MVwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LmVkaXRhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cImRlbGV0YWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU1MjIwXHU5NjY0XCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cuZGVsZXRhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cIm1hbmFnZWFibGVcIiBsYWJlbD1cIlx1NTNFRlx1N0JBMVx1NzQwNlwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93Lm1hbmFnZWFibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJhZGRyZXNzXCIgbGFiZWw9XCJcdTY0Q0RcdTRGNUNcIiB3aWR0aD1cIjE4MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHQ8RWxCdXR0b24gdHlwZT1cInByaW1hcnlcIiBAY2xpY2s9XCJlZGl0TWVtYmVyKHNjb3BlLnJvdylcIj5cdTdGMTZcdThGOTE8L0VsQnV0dG9uPlxuXHRcdFx0XHRcdDxFbEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCIgQGNsaWNrPVwiZGVsZXRlTWVtYmVyKHNjb3BlLnJvdylcIj5cdTUyMjBcdTk2NjQ8L0VsQnV0dG9uPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0PC9lbC10YWJsZT5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cbmltcG9ydCB7IG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHR5cGUgeyBNZW1iZXIgfSBmcm9tICcuLi90eXBlJztcbmltcG9ydCB7IEVsTWVzc2FnZUJveCwgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJztcblxuaW50ZXJmYWNlIFByb3Bze1xuXHRvcmdhbml6YXRpb246c3RyaW5nXG59XG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuaW50ZXJmYWNlIEVtaXR7XG5cbn1cbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czxFbWl0PigpO1xuY29uc3QgbWVtYmVyTGlzdCA9IHJlZjxNZW1iZXJbXT4oW10pXG5cbndhdGNoKCgpPT5wcm9wcy5vcmdhbml6YXRpb24sICgpPT57XG5cdGdldE1lbWJlcnMoKVxufSwge2ltbWVkaWF0ZTogdHJ1ZX0pXG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1lbWJlcnMoKXtcblx0aWYoIXByb3BzLm9yZ2FuaXphdGlvbil7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGZyYXBwZS5jYWxsPHsgbWVzc2FnZTogTWVtYmVyW10gfT4oe1xuXHRcdG1ldGhvZDogJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLmdldF9tZW1iZXJzJyxcblx0XHRhcmdzOntcblx0XHRcdG9yZ2FuaXphdGlvbl9uYW1lOnByb3BzLm9yZ2FuaXphdGlvblxuXHRcdH1cblx0fSk7XG5cdG1lbWJlckxpc3QudmFsdWUgPSByZXM/Lm1lc3NhZ2V8fFtdXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1lbWJlcigpe1xuXHRjb25zdCBuZXdEb2MgPSBmcmFwcGUubW9kZWwubWFrZV9uZXdfZG9jX2FuZF9nZXRfbmFtZSgnVGlhbmp5IE9yZ2FuaXphdGlvbiBNZW1iZXInKTtcblx0ZnJhcHBlLm1vZGVsLnNldF92YWx1ZSgnVGlhbmp5IE9yZ2FuaXphdGlvbiBNZW1iZXInLCBuZXdEb2MsICdvcmdhbml6YXRpb24nLCBwcm9wcy5vcmdhbml6YXRpb24pO1xuXHRmcmFwcGUuc2V0X3JvdXRlKFsnZm9ybScsICdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicsIG5ld0RvY10pO1xufVxuXG5mdW5jdGlvbiBlZGl0TWVtYmVyKG1lbWJlcjpNZW1iZXIpe1xuXHRmcmFwcGUuc2V0X3JvdXRlKFsnZm9ybScsICdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicsIG1lbWJlci5uYW1lXSk7XG59XG5mdW5jdGlvbiBkZWxldGVNZW1iZXIobWVtYmVyOk1lbWJlcil7XG5cdEVsTWVzc2FnZUJveC5jb25maXJtKFxuXHRcdFx0J1x1NjBBOFx1Nzg2RVx1OEJBNFx1NTIyMFx1OTY2NFx1NkI2NFx1NEVCQVx1NTQ1OFx1NTQxNz8nLFxuXHRcdFx0J1x1OEJGN1x1Nzg2RVx1OEJBNCcsXG5cdFx0XHR7XG5cdFx0XHRcdGNvbmZpcm1CdXR0b25UZXh0OiAnXHU3ODZFXHU1QjlBJyxcblx0XHRcdFx0Y2FuY2VsQnV0dG9uVGV4dDogJ1x1NTNENlx1NkQ4OCcsXG5cdFx0XHRcdHR5cGU6ICd3YXJuaW5nJyxcblx0XHRcdH1cblx0XHQpLnRoZW4oYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgZnJhcHBlLmRiLmRlbGV0ZV9kb2MoJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJywgbWVtYmVyLm5hbWUpXG5cdFx0XHRnZXRNZW1iZXJzKClcblx0XHRcdEVsTWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdzdWNjZXNzJyxcblx0XHRcdFx0bWVzc2FnZTogJ1x1NTIyMFx1OTY2NFx1NjIxMFx1NTI5RicsXG5cdFx0XHR9KTtcblx0XHR9KS5jYXRjaCgoKSA9PiB7XG5cdFx0XHRFbE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAnaW5mbycsXG5cdFx0XHRcdG1lc3NhZ2U6ICdcdTUzRDZcdTZEODhcdTUyMjBcdTk2NjQnLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG59XG5cbmZyYXBwZS5zb2NrZXRpby5kb2N0eXBlX3N1YnNjcmliZSgnVGlhbmp5IE9yZ2FuaXphdGlvbiBNZW1iZXInKTtcblxuZnJhcHBlLnJlYWx0aW1lLm9uKCdsaXN0X3VwZGF0ZScsIHAgPT4ge1xuXHRpZiAocC5kb2N0eXBlICE9PSAnVGlhbmp5IE9yZ2FuaXphdGlvbiBNZW1iZXInJiZwLmRvY3R5cGUgIT09ICdUaWFuankgT3JnYW5pemF0aW9uIFJvbGUnKSB7IHJldHVybjsgfVxuXHRnZXRNZW1iZXJzKCk7XG59KTtcblxuY29uc3QgcG9wc3RhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudDphbnkpIHtcblx0Z2V0TWVtYmVycygpO1xufTtcbm9uTW91bnRlZCgoKSA9PiB7XG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHBvcHN0YXRlTGlzdGVuZXIpO1xufSk7XG5vblVubW91bnRlZCgoKSA9PiB7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHBvcHN0YXRlTGlzdGVuZXIpO1xufSk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9J2xlc3MnIHNjb3BlZD5cbi5tZW1iZXJ7XG5cdGhlaWdodDogMTAwJTtcblx0ZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHQuYnRuLWNvbnRhaW5lcntcblx0XHR0ZXh0LWFsaWduOiByaWdodDtcblx0XHRtYXJnaW4tYm90dG9tOiA4cHg7XG5cdH1cbn1cblxuPC9zdHlsZT5cbiIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi1iNDg3ZGMyMlwiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJtZW1iZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8yID0geyBjbGFzczogXCJidG4tY29udGFpbmVyXCIgfVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X0VsQnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoXCJFbEJ1dHRvblwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdGFibGUtY29sdW1uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXRhYmxlXCIpXG5cbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfMSwgW1xuICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfMiwgW1xuICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRWxCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJwcmltYXJ5XCIsXG4gICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5jcmVhdGVNZW1iZXJcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCJcdTY1QjBcdTU4OUVcdTRFQkFcdTU0NThcIilcbiAgICAgICAgXSksXG4gICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICB9KVxuICAgIF0pLFxuICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlLCB7XG4gICAgICBkYXRhOiAkc2V0dXAubWVtYmVyTGlzdCxcbiAgICAgIGJvcmRlcjogdHJ1ZSxcbiAgICAgIHN0eWxlOiB7XCJ3aWR0aFwiOlwiMTAwJVwifSxcbiAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICB9LCB7XG4gICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIGZpeGVkOiBcIlwiLFxuICAgICAgICAgIHByb3A6IFwidXNlcl9kb2MuZnVsbF9uYW1lXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU3NTI4XHU2MjM3XCIsXG4gICAgICAgICAgd2lkdGg6IFwiMTgwXCJcbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwicm9sZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1ODlEMlx1ODI3MlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJzcGFuXCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LnJvbGVzLm1hcChpPT5pLnJvbGUpLmpvaW4oJywnKSksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU4OUMxXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LnZpc2libGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwidmlld2FibGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTY3RTVcdTc3MEJcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cudmlld2FibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiYWRkaWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NkRGQlx1NTJBMFwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5hZGRpYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcImVkaXRhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU3RjE2XHU4RjkxXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmVkaXRhYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcImRlbGV0YWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NTIyMFx1OTY2NFwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5kZWxldGFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwibWFuYWdlYWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1N0JBMVx1NzQwNlwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5tYW5hZ2VhYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcImFkZHJlc3NcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTY0Q0RcdTRGNUNcIixcbiAgICAgICAgICB3aWR0aDogXCIxODBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9FbEJ1dHRvbiwge1xuICAgICAgICAgICAgICB0eXBlOiBcInByaW1hcnlcIixcbiAgICAgICAgICAgICAgb25DbGljazogJGV2ZW50ID0+ICgkc2V0dXAuZWRpdE1lbWJlcihzY29wZS5yb3cpKVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1N0YxNlx1OEY5MVwiKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovXG4gICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKSxcbiAgICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0VsQnV0dG9uLCB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZGFuZ2VyXCIsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLmRlbGV0ZU1lbWJlcihzY29wZS5yb3cpKVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1NTIyMFx1OTY2NFwiKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovXG4gICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pXG4gICAgICBdKSxcbiAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgfSwgOCAvKiBQUk9QUyAqLywgW1wiZGF0YVwiXSlcbiAgXSkpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9NZW1iZXIudnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9NZW1iZXIudnVlXCI7c2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LWI0ODdkYzIyXCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi1jYjI4MGFjZFwiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qLyBfd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgbnVsbCwgXCJcdTdFQzRcdTdFQzdcdThCQkVcdTdGNkVcIiwgLTEgLyogSE9JU1RFRCAqLykpXG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFiX3BhbmUgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXRhYi1wYW5lXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFicyA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdGFic1wiKVxuXG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soJHNldHVwW1wiUGFnZVwiXSwgbnVsbCwge1xuICAgIHRpdGxlOiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICBfaG9pc3RlZF8xXG4gICAgXSksXG4gICAgc2lkZXI6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJPcmdhbml6YXRpb25UcmVlXCJdLCB7XG4gICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5vcmdhbml6YXRpb24sXG4gICAgICAgIFwib25VcGRhdGU6bW9kZWxWYWx1ZVwiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAoKCRzZXR1cC5vcmdhbml6YXRpb24pID0gJGV2ZW50KSksXG4gICAgICAgIHBlcm1pc3Npb25zOiAkc2V0dXAucGVybWlzc2lvbnNcbiAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm1vZGVsVmFsdWVcIiwgXCJwZXJtaXNzaW9uc1wiXSlcbiAgICBdKSxcbiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJzLCB7XG4gICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5hY3RpdmVOYW1lLFxuICAgICAgICBcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gKCgkc2V0dXAuYWN0aXZlTmFtZSkgPSAkZXZlbnQpKSxcbiAgICAgICAgY2xhc3M6IFwib3JnYW5pemF0aW9uLXRhYnNcIlxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlx1NTdGQVx1NjcyQ1x1NEZFMVx1NjA2RlwiLFxuICAgICAgICAgICAgbmFtZTogXCJpbmZvXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJGb3JtRGV0YWlsXCJdLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogJHNldHVwLm9yZ2FuaXphdGlvbj8ubmFtZSxcbiAgICAgICAgICAgICAgICBkb2N0eXBlOiBcIlRpYW5qeSBPcmdhbml6YXRpb25cIlxuICAgICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbXCJuYW1lXCJdKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYl9wYW5lLCB7XG4gICAgICAgICAgICBjbGFzczogXCJ3b3Jrc3BhY2VcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlx1NURFNVx1NEY1Q1x1NTMzQVwiLFxuICAgICAgICAgICAgbmFtZTogXCJ3b3Jrc3BhY2VcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgKCRzZXR1cC5vcmdhbml6YXRpb24pXG4gICAgICAgICAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soJHNldHVwW1wiV29ya3NwYWNlXCJdLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiAkc2V0dXAub3JnYW5pemF0aW9uLm5hbWVcbiAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm9yZ2FuaXphdGlvblwiXSkpXG4gICAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYl9wYW5lLCB7XG4gICAgICAgICAgICBjbGFzczogXCJtZW1iZXJcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlx1NjIxMFx1NTQ1OFwiLFxuICAgICAgICAgICAgbmFtZTogXCJ1c2Vyc1wiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAoJHNldHVwLm9yZ2FuaXphdGlvbilcbiAgICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJNZW1iZXJcIl0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246ICRzZXR1cC5vcmdhbml6YXRpb24ubmFtZVxuICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wib3JnYW5pemF0aW9uXCJdKSlcbiAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgfSlcbiAgICAgICAgXSksXG4gICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICB9LCA4IC8qIFBST1BTICovLCBbXCJtb2RlbFZhbHVlXCJdKVxuICAgIF0pLFxuICAgIF86IDEgLyogU1RBQkxFICovXG4gIH0pKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1jYjI4MGFjZFwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBLE9BQUMsU0FBUyxHQUFFLEdBQUU7QUFBQyxvQkFBVSxPQUFPLFdBQVMsWUFBVSxPQUFPLFNBQU8sT0FBTyxVQUFRLEVBQUUsSUFBRSxjQUFZLE9BQU8sVUFBUSxPQUFPLE1BQUksT0FBTyxDQUFDLEdBQUUsQ0FBQyxJQUFFLFlBQVUsT0FBTyxVQUFRLFFBQVEsT0FBSyxFQUFFLElBQUUsRUFBRSxPQUFLLEVBQUU7QUFBQSxNQUFDLEVBQUUsUUFBUSxXQUFVO0FBQUMsZUFBTyxTQUFTLEdBQUU7QUFBQyxjQUFJLElBQUUsQ0FBQztBQUFFLG1CQUFTLEVBQUUsR0FBRTtBQUFDLGdCQUFHLEVBQUU7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QUFBQSxrQkFDTCxjQUFjLE9BQU8sYUFBYTtBQUFBLGdCQUNwQyxHQUFHLE1BQU0sR0FBZSxDQUFDLGNBQWMsQ0FBQyxTQUN4QyxhQUFBRyxvQkFBb0IsUUFBUSxJQUFJO0FBQUEsY0FDdEMsQ0FBQztBQUFBLGNBQ0QsR0FBRztBQUFBLFlBQ0wsQ0FBQztBQUFBLFVBQ0gsQ0FBQztBQUFBLFVBQ0QsR0FBRztBQUFBLFFBQ0wsR0FBRyxHQUFlLENBQUMsWUFBWSxDQUFDO0FBQUEsTUFDbEMsQ0FBQztBQUFBLE1BQ0QsR0FBRztBQUFBLElBQ0wsQ0FBQztBQUFBLEVBQ0g7OztBQzNFNlksRUFBQUMsb0NBQU8sa0NBQU07QUFBMk0scUNBQU8sU0FBU0M7QUFBTyxxQ0FBTyxTQUFTO0FBQXNJLHFDQUFPLFlBQVk7QUFBa0IsTUFBT0Qsc0NBQVE7OztBMURFdDBCLE1BQUFFLHVCQUF3QjtBQUN4QixxQkFBaUI7QUFFakIsU0FBTyxNQUFNLDhCQUE4QixlQUFlLFNBQVMsU0FBUztBQUMzRSxRQUFJLE9BQU8sT0FBTyxHQUFHLGNBQWM7QUFBQSxNQUNsQyxRQUFRO0FBQUEsTUFDUixPQUFPO0FBQUEsTUFDUCxlQUFlO0FBQUEsSUFDaEIsQ0FBQztBQUNELFVBQU0sVUFBTSx3QkFBVUMscUNBQW9CLENBQUMsQ0FBQztBQUM1QyxRQUFJLElBQUksQ0FBQUMsU0FBTztBQUFFLE1BQUFBLEtBQUksT0FBTyxpQkFBaUIsUUFBUTtBQUFBLElBQU0sQ0FBQztBQUM1RCxRQUFJLElBQUkscUJBQUFDLFNBQWEsRUFBRSxNQUFNLFNBQVMsUUFBUSxhQUFBQyxRQUFLLENBQUM7QUFDcEQsUUFBSSxNQUFNLEtBQUssTUFBTTtBQUFBLEVBQ3RCOyIsCiAgIm5hbWVzIjogWyJ0IiwgImUiLCAibiIsICJpIiwgIm8iLCAiciIsICJzIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfdnVlIiwgIlRvZ2dsZUJ0bl9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX3B1c2hTY29wZUlkIiwgIl9wb3BTY29wZUlkIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlRWxlbWVudEJsb2NrIiwgIlRvZ2dsZUJ0bl9kZWZhdWx0IiwgIl9hIiwgInBhZ2VfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJfaG9pc3RlZF8zIiwgIl9ob2lzdGVkXzQiLCAicmVuZGVyIiwgIl9yZXNvbHZlQ29tcG9uZW50IiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfRnJhZ21lbnQiLCAiX2NyZWF0ZVZOb2RlIiwgIl9yZW5kZXJTbG90IiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfd2l0aERpcmVjdGl2ZXMiLCAiX3ZTaG93IiwgIl9jcmVhdGVCbG9jayIsICJfd2l0aEN0eCIsICJfbm9ybWFsaXplQ2xhc3MiLCAiX25vcm1hbGl6ZVN0eWxlIiwgInBhZ2VfZGVmYXVsdCIsICJyZW5kZXIiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfdnVlIiwgImltcG9ydF9pY29uc192dWUiLCAiVHJlZUl0ZW1fZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl93aXRoU2NvcGVJZCIsICJfcHVzaFNjb3BlSWQiLCAiX3BvcFNjb3BlSWQiLCAiX2hvaXN0ZWRfMSIsICJfaG9pc3RlZF8yIiwgIl9ob2lzdGVkXzMiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfaG9pc3RlZF80IiwgInJlbmRlciIsICJfcmVzb2x2ZUNvbXBvbmVudCIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX3RvRGlzcGxheVN0cmluZyIsICJfY3JlYXRlVk5vZGUiLCAiX3dpdGhDdHgiLCAiX2NyZWF0ZUJsb2NrIiwgIl9GcmFnbWVudCIsICJfcmVuZGVyTGlzdCIsICJfY3JlYXRlVGV4dFZOb2RlIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiVHJlZUl0ZW1fZGVmYXVsdCIsICJyZW5kZXIiLCAiYmVmb3JlIiwgIk9yZ2FuaXphdGlvblRyZWVfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJyZW5kZXIiLCAiX3Jlc29sdmVDb21wb25lbnQiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlRWxlbWVudEJsb2NrIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX2NyZWF0ZVZOb2RlIiwgIl93aXRoQ3R4IiwgIl9jcmVhdGVUZXh0Vk5vZGUiLCAiX2NyZWF0ZUJsb2NrIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiT3JnYW5pemF0aW9uVHJlZV9kZWZhdWx0IiwgInJlbmRlciIsICJpbXBvcnRfdnVlIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfdnVlIiwgInR0IiwgIkhlYWRlcl9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX2hvaXN0ZWRfMSIsICJfaG9pc3RlZF8yIiwgIl9ob2lzdGVkXzMiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfaG9pc3RlZF80IiwgIl9ob2lzdGVkXzUiLCAiX2hvaXN0ZWRfNiIsICJfY3JlYXRlU3RhdGljVk5vZGUiLCAiX2hvaXN0ZWRfMTIiLCAiX2hvaXN0ZWRfMTMiLCAiX2hvaXN0ZWRfMTQiLCAiX2hvaXN0ZWRfMTUiLCAicmVuZGVyIiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfbm9ybWFsaXplQ2xhc3MiLCAiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsICJfdG9EaXNwbGF5U3RyaW5nIiwgIkhlYWRlcl9kZWZhdWx0IiwgInJlbmRlciIsICJtZSIsICJsaSIsICJtZSIsICJpbnB1dF9uYW1lIiwgImoiLCAicmVuZGVyIiwgIm1lIiwgIm1lIiwgImR0IiwgImQiLCAia2V5IiwgImZpZWxkIiwgImNoaWxkIiwgIm5hbWUiLCAiaW1wb3J0X3Z1ZSIsICJ0dCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJfaG9pc3RlZF8zIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX2hvaXN0ZWRfNCIsICJfaG9pc3RlZF81IiwgIl9ob2lzdGVkXzYiLCAiX2hvaXN0ZWRfNyIsICJfaG9pc3RlZF84IiwgIl9ob2lzdGVkXzkiLCAiX2NyZWF0ZVN0YXRpY1ZOb2RlIiwgIl9ob2lzdGVkXzEwIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX2NyZWF0ZVZOb2RlIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAicmVuZGVyIiwgIk1haW5fZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVCbG9jayIsICJfY3JlYXRlQ29tbWVudFZOb2RlIiwgInJlbmRlciIsICJGb3JtRGV0YWlsX2RlZmF1bHQiLCAiRGV0YWlsX2RlZmF1bHQiLCAiaW1wb3J0X3Z1ZSIsICJfaG9pc3RlZF8xIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX2NyZWF0ZUJsb2NrIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiRGV0YWlsX2RlZmF1bHQiLCAicmVuZGVyIiwgImltcG9ydF92dWUiLCAiZSIsICIkIiwgImQiLCAicGFnZXMiLCAiVW5kbyIsICJtZSIsICJyZXMiLCAicGFnZSIsICJuZXdfcGFnZSIsICJibG9ja3MiLCAiV29ya3NwYWNlX2RlZmF1bHQiLCAiaW1wb3J0X3Z1ZSIsICJfaG9pc3RlZF8xIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiV29ya3NwYWNlX2RlZmF1bHQiLCAicmVuZGVyIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X2VsZW1lbnRfcGx1cyIsICJNZW1iZXJfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJyZW5kZXIiLCAiX3Jlc29sdmVDb21wb25lbnQiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlRWxlbWVudEJsb2NrIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX2NyZWF0ZVZOb2RlIiwgIl93aXRoQ3R4IiwgIl9jcmVhdGVUZXh0Vk5vZGUiLCAiX3RvRGlzcGxheVN0cmluZyIsICJNZW1iZXJfZGVmYXVsdCIsICJyZW5kZXIiLCAidGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWdfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl93aXRoU2NvcGVJZCIsICJfcHVzaFNjb3BlSWQiLCAiX3BvcFNjb3BlSWQiLCAiX2hvaXN0ZWRfMSIsICJfY3JlYXRlRWxlbWVudFZOb2RlIiwgInJlbmRlciIsICJfcmVzb2x2ZUNvbXBvbmVudCIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVCbG9jayIsICJfd2l0aEN0eCIsICJfY3JlYXRlVk5vZGUiLCAiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZ19kZWZhdWx0IiwgInJlbmRlciIsICJpbXBvcnRfZWxlbWVudF9wbHVzIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnX2RlZmF1bHQiLCAiYXBwIiwgIkVsZW1lbnRQbHVzIiwgInpoQ24iXQp9Cg==

})();