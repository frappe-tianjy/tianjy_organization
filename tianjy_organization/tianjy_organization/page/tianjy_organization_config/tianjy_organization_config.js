frappe.dom.set_style("/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=style-css&index=0 */\n.toggle-btn[data-v-c3964969] {\n  display: flex;\n  margin-right: var(--margin-sm);\n  cursor: pointer;\n  --icon-stroke: var(--gray-500);\n}\n.toggle-btn .sidebar-toggle-placeholder[data-v-c3964969] {\n  transition: all 0.5s ease-in-out;\n}\n.toggle-btn .sidebar-toggle-icon[data-v-c3964969] {\n  transition: all 0.5s ease-in-out;\n  display: none;\n}\n.toggle-btn:hover .sidebar-toggle-placeholder[data-v-c3964969] {\n  display: none;\n}\n.toggle-btn:hover .sidebar-toggle-icon[data-v-c3964969] {\n  display: block;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=style-css&index=0 */\n.title[data-v-2cbdb5e9] {\n  height: 75px;\n  display: flex;\n  align-items: center;\n  line-height: 75px;\n}\n.guigu-container[data-v-2cbdb5e9] {\n  height: var(--2cbdb5e9-height);\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n}\n.guigu-container .main-container[data-v-2cbdb5e9] {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n.guigu-container .main-container .sider[data-v-2cbdb5e9] {\n  min-width: 50px;\n  min-height: 50px;\n}\n.guigu-container .main-container.horizon[data-v-2cbdb5e9] {\n  flex-direction: row;\n}\n.guigu-container .main-container.horizon .sider[data-v-2cbdb5e9] {\n  width: 300px;\n}\n.guigu-container .main-container.horizon .sider.onlySider[data-v-2cbdb5e9] {\n  width: 100%;\n}\n.guigu-container .main-container.vertical[data-v-2cbdb5e9] {\n  flex-direction: column;\n}\n.guigu-container .main-container.vertical .sider[data-v-2cbdb5e9] {\n  height: 300px;\n}\n.guigu-container .main-container.vertical .sider.onlySider[data-v-2cbdb5e9] {\n  height: 100%;\n}\n.guigu-container .main-container .resizer-container[data-v-2cbdb5e9] {\n  position: relative;\n  border: 0;\n}\n.guigu-container .main-container .resizer-container .resizer[data-v-2cbdb5e9] {\n  position: absolute;\n  z-index: 1;\n  background-color: #d9d9d9;\n  opacity: 0.5;\n}\n.guigu-container .main-container .resizer-container.horizon[data-v-2cbdb5e9] {\n  padding: 0 4px;\n  width: 12px;\n  height: 100%;\n}\n.guigu-container .main-container .resizer-container.horizon .resizer[data-v-2cbdb5e9] {\n  width: 2px;\n  height: 100%;\n  cursor: col-resize;\n}\n.guigu-container .main-container .resizer-container.vertical[data-v-2cbdb5e9] {\n  padding: 4px 0;\n  width: 100%;\n  height: 12px;\n}\n.guigu-container .main-container .resizer-container.vertical .resizer[data-v-2cbdb5e9] {\n  height: 2px;\n  width: 100%;\n  cursor: row-resize;\n}\n.guigu-container .main-container .right[data-v-2cbdb5e9] {\n  display: flex;\n  flex: 1;\n  overflow: auto;\n}\n.guigu-container .main-container .right.horizon[data-v-2cbdb5e9] {\n  flex-direction: row;\n}\n.guigu-container .main-container .right.horizon .main[data-v-2cbdb5e9] {\n  width: 50%;\n}\n.guigu-container .main-container .right.horizon .main.noDetail[data-v-2cbdb5e9] {\n  width: 100%;\n}\n.guigu-container .main-container .right.horizon .detail[data-v-2cbdb5e9] {\n  flex: 1;\n  min-width: 150px;\n}\n.guigu-container .main-container .right.vertical[data-v-2cbdb5e9] {\n  flex-direction: column;\n}\n.guigu-container .main-container .right.vertical .main[data-v-2cbdb5e9] {\n  height: 50%;\n}\n.guigu-container .main-container .right.vertical .main.noDetail[data-v-2cbdb5e9] {\n  height: 100%;\n}\n.guigu-container .main-container .right.vertical .detail[data-v-2cbdb5e9] {\n  flex: 1;\n  min-height: 150px;\n}\n.tools[data-v-2cbdb5e9] {\n  padding: 8px 0;\n}\n.small-meta_tools[data-v-2cbdb5e9] {\n  display: flex;\n  justify-content: space-between;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=style-css&index=0 */\n[data-v-a835aba7] .delete {\n  color: #f00;\n}\n.create_type[data-v-a835aba7] {\n  height: 24px;\n}\n.create-menu[data-v-a835aba7] {\n  border-right: 0;\n  padding: 0;\n}\n.custom-tree-node[data-v-a835aba7] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n  padding-right: 8px;\n}\n.custom-tree-node .el-dropdown-link[data-v-a835aba7] {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  visibility: hidden;\n}\n.custom-tree-node:hover .el-dropdown-link[data-v-a835aba7] {\n  visibility: visible;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=style-css&index=0 */\n.sider-container[data-v-7ff9d4db] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 8px;\n}\n.sider-container .btn-container[data-v-7ff9d4db] {\n  margin-bottom: 8px;\n}\n.sider-container .tree-container[data-v-7ff9d4db] {\n  overflow-y: auto;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=style-css&index=0 */\n._header_pve6u_1 {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 6;\n  position: sticky;\n  top: 0;\n  box-shadow: var(--shadow-sm);\n  background-color: var(--card-bg);\n  margin-bottom: 5px;\n  height: 48px;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=style-css&index=0 */\n.form-container[data-v-c54e1258] {\n  border: 1px solid #eee;\n  height: 100%;\n  overflow: auto;\n}\n.form-container[data-v-c54e1258] .form-section .form-column:first-child {\n  padding-left: 15px;\n}\n.form-container .placeholder[data-v-c54e1258] {\n  height: 500px;\n  line-height: 500px;\n  text-align: center;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=style-css&index=0 */\n.content[data-v-89a027f3] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.content[data-v-89a027f3] .page-body {\n  overflow: auto;\n}\n.content[data-v-89a027f3] .page-head {\n  position: static;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=style-css&index=0 */\n.member[data-v-b487dc22] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.member .btn-container[data-v-b487dc22] {\n  text-align: right;\n  margin-bottom: 8px;\n}\n.member .role[data-v-b487dc22] {\n  cursor: pointer;\n  margin-right: 4px;\n}\n.member .role[data-v-b487dc22]:hover {\n  text-decoration: underline;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue?type=style-css&index=0 */\n.inheritable-organization[data-v-4e2c9cb6] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.inheritable-organization .btn-container[data-v-4e2c9cb6] {\n  text-align: right;\n  margin-bottom: 8px;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue?type=style-css&index=0 */\n.member[data-v-b28ae675] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.member .btn-container[data-v-b28ae675] {\n  text-align: right;\n  margin-bottom: 8px;\n}\n.member .role[data-v-b28ae675] {\n  cursor: pointer;\n  margin-right: 4px;\n}\n.member .role[data-v-b28ae675]:hover {\n  text-decoration: underline;\n}\n\n/* sfc-style-css:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=style-css&index=0 */\n.title[data-v-cb280acd] {\n  margin-bottom: 0;\n}\n.organization-tabs[data-v-cb280acd] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.tab-container[data-v-cb280acd] {\n  height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL1RvZ2dsZUJ0bi52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wIiwgInNmYy1zdHlsZS1jc3M6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MCIsICJzZmMtc3R5bGUtY3NzOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wIiwgInNmYy1zdHlsZS1jc3M6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0luaGVyaXRNZW1iZXIudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTAiLCAic2ZjLXN0eWxlLWNzczovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIudG9nZ2xlLWJ0bltkYXRhLXYtYzM5NjQ5NjldIHtcbiAgZGlzcGxheTogZmxleDtcbiAgbWFyZ2luLXJpZ2h0OiB2YXIoLS1tYXJnaW4tc20pO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC0taWNvbi1zdHJva2U6IHZhcigtLWdyYXktNTAwKTtcbn1cbi50b2dnbGUtYnRuIC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlcltkYXRhLXYtYzM5NjQ5NjldIHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG59XG4udG9nZ2xlLWJ0biAuc2lkZWJhci10b2dnbGUtaWNvbltkYXRhLXYtYzM5NjQ5NjldIHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4udG9nZ2xlLWJ0bjpob3ZlciAuc2lkZWJhci10b2dnbGUtcGxhY2Vob2xkZXJbZGF0YS12LWMzOTY0OTY5XSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4udG9nZ2xlLWJ0bjpob3ZlciAuc2lkZWJhci10b2dnbGUtaWNvbltkYXRhLXYtYzM5NjQ5NjldIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4iLCAiLnRpdGxlW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IDc1cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGxpbmUtaGVpZ2h0OiA3NXB4O1xufVxuLmd1aWd1LWNvbnRhaW5lcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgaGVpZ2h0OiB2YXIoLS0yY2JkYjVlOS1oZWlnaHQpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGZsZXg6IDE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAuc2lkZXJbZGF0YS12LTJjYmRiNWU5XSB7XG4gIG1pbi13aWR0aDogNTBweDtcbiAgbWluLWhlaWdodDogNTBweDtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyLmhvcml6b25bZGF0YS12LTJjYmRiNWU5XSB7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lci5ob3Jpem9uIC5zaWRlcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgd2lkdGg6IDMwMHB4O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIuaG9yaXpvbiAuc2lkZXIub25seVNpZGVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICB3aWR0aDogMTAwJTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyLnZlcnRpY2FsW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIudmVydGljYWwgLnNpZGVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IDMwMHB4O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIudmVydGljYWwgLnNpZGVyLm9ubHlTaWRlcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJlc2l6ZXItY29udGFpbmVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJvcmRlcjogMDtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yZXNpemVyLWNvbnRhaW5lciAucmVzaXplcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDlkOWQ5O1xuICBvcGFjaXR5OiAwLjU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmVzaXplci1jb250YWluZXIuaG9yaXpvbltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgcGFkZGluZzogMCA0cHg7XG4gIHdpZHRoOiAxMnB4O1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmVzaXplci1jb250YWluZXIuaG9yaXpvbiAucmVzaXplcltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgd2lkdGg6IDJweDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBjdXJzb3I6IGNvbC1yZXNpemU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmVzaXplci1jb250YWluZXIudmVydGljYWxbZGF0YS12LTJjYmRiNWU5XSB7XG4gIHBhZGRpbmc6IDRweCAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMnB4O1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJlc2l6ZXItY29udGFpbmVyLnZlcnRpY2FsIC5yZXNpemVyW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBoZWlnaHQ6IDJweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGN1cnNvcjogcm93LXJlc2l6ZTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleDogMTtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmlnaHQuaG9yaXpvbltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC5ob3Jpem9uIC5tYWluW2RhdGEtdi0yY2JkYjVlOV0ge1xuICB3aWR0aDogNTAlO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0Lmhvcml6b24gLm1haW4ubm9EZXRhaWxbZGF0YS12LTJjYmRiNWU5XSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmd1aWd1LWNvbnRhaW5lciAubWFpbi1jb250YWluZXIgLnJpZ2h0Lmhvcml6b24gLmRldGFpbFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZmxleDogMTtcbiAgbWluLXdpZHRoOiAxNTBweDtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC52ZXJ0aWNhbFtkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC52ZXJ0aWNhbCAubWFpbltkYXRhLXYtMmNiZGI1ZTldIHtcbiAgaGVpZ2h0OiA1MCU7XG59XG4uZ3VpZ3UtY29udGFpbmVyIC5tYWluLWNvbnRhaW5lciAucmlnaHQudmVydGljYWwgLm1haW4ubm9EZXRhaWxbZGF0YS12LTJjYmRiNWU5XSB7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5ndWlndS1jb250YWluZXIgLm1haW4tY29udGFpbmVyIC5yaWdodC52ZXJ0aWNhbCAuZGV0YWlsW2RhdGEtdi0yY2JkYjVlOV0ge1xuICBmbGV4OiAxO1xuICBtaW4taGVpZ2h0OiAxNTBweDtcbn1cbi50b29sc1tkYXRhLXYtMmNiZGI1ZTldIHtcbiAgcGFkZGluZzogOHB4IDA7XG59XG4uc21hbGwtbWV0YV90b29sc1tkYXRhLXYtMmNiZGI1ZTldIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuIiwgIltkYXRhLXYtYTgzNWFiYTddIC5kZWxldGUge1xuICBjb2xvcjogI2YwMDtcbn1cbi5jcmVhdGVfdHlwZVtkYXRhLXYtYTgzNWFiYTddIHtcbiAgaGVpZ2h0OiAyNHB4O1xufVxuLmNyZWF0ZS1tZW51W2RhdGEtdi1hODM1YWJhN10ge1xuICBib3JkZXItcmlnaHQ6IDA7XG4gIHBhZGRpbmc6IDA7XG59XG4uY3VzdG9tLXRyZWUtbm9kZVtkYXRhLXYtYTgzNWFiYTddIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBmbGV4OiAxO1xuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XG59XG4uY3VzdG9tLXRyZWUtbm9kZSAuZWwtZHJvcGRvd24tbGlua1tkYXRhLXYtYTgzNWFiYTddIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG59XG4uY3VzdG9tLXRyZWUtbm9kZTpob3ZlciAuZWwtZHJvcGRvd24tbGlua1tkYXRhLXYtYTgzNWFiYTddIHtcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbn1cbiIsICIuc2lkZXItY29udGFpbmVyW2RhdGEtdi03ZmY5ZDRkYl0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG59XG4uc2lkZXItY29udGFpbmVyIC5idG4tY29udGFpbmVyW2RhdGEtdi03ZmY5ZDRkYl0ge1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG4uc2lkZXItY29udGFpbmVyIC50cmVlLWNvbnRhaW5lcltkYXRhLXYtN2ZmOWQ0ZGJdIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cbiIsICIuX2hlYWRlcl9wdmU2dV8xIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHotaW5kZXg6IDY7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LXNtKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgaGVpZ2h0OiA0OHB4O1xufVxuIiwgIi5mb3JtLWNvbnRhaW5lcltkYXRhLXYtYzU0ZTEyNThdIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbi5mb3JtLWNvbnRhaW5lcltkYXRhLXYtYzU0ZTEyNThdIC5mb3JtLXNlY3Rpb24gLmZvcm0tY29sdW1uOmZpcnN0LWNoaWxkIHtcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xufVxuLmZvcm0tY29udGFpbmVyIC5wbGFjZWhvbGRlcltkYXRhLXYtYzU0ZTEyNThdIHtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgbGluZS1oZWlnaHQ6IDUwMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4iLCAiLmNvbnRlbnRbZGF0YS12LTg5YTAyN2YzXSB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5jb250ZW50W2RhdGEtdi04OWEwMjdmM10gLnBhZ2UtYm9keSB7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuLmNvbnRlbnRbZGF0YS12LTg5YTAyN2YzXSAucGFnZS1oZWFkIHtcbiAgcG9zaXRpb246IHN0YXRpYztcbn1cbiIsICIubWVtYmVyW2RhdGEtdi1iNDg3ZGMyMl0ge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4ubWVtYmVyIC5idG4tY29udGFpbmVyW2RhdGEtdi1iNDg3ZGMyMl0ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xufVxuLm1lbWJlciAucm9sZVtkYXRhLXYtYjQ4N2RjMjJdIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbn1cbi5tZW1iZXIgLnJvbGVbZGF0YS12LWI0ODdkYzIyXTpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuIiwgIi5pbmhlcml0YWJsZS1vcmdhbml6YXRpb25bZGF0YS12LTRlMmM5Y2I2XSB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5pbmhlcml0YWJsZS1vcmdhbml6YXRpb24gLmJ0bi1jb250YWluZXJbZGF0YS12LTRlMmM5Y2I2XSB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG4iLCAiLm1lbWJlcltkYXRhLXYtYjI4YWU2NzVdIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLm1lbWJlciAuYnRuLWNvbnRhaW5lcltkYXRhLXYtYjI4YWU2NzVdIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbn1cbi5tZW1iZXIgLnJvbGVbZGF0YS12LWIyOGFlNjc1XSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG4ubWVtYmVyIC5yb2xlW2RhdGEtdi1iMjhhZTY3NV06aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cbiIsICIudGl0bGVbZGF0YS12LWNiMjgwYWNkXSB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG4ub3JnYW5pemF0aW9uLXRhYnNbZGF0YS12LWNiMjgwYWNkXSB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi50YWItY29udGFpbmVyW2RhdGEtdi1jYjI4MGFjZF0ge1xuICBoZWlnaHQ6IDEwMCU7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQUE7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7OztBQ2pCRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUFBOzs7QUN6R0Y7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDeEJGO0FBQ0U7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDVkY7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OztBQ1hGO0FBQ0U7QUFDQTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFDQTtBQUFBOzs7QUNYRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUFBOzs7QUNURjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDZEY7QUFDRTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFDQTtBQUFBOzs7QUNQRjtBQUNFO0FBQ0E7QUFDQTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQUE7QUFFRjtBQUNFO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTs7O0FDZEY7QUFDRTtBQUFBO0FBRUY7QUFDRTtBQUNBO0FBQ0E7QUFBQTtBQUVGO0FBQ0U7QUFBQTsiLAogICJuYW1lcyI6IFtdCn0K */\n");
(function(){
"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: true, configurable: true, writable: true, value }) : obj[key2] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
    get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
  }) : x)(function(x) {
    if (typeof require !== "undefined")
      return require.apply(this, arguments);
    throw new Error('Dynamic require of "' + x + '" is not supported');
  });
  var __objRest = (source, exclude) => {
    var target = {};
    for (var prop in source)
      if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
        target[prop] = source[prop];
    if (source != null && __getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(source)) {
        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
          target[prop] = source[prop];
      }
    return target;
  };
  var __commonJS = (cb, mod) => function __require2() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to2, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key2 of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to2, key2) && key2 !== except)
          __defProp(to2, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });
    }
    return to2;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // ../frappe/node_modules/editorjs-undo/dist/bundle.js
  var require_bundle = __commonJS({
    "../frappe/node_modules/editorjs-undo/dist/bundle.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Undo = e() : t.Undo = e();
      }(window, function() {
        return function(t) {
          var e = {};
          function n(i) {
            if (e[i])
              return e[i].exports;
            var o = e[i] = { i, l: false, exports: {} };
            return t[i].call(o.exports, o, o.exports, n), o.l = true, o.exports;
          }
          return n.m = t, n.c = e, n.d = function(t2, e2, i) {
            n.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: i });
          }, n.r = function(t2) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
          }, n.t = function(t2, e2) {
            if (1 & e2 && (t2 = n(t2)), 8 & e2)
              return t2;
            if (4 & e2 && "object" == typeof t2 && t2 && t2.__esModule)
              return t2;
            var i = /* @__PURE__ */ Object.create(null);
            if (n.r(i), Object.defineProperty(i, "default", { enumerable: true, value: t2 }), 2 & e2 && "string" != typeof t2)
              for (var o in t2)
                n.d(i, o, function(e3) {
                  return t2[e3];
                }.bind(null, o));
            return i;
          }, n.n = function(t2) {
            var e2 = t2 && t2.__esModule ? function() {
              return t2.default;
            } : function() {
              return t2;
            };
            return n.d(e2, "a", e2), e2;
          }, n.o = function(t2, e2) {
            return Object.prototype.hasOwnProperty.call(t2, e2);
          }, n.p = "/", n(n.s = 0);
        }([function(t, e, n) {
          "use strict";
          function i(t2, e2) {
            for (var n2 = 0; n2 < e2.length; n2++) {
              var i2 = e2[n2];
              i2.enumerable = i2.enumerable || false, i2.configurable = true, "value" in i2 && (i2.writable = true), Object.defineProperty(t2, i2.key, i2);
            }
          }
          n.r(e), n.d(e, "default", function() {
            return s;
          });
          var o = function() {
            function t2(e3, n3) {
              !function(t3, e4) {
                if (!(t3 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, t2), this.holder = "string" == typeof n3 ? document.getElementById(n3) : n3, this.observer = null, this.debounceTimer = 200, this.mutationDebouncer = this.debounce(function() {
                e3();
              }, this.debounceTimer);
            }
            var e2, n2, o2;
            return e2 = t2, (n2 = [{ key: "setMutationObserver", value: function() {
              var t3 = this, e3 = this.holder;
              this.observer = new MutationObserver(function(e4) {
                t3.mutationHandler(e4);
              }), this.observer.observe(e3, { childList: true, attributes: true, subtree: true, characterData: true, characterDataOldValue: true });
            } }, { key: "mutationHandler", value: function(t3) {
              var e3 = this, n3 = false;
              t3.forEach(function(t4) {
                switch (t4.type) {
                  case "childList":
                    t4.target === e3.holder ? e3.onDestroy() : n3 = true;
                    break;
                  case "characterData":
                    n3 = true;
                    break;
                  case "attributes":
                    t4.target.classList.contains("ce-block") || (n3 = true);
                }
              }), n3 && this.mutationDebouncer();
            } }, { key: "debounce", value: function(t3, e3) {
              var n3, i2 = this;
              return function() {
                for (var o3 = arguments.length, r2 = new Array(o3), s2 = 0; s2 < o3; s2++)
                  r2[s2] = arguments[s2];
                var a = i2;
                clearTimeout(n3), n3 = setTimeout(function() {
                  return t3.apply(a, r2);
                }, e3);
              };
            } }, { key: "onDestroy", value: function() {
              var t3 = new CustomEvent("destroy");
              document.dispatchEvent(t3), this.observer.disconnect();
            } }]) && i(e2.prototype, n2), o2 && i(e2, o2), t2;
          }();
          function r(t2, e2) {
            for (var n2 = 0; n2 < e2.length; n2++) {
              var i2 = e2[n2];
              i2.enumerable = i2.enumerable || false, i2.configurable = true, "value" in i2 && (i2.writable = true), Object.defineProperty(t2, i2.key, i2);
            }
          }
          var s = function() {
            function t2(e3) {
              var n3 = this, i3 = e3.editor, r2 = e3.onUpdate, s2 = e3.maxLength;
              !function(t3, e4) {
                if (!(t3 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, t2);
              var a = { maxLength: 30, onUpdate: function() {
              } }, u = i3.configuration;
              this.editor = i3, this.shouldSaveHistory = true, this.readOnly = u.readOnly, this.maxLength = s2 || a.maxLength, this.onUpdate = r2 || a.onUpdate, new o(function() {
                return n3.registerChange();
              }, u.holder).setMutationObserver(), this.setEventListeners(), this.initialItem = null, this.clear();
            }
            var e2, n2, i2;
            return e2 = t2, i2 = [{ key: "isReadOnlySupported", get: function() {
              return true;
            } }], (n2 = [{ key: "truncate", value: function(t3, e3) {
              for (; t3.length > e3; )
                t3.shift();
            } }, { key: "initialize", value: function(t3) {
              var e3 = "blocks" in t3 ? t3.blocks : t3, n3 = { index: e3.length - 1, state: e3 };
              this.stack[0] = n3, this.initialItem = n3;
            } }, { key: "clear", value: function() {
              this.stack = this.initialItem ? [this.initialItem] : [{ index: 0, state: [] }], this.position = 0, this.onUpdate();
            } }, { key: "registerChange", value: function() {
              var t3 = this;
              this.readOnly || (this.editor && this.editor.save && this.shouldSaveHistory && this.editor.save().then(function(e3) {
                t3.editorDidUpdate(e3.blocks) && t3.save(e3.blocks);
              }), this.shouldSaveHistory = true);
            } }, { key: "editorDidUpdate", value: function(t3) {
              var e3 = this.stack[this.position].state;
              return t3.length !== e3.length || JSON.stringify(e3) !== JSON.stringify(t3);
            } }, { key: "save", value: function(t3) {
              this.position >= this.maxLength && this.truncate(this.stack, this.maxLength), this.position = Math.min(this.position, this.stack.length - 1), this.stack = this.stack.slice(0, this.position + 1);
              var e3 = this.editor.blocks.getCurrentBlockIndex();
              this.stack.push({ index: e3, state: t3 }), this.position += 1, this.onUpdate();
            } }, { key: "undo", value: function() {
              var t3 = this;
              if (this.canUndo()) {
                this.shouldSaveHistory = false;
                var e3 = this.stack[this.position -= 1], n3 = e3.index, i3 = e3.state;
                this.onUpdate(), this.editor.blocks.render({ blocks: i3 }).then(function() {
                  return t3.editor.caret.setToBlock(n3, "end");
                });
              }
            } }, { key: "redo", value: function() {
              var t3 = this;
              if (this.canRedo()) {
                this.shouldSaveHistory = false;
                var e3 = this.stack[this.position += 1], n3 = e3.index, i3 = e3.state;
                this.onUpdate(), this.editor.blocks.render({ blocks: i3 }).then(function() {
                  return t3.editor.caret.setToBlock(n3, "end");
                });
              }
            } }, { key: "canUndo", value: function() {
              return !this.readOnly && this.position > 0;
            } }, { key: "canRedo", value: function() {
              return !this.readOnly && this.position < this.count();
            } }, { key: "count", value: function() {
              return this.stack.length - 1;
            } }, { key: "setEventListeners", value: function() {
              var t3 = this, e3 = /(Mac)/i.test(navigator.platform) ? "metaKey" : "ctrlKey", n3 = function(n4) {
                n4[e3] && "z" === n4.key && (n4.preventDefault(), t3.undo());
              }, i3 = function(n4) {
                n4[e3] && "y" === n4.key && (n4.preventDefault(), t3.redo());
              };
              document.addEventListener("keydown", n3), document.addEventListener("keydown", i3), document.addEventListener("destroy", function() {
                document.removeEventListener("keydown", n3), document.removeEventListener("keydown", i3);
              });
            } }]) && r(e2.prototype, n2), i2 && r(e2, i2), t2;
          }();
        }]).default;
      });
    }
  });

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.ts
  var import_vue41 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=script
  var import_vue38 = __require("vue");
  var import_vue39 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=script
  var import_vue4 = __require("vue");
  var import_vue5 = __require("vue");
  var import_icons_vue = __require("@element-plus/icons-vue");

  // ../guigu_pm/guigu_pm/public/js/components/page/useMetaQuery.ts
  var import_vue = __require("vue");
  function useMetaQuery() {
    const smallMeta = (0, import_vue.ref)("ontouchstart" in document.documentElement);
    let mQuery;
    function mediaChange() {
      if (mQuery.matches) {
        smallMeta.value = true;
      } else {
        smallMeta.value = false;
      }
    }
    (0, import_vue.onMounted)(() => {
      mQuery = window.matchMedia("(max-width: 640px)");
      if (mQuery.matches) {
        smallMeta.value = true;
      } else {
        smallMeta.value = false;
      }
      mQuery.addEventListener("change", mediaChange);
    });
    (0, import_vue.onUnmounted)(() => {
      mQuery.removeEventListener("change", mediaChange);
    });
    return smallMeta;
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=script
  var import_vue2 = __require("vue");
  var ToggleBtn_default = /* @__PURE__ */ (0, import_vue2.defineComponent)({
    __name: "ToggleBtn",
    props: {
      expand: { type: Boolean, required: true }
    },
    emits: ["update:expand"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function toggleSider() {
        emit("update:expand", !props.expand);
      }
      const __returned__ = { props, emit, toggleSider };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=style&index=0
  var ToggleBtn_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue?type=template
  var import_vue3 = __require("vue");
  var _withScopeId = (n) => ((0, import_vue3.pushScopeId)("data-v-c3964969"), n = n(), (0, import_vue3.popScopeId)(), n);
  var _hoisted_1 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ (0, import_vue3.createElementVNode)("svg", { class: "icon icon-md sidebar-toggle-placeholder" }, [
    /* @__PURE__ */ (0, import_vue3.createElementVNode)("use", { href: "#icon-menu" })
  ], -1));
  var _hoisted_2 = { class: "sidebar-toggle-icon" };
  var _hoisted_3 = { class: "icon icon-md" };
  var _hoisted_4 = ["href"];
  function render(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue3.openBlock)(), (0, import_vue3.createElementBlock)("span", {
      class: "toggle-btn",
      title: "\u5207\u6362\u8FB9\u680F",
      onClick: $setup.toggleSider
    }, [
      _hoisted_1,
      (0, import_vue3.createElementVNode)("span", _hoisted_2, [
        ((0, import_vue3.openBlock)(), (0, import_vue3.createElementBlock)("svg", _hoisted_3, [
          (0, import_vue3.createElementVNode)("use", {
            href: $props.expand ? "#icon-sidebar-collapse" : "#icon-sidebar-expand"
          }, null, 8, _hoisted_4)
        ]))
      ])
    ]);
  }

  // ../guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue
  ToggleBtn_default2(ToggleBtn_default);
  ToggleBtn_default.render = render;
  ToggleBtn_default.__file = "../guigu_pm/guigu_pm/public/js/components/page/ToggleBtn.vue";
  ToggleBtn_default.__scopeId = "data-v-c3964969";
  var ToggleBtn_default3 = ToggleBtn_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=script
  var page_default = /* @__PURE__ */ (0, import_vue4.defineComponent)({
    __name: "index",
    props: {
      mode: { type: String, required: false },
      rightMode: { type: String, required: false },
      siderStyle: { type: null, required: false },
      mainStyle: { type: null, required: false },
      detailStyle: { type: null, required: false }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      (0, import_vue4.useCssVars)((_ctx) => ({
        "2cbdb5e9-height": height.value
      }));
      const smallMeta = useMetaQuery();
      const sider = (0, import_vue5.ref)();
      const main = (0, import_vue5.ref)();
      const container = (0, import_vue5.ref)();
      const resizerContainer = (0, import_vue5.ref)();
      const mainResizerContainer = (0, import_vue5.ref)();
      const rightContainer = (0, import_vue5.ref)();
      const hasTitle = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().title));
      const hasTools = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().tools));
      const hasSider = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().sider));
      const hasMain = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().default));
      const hasDetail = (0, import_vue5.computed)(() => Boolean((0, import_vue5.useSlots)().detail));
      const height = (0, import_vue5.computed)(() => hasTitle.value ? `calc(100vh - 135px)` : `calc(100vh - 60px)`);
      const showSider = (0, import_vue5.ref)(true);
      function dragLRController(dragEvent) {
        var _a;
        if (!dragEvent.target) {
          return;
        }
        dragEvent.target.setPointerCapture(true);
        dragEvent.stopPropagation();
        dragEvent.target.style.background = "#999";
        let resizerContainerElement;
        let leftElement;
        let containerElement;
        const isSiderResize = dragEvent.target === ((_a = resizerContainer.value) == null ? void 0 : _a.firstChild);
        const mode = isSiderResize ? "mode" : "rightMode";
        if (isSiderResize) {
          resizerContainerElement = resizerContainer.value;
          leftElement = sider.value;
          containerElement = container.value;
        } else {
          resizerContainerElement = mainResizerContainer.value;
          leftElement = main.value;
          containerElement = rightContainer.value;
        }
        let startPo = 0;
        let containerClientSize = 0;
        let oldSiderSize = 0;
        let resizerContainerElementSize = 0;
        if (props[mode] === "vertical") {
          startPo = dragEvent.clientY;
          dragEvent.target.top = dragEvent.target.offsetTop;
          containerClientSize = (containerElement == null ? void 0 : containerElement.clientHeight) || 0;
          oldSiderSize = ((resizerContainerElement == null ? void 0 : resizerContainerElement.offsetTop) || 0) - ((containerElement == null ? void 0 : containerElement.offsetTop) || 0);
          resizerContainerElementSize = (resizerContainerElement == null ? void 0 : resizerContainerElement.clientHeight) || 0;
        } else {
          startPo = dragEvent.clientX;
          dragEvent.target.left = dragEvent.target.offsetLeft;
          containerClientSize = (containerElement == null ? void 0 : containerElement.clientWidth) || 0;
          oldSiderSize = ((resizerContainerElement == null ? void 0 : resizerContainerElement.offsetLeft) || 0) - ((containerElement == null ? void 0 : containerElement.offsetLeft) || 0);
          resizerContainerElementSize = (resizerContainerElement == null ? void 0 : resizerContainerElement.clientWidth) || 0;
        }
        let newSiderSize = oldSiderSize;
        document.onpointermove = function(moveEvent) {
          var _a2, _b, _c, _d;
          if (!dragEvent.target) {
            return;
          }
          let endPo = 0;
          if (props[mode] === "vertical") {
            endPo = moveEvent.clientY;
          } else {
            endPo = moveEvent.clientX;
          }
          let resizerDiff = endPo - startPo;
          newSiderSize = oldSiderSize + resizerDiff;
          const mainSize = containerClientSize - newSiderSize - resizerContainerElementSize;
          let mainMaxSize = isSiderResize ? 250 : 150;
          if (isSiderResize && props.mode === "vertical" && props.rightMode === "vertical" && ((_b = (_a2 = main.value) == null ? void 0 : _a2.style) == null ? void 0 : _b.height)) {
            const alreadyMainHeight = parseFloat(main.value.style.height.replaceAll("px", "") || "0");
            mainMaxSize = alreadyMainHeight + 150 + resizerContainerElementSize;
          } else if (isSiderResize && props.mode !== "vertical" && props.rightMode !== "vertical" && ((_d = (_c = main.value) == null ? void 0 : _c.style) == null ? void 0 : _d.width)) {
            const alreadyMainWidth = parseFloat(main.value.style.width.replaceAll("px", "") || "0");
            mainMaxSize = alreadyMainWidth + 150 + resizerContainerElementSize;
          }
          if (newSiderSize < 50) {
            newSiderSize = 50;
            resizerDiff = newSiderSize - oldSiderSize;
          }
          if (mainSize < mainMaxSize) {
            newSiderSize = containerClientSize - mainMaxSize - resizerContainerElementSize;
            resizerDiff = newSiderSize - oldSiderSize;
          }
          if (props[mode] === "vertical") {
            dragEvent.target.style.top = `${resizerDiff}px`;
          } else {
            dragEvent.target.style.left = `${resizerDiff}px`;
          }
        };
        document.onpointerup = function(evt) {
          if (!dragEvent.target) {
            return;
          }
          dragEvent.target.style.background = "#d9d9d9";
          dragEvent.target.style.left = "auto";
          dragEvent.target.style.top = "auto";
          if (!leftElement) {
            return;
          }
          if (props[mode] === "vertical") {
            leftElement.style.height = `${newSiderSize}px`;
          } else {
            leftElement.style.width = `${newSiderSize}px`;
          }
          document.onpointermove = null;
          document.onpointerup = null;
        };
      }
      (0, import_vue5.watch)(() => smallMeta.value, () => {
        if (smallMeta.value) {
          showSider.value = false;
        }
      }, { immediate: true });
      const showDrawer = (0, import_vue5.computed)(() => showSider.value && smallMeta.value);
      function closeDrawer() {
        showSider.value = false;
      }
      function toggleSider() {
        showSider.value = !showSider.value;
      }
      const __returned__ = { smallMeta, props, sider, main, container, resizerContainer, mainResizerContainer, rightContainer, hasTitle, hasTools, hasSider, hasMain, hasDetail, height, showSider, dragLRController, showDrawer, closeDrawer, toggleSider, get MoreFilled() {
        return import_icons_vue.MoreFilled;
      }, ToggleBtn: ToggleBtn_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=style&index=0
  var page_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu_pm/guigu_pm/public/js/components/page/index.vue?type=template
  var import_vue6 = __require("vue");
  var _hoisted_12 = {
    key: 0,
    class: "title container"
  };
  var _hoisted_22 = { class: "container guigu-container" };
  var _hoisted_32 = { class: "tools" };
  var _hoisted_42 = { class: "tools small-meta_tools" };
  var _hoisted_5 = { key: 1 };
  var _hoisted_6 = { class: "popover-tools" };
  function render2(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_icon = (0, import_vue6.resolveComponent)("el-icon");
    const _component_el_popover = (0, import_vue6.resolveComponent)("el-popover");
    const _component_el_drawer = (0, import_vue6.resolveComponent)("el-drawer");
    return (0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)(import_vue6.Fragment, null, [
      $setup.hasTitle ? ((0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)("div", _hoisted_12, [
        (0, import_vue6.createVNode)($setup["ToggleBtn"], {
          expand: $setup.showSider,
          "onUpdate:expand": _cache[0] || (_cache[0] = ($event) => $setup.showSider = $event)
        }, null, 8, ["expand"]),
        (0, import_vue6.renderSlot)(_ctx.$slots, "title", {}, void 0, true)
      ])) : (0, import_vue6.createCommentVNode)("v-if", true),
      (0, import_vue6.createElementVNode)("div", _hoisted_22, [
        (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", _hoisted_32, [
          (0, import_vue6.renderSlot)(_ctx.$slots, "tools", {}, void 0, true)
        ], 512), [
          [import_vue6.vShow, $setup.hasTools && !$setup.smallMeta]
        ]),
        (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", _hoisted_42, [
          !$setup.hasTitle ? ((0, import_vue6.openBlock)(), (0, import_vue6.createBlock)($setup["ToggleBtn"], {
            key: 0,
            expand: $setup.showSider,
            "onUpdate:expand": _cache[1] || (_cache[1] = ($event) => $setup.showSider = $event)
          }, null, 8, ["expand"])) : ((0, import_vue6.openBlock)(), (0, import_vue6.createElementBlock)("div", _hoisted_5)),
          (0, import_vue6.createVNode)(_component_el_popover, {
            placement: "bottom-start",
            width: 300,
            trigger: "click"
          }, {
            reference: (0, import_vue6.withCtx)(() => [
              (0, import_vue6.createVNode)(_component_el_icon, { size: "20px" }, {
                default: (0, import_vue6.withCtx)(() => [
                  (0, import_vue6.createVNode)($setup["MoreFilled"])
                ]),
                _: 1
              })
            ]),
            default: (0, import_vue6.withCtx)(() => [
              (0, import_vue6.createElementVNode)("div", _hoisted_6, [
                (0, import_vue6.renderSlot)(_ctx.$slots, "tools", {}, void 0, true)
              ])
            ]),
            _: 3
          })
        ], 512), [
          [import_vue6.vShow, $setup.smallMeta]
        ]),
        (0, import_vue6.createElementVNode)("div", {
          class: (0, import_vue6.normalizeClass)([$props.mode === "vertical" ? "vertical" : "horizon", "main-container"]),
          ref: "container"
        }, [
          (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
            style: (0, import_vue6.normalizeStyle)($props.siderStyle),
            class: (0, import_vue6.normalizeClass)(["sider", { onlySider: $setup.hasSider && !$setup.hasDetail && !$setup.hasMain }]),
            ref: "sider"
          }, [
            (0, import_vue6.renderSlot)(_ctx.$slots, "sider", {}, void 0, true)
          ], 6), [
            [import_vue6.vShow, $setup.hasSider && !$setup.smallMeta && $setup.showSider]
          ]),
          (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
            class: (0, import_vue6.normalizeClass)([$props.mode === "vertical" ? "vertical" : "horizon", "resizer-container"]),
            ref: "resizerContainer"
          }, [
            (0, import_vue6.createElementVNode)("div", {
              class: "resizer",
              title: "\u4FA7\u8FB9\u680Fresizer",
              onPointerdown: $setup.dragLRController
            }, null, 32)
          ], 2), [
            [import_vue6.vShow, $setup.hasSider && ($setup.hasDetail || $setup.hasMain) && !$setup.smallMeta && $setup.showSider]
          ]),
          (0, import_vue6.createElementVNode)("div", {
            class: (0, import_vue6.normalizeClass)([$props.rightMode === "vertical" ? "vertical" : "horizon", "right"]),
            ref: "rightContainer"
          }, [
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              style: (0, import_vue6.normalizeStyle)($props.mainStyle),
              class: (0, import_vue6.normalizeClass)(["main", { noDetail: !$setup.hasDetail }]),
              ref: "main"
            }, [
              (0, import_vue6.renderSlot)(_ctx.$slots, "default", {}, void 0, true)
            ], 6), [
              [import_vue6.vShow, $setup.hasMain]
            ]),
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              class: (0, import_vue6.normalizeClass)([$props.rightMode === "vertical" ? "vertical" : "horizon", "resizer-container"]),
              ref: "mainResizerContainer"
            }, [
              (0, import_vue6.createElementVNode)("div", {
                class: "resizer",
                title: "main resizer",
                onPointerdown: $setup.dragLRController
              }, null, 32)
            ], 2), [
              [import_vue6.vShow, $setup.hasDetail && $setup.hasMain]
            ]),
            (0, import_vue6.withDirectives)((0, import_vue6.createElementVNode)("div", {
              style: (0, import_vue6.normalizeStyle)($props.detailStyle),
              class: "detail"
            }, [
              (0, import_vue6.renderSlot)(_ctx.$slots, "detail", {}, void 0, true)
            ], 4), [
              [import_vue6.vShow, $setup.hasDetail]
            ])
          ], 2)
        ], 2)
      ]),
      (0, import_vue6.createVNode)(_component_el_drawer, {
        modelValue: $setup.showDrawer,
        "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.showDrawer = $event),
        onClose: $setup.closeDrawer,
        title: "",
        direction: "ltr",
        size: "50%"
      }, {
        default: (0, import_vue6.withCtx)(() => [
          (0, import_vue6.renderSlot)(_ctx.$slots, "sider", {}, void 0, true)
        ]),
        _: 3
      }, 8, ["modelValue"])
    ], 64);
  }

  // ../guigu_pm/guigu_pm/public/js/components/page/index.vue
  page_default2(page_default);
  page_default.render = render2;
  page_default.__file = "../guigu_pm/guigu_pm/public/js/components/page/index.vue";
  page_default.__scopeId = "data-v-2cbdb5e9";
  var page_default3 = page_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=script
  var import_vue10 = __require("vue");
  var import_vue11 = __require("vue");

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/helper.ts
  function list2Tree(listData, parentField) {
    const listDataCopy = structuredClone(listData);
    const treeData = [];
    const map = {};
    listDataCopy.forEach((item2) => {
      map[item2.name] = item2;
    });
    listDataCopy.forEach((item2) => {
      const parent = map[item2[parentField] || 0];
      if (parent) {
        (parent.children || (parent.children = [])).push(item2);
      } else {
        treeData.push(item2);
      }
    });
    return treeData;
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=script
  var import_vue7 = __require("vue");
  var import_vue8 = __require("vue");
  var import_icons_vue2 = __require("@element-plus/icons-vue");
  var import_element_plus = __require("element-plus");
  var TreeItem_default = /* @__PURE__ */ (0, import_vue7.defineComponent)({
    __name: "TreeItem",
    props: {
      node: { type: null, required: true }
    },
    emits: ["update:modelValue", "reload"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const tt2 = __;
      async function deleteOrganization() {
        import_element_plus.ElMessageBox.confirm(
          "\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u7EC4\u7EC7\u5417?",
          "\u8BF7\u786E\u8BA4",
          {
            confirmButtonText: "\u786E\u5B9A",
            cancelButtonText: "\u53D6\u6D88",
            type: "warning"
          }
        ).then(async () => {
          await frappe.db.delete_doc("Tianjy Organization", props.node.data.name);
          emit("reload");
          (0, import_element_plus.ElMessage)({
            type: "success",
            message: "\u5220\u9664\u6210\u529F"
          });
        }).catch(() => {
          (0, import_element_plus.ElMessage)({
            type: "info",
            message: "\u53D6\u6D88\u5220\u9664"
          });
        });
      }
      const childTypes = (0, import_vue8.computed)(() => props.node.data.child_type_list);
      function command(v) {
        switch (v) {
          case "delete":
            return deleteOrganization();
        }
      }
      function createByType(type) {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization");
        frappe.model.set_value("Tianjy Organization", newDoc, "type", type.name);
        frappe.model.set_value("Tianjy Organization", newDoc, "parent_organization", props.node.data.name);
        frappe.set_route(["form", "Tianjy Organization", newDoc]);
      }
      const __returned__ = { props, tt: tt2, emit, deleteOrganization, childTypes, command, createByType, get MoreFilled() {
        return import_icons_vue2.MoreFilled;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=style&index=0
  var TreeItem_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue?type=template
  var import_vue9 = __require("vue");
  var _withScopeId2 = (n) => ((0, import_vue9.pushScopeId)("data-v-a835aba7"), n = n(), (0, import_vue9.popScopeId)(), n);
  var _hoisted_13 = { class: "custom-tree-node" };
  var _hoisted_23 = { class: "el-dropdown-link" };
  var _hoisted_33 = /* @__PURE__ */ _withScopeId2(() => /* @__PURE__ */ (0, import_vue9.createElementVNode)("span", { class: "delete" }, "\u5220\u9664", -1));
  function render3(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_icon = (0, import_vue9.resolveComponent)("el-icon");
    const _component_el_dropdown_item = (0, import_vue9.resolveComponent)("el-dropdown-item");
    const _component_el_dropdown_menu = (0, import_vue9.resolveComponent)("el-dropdown-menu");
    const _component_el_dropdown = (0, import_vue9.resolveComponent)("el-dropdown");
    return (0, import_vue9.openBlock)(), (0, import_vue9.createElementBlock)("div", _hoisted_13, [
      (0, import_vue9.createElementVNode)("span", null, (0, import_vue9.toDisplayString)($props.node.label), 1),
      $props.node.data.permissions.createPermission || $props.node.data.permissions.deletePermission ? ((0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_dropdown, {
        key: 0,
        onCommand: $setup.command
      }, {
        dropdown: (0, import_vue9.withCtx)(() => [
          (0, import_vue9.createVNode)(_component_el_dropdown_menu, null, {
            default: (0, import_vue9.withCtx)(() => {
              var _a;
              return [
                $setup.childTypes.length > 0 && $props.node.data.permissions.createPermission ? ((0, import_vue9.openBlock)(true), (0, import_vue9.createElementBlock)(import_vue9.Fragment, { key: 0 }, (0, import_vue9.renderList)($setup.childTypes, (type) => {
                  return (0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_dropdown_item, {
                    command: "add",
                    onClick: ($event) => $setup.createByType(type)
                  }, {
                    default: (0, import_vue9.withCtx)(() => [
                      (0, import_vue9.createTextVNode)(" \u65B0\u5EFA" + (0, import_vue9.toDisplayString)($setup.tt(type.name)), 1)
                    ]),
                    _: 2
                  }, 1032, ["onClick"]);
                }), 256)) : (0, import_vue9.createCommentVNode)("v-if", true),
                $props.node.data.permissions.deletePermission && !((_a = $props.node.data.children) == null ? void 0 : _a.length) ? ((0, import_vue9.openBlock)(), (0, import_vue9.createBlock)(_component_el_dropdown_item, {
                  key: 1,
                  command: "delete"
                }, {
                  default: (0, import_vue9.withCtx)(() => [
                    _hoisted_33
                  ]),
                  _: 1
                })) : (0, import_vue9.createCommentVNode)("v-if", true)
              ];
            }),
            _: 1
          })
        ]),
        default: (0, import_vue9.withCtx)(() => [
          (0, import_vue9.createElementVNode)("span", _hoisted_23, [
            (0, import_vue9.createVNode)(_component_el_icon, {
              class: "el-icon--right",
              onClick: _cache[0] || (_cache[0] = (e) => e.stopPropagation())
            }, {
              default: (0, import_vue9.withCtx)(() => [
                (0, import_vue9.createVNode)($setup["MoreFilled"])
              ]),
              _: 1
            })
          ])
        ]),
        _: 1
      })) : (0, import_vue9.createCommentVNode)("v-if", true)
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue
  TreeItem_default2(TreeItem_default);
  TreeItem_default.render = render3;
  TreeItem_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/TreeItem.vue";
  TreeItem_default.__scopeId = "data-v-a835aba7";
  var TreeItem_default3 = TreeItem_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=script
  var OrganizationTree_default = /* @__PURE__ */ (0, import_vue10.defineComponent)({
    __name: "OrganizationTree",
    props: {
      modelValue: { type: null, required: false },
      permissions: { type: null, required: true }
    },
    emits: ["update:modelValue"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      const organizationList = (0, import_vue11.ref)([]);
      const currentNodeKey = (0, import_vue11.ref)("");
      const loading = (0, import_vue11.ref)(false);
      (0, import_vue11.onMounted)(() => {
        getOrganizations();
      });
      async function getOrganizations() {
        var _a;
        loading.value = true;
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_organizations"
        });
        organizationList.value = (res == null ? void 0 : res.message) || [];
        if (!currentNodeKey.value) {
          currentNodeKey.value = (_a = organizationList.value[0]) == null ? void 0 : _a.name;
          emit("update:modelValue", organizationList.value[0]);
        }
        loading.value = false;
      }
      const organizationTree = (0, import_vue11.computed)(() => {
        for (const org of organizationList.value) {
          org.permissions = props.permissions;
        }
        return list2Tree((0, import_vue11.toRaw)(organizationList.value), "parent_organization");
      });
      function handleNodeClick(data) {
        emit("update:modelValue", data);
      }
      function createOrganization() {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization");
        frappe.set_route(["form", "Tianjy Organization", newDoc]);
      }
      async function handleDrop(draggingNode, dropNode, dropType, ev) {
        const before2 = dropType === "inner" ? false : dropType === "before";
        const children = dropType === "inner";
        loading.value = true;
        await frappe.call("guigu.tree.tree_sort", {
          doctype: "Tianjy Organization",
          target: dropNode.data.name,
          docs: [draggingNode.data.name],
          before: before2,
          children
        });
        getOrganizations();
      }
      function allowDrop(draggingNode, dropNode, dropType) {
        switch (dropType) {
          case "next":
          case "prev":
            return before(draggingNode, dropNode);
          case "inner":
            return inner(draggingNode, dropNode);
          default:
            return true;
        }
      }
      function inner(draggingNode, dropNode) {
        if (!dropNode.data.child_type_list.some((type) => type.name === draggingNode.data.type)) {
          return false;
        }
        return true;
      }
      function before(draggingNode, dropNode) {
        if (dropNode.parent.level === 0 && draggingNode.data.type_doc.root_only !== 1) {
          console.log(dropNode.parent.level, draggingNode.data.type_doc.root_only, "false");
          return false;
        }
        if (dropNode.parent.level !== 0 && !dropNode.parent.data.child_type_list.some((type) => type.name === draggingNode.data.type)) {
          console.log(dropNode.parent.level, "false");
          return false;
        }
        return true;
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization") {
          return;
        }
        getOrganizations();
      });
      const __returned__ = { props, emit, organizationList, currentNodeKey, loading, getOrganizations, organizationTree, handleNodeClick, createOrganization, handleDrop, allowDrop, inner, before, TreeItem: TreeItem_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=style&index=0
  var OrganizationTree_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue?type=template
  var import_vue12 = __require("vue");
  var _hoisted_14 = { class: "sider-container" };
  var _hoisted_24 = { class: "btn-container" };
  var _hoisted_34 = { class: "tree-container" };
  function render4(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_button = (0, import_vue12.resolveComponent)("el-button");
    const _component_el_tree = (0, import_vue12.resolveComponent)("el-tree");
    const _directive_loading = (0, import_vue12.resolveDirective)("loading");
    return (0, import_vue12.withDirectives)(((0, import_vue12.openBlock)(), (0, import_vue12.createElementBlock)("div", _hoisted_14, [
      (0, import_vue12.createElementVNode)("div", _hoisted_24, [
        $props.permissions.createPermission ? ((0, import_vue12.openBlock)(), (0, import_vue12.createBlock)(_component_el_button, {
          key: 0,
          type: "primary",
          onClick: $setup.createOrganization
        }, {
          default: (0, import_vue12.withCtx)(() => [
            (0, import_vue12.createTextVNode)("\u65B0\u5EFA\u7EC4\u7EC7")
          ]),
          _: 1
        })) : (0, import_vue12.createCommentVNode)("v-if", true)
      ]),
      (0, import_vue12.createElementVNode)("div", _hoisted_34, [
        $setup.organizationTree.length > 0 ? ((0, import_vue12.openBlock)(), (0, import_vue12.createBlock)(_component_el_tree, {
          key: 0,
          data: $setup.organizationTree,
          onNodeClick: $setup.handleNodeClick,
          defaultExpandAll: "",
          highlightCurrent: "",
          nodeKey: "name",
          currentNodeKey: $setup.currentNodeKey,
          expandOnClickNode: false,
          draggable: "",
          onNodeDrop: $setup.handleDrop,
          allowDrop: $setup.allowDrop
        }, {
          default: (0, import_vue12.withCtx)(({ node, data }) => [
            (0, import_vue12.createVNode)($setup["TreeItem"], {
              node,
              onReload: $setup.getOrganizations
            }, null, 8, ["node"])
          ]),
          _: 1
        }, 8, ["data", "currentNodeKey"])) : (0, import_vue12.createCommentVNode)("v-if", true)
      ])
    ])), [
      [_directive_loading, $setup.loading]
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue
  OrganizationTree_default2(OrganizationTree_default);
  OrganizationTree_default.render = render4;
  OrganizationTree_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/OrganizationTree.vue";
  OrganizationTree_default.__scopeId = "data-v-7ff9d4db";
  var OrganizationTree_default3 = OrganizationTree_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=script
  var import_vue23 = __require("vue");
  var import_vue24 = __require("vue");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=script
  var import_vue20 = __require("vue");
  var import_vue21 = __require("vue");

  // guigu/public/js/utils/getLink.ts
  function getLink(data, meta, linkField) {
    if (!data) {
      return;
    }
    if (!meta) {
      return;
    }
    if (!linkField) {
      return;
    }
    const { fields } = meta;
    if (!fields) {
      return;
    }
    const link = data[linkField];
    const name = typeof link === "string" && link;
    if (!name) {
      return;
    }
    const field = fields.find((v) => v.fieldname === linkField);
    if (!field) {
      return;
    }
    const option = field.options;
    if (!option) {
      return;
    }
    if (field.fieldtype === "Link") {
      return [option, name];
    }
    if (field.fieldtype !== "Dynamic Link") {
      return;
    }
    const dynamicLinkField = fields.find((v) => v.fieldname === option);
    if (!dynamicLinkField) {
      return;
    }
    if (dynamicLinkField.fieldtype !== "Link") {
      return;
    }
    if (dynamicLinkField.options !== "DocType") {
      return;
    }
    const doctype = data[option];
    if (typeof doctype !== "string" || !doctype) {
      return;
    }
    return [doctype, name];
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=script
  var import_vue17 = __require("vue");
  var import_vue18 = __require("vue");
  var import_core = __require("@vueuse/core");

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=script
  var import_vue13 = __require("vue");
  var import_vue14 = __require("vue");
  var Header_default = /* @__PURE__ */ (0, import_vue13.defineComponent)({
    __name: "Header",
    props: {
      hasSider: { type: Boolean, required: false },
      open: { type: Boolean, required: false },
      isHideClose: { type: Boolean, required: false }
    },
    emits: ["hide", "refresh", "update:open"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function hide() {
        emit("hide");
      }
      const opened = (0, import_vue14.computed)({
        get: () => props.open,
        set(v) {
          emit("update:open", Boolean(v));
        }
      });
      const tt2 = __;
      const __returned__ = { props, emit, hide, opened, tt: tt2 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=style&index=0
  var key = "$style";
  var cssModule = { "header": "_header_pve6u_1" };
  var Header_default2 = (script) => {
    if (!script.__cssModules) {
      script.__cssModules = {};
    }
    const cssModules = script.__cssModules;
    const value = key in cssModules && cssModules[key];
    if (value && typeof value === "object") {
      Object.assign(value, cssModule);
    } else {
      cssModules[key] = cssModule;
    }
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Header.vue?type=template
  var import_vue15 = __require("vue");
  var _hoisted_15 = { class: "col-md-4 col-sm-6 col-xs-8 page-title" };
  var _hoisted_25 = ["title"];
  var _hoisted_35 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-md sidebar-toggle-placeholder" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-menu" })
  ], -1);
  var _hoisted_43 = { class: "icon icon-md" };
  var _hoisted_52 = {
    key: 0,
    href: "#icon-sidebar-expand"
  };
  var _hoisted_62 = {
    key: 1,
    href: "#icon-sidebar-collapse"
  };
  var _hoisted_7 = /* @__PURE__ */ (0, import_vue15.createStaticVNode)('<div class="flex fill-width title-area"><div><div class="flex"><h3 class="ellipsis title-text"></h3><span class="indicator-pill whitespace-nowrap"></span></div><div class="ellipsis sub-heading hide text-muted"></div></div><button class="btn btn-default more-button hide"><svg class="icon icon-sm"><use href="#icon-dot-horizontal"></use></svg></button></div>', 1);
  var _hoisted_8 = { class: "flex col page-actions justify-content-end" };
  var _hoisted_9 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("div", { class: "custom-actions hide hidden-xs hidden-md" }, null, -1);
  var _hoisted_10 = { class: "standard-actions flex" };
  var _hoisted_11 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", { class: "page-icon-group hide hidden-xs hidden-sm" }, null, -1);
  var _hoisted_122 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("div", { class: "menu-btn-group hide" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", {
      type: "button",
      class: "btn btn-default icon-btn",
      "data-toggle": "dropdown",
      "aria-expanded": "false"
    }, [
      /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", null, [
        /* @__PURE__ */ (0, import_vue15.createElementVNode)("span", { class: "menu-btn-group-label" }, [
          /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-sm" }, [
            /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-dot-horizontal" })
          ])
        ])
      ])
    ]),
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("ul", {
      class: "dropdown-menu dropdown-menu-right",
      role: "menu"
    })
  ], -1);
  var _hoisted_132 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", { class: "btn btn-secondary btn-default btn-sm hide" }, null, -1);
  var _hoisted_142 = { class: "actions-btn-group hide" };
  var _hoisted_152 = {
    type: "button",
    class: "btn btn-primary btn-sm",
    "data-toggle": "dropdown",
    "aria-expanded": "false"
  };
  var _hoisted_16 = { class: "actions-btn-group-label" };
  var _hoisted_17 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("svg", { class: "icon icon-xs" }, [
    /* @__PURE__ */ (0, import_vue15.createElementVNode)("use", { href: "#icon-select" })
  ], -1);
  var _hoisted_18 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("ul", {
    class: "dropdown-menu dropdown-menu-right",
    role: "menu"
  }, null, -1);
  var _hoisted_19 = /* @__PURE__ */ (0, import_vue15.createElementVNode)("button", { class: "btn btn-primary btn-sm hide primary-action" }, null, -1);
  function render5(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("div", {
      class: (0, import_vue15.normalizeClass)(_ctx.$style.header)
    }, [
      (0, import_vue15.createElementVNode)("div", _hoisted_15, [
        (0, import_vue15.createCommentVNode)(' <div class="title-image hide hidden-md hidden-lg"></div> '),
        (0, import_vue15.createCommentVNode)(" title "),
        $props.hasSider ? ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("span", {
          key: 0,
          class: "sidebar-toggle-btn",
          title: $setup.tt("Toggle Sidebar")
        }, [
          _hoisted_35,
          (0, import_vue15.createElementVNode)("span", {
            class: "sidebar-toggle-icon",
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.opened = !$setup.opened)
          }, [
            ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("svg", _hoisted_43, [
              $props.open ? ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("use", _hoisted_52)) : ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("use", _hoisted_62))
            ]))
          ])
        ], 8, _hoisted_25)) : (0, import_vue15.createCommentVNode)("v-if", true),
        _hoisted_7
      ]),
      (0, import_vue15.createElementVNode)("div", _hoisted_8, [
        (0, import_vue15.createCommentVNode)(" buttons "),
        _hoisted_9,
        (0, import_vue15.createElementVNode)("div", _hoisted_10, [
          _hoisted_11,
          _hoisted_122,
          _hoisted_132,
          (0, import_vue15.createElementVNode)("div", _hoisted_142, [
            (0, import_vue15.createElementVNode)("button", _hoisted_152, [
              (0, import_vue15.createElementVNode)("span", null, [
                (0, import_vue15.createElementVNode)("span", _hoisted_16, (0, import_vue15.toDisplayString)($setup.tt("Actions")), 1),
                _hoisted_17
              ])
            ]),
            _hoisted_18
          ]),
          _hoisted_19,
          !$props.isHideClose ? ((0, import_vue15.openBlock)(), (0, import_vue15.createElementBlock)("button", {
            key: 0,
            class: "btn btn-sm",
            onClick: $setup.hide
          }, (0, import_vue15.toDisplayString)($setup.tt("Close")), 1)) : (0, import_vue15.createCommentVNode)("v-if", true)
        ])
      ])
    ], 2);
  }

  // guigu/public/js/FormDetail/Header.vue
  Header_default2(Header_default);
  Header_default.render = render5;
  Header_default.__file = "guigu/public/js/FormDetail/Header.vue";
  var Header_default3 = Header_default;

  // guigu/public/js/FormDetail/Footer.ts
  var Footer = class {
    constructor(opts) {
      $.extend(this, opts);
      this.make();
      this.make_comment_box();
      this.make_timeline();
      $(this.frm.wrapper).on("render_complete", () => {
        this.refresh();
      });
    }
    make() {
      const wrapper = $(`<div class="form-footer">
	<div class="after-save">
		<div class="comment-box"></div>
		<div class="timeline"></div>
	</div>
</div>`).appendTo(this.parent);
      const toTop = document.createElement("button");
      toTop.className = "scroll-to-top btn btn-default icon-btn";
      toTop.innerHTML = '<svg class="icon icon-xs"><use href="#icon-up-line"></use></svg>';
      toTop.addEventListener("click", () => {
        let e = toTop;
        while (e = e.parentElement) {
          if (e.scrollTop) {
            break;
          }
        }
        if (e) {
          frappe.utils.scroll_to(0, true, 0, $(e));
        }
      });
      wrapper.append(toTop);
      this.wrapper = wrapper;
      wrapper.find(".btn-save").on("click", () => {
        this.frm.save("Save", null, this);
      });
    }
    make_comment_box() {
      frappe.ui.form.Footer.prototype.make_comment_box.call(this);
    }
    make_timeline() {
      frappe.ui.form.Footer.prototype.make_timeline.call(this);
    }
    refresh() {
      frappe.ui.form.Footer.prototype.refresh.call(this);
    }
  };
  var Footer_default = Footer;

  // guigu/public/js/FormDetail/Page.ts
  var Page = class {
    constructor(parent, single_column) {
      this.set_document_title = true;
      this.buttons = {};
      this.fields_dict = {};
      this.views = {};
      this.parent = parent;
      this.single_column = single_column ? true : false;
      this.wrapper = $(parent);
      const mainView = $(this.wrapper).find(".page-content").find(".row.layout-main");
      this.views.main = mainView;
      this.current_view = mainView;
      this.setup_page();
      this.setup_scroll_handler();
      this.setup_sidebar_toggle();
    }
    setup_scroll_handler() {
    }
    get_empty_state(title, message, primary_action) {
      let $empty_state = $(`<div class="page-card-container">
			<div class="page-card">
				<div class="page-card-head">
					<span class="indicator blue">
						${title}</span>
				</div>
				<p>${message}</p>
				<div>
					<button class="btn btn-primary btn-sm">${primary_action}</button>
				</div>
			</div>
		</div>`);
      return $empty_state;
    }
    load_lib(callback) {
      frappe.require(this.required_libs, callback);
    }
    add_main_section() {
    }
    setup_page() {
      this.$title_area = this.wrapper.find(".title-area");
      this.$sub_title_area = this.wrapper.find("h6");
      this.body = this.main = this.wrapper.find(".layout-main-section");
      this.container = this.wrapper.find(".page-body");
      this.sidebar = this.wrapper.find(".layout-side-section");
      this.footer = this.wrapper.find(".layout-footer");
      this.indicator = this.wrapper.find(".indicator-pill");
      this.page_actions = this.wrapper.find(".page-actions");
      this.btn_primary = this.page_actions.find(".primary-action");
      this.btn_secondary = this.page_actions.find(".btn-secondary");
      this.menu = this.page_actions.find(".menu-btn-group .dropdown-menu");
      this.menu_btn_group = this.page_actions.find(".menu-btn-group");
      this.actions = this.page_actions.find(".actions-btn-group .dropdown-menu");
      this.actions_btn_group = this.page_actions.find(".actions-btn-group");
      this.standard_actions = this.page_actions.find(".standard-actions");
      this.custom_actions = this.page_actions.find(".custom-actions");
      this.page_form = $('<div class="page-form row hide"></div>').prependTo(this.main);
      this.inner_toolbar = this.custom_actions;
      this.icon_group = this.page_actions.find(".page-icon-group");
      this.card_layout && this.main.addClass("frappe-card");
      let menu_btn = this.menu_btn_group.find("button");
      menu_btn.attr("title", __("Menu")).tooltip({ delay: { show: 600, hide: 100 } });
      frappe.ui.keys.get_shortcut_group(this.page_actions[0]).add(menu_btn, menu_btn.find(".menu-btn-group-label"));
      let action_btn = this.actions_btn_group.find("button");
      frappe.ui.keys.get_shortcut_group(this.page_actions[0]).add(action_btn, action_btn.find(".actions-btn-group-label"));
    }
    setup_sidebar_toggle() {
      let sidebar_toggle = this.wrapper.find(".guigu-form-detail-page-head ").find(".sidebar-toggle-btn");
      let sidebar_wrapper = this.wrapper.find(".layout-side-section");
      sidebar_toggle.click(() => {
        $(document.body).trigger("toggleSidebar");
        this.update_sidebar_icon();
      });
    }
    setup_overlay_sidebar() {
    }
    update_sidebar_icon() {
      let sidebar_toggle = $(".page-head").find(".sidebar-toggle-btn");
      let sidebar_toggle_icon = sidebar_toggle.find(".sidebar-toggle-icon");
      let sidebar_wrapper = this.wrapper.find(".layout-side-section");
      let is_sidebar_visible = $(sidebar_wrapper).is(":visible");
      sidebar_toggle_icon.html(
        frappe.utils.icon(is_sidebar_visible ? "sidebar-collapse" : "sidebar-expand", "md")
      );
    }
    set_indicator(label, color) {
      this.clear_indicator().removeClass("hide").html(`<span>${label}</span>`).addClass(color);
    }
    add_action_icon(icon, click, css_class = "", tooltip_label) {
      const button = $(`
			<button class="text-muted btn btn-default ${css_class} icon-btn">
				${frappe.utils.icon(icon)}
			</button>
		`);
      button.appendTo(this.icon_group.removeClass("hide"));
      button.click(click);
      button.attr("title", __(tooltip_label || frappe.unscrub(icon))).tooltip({ delay: { show: 600, hide: 100 }, trigger: "hover" });
      return button;
    }
    clear_indicator() {
      return this.indicator.removeClass().addClass("indicator-pill whitespace-nowrap hide");
    }
    get_icon_label(icon, label) {
      let icon_name = icon;
      let size = "xs";
      if (typeof icon === "object") {
        icon_name = icon.icon;
        size = icon.size || "xs";
      }
      return `${icon ? frappe.utils.icon(icon_name, size) : ""} <span class="hidden-xs"> ${__(
        label
      )} </span>`;
    }
    set_action(btn, opts) {
      let me2 = this;
      if (opts.icon) {
        opts.label = this.get_icon_label(opts.icon, opts.label);
      }
      this.clear_action_of(btn);
      btn.removeClass("hide").prop("disabled", false).html(opts.label).on("click", function() {
        let response = opts.click.apply(this, [btn]);
        me2.btn_disable_enable(btn, response);
      });
      if (opts.working_label) {
        btn.attr("data-working-label", opts.working_label);
      }
      let text_span = btn.find("span");
      frappe.ui.keys.get_shortcut_group(this).add(btn, text_span.length ? text_span : btn);
    }
    set_primary_action(label, click, icon, working_label) {
      this.set_action(this.btn_primary, {
        label,
        click,
        icon,
        working_label
      });
      return this.btn_primary;
    }
    set_secondary_action(label, click, icon, working_label) {
      this.set_action(this.btn_secondary, {
        label,
        click,
        icon,
        working_label
      });
      return this.btn_secondary;
    }
    clear_action_of(btn) {
      btn.addClass("hide").unbind("click").removeAttr("data-working-label");
    }
    clear_primary_action() {
      this.clear_action_of(this.btn_primary);
    }
    clear_secondary_action() {
      this.clear_action_of(this.btn_secondary);
    }
    clear_actions() {
      this.clear_primary_action();
      this.clear_secondary_action();
    }
    clear_custom_actions() {
      this.custom_actions.addClass("hide").empty();
    }
    clear_icons() {
      this.icon_group.addClass("hide").empty();
    }
    add_menu_item(label, click, standard, shortcut, show_parent) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent: this.menu,
        shortcut,
        show_parent
      });
    }
    add_custom_menu_item(parent, label, click, standard, shortcut, icon = null) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent,
        shortcut,
        icon
      });
    }
    clear_menu() {
      this.clear_btn_group(this.menu);
    }
    show_menu() {
      this.menu_btn_group.removeClass("hide");
    }
    hide_menu() {
      this.menu_btn_group.addClass("hide");
    }
    show_icon_group() {
      this.icon_group.removeClass("hide");
    }
    hide_icon_group() {
      this.icon_group.addClass("hide");
    }
    show_actions_menu() {
      this.actions_btn_group.removeClass("hide");
    }
    hide_actions_menu() {
      this.actions_btn_group.addClass("hide");
    }
    add_action_item(label, click, standard) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        parent: this.actions
      });
    }
    add_actions_menu_item(label, click, standard, shortcut) {
      return this.add_dropdown_item({
        label,
        click,
        standard,
        shortcut,
        parent: this.actions,
        show_parent: false
      });
    }
    clear_actions_menu() {
      this.clear_btn_group(this.actions);
    }
    add_dropdown_item({
      label,
      click,
      standard,
      parent,
      shortcut,
      show_parent = true,
      icon = null
    }) {
      if (show_parent) {
        parent.parent().removeClass("hide hidden-xl");
      }
      let $link = this.is_in_group_button_dropdown(parent, "li > a.grey-link > span", label);
      if ($link) {
        return $link;
      }
      let $li;
      let $icon = ``;
      if (icon) {
        $icon = `<span class="menu-item-icon">${frappe.utils.icon(icon)}</span>`;
      }
      if (shortcut) {
        let shortcut_obj = this.prepare_shortcut_obj(shortcut, click, label);
        $li = $(`
				<li>
					<a class="grey-link dropdown-item" href="#" onClick="return false;">
						${$icon}
						<span class="menu-item-label">${label}</span>
						<kbd class="pull-right">
							<span>${shortcut_obj.shortcut_label}</span>
						</kbd>
					</a>
				</li>
			`);
        frappe.ui.keys.add_shortcut(shortcut_obj);
      } else {
        $li = $(`
				<li>
					<a class="grey-link dropdown-item" href="#" onClick="return false;">
						${$icon}
						<span class="menu-item-label">${label}</span>
					</a>
				</li>
			`);
      }
      $link = $li.find("a").on("click", (e) => {
        if (e.ctrlKey || e.metaKey) {
          frappe.open_in_new_tab = true;
        }
        return click();
      });
      if (standard) {
        $li.appendTo(parent);
      } else {
        this.divider = parent.find(".dropdown-divider");
        if (!this.divider.length) {
          this.divider = $('<li class="dropdown-divider user-action"></li>').prependTo(
            parent
          );
        }
        $li.addClass("user-action").insertBefore(this.divider);
      }
      frappe.ui.keys.get_shortcut_group(parent.get(0)).add($link, $link.find(".menu-item-label"));
      return $link;
    }
    prepare_shortcut_obj(shortcut, click, label) {
      let shortcut_obj;
      if (typeof shortcut === "string") {
        shortcut_obj = { shortcut };
      } else {
        shortcut_obj = shortcut;
      }
      if (frappe.utils.is_mac()) {
        shortcut_obj.shortcut_label = shortcut_obj.shortcut.replace("Ctrl", "\u2318");
      } else {
        shortcut_obj.shortcut_label = shortcut_obj.shortcut;
      }
      shortcut_obj.shortcut = shortcut_obj.shortcut.toLowerCase();
      if (!shortcut_obj.action) {
        shortcut_obj.action = click;
      }
      if (!shortcut_obj.description) {
        shortcut_obj.description = label;
      }
      shortcut_obj.page = this;
      return shortcut_obj;
    }
    is_in_group_button_dropdown(parent, selector, label) {
      if (!selector) {
        selector = "li";
      }
      if (!label || !parent) {
        return false;
      }
      const item_selector = `${selector}[data-label="${encodeURIComponent(label)}"]`;
      const existing_items = $(parent).find(item_selector);
      return (existing_items == null ? void 0 : existing_items.length) > 0 && existing_items;
    }
    clear_btn_group(parent) {
      parent.empty();
      parent.parent().addClass("hide");
    }
    add_divider() {
      return $('<li class="dropdown-divider"></li>').appendTo(this.menu);
    }
    get_or_add_inner_group_button(label) {
      let $group = this.inner_toolbar.find(
        `.inner-group-button[data-label="${encodeURIComponent(label)}"]`
      );
      if (!$group.length) {
        $group = $(
          `<div class="inner-group-button" data-label="${encodeURIComponent(label)}">
					<button type="button" class="btn btn-default ellipsis" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						${label}
						${frappe.utils.icon("select", "xs")}
					</button>
					<div role="menu" class="dropdown-menu"></div>
				</div>`
        ).appendTo(this.inner_toolbar);
      }
      return $group;
    }
    get_inner_group_button(label) {
      return this.inner_toolbar.find(
        `.inner-group-button[data-label="${encodeURIComponent(label)}"]`
      );
    }
    set_inner_btn_group_as_primary(label) {
      this.get_or_add_inner_group_button(label).find("button").removeClass("btn-default").addClass("btn-primary");
    }
    btn_disable_enable(btn, response) {
      if (response && response.then) {
        btn.prop("disabled", true);
        response.then(() => {
          btn.prop("disabled", false);
        });
      } else if (response && response.always) {
        btn.prop("disabled", true);
        response.always(() => {
          btn.prop("disabled", false);
        });
      }
    }
    add_inner_button(label, action, group, type = "default") {
      let me2 = this;
      let _action = function() {
        let btn = $(this);
        let response = action();
        me2.btn_disable_enable(btn, response);
      };
      let menu_item_label = group ? `${group} > ${label}` : label;
      let menu_item = this.add_menu_item(menu_item_label, _action, false, false, false);
      menu_item.parent().addClass("hidden-xl");
      if (this.menu_btn_group.hasClass("hide")) {
        this.menu_btn_group.removeClass("hide").addClass("hidden-xl");
      }
      if (group) {
        let $group = this.get_or_add_inner_group_button(group);
        $(this.inner_toolbar).removeClass("hide");
        if (!this.is_in_group_button_dropdown($group.find(".dropdown-menu"), "a", label)) {
          return $(
            `<a class="dropdown-item" href="#" onclick="return false;" data-label="${encodeURIComponent(
              label
            )}">${label}</a>`
          ).on("click", _action).appendTo($group.find(".dropdown-menu"));
        }
      } else {
        let button = this.inner_toolbar.find(
          `button[data-label="${encodeURIComponent(label)}"]`
        );
        if (button.length == 0) {
          button = $(`<button data-label="${encodeURIComponent(
            label
          )}" class="btn btn-${type} ellipsis">
					${__(label)}
				</button>`);
          button.on("click", _action);
          button.appendTo(this.inner_toolbar.removeClass("hide"));
        }
        return button;
      }
    }
    remove_inner_button(label, group) {
      if (typeof label === "string") {
        label = [label];
      }
      label = label.map((l) => __(l));
      if (group) {
        let $group = this.get_inner_group_button(__(group));
        if ($group.length) {
          $group.find(`.dropdown-item[data-label="${encodeURIComponent(label)}"]`).remove();
        }
        if ($group.find(".dropdown-item").length === 0) {
          $group.remove();
        }
      } else {
        this.inner_toolbar.find(`button[data-label="${encodeURIComponent(label)}"]`).remove();
      }
    }
    change_inner_button_type(label, group, type) {
      let btn;
      if (group) {
        let $group = this.get_inner_group_button(__(group));
        if ($group.length) {
          btn = $group.find(`.dropdown-item[data-label="${encodeURIComponent(label)}"]`);
        }
      } else {
        btn = this.inner_toolbar.find(`button[data-label="${encodeURIComponent(label)}"]`);
      }
      if (btn) {
        btn.removeClass().addClass(`btn btn-${type} ellipsis`);
      }
    }
    add_inner_message(message) {
      let $message = $(`<span class='inner-page-message text-muted small'>${message}</div>`);
      this.inner_toolbar.find(".inner-page-message").remove();
      this.inner_toolbar.removeClass("hide").prepend($message);
      return $message;
    }
    clear_inner_toolbar() {
      this.inner_toolbar.empty().addClass("hide");
    }
    add_sidebar_item(label, action, insert_after, prepend) {
      let parent = this.sidebar.find(".sidebar-menu.standard-actions");
      let li2 = $("<li>");
      let link = $("<a>").html(label).on("click", action).appendTo(li2);
      if (insert_after) {
        li2.insertAfter(parent.find(insert_after));
      } else if (prepend) {
        li2.prependTo(parent);
      } else {
        li2.appendTo(parent);
      }
      return link;
    }
    clear_user_actions() {
      this.menu.find(".user-action").remove();
    }
    get_title_area() {
      return this.$title_area;
    }
    set_title(title, icon = null, strip = true, tab_title = "") {
      if (!title) {
        title = "";
      }
      if (strip) {
        title = strip_html(title);
      }
      this.title = title;
      if (icon) {
        title = `${frappe.utils.icon(icon)} ${title}`;
      }
      let title_wrapper = this.$title_area.find(".title-text");
      title_wrapper.html(title);
      title_wrapper.attr("title", this.title);
    }
    set_title_sub(txt) {
      this.$sub_title_area.html(txt).toggleClass("hide", Boolean(!txt));
    }
    get_main_icon(icon) {
      return this.$title_area.find(".title-icon").html(`<i class="${icon} fa-fw"></i> `).toggle(true);
    }
    add_help_button(txt) {
    }
    add_button(label, click, opts) {
      if (!opts) {
        opts = {};
      }
      let button = $(`<button
			class="btn ${opts.btn_class || "btn-default"} ${opts.btn_size || "btn-sm"} ellipsis">
				${opts.icon ? frappe.utils.icon(opts.icon) : ""}
				${label}
		</button>`);
      let menu_item = this.add_menu_item(label, click, false);
      menu_item.parent().addClass("hidden-xl");
      button.appendTo(this.custom_actions);
      button.on("click", click);
      this.custom_actions.removeClass("hide");
      return button;
    }
    add_custom_button_group(label, icon, parent) {
      let dropdown_label = `<span class="hidden-xs">
			<span class="custom-btn-group-label">${__(label)}</span>
			${frappe.utils.icon("select", "xs")}
		</span>`;
      if (icon) {
        dropdown_label = `<span class="hidden-xs">
				${frappe.utils.icon(icon)}
				<span class="custom-btn-group-label">${__(label)}</span>
				${frappe.utils.icon("select", "xs")}
			</span>
			<span class="visible-xs">
				${frappe.utils.icon(icon)}
			</span>`;
      }
      let custom_btn_group = $(`
			<div class="custom-btn-group">
				<button type="button" class="btn btn-default btn-sm ellipsis" data-toggle="dropdown" aria-expanded="false">
					${dropdown_label}
				</button>
				<ul class="dropdown-menu" role="menu"></ul>
			</div>
		`);
      if (!parent) {
        parent = this.custom_actions;
      }
      parent.removeClass("hide").append(custom_btn_group);
      return custom_btn_group.find(".dropdown-menu");
    }
    add_dropdown_button(parent, label, click, icon) {
      frappe.ui.toolbar.add_dropdown_button(parent, label, click, icon);
    }
    add_label(label) {
      this.show_form();
      return $(`<label class='col-md-1 page-only-label'>${label} </label>`).appendTo(
        this.page_form
      );
    }
    add_select(label, options) {
      let field = this.add_field({ label, fieldtype: "Select" });
      return field.$wrapper.find("select").empty().add_options(options);
    }
    add_data(label) {
      let field = this.add_field({ label, fieldtype: "Data" });
      return field.$wrapper.find("input").attr("placeholder", label);
    }
    add_date(label, date) {
      let field = this.add_field({ label, fieldtype: "Date", default: date });
      return field.$wrapper.find("input").attr("placeholder", label);
    }
    add_check(label) {
      return $(`<div class='checkbox'><label><input type='checkbox'>${label}</label></div>`).appendTo(this.page_form).find("input");
    }
    add_break() {
      this.page_form.append('<div class="clearfix invisible-xs"></div>');
    }
    add_field(df, parent) {
      this.show_form();
      if (!df.placeholder) {
        df.placeholder = df.label;
      }
      df.input_class = "input-xs";
      let f = frappe.ui.form.make_control({
        df,
        parent: parent || this.page_form,
        only_input: df.fieldtype == "Check" ? false : true
      });
      f.refresh();
      $(f.wrapper).addClass("col-md-2").attr("title", __(df.label)).tooltip({
        delay: { show: 600, hide: 100 },
        trigger: "hover"
      });
      if (df.fieldtype == "HTML") {
        return;
      }
      if (!f.$input) {
        f.make_input();
      }
      f.$input.attr("placeholder", __(df.label));
      if (df.fieldtype === "Check") {
        $(f.wrapper).find(":first-child").removeClass("col-md-offset-4 col-md-8");
      }
      if (df.fieldtype == "Button") {
        $(f.wrapper).find(".page-control-label").html("&nbsp;");
        f.$input.addClass("btn-xs").css({ width: "100%", "margin-top": "-1px" });
      }
      if (df.default) {
        f.set_input(df.default);
      }
      this.fields_dict[df.fieldname || df.label] = f;
      return f;
    }
    clear_fields() {
      this.page_form.empty();
    }
    show_form() {
      this.page_form.removeClass("hide");
    }
    hide_form() {
      this.page_form.addClass("hide");
    }
    get_form_values() {
      let values = {};
      for (let fieldname in this.fields_dict) {
        let field = this.fields_dict[fieldname];
        values[fieldname] = field.get_value();
      }
      return values;
    }
    add_view(name, html) {
      let element = html;
      if (typeof html === "string") {
        element = $(html);
      }
      this.views[name] = element.appendTo($(this.wrapper).find(".page-content"));
      if (this.current_view) {
        this.views[name].toggle(false);
      } else {
        this.current_view = this.views[name];
      }
      return this.views[name];
    }
    set_view(name) {
      var _a;
      if (this.current_view_name === name) {
        return;
      }
      (_a = this.current_view) == null ? void 0 : _a.toggle(false);
      this.current_view = this.views[name];
      this.previous_view_name = this.current_view_name;
      this.current_view_name = name;
      this.views[name].toggle(true);
      this.wrapper.trigger("view-change");
    }
  };
  var Page_default = Page;

  // guigu/public/js/FormDetail/Toolbar.ts
  var Toolbar = class {
    constructor(frm, page) {
      this.frm = frm;
      this.page = page;
      this.refresh();
      this.add_update_button_on_dirty();
      this.setup_editable_title();
    }
    refresh() {
      this.make_menu();
      this.make_viewers();
      this.set_title();
      this.page.clear_user_actions();
      this.show_title_as_dirty();
      this.set_primary_action();
      if (this.frm.meta.hide_toolbar) {
        this.page.hide_menu();
      } else if (this.frm.doc.__islocal) {
        this.page.hide_menu();
        this.print_icon && this.print_icon.addClass("hide");
      } else {
        this.page.show_menu();
        this.print_icon && this.print_icon.removeClass("hide");
      }
    }
    set_title() {
      if (this.frm.is_new()) {
        var title = __("New {0}", [__(this.frm.meta.name)]);
      } else if (this.frm.meta.title_field) {
        let title_field = (this.frm.doc[this.frm.meta.title_field] || "").toString().trim();
        var title = strip_html(title_field || this.frm.docname);
        if (this.frm.doc.__islocal || title === this.frm.docname || this.frm.meta.autoname === "hash") {
          this.page.set_title_sub("");
        } else {
          this.page.set_title_sub(this.frm.docname);
          this.page.$sub_title_area.css("cursor", "copy");
          this.page.$sub_title_area.on("click", (event) => {
            event.stopImmediatePropagation();
            frappe.utils.copy_to_clipboard(this.frm.docname);
          });
        }
      } else {
        var title = this.frm.docname;
      }
      let me2 = this;
      title = __(title);
      this.page.set_title(title);
      if (this.frm.meta.title_field) {
        frappe.utils.set_title(`${title} - ${this.frm.docname}`);
      }
      this.page.$title_area.toggleClass(
        "editable-title",
        Boolean(this.is_title_editable() || this.can_rename())
      );
      this.set_indicator();
    }
    is_title_editable() {
      let { title_field } = this.frm.meta;
      let doc_field = this.frm.get_docfield(title_field);
      if (title_field && this.frm.perm[0].write && !this.frm.doc.__islocal && doc_field.fieldtype === "Data" && !doc_field.read_only) {
        return true;
      }
      return false;
    }
    can_rename() {
      return false;
    }
    show_unchanged_document_alert() {
      frappe.show_alert({
        indicator: "info",
        message: __("Unchanged")
      });
    }
    rename_document_title(input_name, input_title, merge = false) {
      let confirm_message = null;
      const docname = this.frm.doc.name;
      const title_field = this.frm.meta.title_field || "";
      const { doctype } = this.frm;
      let queue;
      if (this.frm.__rename_queue) {
        queue = this.frm.__rename_queue;
      }
      if (input_name) {
        const warning = __("This cannot be undone");
        const message = __("Are you sure you want to merge {0} with {1}?", [
          docname.bold(),
          input_name.bold()
        ]);
        confirm_message = `${message}<br><b>${warning}<b>`;
      }
      let rename_document = () => frappe.xcall("frappe.model.rename_doc.update_document_title", {
        doctype,
        docname,
        name: input_name,
        title: input_title,
        enqueue: true,
        merge,
        freeze: true,
        freeze_message: __("Updating related fields..."),
        queue
      }).then((new_docname) => {
        const reload_form = (input_name2) => {
          $(document).trigger("rename", [doctype, docname, input_name2]);
          if (locals[doctype] && locals[doctype][docname]) {
            delete locals[doctype][docname];
          }
          this.frm.reload_doc();
        };
        if (input_name && new_docname == docname) {
          frappe.socketio.doc_subscribe(doctype, input_name);
          frappe.realtime.on("doc_update", (data) => {
            if (data.doctype == doctype && data.name == input_name) {
              reload_form(input_name);
              frappe.show_alert({
                message: __("Document renamed from {0} to {1}", [
                  docname.bold(),
                  input_name.bold()
                ]),
                indicator: "success"
              });
            }
          });
          frappe.show_alert(
            __("Document renaming from {0} to {1} has been queued", [
              docname.bold(),
              input_name.bold()
            ])
          );
        }
        if (input_name && (new_docname || input_name) != docname) {
          reload_form(new_docname || input_name);
        }
      });
      return new Promise((resolve, reject) => {
        if (input_title === this.frm.doc[title_field] && input_name === docname) {
          this.show_unchanged_document_alert();
          resolve();
        } else if (merge) {
          frappe.confirm(
            confirm_message,
            () => {
              rename_document().then(resolve).catch(reject);
            },
            reject
          );
        } else {
          rename_document().then(resolve).catch(reject);
        }
      });
    }
    setup_editable_title() {
    }
    get_dropdown_menu(label) {
      return this.page.add_dropdown(label);
    }
    set_indicator() {
      let indicator = frappe.get_indicator(this.frm.doc);
      if (this.frm.save_disabled && indicator && [__("Saved"), __("Not Saved")].includes(indicator[0])) {
        return;
      }
      if (indicator) {
        this.page.set_indicator(indicator[0], indicator[1]);
      } else {
        this.page.clear_indicator();
      }
    }
    make_menu() {
      this.page.clear_icons();
      this.page.clear_menu();
      if (frappe.boot.desk_settings.form_sidebar) {
        this.make_navigation();
        this.make_menu_items();
      }
    }
    make_viewers() {
      if (this.frm.viewers) {
        return;
      }
      this.frm.viewers = new frappe.ui.form.FormViewers({
        frm: this.frm,
        parent: $('<div class="form-viewers d-flex"></div>').prependTo(
          this.frm.page.page_actions
        )
      });
    }
    make_navigation() {
    }
    make_menu_items() {
      const me2 = this;
      const p = this.frm.perm[0];
      const docstatus = cint(this.frm.doc.docstatus);
      const is_submittable = frappe.model.is_submittable(this.frm.doc.doctype);
      const print_settings = frappe.model.get_doc(":Print Settings", "Print Settings");
      const allow_print_for_draft = cint(print_settings.allow_print_for_draft);
      const allow_print_for_cancelled = cint(print_settings.allow_print_for_cancelled);
      if (!is_submittable || docstatus == 1 || allow_print_for_cancelled && docstatus == 2 || allow_print_for_draft && docstatus == 0) {
        if (frappe.model.can_print(null, me2.frm) && !this.frm.meta.issingle) {
          this.page.add_menu_item(
            __("Print"),
            function() {
              me2.frm.print_doc();
            },
            true
          );
          this.print_icon = this.page.add_action_icon(
            "printer",
            function() {
              me2.frm.print_doc();
            },
            "",
            __("Print")
          );
        }
      }
      if (frappe.model.can_email(null, me2.frm) && me2.frm.doc.docstatus < 2) {
        this.page.add_menu_item(
          __("Email"),
          function() {
            me2.frm.email_doc();
          },
          true,
          {
            shortcut: "Ctrl+E",
            condition: () => !this.frm.is_new()
          }
        );
      }
      this.page.add_menu_item(
        __("Jump to field"),
        function() {
          me2.show_jump_to_field_dialog();
        },
        true,
        "Ctrl+J"
      );
      if (!me2.frm.meta.issingle) {
        this.page.add_menu_item(
          __("Links"),
          function() {
            me2.show_linked_with();
          },
          true
        );
      }
      if (in_list(frappe.boot.user.can_create, me2.frm.doctype) && !me2.frm.meta.allow_copy) {
        this.page.add_menu_item(
          __("Duplicate"),
          function() {
            me2.frm.copy_doc();
          },
          true
        );
      }
      this.page.add_menu_item(
        __("Copy to Clipboard"),
        function() {
          frappe.utils.copy_to_clipboard(JSON.stringify(me2.frm.doc));
        },
        true
      );
      this.page.add_menu_item(
        __("Reload"),
        function() {
          me2.frm.reload_doc();
        },
        true
      );
      if (cint(me2.frm.doc.docstatus) != 1 && !me2.frm.doc.__islocal && frappe.model.can_delete(me2.frm.doctype)) {
        this.page.add_menu_item(
          __("Delete"),
          function() {
            me2.frm.savetrash();
          },
          true,
          {
            shortcut: "Shift+Ctrl+D",
            condition: () => !this.frm.is_new()
          }
        );
      }
      this.make_customize_buttons();
      if (this.can_repeat()) {
        this.page.add_menu_item(
          __("Repeat"),
          function() {
            frappe.utils.new_auto_repeat_prompt(me2.frm);
          },
          true
        );
      }
      if (p[CREATE] && !this.frm.meta.issingle && !this.frm.meta.in_create) {
        this.page.add_menu_item(
          __("New {0}", [__(me2.frm.doctype)]),
          function() {
            frappe.new_doc(me2.frm.doctype, true);
          },
          true,
          {
            shortcut: "Ctrl+B",
            condition: () => !this.frm.is_new()
          }
        );
      }
    }
    make_customize_buttons() {
      let is_doctype_form = this.frm.doctype === "DocType";
      if (frappe.model.can_create("Custom Field") && frappe.model.can_create("Property Setter")) {
        let doctype = is_doctype_form ? this.frm.docname : this.frm.doctype;
        let is_doctype_custom = is_doctype_form ? this.frm.doc.custom : false;
        if (doctype != "DocType" && !is_doctype_custom && this.frm.meta.issingle === 0) {
          this.page.add_menu_item(
            __("Customize"),
            () => {
              if (this.frm.meta && this.frm.meta.custom) {
                frappe.set_route("Form", "DocType", doctype);
              } else {
                frappe.set_route("Form", "Customize Form", {
                  doc_type: doctype
                });
              }
            },
            true
          );
        }
      }
      if (frappe.model.can_create("DocType")) {
        if (frappe.boot.developer_mode === 1 && !is_doctype_form) {
          this.page.add_menu_item(
            __("Edit DocType"),
            () => {
              frappe.set_route("Form", "DocType", this.frm.doctype);
            },
            true
          );
        }
      }
    }
    can_repeat() {
      return this.frm.meta.allow_auto_repeat && !this.frm.is_new() && !this.frm.doc.auto_repeat;
    }
    can_save() {
      return this.get_docstatus() === 0;
    }
    can_submit() {
      return this.get_docstatus() === 0 && !this.frm.doc.__islocal && !this.frm.doc.__unsaved && this.frm.perm[0].submit && !this.has_workflow();
    }
    can_update() {
      return this.get_docstatus() === 1 && !this.frm.doc.__islocal && this.frm.perm[0].submit && this.frm.doc.__unsaved;
    }
    can_cancel() {
      return this.get_docstatus() === 1 && this.frm.perm[0].cancel && !this.read_only;
    }
    can_amend() {
      return this.get_docstatus() === 2 && this.frm.perm[0].amend && !this.read_only;
    }
    has_workflow() {
      if (this._has_workflow === void 0) {
        this._has_workflow = frappe.get_list("Workflow", {
          document_type: this.frm.doctype
        }).length;
      }
      return this._has_workflow;
    }
    get_docstatus() {
      return cint(this.frm.doc.docstatus);
    }
    show_linked_with() {
      if (!this.frm.linked_with) {
        this.frm.linked_with = new frappe.ui.form.LinkedWith({
          frm: this.frm
        });
      }
      this.frm.linked_with.show();
    }
    set_primary_action(dirty) {
      if (!dirty) {
        this.page.clear_user_actions();
      }
      let status = this.get_action_status();
      if (status) {
        if (status !== this.current_status && status === "Amend") {
          let { doc } = this.frm;
          frappe.xcall("frappe.client.is_document_amended", {
            doctype: doc.doctype,
            docname: doc.name
          }).then((is_amended) => {
            if (is_amended) {
              this.page.clear_actions();
              return;
            }
            this.set_page_actions(status);
          });
        } else {
          this.set_page_actions(status);
        }
      } else {
        this.page.clear_actions();
        this.current_status = null;
      }
    }
    get_action_status() {
      let status = null;
      if (this.frm.page.current_view_name === "print" || this.frm.hidden) {
        status = "Edit";
      } else if (this.can_submit()) {
        status = "Submit";
      } else if (this.can_save()) {
        if (!this.frm.save_disabled) {
          if (this.has_workflow() ? this.frm.doc.__unsaved : true) {
            status = "Save";
          }
        }
      } else if (this.can_update()) {
        status = "Update";
      } else if (this.can_cancel()) {
        status = "Cancel";
      } else if (this.can_amend()) {
        status = "Amend";
      }
      return status;
    }
    set_page_actions(status) {
      let me2 = this;
      this.page.clear_actions();
      if (status !== "Edit") {
        let perm_to_check = this.frm.action_perm_type_map[status];
        if (!this.frm.perm[0][perm_to_check]) {
          return;
        }
      }
      if (status === "Edit") {
        this.page.set_primary_action(
          __("Edit"),
          function() {
            me2.frm.page.set_view("main");
          },
          "edit"
        );
      } else if (status === "Cancel") {
        let add_cancel_button = () => {
          this.page.set_secondary_action(__(status), function() {
            me2.frm.savecancel(this);
          });
        };
        if (this.has_workflow()) {
          frappe.xcall("frappe.model.workflow.can_cancel_document", {
            doctype: this.frm.doc.doctype
          }).then((can_cancel) => {
            if (can_cancel) {
              add_cancel_button();
            }
          });
        } else {
          add_cancel_button();
        }
      } else {
        let click = {
          Save() {
            return me2.frm.save("Save", null, this);
          },
          Submit() {
            return me2.frm.savesubmit(this);
          },
          Update() {
            return me2.frm.save("Update", null, this);
          },
          Amend() {
            return me2.frm.amend_doc();
          }
        }[status];
        let icon = {
          Update: "edit"
        }[status];
        this.page.set_primary_action(__(status), click, icon);
      }
      this.current_status = status;
    }
    add_update_button_on_dirty() {
      let me2 = this;
      $(this.frm.wrapper).on("dirty", function() {
        me2.show_title_as_dirty();
        me2.frm.page.clear_actions_menu();
        if (!me2.frm.save_disabled) {
          me2.set_primary_action(true);
        }
      });
    }
    show_title_as_dirty() {
      if (this.frm.save_disabled && !this.frm.set_dirty) {
        return;
      }
      if (this.frm.is_dirty()) {
        this.page.set_indicator(__("Not Saved"), "orange");
      }
      $(this.frm.wrapper).attr("data-state", this.frm.is_dirty() ? "dirty" : "clean");
    }
    show_jump_to_field_dialog() {
      let visible_fields_filter = (f) => !["Section Break", "Column Break", "Tab Break"].includes(f.df.fieldtype) && !f.df.hidden && f.disp_status !== "None";
      let fields = this.frm.fields.filter(visible_fields_filter).map((f) => ({ label: __(f.df.label), value: f.df.fieldname }));
      let dialog = new frappe.ui.Dialog({
        title: __("Jump to field"),
        fields: [
          {
            fieldtype: "Autocomplete",
            fieldname: "fieldname",
            label: __("Select Field"),
            options: fields,
            reqd: 1
          }
        ],
        primary_action_label: __("Go"),
        primary_action: ({ fieldname }) => {
          dialog.hide();
          this.frm.scroll_to_field(fieldname);
        },
        animate: false
      });
      dialog.show();
    }
  };
  var Toolbar_default = Toolbar;

  // guigu/public/js/FormDetail/undo_manager.ts
  var UndoManager = class {
    constructor({ frm }) {
      this.frm = frm;
      this.undo_stack = [];
      this.redo_stack = [];
    }
    record_change({ fieldname, old_value, new_value, doctype, docname, is_child }) {
      if (old_value == new_value) {
        return;
      }
      this.undo_stack.push({
        fieldname,
        old_value,
        new_value,
        doctype,
        docname,
        is_child
      });
    }
    erase_history() {
      this.undo_stack = [];
      this.redo_stack = [];
    }
    undo() {
      const change = this.undo_stack.pop();
      if (change) {
        this._apply_change(change);
        this._push_reverse_entry(change, this.redo_stack);
      } else {
        this._show_alert(__("Nothing left to undo"));
      }
    }
    redo() {
      const change = this.redo_stack.pop();
      if (change) {
        this._apply_change(change);
        this._push_reverse_entry(change, this.undo_stack);
      } else {
        this._show_alert(__("Nothing left to redo"));
      }
    }
    _push_reverse_entry(change, stack) {
      stack.push(__spreadProps(__spreadValues({}, change), {
        new_value: change.old_value,
        old_value: change.new_value
      }));
    }
    _apply_change(change) {
      if (change.is_child) {
        frappe.model.set_value(
          change.doctype,
          change.docname,
          change.fieldname,
          change.old_value
        );
      } else {
        this.frm.set_value(change.fieldname, change.old_value);
        this.frm.scroll_to_field(change.fieldname, false);
      }
    }
    _show_alert(msg) {
      frappe.show_alert(msg, 3);
    }
  };

  // guigu/public/js/FormDetail/Layout/Section.ts
  var Section = class {
    constructor(parent, df, card_layout, layout) {
      this.layout = layout;
      this.card_layout = card_layout;
      this.parent = parent;
      this.df = df || {};
      this.columns = [];
      this.fields_list = [];
      this.fields_dict = {};
      this.make();
      if (this.df.label && this.df.collapsible && localStorage.getItem(`${df.css_class}-closed`)) {
        this.collapse();
      }
      this.row = {
        wrapper: this.wrapper
      };
      this.refresh();
    }
    make() {
      let make_card = this.card_layout;
      this.wrapper = $(`<div class="row
				${this.df.is_dashboard_section ? "form-dashboard-section" : "form-section"}
				${make_card ? "card-section" : ""}" data-fieldname="${this.df.fieldname}">
			`).appendTo(this.parent);
      if (this.df) {
        if (this.df.label) {
          this.make_head();
        }
        if (this.df.description) {
          this.description_wrapper = $(
            `<div class="col-sm-12 form-section-description">
						${__(this.df.description)}
					</div>`
          );
          this.wrapper.append(this.description_wrapper);
        }
        if (this.df.css_class) {
          this.wrapper.addClass(this.df.css_class);
        }
        if (this.df.hide_border) {
          this.wrapper.toggleClass("hide-border", true);
        }
      }
      this.body = $('<div class="section-body">').appendTo(this.wrapper);
      if (this.df.body_html) {
        this.body.append(this.df.body_html);
      }
    }
    make_head() {
      this.head = $(`
			<div class="section-head">
				${__(this.df.label)}
				<span class="ml-2 collapse-indicator mb-1"></span>
			</div>
		`);
      this.head.appendTo(this.wrapper);
      this.indicator = this.head.find(".collapse-indicator");
      this.indicator.hide();
      if (this.df.collapsible) {
        this.collapse_link = this.head.on("click", () => {
          this.collapse();
        });
        this.set_icon();
        this.indicator.show();
      }
    }
    add_field(fieldobj) {
      this.fields_list.push(fieldobj);
      this.fields_dict[fieldobj.fieldname] = fieldobj;
      fieldobj.section = this;
    }
    replace_field(fieldname, fieldobj) {
      var _a;
      if ((_a = this.fields_dict[fieldname]) == null ? void 0 : _a.df) {
        const olfldobj = this.fields_dict[fieldname];
        const idx = this.fields_list.findIndex((e) => e == olfldobj);
        this.fields_list.splice(idx, 1, fieldobj);
        this.fields_dict[fieldname] = fieldobj;
        fieldobj.section = this;
      }
    }
    refresh(hide) {
      if (!this.df) {
        return;
      }
      hide = hide || this.df.hidden || this.df.hidden_due_to_dependency;
      this.wrapper.toggleClass("hide-control", Boolean(hide));
    }
    collapse(hide) {
      if (!(this.head && this.body)) {
        return;
      }
      if (hide === void 0) {
        hide = !this.body.hasClass("hide");
      }
      this.body.toggleClass("hide", hide);
      this.head && this.head.toggleClass("collapsed", hide);
      this.set_icon(hide);
      for (const f of this.fields_list) {
        f.on_section_collapse && f.on_section_collapse(hide);
      }
      if (this.df.css_class) {
        localStorage.setItem(`${this.df.css_class}-closed`, hide ? "1" : "");
      }
    }
    set_icon(hide) {
      let indicator_icon = hide ? "down" : "up-line";
      this.indicator && this.indicator.html(frappe.utils.icon(indicator_icon, "sm", "mb-1"));
    }
    is_collapsed() {
      return this.body.hasClass("hide");
    }
    has_missing_mandatory() {
      let missing_mandatory = false;
      for (let j2 = 0, l = this.fields_list.length; j2 < l; j2++) {
        const section_df = this.fields_list[j2].df;
        if (section_df.reqd && this.layout.doc[section_df.fieldname] == null) {
          missing_mandatory = true;
          break;
        }
      }
      return missing_mandatory;
    }
    hide() {
      this.on_section_toggle(false);
    }
    show() {
      this.on_section_toggle(true);
    }
    on_section_toggle(show) {
      this.wrapper.toggleClass("hide-control", !show);
    }
  };
  var Section_default = Section;

  // guigu/public/js/FormDetail/Layout/Tab.ts
  var Tab = class {
    constructor(layout, df, frm, tab_link_container, tabs_content) {
      this.layout = layout;
      this.df = df || {};
      this.frm = frm;
      this.doctype = this.frm.doctype;
      this.label = this.df && this.df.label;
      this.tab_link_container = tab_link_container;
      this.tabs_content = tabs_content;
      this.fields_list = [];
      this.fields_dict = {};
      this.make();
      this.setup_listeners();
      this.refresh();
    }
    make() {
      const id = `form-detail-${frappe.scrub(this.doctype, "-")}-${this.df.fieldname}`;
      this.tab_link = $(`
			<li class="nav-item">
				<a class="nav-link ${this.df.active ? "active" : ""}" id="${id}-tab"
					data-toggle="tab"
					data-fieldname="${this.df.fieldname}"
					href="#${id}"
					role="tab"
					aria-controls="${this.label}">
						${__(this.label)}
				</a>
			</li>
		`).appendTo(this.tab_link_container);
      this.wrapper = $(`<div class="tab-pane fade show ${this.df.active ? "active" : ""}"
			id="${id}" role="tabpanel" aria-labelledby="${id}-tab">`).appendTo(this.tabs_content);
    }
    refresh() {
      if (!this.df) {
        return;
      }
      let hide = this.df.hidden || this.df.hidden_due_to_dependency;
      if (!hide && this.df.show_dashboard && this.frm.is_new()) {
        hide = true;
      }
      if (!hide && this.frm && !this.frm.get_perm(this.df.permlevel || 0, "read")) {
        hide = true;
      }
      if (!hide) {
        hide = true;
        if (this.wrapper.find(
          ".form-section:not(.hide-control, .empty-section), .form-dashboard-section:not(.hide-control, .empty-section)"
        ).length) {
          hide = false;
        }
      }
      this.toggle(!hide);
    }
    toggle(show) {
      this.tab_link.toggleClass("hide", !show);
      this.wrapper.toggleClass("hide", !show);
      this.tab_link.toggleClass("show", show);
      this.wrapper.toggleClass("show", show);
      this.hidden = !show;
    }
    show() {
      this.tab_link.show();
    }
    hide() {
      this.tab_link.hide();
    }
    replace_field(fieldobj) {
      fieldobj.tab = this;
    }
    add_field(fieldobj) {
      fieldobj.tab = this;
    }
    set_active() {
      this.tab_link.find(".nav-link").tab("show");
      this.wrapper.addClass("show");
      this.frm.active_tab = this;
    }
    is_active() {
      return this.wrapper.hasClass("active");
    }
    is_hidden() {
      return this.wrapper.hasClass("hide") && this.tab_link.hasClass("hide");
    }
    setup_listeners() {
      this.tab_link.find(".nav-link").on("shown.bs.tab", () => {
        var _a, _b;
        (_b = this == null ? void 0 : (_a = this.frm).set_active_tab) == null ? void 0 : _b.call(_a, this);
      });
    }
    setup_switch_on_hover() {
      this.tab_link.on("dragenter", () => {
        this.action = setTimeout(() => {
          this.set_active();
        }, 2e3);
      });
      this.tab_link.on("dragout", () => {
        if (this.action) {
          clearTimeout(this.action);
          this.action = null;
        }
      });
    }
  };
  var Tab_default = Tab;

  // guigu/public/js/FormDetail/Layout/Column.ts
  var Column = class {
    constructor(section, df) {
      this.df = df || {};
      this.section = section;
      this.section.columns.push(this);
      this.make();
      this.resize_all_columns();
    }
    make() {
      this.wrapper = $(`
			<div class="form-column" data-fieldname="${this.df.fieldname}">
				<form>
				</form>
			</div>
		`).appendTo(this.section.body);
      this.form = this.wrapper.find("form").on("submit", function() {
        return false;
      });
      if (this.df.label) {
        $(`
				<label class="control-label">
					${__(this.df.label)}
				</label>
			`).appendTo(this.wrapper);
      }
    }
    resize_all_columns() {
      let columns = this.section.wrapper.find(".form-column").length;
      let colspan = cint(12 / columns);
      if (columns == 5) {
        colspan = 20;
      }
      this.section.wrapper.find(".form-column").removeClass().addClass("form-column").addClass(`col-sm-${colspan}`);
    }
    add_field() {
    }
    refresh() {
      this.section.refresh();
    }
  };
  var Column_default = Column;

  // guigu/public/js/FormDetail/Layout/index.ts
  var Layout = class {
    constructor(parent, doctype, doctype_layout, frm, currentTab) {
      this.views = {};
      this.pages = [];
      this.tabs = [];
      this.sections = [];
      this.page_breaks = [];
      this.sections_dict = {};
      this.fields_list = [];
      this.fields_dict = {};
      this.section_count = 0;
      this.column_count = 0;
      this.with_dashboard = true;
      this.card_layout = true;
      this.formTabsList = document.createElement("div");
      this.tabsContent = document.createElement("div");
      var _a, _b;
      this.parent = $(parent);
      this.doctype = doctype;
      this.doctype_layout = doctype_layout;
      this.frm = frm;
      this.currentTab = currentTab;
      const wrapper = parent.querySelector(".form-layout");
      const message = parent.querySelector(".form-message");
      const page = parent.querySelector(".form-page");
      this.wrapper = $(wrapper);
      this.message = $(message);
      this.page = $(page);
      message.innerHTML = "";
      page.innerHTML = "";
      if (!this.fields) {
        this.fields = this.get_doctype_fields();
      }
      if (this.is_tabbed_layout()) {
        this.setup_tabbed_layout();
      }
      this.setup_tab_events();
      this.render();
      const tab = currentTab.value;
      const current = tab && ((_b = (_a = this.tab_link_container) == null ? void 0 : _a[0]) == null ? void 0 : _b.querySelector(`.nav-link[data-fieldname=${tab}]`));
      if (current) {
        $(current).tab("show");
      }
    }
    setup_tabbed_layout() {
      const tab_link_container = $('<ul class="nav form-tabs" id="form-tabs" role="tablist"></ul>');
      const { formTabsList } = this;
      formTabsList.className = "form-tabs-list";
      tab_link_container.appendTo(formTabsList);
      $(formTabsList).appendTo(this.page);
      this.tab_link_container = tab_link_container;
      const { tabsContent } = this;
      tabsContent.className = "form-tab-content tab-content";
      this.tabs_content = $(tabsContent).appendTo(
        this.page
      );
      this.setup_events();
    }
    get_doctype_fields() {
      let fields = [this.get_new_name_field()];
      if (this.doctype_layout) {
        fields = fields.concat(this.get_fields_from_layout());
      } else {
        fields = fields.concat(
          frappe.meta.sort_docfields(frappe.meta.docfield_map[this.doctype])
        );
      }
      return fields;
    }
    get_new_name_field() {
      return {
        parent: this.frm.doctype,
        fieldtype: "Data",
        fieldname: "__newname",
        reqd: 1,
        hidden: 1,
        label: __("Name"),
        get_status(field) {
          if (field.frm && field.frm.is_new() && field.frm.meta.autoname && ["prompt", "name"].includes(field.frm.meta.autoname.toLowerCase())) {
            return "Write";
          }
          return "None";
        }
      };
    }
    get_fields_from_layout() {
      const fields = [];
      for (let f of this.doctype_layout.fields) {
        const docfield = copy_dict(frappe.meta.docfield_map[this.doctype][f.fieldname]);
        docfield.label = f.label;
        fields.push(docfield);
      }
      return fields;
    }
    show_message(html, color) {
      if (this.message_color) {
        this.message.removeClass(this.message_color);
      }
      this.message_color = color && ["yellow", "blue", "red", "green", "orange"].includes(color) ? color : "blue";
      if (html) {
        if (html.substr(0, 1) !== "<") {
          html = `<div>${html}</div>`;
        }
        this.message.removeClass("hidden").addClass(this.message_color);
        $(html).appendTo(this.message);
      } else {
        this.message.empty().addClass("hidden");
      }
    }
    render(new_fields) {
      let fields = new_fields || this.fields;
      this.section = null;
      this.column = null;
      if (this.no_opening_section() && !this.is_tabbed_layout()) {
        this.fields.unshift({ fieldtype: "Section Break" });
      }
      if (this.is_tabbed_layout()) {
        let default_tab = {
          label: __("Details"),
          fieldtype: "Tab Break",
          fieldname: "__details"
        };
        let first_field_visible = this.fields.find((element) => element.hidden == false);
        let first_tab = (first_field_visible == null ? void 0 : first_field_visible.fieldtype) === "Tab Break" ? first_field_visible : null;
        if (first_tab) {
          let newname_field = this.fields.find((df) => df.fieldname === "__newname");
          if (newname_field && newname_field.get_status(this) === "Write") {
            this.fields.splice(0, 1);
            this.fields.splice(1, 0, newname_field);
          }
        } else {
          this.fields.splice(0, 0, default_tab);
        }
      }
      for (const df of fields) {
        switch (df.fieldtype) {
          case "Fold":
            this.make_page(df);
            break;
          case "Page Break":
            this.make_page_break();
            this.make_section(df);
            break;
          case "Section Break":
            this.make_section(df);
            break;
          case "Column Break":
            this.make_column(df);
            break;
          case "Tab Break":
            this.make_tab(df);
            break;
          default:
            this.make_field(df);
        }
      }
    }
    no_opening_section() {
      return this.fields[0] && this.fields[0].fieldtype != "Section Break" || !this.fields.length;
    }
    no_opening_tab() {
      return this.fields[1] && this.fields[1].fieldtype != "Tab Break" || !this.fields.length;
    }
    is_tabbed_layout() {
      return this.fields.find((f) => f.fieldtype === "Tab Break");
    }
    replace_field(fieldname, df, render14) {
      var _a;
      df.fieldname = fieldname;
      if (this.fields_dict[fieldname] && this.fields_dict[fieldname].df) {
        const prev_fieldobj = this.fields_dict[fieldname];
        const fieldobj = this.init_field(df, prev_fieldobj.parent, render14);
        prev_fieldobj.$wrapper.replaceWith(fieldobj.$wrapper);
        const idx = this.fields_list.findIndex((e) => e == prev_fieldobj);
        this.fields_list.splice(idx, 1, fieldobj);
        this.fields_dict[fieldname] = fieldobj;
        for (const section of this.sections) {
          section.replace_field(fieldname, fieldobj);
        }
        (_a = prev_fieldobj.tab) == null ? void 0 : _a.replace_field(fieldobj);
        this.refresh_fields([df]);
      }
    }
    make_field(df, colspan, render14) {
      !this.section && this.make_section();
      !this.column && this.make_column();
      const parent = this.column.wrapper.get(0);
      const fieldobj = this.init_field(df, parent, render14);
      this.fields_list.push(fieldobj);
      this.fields_dict[df.fieldname] = fieldobj;
      this.section.add_field(fieldobj);
      this.column.add_field(fieldobj);
      if (this.current_tab) {
        this.current_tab.add_field(fieldobj);
      }
    }
    init_field(df, parent, render14 = false) {
      const fieldobj = frappe.ui.form.make_control({
        df,
        doctype: this.doctype,
        parent,
        frm: this.frm,
        render_input: render14,
        doc: this.doc,
        layout: this
      });
      fieldobj.layout = this;
      return fieldobj;
    }
    make_page_break() {
      this.page = $('<div class="form-page page-break"></div>').appendTo(this.wrapper);
    }
    make_page(df) {
      let me2 = this;
      let head = $(`
			<div class="form-clickable-section text-center">
				<a class="btn-fold h6 text-muted">
					${__("Show more details")}
				</a>
			</div>
		`).appendTo(this.wrapper);
      this.page = $('<div class="form-page second-page hide"></div>').appendTo(this.wrapper);
      this.fold_btn = head.find(".btn-fold").on("click", function() {
        let page = $(this).parent().next();
        if (page.hasClass("hide")) {
          $(this).removeClass("btn-fold").html(__("Hide details"));
          page.removeClass("hide");
          frappe.utils.scroll_to($(this), true, 30);
          me2.folded = false;
        } else {
          $(this).addClass("btn-fold").html(__("Show more details"));
          page.addClass("hide");
          me2.folded = true;
        }
      });
      this.section = null;
      this.folded = true;
    }
    unfold() {
      this.fold_btn.trigger("click");
    }
    make_section(df = {}) {
      var _a;
      this.section_count++;
      if (!df.fieldname) {
        df.fieldname = `__section_${this.section_count}`;
        df.fieldtype = "Section Break";
      }
      this.section = new Section_default(
        ((_a = this.current_tab) == null ? void 0 : _a.wrapper) || this.page,
        df,
        this.card_layout,
        this
      );
      this.sections.push(this.section);
      this.sections_dict[df.fieldname] = this.section;
      if (df) {
        this.fields_dict[df.fieldname] = this.section;
        this.fields_list.push(this.section);
      }
      this.column = null;
    }
    make_column(df = {}) {
      this.column_count++;
      if (!df.fieldname) {
        df.fieldname = `__column_${this.section_count}`;
        df.fieldtype = "Column Break";
      }
      this.column = new Column_default(this.section, df);
      if (df && df.fieldname) {
        this.fields_list.push(this.column);
      }
    }
    make_tab(df) {
      this.section = null;
      let tab = new Tab_default(this, df, this.frm, this.tab_link_container, this.tabs_content);
      this.current_tab = tab;
      this.make_section({ fieldtype: "Section Break" });
      this.tabs.push(tab);
      return tab;
    }
    refresh(doc) {
      if (doc) {
        this.doc = doc;
      }
      if (this.frm) {
        this.wrapper.find(".empty-form-alert").remove();
      }
      this.attach_doc_and_docfields(true);
      if (this.frm && this.frm.wrapper) {
        $(this.frm.wrapper).trigger("refresh-fields");
      }
      this.refresh_dependency();
      this.refresh_sections();
      if (this.frm) {
        this.refresh_section_collapse();
      }
      if (document.activeElement) {
        if (document.activeElement.tagName == "INPUT" && this.is_numeric_field_active()) {
          document.activeElement.select();
        }
      }
    }
    is_numeric_field_active() {
      const control = $(document.activeElement).closest(".frappe-control");
      const { fieldtype } = control.data() || {};
      return frappe.model.numeric_fieldtypes.includes(fieldtype);
    }
    refresh_sections() {
      this.wrapper.find(".form-section:not(.hide-control)").each(function() {
        const section = $(this).removeClass("empty-section visible-section");
        if (section.find(".frappe-control:not(.hide-control)").length) {
          section.addClass("visible-section");
        } else {
          section.addClass("empty-section");
        }
      });
      this.is_tabbed_layout() && this.refresh_tabs();
    }
    refresh_tabs() {
      for (let tab of this.tabs) {
        tab.refresh();
      }
      const visible_tabs = this.tabs.filter((tab) => !tab.hidden);
      if (visible_tabs && visible_tabs.length == 1) {
        visible_tabs[0].tab_link.toggleClass("hide show");
      }
      this.set_tab_as_active();
    }
    set_tab_as_active() {
      var _a, _b;
      let frm_active_tab = (_b = this == null ? void 0 : (_a = this.frm).get_active_tab) == null ? void 0 : _b.call(_a);
      if (frm_active_tab) {
        frm_active_tab.set_active();
      } else if (this.tabs.length) {
        let first_visible_tab = this.tabs.find((tab) => !tab.is_hidden());
        first_visible_tab && first_visible_tab.set_active();
      }
    }
    refresh_fields(fields) {
      let fieldnames = fields.map((field) => {
        if (field.fieldname) {
          return field.fieldname;
        }
      });
      this.fields_list.map((fieldobj) => {
        if (fieldnames.includes(fieldobj.df.fieldname)) {
          fieldobj.refresh();
          if (fieldobj.df.default) {
            fieldobj.set_input(fieldobj.df.default);
          }
        }
      });
    }
    add_fields(fields) {
      this.render(fields);
      this.refresh_fields(fields);
    }
    refresh_section_collapse() {
      if (!(this.sections && this.sections.length)) {
        return;
      }
      for (let i = 0; i < this.sections.length; i++) {
        let section = this.sections[i];
        let { df } = section;
        if (df && df.collapsible) {
          let collapse = true;
          if (df.collapsible_depends_on) {
            collapse = !this.evaluate_depends_on_value(df.collapsible_depends_on);
          }
          if (collapse && section.has_missing_mandatory()) {
            collapse = false;
          }
          section.collapse(collapse);
        }
      }
    }
    attach_doc_and_docfields(refresh) {
      let me2 = this;
      for (let i = 0, l = this.fields_list.length; i < l; i++) {
        let fieldobj = this.fields_list[i];
        if (me2.doc) {
          fieldobj.doc = me2.doc;
          fieldobj.doctype = me2.doc.doctype;
          fieldobj.docname = me2.doc.name;
          fieldobj.df = frappe.meta.get_docfield(me2.doc.doctype, fieldobj.df.fieldname, me2.doc.name) || fieldobj.df;
        }
        refresh && fieldobj.df && fieldobj.refresh && fieldobj.refresh();
      }
    }
    refresh_section_count() {
      this.wrapper.find(".section-count-label:visible").each(function(i) {
        $(this).html(i + 1);
      });
    }
    setup_events() {
      let last_scroll = 0;
      const { formTabsList } = this;
      let { tabsContent } = this;
      const eventListener = frappe.utils.throttle(() => {
        let current_scroll = document.documentElement.scrollTop;
        if (current_scroll > 0 && last_scroll <= current_scroll) {
          formTabsList.classList.remove("form-tabs-sticky-down");
          formTabsList.classList.add("form-tabs-sticky-up");
        } else {
          formTabsList.classList.remove("form-tabs-sticky-up");
          formTabsList.classList.add("form-tabs-sticky-down");
        }
        last_scroll = current_scroll;
      }, 500);
      window.addEventListener("scroll", eventListener);
      this.tab_link_container.off("click").on("click", ".nav-link", (e) => {
        e.preventDefault();
        e.stopImmediatePropagation();
        const el = e.currentTarget;
        $(el).tab("show");
        const { fieldname } = el.dataset;
        if (fieldname) {
          this.currentTab.value = fieldname;
        }
        if (tabsContent.getBoundingClientRect().top < 100) {
          tabsContent.scrollIntoView();
          setTimeout(() => {
            $(".page-head").css("top", "-15px");
            formTabsList.classList.remove("form-tabs-sticky-down");
            formTabsList.classList.add("form-tabs-sticky-up");
          }, 3);
        }
      });
    }
    setup_tab_events() {
      this.wrapper.on("keydown", (ev) => {
        if (ev.which == 9) {
          let current = $(ev.target);
          let doctype = current.attr("data-doctype");
          let fieldname = current.attr("data-fieldname");
          if (doctype) {
            return this.handle_tab(doctype, fieldname, ev.shiftKey);
          }
        }
      });
    }
    handle_tab(doctype, fieldname, shift) {
      let grid_row = null, prev = null, fields = this.fields_list, focused = false;
      if (doctype != this.doctype) {
        grid_row = this.get_open_grid_row();
        if (!grid_row || !grid_row.layout) {
          return;
        }
        fields = grid_row.layout.fields_list;
      }
      for (let i = 0, len = fields.length; i < len; i++) {
        if (fields[i].df.fieldname == fieldname) {
          if (shift) {
            if (prev) {
              this.set_focus(prev);
            } else {
              $(this.primary_button).focus();
            }
            break;
          }
          if (i < len - 1) {
            focused = this.focus_on_next_field(i, fields);
          }
          if (focused) {
            break;
          }
        }
        if (this.is_visible(fields[i])) {
          prev = fields[i];
        }
      }
      if (!focused) {
        if (grid_row) {
          if (grid_row.doc.idx == grid_row.grid.grid_rows.length) {
            grid_row.toggle_view(false, function() {
              grid_row.grid.frm.layout.handle_tab(
                grid_row.grid.df.parent,
                grid_row.grid.df.fieldname
              );
            });
          } else {
            grid_row.grid.grid_rows[grid_row.doc.idx].toggle_view(true);
          }
        } else if (!shift) {
          $(this.primary_button).focus();
        }
      }
      return false;
    }
    focus_on_next_field(start_idx, fields) {
      for (let i = start_idx + 1, len = fields.length; i < len; i++) {
        let field = fields[i];
        if (this.is_visible(field)) {
          if (field.df.fieldtype === "Table") {
            if (!(field.grid.grid_rows && field.grid.grid_rows.length)) {
              field.grid.add_new_row();
            }
            field.grid.grid_rows[0].show_form();
            return true;
          } else if (!in_list(frappe.model.no_value_type, field.df.fieldtype)) {
            this.set_focus(field);
            return true;
          }
        }
      }
    }
    is_visible(field) {
      return field.disp_status === "Write" && field.df && "hidden" in field.df && !field.df.hidden;
    }
    set_focus(field) {
      if (field.tab) {
        field.tab.set_active();
      }
      if (field.df.fieldtype == "Table") {
        if (field.grid.grid_rows.length) {
          field.grid.grid_rows[0].toggle_view(true);
        } else {
          field.grid.add_new_row(1);
        }
      } else if (field.editor) {
        field.editor.set_focus();
      } else if (field.$input) {
        field.$input.focus();
      }
    }
    get_open_grid_row() {
      return $(".grid-row-open").data("grid_row");
    }
    refresh_dependency() {
      let has_dep = false;
      const fields = this.fields_list.concat(this.tabs);
      for (let fkey in fields) {
        let f = fields[fkey];
        if (f.df.depends_on || f.df.mandatory_depends_on || f.df.read_only_depends_on) {
          has_dep = true;
          break;
        }
      }
      if (!has_dep) {
        return;
      }
      for (let i = fields.length - 1; i >= 0; i--) {
        let f = fields[i];
        f.guardian_has_value = true;
        if (f.df.depends_on) {
          f.guardian_has_value = this.evaluate_depends_on_value(f.df.depends_on);
          if (f.guardian_has_value) {
            if (f.df.hidden_due_to_dependency) {
              f.df.hidden_due_to_dependency = false;
              f.refresh();
            }
          } else if (!f.df.hidden_due_to_dependency) {
            f.df.hidden_due_to_dependency = true;
            f.refresh();
          }
        }
        if (f.df.mandatory_depends_on) {
          this.set_dependant_property(f.df.mandatory_depends_on, f.df.fieldname, "reqd");
        }
        if (f.df.read_only_depends_on) {
          this.set_dependant_property(
            f.df.read_only_depends_on,
            f.df.fieldname,
            "read_only"
          );
        }
      }
      this.refresh_section_count();
    }
    set_dependant_property(condition, fieldname, property) {
      let set_property = this.evaluate_depends_on_value(condition);
      let value = set_property ? 1 : 0;
      let form_obj;
      if (this.frm) {
        form_obj = this.frm;
      } else if (this.is_dialog || this.doctype === "Web Form") {
        form_obj = this;
      }
      if (form_obj) {
        if (this.doc && this.doc.parent && this.doc.parentfield) {
          form_obj.setting_dependency = true;
          form_obj.set_df_property(
            this.doc.parentfield,
            property,
            value,
            this.doc.parent,
            fieldname,
            this.doc.name
          );
          form_obj.setting_dependency = false;
          this.fields_dict[fieldname] && this.fields_dict[fieldname].refresh();
        } else {
          form_obj.set_df_property(fieldname, property, value);
        }
      }
    }
    evaluate_depends_on_value(expression) {
      let out = null;
      let { doc } = this;
      if (!doc && this.get_values) {
        doc = this.get_values(true);
      }
      if (!doc) {
        return;
      }
      let parent = this.frm ? this.frm.doc : this.doc || null;
      if (typeof expression === "boolean") {
        out = expression;
      } else if (typeof expression === "function") {
        out = expression(doc);
      } else if (expression.substr(0, 5) == "eval:") {
        try {
          out = frappe.utils.eval(expression.substr(5), { doc, parent });
          if (parent && parent.istable && expression.includes("is_submittable")) {
            out = true;
          }
        } catch (e) {
          frappe.throw(__('Invalid "depends_on" expression'));
        }
      } else if (expression.substr(0, 3) == "fn:" && this.frm) {
        out = this.frm.script_manager.trigger(
          expression.substr(3),
          this.doctype,
          this.docname
        );
      } else {
        let value = doc[expression];
        if ($.isArray(value)) {
          out = Boolean(value.length);
        } else {
          out = Boolean(value);
        }
      }
      return out;
    }
  };
  var Layout_default = Layout;

  // guigu/public/js/FormDetail/Form.ts
  frappe.provide("frappe.ui.form");
  frappe.provide("frappe.model.docinfo");
  var Form = class {
    constructor(doctype, name, parent, deleted, currentTab, in_form = true, doctype_layout = frappe.router.doctype_layout || doctype, doctype_layout_name) {
      this.docname = "";
      this.hidden = false;
      this.refresh_if_stale_for = 120;
      this.opendocs = {};
      this.custom_buttons = {};
      this.sections = [];
      this.grids = [];
      this.cscript = new frappe.ui.form.Controller({ frm: this });
      this.events = {};
      this.fetch_dict = {};
      this.undo_manager = new UndoManager({ frm: this });
      this.beforeUnloadListener = (event) => {
        event.preventDefault();
        return event.returnValue = "There are unsaved changes, are you sure you want to exit?";
      };
      this.action_perm_type_map = {
        Create: "create",
        Save: "write",
        Submit: "submit",
        Update: "submit",
        Cancel: "cancel",
        Amend: "amend",
        Delete: "delete"
      };
      this.currentTab = currentTab;
      this.__deleted = deleted;
      this.doctype = doctype;
      this.doctype_layout_name = doctype_layout_name;
      this.in_form = in_form ? true : false;
      this.parent = parent;
      this.doctype_layout = frappe.get_doc("DocType Layout", doctype_layout_name);
      this.meta = frappe.get_doc("DocType", this.doctype);
      if (this.meta.istable) {
        this.meta.in_dialog = 1;
      }
      this.perm = frappe.perm.get_perm(this.doctype);
      this.debounced_reload_doc = frappe.utils.debounce(this.reload_doc.bind(this), 1e3);
    }
    setup() {
      this.setup_done = true;
      this.fields = [];
      this.fields_dict = {};
      this.state_fieldname = frappe.workflow.get_state_fieldname(this.doctype);
      this.wrapper = this.parent;
      this.$wrapper = $(this.wrapper);
      const page = new Page_default(this.wrapper, this.meta.hide_toolbar);
      this.page = page;
      this.layout_main = this.parent.querySelector(".layout-main-section");
      this.$wrapper.on("hide", () => {
        this.script_manager.trigger("on_hide");
      });
      this.toolbar = new Toolbar_default(this, page);
      this.add_form_keyboard_shortcuts();
      this.setup_std_layout();
      this.script_manager = new frappe.ui.form.ScriptManager({
        frm: this
      });
      this.script_manager.setup();
      this.watch_model_updates();
      const [mainParent] = page.main.parent();
      if (mainParent) {
        const footer = [...mainParent.children].find((v) => v.classList.contains("layout-footer"));
        if (footer) {
          for (let next; next = footer.nextSibling; ) {
            next == null ? void 0 : next.remove();
          }
        }
      }
      if (!this.meta.hide_toolbar && frappe.boot.desk_settings.timeline) {
        this.footer = new Footer_default({
          frm: this,
          parent: $("<div>").appendTo(page.main.parent())
        });
        $("body").attr("data-sidebar", 1);
      }
      this.setup_file_drop();
      this.setup_doctype_actions();
      this.setup_notify_on_rename();
      this.setup_done = true;
    }
    add_form_keyboard_shortcuts() {
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+>",
        action: () => this.navigate_records(0),
        page: this.page,
        description: __("Go to next record"),
        ignore_inputs: true,
        condition: () => !this.is_new()
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+<",
        action: () => this.navigate_records(1),
        page: this.page,
        description: __("Go to previous record"),
        ignore_inputs: true,
        condition: () => !this.is_new()
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "ctrl+z",
        action: () => this.undo_manager.undo(),
        page: this.page,
        description: __("Undo last action")
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "shift+ctrl+z",
        action: () => this.undo_manager.redo(),
        page: this.page,
        description: __("Redo last action")
      });
      frappe.ui.keys.add_shortcut({
        shortcut: "ctrl+y",
        action: () => this.undo_manager.redo(),
        page: this.page,
        description: __("Redo last action")
      });
      let grid_shortcut_keys = [
        {
          shortcut: "Up Arrow",
          description: __("Move cursor to above row")
        },
        {
          shortcut: "Down Arrow",
          description: __("Move cursor to below row")
        },
        {
          shortcut: "tab",
          description: __("Move cursor to next column")
        },
        {
          shortcut: "shift+tab",
          description: __("Move cursor to previous column")
        },
        {
          shortcut: "Ctrl+up",
          description: __("Add a row above the current row")
        },
        {
          shortcut: "Ctrl+down",
          description: __("Add a row below the current row")
        },
        {
          shortcut: "Ctrl+shift+up",
          description: __("Add a row at the top")
        },
        {
          shortcut: "Ctrl+shift+down",
          description: __("Add a row at the bottom")
        },
        {
          shortcut: "shift+alt+down",
          description: __("Duplicate current row")
        }
      ];
      for (const row of grid_shortcut_keys) {
        frappe.ui.keys.add_shortcut({
          shortcut: row.shortcut,
          page: this.page,
          description: __(row.description),
          ignore_inputs: true,
          condition: () => !this.is_new()
        });
      }
    }
    setup_std_layout() {
      const main = this.parent.querySelector(".layout-main-section");
      this.form_wrapper = $(main.querySelector("div"));
      const body = main.querySelector(".std-form-layout");
      this.body = $(body);
      this.meta.section_style = "Simple";
      this.layout = new Layout_default(
        body,
        this.doctype,
        this.doctype_layout,
        this,
        this.currentTab
      );
      this.fields_dict = this.layout.fields_dict;
      this.fields = this.layout.fields_list;
      let dashboard_parent = $('<div class="form-dashboard">');
      let dashboard_added = false;
      if (this.layout.tabs.length) {
        this.layout.tabs.every((tab) => {
          if (tab.df.show_dashboard) {
            tab.wrapper.prepend(dashboard_parent);
            dashboard_added = true;
            return false;
          }
          return true;
        });
        if (!dashboard_added) {
          this.layout.tabs[0].wrapper.prepend(dashboard_parent);
        }
      } else {
        this.layout.wrapper.find(".form-page").prepend(dashboard_parent);
      }
      this.dashboard = new frappe.ui.form.Dashboard(dashboard_parent, this);
      this.tour = new frappe.ui.form.FormTour({
        frm: this
      });
      this.states = new frappe.ui.form.States({
        frm: this
      });
    }
    watch_model_updates() {
      let me2 = this;
      frappe.model.on(
        me2.doctype,
        "*",
        function(fieldname, value, doc, skip_dirty_trigger = false) {
          if (doc.name == me2.docname) {
            if (!skip_dirty_trigger) {
              me2.dirty();
            }
            let field = me2.fields_dict[fieldname];
            field && field.refresh(fieldname);
            field && ["Link", "Dynamic Link"].includes(field.df.fieldtype) && field.validate && field.validate(value);
            me2.layout.refresh_dependency();
            me2.layout.refresh_sections();
            return me2.script_manager.trigger(fieldname, doc.doctype, doc.name);
          }
        }
      );
      let table_fields = frappe.get_children("DocType", me2.doctype, "fields", {
        fieldtype: ["in", frappe.model.table_fields]
      });
      $.each(table_fields, function(i, df) {
        frappe.model.on(df.options, "*", function(fieldname, value, doc) {
          if (doc.parent == me2.docname && doc.parentfield === df.fieldname) {
            me2.dirty();
            me2.fields_dict[df.fieldname].grid.set_value(fieldname, value, doc);
            return me2.script_manager.trigger(fieldname, doc.doctype, doc.name);
          }
        });
      });
    }
    setup_notify_on_rename() {
      $(document).on("rename", (ev, dt2, old_name, new_name) => {
        if (dt2 == this.doctype) {
          this.rename_notify(dt2, old_name, new_name);
        }
      });
    }
    setup_file_drop() {
      let me2 = this;
      this.$wrapper.on("dragenter dragover", false).on("drop", function(e) {
        let { dataTransfer } = e.originalEvent;
        if (!(dataTransfer && dataTransfer.files && dataTransfer.files.length > 0)) {
          return;
        }
        e.stopPropagation();
        e.preventDefault();
        if (me2.doc.__islocal) {
          frappe.msgprint(__("Please save before attaching."));
          throw "attach error";
        }
        new frappe.ui.FileUploader({
          doctype: me2.doctype,
          docname: me2.docname,
          frm: me2,
          files: dataTransfer.files,
          folder: "Home/Attachments",
          on_success(file_doc) {
            me2.attachments.attachment_uploaded(file_doc);
          }
        });
      });
    }
    setup_image_autocompletions_in_markdown() {
      this.fields.map((field) => {
        if (field.df.fieldtype === "Markdown Editor") {
          this.set_df_property(field.df.fieldname, "autocompletions", () => {
            let attachments = this.attachments.get_attachments();
            return attachments.filter((file) => frappe.utils.is_image_file(file.file_url)).map((file) => ({
              caption: `image: ${file.file_name}`,
              value: `![](${file.file_url})`,
              meta: "image"
            }));
          });
        }
      });
    }
    refresh(docname) {
      let switched = docname ? true : false;
      removeEventListener("beforeunload", this.beforeUnloadListener, { capture: true });
      if (docname) {
        this.switch_doc(docname);
      }
      cur_frm = this;
      this.undo_manager.erase_history();
      if (!this.docname) {
        return;
      }
      this.save_disabled = false;
      this.doc = frappe.get_doc(this.doctype, this.docname);
      this.fetch_permissions();
      if (!this.has_read_permission()) {
        frappe.show_not_permitted(`${__(this.doctype)} ${__(cstr(this.docname))}`);
        return;
      }
      for (const table of this.grids) {
        table.grid.refresh();
      }
      this.read_only = frappe.workflow.is_read_only(this.doctype, this.docname);
      if (this.read_only) {
        this.set_read_only(true);
        frappe.show_alert(__("This form is not editable due to a Workflow."));
      }
      if (!this.opendocs[this.docname]) {
        this.check_doctype_conflict(this.docname);
      } else if (this.check_reload()) {
        return;
      }
      if (!this.setup_done) {
        this.setup();
      }
      this.trigger_onload(switched);
      if (switched) {
        if (this.show_print_first && this.doc.docstatus === 1) {
          this.print_doc();
        }
      }
      this.$wrapper.removeClass("validated-form").toggleClass("editable-form", this.doc.docstatus === 0).toggleClass("submitted-form", this.doc.docstatus === 1).toggleClass("cancelled-form", this.doc.docstatus === 2);
      this.show_conflict_message();
      if (frappe.boot.read_only) {
        this.disable_form();
      }
    }
    setup_doctype_actions() {
      if (this.meta.actions) {
        for (let action of this.meta.actions) {
          frappe.ui.form.on(this.doctype, "refresh", () => {
            if (!this.is_new()) {
              if (!action.hidden) {
                this.add_custom_button(
                  action.label,
                  () => {
                    this.execute_action(action);
                  },
                  action.group
                );
              }
            }
          });
        }
      }
    }
    execute_action(action) {
      if (typeof action === "string") {
        for (let _action of this.meta.actions) {
          if (_action.label === action) {
            action = _action;
            break;
          }
        }
        if (typeof action === "string") {
          frappe.throw(`Action ${action} not found`);
        }
      }
      if (action.action_type === "Server Action") {
        return frappe.xcall(action.action, { doc: this.doc }).then((doc) => {
          if (doc.doctype) {
            frappe.model.sync(doc);
            this.refresh();
          }
          frappe.msgprint({
            message: __("{} Complete", [action.label]),
            alert: true
          });
        });
      } else if (action.action_type === "Route") {
        return frappe.set_route(action.action);
      }
    }
    switch_doc(docname) {
      for (const grid_obj of this.grids) {
        grid_obj.grid.visible_columns = null;
        grid_obj.grid.grid_pagination.go_to_page(1, true);
      }
      frappe.ui.form.close_grid_form();
      this.viewers && this.viewers.parent.empty();
      this.docname = docname;
      this.setup_docinfo_change_listener();
    }
    check_reload() {
      if (this.doc && !this.doc.__unsaved && this.doc.__last_sync_on && new Date() - this.doc.__last_sync_on > this.refresh_if_stale_for * 1e3) {
        this.debounced_reload_doc();
        return true;
      }
    }
    trigger_onload(switched) {
      this.cscript.is_onload = false;
      if (this.opendocs[this.docname]) {
        this.render_form(switched);
        if (this.doc.localname) {
          delete this.doc.localname;
          $(document).trigger("form-rename", [this]);
        }
      } else {
        let me2 = this;
        this.cscript.is_onload = true;
        this.initialize_new_doc();
        $(document).trigger("form-load", [this]);
        $(this.page.wrapper).on("hide", function() {
          $(document).trigger("form-unload", [me2]);
        });
      }
    }
    initialize_new_doc() {
      let me2 = this;
      this.script_manager.trigger("before_load", this.doctype, this.docname).then(() => {
        me2.script_manager.trigger("onload");
        me2.opendocs[me2.docname] = true;
        me2.render_form();
        frappe.after_ajax(function() {
          me2.trigger_link_fields();
        });
        frappe.breadcrumbs.add(me2.meta.module, me2.doctype);
      });
      if (this.meta.track_seen) {
        $(`.list-id[data-name="${me2.docname}"]`).addClass("seen");
      }
    }
    render_form(switched) {
      if (this.meta.istable) {
        this.refresh_header(switched);
      } else {
        this.layout.doc = this.doc;
        this.layout.attach_doc_and_docfields();
        if (frappe.boot.desk_settings.form_sidebar) {
          this.sidebar = new frappe.ui.form.Sidebar({
            frm: this,
            page: this.page
          });
          this.sidebar.make();
        }
        this.layout.show_message();
        frappe.run_serially([
          () => this.refresh_header(switched),
          () => $(document).trigger("form-refresh", [this]),
          () => this.refresh_fields(),
          () => this.script_manager.trigger("refresh"),
          () => {
            if (this.cscript.is_onload) {
              this.onload_post_render();
              return this.script_manager.trigger("onload_post_render");
            }
          },
          () => this.cscript.is_onload && this.is_new() && this.focus_on_first_input(),
          () => this.run_after_load_hook(),
          () => this.dashboard.after_refresh()
        ]);
      }
      this.$wrapper.trigger("render_complete");
      frappe.after_ajax(() => {
        $(document).ready(() => {
          this.scroll_to_element();
        });
      });
    }
    onload_post_render() {
      this.setup_image_autocompletions_in_markdown();
    }
    focus_on_first_input() {
      let first = this.form_wrapper.find(".form-layout :input:visible:first");
      if (!in_list(["Date", "Datetime"], first.attr("data-fieldtype"))) {
        first.focus();
      }
    }
    run_after_load_hook() {
      if (frappe.route_hooks.after_load) {
        let route_callback = frappe.route_hooks.after_load;
        delete frappe.route_hooks.after_load;
        route_callback(this);
      }
    }
    refresh_fields() {
      this.layout.refresh(this.doc);
      this.layout.primary_button = this.$wrapper.find(".btn-primary");
    }
    cleanup_refresh() {
      if (this.fields_dict.amended_from) {
        if (this.doc.amended_from) {
          unhide_field("amended_from");
          if (this.fields_dict.amendment_date) {
            unhide_field("amendment_date");
          }
        } else {
          hide_field("amended_from");
          if (this.fields_dict.amendment_date) {
            hide_field("amendment_date");
          }
        }
      }
      if (this.fields_dict.trash_reason) {
        if (this.doc.trash_reason && this.doc.docstatus == 2) {
          unhide_field("trash_reason");
        } else {
          hide_field("trash_reason");
        }
      }
      if (this.meta.autoname && this.meta.autoname.substr(0, 6) == "field:" && !this.doc.__islocal) {
        let fn = this.meta.autoname.substr(6);
        if (this.doc[fn]) {
          this.toggle_display(fn, false);
        }
      }
      if (this.meta.autoname == "naming_series:" && !this.doc.__islocal) {
        this.toggle_display("naming_series", false);
      }
    }
    refresh_header(switched) {
      if (this.toolbar) {
        if (switched) {
          this.toolbar.current_status = void 0;
        }
        this.toolbar.refresh();
      }
      this.dashboard.refresh();
      frappe.breadcrumbs.update();
      this.show_submit_message();
      this.clear_custom_buttons();
      this.show_web_link();
    }
    save_or_update() {
      if (this.save_disabled) {
        return;
      }
      if (this.doc.docstatus === 0) {
        this.save();
      } else if (this.doc.docstatus === 1 && this.doc.__unsaved) {
        this.save("Update");
      }
    }
    save(save_action, callback, btn, on_error) {
      let me2 = this;
      return new Promise((resolve, reject) => {
        btn && $(btn).prop("disabled", true);
        frappe.ui.form.close_grid_form();
        me2.validate_and_save(save_action, callback, btn, on_error, resolve, reject);
      }).then(() => {
        me2.show_success_action();
      }).catch((e) => {
        console.error(e);
      });
    }
    validate_and_save(save_action, callback, btn, on_error, resolve, reject) {
      let me2 = this;
      if (!save_action) {
        save_action = "Save";
      }
      this.validate_form_action(save_action, resolve);
      let after_save = function(r) {
        history.replaceState(null, null, " ");
        if (!r.exc) {
          if (["Save", "Update", "Amend"].indexOf(save_action) !== -1) {
            frappe.utils.play_sound("click");
          }
          me2.script_manager.trigger("after_save");
          if (frappe.route_hooks.after_save) {
            let route_callback = frappe.route_hooks.after_save;
            delete frappe.route_hooks.after_save;
            route_callback(me2);
          }
          if (me2.comment_box) {
            me2.comment_box.submit();
          }
          me2.refresh();
        } else if (on_error) {
          on_error();
          reject();
        }
        callback && callback(r);
        resolve();
      };
      let fail = (e) => {
        if (e) {
          console.error(e);
        }
        btn && $(btn).prop("disabled", false);
        if (on_error) {
          on_error();
          reject();
        }
      };
      if (save_action == "Update") {
        frappe.ui.form.save(me2, save_action, after_save, btn);
      } else {
        frappe.validated = true;
        frappe.run_serially([
          () => this.script_manager.trigger("validate"),
          () => this.script_manager.trigger("before_save"),
          () => {
            if (!frappe.validated) {
              fail();
              return;
            }
            frappe.ui.form.save(me2, save_action, after_save, btn);
          }
        ]).catch(fail);
      }
    }
    savesubmit(btn, callback, on_error) {
      let me2 = this;
      return new Promise((resolve) => {
        this.validate_form_action("Submit");
        frappe.confirm(
          __("Permanently Submit {0}?", [this.docname]),
          function() {
            frappe.validated = true;
            me2.script_manager.trigger("before_submit").then(function() {
              if (!frappe.validated) {
                return me2.handle_save_fail(btn, on_error);
              }
              me2.save(
                "Submit",
                function(r) {
                  if (r.exc) {
                    me2.handle_save_fail(btn, on_error);
                  } else {
                    frappe.utils.play_sound("submit");
                    callback && callback();
                    me2.script_manager.trigger("on_submit").then(() => resolve(me2)).then(() => {
                      if (frappe.route_hooks.after_submit) {
                        let route_callback = frappe.route_hooks.after_submit;
                        delete frappe.route_hooks.after_submit;
                        route_callback(me2);
                      }
                    });
                  }
                },
                btn,
                () => me2.handle_save_fail(btn, on_error),
                resolve
              );
            });
          },
          () => me2.handle_save_fail(btn, on_error)
        );
      });
    }
    savecancel(btn, callback, on_error) {
      const me2 = this;
      this.validate_form_action("Cancel");
      me2.ignore_doctypes_on_cancel_all = me2.ignore_doctypes_on_cancel_all || [];
      frappe.call({
        method: "frappe.desk.form.linked_with.get_submitted_linked_docs",
        args: {
          doctype: me2.doc.doctype,
          name: me2.doc.name
        },
        freeze: true
      }).then((r) => {
        if (!r.exc) {
          let doctypes_to_cancel = (r.message.docs || []).map((value) => value.doctype).filter((value) => !me2.ignore_doctypes_on_cancel_all.includes(value));
          if (doctypes_to_cancel.length) {
            return me2._cancel_all(r, btn, callback, on_error);
          }
        }
        return me2._cancel(btn, callback, on_error, false);
      });
    }
    _cancel_all(r, btn, callback, on_error) {
      const me2 = this;
      let links_text = "";
      let links = r.message.docs;
      const doctypes = Array.from(new Set(links.map((link) => link.doctype)));
      me2.ignore_doctypes_on_cancel_all = me2.ignore_doctypes_on_cancel_all || [];
      for (let doctype of doctypes) {
        if (!me2.ignore_doctypes_on_cancel_all.includes(doctype)) {
          let docnames = links.filter((link) => link.doctype == doctype).map((link) => frappe.utils.get_form_link(link.doctype, link.name, true)).join(", ");
          links_text += `<li><strong>${__(doctype)}</strong>: ${docnames}</li>`;
        }
      }
      links_text = `<ul>${links_text}</ul>`;
      let confirm_message = __("{0} {1} is linked with the following submitted documents: {2}", [
        __(me2.doc.doctype).bold(),
        me2.doc.name,
        links_text
      ]);
      let can_cancel = links.every((link) => frappe.model.can_cancel(link.doctype));
      if (can_cancel) {
        confirm_message += __("Do you want to cancel all linked documents?");
      } else {
        confirm_message += __("You do not have permissions to cancel all linked documents.");
      }
      let d2 = new frappe.ui.Dialog(
        {
          title: __("Cancel All Documents"),
          fields: [
            {
              fieldtype: "HTML",
              options: `<p class="frappe-confirm-message">${confirm_message}</p>`
            }
          ]
        },
        () => me2.handle_save_fail(btn, on_error)
      );
      if (can_cancel) {
        d2.set_primary_action(__("Cancel All"), () => {
          d2.hide();
          frappe.call({
            method: "frappe.desk.form.linked_with.cancel_all_linked_docs",
            args: {
              docs: links,
              ignore_doctypes_on_cancel_all: me2.ignore_doctypes_on_cancel_all || []
            },
            freeze: true,
            callback: (resp) => {
              if (!resp.exc) {
                me2.reload_doc();
                me2._cancel(btn, callback, on_error, true);
              }
            }
          });
        });
      }
      d2.show();
    }
    _cancel(btn, callback, on_error, skip_confirm) {
      const me2 = this;
      const cancel_doc = () => {
        frappe.validated = true;
        me2.script_manager.trigger("before_cancel").then(() => {
          if (!frappe.validated) {
            return me2.handle_save_fail(btn, on_error);
          }
          let after_cancel = function(r) {
            if (r.exc) {
              me2.handle_save_fail(btn, on_error);
            } else {
              frappe.utils.play_sound("cancel");
              me2.refresh();
              callback && callback();
              me2.script_manager.trigger("after_cancel");
            }
          };
          frappe.ui.form.save(me2, "cancel", after_cancel, btn);
        });
      };
      if (skip_confirm) {
        cancel_doc();
      } else {
        frappe.confirm(
          __("Permanently Cancel {0}?", [this.docname]),
          cancel_doc,
          me2.handle_save_fail(btn, on_error)
        );
      }
    }
    savetrash() {
      this.validate_form_action("Delete");
      frappe.model.delete_doc(this.doctype, this.docname, () => {
        this.__deleted();
      });
    }
    amend_doc() {
      if (!this.fields_dict.amended_from) {
        frappe.msgprint(__('"amended_from" field must be present to do an amendment.'));
        return;
      }
      frappe.xcall("frappe.client.is_document_amended", {
        doctype: this.doc.doctype,
        docname: this.doc.name
      }).then((is_amended) => {
        if (is_amended) {
          frappe.throw(
            __("This document is already amended, you cannot ammend it again")
          );
        }
        this.validate_form_action("Amend");
        let me2 = this;
        let fn = function(newdoc) {
          newdoc.amended_from = me2.docname;
          if (me2.fields_dict && me2.fields_dict.amendment_date) {
            newdoc.amendment_date = frappe.datetime.obj_to_str(new Date());
          }
        };
        this.copy_doc(fn, 1);
        frappe.utils.play_sound("click");
      });
    }
    validate_form_action(action, resolve) {
      let perm_to_check = this.action_perm_type_map[action];
      let allowed_for_workflow = false;
      let perms = frappe.perm.get_perm(this.doc.doctype)[0];
      if (frappe.workflow.is_read_only(this.doctype, this.docname) && (perms.write || perms.create || perms.submit || perms.cancel) || !frappe.workflow.is_read_only(this.doctype, this.docname)) {
        allowed_for_workflow = true;
      }
      if (!this.perm[0][perm_to_check] && !allowed_for_workflow) {
        if (resolve) {
          resolve();
        }
        frappe.throw(
          __(
            "No permission to '{0}' {1}",
            [__(action), __(this.doc.doctype)],
            "{0} = verb, {1} = object"
          )
        );
      }
    }
    enable_save() {
      this.save_disabled = false;
      this.toolbar.set_primary_action();
    }
    disable_save(set_dirty = false) {
      this.save_disabled = true;
      this.toolbar.current_status = null;
      this.set_dirty = set_dirty;
      this.page.clear_primary_action();
    }
    disable_form() {
      this.set_read_only();
      for (const field of this.fields) {
        this.set_df_property(field.df.fieldname, "read_only", "1");
      }
      this.disable_save();
    }
    handle_save_fail(btn, on_error) {
      $(btn).prop("disabled", false);
      if (on_error) {
        on_error();
      }
    }
    trigger_link_fields() {
      if (this.is_new() && this.doc.__run_link_triggers) {
        $.each(this.fields_dict, function(fieldname, field) {
          if (field.df.fieldtype == "Link" && this.doc[fieldname]) {
            field.set_value(this.doc[fieldname], true);
          }
        });
        delete this.doc.__run_link_triggers;
      }
    }
    show_conflict_message() {
      if (this.doc.__needs_refresh) {
        if (this.doc.__unsaved) {
          this.dashboard.clear_headline();
          this.dashboard.set_headline_alert(
            `${__("This form has been modified after you have loaded it")}<button class="btn btn-xs btn-primary pull-right" onclick="cur_frm.reload_doc()">${__("Refresh")}</button>`,
            "alert-warning"
          );
        } else {
          this.debounced_reload_doc();
        }
      }
    }
    show_submit_message() {
      if (this.meta.is_submittable && this.perm[0] && this.perm[0].submit && !this.is_dirty() && !this.is_new() && !frappe.model.has_workflow(this.doctype) && this.doc.docstatus === 0) {
        this.dashboard.add_comment(__("Submit this document to confirm"), "blue", true);
      }
    }
    show_web_link() {
      if (!this.doc.__islocal && this.doc.__onload && this.doc.__onload.is_website_generator) {
        this.web_link && this.web_link.remove();
        if (this.doc.__onload.published) {
          this.add_web_link(`/${this.doc.route}`);
        }
      }
    }
    add_web_link(path, label) {
      label = __(label) || __("See on Website");
      this.web_link = this.sidebar.add_user_action(__(label), function() {
      }).attr("href", path || this.doc.route).attr("target", "_blank");
    }
    fetch_permissions() {
      let dt2 = this.parent_doctype ? this.parent_doctype : this.doctype;
      this.perm = frappe.perm.get_perm(dt2, this.doc);
    }
    has_read_permission() {
      if (!this.perm[0].read) {
        return 0;
      }
      return 1;
    }
    check_doctype_conflict(docname) {
      if (this.doctype == "DocType" && docname == "DocType") {
        frappe.msgprint(__("Allowing DocType, DocType. Be careful!"));
      } else if (this.doctype == "DocType") {
        if (frappe.views.formview[docname] || frappe.pages[`List/${docname}`]) {
          window.location.reload();
        }
      } else if (frappe.views.formview.DocType && frappe.views.formview.DocType.frm.opendocs[this.doctype]) {
        window.location.reload();
      }
    }
    rename_notify(dt2, old, name) {
      if (this.meta.istable) {
        return;
      }
      if (this.docname == old) {
        this.docname = name;
      } else {
        return;
      }
      if (this && this.opendocs[old] && frappe.meta.docfield_copy[dt2]) {
        frappe.meta.docfield_copy[dt2][name] = frappe.meta.docfield_copy[dt2][old];
        delete frappe.meta.docfield_copy[dt2][old];
      }
      delete this.opendocs[old];
      this.opendocs[name] = true;
    }
    print_doc() {
      frappe.route_options = {
        frm: this
      };
      frappe.set_route("print", this.doctype, this.doc.name);
    }
    navigate_records(prev) {
      let filters, sort_field, sort_order;
      let list_view = frappe.get_list_view(this.doctype);
      if (list_view) {
        filters = list_view.get_filters_for_args();
        sort_field = list_view.sort_by;
        sort_order = list_view.sort_order;
      } else {
        let list_settings = frappe.get_user_settings(this.doctype).List;
        if (list_settings) {
          filters = list_settings.filters;
          sort_field = list_settings.sort_by;
          sort_order = list_settings.sort_order;
        }
      }
      let args = {
        doctype: this.doctype,
        value: this.docname,
        filters,
        sort_order,
        sort_field,
        prev
      };
      frappe.call("frappe.desk.form.utils.get_next", args).then((r) => {
        if (r.message) {
          frappe.set_route("Form", this.doctype, r.message);
          this.focus_on_first_input();
        }
      });
    }
    rename_doc() {
      frappe.model.rename_doc(this.doctype, this.docname, () => this.refresh_header());
    }
    share_doc() {
      this.shared.show();
    }
    email_doc(message) {
      new frappe.views.CommunicationComposer({
        doc: this.doc,
        frm: this,
        subject: `${__(this.meta.name)}: ${this.docname}`,
        recipients: this.doc.email || this.doc.email_id || this.doc.contact_email,
        attach_document_print: true,
        message
      });
    }
    copy_doc(onload, from_amend) {
      this.validate_form_action("Create");
      let newdoc = frappe.model.copy_doc(this.doc, from_amend);
      newdoc.idx = null;
      newdoc.__run_link_triggers = false;
      if (onload) {
        onload(newdoc);
      }
      frappe.set_route("Form", newdoc.doctype, newdoc.name);
    }
    reload_doc() {
      this.check_doctype_conflict(this.docname);
      if (!this.doc.__islocal) {
        frappe.model.remove_from_locals(this.doctype, this.docname);
        return frappe.model.with_doc(this.doctype, this.docname, () => {
          this.refresh();
        });
      }
    }
    refresh_field(fname) {
      if (this.fields_dict[fname] && this.fields_dict[fname].refresh) {
        this.fields_dict[fname].refresh();
        this.layout.refresh_dependency();
        this.layout.refresh_sections();
      }
    }
    add_fetch(link_field, source_field, target_field, target_doctype) {
      if (!target_doctype) {
        target_doctype = "*";
      }
      this.fetch_dict.setDefault(target_doctype, {}).setDefault(link_field, {})[target_field] = source_field;
    }
    has_perm(ptype) {
      return frappe.perm.has_perm(this.doctype, 0, ptype, this.doc);
    }
    dirty() {
      this.doc.__unsaved = 1;
      this.$wrapper.trigger("dirty");
      if (!frappe.boot.developer_mode) {
        addEventListener("beforeunload", this.beforeUnloadListener, { capture: true });
      }
    }
    get_docinfo() {
      return frappe.model.docinfo[this.doctype][this.docname];
    }
    is_dirty() {
      return Boolean(this.doc.__unsaved);
    }
    is_new() {
      return this.doc.__islocal;
    }
    get_perm(permlevel, access_type) {
      return this.perm[permlevel] ? this.perm[permlevel][access_type] : null;
    }
    set_intro(txt, color) {
      this.dashboard.set_headline_alert(txt, color);
    }
    set_footnote(txt) {
      this.footnote_area = frappe.utils.set_footnote(this.footnote_area, this.body, txt);
    }
    add_custom_button(label, fn, group) {
      if (group && group.indexOf("fa fa-") !== -1) {
        group = null;
      }
      let btn = this.page.add_inner_button(label, fn, group);
      if (btn) {
        let menu_item_label = group ? `${group} > ${label}` : label;
        let menu_item = this.page.add_menu_item(menu_item_label, fn, false);
        menu_item.parent().addClass("hidden-xl");
        this.custom_buttons[label] = btn;
      }
      return btn;
    }
    change_custom_button_type(label, group, type) {
      this.page.change_inner_button_type(label, group, type);
    }
    clear_custom_buttons() {
      this.page.clear_inner_toolbar();
      this.page.clear_user_actions();
      this.custom_buttons = {};
    }
    remove_custom_button(label, group) {
      this.page.remove_inner_button(label, group);
    }
    scroll_to_element() {
      if (frappe.route_options && frappe.route_options.scroll_to) {
        let { scroll_to } = frappe.route_options;
        delete frappe.route_options.scroll_to;
        let selector = [];
        for (let key2 in scroll_to) {
          let value = scroll_to[key2];
          selector.push(repl('[data-%(key)s="%(value)s"]', { key: key2, value }));
        }
        selector = $(selector.join(" "));
        if (selector.length) {
          frappe.utils.scroll_to(selector);
        }
      } else if (window.location.hash) {
        if ($(window.location.hash).length) {
          frappe.utils.scroll_to(window.location.hash, true, 200, null, null, true);
        } else {
          this.scroll_to_field(window.location.hash.replace("#", "")) && history.replaceState(null, null, " ");
        }
      }
    }
    show_success_action() {
      const route = frappe.get_route();
      if (route[0] !== "Form") {
        return;
      }
      if (this.meta.is_submittable && this.doc.docstatus !== 1) {
        return;
      }
      const success_action = new frappe.ui.form.SuccessAction(this);
      success_action.show();
    }
    get_doc() {
      return locals[this.doctype][this.docname];
    }
    set_currency_labels(fields_list, currency, parentfield) {
      if (!currency) {
        return;
      }
      let me2 = this;
      let doctype = parentfield ? this.fields_dict[parentfield].grid.doctype : this.doc.doctype;
      let field_label_map = {};
      let grid_field_label_map = {};
      $.each(fields_list, function(i, fname) {
        let docfield = frappe.meta.docfield_map[doctype][fname];
        if (docfield) {
          var label = __(docfield.label || "").replace(/\([^\)]*\)/g, "");
          if (parentfield) {
            grid_field_label_map[`${doctype}-${fname}`] = `${label.trim()} (${__(currency)})`;
          } else {
            field_label_map[fname] = `${label.trim()} (${currency})`;
          }
        }
      });
      $.each(field_label_map, function(fname, label) {
        me2.fields_dict[fname].set_label(label);
      });
      $.each(grid_field_label_map, function(fname, label) {
        fname = fname.split("-");
        me2.fields_dict[parentfield].grid.update_docfield_property(fname[1], "label", label);
      });
    }
    field_map(fnames, fn) {
      if (typeof fnames === "string") {
        if (fnames == "*") {
          fnames = Object.keys(this.fields_dict);
        } else {
          fnames = [fnames];
        }
      }
      for (let i = 0, l = fnames.length; i < l; i++) {
        let fieldname = fnames[i];
        let field = frappe.meta.get_docfield(this.doctype, fieldname, this.docname);
        if (field) {
          fn(field);
          this.refresh_field(fieldname);
        }
      }
    }
    get_docfield(fieldname1, fieldname2) {
      if (fieldname2) {
        let doctype = this.get_docfield(fieldname1).options;
        return frappe.meta.get_docfield(doctype, fieldname2, this.docname);
      }
      return frappe.meta.get_docfield(this.doctype, fieldname1, this.docname);
    }
    set_df_property(fieldname, property, value, docname, table_field, table_row_name = null) {
      let df;
      if (!docname || !table_field) {
        df = this.get_docfield(fieldname);
      } else {
        const { grid } = this.fields_dict[fieldname];
        const filtered_fields = frappe.utils.filter_dict(grid.docfields, {
          fieldname: table_field
        });
        if (filtered_fields.length) {
          df = frappe.meta.get_docfield(
            filtered_fields[0].parent,
            table_field,
            table_row_name
          );
        }
      }
      if (df && df[property] != value) {
        df[property] = value;
        if (table_field && table_row_name) {
          if (this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name]) {
            this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name].refresh_field(fieldname);
          }
        } else {
          this.refresh_field(fieldname);
        }
      }
    }
    toggle_enable(fnames, enable) {
      this.field_map(fnames, function(field) {
        field.read_only = enable ? 0 : 1;
      });
    }
    toggle_reqd(fnames, mandatory) {
      this.field_map(fnames, function(field) {
        field.reqd = mandatory ? true : false;
      });
    }
    toggle_display(fnames, show) {
      this.field_map(fnames, function(field) {
        field.hidden = show ? 0 : 1;
      });
    }
    get_files() {
      return this.attachments ? frappe.utils.sort(this.attachments.get_attachments(), "file_name", "string") : [];
    }
    set_query(fieldname, opt1, opt2) {
      if (opt2) {
        this.fields_dict[opt1].grid.get_field(fieldname).get_query = opt2;
      } else {
        if (this.fields_dict[fieldname]) {
          this.fields_dict[fieldname].get_query = opt1;
        }
      }
    }
    clear_table(fieldname) {
      frappe.model.clear_table(this.doc, fieldname);
    }
    add_child(fieldname, values) {
      let doc = frappe.model.add_child(
        this.doc,
        frappe.meta.get_docfield(this.doctype, fieldname).options,
        fieldname
      );
      if (values) {
        let d2 = {};
        let unique_keys = ["idx", "name"];
        Object.keys(values).map((key2) => {
          if (!unique_keys.includes(key2)) {
            d2[key2] = values[key2];
          }
        });
        $.extend(doc, d2);
      }
      return doc;
    }
    set_value(field, value, if_missing, skip_dirty_trigger = false) {
      let me2 = this;
      let _set = function(f, v) {
        let fieldobj = me2.fields_dict[f];
        if (fieldobj) {
          if (!if_missing || !frappe.model.has_value(me2.doctype, me2.doc.name, f)) {
            if (frappe.model.table_fields.includes(fieldobj.df.fieldtype) && $.isArray(v)) {
              frappe.model.clear_table(me2.doc, fieldobj.df.fieldname);
              const standard_fields = [
                ...frappe.model.std_fields_list,
                ...frappe.model.child_table_field_list
              ];
              for (const [idx, d2] of v.entries()) {
                let child = frappe.model.add_child(
                  me2.doc,
                  fieldobj.df.options,
                  fieldobj.df.fieldname,
                  idx + 1
                );
                let doc_copy = __spreadValues({}, d2);
                for (const field2 of standard_fields) {
                  delete doc_copy[field2];
                }
                $.extend(child, doc_copy);
              }
              me2.refresh_field(f);
              return Promise.resolve();
            }
            return frappe.model.set_value(
              me2.doctype,
              me2.doc.name,
              f,
              v,
              me2.fieldtype,
              skip_dirty_trigger
            );
          }
        } else {
          frappe.msgprint(__("Field {0} not found.", [f]));
          throw "frm.set_value";
        }
      };
      if (typeof field === "string") {
        return _set(field, value);
      } else if ($.isPlainObject(field)) {
        let tasks = [];
        for (let f in field) {
          let v = field[f];
          if (me2.get_field(f)) {
            tasks.push(() => _set(f, v));
          }
        }
        return frappe.run_serially(tasks);
      }
    }
    call(opts, args, callback) {
      let me2 = this;
      if (typeof opts === "string") {
        opts = {
          method: opts,
          doc: this.doc,
          args,
          callback
        };
      }
      if (opts.doc) {
        opts.original_callback = opts.callback;
        opts.callback = function(r) {
          if (!r.exc) {
            me2.refresh_fields();
          }
          opts.original_callback && opts.original_callback(r);
        };
      } else {
        if (opts.method.indexOf(".") === -1) {
          opts.method = `${frappe.model.get_server_module_name(me2.doctype)}.${opts.method}`;
        }
        opts.original_callback = opts.callback;
        opts.callback = function(r) {
          if ($.isPlainObject(r.message)) {
            if (opts.child) {
              opts.child = locals[opts.child.doctype][opts.child.name];
              let std_field_list = ["doctype"].concat(frappe.model.std_fields_list).concat(frappe.model.child_table_field_list);
              for (let key2 in r.message) {
                if (std_field_list.indexOf(key2) === -1) {
                  opts.child[key2] = r.message[key2];
                }
              }
              me2.fields_dict[opts.child.parentfield].refresh();
            } else {
              me2.set_value(r.message);
            }
          }
          opts.original_callback && opts.original_callback(r);
        };
      }
      return frappe.call(opts);
    }
    get_field(field) {
      return this.fields_dict[field];
    }
    set_read_only() {
      const docperms = frappe.perm.get_perm(this.doc.doctype);
      this.perm = docperms.map((p) => ({
        read: p.read,
        cancel: p.cancel,
        share: p.share,
        print: p.print,
        email: p.email
      }));
    }
    trigger(event, doctype, docname) {
      return this.script_manager.trigger(event, doctype, docname);
    }
    get_formatted(fieldname) {
      return frappe.format(
        this.doc[fieldname],
        frappe.meta.get_docfield(this.doctype, fieldname, this.docname),
        { no_icon: true },
        this.doc
      );
    }
    open_grid_row() {
      return frappe.ui.form.get_open_grid_form();
    }
    get_title() {
      if (this.meta.title_field) {
        return this.doc[this.meta.title_field];
      }
      return String(this.doc.name);
    }
    get_selected() {
      let selected = {}, me2 = this;
      for (const df of frappe.meta.get_table_fields(this.doctype)) {
        let _selected = [];
        if (me2.fields_dict[df.fieldname].grid) {
          _selected = me2.fields_dict[df.fieldname].grid.get_selected();
        }
        if (_selected.length) {
          selected[df.fieldname] = _selected;
        }
      }
      return selected;
    }
    set_indicator_formatter(fieldname, get_color, get_text) {
      let doctype;
      if (frappe.meta.docfield_map[this.doctype][fieldname]) {
        doctype = this.doctype;
      } else {
        frappe.meta.get_table_fields(this.doctype).every(function(df) {
          if (frappe.meta.docfield_map[df.options][fieldname]) {
            doctype = df.options;
            return false;
          }
          return true;
        });
      }
      frappe.meta.docfield_map[doctype][fieldname].formatter = function(value, df, options, doc) {
        if (value) {
          let label;
          if (get_text) {
            label = get_text(doc);
          } else if (frappe.form.link_formatters[df.options]) {
            label = frappe.form.link_formatters[df.options](value, doc);
          } else {
            label = value;
          }
          const escaped_name = encodeURIComponent(value);
          return `
						<a class="indicator ${get_color(doc || {})}"
							href="/app/${frappe.router.slug(df.options)}/${escaped_name}"
							data-doctype="${df.options}"
							data-name="${value}">
							${label}
						</a>
					`;
        }
        return "";
      };
    }
    can_create(doctype) {
      if (!frappe.model.can_create(doctype)) {
        return false;
      }
      if (this.custom_make_buttons && this.custom_make_buttons[doctype]) {
        const key2 = __(this.custom_make_buttons[doctype]);
        return Boolean(this.custom_buttons[key2]);
      }
      if (this.can_make_methods && this.can_make_methods[doctype]) {
        return this.can_make_methods[doctype](this);
      }
      if (this.meta.is_submittable && !this.doc.docstatus == 1) {
        return false;
      }
      return true;
    }
    make_new(doctype) {
      let me2 = this;
      if (this.make_methods && this.make_methods[doctype]) {
        return this.make_methods[doctype](this);
      } else if (this.custom_make_buttons && this.custom_make_buttons[doctype]) {
        this.custom_buttons[__(this.custom_make_buttons[doctype])].trigger("click");
      } else {
        frappe.model.with_doctype(doctype, function() {
          let new_doc = frappe.model.get_new_doc(doctype, null, null, true);
          me2.set_link_field(doctype, new_doc);
          frappe.ui.form.make_quick_entry(doctype, null, null, new_doc);
        });
      }
    }
    set_link_field(doctype, new_doc) {
      let me2 = this;
      for (const df of frappe.get_meta(doctype).fields) {
        if (df.fieldtype === "Link" && df.options === me2.doctype) {
          new_doc[df.fieldname] = me2.doc.name;
        } else if (["Link", "Dynamic Link"].includes(df.fieldtype) && me2.doc[df.fieldname]) {
          new_doc[df.fieldname] = me2.doc[df.fieldname];
        } else if (df.fieldtype === "Table" && df.options && df.reqd) {
          let row = new_doc[df.fieldname][0];
          me2.set_link_field(df.options, row);
        }
      }
    }
    update_in_all_rows(table_fieldname, fieldname, value) {
      if (value === void 0) {
        return;
      }
      for (const child of frappe.model.get_children(this.doc, table_fieldname).filter((child2) => !frappe.model.has_value(child2.doctype, child2.name, fieldname))) {
        frappe.model.set_value(child.doctype, child.name, fieldname, value);
      }
    }
    get_sum(table_fieldname, fieldname) {
      let sum = 0;
      for (let d2 of this.doc[table_fieldname] || []) {
        sum += d2[fieldname];
      }
      return sum;
    }
    scroll_to_field(fieldname, focus = true) {
      var _a;
      let field = this.get_field(fieldname);
      if (!field) {
        return;
      }
      let $el = field.$wrapper;
      if (field.tab && !field.tab.is_active()) {
        field.tab.set_active();
      }
      if ((_a = field.section) == null ? void 0 : _a.is_collapsed()) {
        field.section.collapse(false);
      }
      frappe.utils.scroll_to($el, true, 15);
      if (focus) {
        setTimeout(() => {
          $el.find("input, select, textarea").focus();
        }, 500);
      }
      let control_element = $el.closest(".frappe-control");
      control_element.addClass("highlight");
      setTimeout(() => {
        control_element.removeClass("highlight");
      }, 2e3);
      return true;
    }
    setup_docinfo_change_listener() {
      let { doctype } = this;
      let { docname } = this;
      if (this.doc && !this.is_new()) {
        frappe.socketio.doc_subscribe(doctype, docname);
      }
      frappe.realtime.off("docinfo_update");
      frappe.realtime.on("docinfo_update", ({ doc, key: key2, action = "update" }) => {
        if (!doc.reference_doctype || !doc.reference_name || doc.reference_doctype !== doctype || doc.reference_name !== docname) {
          return;
        }
        let doc_list = frappe.model.docinfo[doctype][docname][key2] || [];
        let docindex = doc_list.findIndex((old_doc) => old_doc.name === doc.name);
        if (action === "add") {
          frappe.model.docinfo[doctype][docname][key2].push(doc);
        }
        if (docindex > -1) {
          if (action === "update") {
            frappe.model.docinfo[doctype][docname][key2].splice(docindex, 1, doc);
          }
          if (action === "delete") {
            frappe.model.docinfo[doctype][docname][key2].splice(docindex, 1);
          }
        }
        if (!(["add", "update"].includes(action) && doc.doctype === "Comment" && doc.owner === frappe.session.user)) {
          this.timeline && this.timeline.refresh();
        }
      });
    }
    set_fields_as_options(fieldname, reference_doctype, filter_function, default_options = [], table_fieldname) {
      if (!reference_doctype) {
        return Promise.resolve();
      }
      let options = default_options || [];
      if (!filter_function) {
        filter_function = (f) => f;
      }
      return new Promise((resolve) => {
        frappe.model.with_doctype(reference_doctype, () => {
          frappe.get_meta(reference_doctype).fields.map((df) => {
            filter_function(df) && options.push({ label: df.label || df.fieldname, value: df.fieldname });
          });
          options && this.set_df_property(
            fieldname,
            "options",
            options,
            this.doc.name,
            table_fieldname
          );
          resolve(options);
        });
      });
    }
    set_active_tab(tab) {
      if (!this.active_tab_map) {
        this.active_tab_map = {};
      }
      this.active_tab_map[this.docname] = tab;
    }
    get_active_tab() {
      return this.active_tab_map && this.active_tab_map[this.docname];
    }
    get_involved_users() {
      let user_fields = this.meta.fields.filter((d2) => d2.fieldtype === "Link" && d2.options === "User").map((d2) => d2.fieldname);
      user_fields = [...user_fields, "owner", "modified_by"];
      let involved_users = user_fields.map((field) => this.doc[field]);
      const docinfo = this.get_docinfo();
      involved_users = involved_users.concat(
        docinfo.communications.map((d2) => d2.sender && d2.delivery_status === "sent"),
        docinfo.comments.map((d2) => d2.owner),
        docinfo.versions.map((d2) => d2.owner),
        docinfo.assignments.map((d2) => d2.owner)
      );
      return involved_users.uniqBy((u) => u).filter((user) => !["Administrator", frappe.session.user].includes(user)).filter(Boolean);
    }
  };
  var Form_default = Form;

  // guigu/public/js/FormDetail/loadDoc.ts
  async function loadDoc(doctype, name) {
    const doc = frappe.get_doc(doctype, name);
    if (doc && frappe.model.get_docinfo(doctype, name) && (doc.__islocal || frappe.model.is_fresh(doc))) {
      return true;
    }
    return new Promise((resolve) => {
      frappe.model.with_doc(doctype, name, (name2, r) => {
        if (r && r["403"]) {
          return resolve(false);
        }
        if (!(locals[doctype] && locals[doctype][name2])) {
          return resolve(false);
        }
        resolve(true);
      });
    });
  }

  // guigu/public/js/FormDetail/useStore.ts
  var import_vue16 = __require("vue");
  var import_pinia = __require("pinia");
  var useStore_default = (0, import_pinia.defineStore)("Guigu:GlobalView:FormDetail", () => {
    const currentTab = (0, import_vue16.shallowRef)("");
    return { currentTab };
  });

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=script
  var Main_default = /* @__PURE__ */ (0, import_vue17.defineComponent)(__spreadProps(__spreadValues({}, { name: "FormDetail" }), {
    __name: "Main",
    props: {
      meta: { type: null, required: true },
      options: { type: Object, required: true },
      value: { type: null, required: true },
      name: { type: String, required: true },
      loading: { type: Boolean, required: false },
      isHideClose: { type: Boolean, required: false }
    },
    emits: ["refresh", "update:value"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function hide() {
        emit("update:value");
      }
      const detailState = useStore_default();
      const currentTab = (0, import_vue18.computed)({
        get: () => detailState.currentTab,
        set: (s) => {
          detailState.currentTab = s;
        }
      });
      const single_column = (0, import_vue18.computed)(() => {
        var _a;
        return Boolean((_a = props.meta) == null ? void 0 : _a.hide_toolbar);
      });
      const open = (0, import_core.useStorage)(`mainView:FormDetail:sider:${props.meta.name}`, true);
      const tt2 = __;
      const root = (0, import_vue18.shallowRef)();
      let layout;
      const onUpdate = ({ doctype, name, modified }) => {
        if (doctype !== props.meta.name) {
          return;
        }
        if (name !== props.name) {
          return;
        }
        if (!layout) {
          return;
        }
        if (modified === layout.doc.modified) {
          return;
        }
        if (layout.is_dirty()) {
          layout.show_conflict_message();
        } else {
          layout.reload_doc();
        }
      };
      (0, import_vue18.onMounted)(() => {
        const body = root.value;
        if (!body) {
          return;
        }
        const doctype = props.meta.name;
        const { name } = props;
        loadDoc(doctype, name).then((r) => {
          if (!r) {
            return;
          }
          layout = new Form_default(doctype, name, body, hide, currentTab);
          layout.refresh(name);
        });
        frappe.realtime.on("doc_update", onUpdate);
      });
      (0, import_vue18.onUnmounted)(() => {
        frappe.realtime.off("doc_update", onUpdate);
      });
      const __returned__ = { props, emit, hide, detailState, currentTab, single_column, open, tt: tt2, root, get layout() {
        return layout;
      }, set layout(v) {
        layout = v;
      }, onUpdate, Header: Header_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  }));

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/Main.vue?type=template
  var import_vue19 = __require("vue");
  var _hoisted_110 = { ref: "root" };
  var _hoisted_26 = { class: "container page-body" };
  var _hoisted_36 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "page-toolbar hide" }, [
    /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "container" })
  ], -1);
  var _hoisted_44 = { class: "page-wrapper" };
  var _hoisted_53 = { class: "page-content" };
  var _hoisted_63 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "workflow-button-area btn-group pull-right hide" }, null, -1);
  var _hoisted_72 = /* @__PURE__ */ (0, import_vue19.createElementVNode)("div", { class: "clearfix" }, null, -1);
  var _hoisted_82 = { class: "row layout-main" };
  var _hoisted_92 = /* @__PURE__ */ (0, import_vue19.createStaticVNode)('<div class="col layout-main-section-wrapper"><div class="layout-main-section"><div><div class="std-form-layout"><div class="form-layout"><div class="form-message hidden"></div><div class="form-page"></div></div></div></div></div><div class="layout-footer hide"></div></div>', 1);
  var _hoisted_102 = ["hidden"];
  function render6(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue19.openBlock)(), (0, import_vue19.createElementBlock)("div", _hoisted_110, [
      (0, import_vue19.createVNode)($setup["Header"], {
        open: $setup.open,
        "onUpdate:open": _cache[0] || (_cache[0] = ($event) => $setup.open = $event),
        hasSider: !$setup.single_column,
        isHideClose: $props.isHideClose,
        onHide: $setup.hide
      }, null, 8, ["open", "hasSider", "isHideClose"]),
      (0, import_vue19.createElementVNode)("div", _hoisted_26, [
        _hoisted_36,
        (0, import_vue19.createElementVNode)("div", _hoisted_44, [
          (0, import_vue19.createElementVNode)("div", _hoisted_53, [
            _hoisted_63,
            _hoisted_72,
            (0, import_vue19.createElementVNode)("div", _hoisted_82, [
              _hoisted_92,
              !$setup.single_column ? ((0, import_vue19.openBlock)(), (0, import_vue19.createElementBlock)("div", {
                key: 0,
                hidden: !$setup.open,
                class: "col-lg-2 layout-side-section"
              }, null, 8, _hoisted_102)) : (0, import_vue19.createCommentVNode)("v-if", true)
            ])
          ])
        ])
      ])
    ], 512);
  }

  // guigu/public/js/FormDetail/Main.vue
  Main_default.render = render6;
  Main_default.__file = "guigu/public/js/FormDetail/Main.vue";
  var Main_default2 = Main_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=script
  var FormDetail_default = /* @__PURE__ */ (0, import_vue20.defineComponent)(__spreadProps(__spreadValues({}, { name: "FormDetail:Root", inheritAttrs: false }), {
    __name: "index",
    props: {
      meta: { type: null, required: true },
      options: { type: Object, required: true },
      value: { type: null, required: false },
      loading: { type: Boolean, required: false },
      linkField: { type: String, required: false },
      isHideClose: { type: Boolean, required: false }
    },
    emits: ["refresh", "update:value"],
    setup(__props, { expose: __expose, emit }) {
      __expose();
      const props = __props;
      function refresh() {
        emit("refresh");
      }
      const doc = (0, import_vue21.computed)({
        get: () => props.value,
        set: (v) => emit("update:value", v)
      });
      let docMetaLoadingDoctype = "";
      let DocTypeLoadingId = 0;
      const linkField = (0, import_vue21.computed)(() => props.linkField);
      const docMetaLoading = (0, import_vue21.shallowRef)();
      const link = (0, import_vue21.computed)(() => getLink(doc.value, props.meta, linkField.value));
      const name = (0, import_vue21.computed)(() => {
        var _a, _b;
        return ((_a = link.value) == null ? void 0 : _a[1]) || ((_b = doc.value) == null ? void 0 : _b.name);
      });
      (0, import_vue21.watch)(() => {
        var _a;
        return (_a = link.value) == null ? void 0 : _a[0];
      }, (doctype) => {
        if (!doctype) {
          return;
        }
        if (doctype === docMetaLoadingDoctype) {
          return;
        }
        docMetaLoadingDoctype = doctype;
        docMetaLoading.value = void 0;
        DocTypeLoadingId++;
        const id = DocTypeLoadingId;
        (async () => {
          await new Promise((r) => frappe.model.with_doctype(doctype, r));
          const meta = frappe.get_doc("DocType", doctype);
          if (id !== DocTypeLoadingId) {
            return;
          }
          if (docMetaLoadingDoctype !== doctype) {
            return;
          }
          docMetaLoading.value = meta || void 0;
        })();
      }, { immediate: true });
      const docMeta = (0, import_vue21.computed)(() => {
        var _a;
        const doctype = (_a = link.value) == null ? void 0 : _a[0];
        if (!doctype) {
          return props.meta;
        }
        if (doctype !== docMetaLoadingDoctype) {
          return;
        }
        return docMetaLoading.value;
      });
      const __returned__ = { props, emit, refresh, doc, get docMetaLoadingDoctype() {
        return docMetaLoadingDoctype;
      }, set docMetaLoadingDoctype(v) {
        docMetaLoadingDoctype = v;
      }, get DocTypeLoadingId() {
        return DocTypeLoadingId;
      }, set DocTypeLoadingId(v) {
        DocTypeLoadingId = v;
      }, linkField, docMetaLoading, link, name, docMeta, Main: Main_default2 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  }));

  // sfc-template:/Users/px/Code/frappe-bench/apps/guigu/guigu/public/js/FormDetail/index.vue?type=template
  var import_vue22 = __require("vue");
  function render7(_ctx, _cache, $props, $setup, $data, $options) {
    return $props.value && $setup.docMeta && $setup.name ? ((0, import_vue22.openBlock)(), (0, import_vue22.createBlock)($setup["Main"], {
      key: `${$setup.docMeta.name}:${$props.value.name}`,
      meta: $setup.docMeta,
      options: $props.options,
      loading: $props.loading,
      name: $setup.name,
      isHideClose: $props.isHideClose,
      value: $setup.doc,
      "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $setup.doc = $event),
      onRefresh: $setup.refresh
    }, null, 8, ["meta", "options", "loading", "name", "isHideClose", "value"])) : (0, import_vue22.createCommentVNode)("v-if", true);
  }

  // guigu/public/js/FormDetail/index.vue
  FormDetail_default.render = render7;
  FormDetail_default.__file = "guigu/public/js/FormDetail/index.vue";
  var FormDetail_default2 = FormDetail_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=script
  var Detail_default = /* @__PURE__ */ (0, import_vue23.defineComponent)({
    __name: "Detail",
    props: {
      doctype: { type: String, required: true },
      name: { type: String, required: false }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const meta = (0, import_vue24.shallowRef)();
      const detail = (0, import_vue24.ref)();
      const loading = (0, import_vue24.ref)(false);
      (0, import_vue24.watch)(() => props.doctype, () => {
        getMeta(props.doctype);
      }, { immediate: true });
      (0, import_vue24.watch)(() => props.name, () => {
        getDetail();
      }, { immediate: true });
      async function getDetail() {
        loading.value = true;
        if (!props.name) {
          detail.value = void 0;
          loading.value = false;
          return;
        }
        detail.value = await frappe.db.get_doc(props.doctype, props.name);
        loading.value = false;
      }
      async function getMeta(doctype) {
        if (!doctype) {
          return;
        }
        let local_meta = frappe.get_meta(doctype);
        if (local_meta) {
          local_meta.hide_toolbar = true;
          meta.value = local_meta;
          return;
        }
        await frappe.model.with_doctype(doctype);
        local_meta = frappe.get_meta(doctype);
        local_meta.hide_toolbar = true;
        meta.value = local_meta || void 0;
      }
      const __returned__ = { meta, props, detail, loading, getDetail, getMeta, get FormDetail() {
        return FormDetail_default2;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=style&index=0
  var Detail_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue?type=template
  var import_vue25 = __require("vue");
  var _hoisted_111 = { class: "form-container" };
  function render8(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue25.openBlock)(), (0, import_vue25.createElementBlock)("div", _hoisted_111, [
      $setup.meta && $setup.detail ? ((0, import_vue25.openBlock)(), (0, import_vue25.createBlock)($setup["FormDetail"], {
        key: 0,
        loading: $setup.loading,
        meta: $setup.meta,
        options: {},
        value: $setup.detail,
        isHideClose: ""
      }, null, 8, ["loading", "meta", "value"])) : (0, import_vue25.createCommentVNode)("v-if", true)
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue
  Detail_default2(Detail_default);
  Detail_default.render = render8;
  Detail_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Detail.vue";
  Detail_default.__scopeId = "data-v-c54e1258";
  var Detail_default3 = Detail_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=script
  var import_vue26 = __require("vue");
  var import_vue27 = __require("vue");

  // ../frappe/node_modules/@editorjs/editorjs/dist/editorjs.mjs
  var Lt = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
  function xe(s) {
    return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
  }
  function Be() {
  }
  Object.assign(Be, {
    default: Be,
    register: Be,
    revert: function() {
    },
    __esModule: true
  });
  Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(s) {
    const e = (this.document || this.ownerDocument).querySelectorAll(s);
    let t = e.length;
    for (; --t >= 0 && e.item(t) !== this; )
      ;
    return t > -1;
  });
  Element.prototype.closest || (Element.prototype.closest = function(s) {
    let e = this;
    if (!document.documentElement.contains(e))
      return null;
    do {
      if (e.matches(s))
        return e;
      e = e.parentElement || e.parentNode;
    } while (e !== null);
    return null;
  });
  Element.prototype.prepend || (Element.prototype.prepend = function(e) {
    const t = document.createDocumentFragment();
    Array.isArray(e) || (e = [e]), e.forEach((o) => {
      const i = o instanceof Node;
      t.appendChild(i ? o : document.createTextNode(o));
    }), this.insertBefore(t, this.firstChild);
  });
  Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(s) {
    s = arguments.length === 0 ? true : !!s;
    const e = this.parentNode, t = window.getComputedStyle(e, null), o = parseInt(t.getPropertyValue("border-top-width")), i = parseInt(t.getPropertyValue("border-left-width")), n = this.offsetTop - e.offsetTop < e.scrollTop, r = this.offsetTop - e.offsetTop + this.clientHeight - o > e.scrollTop + e.clientHeight, a = this.offsetLeft - e.offsetLeft < e.scrollLeft, l = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c = n && !r;
    (n || r) && s && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o + this.clientHeight / 2), (a || l) && s && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (n || r || a || l) && !s && this.scrollIntoView(c);
  });
  var Ot = (s = 21) => crypto.getRandomValues(new Uint8Array(s)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += "-" : e += "_", e), "");
  var et = /* @__PURE__ */ ((s) => (s.VERBOSE = "VERBOSE", s.INFO = "INFO", s.WARN = "WARN", s.ERROR = "ERROR", s))(et || {});
  var B = {
    BACKSPACE: 8,
    TAB: 9,
    ENTER: 13,
    SHIFT: 16,
    CTRL: 17,
    ALT: 18,
    ESC: 27,
    SPACE: 32,
    LEFT: 37,
    UP: 38,
    DOWN: 40,
    RIGHT: 39,
    DELETE: 46,
    META: 91
  };
  var _t = {
    LEFT: 0,
    WHEEL: 1,
    RIGHT: 2,
    BACKWARD: 3,
    FORWARD: 4
  };
  function ge(s, e, t = "log", o, i = "color: inherit") {
    if (!("console" in window) || !window.console[t])
      return;
    const n = ["info", "log", "warn", "error"].includes(t), r = [];
    switch (ge.logLevel) {
      case "ERROR":
        if (t !== "error")
          return;
        break;
      case "WARN":
        if (!["error", "warn"].includes(t))
          return;
        break;
      case "INFO":
        if (!n || s)
          return;
        break;
    }
    o && r.push(o);
    const a = "Editor.js 2.27.0", l = `line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;
    s && (n ? (r.unshift(l, i), e = `%c${a}%c ${e}`) : e = `( ${a} )${e}`);
    try {
      n ? o ? console[t](`${e} %o`, ...r) : console[t](e, ...r) : console[t](e);
    } catch (e2) {
    }
  }
  ge.logLevel = "VERBOSE";
  function At(s) {
    ge.logLevel = s;
  }
  var T = ge.bind(window, false);
  var K = ge.bind(window, true);
  function te(s) {
    return Object.prototype.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
  }
  function D(s) {
    return te(s) === "function" || te(s) === "asyncfunction";
  }
  function j(s) {
    return te(s) === "object";
  }
  function J(s) {
    return te(s) === "string";
  }
  function Nt(s) {
    return te(s) === "boolean";
  }
  function Ve(s) {
    return te(s) === "number";
  }
  function Ze(s) {
    return te(s) === "undefined";
  }
  function V(s) {
    return s ? Object.keys(s).length === 0 && s.constructor === Object : true;
  }
  function tt(s) {
    return s > 47 && s < 58 || s === 32 || s === 13 || s === 229 || s > 64 && s < 91 || s > 95 && s < 112 || s > 185 && s < 193 || s > 218 && s < 223;
  }
  async function ot(s, e = () => {
  }, t = () => {
  }) {
    async function o(i, n, r) {
      try {
        await i.function(i.data), await n(Ze(i.data) ? {} : i.data);
      } catch (e2) {
        r(Ze(i.data) ? {} : i.data);
      }
    }
    return s.reduce(async (i, n) => (await i, o(n, e, t)), Promise.resolve());
  }
  function it(s) {
    return Array.prototype.slice.call(s);
  }
  function oe(s, e) {
    return function() {
      const t = this, o = arguments;
      window.setTimeout(() => s.apply(t, o), e);
    };
  }
  function Rt(s) {
    return s.name.split(".").pop();
  }
  function Dt(s) {
    return /^[-\w]+\/([-+\w]+|\*)$/.test(s);
  }
  function Pt(s, e, t) {
    let o;
    return (...i) => {
      const n = this, r = () => {
        o = null, t || s.apply(n, i);
      }, a = t && !o;
      window.clearTimeout(o), o = window.setTimeout(r, e), a && s.apply(n, i);
    };
  }
  function Te(s, e, t = void 0) {
    let o, i, n, r = null, a = 0;
    t || (t = {});
    const l = function() {
      a = t.leading === false ? 0 : Date.now(), r = null, n = s.apply(o, i), r || (o = i = null);
    };
    return function() {
      const c = Date.now();
      !a && t.leading === false && (a = c);
      const u = e - (c - a);
      return o = this, i = arguments, u <= 0 || u > e ? (r && (clearTimeout(r), r = null), a = c, n = s.apply(o, i), r || (o = i = null)) : !r && t.trailing !== false && (r = setTimeout(l, u)), n;
    };
  }
  function Ft() {
    const s = {
      win: false,
      mac: false,
      x11: false,
      linux: false
    }, e = Object.keys(s).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);
    return e && (s[e] = true), s;
  }
  function ke(s) {
    return s[0].toUpperCase() + s.slice(1);
  }
  function Se(s, ...e) {
    if (!e.length)
      return s;
    const t = e.shift();
    if (j(s) && j(t))
      for (const o in t)
        j(t[o]) ? (s[o] || Object.assign(s, { [o]: {} }), Se(s[o], t[o])) : Object.assign(s, { [o]: t[o] });
    return Se(s, ...e);
  }
  function nt(s) {
    const e = Ft();
    return s = s.replace(/shift/gi, "\u21E7").replace(/backspace/gi, "\u232B").replace(/enter/gi, "\u23CE").replace(/up/gi, "\u2191").replace(/left/gi, "\u2192").replace(/down/gi, "\u2193").replace(/right/gi, "\u2190").replace(/escape/gi, "\u238B").replace(/insert/gi, "Ins").replace(/delete/gi, "\u2421").replace(/\+/gi, " + "), e.mac ? s = s.replace(/ctrl|cmd/gi, "\u2318").replace(/alt/gi, "\u2325") : s = s.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), s;
  }
  function Ht(s) {
    try {
      return new URL(s).href;
    } catch (e) {
    }
    return s.substring(0, 2) === "//" ? window.location.protocol + s : window.location.origin + s;
  }
  function zt() {
    return Ot(10);
  }
  function jt(s) {
    window.open(s, "_blank");
  }
  function Ut(s = "") {
    return `${s}${Math.floor(Math.random() * 1e8).toString(16)}`;
  }
  function Ie(s, e, t) {
    const o = `\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;
    s && K(o, "warn");
  }
  function ae(s, e, t) {
    const o = t.value ? "value" : "get", i = t[o], n = `#${e}Cache`;
    if (t[o] = function(...r) {
      return this[n] === void 0 && (this[n] = i.apply(this, ...r)), this[n];
    }, o === "get" && t.set) {
      const r = t.set;
      t.set = function(a) {
        delete s[n], r.apply(this, a);
      };
    }
    return t;
  }
  var st = 650;
  function ee() {
    return window.matchMedia(`(max-width: ${st}px)`).matches;
  }
  var Ge = typeof window < "u" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
  function $t(s, e) {
    const t = Array.isArray(s) || j(s), o = Array.isArray(e) || j(e);
    return t || o ? JSON.stringify(s) === JSON.stringify(e) : s === e;
  }
  var d = class {
    static isSingleTag(e) {
      return e.tagName && [
        "AREA",
        "BASE",
        "BR",
        "COL",
        "COMMAND",
        "EMBED",
        "HR",
        "IMG",
        "INPUT",
        "KEYGEN",
        "LINK",
        "META",
        "PARAM",
        "SOURCE",
        "TRACK",
        "WBR"
      ].includes(e.tagName);
    }
    static isLineBreakTag(e) {
      return e && e.tagName && [
        "BR",
        "WBR"
      ].includes(e.tagName);
    }
    static make(e, t = null, o = {}) {
      const i = document.createElement(e);
      Array.isArray(t) ? i.classList.add(...t) : t && i.classList.add(t);
      for (const n in o)
        Object.prototype.hasOwnProperty.call(o, n) && (i[n] = o[n]);
      return i;
    }
    static text(e) {
      return document.createTextNode(e);
    }
    static append(e, t) {
      Array.isArray(t) ? t.forEach((o) => e.appendChild(o)) : e.appendChild(t);
    }
    static prepend(e, t) {
      Array.isArray(t) ? (t = t.reverse(), t.forEach((o) => e.prepend(o))) : e.prepend(t);
    }
    static swap(e, t) {
      const o = document.createElement("div"), i = e.parentNode;
      i.insertBefore(o, e), i.insertBefore(e, t), i.insertBefore(t, o), i.removeChild(o);
    }
    static find(e = document, t) {
      return e.querySelector(t);
    }
    static get(e) {
      return document.getElementById(e);
    }
    static findAll(e = document, t) {
      return e.querySelectorAll(t);
    }
    static get allInputsSelector() {
      return "[contenteditable=true], textarea, input:not([type]), " + ["text", "password", "email", "number", "search", "tel", "url"].map((t) => `input[type="${t}"]`).join(", ");
    }
    static findAllInputs(e) {
      return it(e.querySelectorAll(d.allInputsSelector)).reduce((t, o) => d.isNativeInput(o) || d.containsOnlyInlineElements(o) ? [...t, o] : [...t, ...d.getDeepestBlockElements(o)], []);
    }
    static getDeepestNode(e, t = false) {
      const o = t ? "lastChild" : "firstChild", i = t ? "previousSibling" : "nextSibling";
      if (e && e.nodeType === Node.ELEMENT_NODE && e[o]) {
        let n = e[o];
        if (d.isSingleTag(n) && !d.isNativeInput(n) && !d.isLineBreakTag(n))
          if (n[i])
            n = n[i];
          else if (n.parentNode[i])
            n = n.parentNode[i];
          else
            return n.parentNode;
        return this.getDeepestNode(n, t);
      }
      return e;
    }
    static isElement(e) {
      return Ve(e) ? false : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;
    }
    static isFragment(e) {
      return Ve(e) ? false : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
    }
    static isContentEditable(e) {
      return e.contentEditable === "true";
    }
    static isNativeInput(e) {
      const t = [
        "INPUT",
        "TEXTAREA"
      ];
      return e && e.tagName ? t.includes(e.tagName) : false;
    }
    static canSetCaret(e) {
      let t = true;
      if (d.isNativeInput(e))
        switch (e.type) {
          case "file":
          case "checkbox":
          case "radio":
          case "hidden":
          case "submit":
          case "button":
          case "image":
          case "reset":
            t = false;
            break;
        }
      else
        t = d.isContentEditable(e);
      return t;
    }
    static isNodeEmpty(e) {
      let t;
      return this.isSingleTag(e) && !this.isLineBreakTag(e) ? false : (this.isElement(e) && this.isNativeInput(e) ? t = e.value : t = e.textContent.replace("\u200B", ""), t.trim().length === 0);
    }
    static isLeaf(e) {
      return e ? e.childNodes.length === 0 : false;
    }
    static isEmpty(e) {
      e.normalize();
      const t = [e];
      for (; t.length > 0; )
        if (e = t.shift(), !!e) {
          if (this.isLeaf(e) && !this.isNodeEmpty(e))
            return false;
          e.childNodes && t.push(...Array.from(e.childNodes));
        }
      return true;
    }
    static isHTMLString(e) {
      const t = d.make("div");
      return t.innerHTML = e, t.childElementCount > 0;
    }
    static getContentLength(e) {
      return d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;
    }
    static get blockElements() {
      return [
        "address",
        "article",
        "aside",
        "blockquote",
        "canvas",
        "div",
        "dl",
        "dt",
        "fieldset",
        "figcaption",
        "figure",
        "footer",
        "form",
        "h1",
        "h2",
        "h3",
        "h4",
        "h5",
        "h6",
        "header",
        "hgroup",
        "hr",
        "li",
        "main",
        "nav",
        "noscript",
        "ol",
        "output",
        "p",
        "pre",
        "ruby",
        "section",
        "table",
        "tbody",
        "thead",
        "tr",
        "tfoot",
        "ul",
        "video"
      ];
    }
    static containsOnlyInlineElements(e) {
      let t;
      J(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
      const o = (i) => !d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o);
      return Array.from(t.children).every(o);
    }
    static getDeepestBlockElements(e) {
      return d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o) => [...t, ...d.getDeepestBlockElements(o)], []);
    }
    static getHolder(e) {
      return J(e) ? document.getElementById(e) : e;
    }
    static isAnchor(e) {
      return e.tagName.toLowerCase() === "a";
    }
    static offset(e) {
      const t = e.getBoundingClientRect(), o = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, n = t.top + i, r = t.left + o;
      return {
        top: n,
        left: r,
        bottom: n + t.height,
        right: r + t.width
      };
    }
  };
  var Wt = {
    blockTunes: {
      toggler: {
        "Click to tune": "",
        "or drag to move": ""
      }
    },
    inlineToolbar: {
      converter: {
        "Convert to": ""
      }
    },
    toolbar: {
      toolbox: {
        Add: ""
      }
    },
    popover: {
      Filter: "",
      "Nothing found": ""
    }
  };
  var Yt = {
    Text: "",
    Link: "",
    Bold: "",
    Italic: ""
  };
  var Kt = {
    link: {
      "Add a link": ""
    },
    stub: {
      "The block can not be displayed correctly.": ""
    }
  };
  var Xt = {
    delete: {
      Delete: "",
      "Click to delete": ""
    },
    moveUp: {
      "Move up": ""
    },
    moveDown: {
      "Move down": ""
    }
  };
  var rt = {
    ui: Wt,
    toolNames: Yt,
    tools: Kt,
    blockTunes: Xt
  };
  var ie = class {
    static ui(s, e) {
      return ie._t(s, e);
    }
    static t(s, e) {
      return ie._t(s, e);
    }
    static setDictionary(s) {
      ie.currentDictionary = s;
    }
    static _t(s, e) {
      const t = ie.getNamespace(s);
      return !t || !t[e] ? e : t[e];
    }
    static getNamespace(s) {
      return s.split(".").reduce((t, o) => !t || !Object.keys(t).length ? {} : t[o], ie.currentDictionary);
    }
  };
  var $2 = ie;
  $2.currentDictionary = rt;
  var at = class extends Error {
  };
  var we = class {
    constructor() {
      this.subscribers = {};
    }
    on(e, t) {
      e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);
    }
    once(e, t) {
      e in this.subscribers || (this.subscribers[e] = []);
      const o = (i) => {
        const n = t(i), r = this.subscribers[e].indexOf(o);
        return r !== -1 && this.subscribers[e].splice(r, 1), n;
      };
      this.subscribers[e].push(o);
    }
    emit(e, t) {
      V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o, i) => {
        const n = i(o);
        return n !== void 0 ? n : o;
      }, t);
    }
    off(e, t) {
      for (let o = 0; o < this.subscribers[e].length; o++)
        if (this.subscribers[e][o] === t) {
          delete this.subscribers[e][o];
          break;
        }
    }
    destroy() {
      this.subscribers = null;
    }
  };
  function he(s) {
    Object.setPrototypeOf(this, {
      get id() {
        return s.id;
      },
      get name() {
        return s.name;
      },
      get config() {
        return s.config;
      },
      get holder() {
        return s.holder;
      },
      get isEmpty() {
        return s.isEmpty;
      },
      get selected() {
        return s.selected;
      },
      set stretched(t) {
        s.stretched = t;
      },
      get stretched() {
        return s.stretched;
      },
      call(t, o) {
        return s.call(t, o);
      },
      save() {
        return s.save();
      },
      validate(t) {
        return s.validate(t);
      },
      dispatchChange() {
        s.dispatchChange();
      }
    });
  }
  var Re = class {
    constructor() {
      this.allListeners = [];
    }
    on(e, t, o, i = false) {
      const n = Ut("l"), r = {
        id: n,
        element: e,
        eventType: t,
        handler: o,
        options: i
      };
      if (!this.findOne(e, t, o))
        return this.allListeners.push(r), e.addEventListener(t, o, i), n;
    }
    off(e, t, o, i) {
      const n = this.findAll(e, t, o);
      n.forEach((r, a) => {
        const l = this.allListeners.indexOf(n[a]);
        l > -1 && (this.allListeners.splice(l, 1), r.element.removeEventListener(r.eventType, r.handler, r.options));
      });
    }
    offById(e) {
      const t = this.findById(e);
      t && t.element.removeEventListener(t.eventType, t.handler, t.options);
    }
    findOne(e, t, o) {
      const i = this.findAll(e, t, o);
      return i.length > 0 ? i[0] : null;
    }
    findAll(e, t, o) {
      let i;
      const n = e ? this.findByEventTarget(e) : [];
      return e && t && o ? i = n.filter((r) => r.eventType === t && r.handler === o) : e && t ? i = n.filter((r) => r.eventType === t) : i = n, i;
    }
    removeAll() {
      this.allListeners.map((e) => {
        e.element.removeEventListener(e.eventType, e.handler, e.options);
      }), this.allListeners = [];
    }
    destroy() {
      this.removeAll();
    }
    findByEventTarget(e) {
      return this.allListeners.filter((t) => {
        if (t.element === e)
          return t;
      });
    }
    findByType(e) {
      return this.allListeners.filter((t) => {
        if (t.eventType === e)
          return t;
      });
    }
    findByHandler(e) {
      return this.allListeners.filter((t) => {
        if (t.handler === e)
          return t;
      });
    }
    findById(e) {
      return this.allListeners.find((t) => t.id === e);
    }
  };
  var S = class {
    constructor({ config: e, eventsDispatcher: t }) {
      if (this.nodes = {}, this.listeners = new Re(), this.readOnlyMutableListeners = {
        on: (o, i, n, r = false) => {
          this.mutableListenerIds.push(
            this.listeners.on(o, i, n, r)
          );
        },
        clearAll: () => {
          for (const o of this.mutableListenerIds)
            this.listeners.offById(o);
          this.mutableListenerIds = [];
        }
      }, this.mutableListenerIds = [], new.target === S)
        throw new TypeError("Constructors for abstract class Module are not allowed.");
      this.config = e, this.eventsDispatcher = t;
    }
    set state(e) {
      this.Editor = e;
    }
    removeAllNodes() {
      for (const e in this.nodes) {
        const t = this.nodes[e];
        t instanceof HTMLElement && t.remove();
      }
    }
    get isRtl() {
      return this.config.i18n.direction === "rtl";
    }
  };
  var m = class {
    constructor() {
      this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = false, this.commandBackground = "backColor", this.commandRemoveFormat = "removeFormat";
    }
    static get CSS() {
      return {
        editorWrapper: "codex-editor",
        editorZone: "codex-editor__redactor"
      };
    }
    static get anchorNode() {
      const e = window.getSelection();
      return e ? e.anchorNode : null;
    }
    static get anchorElement() {
      const e = window.getSelection();
      if (!e)
        return null;
      const t = e.anchorNode;
      return t ? d.isElement(t) ? t : t.parentElement : null;
    }
    static get anchorOffset() {
      const e = window.getSelection();
      return e ? e.anchorOffset : null;
    }
    static get isCollapsed() {
      const e = window.getSelection();
      return e ? e.isCollapsed : null;
    }
    static get isAtEditor() {
      return this.isSelectionAtEditor(m.get());
    }
    static isSelectionAtEditor(e) {
      if (!e)
        return false;
      let t = e.anchorNode || e.focusNode;
      t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
      let o = null;
      return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
    }
    static isRangeAtEditor(e) {
      if (!e)
        return;
      let t = e.startContainer;
      t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
      let o = null;
      return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
    }
    static get isSelectionExists() {
      return !!m.get().anchorNode;
    }
    static get range() {
      return this.getRangeFromSelection(this.get());
    }
    static getRangeFromSelection(e) {
      return e && e.rangeCount ? e.getRangeAt(0) : null;
    }
    static get rect() {
      let e = document.selection, t, o = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };
      if (e && e.type !== "Control")
        return e = e, t = e.createRange(), o.x = t.boundingLeft, o.y = t.boundingTop, o.width = t.boundingWidth, o.height = t.boundingHeight, o;
      if (!window.getSelection)
        return T("Method window.getSelection is not supported", "warn"), o;
      if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))
        return T("Method SelectionUtils.rangeCount is not supported", "warn"), o;
      if (e.rangeCount === 0)
        return o;
      if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o = t.getBoundingClientRect()), o.x === 0 && o.y === 0) {
        const i = document.createElement("span");
        if (i.getBoundingClientRect) {
          i.appendChild(document.createTextNode("\u200B")), t.insertNode(i), o = i.getBoundingClientRect();
          const n = i.parentNode;
          n.removeChild(i), n.normalize();
        }
      }
      return o;
    }
    static get text() {
      return window.getSelection ? window.getSelection().toString() : "";
    }
    static get() {
      return window.getSelection();
    }
    static setCursor(e, t = 0) {
      const o = document.createRange(), i = window.getSelection();
      return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o.setStart(e, t), o.setEnd(e, t), i.removeAllRanges(), i.addRange(o), o.getBoundingClientRect());
    }
    static isRangeInsideContainer(e) {
      const t = m.range;
      return t === null ? false : e.contains(t.startContainer);
    }
    static addFakeCursor() {
      const e = m.range;
      if (e === null)
        return;
      const t = d.make("span", "codex-editor__fake-cursor");
      t.dataset.mutationFree = "true", e.collapse(), e.insertNode(t);
    }
    static isFakeCursorInsideContainer(e) {
      return d.find(e, ".codex-editor__fake-cursor") !== null;
    }
    static removeFakeCursor(e = document.body) {
      const t = d.find(e, ".codex-editor__fake-cursor");
      t && t.remove();
    }
    removeFakeBackground() {
      this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = false, document.execCommand(this.commandRemoveFormat));
    }
    setFakeBackground() {
      document.execCommand(this.commandBackground, false, "#a8d6ff"), this.isFakeBackgroundEnabled = true;
    }
    save() {
      this.savedSelectionRange = m.range;
    }
    restore() {
      if (!this.savedSelectionRange)
        return;
      const e = window.getSelection();
      e.removeAllRanges(), e.addRange(this.savedSelectionRange);
    }
    clearSaved() {
      this.savedSelectionRange = null;
    }
    collapseToEnd() {
      const e = window.getSelection(), t = document.createRange();
      t.selectNodeContents(e.focusNode), t.collapse(false), e.removeAllRanges(), e.addRange(t);
    }
    findParentTag(e, t, o = 10) {
      const i = window.getSelection();
      let n = null;
      return !i || !i.anchorNode || !i.focusNode ? null : ([
        i.anchorNode,
        i.focusNode
      ].forEach((a) => {
        let l = o;
        for (; l > 0 && a.parentNode && !(a.tagName === e && (n = a, t && a.classList && !a.classList.contains(t) && (n = null), n)); )
          a = a.parentNode, l--;
      }), n);
    }
    expandToTag(e) {
      const t = window.getSelection();
      t.removeAllRanges();
      const o = document.createRange();
      o.selectNodeContents(e), t.addRange(o);
    }
  };
  function Vt(s, e) {
    const { type: t, target: o, addedNodes: i, removedNodes: n } = s;
    if (["characterData", "attributes"].includes(t)) {
      const l = o.nodeType === Node.TEXT_NODE ? o.parentNode : o;
      return e.contains(l);
    }
    const r = Array.from(i).some((l) => e.contains(l)), a = Array.from(n).some((l) => e.contains(l));
    return r || a;
  }
  var Me = "redactor dom changed";
  var lt = "block changed";
  var ct = "fake cursor is about to be toggled";
  var dt = "fake cursor have been set";
  var q = /* @__PURE__ */ ((s) => (s.APPEND_CALLBACK = "appendCallback", s.RENDERED = "rendered", s.MOVED = "moved", s.UPDATED = "updated", s.REMOVED = "removed", s.ON_PASTE = "onPaste", s))(q || {});
  var F = class extends we {
    constructor({
      id: e = zt(),
      data: t,
      tool: o,
      api: i,
      readOnly: n,
      tunesData: r
    }, a) {
      super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {
        this.dropInputsCache(), this.updateCurrentInput();
      }, this.didMutated = (l = void 0) => {
        const c = l === void 0, u = l instanceof InputEvent;
        !c && !u && this.detectToolRootChange(l);
        let h;
        c || u ? h = true : h = !(l.length > 0 && l.every((v) => {
          const { addedNodes: p, removedNodes: k } = v;
          return [
            ...Array.from(p),
            ...Array.from(k)
          ].some((A) => d.isElement(A) ? A.dataset.mutationFree === "true" : false);
        })), h && (this.dropInputsCache(), this.updateCurrentInput(), this.call(
          "updated"
        ), this.emit("didMutated", this));
      }, this.name = o.name, this.id = e, this.settings = o.settings, this.config = o.settings.config || {}, this.api = i, this.editorEventBus = a || null, this.blockAPI = new he(this), this.tool = o, this.toolInstance = o.create(t, this.blockAPI, n), this.tunes = o.tunes, this.composeTunes(r), this.holder = this.compose(), this.watchBlockMutations(), this.addInputEvents();
    }
    static get CSS() {
      return {
        wrapper: "ce-block",
        wrapperStretched: "ce-block--stretched",
        content: "ce-block__content",
        focused: "ce-block--focused",
        selected: "ce-block--selected",
        dropTarget: "ce-block--drop-target"
      };
    }
    get inputs() {
      if (this.cachedInputs.length !== 0)
        return this.cachedInputs;
      const e = d.findAllInputs(this.holder);
      return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;
    }
    get currentInput() {
      return this.inputs[this.inputIndex];
    }
    set currentInput(e) {
      const t = this.inputs.findIndex((o) => o === e || o.contains(e));
      t !== -1 && (this.inputIndex = t);
    }
    get firstInput() {
      return this.inputs[0];
    }
    get lastInput() {
      const e = this.inputs;
      return e[e.length - 1];
    }
    get nextInput() {
      return this.inputs[this.inputIndex + 1];
    }
    get previousInput() {
      return this.inputs[this.inputIndex - 1];
    }
    get data() {
      return this.save().then((e) => e && !V(e.data) ? e.data : {});
    }
    get sanitize() {
      return this.tool.sanitizeConfig;
    }
    get mergeable() {
      return D(this.toolInstance.merge);
    }
    get isEmpty() {
      const e = d.isEmpty(this.pluginsContent), t = !this.hasMedia;
      return e && t;
    }
    get hasMedia() {
      const e = [
        "img",
        "iframe",
        "video",
        "audio",
        "source",
        "input",
        "textarea",
        "twitterwidget"
      ];
      return !!this.holder.querySelector(e.join(","));
    }
    set focused(e) {
      this.holder.classList.toggle(F.CSS.focused, e);
    }
    get focused() {
      return this.holder.classList.contains(F.CSS.focused);
    }
    set selected(e) {
      var i, n;
      this.holder.classList.toggle(F.CSS.selected, e);
      const t = e === true && m.isRangeInsideContainer(this.holder), o = e === false && m.isFakeCursorInsideContainer(this.holder);
      (t || o) && ((i = this.editorEventBus) == null || i.emit(ct, { state: e }), t ? m.addFakeCursor() : m.removeFakeCursor(this.holder), (n = this.editorEventBus) == null || n.emit(dt, { state: e }));
    }
    get selected() {
      return this.holder.classList.contains(F.CSS.selected);
    }
    set stretched(e) {
      this.holder.classList.toggle(F.CSS.wrapperStretched, e);
    }
    get stretched() {
      return this.holder.classList.contains(F.CSS.wrapperStretched);
    }
    set dropTarget(e) {
      this.holder.classList.toggle(F.CSS.dropTarget, e);
    }
    get pluginsContent() {
      return this.toolRenderedElement;
    }
    call(e, t) {
      if (D(this.toolInstance[e])) {
        e === "appendCallback" && T(
          "`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead",
          "warn"
        );
        try {
          this.toolInstance[e].call(this.toolInstance, t);
        } catch (o) {
          T(`Error during '${e}' call: ${o.message}`, "error");
        }
      }
    }
    async mergeWith(e) {
      await this.toolInstance.merge(e);
    }
    async save() {
      const e = await this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;
      [
        ...this.tunesInstances.entries(),
        ...this.defaultTunesInstances.entries()
      ].forEach(([n, r]) => {
        if (D(r.save))
          try {
            t[n] = r.save();
          } catch (a) {
            T(`Tune ${r.constructor.name} save method throws an Error %o`, "warn", a);
          }
      });
      const o = window.performance.now();
      let i;
      return Promise.resolve(e).then((n) => (i = window.performance.now(), {
        id: this.id,
        tool: this.name,
        data: n,
        tunes: t,
        time: i - o
      })).catch((n) => {
        T(`Saving process for ${this.name} tool failed due to the ${n}`, "log", "red");
      });
    }
    async validate(e) {
      let t = true;
      return this.toolInstance.validate instanceof Function && (t = await this.toolInstance.validate(e)), t;
    }
    getTunes() {
      const e = document.createElement("div"), t = [], o = typeof this.toolInstance.renderSettings == "function" ? this.toolInstance.renderSettings() : [], i = [
        ...this.tunesInstances.values(),
        ...this.defaultTunesInstances.values()
      ].map((n) => n.render());
      return [o, i].flat().forEach((n) => {
        d.isElement(n) ? e.appendChild(n) : Array.isArray(n) ? t.push(...n) : t.push(n);
      }), [t, e];
    }
    updateCurrentInput() {
      this.currentInput = d.isNativeInput(document.activeElement) || !m.anchorNode ? document.activeElement : m.anchorNode;
    }
    dispatchChange() {
      this.didMutated();
    }
    destroy() {
      this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), D(this.toolInstance.destroy) && this.toolInstance.destroy();
    }
    async getActiveToolboxEntry() {
      const e = this.tool.toolbox;
      if (e.length === 1)
        return Promise.resolve(this.tool.toolbox[0]);
      const t = await this.data;
      return e.find((i) => Object.entries(i.data).some(([n, r]) => t[n] && $t(t[n], r)));
    }
    compose() {
      const e = d.make("div", F.CSS.wrapper), t = d.make("div", F.CSS.content), o = this.toolInstance.render();
      this.toolRenderedElement = o, t.appendChild(this.toolRenderedElement);
      let i = t;
      return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((n) => {
        if (D(n.wrap))
          try {
            i = n.wrap(i);
          } catch (r) {
            T(`Tune ${n.constructor.name} wrap method throws an Error %o`, "warn", r);
          }
      }), e.appendChild(i), e;
    }
    composeTunes(e) {
      Array.from(this.tunes.values()).forEach((t) => {
        (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));
      }), Object.entries(e).forEach(([t, o]) => {
        this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o);
      });
    }
    addInputEvents() {
      this.inputs.forEach((e) => {
        e.addEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.addEventListener("input", this.didMutated);
      });
    }
    removeInputEvents() {
      this.inputs.forEach((e) => {
        e.removeEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.removeEventListener("input", this.didMutated);
      });
    }
    watchBlockMutations() {
      var e;
      this.redactorDomChangedCallback = (t) => {
        const { mutations: o } = t;
        o.some((n) => Vt(n, this.toolRenderedElement)) && this.didMutated(o);
      }, (e = this.editorEventBus) == null || e.on(Me, this.redactorDomChangedCallback);
    }
    unwatchBlockMutations() {
      var e;
      (e = this.editorEventBus) == null || e.off(Me, this.redactorDomChangedCallback);
    }
    detectToolRootChange(e) {
      e.forEach((t) => {
        if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {
          const i = t.addedNodes[t.addedNodes.length - 1];
          this.toolRenderedElement = i;
        }
      });
    }
    dropInputsCache() {
      this.cachedInputs = [];
    }
  };
  var Zt = class extends S {
    constructor() {
      super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o = {}, i, n, r, a) => {
        const l = this.Editor.BlockManager.insert({
          id: a,
          tool: e,
          data: t,
          index: i,
          needToFocus: n,
          replace: r
        });
        return new he(l);
      }, this.composeBlockData = async (e) => {
        const t = this.Editor.Tools.blockTools.get(e);
        return new F({
          tool: t,
          api: this.Editor.API,
          readOnly: true,
          data: {},
          tunesData: {}
        }).data;
      }, this.update = (e, t) => {
        const { BlockManager: o } = this.Editor, i = o.getBlockById(e);
        if (!i) {
          T("blocks.update(): Block with passed id was not found", "warn");
          return;
        }
        const n = o.getBlockIndex(i);
        o.insert({
          id: i.id,
          tool: i.name,
          data: t,
          index: n,
          replace: true,
          tunes: i.tunes
        });
      };
    }
    get methods() {
      return {
        clear: () => this.clear(),
        render: (e) => this.render(e),
        renderFromHTML: (e) => this.renderFromHTML(e),
        delete: (e) => this.delete(e),
        swap: (e, t) => this.swap(e, t),
        move: (e, t) => this.move(e, t),
        getBlockByIndex: (e) => this.getBlockByIndex(e),
        getById: (e) => this.getById(e),
        getCurrentBlockIndex: () => this.getCurrentBlockIndex(),
        getBlockIndex: (e) => this.getBlockIndex(e),
        getBlocksCount: () => this.getBlocksCount(),
        stretchBlock: (e, t = true) => this.stretchBlock(e, t),
        insertNewBlock: () => this.insertNewBlock(),
        insert: this.insert,
        update: this.update,
        composeBlockData: this.composeBlockData
      };
    }
    getBlocksCount() {
      return this.Editor.BlockManager.blocks.length;
    }
    getCurrentBlockIndex() {
      return this.Editor.BlockManager.currentBlockIndex;
    }
    getBlockIndex(e) {
      const t = this.Editor.BlockManager.getBlockById(e);
      if (!t) {
        K("There is no block with id `" + e + "`", "warn");
        return;
      }
      return this.Editor.BlockManager.getBlockIndex(t);
    }
    getBlockByIndex(e) {
      const t = this.Editor.BlockManager.getBlockByIndex(e);
      if (t === void 0) {
        K("There is no block at index `" + e + "`", "warn");
        return;
      }
      return new he(t);
    }
    getById(e) {
      const t = this.Editor.BlockManager.getBlockById(e);
      return t === void 0 ? (K("There is no block with id `" + e + "`", "warn"), null) : new he(t);
    }
    swap(e, t) {
      T(
        "`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead",
        "info"
      ), this.Editor.BlockManager.swap(e, t);
    }
    move(e, t) {
      this.Editor.BlockManager.move(e, t);
    }
    delete(e) {
      try {
        this.Editor.BlockManager.removeBlock(e);
      } catch (t) {
        K(t, "warn");
        return;
      }
      this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();
    }
    clear() {
      this.Editor.BlockManager.clear(true), this.Editor.InlineToolbar.close();
    }
    render(e) {
      return this.Editor.BlockManager.clear(), this.Editor.Renderer.render(e.blocks);
    }
    renderFromHTML(e) {
      return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, true);
    }
    stretchBlock(e, t = true) {
      Ie(
        true,
        "blocks.stretchBlock()",
        "BlockAPI"
      );
      const o = this.Editor.BlockManager.getBlockByIndex(e);
      o && (o.stretched = t);
    }
    insertNewBlock() {
      T("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.", "warn"), this.insert();
    }
  };
  var Gt = class extends S {
    constructor() {
      super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), true) : false, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), true) : false, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), true) : false, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), true) : false, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o = 0) => this.Editor.BlockManager.blocks[e] ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e], t, o), true) : false, this.focus = (e = false) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);
    }
    get methods() {
      return {
        setToFirstBlock: this.setToFirstBlock,
        setToLastBlock: this.setToLastBlock,
        setToPreviousBlock: this.setToPreviousBlock,
        setToNextBlock: this.setToNextBlock,
        setToBlock: this.setToBlock,
        focus: this.focus
      };
    }
  };
  var qt = class extends S {
    get methods() {
      return {
        emit: (e, t) => this.emit(e, t),
        off: (e, t) => this.off(e, t),
        on: (e, t) => this.on(e, t)
      };
    }
    on(e, t) {
      this.eventsDispatcher.on(e, t);
    }
    emit(e, t) {
      this.eventsDispatcher.emit(e, t);
    }
    off(e, t) {
      this.eventsDispatcher.off(e, t);
    }
  };
  var De = class extends S {
    static getNamespace(e) {
      return e.isTune() ? `blockTunes.${e.name}` : `tools.${e.name}`;
    }
    get methods() {
      return {
        t: () => {
          K("I18n.t() method can be accessed only from Tools", "warn");
        }
      };
    }
    getMethodsForTool(e) {
      return Object.assign(
        this.methods,
        {
          t: (t) => $2.t(De.getNamespace(e), t)
        }
      );
    }
  };
  var Jt = class extends S {
    get methods() {
      return {
        blocks: this.Editor.BlocksAPI.methods,
        caret: this.Editor.CaretAPI.methods,
        events: this.Editor.EventsAPI.methods,
        listeners: this.Editor.ListenersAPI.methods,
        notifier: this.Editor.NotifierAPI.methods,
        sanitizer: this.Editor.SanitizerAPI.methods,
        saver: this.Editor.SaverAPI.methods,
        selection: this.Editor.SelectionAPI.methods,
        styles: this.Editor.StylesAPI.classes,
        toolbar: this.Editor.ToolbarAPI.methods,
        inlineToolbar: this.Editor.InlineToolbarAPI.methods,
        tooltip: this.Editor.TooltipAPI.methods,
        i18n: this.Editor.I18nAPI.methods,
        readOnly: this.Editor.ReadOnlyAPI.methods,
        ui: this.Editor.UiAPI.methods
      };
    }
    getMethodsForTool(e) {
      return Object.assign(
        this.methods,
        {
          i18n: this.Editor.I18nAPI.getMethodsForTool(e)
        }
      );
    }
  };
  var Qt = class extends S {
    get methods() {
      return {
        close: () => this.close(),
        open: () => this.open()
      };
    }
    open() {
      this.Editor.InlineToolbar.tryToShow();
    }
    close() {
      this.Editor.InlineToolbar.close();
    }
  };
  var eo = class extends S {
    get methods() {
      return {
        on: (e, t, o, i) => this.on(e, t, o, i),
        off: (e, t, o, i) => this.off(e, t, o, i),
        offById: (e) => this.offById(e)
      };
    }
    on(e, t, o, i) {
      return this.listeners.on(e, t, o, i);
    }
    off(e, t, o, i) {
      this.listeners.off(e, t, o, i);
    }
    offById(e) {
      this.listeners.offById(e);
    }
  };
  var Le = {};
  var to = {
    get exports() {
      return Le;
    },
    set exports(s) {
      Le = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "/", i(i.s = 0);
      }([function(t, o, i) {
        i(1), t.exports = function() {
          var n = i(6), r = "cdx-notify--bounce-in", a = null;
          return { show: function(l) {
            if (l.message) {
              (function() {
                if (a)
                  return true;
                a = n.getWrapper(), document.body.appendChild(a);
              })();
              var c = null, u = l.time || 8e3;
              switch (l.type) {
                case "confirm":
                  c = n.confirm(l);
                  break;
                case "prompt":
                  c = n.prompt(l);
                  break;
                default:
                  c = n.alert(l), window.setTimeout(function() {
                    c.remove();
                  }, u);
              }
              a.appendChild(c), c.classList.add(r);
            }
          } };
        }();
      }, function(t, o, i) {
        var n = i(2);
        typeof n == "string" && (n = [[t.i, n, ""]]);
        var r = { hmr: true, transform: void 0, insertInto: void 0 };
        i(4)(n, r), n.locals && (t.exports = n.locals);
      }, function(t, o, i) {
        (t.exports = i(3)(false)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, ""]);
      }, function(t, o) {
        t.exports = function(i) {
          var n = [];
          return n.toString = function() {
            return this.map(function(r) {
              var a = function(l, c) {
                var u = l[1] || "", h = l[3];
                if (!h)
                  return u;
                if (c && typeof btoa == "function") {
                  var f = (p = h, "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(p)))) + " */"), v = h.sources.map(function(k) {
                    return "/*# sourceURL=" + h.sourceRoot + k + " */";
                  });
                  return [u].concat(v).concat([f]).join(`
`);
                }
                var p;
                return [u].join(`
`);
              }(r, i);
              return r[2] ? "@media " + r[2] + "{" + a + "}" : a;
            }).join("");
          }, n.i = function(r, a) {
            typeof r == "string" && (r = [[null, r, ""]]);
            for (var l = {}, c = 0; c < this.length; c++) {
              var u = this[c][0];
              typeof u == "number" && (l[u] = true);
            }
            for (c = 0; c < r.length; c++) {
              var h = r[c];
              typeof h[0] == "number" && l[h[0]] || (a && !h[2] ? h[2] = a : a && (h[2] = "(" + h[2] + ") and (" + a + ")"), n.push(h));
            }
          }, n;
        };
      }, function(t, o, i) {
        var n, r, a = {}, l = (n = function() {
          return window && document && document.all && !window.atob;
        }, function() {
          return r === void 0 && (r = n.apply(this, arguments)), r;
        }), c = function(b) {
          var g = {};
          return function(E) {
            if (typeof E == "function")
              return E();
            if (g[E] === void 0) {
              var C = function(O) {
                return document.querySelector(O);
              }.call(this, E);
              if (window.HTMLIFrameElement && C instanceof window.HTMLIFrameElement)
                try {
                  C = C.contentDocument.head;
                } catch (e2) {
                  C = null;
                }
              g[E] = C;
            }
            return g[E];
          };
        }(), u = null, h = 0, f = [], v = i(5);
        function p(b, g) {
          for (var E = 0; E < b.length; E++) {
            var C = b[E], O = a[C.id];
            if (O) {
              O.refs++;
              for (var I = 0; I < O.parts.length; I++)
                O.parts[I](C.parts[I]);
              for (; I < C.parts.length; I++)
                O.parts.push(x(C.parts[I], g));
            } else {
              var H = [];
              for (I = 0; I < C.parts.length; I++)
                H.push(x(C.parts[I], g));
              a[C.id] = { id: C.id, refs: 1, parts: H };
            }
          }
        }
        function k(b, g) {
          for (var E = [], C = {}, O = 0; O < b.length; O++) {
            var I = b[O], H = g.base ? I[0] + g.base : I[0], L = { css: I[1], media: I[2], sourceMap: I[3] };
            C[H] ? C[H].parts.push(L) : E.push(C[H] = { id: H, parts: [L] });
          }
          return E;
        }
        function _(b, g) {
          var E = c(b.insertInto);
          if (!E)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
          var C = f[f.length - 1];
          if (b.insertAt === "top")
            C ? C.nextSibling ? E.insertBefore(g, C.nextSibling) : E.appendChild(g) : E.insertBefore(g, E.firstChild), f.push(g);
          else if (b.insertAt === "bottom")
            E.appendChild(g);
          else {
            if (typeof b.insertAt != "object" || !b.insertAt.before)
              throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);
            var O = c(b.insertInto + " " + b.insertAt.before);
            E.insertBefore(g, O);
          }
        }
        function A(b) {
          if (b.parentNode === null)
            return false;
          b.parentNode.removeChild(b);
          var g = f.indexOf(b);
          g >= 0 && f.splice(g, 1);
        }
        function R(b) {
          var g = document.createElement("style");
          return b.attrs.type === void 0 && (b.attrs.type = "text/css"), y(g, b.attrs), _(b, g), g;
        }
        function y(b, g) {
          Object.keys(g).forEach(function(E) {
            b.setAttribute(E, g[E]);
          });
        }
        function x(b, g) {
          var E, C, O, I;
          if (g.transform && b.css) {
            if (!(I = g.transform(b.css)))
              return function() {
              };
            b.css = I;
          }
          if (g.singleton) {
            var H = h++;
            E = u || (u = R(g)), C = N.bind(null, E, H, false), O = N.bind(null, E, H, true);
          } else
            b.sourceMap && typeof URL == "function" && typeof URL.createObjectURL == "function" && typeof URL.revokeObjectURL == "function" && typeof Blob == "function" && typeof btoa == "function" ? (E = function(L) {
              var W = document.createElement("link");
              return L.attrs.type === void 0 && (L.attrs.type = "text/css"), L.attrs.rel = "stylesheet", y(W, L.attrs), _(L, W), W;
            }(g), C = function(L, W, le) {
              var Q = le.css, Ee = le.sourceMap, It = W.convertToAbsoluteUrls === void 0 && Ee;
              (W.convertToAbsoluteUrls || It) && (Q = v(Q)), Ee && (Q += `
/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(Ee)))) + " */");
              var Mt = new Blob([Q], { type: "text/css" }), Xe = L.href;
              L.href = URL.createObjectURL(Mt), Xe && URL.revokeObjectURL(Xe);
            }.bind(null, E, g), O = function() {
              A(E), E.href && URL.revokeObjectURL(E.href);
            }) : (E = R(g), C = function(L, W) {
              var le = W.css, Q = W.media;
              if (Q && L.setAttribute("media", Q), L.styleSheet)
                L.styleSheet.cssText = le;
              else {
                for (; L.firstChild; )
                  L.removeChild(L.firstChild);
                L.appendChild(document.createTextNode(le));
              }
            }.bind(null, E), O = function() {
              A(E);
            });
          return C(b), function(L) {
            if (L) {
              if (L.css === b.css && L.media === b.media && L.sourceMap === b.sourceMap)
                return;
              C(b = L);
            } else
              O();
          };
        }
        t.exports = function(b, g) {
          if (typeof DEBUG < "u" && DEBUG && typeof document != "object")
            throw new Error("The style-loader cannot be used in a non-browser environment");
          (g = g || {}).attrs = typeof g.attrs == "object" ? g.attrs : {}, g.singleton || typeof g.singleton == "boolean" || (g.singleton = l()), g.insertInto || (g.insertInto = "head"), g.insertAt || (g.insertAt = "bottom");
          var E = k(b, g);
          return p(E, g), function(C) {
            for (var O = [], I = 0; I < E.length; I++) {
              var H = E[I];
              (L = a[H.id]).refs--, O.push(L);
            }
            for (C && p(k(C, g), g), I = 0; I < O.length; I++) {
              var L;
              if ((L = O[I]).refs === 0) {
                for (var W = 0; W < L.parts.length; W++)
                  L.parts[W]();
                delete a[L.id];
              }
            }
          };
        };
        var w, M = (w = [], function(b, g) {
          return w[b] = g, w.filter(Boolean).join(`
`);
        });
        function N(b, g, E, C) {
          var O = E ? "" : C.css;
          if (b.styleSheet)
            b.styleSheet.cssText = M(g, O);
          else {
            var I = document.createTextNode(O), H = b.childNodes;
            H[g] && b.removeChild(H[g]), H.length ? b.insertBefore(I, H[g]) : b.appendChild(I);
          }
        }
      }, function(t, o) {
        t.exports = function(i) {
          var n = typeof window < "u" && window.location;
          if (!n)
            throw new Error("fixUrls requires window.location");
          if (!i || typeof i != "string")
            return i;
          var r = n.protocol + "//" + n.host, a = r + n.pathname.replace(/\/[^\/]*$/, "/");
          return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(l, c) {
            var u, h = c.trim().replace(/^"(.*)"$/, function(f, v) {
              return v;
            }).replace(/^'(.*)'$/, function(f, v) {
              return v;
            });
            return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h) ? l : (u = h.indexOf("//") === 0 ? h : h.indexOf("/") === 0 ? r + h : a + h.replace(/^\.\//, ""), "url(" + JSON.stringify(u) + ")");
          });
        };
      }, function(t, o, i) {
        var n, r, a, l, c, u, h, f, v;
        t.exports = (n = "cdx-notifies", r = "cdx-notify", a = "cdx-notify__cross", l = "cdx-notify__button--confirm", c = "cdx-notify__button--cancel", u = "cdx-notify__input", h = "cdx-notify__button", f = "cdx-notify__btns-wrapper", { alert: v = function(p) {
          var k = document.createElement("DIV"), _ = document.createElement("DIV"), A = p.message, R = p.style;
          return k.classList.add(r), R && k.classList.add(r + "--" + R), k.innerHTML = A, _.classList.add(a), _.addEventListener("click", k.remove.bind(k)), k.appendChild(_), k;
        }, confirm: function(p) {
          var k = v(p), _ = document.createElement("div"), A = document.createElement("button"), R = document.createElement("button"), y = k.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
          return _.classList.add(f), A.innerHTML = p.okText || "Confirm", R.innerHTML = p.cancelText || "Cancel", A.classList.add(h), R.classList.add(h), A.classList.add(l), R.classList.add(c), x && typeof x == "function" && (R.addEventListener("click", x), y.addEventListener("click", x)), w && typeof w == "function" && A.addEventListener("click", w), A.addEventListener("click", k.remove.bind(k)), R.addEventListener("click", k.remove.bind(k)), _.appendChild(A), _.appendChild(R), k.appendChild(_), k;
        }, prompt: function(p) {
          var k = v(p), _ = document.createElement("div"), A = document.createElement("button"), R = document.createElement("input"), y = k.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
          return _.classList.add(f), A.innerHTML = p.okText || "Ok", A.classList.add(h), A.classList.add(l), R.classList.add(u), p.placeholder && R.setAttribute("placeholder", p.placeholder), p.default && (R.value = p.default), p.inputType && (R.type = p.inputType), x && typeof x == "function" && y.addEventListener("click", x), w && typeof w == "function" && A.addEventListener("click", function() {
            w(R.value);
          }), A.addEventListener("click", k.remove.bind(k)), _.appendChild(R), _.appendChild(A), k.appendChild(_), k;
        }, getWrapper: function() {
          var p = document.createElement("DIV");
          return p.classList.add(n), p;
        } });
      }]);
    });
  })(to);
  var oo = /* @__PURE__ */ xe(Le);
  var io = class {
    show(e) {
      oo.show(e);
    }
  };
  var no = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.notifier = new io();
    }
    get methods() {
      return {
        show: (e) => this.show(e)
      };
    }
    show(e) {
      return this.notifier.show(e);
    }
  };
  var so = class extends S {
    get methods() {
      const e = () => this.isEnabled;
      return {
        toggle: (t) => this.toggle(t),
        get isEnabled() {
          return e();
        }
      };
    }
    toggle(e) {
      return this.Editor.ReadOnly.toggle(e);
    }
    get isEnabled() {
      return this.Editor.ReadOnly.isEnabled;
    }
  };
  var Oe = {};
  var ro = {
    get exports() {
      return Oe;
    },
    set exports(s) {
      Oe = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(Lt, function() {
      function t(h) {
        var f = h.tags, v = Object.keys(f), p = v.map(function(k) {
          return typeof f[k];
        }).every(function(k) {
          return k === "object" || k === "boolean" || k === "function";
        });
        if (!p)
          throw new Error("The configuration was invalid");
        this.config = h;
      }
      var o = ["P", "LI", "TD", "TH", "DIV", "H1", "H2", "H3", "H4", "H5", "H6", "PRE"];
      function i(h) {
        return o.indexOf(h.nodeName) !== -1;
      }
      var n = ["A", "B", "STRONG", "I", "EM", "SUB", "SUP", "U", "STRIKE"];
      function r(h) {
        return n.indexOf(h.nodeName) !== -1;
      }
      t.prototype.clean = function(h) {
        const f = document.implementation.createHTMLDocument(), v = f.createElement("div");
        return v.innerHTML = h, this._sanitize(f, v), v.innerHTML;
      }, t.prototype._sanitize = function(h, f) {
        var v = a(h, f), p = v.firstChild();
        if (p)
          do {
            if (p.nodeType === Node.TEXT_NODE)
              if (p.data.trim() === "" && (p.previousElementSibling && i(p.previousElementSibling) || p.nextElementSibling && i(p.nextElementSibling))) {
                f.removeChild(p), this._sanitize(h, f);
                break;
              } else
                continue;
            if (p.nodeType === Node.COMMENT_NODE) {
              f.removeChild(p), this._sanitize(h, f);
              break;
            }
            var k = r(p), _;
            k && (_ = Array.prototype.some.call(p.childNodes, i));
            var A = !!f.parentNode, R = i(f) && i(p) && A, y = p.nodeName.toLowerCase(), x = l(this.config, y, p), w = k && _;
            if (w || c(p, x) || !this.config.keepNestedBlockElements && R) {
              if (!(p.nodeName === "SCRIPT" || p.nodeName === "STYLE"))
                for (; p.childNodes.length > 0; )
                  f.insertBefore(p.childNodes[0], p);
              f.removeChild(p), this._sanitize(h, f);
              break;
            }
            for (var M = 0; M < p.attributes.length; M += 1) {
              var N = p.attributes[M];
              u(N, x, p) && (p.removeAttribute(N.name), M = M - 1);
            }
            this._sanitize(h, p);
          } while (p = v.nextSibling());
      };
      function a(h, f) {
        return h.createTreeWalker(
          f,
          NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,
          null,
          false
        );
      }
      function l(h, f, v) {
        return typeof h.tags[f] == "function" ? h.tags[f](v) : h.tags[f];
      }
      function c(h, f) {
        return typeof f > "u" ? true : typeof f == "boolean" ? !f : false;
      }
      function u(h, f, v) {
        var p = h.name.toLowerCase();
        return f === true ? false : typeof f[p] == "function" ? !f[p](h.value, v) : typeof f[p] > "u" || f[p] === false ? true : typeof f[p] == "string" ? f[p] !== h.value : false;
      }
      return t;
    });
  })(ro);
  var ao = Oe;
  function ht(s, e) {
    return s.map((t) => {
      const o = D(e) ? e(t.tool) : e;
      return V(o) || (t.data = Pe(t.data, o)), t;
    });
  }
  function Z(s, e = {}) {
    const t = {
      tags: e
    };
    return new ao(t).clean(s);
  }
  function Pe(s, e) {
    return Array.isArray(s) ? lo(s, e) : j(s) ? co(s, e) : J(s) ? ho(s, e) : s;
  }
  function lo(s, e) {
    return s.map((t) => Pe(t, e));
  }
  function co(s, e) {
    const t = {};
    for (const o in s) {
      if (!Object.prototype.hasOwnProperty.call(s, o))
        continue;
      const i = s[o], n = uo(e[o]) ? e[o] : e;
      t[o] = Pe(i, n);
    }
    return t;
  }
  function ho(s, e) {
    return j(e) ? Z(s, e) : e === false ? Z(s, {}) : s;
  }
  function uo(s) {
    return j(s) || Nt(s) || D(s);
  }
  var po = class extends S {
    get methods() {
      return {
        clean: (e, t) => this.clean(e, t)
      };
    }
    clean(e, t) {
      return Z(e, t);
    }
  };
  var fo = class extends S {
    get methods() {
      return {
        save: () => this.save()
      };
    }
    save() {
      const e = "Editor's content can not be saved in read-only mode";
      return this.Editor.ReadOnly.isEnabled ? (K(e, "warn"), Promise.reject(new Error(e))) : this.Editor.Saver.save();
    }
  };
  var go = class extends S {
    get methods() {
      return {
        findParentTag: (e, t) => this.findParentTag(e, t),
        expandToTag: (e) => this.expandToTag(e)
      };
    }
    findParentTag(e, t) {
      return new m().findParentTag(e, t);
    }
    expandToTag(e) {
      new m().expandToTag(e);
    }
  };
  var bo = class extends S {
    get classes() {
      return {
        block: "cdx-block",
        inlineToolButton: "ce-inline-tool",
        inlineToolButtonActive: "ce-inline-tool--active",
        input: "cdx-input",
        loader: "cdx-loader",
        button: "cdx-button",
        settingsButton: "cdx-settings-button",
        settingsButtonActive: "cdx-settings-button--active"
      };
    }
  };
  var mo = class extends S {
    get methods() {
      return {
        close: () => this.close(),
        open: () => this.open(),
        toggleBlockSettings: (e) => this.toggleBlockSettings(e),
        toggleToolbox: (e) => this.toggleToolbox(e)
      };
    }
    open() {
      this.Editor.Toolbar.moveAndOpen();
    }
    close() {
      this.Editor.Toolbar.close();
    }
    toggleBlockSettings(e) {
      if (this.Editor.BlockManager.currentBlockIndex === -1) {
        K("Could't toggle the Toolbar because there is no block selected ", "warn");
        return;
      }
      (e != null ? e : !this.Editor.BlockSettings.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();
    }
    toggleToolbox(e) {
      if (this.Editor.BlockManager.currentBlockIndex === -1) {
        K("Could't toggle the Toolbox because there is no block selected ", "warn");
        return;
      }
      (e != null ? e : !this.Editor.Toolbar.toolbox.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();
    }
  };
  var _e = {};
  var ko = {
    get exports() {
      return _e;
    },
    set exports(s) {
      _e = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "", i(i.s = 0);
      }([function(t, o, i) {
        t.exports = i(1);
      }, function(t, o, i) {
        i.r(o), i.d(o, "default", function() {
          return n;
        });
        class n {
          constructor() {
            this.nodes = { wrapper: null, content: null }, this.showed = false, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {
              this.showed && this.hide(true);
            }, this.loadStyles(), this.prepare(), window.addEventListener("scroll", this.handleWindowScroll, { passive: true });
          }
          get CSS() {
            return { tooltip: "ct", tooltipContent: "ct__content", tooltipShown: "ct--shown", placement: { left: "ct--left", bottom: "ct--bottom", right: "ct--right", top: "ct--top" } };
          }
          show(a, l, c) {
            this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);
            const u = Object.assign({ placement: "bottom", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c);
            if (u.hidingDelay && (this.hidingDelay = u.hidingDelay), this.nodes.content.innerHTML = "", typeof l == "string")
              this.nodes.content.appendChild(document.createTextNode(l));
            else {
              if (!(l instanceof Node))
                throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But " + typeof l + " given.");
              this.nodes.content.appendChild(l);
            }
            switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u.placement) {
              case "top":
                this.placeTop(a, u);
                break;
              case "left":
                this.placeLeft(a, u);
                break;
              case "right":
                this.placeRight(a, u);
                break;
              case "bottom":
              default:
                this.placeBottom(a, u);
            }
            u && u.delay ? this.showingTimeout = setTimeout(() => {
              this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true;
            }, u.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true);
          }
          hide(a = false) {
            if (this.hidingDelay && !a)
              return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {
                this.hide(true);
              }, this.hidingDelay));
            this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = false, this.showingTimeout && clearTimeout(this.showingTimeout);
          }
          onHover(a, l, c) {
            a.addEventListener("mouseenter", () => {
              this.show(a, l, c);
            }), a.addEventListener("mouseleave", () => {
              this.hide();
            });
          }
          destroy() {
            this.nodes.wrapper.remove(), window.removeEventListener("scroll", this.handleWindowScroll);
          }
          prepare() {
            this.nodes.wrapper = this.make("div", this.CSS.tooltip), this.nodes.content = this.make("div", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);
          }
          loadStyles() {
            const a = "codex-tooltips-style";
            if (document.getElementById(a))
              return;
            const l = i(2), c = this.make("style", null, { textContent: l.toString(), id: a });
            this.prepend(document.head, c);
          }
          placeBottom(a, l) {
            const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.bottom + window.pageYOffset + this.offsetTop + l.marginTop;
            this.applyPlacement("bottom", u, h);
          }
          placeTop(a, l) {
            const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;
            this.applyPlacement("top", u, h);
          }
          placeLeft(a, l) {
            const c = a.getBoundingClientRect(), u = c.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - l.marginLeft, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
            this.applyPlacement("left", u, h);
          }
          placeRight(a, l) {
            const c = a.getBoundingClientRect(), u = c.right + this.offsetRight + l.marginRight, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
            this.applyPlacement("right", u, h);
          }
          applyPlacement(a, l, c) {
            this.nodes.wrapper.classList.add(this.CSS.placement[a]), this.nodes.wrapper.style.left = l + "px", this.nodes.wrapper.style.top = c + "px";
          }
          make(a, l = null, c = {}) {
            const u = document.createElement(a);
            Array.isArray(l) ? u.classList.add(...l) : l && u.classList.add(l);
            for (const h in c)
              c.hasOwnProperty(h) && (u[h] = c[h]);
            return u;
          }
          append(a, l) {
            Array.isArray(l) ? l.forEach((c) => a.appendChild(c)) : a.appendChild(l);
          }
          prepend(a, l) {
            Array.isArray(l) ? (l = l.reverse()).forEach((c) => a.prepend(c)) : a.prepend(l);
          }
        }
      }, function(t, o) {
        t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;
      }]).default;
    });
  })(ko);
  var vo = /* @__PURE__ */ xe(_e);
  var Fe = class {
    constructor() {
      this.lib = new vo();
    }
    destroy() {
      this.lib.destroy();
    }
    show(e, t, o) {
      this.lib.show(e, t, o);
    }
    hide(e = false) {
      this.lib.hide(e);
    }
    onHover(e, t, o) {
      this.lib.onHover(e, t, o);
    }
  };
  var xo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.tooltip = new Fe();
    }
    destroy() {
      this.tooltip.destroy();
    }
    get methods() {
      return {
        show: (e, t, o) => this.show(e, t, o),
        hide: () => this.hide(),
        onHover: (e, t, o) => this.onHover(e, t, o)
      };
    }
    show(e, t, o) {
      this.tooltip.show(e, t, o);
    }
    hide() {
      this.tooltip.hide();
    }
    onHover(e, t, o) {
      this.tooltip.onHover(e, t, o);
    }
  };
  var wo = class extends S {
    get methods() {
      return {
        nodes: this.editorNodes
      };
    }
    get editorNodes() {
      return {
        wrapper: this.Editor.UI.nodes.wrapper,
        redactor: this.Editor.UI.nodes.redactor
      };
    }
  };
  function ut(s, e) {
    const t = {};
    return Object.entries(s).forEach(([o, i]) => {
      if (j(i)) {
        const n = e ? `${e}.${o}` : o;
        Object.values(i).every((a) => J(a)) ? t[o] = n : t[o] = ut(i, n);
        return;
      }
      t[o] = i;
    }), t;
  }
  var X = ut(rt);
  function yo(s, e) {
    const t = {};
    return Object.keys(s).forEach((o) => {
      const i = e[o];
      i !== void 0 ? t[i] = s[o] : t[o] = s[o];
    }), t;
  }
  var Eo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>';
  var pt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>';
  var Bo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>';
  var Co = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>';
  var To = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>';
  var So = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>';
  var qe = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';
  var Io = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>';
  var Mo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';
  var Lo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
  var Oo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
  var P = class {
    constructor(e) {
      this.nodes = {
        root: null,
        icon: null
      }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {
        this.nodes.root.classList.remove(P.CSS.noFocus);
      }, this.removeSpecialHoverBehavior = () => {
        this.nodes.root.classList.remove(P.CSS.noHover);
      }, this.onErrorAnimationEnd = () => {
        this.nodes.icon.classList.remove(P.CSS.wobbleAnimation), this.nodes.icon.removeEventListener("animationend", this.onErrorAnimationEnd);
      }, this.params = e, this.nodes.root = this.make(e);
    }
    get isDisabled() {
      return this.params.isDisabled;
    }
    get toggle() {
      return this.params.toggle;
    }
    get title() {
      return this.params.title;
    }
    get closeOnActivate() {
      return this.params.closeOnActivate;
    }
    get isConfirmationStateEnabled() {
      return this.confirmationState !== null;
    }
    get isFocused() {
      return this.nodes.root.classList.contains(P.CSS.focused);
    }
    static get CSS() {
      return {
        container: "ce-popover-item",
        title: "ce-popover-item__title",
        secondaryTitle: "ce-popover-item__secondary-title",
        icon: "ce-popover-item__icon",
        active: "ce-popover-item--active",
        disabled: "ce-popover-item--disabled",
        focused: "ce-popover-item--focused",
        hidden: "ce-popover-item--hidden",
        confirmationState: "ce-popover-item--confirmation",
        noHover: "ce-popover-item--no-hover",
        noFocus: "ce-popover-item--no-focus",
        wobbleAnimation: "wobble"
      };
    }
    getElement() {
      return this.nodes.root;
    }
    handleClick() {
      if (this.isConfirmationStateEnabled) {
        this.activateOrEnableConfirmationMode(this.confirmationState);
        return;
      }
      this.activateOrEnableConfirmationMode(this.params);
    }
    toggleActive(e) {
      this.nodes.root.classList.toggle(P.CSS.active, e);
    }
    toggleHidden(e) {
      this.nodes.root.classList.toggle(P.CSS.hidden, e);
    }
    reset() {
      this.isConfirmationStateEnabled && this.disableConfirmationMode();
    }
    onFocus() {
      this.disableSpecialHoverAndFocusBehavior();
    }
    make(e) {
      const t = d.make("div", P.CSS.container);
      return e.name && (t.dataset.itemName = e.name), this.nodes.icon = d.make("div", P.CSS.icon, {
        innerHTML: e.icon || To
      }), t.appendChild(this.nodes.icon), t.appendChild(d.make("div", P.CSS.title, {
        innerHTML: e.title || ""
      })), e.secondaryLabel && t.appendChild(d.make("div", P.CSS.secondaryTitle, {
        textContent: e.secondaryLabel
      })), e.isActive && t.classList.add(P.CSS.active), e.isDisabled && t.classList.add(P.CSS.disabled), t;
    }
    enableConfirmationMode(e) {
      const t = __spreadProps(__spreadValues(__spreadValues({}, this.params), e), {
        confirmation: e.confirmation
      }), o = this.make(t);
      this.nodes.root.innerHTML = o.innerHTML, this.nodes.root.classList.add(P.CSS.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();
    }
    disableConfirmationMode() {
      const e = this.make(this.params);
      this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(P.CSS.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();
    }
    enableSpecialHoverAndFocusBehavior() {
      this.nodes.root.classList.add(P.CSS.noHover), this.nodes.root.classList.add(P.CSS.noFocus), this.nodes.root.addEventListener("mouseleave", this.removeSpecialHoverBehavior, { once: true });
    }
    disableSpecialHoverAndFocusBehavior() {
      this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), this.nodes.root.removeEventListener("mouseleave", this.removeSpecialHoverBehavior);
    }
    activateOrEnableConfirmationMode(e) {
      if (e.confirmation === void 0)
        try {
          e.onActivate(e), this.disableConfirmationMode();
        } catch (e2) {
          this.animateError();
        }
      else
        this.enableConfirmationMode(e.confirmation);
    }
    animateError() {
      this.nodes.icon.classList.contains(P.CSS.wobbleAnimation) || (this.nodes.icon.classList.add(P.CSS.wobbleAnimation), this.nodes.icon.addEventListener("animationend", this.onErrorAnimationEnd));
    }
  };
  var ce = class {
    constructor(s, e) {
      this.cursor = -1, this.items = [], this.items = s || [], this.focusedCssClass = e;
    }
    get currentItem() {
      return this.cursor === -1 ? null : this.items[this.cursor];
    }
    setCursor(s) {
      s < this.items.length && s >= -1 && (this.dropCursor(), this.cursor = s, this.items[this.cursor].classList.add(this.focusedCssClass));
    }
    setItems(s) {
      this.items = s;
    }
    next() {
      this.cursor = this.leafNodesAndReturnIndex(ce.directions.RIGHT);
    }
    previous() {
      this.cursor = this.leafNodesAndReturnIndex(ce.directions.LEFT);
    }
    dropCursor() {
      this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);
    }
    leafNodesAndReturnIndex(s) {
      if (this.items.length === 0)
        return this.cursor;
      let e = this.cursor;
      return e === -1 ? e = s === ce.directions.RIGHT ? -1 : 0 : this.items[e].classList.remove(this.focusedCssClass), s === ce.directions.RIGHT ? e = (e + 1) % this.items.length : e = (this.items.length + e - 1) % this.items.length, d.canSetCaret(this.items[e]) && oe(() => m.setCursor(this.items[e]), 50)(), this.items[e].classList.add(this.focusedCssClass), e;
    }
  };
  var ne = ce;
  ne.directions = {
    RIGHT: "right",
    LEFT: "left"
  };
  var G = class {
    constructor(e) {
      this.iterator = null, this.activated = false, this.flipCallbacks = [], this.onKeyDown = (t) => {
        if (this.isEventReadyForHandling(t))
          switch (G.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {
            case B.TAB:
              this.handleTabPress(t);
              break;
            case B.LEFT:
            case B.UP:
              this.flipLeft();
              break;
            case B.RIGHT:
            case B.DOWN:
              this.flipRight();
              break;
            case B.ENTER:
              this.handleEnterPress(t);
              break;
          }
      }, this.iterator = new ne(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || G.usedKeys;
    }
    get isActivated() {
      return this.activated;
    }
    static get usedKeys() {
      return [
        B.TAB,
        B.LEFT,
        B.RIGHT,
        B.ENTER,
        B.UP,
        B.DOWN
      ];
    }
    activate(e, t) {
      this.activated = true, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener("keydown", this.onKeyDown, true);
    }
    deactivate() {
      this.activated = false, this.dropCursor(), document.removeEventListener("keydown", this.onKeyDown);
    }
    focusFirst() {
      this.dropCursor(), this.flipRight();
    }
    flipLeft() {
      this.iterator.previous(), this.flipCallback();
    }
    flipRight() {
      this.iterator.next(), this.flipCallback();
    }
    hasFocus() {
      return !!this.iterator.currentItem;
    }
    onFlip(e) {
      this.flipCallbacks.push(e);
    }
    removeOnFlip(e) {
      this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);
    }
    dropCursor() {
      this.iterator.dropCursor();
    }
    isEventReadyForHandling(e) {
      return this.activated && this.allowedKeys.includes(e.keyCode);
    }
    handleTabPress(e) {
      switch (e.shiftKey ? ne.directions.LEFT : ne.directions.RIGHT) {
        case ne.directions.RIGHT:
          this.flipRight();
          break;
        case ne.directions.LEFT:
          this.flipLeft();
          break;
      }
    }
    handleEnterPress(e) {
      this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), D(this.activateCallback) && this.activateCallback(this.iterator.currentItem));
    }
    flipCallback() {
      this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());
    }
  };
  var ue = class {
    static get CSS() {
      return {
        wrapper: "cdx-search-field",
        icon: "cdx-search-field__icon",
        input: "cdx-search-field__input"
      };
    }
    constructor({ items: e, onSearch: t, placeholder: o }) {
      this.listeners = new Re(), this.items = e, this.onSearch = t, this.render(o);
    }
    getElement() {
      return this.wrapper;
    }
    focus() {
      this.input.focus();
    }
    clear() {
      this.input.value = "", this.searchQuery = "", this.onSearch("", this.foundItems);
    }
    destroy() {
      this.listeners.removeAll();
    }
    render(e) {
      this.wrapper = d.make("div", ue.CSS.wrapper);
      const t = d.make("div", ue.CSS.icon, {
        innerHTML: Lo
      });
      this.input = d.make("input", ue.CSS.input, {
        placeholder: e
      }), this.wrapper.appendChild(t), this.wrapper.appendChild(this.input), this.listeners.on(this.input, "input", () => {
        this.searchQuery = this.input.value, this.onSearch(this.searchQuery, this.foundItems);
      });
    }
    get foundItems() {
      return this.items.filter((e) => this.checkItem(e));
    }
    checkItem(e) {
      var i;
      const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || "", o = this.searchQuery.toLowerCase();
      return t.includes(o);
    }
  };
  var de = class {
    lock() {
      Ge ? this.lockHard() : document.body.classList.add(de.CSS.scrollLocked);
    }
    unlock() {
      Ge ? this.unlockHard() : document.body.classList.remove(de.CSS.scrollLocked);
    }
    lockHard() {
      this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(
        "--window-scroll-offset",
        `${this.scrollPosition}px`
      ), document.body.classList.add(de.CSS.scrollLockedHard);
    }
    unlockHard() {
      document.body.classList.remove(de.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;
    }
  };
  var ft = de;
  ft.CSS = {
    scrollLocked: "ce-scroll-locked",
    scrollLockedHard: "ce-scroll-locked--hard"
  };
  var _o = Object.defineProperty;
  var Ao = Object.getOwnPropertyDescriptor;
  var No = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? Ao(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && _o(e, t, i), i;
  };
  var fe = /* @__PURE__ */ ((s) => (s.Close = "close", s))(fe || {});
  var z = class extends we {
    constructor(s) {
      super(), this.scopeElement = document.body, this.listeners = new Re(), this.scrollLocker = new ft(), this.nodes = {
        wrapper: null,
        popover: null,
        nothingFoundMessage: null,
        customContent: null,
        items: null,
        overlay: null
      }, this.messages = {
        nothingFound: "Nothing found",
        search: "Search"
      }, this.onFlip = () => {
        this.items.find((t) => t.isFocused).onFocus();
      }, this.items = s.items.map((e) => new P(e)), s.scopeElement !== void 0 && (this.scopeElement = s.scopeElement), s.messages && (this.messages = __spreadValues(__spreadValues({}, this.messages), s.messages)), s.customContentFlippableItems && (this.customContentFlippableItems = s.customContentFlippableItems), this.make(), s.customContent && this.addCustomContent(s.customContent), s.searchable && this.addSearch(), this.initializeFlipper();
    }
    static get CSS() {
      return {
        popover: "ce-popover",
        popoverOpenTop: "ce-popover--open-top",
        popoverOpened: "ce-popover--opened",
        search: "ce-popover__search",
        nothingFoundMessage: "ce-popover__nothing-found-message",
        nothingFoundMessageDisplayed: "ce-popover__nothing-found-message--displayed",
        customContent: "ce-popover__custom-content",
        customContentHidden: "ce-popover__custom-content--hidden",
        items: "ce-popover__items",
        overlay: "ce-popover__overlay",
        overlayHidden: "ce-popover__overlay--hidden"
      };
    }
    getElement() {
      return this.nodes.wrapper;
    }
    hasFocus() {
      return this.flipper.hasFocus();
    }
    show() {
      this.shouldOpenBottom || (this.nodes.popover.style.setProperty("--popover-height", this.height + "px"), this.nodes.popover.classList.add(z.CSS.popoverOpenTop)), this.nodes.overlay.classList.remove(z.CSS.overlayHidden), this.nodes.popover.classList.add(z.CSS.popoverOpened), this.flipper.activate(this.flippableElements), this.search !== void 0 && setTimeout(() => {
        this.search.focus();
      }, 100), ee() && this.scrollLocker.lock();
    }
    hide() {
      this.nodes.popover.classList.remove(z.CSS.popoverOpened), this.nodes.popover.classList.remove(z.CSS.popoverOpenTop), this.nodes.overlay.classList.add(z.CSS.overlayHidden), this.flipper.deactivate(), this.items.forEach((s) => s.reset()), this.search !== void 0 && this.search.clear(), ee() && this.scrollLocker.unlock(), this.emit(
        "close"
      );
    }
    destroy() {
      this.flipper.deactivate(), this.listeners.removeAll(), ee() && this.scrollLocker.unlock();
    }
    make() {
      this.nodes.popover = d.make("div", [z.CSS.popover]), this.nodes.nothingFoundMessage = d.make("div", [z.CSS.nothingFoundMessage], {
        textContent: this.messages.nothingFound
      }), this.nodes.popover.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make("div", [z.CSS.items]), this.items.forEach((s) => {
        this.nodes.items.appendChild(s.getElement());
      }), this.nodes.popover.appendChild(this.nodes.items), this.listeners.on(this.nodes.popover, "click", (s) => {
        const e = this.getTargetItem(s);
        e !== void 0 && this.handleItemClick(e);
      }), this.nodes.wrapper = d.make("div"), this.nodes.overlay = d.make("div", [z.CSS.overlay, z.CSS.overlayHidden]), this.listeners.on(this.nodes.overlay, "click", () => {
        this.hide();
      }), this.nodes.wrapper.appendChild(this.nodes.overlay), this.nodes.wrapper.appendChild(this.nodes.popover);
    }
    addSearch() {
      this.search = new ue({
        items: this.items,
        placeholder: this.messages.search,
        onSearch: (e, t) => {
          this.items.forEach((i) => {
            const n = !t.includes(i);
            i.toggleHidden(n);
          }), this.toggleNothingFoundMessage(t.length === 0), this.toggleCustomContent(e !== "");
          const o = e === "" ? this.flippableElements : t.map((i) => i.getElement());
          this.flipper.isActivated && (this.flipper.deactivate(), this.flipper.activate(o));
        }
      });
      const s = this.search.getElement();
      s.classList.add(z.CSS.search), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
    }
    addCustomContent(s) {
      this.nodes.customContent = s, this.nodes.customContent.classList.add(z.CSS.customContent), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
    }
    getTargetItem(s) {
      return this.items.find((e) => s.composedPath().includes(e.getElement()));
    }
    handleItemClick(s) {
      s.isDisabled || (this.items.filter((e) => e !== s).forEach((e) => e.reset()), s.handleClick(), this.toggleItemActivenessIfNeeded(s), s.closeOnActivate && this.hide());
    }
    initializeFlipper() {
      this.flipper = new G({
        items: this.flippableElements,
        focusedItemClass: P.CSS.focused,
        allowedKeys: [
          B.TAB,
          B.UP,
          B.DOWN,
          B.ENTER
        ]
      }), this.flipper.onFlip(this.onFlip);
    }
    get flippableElements() {
      const s = this.items.map((t) => t.getElement());
      return (this.customContentFlippableItems || []).concat(s);
    }
    get height() {
      let s = 0;
      if (this.nodes.popover === null)
        return s;
      const e = this.nodes.popover.cloneNode(true);
      return e.style.visibility = "hidden", e.style.position = "absolute", e.style.top = "-1000px", e.classList.add(z.CSS.popoverOpened), document.body.appendChild(e), s = e.offsetHeight, e.remove(), s;
    }
    get shouldOpenBottom() {
      const s = this.nodes.popover.getBoundingClientRect(), e = this.scopeElement.getBoundingClientRect(), t = this.height, o = s.top + t, i = s.top - t, n = Math.min(window.innerHeight, e.bottom);
      return i < e.top || o <= n;
    }
    toggleNothingFoundMessage(s) {
      this.nodes.nothingFoundMessage.classList.toggle(z.CSS.nothingFoundMessageDisplayed, s);
    }
    toggleCustomContent(s) {
      var e;
      (e = this.nodes.customContent) == null || e.classList.toggle(z.CSS.customContentHidden, s);
    }
    toggleItemActivenessIfNeeded(s) {
      if (s.toggle === true && s.toggleActive(), typeof s.toggle == "string") {
        const e = this.items.filter((t) => t.toggle === s.toggle);
        if (e.length === 1) {
          s.toggleActive();
          return;
        }
        e.forEach((t) => {
          t.toggleActive(t === s);
        });
      }
    }
  };
  var He = z;
  No([
    ae
  ], He.prototype, "height", 1);
  var Ro = class extends S {
    constructor() {
      super(...arguments), this.opened = false, this.selection = new m(), this.onPopoverClose = () => {
        this.close();
      };
    }
    get events() {
      return {
        opened: "block-settings-opened",
        closed: "block-settings-closed"
      };
    }
    get CSS() {
      return {
        settings: "ce-settings"
      };
    }
    get flipper() {
      var e;
      return (e = this.popover) == null ? void 0 : e.flipper;
    }
    make() {
      this.nodes.wrapper = d.make("div", [this.CSS.settings]);
    }
    destroy() {
      this.removeAllNodes();
    }
    open(e = this.Editor.BlockManager.currentBlock) {
      this.opened = true, this.selection.save(), e.selected = true, this.Editor.BlockSelection.clearCache();
      const [t, o] = e.getTunes();
      this.eventsDispatcher.emit(this.events.opened), this.popover = new He({
        searchable: true,
        items: t.map((i) => this.resolveTuneAliases(i)),
        customContent: o,
        customContentFlippableItems: this.getControls(o),
        scopeElement: this.Editor.API.methods.ui.nodes.redactor,
        messages: {
          nothingFound: $2.ui(X.ui.popover, "Nothing found"),
          search: $2.ui(X.ui.popover, "Filter")
        }
      }), this.popover.on(fe.Close, this.onPopoverClose), this.nodes.wrapper.append(this.popover.getElement()), this.popover.show();
    }
    getElement() {
      return this.nodes.wrapper;
    }
    close() {
      this.opened = false, m.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && (this.Editor.BlockManager.currentBlock.selected = false), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(fe.Close, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null);
    }
    getControls(e) {
      const { StylesAPI: t } = this.Editor, o = e.querySelectorAll(
        `.${t.classes.settingsButton}, ${d.allInputsSelector}`
      );
      return Array.from(o);
    }
    resolveTuneAliases(e) {
      const t = yo(e, { label: "title" });
      return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;
    }
  };
  var Y = class extends S {
    constructor() {
      super(...arguments), this.opened = false, this.tools = [], this.flipper = null, this.togglingCallback = null;
    }
    static get CSS() {
      return {
        conversionToolbarWrapper: "ce-conversion-toolbar",
        conversionToolbarShowed: "ce-conversion-toolbar--showed",
        conversionToolbarTools: "ce-conversion-toolbar__tools",
        conversionToolbarLabel: "ce-conversion-toolbar__label",
        conversionTool: "ce-conversion-tool",
        conversionToolHidden: "ce-conversion-tool--hidden",
        conversionToolIcon: "ce-conversion-tool__icon",
        conversionToolFocused: "ce-conversion-tool--focused",
        conversionToolActive: "ce-conversion-tool--active"
      };
    }
    make() {
      this.nodes.wrapper = d.make("div", [
        Y.CSS.conversionToolbarWrapper,
        ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
      ]), this.nodes.tools = d.make("div", Y.CSS.conversionToolbarTools);
      const e = d.make("div", Y.CSS.conversionToolbarLabel, {
        textContent: $2.ui(X.ui.inlineToolbar.converter, "Convert to")
      });
      return this.addTools(), this.enableFlipper(), d.append(this.nodes.wrapper, e), d.append(this.nodes.wrapper, this.nodes.tools), this.nodes.wrapper;
    }
    destroy() {
      this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes();
    }
    toggle(e) {
      this.opened ? this.close() : this.open(), D(e) && (this.togglingCallback = e);
    }
    open() {
      this.filterTools(), this.opened = true, this.nodes.wrapper.classList.add(Y.CSS.conversionToolbarShowed), window.requestAnimationFrame(() => {
        this.flipper.activate(this.tools.map((e) => e.button).filter((e) => !e.classList.contains(Y.CSS.conversionToolHidden))), this.flipper.focusFirst(), D(this.togglingCallback) && this.togglingCallback(true);
      });
    }
    close() {
      this.opened = false, this.flipper.deactivate(), this.nodes.wrapper.classList.remove(Y.CSS.conversionToolbarShowed), D(this.togglingCallback) && this.togglingCallback(false);
    }
    hasTools() {
      return this.tools.length === 1 ? this.tools[0].name !== this.config.defaultBlock : true;
    }
    async replaceWithBlock(e, t) {
      const o = this.Editor.BlockManager.currentBlock.tool, n = (await this.Editor.BlockManager.currentBlock.save()).data, r = this.Editor.Tools.blockTools.get(e);
      let a = "";
      const l = o.conversionConfig.export;
      if (D(l))
        a = l(n);
      else if (J(l))
        a = n[l];
      else {
        T("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");
        return;
      }
      const c = Z(
        a,
        r.sanitizeConfig
      );
      let u = {};
      const h = r.conversionConfig.import;
      if (D(h))
        u = h(c);
      else if (J(h))
        u[h] = c;
      else {
        T("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");
        return;
      }
      t && (u = Object.assign(u, t)), this.Editor.BlockManager.replace({
        tool: e,
        data: u
      }), this.Editor.BlockSelection.clearSelection(), this.close(), this.Editor.InlineToolbar.close(), oe(() => {
        this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);
      }, 10)();
    }
    addTools() {
      const e = this.Editor.Tools.blockTools;
      Array.from(e.entries()).forEach(([t, o]) => {
        const i = o.conversionConfig;
        !i || !i.import || o.toolbox.forEach(
          (n) => this.addToolIfValid(t, n)
        );
      });
    }
    addToolIfValid(e, t) {
      V(t) || !t.icon || this.addTool(e, t);
    }
    addTool(e, t) {
      const o = d.make("div", [Y.CSS.conversionTool]), i = d.make("div", [Y.CSS.conversionToolIcon]);
      o.dataset.tool = e, i.innerHTML = t.icon, d.append(o, i), d.append(o, d.text($2.t(X.toolNames, t.title || ke(e)))), d.append(this.nodes.tools, o), this.tools.push({
        name: e,
        button: o,
        toolboxItem: t
      }), this.listeners.on(o, "click", async () => {
        await this.replaceWithBlock(e, t.data);
      });
    }
    async filterTools() {
      const { currentBlock: e } = this.Editor.BlockManager, t = await e.getActiveToolboxEntry();
      function o(i, n) {
        return i.icon === n.icon && i.title === n.title;
      }
      this.tools.forEach((i) => {
        let n = false;
        if (t) {
          const r = o(t, i.toolboxItem);
          n = i.button.dataset.tool === e.name && r;
        }
        i.button.hidden = n, i.button.classList.toggle(Y.CSS.conversionToolHidden, n);
      });
    }
    enableFlipper() {
      this.flipper = new G({
        focusedItemClass: Y.CSS.conversionToolFocused
      });
    }
  };
  var Ae = {};
  var Do = {
    get exports() {
      return Ae;
    },
    set exports(s) {
      Ae = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "", i(i.s = 0);
      }([function(t, o, i) {
        function n(l, c) {
          for (var u = 0; u < c.length; u++) {
            var h = c[u];
            h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
          }
        }
        function r(l, c, u) {
          return c && n(l.prototype, c), u && n(l, u), l;
        }
        i.r(o);
        var a = function() {
          function l(c) {
            var u = this;
            (function(h, f) {
              if (!(h instanceof f))
                throw new TypeError("Cannot call a class as a function");
            })(this, l), this.commands = {}, this.keys = {}, this.name = c.name, this.parseShortcutName(c.name), this.element = c.on, this.callback = c.callback, this.executeShortcut = function(h) {
              u.execute(h);
            }, this.element.addEventListener("keydown", this.executeShortcut, false);
          }
          return r(l, null, [{ key: "supportedCommands", get: function() {
            return { SHIFT: ["SHIFT"], CMD: ["CMD", "CONTROL", "COMMAND", "WINDOWS", "CTRL"], ALT: ["ALT", "OPTION"] };
          } }, { key: "keyCodes", get: function() {
            return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, ".": 190 };
          } }]), r(l, [{ key: "parseShortcutName", value: function(c) {
            c = c.split("+");
            for (var u = 0; u < c.length; u++) {
              c[u] = c[u].toUpperCase();
              var h = false;
              for (var f in l.supportedCommands)
                if (l.supportedCommands[f].includes(c[u])) {
                  h = this.commands[f] = true;
                  break;
                }
              h || (this.keys[c[u]] = true);
            }
            for (var v in l.supportedCommands)
              this.commands[v] || (this.commands[v] = false);
          } }, { key: "execute", value: function(c) {
            var u, h = { CMD: c.ctrlKey || c.metaKey, SHIFT: c.shiftKey, ALT: c.altKey }, f = true;
            for (u in this.commands)
              this.commands[u] !== h[u] && (f = false);
            var v, p = true;
            for (v in this.keys)
              p = p && c.keyCode === l.keyCodes[v];
            f && p && this.callback(c);
          } }, { key: "remove", value: function() {
            this.element.removeEventListener("keydown", this.executeShortcut);
          } }]), l;
        }();
        o.default = a;
      }]).default;
    });
  })(Do);
  var Po = /* @__PURE__ */ xe(Ae);
  var Fo = class {
    constructor() {
      this.registeredShortcuts = /* @__PURE__ */ new Map();
    }
    add(e) {
      if (this.findShortcut(e.on, e.name))
        throw Error(
          `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`
        );
      const o = new Po({
        name: e.name,
        on: e.on,
        callback: e.handler
      }), i = this.registeredShortcuts.get(e.on) || [];
      this.registeredShortcuts.set(e.on, [...i, o]);
    }
    remove(e, t) {
      const o = this.findShortcut(e, t);
      if (!o)
        return;
      o.remove();
      const i = this.registeredShortcuts.get(e);
      this.registeredShortcuts.set(e, i.filter((n) => n !== o));
    }
    findShortcut(e, t) {
      return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);
    }
  };
  var re = new Fo();
  var Ho = Object.defineProperty;
  var zo = Object.getOwnPropertyDescriptor;
  var gt = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? zo(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && Ho(e, t, i), i;
  };
  var be = /* @__PURE__ */ ((s) => (s.Opened = "toolbox-opened", s.Closed = "toolbox-closed", s.BlockAdded = "toolbox-block-added", s))(be || {});
  var bt = class extends we {
    constructor({ api: s, tools: e, i18nLabels: t }) {
      super(), this.opened = false, this.nodes = {
        toolbox: null
      }, this.onPopoverClose = () => {
        this.opened = false, this.emit(
          "toolbox-closed"
        );
      }, this.api = s, this.tools = e, this.i18nLabels = t;
    }
    get isEmpty() {
      return this.toolsToBeDisplayed.length === 0;
    }
    static get CSS() {
      return {
        toolbox: "ce-toolbox"
      };
    }
    make() {
      return this.popover = new He({
        scopeElement: this.api.ui.nodes.redactor,
        searchable: true,
        messages: {
          nothingFound: this.i18nLabels.nothingFound,
          search: this.i18nLabels.filter
        },
        items: this.toolboxItemsToBeDisplayed
      }), this.popover.on(fe.Close, this.onPopoverClose), this.enableShortcuts(), this.nodes.toolbox = this.popover.getElement(), this.nodes.toolbox.classList.add(bt.CSS.toolbox), this.nodes.toolbox;
    }
    hasFocus() {
      var s;
      return (s = this.popover) == null ? void 0 : s.hasFocus();
    }
    destroy() {
      var s;
      super.destroy(), this.nodes && this.nodes.toolbox && (this.nodes.toolbox.remove(), this.nodes.toolbox = null), this.removeAllShortcuts(), (s = this.popover) == null || s.off(fe.Close, this.onPopoverClose);
    }
    toolButtonActivated(s, e) {
      this.insertNewBlock(s, e);
    }
    open() {
      var s;
      this.isEmpty || ((s = this.popover) == null || s.show(), this.opened = true, this.emit(
        "toolbox-opened"
      ));
    }
    close() {
      var s;
      (s = this.popover) == null || s.hide(), this.opened = false, this.emit(
        "toolbox-closed"
      );
    }
    toggle() {
      this.opened ? this.close() : this.open();
    }
    get toolsToBeDisplayed() {
      const s = [];
      return this.tools.forEach((e) => {
        e.toolbox && s.push(e);
      }), s;
    }
    get toolboxItemsToBeDisplayed() {
      const s = (e, t) => ({
        icon: e.icon,
        title: $2.t(X.toolNames, e.title || ke(t.name)),
        name: t.name,
        onActivate: () => {
          this.toolButtonActivated(t.name, e.data);
        },
        secondaryLabel: t.shortcut ? nt(t.shortcut) : ""
      });
      return this.toolsToBeDisplayed.reduce((e, t) => (Array.isArray(t.toolbox) ? t.toolbox.forEach((o) => {
        e.push(s(o, t));
      }) : t.toolbox !== void 0 && e.push(s(t.toolbox, t)), e), []);
    }
    enableShortcuts() {
      this.toolsToBeDisplayed.forEach((s) => {
        const e = s.shortcut;
        e && this.enableShortcutForTool(s.name, e);
      });
    }
    enableShortcutForTool(s, e) {
      re.add({
        name: e,
        on: this.api.ui.nodes.redactor,
        handler: (t) => {
          t.preventDefault(), this.insertNewBlock(s);
        }
      });
    }
    removeAllShortcuts() {
      this.toolsToBeDisplayed.forEach((s) => {
        const e = s.shortcut;
        e && re.remove(this.api.ui.nodes.redactor, e);
      });
    }
    async insertNewBlock(s, e) {
      const t = this.api.blocks.getCurrentBlockIndex(), o = this.api.blocks.getBlockByIndex(t);
      if (!o)
        return;
      const i = o.isEmpty ? t : t + 1;
      let n;
      if (e) {
        const a = await this.api.blocks.composeBlockData(s);
        n = Object.assign(a, e);
      }
      const r = this.api.blocks.insert(
        s,
        n,
        void 0,
        i,
        void 0,
        o.isEmpty
      );
      r.call(q.APPEND_CALLBACK), this.api.caret.setToBlock(i), this.emit("toolbox-block-added", {
        block: r
      }), this.api.toolbar.close();
    }
  };
  var ze = bt;
  gt([
    ae
  ], ze.prototype, "toolsToBeDisplayed", 1);
  gt([
    ae
  ], ze.prototype, "toolboxItemsToBeDisplayed", 1);
  var mt = "block hovered";
  var jo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.tooltip = new Fe();
    }
    get CSS() {
      return {
        toolbar: "ce-toolbar",
        content: "ce-toolbar__content",
        actions: "ce-toolbar__actions",
        actionsOpened: "ce-toolbar__actions--opened",
        toolbarOpened: "ce-toolbar--opened",
        openedToolboxHolderModifier: "codex-editor--toolbox-opened",
        plusButton: "ce-toolbar__plus",
        plusButtonShortcut: "ce-toolbar__plus-shortcut",
        settingsToggler: "ce-toolbar__settings-btn",
        settingsTogglerHidden: "ce-toolbar__settings-btn--hidden"
      };
    }
    get opened() {
      return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);
    }
    get toolbox() {
      return {
        opened: this.toolboxInstance.opened,
        close: () => {
          this.toolboxInstance.close();
        },
        open: () => {
          this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();
        },
        toggle: () => this.toolboxInstance.toggle(),
        hasFocus: () => this.toolboxInstance.hasFocus()
      };
    }
    get blockActions() {
      return {
        hide: () => {
          this.nodes.actions.classList.remove(this.CSS.actionsOpened);
        },
        show: () => {
          this.nodes.actions.classList.add(this.CSS.actionsOpened);
        }
      };
    }
    get blockTunesToggler() {
      return {
        hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),
        show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)
      };
    }
    toggleReadOnly(e) {
      e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : (this.drawUI(), this.enableModuleBindings());
    }
    moveAndOpen(e = this.Editor.BlockManager.currentBlock) {
      if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)
        return;
      this.hoveredBlock = e;
      const t = e.holder, { isMobile: o } = this.Editor.UI, i = e.pluginsContent, n = window.getComputedStyle(i), r = parseInt(n.paddingTop, 10), a = t.offsetHeight;
      let l;
      o ? l = t.offsetTop + a : l = t.offsetTop + r, this.nodes.wrapper.style.top = `${Math.floor(l)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();
    }
    close() {
      this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), this.toolboxInstance.close(), this.Editor.BlockSettings.close());
    }
    open(e = true) {
      oe(() => {
        this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();
      }, 50)();
    }
    make() {
      this.nodes.wrapper = d.make("div", this.CSS.toolbar), ["content", "actions"].forEach((t) => {
        this.nodes[t] = d.make("div", this.CSS[t]);
      }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make("div", this.CSS.plusButton, {
        innerHTML: Mo
      }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, "click", () => {
        this.tooltip.hide(true), this.plusButtonClicked();
      }, false);
      const e = d.make("div");
      e.appendChild(document.createTextNode($2.ui(X.ui.toolbar.toolbox, "Add"))), e.appendChild(d.make("div", this.CSS.plusButtonShortcut, {
        textContent: "\u21E5 Tab"
      })), this.tooltip.onHover(this.nodes.plusButton, e, {
        hidingDelay: 400
      }), this.nodes.settingsToggler = d.make("span", this.CSS.settingsToggler, {
        innerHTML: Io
      }), d.append(this.nodes.actions, this.nodes.settingsToggler), this.tooltip.onHover(
        this.nodes.settingsToggler,
        $2.ui(X.ui.blockTunes.toggler, "Click to tune"),
        {
          hidingDelay: 400
        }
      ), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);
    }
    makeToolbox() {
      return this.toolboxInstance = new ze({
        api: this.Editor.API.methods,
        tools: this.Editor.Tools.blockTools,
        i18nLabels: {
          filter: $2.ui(X.ui.popover, "Filter"),
          nothingFound: $2.ui(X.ui.popover, "Nothing found")
        }
      }), this.toolboxInstance.on(be.Opened, () => {
        this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);
      }), this.toolboxInstance.on(be.Closed, () => {
        this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);
      }), this.toolboxInstance.on(be.BlockAdded, ({ block: e }) => {
        const { BlockManager: t, Caret: o } = this.Editor, i = t.getBlockById(e.id);
        i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o.setToBlock(t.lastBlock)) : o.setToBlock(t.nextBlock));
      }), this.toolboxInstance.make();
    }
    plusButtonClicked() {
      this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.toggle();
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(this.nodes.settingsToggler, "mousedown", (e) => {
        e.stopPropagation(), this.settingsTogglerClicked(), this.toolboxInstance.opened && this.toolboxInstance.close(), this.tooltip.hide(true);
      }, true), ee() || this.eventsDispatcher.on(mt, (e) => {
        this.Editor.BlockSettings.opened || this.toolboxInstance.opened || this.moveAndOpen(e.block);
      });
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    settingsTogglerClicked() {
      this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);
    }
    drawUI() {
      this.Editor.BlockSettings.make(), this.make();
    }
    destroy() {
      this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy(), this.tooltip.destroy();
    }
  };
  var ye = /* @__PURE__ */ ((s) => (s[s.Block = 0] = "Block", s[s.Inline = 1] = "Inline", s[s.Tune = 2] = "Tune", s))(ye || {});
  var me = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.Toolbox = "toolbox", s.EnabledInlineTools = "inlineToolbar", s.EnabledBlockTunes = "tunes", s.Config = "config", s))(me || {});
  var kt = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.SanitizeConfig = "sanitize", s))(kt || {});
  var se = /* @__PURE__ */ ((s) => (s.IsEnabledLineBreaks = "enableLineBreaks", s.Toolbox = "toolbox", s.ConversionConfig = "conversionConfig", s.IsReadOnlySupported = "isReadOnlySupported", s.PasteConfig = "pasteConfig", s))(se || {});
  var je = /* @__PURE__ */ ((s) => (s.IsInline = "isInline", s.Title = "title", s))(je || {});
  var vt = /* @__PURE__ */ ((s) => (s.IsTune = "isTune", s))(vt || {});
  var Ue = class {
    constructor({
      name: e,
      constructable: t,
      config: o,
      api: i,
      isDefault: n,
      isInternal: r = false,
      defaultPlaceholder: a
    }) {
      this.api = i, this.name = e, this.constructable = t, this.config = o, this.isDefault = n, this.isInternal = r, this.defaultPlaceholder = a;
    }
    get settings() {
      const e = this.config.config || {};
      return this.isDefault && !("placeholder" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;
    }
    reset() {
      if (D(this.constructable.reset))
        return this.constructable.reset();
    }
    prepare() {
      if (D(this.constructable.prepare))
        return this.constructable.prepare({
          toolName: this.name,
          config: this.settings
        });
    }
    get shortcut() {
      const e = this.constructable.shortcut;
      return this.config.shortcut || e;
    }
    get sanitizeConfig() {
      return this.constructable.sanitize || {};
    }
    isInline() {
      return this.type === 1;
    }
    isBlock() {
      return this.type === 0;
    }
    isTune() {
      return this.type === 2;
    }
  };
  var Uo = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.CSS = {
        inlineToolbar: "ce-inline-toolbar",
        inlineToolbarShowed: "ce-inline-toolbar--showed",
        inlineToolbarLeftOriented: "ce-inline-toolbar--left-oriented",
        inlineToolbarRightOriented: "ce-inline-toolbar--right-oriented",
        inlineToolbarShortcut: "ce-inline-toolbar__shortcut",
        buttonsWrapper: "ce-inline-toolbar__buttons",
        actionsWrapper: "ce-inline-toolbar__actions",
        inlineToolButton: "ce-inline-tool",
        inputField: "cdx-input",
        focusedButton: "ce-inline-tool--focused",
        conversionToggler: "ce-inline-toolbar__dropdown",
        conversionTogglerArrow: "ce-inline-toolbar__dropdown-arrow",
        conversionTogglerHidden: "ce-inline-toolbar__dropdown--hidden",
        conversionTogglerContent: "ce-inline-toolbar__dropdown-content",
        togglerAndButtonsWrapper: "ce-inline-toolbar__toggler-and-button-wrapper"
      }, this.opened = false, this.toolbarVerticalMargin = ee() ? 20 : 6, this.buttonsList = null, this.width = 0, this.flipper = null, this.tooltip = new Fe();
    }
    toggleReadOnly(e) {
      e ? (this.destroy(), this.Editor.ConversionToolbar.destroy()) : this.make();
    }
    tryToShow(e = false, t = true) {
      if (!this.allowedToShow()) {
        e && this.close();
        return;
      }
      this.move(), this.open(t), this.Editor.Toolbar.close();
    }
    move() {
      const e = m.rect, t = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), o = {
        x: e.x - t.left,
        y: e.y + e.height - t.top + this.toolbarVerticalMargin
      };
      e.width && (o.x += Math.floor(e.width / 2));
      const i = o.x - this.width / 2, n = o.x + this.width / 2;
      this.nodes.wrapper.classList.toggle(
        this.CSS.inlineToolbarLeftOriented,
        i < this.Editor.UI.contentRect.left
      ), this.nodes.wrapper.classList.toggle(
        this.CSS.inlineToolbarRightOriented,
        n > this.Editor.UI.contentRect.right
      ), this.nodes.wrapper.style.left = Math.floor(o.x) + "px", this.nodes.wrapper.style.top = Math.floor(o.y) + "px";
    }
    close() {
      this.opened && (this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed), Array.from(this.toolsInstances.entries()).forEach(([e, t]) => {
        const o = this.getToolShortcut(e);
        o && re.remove(this.Editor.UI.nodes.redactor, o), D(t.clear) && t.clear();
      }), this.opened = false, this.flipper.deactivate(), this.Editor.ConversionToolbar.close()));
    }
    open(e = true) {
      if (this.opened)
        return;
      this.addToolsFiltered(), this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed), this.buttonsList = this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`), this.opened = true, e && this.Editor.ConversionToolbar.hasTools() ? this.setConversionTogglerContent() : this.nodes.conversionToggler.hidden = true;
      let t = Array.from(this.buttonsList);
      t.unshift(this.nodes.conversionToggler), t = t.filter((o) => !o.hidden), this.flipper.activate(t);
    }
    containsNode(e) {
      return this.nodes.wrapper.contains(e);
    }
    destroy() {
      this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes(), this.tooltip.destroy();
    }
    make() {
      this.nodes.wrapper = d.make("div", [
        this.CSS.inlineToolbar,
        ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
      ]), this.nodes.togglerAndButtonsWrapper = d.make("div", this.CSS.togglerAndButtonsWrapper), this.nodes.buttons = d.make("div", this.CSS.buttonsWrapper), this.nodes.actions = d.make("div", this.CSS.actionsWrapper), this.listeners.on(this.nodes.wrapper, "mousedown", (e) => {
        e.target.closest(`.${this.CSS.actionsWrapper}`) || e.preventDefault();
      }), d.append(this.nodes.wrapper, [this.nodes.togglerAndButtonsWrapper, this.nodes.actions]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper), this.addConversionToggler(), d.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons), this.prepareConversionToolbar(), this.recalculateWidth(), this.enableFlipper();
    }
    allowedToShow() {
      const e = ["IMG", "INPUT"], t = m.get(), o = m.text;
      if (!t || !t.anchorNode || t.isCollapsed || o.length < 1)
        return false;
      const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;
      if (t && e.includes(i.tagName) || i.closest('[contenteditable="true"]') === null)
        return false;
      const r = this.Editor.BlockManager.getBlock(t.anchorNode);
      return r ? r.tool.inlineTools.size !== 0 : false;
    }
    recalculateWidth() {
      this.width = this.nodes.wrapper.offsetWidth;
    }
    addConversionToggler() {
      this.nodes.conversionToggler = d.make("div", this.CSS.conversionToggler), this.nodes.conversionTogglerContent = d.make("div", this.CSS.conversionTogglerContent);
      const e = d.make("div", this.CSS.conversionTogglerArrow, {
        innerHTML: pt
      });
      this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent), this.nodes.conversionToggler.appendChild(e), this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler), this.listeners.on(this.nodes.conversionToggler, "click", () => {
        this.Editor.ConversionToolbar.toggle((t) => {
          !t && this.opened ? this.flipper.activate() : this.opened && this.flipper.deactivate();
        });
      }), ee() === false && this.tooltip.onHover(this.nodes.conversionToggler, $2.ui(X.ui.inlineToolbar.converter, "Convert to"), {
        placement: "top",
        hidingDelay: 100
      });
    }
    async setConversionTogglerContent() {
      const { BlockManager: e } = this.Editor, { currentBlock: t } = e, o = t.name, i = t.tool.conversionConfig, n = i && i.export;
      this.nodes.conversionToggler.hidden = !n, this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden, !n);
      const r = await t.getActiveToolboxEntry() || {};
      this.nodes.conversionTogglerContent.innerHTML = r.icon || r.title || ke(o);
    }
    prepareConversionToolbar() {
      const e = this.Editor.ConversionToolbar.make();
      d.append(this.nodes.wrapper, e);
    }
    addToolsFiltered() {
      const e = m.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode);
      this.nodes.buttons.innerHTML = "", this.nodes.actions.innerHTML = "", this.toolsInstances = /* @__PURE__ */ new Map(), Array.from(t.tool.inlineTools.values()).forEach((o) => {
        this.addTool(o);
      }), this.recalculateWidth();
    }
    addTool(e) {
      const t = e.create(), o = t.render();
      if (!o) {
        T("Render method must return an instance of Node", "warn", e.name);
        return;
      }
      if (o.dataset.tool = e.name, this.nodes.buttons.appendChild(o), this.toolsInstances.set(e.name, t), D(t.renderActions)) {
        const a = t.renderActions();
        this.nodes.actions.appendChild(a);
      }
      this.listeners.on(o, "click", (a) => {
        this.toolClicked(t), a.preventDefault();
      });
      const i = this.getToolShortcut(e.name);
      if (i)
        try {
          this.enableShortcuts(t, i);
        } catch (e2) {
        }
      const n = d.make("div"), r = $2.t(
        X.toolNames,
        e.title || ke(e.name)
      );
      n.appendChild(d.text(r)), i && n.appendChild(d.make("div", this.CSS.inlineToolbarShortcut, {
        textContent: nt(i)
      })), ee() === false && this.tooltip.onHover(o, n, {
        placement: "top",
        hidingDelay: 100
      }), t.checkState(m.get());
    }
    getToolShortcut(e) {
      const { Tools: t } = this.Editor, o = t.inlineTools.get(e), i = t.internal.inlineTools;
      return Array.from(i.keys()).includes(e) ? this.inlineTools[e][kt.Shortcut] : o.shortcut;
    }
    enableShortcuts(e, t) {
      re.add({
        name: t,
        handler: (o) => {
          const { currentBlock: i } = this.Editor.BlockManager;
          i && i.tool.enabledInlineTools && (o.preventDefault(), this.toolClicked(e));
        },
        on: this.Editor.UI.nodes.redactor
      });
    }
    toolClicked(e) {
      const t = m.range;
      e.surround(t), this.checkToolsState(), e.renderActions !== void 0 && this.flipper.deactivate();
    }
    checkToolsState() {
      this.toolsInstances.forEach((e) => {
        e.checkState(m.get());
      });
    }
    get inlineTools() {
      const e = {};
      return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o]) => {
        e[t] = o.create();
      }), e;
    }
    enableFlipper() {
      this.flipper = new G({
        focusedItemClass: this.CSS.focusedButton,
        allowedKeys: [
          B.ENTER,
          B.TAB
        ]
      });
    }
  };
  var $o = class extends S {
    keydown(e) {
      switch (this.beforeKeydownProcessing(e), e.keyCode) {
        case B.BACKSPACE:
          this.backspace(e);
          break;
        case B.ENTER:
          this.enter(e);
          break;
        case B.DOWN:
        case B.RIGHT:
          this.arrowRightAndDown(e);
          break;
        case B.UP:
        case B.LEFT:
          this.arrowLeftAndUp(e);
          break;
        case B.TAB:
          this.tabPressed(e);
          break;
      }
    }
    beforeKeydownProcessing(e) {
      this.needToolbarClosing(e) && tt(e.keyCode) && (this.Editor.Toolbar.close(), this.Editor.ConversionToolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || (this.Editor.BlockManager.clearFocused(), this.Editor.BlockSelection.clearSelection(e)));
    }
    keyup(e) {
      e.shiftKey || this.Editor.UI.checkEmptiness();
    }
    tabPressed(e) {
      this.Editor.BlockSelection.clearSelection(e);
      const { BlockManager: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor, n = t.currentBlock;
      if (!n)
        return;
      const r = n.isEmpty, a = n.tool.isDefault && r, l = !r && i.opened, c = !r && !m.isCollapsed && o.opened;
      a ? this.activateToolbox() : !l && !c && this.activateBlockSettings();
    }
    dragOver(e) {
      const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
      t.dropTarget = true;
    }
    dragLeave(e) {
      const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
      t.dropTarget = false;
    }
    handleCommandC(e) {
      const { BlockSelection: t } = this.Editor;
      t.anyBlockSelected && t.copySelectedBlocks(e);
    }
    handleCommandX(e) {
      const { BlockSelection: t, BlockManager: o, Caret: i } = this.Editor;
      t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {
        const n = o.removeSelectedBlocks(), r = o.insertDefaultBlockAtIndex(n, true);
        i.setToBlock(r, i.positions.START), t.clearSelection(e);
      });
    }
    enter(e) {
      const { BlockManager: t, UI: o } = this.Editor;
      if (t.currentBlock.tool.isLineBreaksEnabled || o.someToolbarOpened && o.someFlipperButtonFocused || e.shiftKey)
        return;
      let n = this.Editor.BlockManager.currentBlock;
      this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : this.Editor.Caret.isAtEnd ? n = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : n = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(n), this.Editor.Toolbar.moveAndOpen(n), e.preventDefault();
    }
    backspace(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, n = t.currentBlock, r = n.tool;
      if (n.selected || n.isEmpty && n.currentInput === n.firstInput) {
        e.preventDefault();
        const c = t.currentBlockIndex;
        t.previousBlock && t.previousBlock.inputs.length === 0 ? t.removeBlock(c - 1) : t.removeBlock(), i.setToBlock(
          t.currentBlock,
          c ? i.positions.END : i.positions.START
        ), this.Editor.Toolbar.close(), o.clearSelection(e);
        return;
      }
      if (r.isLineBreaksEnabled && !i.isAtStart)
        return;
      const a = t.currentBlockIndex === 0;
      i.isAtStart && m.isCollapsed && n.currentInput === n.firstInput && !a && (e.preventDefault(), this.mergeBlocks());
    }
    mergeBlocks() {
      const { BlockManager: e, Caret: t, Toolbar: o } = this.Editor, i = e.previousBlock, n = e.currentBlock;
      if (n.name !== i.name || !i.mergeable) {
        if (i.inputs.length === 0 || i.isEmpty) {
          e.removeBlock(e.currentBlockIndex - 1), t.setToBlock(e.currentBlock), o.close();
          return;
        }
        t.navigatePrevious() && o.close();
        return;
      }
      t.createShadow(i.pluginsContent), e.mergeBlocks(i, n).then(() => {
        t.restoreCaret(i.pluginsContent), i.pluginsContent.normalize(), o.close();
      });
    }
    arrowRightAndDown(e) {
      const t = G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB);
      if (this.Editor.UI.someToolbarOpened && t)
        return;
      this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
      const o = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;
      if (e.shiftKey && e.keyCode === B.DOWN && o) {
        this.Editor.CrossBlockSelection.toggleBlockSelectedState();
        return;
      }
      (e.keyCode === B.DOWN || e.keyCode === B.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) ? e.preventDefault() : oe(() => {
        this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
      }, 20)(), this.Editor.BlockSelection.clearSelection(e);
    }
    arrowLeftAndUp(e) {
      if (this.Editor.UI.someToolbarOpened) {
        if (G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB))
          return;
        this.Editor.UI.closeAllToolbars();
      }
      this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
      const t = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;
      if (e.shiftKey && e.keyCode === B.UP && t) {
        this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);
        return;
      }
      (e.keyCode === B.UP || e.keyCode === B.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) ? e.preventDefault() : oe(() => {
        this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
      }, 20)(), this.Editor.BlockSelection.clearSelection(e);
    }
    needToolbarClosing(e) {
      const t = e.keyCode === B.ENTER && this.Editor.Toolbar.toolbox.opened, o = e.keyCode === B.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === B.ENTER && this.Editor.InlineToolbar.opened, n = e.keyCode === B.ENTER && this.Editor.ConversionToolbar.opened, r = e.keyCode === B.TAB;
      return !(e.shiftKey || r || t || o || i || n);
    }
    activateToolbox() {
      this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();
    }
    activateBlockSettings() {
      this.Editor.Toolbar.opened || (this.Editor.BlockManager.currentBlock.focused = true, this.Editor.Toolbar.moveAndOpen()), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();
    }
  };
  var Ce = class {
    constructor(e) {
      this.blocks = [], this.workingArea = e;
    }
    get length() {
      return this.blocks.length;
    }
    get array() {
      return this.blocks;
    }
    get nodes() {
      return it(this.workingArea.children);
    }
    static set(e, t, o) {
      return isNaN(Number(t)) ? (Reflect.set(e, t, o), true) : (e.insert(+t, o), true);
    }
    static get(e, t) {
      return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);
    }
    push(e) {
      this.blocks.push(e), this.insertToDOM(e);
    }
    swap(e, t) {
      const o = this.blocks[t];
      d.swap(this.blocks[e].holder, o.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o;
    }
    move(e, t) {
      const o = this.blocks.splice(t, 1)[0], i = e - 1, n = Math.max(0, i), r = this.blocks[n];
      e > 0 ? this.insertToDOM(o, "afterend", r) : this.insertToDOM(o, "beforebegin", r), this.blocks.splice(e, 0, o);
      const a = this.composeBlockEvent("move", {
        fromIndex: t,
        toIndex: e
      });
      o.call(q.MOVED, a);
    }
    insert(e, t, o = false) {
      if (!this.length) {
        this.push(t);
        return;
      }
      e > this.length && (e = this.length), o && (this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED));
      const i = o ? 1 : 0;
      if (this.blocks.splice(e, i, t), e > 0) {
        const n = this.blocks[e - 1];
        this.insertToDOM(t, "afterend", n);
      } else {
        const n = this.blocks[e + 1];
        n ? this.insertToDOM(t, "beforebegin", n) : this.insertToDOM(t);
      }
    }
    remove(e) {
      isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED), this.blocks.splice(e, 1);
    }
    removeAll() {
      this.workingArea.innerHTML = "", this.blocks.forEach((e) => e.call(q.REMOVED)), this.blocks.length = 0;
    }
    insertAfter(e, t) {
      const o = this.blocks.indexOf(e);
      this.insert(o + 1, t);
    }
    get(e) {
      return this.blocks[e];
    }
    indexOf(e) {
      return this.blocks.indexOf(e);
    }
    insertToDOM(e, t, o) {
      t ? o.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(q.RENDERED);
    }
    composeBlockEvent(e, t) {
      return new CustomEvent(e, {
        detail: t
      });
    }
  };
  var Je = "block-removed";
  var Qe = "block-added";
  var Wo = "block-moved";
  var Yo = "block-changed";
  var Ko = class extends S {
    constructor() {
      super(...arguments), this._currentBlockIndex = -1, this._blocks = null;
    }
    get currentBlockIndex() {
      return this._currentBlockIndex;
    }
    set currentBlockIndex(e) {
      this._currentBlockIndex = e;
    }
    get firstBlock() {
      return this._blocks[0];
    }
    get lastBlock() {
      return this._blocks[this._blocks.length - 1];
    }
    get currentBlock() {
      return this._blocks[this.currentBlockIndex];
    }
    set currentBlock(e) {
      this.currentBlockIndex = this.getBlockIndex(e);
    }
    get nextBlock() {
      return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];
    }
    get nextContentfulBlock() {
      return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);
    }
    get previousContentfulBlock() {
      return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);
    }
    get previousBlock() {
      return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];
    }
    get blocks() {
      return this._blocks.array;
    }
    get isEditorEmpty() {
      return this.blocks.every((e) => e.isEmpty);
    }
    prepare() {
      const e = new Ce(this.Editor.UI.nodes.redactor);
      this._blocks = new Proxy(e, {
        set: Ce.set,
        get: Ce.get
      }), this.listeners.on(
        document,
        "copy",
        (t) => this.Editor.BlockEvents.handleCommandC(t)
      );
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    composeBlock({
      tool: e,
      data: t = {},
      id: o = void 0,
      tunes: i = {}
    }) {
      const n = this.Editor.ReadOnly.isEnabled, r = this.Editor.Tools.blockTools.get(e), a = new F({
        id: o,
        data: t,
        tool: r,
        api: this.Editor.API,
        readOnly: n,
        tunesData: i
      }, this.eventsDispatcher);
      return n || this.bindBlockEvents(a), a;
    }
    insert({
      id: e = void 0,
      tool: t = this.config.defaultBlock,
      data: o = {},
      index: i,
      needToFocus: n = true,
      replace: r = false,
      tunes: a = {}
    } = {}) {
      let l = i;
      l === void 0 && (l = this.currentBlockIndex + (r ? 0 : 1));
      const c = this.composeBlock({
        id: e,
        tool: t,
        data: o,
        tunes: a
      });
      return r && this.blockDidMutated(Je, this.getBlockByIndex(l), {
        index: l
      }), this._blocks.insert(l, c, r), this.blockDidMutated(Qe, c, {
        index: l
      }), n ? this.currentBlockIndex = l : l <= this.currentBlockIndex && this.currentBlockIndex++, c;
    }
    replace({
      tool: e = this.config.defaultBlock,
      data: t = {}
    }) {
      return this.insert({
        tool: e,
        data: t,
        index: this.currentBlockIndex,
        replace: true
      });
    }
    paste(e, t, o = false) {
      const i = this.insert({
        tool: e,
        replace: o
      });
      try {
        i.call(q.ON_PASTE, t);
      } catch (n) {
        T(`${e}: onPaste callback call is failed`, "error", n);
      }
      return i;
    }
    insertDefaultBlockAtIndex(e, t = false) {
      const o = this.composeBlock({ tool: this.config.defaultBlock });
      return this._blocks[e] = o, this.blockDidMutated(Qe, o, {
        index: e
      }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o;
    }
    insertAtEnd() {
      return this.currentBlockIndex = this.blocks.length - 1, this.insert();
    }
    async mergeBlocks(e, t) {
      const o = this._blocks.indexOf(t);
      if (t.isEmpty)
        return;
      const i = await t.data;
      V(i) || await e.mergeWith(i), this.removeBlock(o), this.currentBlockIndex = this._blocks.indexOf(e);
    }
    removeBlock(e = this.currentBlockIndex) {
      if (!this.validateIndex(e))
        throw new Error("Can't find a Block to remove");
      const t = this._blocks[e];
      t.destroy(), this._blocks.remove(e), this.blockDidMutated(Je, t, {
        index: e
      }), this.currentBlockIndex >= e && this.currentBlockIndex--, this.blocks.length ? e === 0 && (this.currentBlockIndex = 0) : (this.currentBlockIndex = -1, this.insert());
    }
    removeSelectedBlocks() {
      let e;
      for (let t = this.blocks.length - 1; t >= 0; t--)
        this.blocks[t].selected && (this.removeBlock(t), e = t);
      return e;
    }
    removeAllBlocks() {
      for (let e = this.blocks.length - 1; e >= 0; e--)
        this._blocks.remove(e);
      this.currentBlockIndex = -1, this.insert(), this.currentBlock.firstInput.focus();
    }
    split() {
      const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make("div");
      t.appendChild(e);
      const o = {
        text: d.isEmpty(t) ? "" : t.innerHTML
      };
      return this.insert({ data: o });
    }
    getBlockByIndex(e) {
      return e === -1 && (e = this._blocks.length - 1), this._blocks[e];
    }
    getBlockIndex(e) {
      return this._blocks.indexOf(e);
    }
    getBlockById(e) {
      return this._blocks.array.find((t) => t.id === e);
    }
    getBlock(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = this._blocks.nodes, o = e.closest(`.${F.CSS.wrapper}`), i = t.indexOf(o);
      if (i >= 0)
        return this._blocks[i];
    }
    highlightCurrentNode() {
      this.clearFocused(), this.currentBlock.focused = true;
    }
    clearFocused() {
      this.blocks.forEach((e) => {
        e.focused = false;
      });
    }
    setCurrentBlockByChildNode(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = e.closest(`.${F.CSS.wrapper}`);
      if (!t)
        return;
      const o = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);
      if (o != null && o.isEqualNode(this.Editor.UI.nodes.wrapper))
        return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;
    }
    getBlockByChildNode(e) {
      d.isElement(e) || (e = e.parentNode);
      const t = e.closest(`.${F.CSS.wrapper}`);
      return this.blocks.find((o) => o.holder === t);
    }
    swap(e, t) {
      this._blocks.swap(e, t), this.currentBlockIndex = t;
    }
    move(e, t = this.currentBlockIndex) {
      if (isNaN(e) || isNaN(t)) {
        T("Warning during 'move' call: incorrect indices provided.", "warn");
        return;
      }
      if (!this.validateIndex(e) || !this.validateIndex(t)) {
        T("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.", "warn");
        return;
      }
      this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(Wo, this.currentBlock, {
        fromIndex: t,
        toIndex: e
      });
    }
    dropPointer() {
      this.currentBlockIndex = -1, this.clearFocused();
    }
    clear(e = false) {
      this._blocks.removeAll(), this.dropPointer(), e && this.insert(), this.Editor.UI.checkEmptiness();
    }
    async destroy() {
      await Promise.all(this.blocks.map((e) => e.destroy()));
    }
    bindBlockEvents(e) {
      const { BlockEvents: t } = this.Editor;
      this.readOnlyMutableListeners.on(e.holder, "keydown", (o) => {
        t.keydown(o);
      }), this.readOnlyMutableListeners.on(e.holder, "keyup", (o) => {
        t.keyup(o);
      }), this.readOnlyMutableListeners.on(e.holder, "dragover", (o) => {
        t.dragOver(o);
      }), this.readOnlyMutableListeners.on(e.holder, "dragleave", (o) => {
        t.dragLeave(o);
      }), e.on("didMutated", (o) => this.blockDidMutated(Yo, o, {
        index: this.getBlockIndex(o)
      }));
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(
        document,
        "cut",
        (e) => this.Editor.BlockEvents.handleCommandX(e)
      ), this.blocks.forEach((e) => {
        this.bindBlockEvents(e);
      });
    }
    validateIndex(e) {
      return !(e < 0 || e >= this._blocks.length);
    }
    blockDidMutated(e, t, o) {
      const i = new CustomEvent(e, {
        detail: __spreadValues({
          target: new he(t)
        }, o)
      });
      return this.eventsDispatcher.emit(lt, {
        event: i
      }), t;
    }
  };
  var Xo = class extends S {
    constructor() {
      super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
    }
    get sanitizerConfig() {
      return {
        p: {},
        h1: {},
        h2: {},
        h3: {},
        h4: {},
        h5: {},
        h6: {},
        ol: {},
        ul: {},
        li: {},
        br: true,
        img: {
          src: true,
          width: true,
          height: true
        },
        a: {
          href: true
        },
        b: {},
        i: {},
        u: {}
      };
    }
    get allBlocksSelected() {
      const { BlockManager: e } = this.Editor;
      return e.blocks.every((t) => t.selected === true);
    }
    set allBlocksSelected(e) {
      const { BlockManager: t } = this.Editor;
      t.blocks.forEach((o) => {
        o.selected = e;
      }), this.clearCache();
    }
    get anyBlockSelected() {
      const { BlockManager: e } = this.Editor;
      return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === true)), this.anyBlockSelectedCache;
    }
    get selectedBlocks() {
      return this.Editor.BlockManager.blocks.filter((e) => e.selected);
    }
    prepare() {
      this.selection = new m(), re.add({
        name: "CMD+A",
        handler: (e) => {
          const { BlockManager: t, ReadOnly: o } = this.Editor;
          if (o.isEnabled) {
            e.preventDefault(), this.selectAllBlocks();
            return;
          }
          t.currentBlock && this.handleCommandA(e);
        },
        on: this.Editor.UI.nodes.redactor
      });
    }
    toggleReadOnly() {
      m.get().removeAllRanges(), this.allBlocksSelected = false;
    }
    unSelectBlockByIndex(e) {
      const { BlockManager: t } = this.Editor;
      let o;
      isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), o.selected = false, this.clearCache();
    }
    clearSelection(e, t = false) {
      const { BlockManager: o, Caret: i, RectangleSelection: n } = this.Editor;
      this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
      const r = e && e instanceof KeyboardEvent, a = r && tt(e.keyCode);
      if (this.anyBlockSelected && r && a && !m.isSelectionExists) {
        const l = o.removeSelectedBlocks();
        o.insertDefaultBlockAtIndex(l, true), i.setToBlock(o.currentBlock), oe(() => {
          const c = e.key;
          i.insertContentAtCaretPosition(c.length > 1 ? "" : c);
        }, 20)();
      }
      if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || n.isRectActivated()) {
        this.Editor.RectangleSelection.clearSelection();
        return;
      }
      t && this.selection.restore(), this.allBlocksSelected = false;
    }
    copySelectedBlocks(e) {
      e.preventDefault();
      const t = d.make("div");
      this.selectedBlocks.forEach((n) => {
        const r = Z(n.holder.innerHTML, this.sanitizerConfig), a = d.make("p");
        a.innerHTML = r, t.appendChild(a);
      });
      const o = Array.from(t.childNodes).map((n) => n.textContent).join(`

`), i = t.innerHTML;
      return e.clipboardData.setData("text/plain", o), e.clipboardData.setData("text/html", i), Promise.all(this.selectedBlocks.map((n) => n.save())).then((n) => {
        try {
          e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(n));
        } catch (e2) {
        }
      });
    }
    selectBlockByIndex(e) {
      const { BlockManager: t } = this.Editor;
      t.clearFocused();
      let o;
      isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), this.selection.save(), m.get().removeAllRanges(), o.selected = true, this.clearCache(), this.Editor.InlineToolbar.close();
    }
    clearCache() {
      this.anyBlockSelectedCache = null;
    }
    destroy() {
      re.remove(this.Editor.UI.nodes.redactor, "CMD+A");
    }
    handleCommandA(e) {
      if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {
        this.readyToBlockSelection = true;
        return;
      }
      const o = this.Editor.BlockManager.getBlock(e.target).inputs;
      if (o.length > 1 && !this.readyToBlockSelection) {
        this.readyToBlockSelection = true;
        return;
      }
      if (o.length === 1 && !this.needToSelectAll) {
        this.needToSelectAll = true;
        return;
      }
      this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = false, this.readyToBlockSelection = false, this.Editor.ConversionToolbar.close()) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlockByIndex(), this.needToSelectAll = true);
    }
    selectAllBlocks() {
      this.selection.save(), m.get().removeAllRanges(), this.allBlocksSelected = true, this.Editor.InlineToolbar.close();
    }
  };
  var ve = class extends S {
    get positions() {
      return {
        START: "start",
        END: "end",
        DEFAULT: "default"
      };
    }
    static get CSS() {
      return {
        shadowCaret: "cdx-shadow-caret"
      };
    }
    get isAtStart() {
      const e = m.get(), t = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);
      let o = e.focusNode;
      if (d.isNativeInput(t))
        return t.selectionEnd === 0;
      if (!e.anchorNode)
        return false;
      let i = o.textContent.search(/\S/);
      i === -1 && (i = 0);
      let n = e.focusOffset;
      return o.nodeType !== Node.TEXT_NODE && o.childNodes.length && (o.childNodes[n] ? (o = o.childNodes[n], n = 0) : (o = o.childNodes[n - 1], n = o.textContent.length)), (d.isLineBreakTag(t) || d.isEmpty(t)) && this.getHigherLevelSiblings(o, "left").every((l) => {
        const c = d.isLineBreakTag(l), u = l.children.length === 1 && d.isLineBreakTag(l.children[0]), h = c || u;
        return d.isEmpty(l) && !h;
      }) && n === i ? true : t === null || o === t && n <= i;
    }
    get isAtEnd() {
      const e = m.get();
      let t = e.focusNode;
      const o = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);
      if (d.isNativeInput(o))
        return o.selectionEnd === o.value.length;
      if (!e.focusNode)
        return false;
      let i = e.focusOffset;
      if (t.nodeType !== Node.TEXT_NODE && t.childNodes.length && (t.childNodes[i - 1] ? (t = t.childNodes[i - 1], i = t.textContent.length) : (t = t.childNodes[0], i = 0)), d.isLineBreakTag(o) || d.isEmpty(o)) {
        const r = this.getHigherLevelSiblings(t, "right");
        if (r.every((l, c) => c === r.length - 1 && d.isLineBreakTag(l) || d.isEmpty(l) && !d.isLineBreakTag(l)) && i === t.textContent.length)
          return true;
      }
      const n = o.textContent.replace(/\s+$/, "");
      return t === o && i >= n.length;
    }
    setToBlock(e, t = this.positions.DEFAULT, o = 0) {
      const { BlockManager: i } = this.Editor;
      let n;
      switch (t) {
        case this.positions.START:
          n = e.firstInput;
          break;
        case this.positions.END:
          n = e.lastInput;
          break;
        default:
          n = e.currentInput;
      }
      if (!n)
        return;
      const r = d.getDeepestNode(n, t === this.positions.END), a = d.getContentLength(r);
      switch (true) {
        case t === this.positions.START:
          o = 0;
          break;
        case t === this.positions.END:
        case o > a:
          o = a;
          break;
      }
      oe(() => {
        this.set(r, o);
      }, 20)(), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = n;
    }
    setToInput(e, t = this.positions.DEFAULT, o = 0) {
      const { currentBlock: i } = this.Editor.BlockManager, n = d.getDeepestNode(e);
      switch (t) {
        case this.positions.START:
          this.set(n, 0);
          break;
        case this.positions.END:
          this.set(n, d.getContentLength(n));
          break;
        default:
          o && this.set(n, o);
      }
      i.currentInput = e;
    }
    set(e, t = 0) {
      const { top: o, bottom: i } = m.setCursor(e, t), { innerHeight: n } = window;
      o < 0 && window.scrollBy(0, o), i > n && window.scrollBy(0, i - n);
    }
    setToTheLastBlock() {
      const e = this.Editor.BlockManager.lastBlock;
      if (e)
        if (e.tool.isDefault && e.isEmpty)
          this.setToBlock(e);
        else {
          const t = this.Editor.BlockManager.insertAtEnd();
          this.setToBlock(t);
        }
    }
    extractFragmentFromCaretPosition() {
      const e = m.get();
      if (e.rangeCount) {
        const t = e.getRangeAt(0), o = this.Editor.BlockManager.currentBlock.currentInput;
        if (t.deleteContents(), o)
          if (d.isNativeInput(o)) {
            const i = o, n = document.createDocumentFragment(), r = i.value.substring(0, i.selectionStart), a = i.value.substring(i.selectionStart);
            return n.textContent = a, i.value = r, n;
          } else {
            const i = t.cloneRange();
            return i.selectNodeContents(o), i.setStart(t.endContainer, t.endOffset), i.extractContents();
          }
      }
    }
    navigateNext() {
      const { BlockManager: e } = this.Editor, { currentBlock: t, nextContentfulBlock: o } = e, { nextInput: i } = t, n = this.isAtEnd;
      let r = o;
      if (!r && !i) {
        if (t.tool.isDefault || !n)
          return false;
        r = e.insertAtEnd();
      }
      return n ? (i ? this.setToInput(i, this.positions.START) : this.setToBlock(r, this.positions.START), true) : false;
    }
    navigatePrevious() {
      const { currentBlock: e, previousContentfulBlock: t } = this.Editor.BlockManager;
      if (!e)
        return false;
      const { previousInput: o } = e;
      return !t && !o ? false : this.isAtStart ? (o ? this.setToInput(o, this.positions.END) : this.setToBlock(t, this.positions.END), true) : false;
    }
    createShadow(e) {
      const t = document.createElement("span");
      t.classList.add(ve.CSS.shadowCaret), e.insertAdjacentElement("beforeend", t);
    }
    restoreCaret(e) {
      const t = e.querySelector(`.${ve.CSS.shadowCaret}`);
      if (!t)
        return;
      new m().expandToTag(t), setTimeout(() => {
        const i = document.createRange();
        i.selectNode(t), i.extractContents();
      }, 50);
    }
    insertContentAtCaretPosition(e) {
      const t = document.createDocumentFragment(), o = document.createElement("div"), i = m.get(), n = m.range;
      o.innerHTML = e, Array.from(o.childNodes).forEach((l) => t.appendChild(l)), t.childNodes.length === 0 && t.appendChild(new Text());
      const r = t.lastChild;
      n.deleteContents(), n.insertNode(t);
      const a = document.createRange();
      a.setStart(r, r.textContent.length), i.removeAllRanges(), i.addRange(a);
    }
    getHigherLevelSiblings(e, t) {
      let o = e;
      const i = [];
      for (; o.parentNode && o.parentNode.contentEditable !== "true"; )
        o = o.parentNode;
      const n = t === "left" ? "previousSibling" : "nextSibling";
      for (; o[n]; )
        o = o[n], i.push(o);
      return i;
    }
  };
  var Vo = class extends S {
    constructor() {
      super(...arguments), this.onMouseUp = () => {
        this.listeners.off(document, "mouseover", this.onMouseOver), this.listeners.off(document, "mouseup", this.onMouseUp);
      }, this.onMouseOver = (e) => {
        const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, n = t.getBlockByChildNode(e.target);
        if (!(!i || !n) && n !== i) {
          if (i === this.firstSelectedBlock) {
            m.get().removeAllRanges(), i.selected = true, n.selected = true, o.clearCache();
            return;
          }
          if (n === this.firstSelectedBlock) {
            i.selected = false, n.selected = false, o.clearCache();
            return;
          }
          this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, n), this.lastSelectedBlock = n;
        }
      };
    }
    async prepare() {
      this.listeners.on(document, "mousedown", (e) => {
        this.enableCrossBlockSelection(e);
      });
    }
    watchSelection(e) {
      if (e.button !== _t.LEFT)
        return;
      const { BlockManager: t } = this.Editor;
      this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, "mouseover", this.onMouseOver), this.listeners.on(document, "mouseup", this.onMouseUp);
    }
    get isCrossBlockSelectionStarted() {
      return !!this.firstSelectedBlock && !!this.lastSelectedBlock;
    }
    toggleBlockSelectedState(e = true) {
      const { BlockManager: t, BlockSelection: o } = this.Editor;
      this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = true, o.clearCache(), m.get().removeAllRanges());
      const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), n = t.blocks[i];
      n && (this.lastSelectedBlock.selected !== n.selected ? (n.selected = true, o.clearCache()) : (this.lastSelectedBlock.selected = false, o.clearCache()), this.lastSelectedBlock = n, this.Editor.InlineToolbar.close(), n.holder.scrollIntoView({
        block: "nearest"
      }));
    }
    clear(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, n = t.blocks.indexOf(this.firstSelectedBlock), r = t.blocks.indexOf(this.lastSelectedBlock);
      if (o.anyBlockSelected && n > -1 && r > -1)
        if (e && e instanceof KeyboardEvent)
          switch (e.keyCode) {
            case B.DOWN:
            case B.RIGHT:
              i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
              break;
            case B.UP:
            case B.LEFT:
              i.setToBlock(t.blocks[Math.min(n, r)], i.positions.START);
              break;
            default:
              i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
          }
        else
          i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
      this.firstSelectedBlock = this.lastSelectedBlock = null;
    }
    enableCrossBlockSelection(e) {
      const { UI: t } = this.Editor;
      m.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);
    }
    toggleBlocksSelectedState(e, t) {
      const { BlockManager: o, BlockSelection: i } = this.Editor, n = o.blocks.indexOf(e), r = o.blocks.indexOf(t), a = e.selected !== t.selected;
      for (let l = Math.min(n, r); l <= Math.max(n, r); l++) {
        const c = o.blocks[l];
        c !== this.firstSelectedBlock && c !== (a ? e : t) && (o.blocks[l].selected = !o.blocks[l].selected, i.clearCache());
      }
    }
  };
  var Zo = class extends S {
    constructor() {
      super(...arguments), this.isStartedAtEditor = false;
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    enableModuleBindings() {
      const { UI: e } = this.Editor;
      this.readOnlyMutableListeners.on(e.nodes.holder, "drop", async (t) => {
        await this.processDrop(t);
      }, true), this.readOnlyMutableListeners.on(e.nodes.holder, "dragstart", () => {
        this.processDragStart();
      }), this.readOnlyMutableListeners.on(e.nodes.holder, "dragover", (t) => {
        this.processDragOver(t);
      }, true);
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    async processDrop(e) {
      const {
        BlockManager: t,
        Caret: o,
        Paste: i
      } = this.Editor;
      e.preventDefault(), t.blocks.forEach((r) => {
        r.dropTarget = false;
      }), m.isAtEditor && !m.isCollapsed && this.isStartedAtEditor && document.execCommand("delete"), this.isStartedAtEditor = false;
      const n = t.setCurrentBlockByChildNode(e.target);
      if (n)
        this.Editor.Caret.setToBlock(n, o.positions.END);
      else {
        const r = t.setCurrentBlockByChildNode(t.lastBlock.holder);
        this.Editor.Caret.setToBlock(r, o.positions.END);
      }
      await i.processDataTransfer(e.dataTransfer, true);
    }
    processDragStart() {
      m.isAtEditor && !m.isCollapsed && (this.isStartedAtEditor = true), this.Editor.InlineToolbar.close();
    }
    processDragOver(e) {
      e.preventDefault();
    }
  };
  var Go = class extends S {
    constructor({ config: e, eventsDispatcher: t }) {
      super({
        config: e,
        eventsDispatcher: t
      }), this.disabled = false, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = 400, this.mutationObserver = new MutationObserver((o) => {
        this.redactorChanged(o);
      }), this.eventsDispatcher.on(lt, (o) => {
        this.particularBlockChanged(o.event);
      }), this.eventsDispatcher.on(ct, () => {
        this.disable();
      }), this.eventsDispatcher.on(dt, () => {
        this.enable();
      });
    }
    enable() {
      this.mutationObserver.observe(
        this.Editor.UI.nodes.redactor,
        {
          childList: true,
          subtree: true,
          characterData: true,
          attributes: true
        }
      ), this.disabled = false;
    }
    disable() {
      this.mutationObserver.disconnect(), this.disabled = true;
    }
    particularBlockChanged(e) {
      this.disabled || !D(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {
        let t;
        this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();
      }, this.batchTime));
    }
    redactorChanged(e) {
      this.eventsDispatcher.emit(Me, {
        mutations: e
      });
    }
  };
  var xt = class extends S {
    constructor() {
      super(...arguments), this.MIME_TYPE = "application/x-editor-js", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (s) => {
        try {
          const e = s.create({}, {}, false);
          if (s.pasteConfig === false) {
            this.exceptionList.push(s.name);
            return;
          }
          if (!D(e.onPaste))
            return;
          this.getTagsConfig(s), this.getFilesConfig(s), this.getPatternsConfig(s);
        } catch (e) {
          T(
            `Paste handling for \xAB${s.name}\xBB Tool hasn't been set up because of the error`,
            "warn",
            e
          );
        }
      }, this.handlePasteEvent = async (s) => {
        const { BlockManager: e, Toolbar: t } = this.Editor;
        !e.currentBlock || this.isNativeBehaviour(s.target) && !s.clipboardData.types.includes("Files") || e.currentBlock && this.exceptionList.includes(e.currentBlock.name) || (s.preventDefault(), this.processDataTransfer(s.clipboardData), e.clearFocused(), t.close());
      };
    }
    async prepare() {
      this.processTools();
    }
    toggleReadOnly(s) {
      s ? this.unsetCallback() : this.setCallback();
    }
    async processDataTransfer(s, e = false) {
      const { Tools: t } = this.Editor, o = s.types;
      if ((o.includes ? o.includes("Files") : o.contains("Files")) && !V(this.toolsFiles)) {
        await this.processFiles(s.files);
        return;
      }
      const n = s.getData(this.MIME_TYPE), r = s.getData("text/plain");
      let a = s.getData("text/html");
      if (n)
        try {
          this.insertEditorJSData(JSON.parse(n));
          return;
        } catch (e2) {
        }
      e && r.trim() && a.trim() && (a = "<p>" + (a.trim() ? a : r) + "</p>");
      const l = Object.keys(this.toolsTags).reduce((h, f) => {
        var _a;
        return h[f.toLowerCase()] = (_a = this.toolsTags[f].sanitizationConfig) != null ? _a : {}, h;
      }, {}), c = Object.assign({}, l, t.getAllInlineToolsSanitizeConfig(), { br: {} }), u = Z(a, c);
      !u.trim() || u.trim() === r || !d.isHTMLString(u) ? await this.processText(r) : await this.processText(u, true);
    }
    async processText(s, e = false) {
      const { Caret: t, BlockManager: o } = this.Editor, i = e ? this.processHTML(s) : this.processPlain(s);
      if (!i.length)
        return;
      if (i.length === 1) {
        i[0].isBlock ? this.processSingleBlock(i.pop()) : this.processInlinePaste(i.pop());
        return;
      }
      const r = o.currentBlock && o.currentBlock.tool.isDefault && o.currentBlock.isEmpty;
      i.map(
        async (a, l) => this.insertBlock(a, l === 0 && r)
      ), o.currentBlock && t.setToBlock(o.currentBlock, t.positions.END);
    }
    setCallback() {
      this.listeners.on(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
    }
    unsetCallback() {
      this.listeners.off(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
    }
    processTools() {
      const s = this.Editor.Tools.blockTools;
      Array.from(s.values()).forEach(this.processTool);
    }
    collectTagNames(s) {
      return J(s) ? [s] : j(s) ? Object.keys(s) : [];
    }
    getTagsConfig(s) {
      if (s.pasteConfig === false)
        return;
      const e = s.pasteConfig.tags || [], t = [];
      e.forEach((o) => {
        const i = this.collectTagNames(o);
        t.push(...i), i.forEach((n) => {
          if (Object.prototype.hasOwnProperty.call(this.toolsTags, n)) {
            T(
              `Paste handler for \xAB${s.name}\xBB Tool on \xAB${n}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[n].tool.name}\xBB Tool.`,
              "warn"
            );
            return;
          }
          const r = j(o) ? o[n] : null;
          this.toolsTags[n.toUpperCase()] = {
            tool: s,
            sanitizationConfig: r
          };
        });
      }), this.tagsByTool[s.name] = t.map((o) => o.toUpperCase());
    }
    getFilesConfig(s) {
      if (s.pasteConfig === false)
        return;
      const { files: e = {} } = s.pasteConfig;
      let { extensions: t, mimeTypes: o } = e;
      !t && !o || (t && !Array.isArray(t) && (T(`\xABextensions\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), t = []), o && !Array.isArray(o) && (T(`\xABmimeTypes\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), o = []), o && (o = o.filter((i) => Dt(i) ? true : (T(`MIME type value \xAB${i}\xBB for the \xAB${s.name}\xBB Tool is not a valid MIME type`, "warn"), false))), this.toolsFiles[s.name] = {
        extensions: t || [],
        mimeTypes: o || []
      });
    }
    getPatternsConfig(s) {
      s.pasteConfig === false || !s.pasteConfig.patterns || V(s.pasteConfig.patterns) || Object.entries(s.pasteConfig.patterns).forEach(([e, t]) => {
        t instanceof RegExp || T(
          `Pattern ${t} for \xAB${s.name}\xBB Tool is skipped because it should be a Regexp instance.`,
          "warn"
        ), this.toolsPatterns.push({
          key: e,
          pattern: t,
          tool: s
        });
      });
    }
    isNativeBehaviour(s) {
      return d.isNativeInput(s);
    }
    async processFiles(s) {
      const { BlockManager: e } = this.Editor;
      let t;
      t = await Promise.all(
        Array.from(s).map((n) => this.processFile(n))
      ), t = t.filter((n) => !!n);
      const i = e.currentBlock.tool.isDefault && e.currentBlock.isEmpty;
      t.forEach(
        (n, r) => {
          e.paste(n.type, n.event, r === 0 && i);
        }
      );
    }
    async processFile(s) {
      const e = Rt(s), t = Object.entries(this.toolsFiles).find(([n, { mimeTypes: r, extensions: a }]) => {
        const [l, c] = s.type.split("/"), u = a.find((f) => f.toLowerCase() === e.toLowerCase()), h = r.find((f) => {
          const [v, p] = f.split("/");
          return v === l && (p === c || p === "*");
        });
        return !!u || !!h;
      });
      if (!t)
        return;
      const [o] = t;
      return {
        event: this.composePasteEvent("file", {
          file: s
        }),
        type: o
      };
    }
    processHTML(s) {
      const { Tools: e } = this.Editor, t = d.make("DIV");
      return t.innerHTML = s, this.getNodes(t).map((i) => {
        let n, r = e.defaultTool, a = false;
        switch (i.nodeType) {
          case Node.DOCUMENT_FRAGMENT_NODE:
            n = d.make("div"), n.appendChild(i);
            break;
          case Node.ELEMENT_NODE:
            n = i, a = true, this.toolsTags[n.tagName] && (r = this.toolsTags[n.tagName].tool);
            break;
        }
        const { tags: l } = r.pasteConfig || { tags: [] }, c = l.reduce((f, v) => (this.collectTagNames(v).forEach((k) => {
          const _ = j(v) ? v[k] : null;
          f[k.toLowerCase()] = _ || {};
        }), f), {}), u = Object.assign({}, c, r.baseSanitizeConfig);
        if (n.tagName.toLowerCase() === "table") {
          const f = Z(n.outerHTML, u);
          n = d.make("div", void 0, {
            innerHTML: f
          }).firstChild;
        } else
          n.innerHTML = Z(n.innerHTML, u);
        const h = this.composePasteEvent("tag", {
          data: n
        });
        return {
          content: n,
          isBlock: a,
          tool: r.name,
          event: h
        };
      }).filter((i) => {
        const n = d.isEmpty(i.content), r = d.isSingleTag(i.content);
        return !n || r;
      });
    }
    processPlain(s) {
      const { defaultBlock: e } = this.config;
      if (!s)
        return [];
      const t = e;
      return s.split(/\r?\n/).filter((o) => o.trim()).map((o) => {
        const i = d.make("div");
        i.textContent = o;
        const n = this.composePasteEvent("tag", {
          data: i
        });
        return {
          content: i,
          tool: t,
          isBlock: false,
          event: n
        };
      });
    }
    async processSingleBlock(s) {
      const { Caret: e, BlockManager: t } = this.Editor, { currentBlock: o } = t;
      if (!o || s.tool !== o.name || !d.containsOnlyInlineElements(s.content.innerHTML)) {
        this.insertBlock(s, (o == null ? void 0 : o.tool.isDefault) && o.isEmpty);
        return;
      }
      e.insertContentAtCaretPosition(s.content.innerHTML);
    }
    async processInlinePaste(s) {
      const { BlockManager: e, Caret: t } = this.Editor, { content: o } = s;
      if (e.currentBlock && e.currentBlock.tool.isDefault && o.textContent.length < xt.PATTERN_PROCESSING_MAX_LENGTH) {
        const n = await this.processPattern(o.textContent);
        if (n) {
          const r = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty, a = e.paste(n.tool, n.event, r);
          t.setToBlock(a, t.positions.END);
          return;
        }
      }
      if (e.currentBlock && e.currentBlock.currentInput) {
        const n = e.currentBlock.tool.baseSanitizeConfig;
        document.execCommand(
          "insertHTML",
          false,
          Z(o.innerHTML, n)
        );
      } else
        this.insertBlock(s);
    }
    async processPattern(s) {
      const e = this.toolsPatterns.find((o) => {
        const i = o.pattern.exec(s);
        return i ? s === i.shift() : false;
      });
      return e ? {
        event: this.composePasteEvent("pattern", {
          key: e.key,
          data: s
        }),
        tool: e.tool.name
      } : void 0;
    }
    insertBlock(s, e = false) {
      const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i } = t;
      let n;
      if (e && i && i.isEmpty) {
        n = t.paste(s.tool, s.event, true), o.setToBlock(n, o.positions.END);
        return;
      }
      n = t.paste(s.tool, s.event), o.setToBlock(n, o.positions.END);
    }
    insertEditorJSData(s) {
      const { BlockManager: e, Caret: t, Tools: o } = this.Editor;
      ht(
        s,
        (n) => o.blockTools.get(n).sanitizeConfig
      ).forEach(({ tool: n, data: r }, a) => {
        let l = false;
        a === 0 && (l = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty);
        const c = e.insert({
          tool: n,
          data: r,
          replace: l
        });
        t.setToBlock(c, t.positions.END);
      });
    }
    processElementNode(s, e, t) {
      const o = Object.keys(this.toolsTags), i = s, { tool: n } = this.toolsTags[i.tagName] || {}, r = this.tagsByTool[n == null ? void 0 : n.name] || [], a = o.includes(i.tagName), l = d.blockElements.includes(i.tagName.toLowerCase()), c = Array.from(i.children).some(
        ({ tagName: h }) => o.includes(h) && !r.includes(h)
      ), u = Array.from(i.children).some(
        ({ tagName: h }) => d.blockElements.includes(h.toLowerCase())
      );
      if (!l && !a && !c)
        return t.appendChild(i), [...e, t];
      if (a && !c || l && !u && !c)
        return [...e, t, i];
    }
    getNodes(s) {
      const e = Array.from(s.childNodes);
      let t;
      const o = (i, n) => {
        if (d.isEmpty(n) && !d.isSingleTag(n))
          return i;
        const r = i[i.length - 1];
        let a = new DocumentFragment();
        switch (r && d.isFragment(r) && (a = i.pop()), n.nodeType) {
          case Node.ELEMENT_NODE:
            if (t = this.processElementNode(n, i, a), t)
              return t;
            break;
          case Node.TEXT_NODE:
            return a.appendChild(n), [...i, a];
          default:
            return [...i, a];
        }
        return [...i, ...Array.from(n.childNodes).reduce(o, [])];
      };
      return e.reduce(o, []);
    }
    composePasteEvent(s, e) {
      return new CustomEvent(s, {
        detail: e
      });
    }
  };
  var wt = xt;
  wt.PATTERN_PROCESSING_MAX_LENGTH = 450;
  var qo = class extends S {
    constructor() {
      super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = false;
    }
    get isEnabled() {
      return this.readOnlyEnabled;
    }
    async prepare() {
      const { Tools: e } = this.Editor, { blockTools: t } = e, o = [];
      Array.from(t.entries()).forEach(([i, n]) => {
        n.isReadOnlySupported || o.push(i);
      }), this.toolsDontSupportReadOnly = o, this.config.readOnly && o.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly);
    }
    async toggle(e = !this.readOnlyEnabled) {
      e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();
      const t = this.readOnlyEnabled;
      this.readOnlyEnabled = e;
      for (const i in this.Editor)
        this.Editor[i].toggleReadOnly && this.Editor[i].toggleReadOnly(e);
      if (t === e)
        return this.readOnlyEnabled;
      const o = await this.Editor.Saver.save();
      return await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(o.blocks), this.readOnlyEnabled;
    }
    throwCriticalError() {
      throw new at(
        `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`
      );
    }
  };
  var pe = class extends S {
    constructor() {
      super(...arguments), this.isRectSelectionActivated = false, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = false, this.isScrolling = false, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];
    }
    static get CSS() {
      return {
        overlay: "codex-editor-overlay",
        overlayContainer: "codex-editor-overlay__container",
        rect: "codex-editor-overlay__rectangle",
        topScrollZone: "codex-editor-overlay__scroll-zone--top",
        bottomScrollZone: "codex-editor-overlay__scroll-zone--bottom"
      };
    }
    prepare() {
      this.enableModuleBindings();
    }
    startSelection(e, t) {
      const o = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);
      o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = false, this.clearSelection(), this.stackOfSelected = []);
      const n = [
        `.${F.CSS.content}`,
        `.${this.Editor.Toolbar.CSS.toolbar}`,
        `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`
      ], r = o.closest("." + this.Editor.UI.CSS.editorWrapper), a = n.some((l) => !!o.closest(l));
      !r || a || (this.mousedown = true, this.startX = e, this.startY = t);
    }
    endSelection() {
      this.mousedown = false, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = "none";
    }
    isRectActivated() {
      return this.isRectSelectionActivated;
    }
    clearSelection() {
      this.isRectSelectionActivated = false;
    }
    enableModuleBindings() {
      const { container: e } = this.genHTML();
      this.listeners.on(e, "mousedown", (t) => {
        this.processMouseDown(t);
      }, false), this.listeners.on(document.body, "mousemove", Te((t) => {
        this.processMouseMove(t);
      }, 10), {
        passive: true
      }), this.listeners.on(document.body, "mouseleave", () => {
        this.processMouseLeave();
      }), this.listeners.on(window, "scroll", Te((t) => {
        this.processScroll(t);
      }, 10), {
        passive: true
      }), this.listeners.on(document.body, "mouseup", () => {
        this.processMouseUp();
      }, false);
    }
    processMouseDown(e) {
      if (e.button !== this.MAIN_MOUSE_BUTTON)
        return;
      e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);
    }
    processMouseMove(e) {
      this.changingRectangle(e), this.scrollByZones(e.clientY);
    }
    processMouseLeave() {
      this.clearSelection(), this.endSelection();
    }
    processScroll(e) {
      this.changingRectangle(e);
    }
    processMouseUp() {
      this.clearSelection(), this.endSelection();
    }
    scrollByZones(e) {
      if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {
        this.isScrolling = false;
        return;
      }
      this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = true);
    }
    genHTML() {
      const { UI: e } = this.Editor, t = e.nodes.holder.querySelector("." + e.CSS.editorWrapper), o = d.make("div", pe.CSS.overlay, {}), i = d.make("div", pe.CSS.overlayContainer, {}), n = d.make("div", pe.CSS.rect, {});
      return i.appendChild(n), o.appendChild(i), t.appendChild(o), this.overlayRectangle = n, {
        container: t,
        overlay: o
      };
    }
    scrollVertical(e) {
      if (!(this.inScrollZone && this.mousedown))
        return;
      const t = window.pageYOffset;
      window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {
        this.scrollVertical(e);
      }, 0);
    }
    changingRectangle(e) {
      if (!this.mousedown)
        return;
      e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);
      const { rightPos: t, leftPos: o, index: i } = this.genInfoForMouseSelection(), n = this.startX > t && this.mouseX > t, r = this.startX < o && this.mouseX < o;
      this.rectCrossesBlocks = !(n || r), this.isRectSelectionActivated || (this.rectCrossesBlocks = false, this.isRectSelectionActivated = true, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = "block"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), m.get().removeAllRanges());
    }
    shrinkRectangleToPoint() {
      this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;
    }
    inverseSelection() {
      const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;
      if (this.rectCrossesBlocks && !t)
        for (const o of this.stackOfSelected)
          this.Editor.BlockSelection.selectBlockByIndex(o);
      if (!this.rectCrossesBlocks && t)
        for (const o of this.stackOfSelected)
          this.Editor.BlockSelection.unSelectBlockByIndex(o);
    }
    updateRectangleSize() {
      this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);
    }
    genInfoForMouseSelection() {
      const t = document.body.offsetWidth / 2, o = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o), n = this.Editor.BlockManager.getBlockByChildNode(i);
      let r;
      n !== void 0 && (r = this.Editor.BlockManager.blocks.findIndex((h) => h.holder === n.holder));
      const a = this.Editor.BlockManager.lastBlock.holder.querySelector("." + F.CSS.content), l = Number.parseInt(window.getComputedStyle(a).width, 10) / 2, c = t - l, u = t + l;
      return {
        index: r,
        leftPos: c,
        rightPos: u
      };
    }
    addBlockInSelection(e) {
      this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);
    }
    trySelectNextBlock(e) {
      const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o = this.stackOfSelected.length, i = 1, n = -1, r = 0;
      if (t)
        return;
      const a = this.stackOfSelected[o - 1] - this.stackOfSelected[o - 2] > 0;
      let l = r;
      o > 1 && (l = a ? i : n);
      const c = e > this.stackOfSelected[o - 1] && l === i, u = e < this.stackOfSelected[o - 1] && l === n, f = !(c || u || l === r);
      if (!f && (e > this.stackOfSelected[o - 1] || this.stackOfSelected[o - 1] === void 0)) {
        let k = this.stackOfSelected[o - 1] + 1 || e;
        for (k; k <= e; k++)
          this.addBlockInSelection(k);
        return;
      }
      if (!f && e < this.stackOfSelected[o - 1]) {
        for (let k = this.stackOfSelected[o - 1] - 1; k >= e; k--)
          this.addBlockInSelection(k);
        return;
      }
      if (!f)
        return;
      let v = o - 1, p;
      for (e > this.stackOfSelected[o - 1] ? p = () => e > this.stackOfSelected[v] : p = () => e < this.stackOfSelected[v]; p(); )
        this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[v]), this.stackOfSelected.pop(), v--;
    }
  };
  var Jo = class extends S {
    async render(e) {
      const t = e.map((i) => ({ function: () => this.insertBlock(i) }));
      this.Editor.ModificationsObserver.disable();
      const o = await ot(t);
      return this.Editor.ModificationsObserver.enable(), this.Editor.UI.checkEmptiness(), o;
    }
    async insertBlock(e) {
      var l;
      const { Tools: t, BlockManager: o } = this.Editor, { type: i, data: n, tunes: r, id: a } = e;
      if (t.available.has(i))
        try {
          o.insert({
            id: a,
            tool: i,
            data: n,
            tunes: r
          });
        } catch (c) {
          throw T(`Block \xAB${i}\xBB skipped because of plugins error`, "warn", {
            data: n,
            error: c
          }), Error(c);
        }
      else {
        const c = {
          savedData: {
            id: a,
            type: i,
            data: n
          },
          title: i
        };
        if (t.unavailable.has(i)) {
          const f = (l = t.unavailable.get(i).toolbox[0]) == null ? void 0 : l.title;
          c.title = f || c.title;
        }
        const u = o.insert({
          id: a,
          tool: t.stubTool,
          data: c
        });
        u.stretched = true, T(`Tool \xAB${i}\xBB is not found. Check 'tools' property at your initial Editor.js config.`, "warn");
      }
    }
  };
  var Qo = class extends S {
    async save() {
      const { BlockManager: e, Tools: t } = this.Editor, o = e.blocks, i = [];
      try {
        o.forEach((a) => {
          i.push(this.getSavedData(a));
        });
        const n = await Promise.all(i), r = await ht(n, (a) => t.blockTools.get(a).sanitizeConfig);
        return this.makeOutput(r);
      } catch (n) {
        K("Saving failed due to the Error %o", "error", n);
      }
    }
    async getSavedData(e) {
      const t = await e.save(), o = t && await e.validate(t.data);
      return __spreadProps(__spreadValues({}, t), {
        isValid: o
      });
    }
    makeOutput(e) {
      let t = 0;
      const o = [];
      return T("[Editor.js saving]:", "groupCollapsed"), e.forEach(({ id: i, tool: n, data: r, tunes: a, time: l, isValid: c }) => {
        if (t += l, T(`${n.charAt(0).toUpperCase() + n.slice(1)}`, "group"), c)
          T(r), T(void 0, "groupEnd");
        else {
          T(`Block \xAB${n}\xBB skipped because saved data is invalid`), T(void 0, "groupEnd");
          return;
        }
        if (n === this.Editor.Tools.stubTool) {
          o.push(r);
          return;
        }
        const u = __spreadValues({
          id: i,
          type: n,
          data: r
        }, !V(a) && {
          tunes: a
        });
        o.push(u);
      }), T("Total", "log", t), T(void 0, "groupEnd"), {
        time: +/* @__PURE__ */ new Date(),
        blocks: o,
        version: "2.27.0"
      };
    }
  };
  var Ne = {};
  var ei = {
    get exports() {
      return Ne;
    },
    set exports(s) {
      Ne = s;
    }
  };
  (function(s, e) {
    (function(t, o) {
      s.exports = o();
    })(window, function() {
      return function(t) {
        var o = {};
        function i(n) {
          if (o[n])
            return o[n].exports;
          var r = o[n] = { i: n, l: false, exports: {} };
          return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
        }
        return i.m = t, i.c = o, i.d = function(n, r, a) {
          i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
        }, i.r = function(n) {
          typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
        }, i.t = function(n, r) {
          if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
            return n;
          var a = /* @__PURE__ */ Object.create(null);
          if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
            for (var l in n)
              i.d(a, l, function(c) {
                return n[c];
              }.bind(null, l));
          return a;
        }, i.n = function(n) {
          var r = n && n.__esModule ? function() {
            return n.default;
          } : function() {
            return n;
          };
          return i.d(r, "a", r), r;
        }, i.o = function(n, r) {
          return Object.prototype.hasOwnProperty.call(n, r);
        }, i.p = "/", i(i.s = 4);
      }([function(t, o, i) {
        var n = i(1), r = i(2);
        typeof (r = r.__esModule ? r.default : r) == "string" && (r = [[t.i, r, ""]]);
        var a = { insert: "head", singleton: false };
        n(r, a), t.exports = r.locals || {};
      }, function(t, o, i) {
        var n, r = function() {
          return n === void 0 && (n = !!(window && document && document.all && !window.atob)), n;
        }, a = function() {
          var y = {};
          return function(x) {
            if (y[x] === void 0) {
              var w = document.querySelector(x);
              if (window.HTMLIFrameElement && w instanceof window.HTMLIFrameElement)
                try {
                  w = w.contentDocument.head;
                } catch (e2) {
                  w = null;
                }
              y[x] = w;
            }
            return y[x];
          };
        }(), l = [];
        function c(y) {
          for (var x = -1, w = 0; w < l.length; w++)
            if (l[w].identifier === y) {
              x = w;
              break;
            }
          return x;
        }
        function u(y, x) {
          for (var w = {}, M = [], N = 0; N < y.length; N++) {
            var b = y[N], g = x.base ? b[0] + x.base : b[0], E = w[g] || 0, C = "".concat(g, " ").concat(E);
            w[g] = E + 1;
            var O = c(C), I = { css: b[1], media: b[2], sourceMap: b[3] };
            O !== -1 ? (l[O].references++, l[O].updater(I)) : l.push({ identifier: C, updater: R(I, x), references: 1 }), M.push(C);
          }
          return M;
        }
        function h(y) {
          var x = document.createElement("style"), w = y.attributes || {};
          if (w.nonce === void 0) {
            var M = i.nc;
            M && (w.nonce = M);
          }
          if (Object.keys(w).forEach(function(b) {
            x.setAttribute(b, w[b]);
          }), typeof y.insert == "function")
            y.insert(x);
          else {
            var N = a(y.insert || "head");
            if (!N)
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            N.appendChild(x);
          }
          return x;
        }
        var f, v = (f = [], function(y, x) {
          return f[y] = x, f.filter(Boolean).join(`
`);
        });
        function p(y, x, w, M) {
          var N = w ? "" : M.media ? "@media ".concat(M.media, " {").concat(M.css, "}") : M.css;
          if (y.styleSheet)
            y.styleSheet.cssText = v(x, N);
          else {
            var b = document.createTextNode(N), g = y.childNodes;
            g[x] && y.removeChild(g[x]), g.length ? y.insertBefore(b, g[x]) : y.appendChild(b);
          }
        }
        function k(y, x, w) {
          var M = w.css, N = w.media, b = w.sourceMap;
          if (N ? y.setAttribute("media", N) : y.removeAttribute("media"), b && btoa && (M += `
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b)))), " */")), y.styleSheet)
            y.styleSheet.cssText = M;
          else {
            for (; y.firstChild; )
              y.removeChild(y.firstChild);
            y.appendChild(document.createTextNode(M));
          }
        }
        var _ = null, A = 0;
        function R(y, x) {
          var w, M, N;
          if (x.singleton) {
            var b = A++;
            w = _ || (_ = h(x)), M = p.bind(null, w, b, false), N = p.bind(null, w, b, true);
          } else
            w = h(x), M = k.bind(null, w, x), N = function() {
              (function(g) {
                if (g.parentNode === null)
                  return false;
                g.parentNode.removeChild(g);
              })(w);
            };
          return M(y), function(g) {
            if (g) {
              if (g.css === y.css && g.media === y.media && g.sourceMap === y.sourceMap)
                return;
              M(y = g);
            } else
              N();
          };
        }
        t.exports = function(y, x) {
          (x = x || {}).singleton || typeof x.singleton == "boolean" || (x.singleton = r());
          var w = u(y = y || [], x);
          return function(M) {
            if (M = M || [], Object.prototype.toString.call(M) === "[object Array]") {
              for (var N = 0; N < w.length; N++) {
                var b = c(w[N]);
                l[b].references--;
              }
              for (var g = u(M, x), E = 0; E < w.length; E++) {
                var C = c(w[E]);
                l[C].references === 0 && (l[C].updater(), l.splice(C, 1));
              }
              w = g;
            }
          };
        };
      }, function(t, o, i) {
        (o = i(3)(false)).push([t.i, `.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`, ""]), t.exports = o;
      }, function(t, o, i) {
        t.exports = function(n) {
          var r = [];
          return r.toString = function() {
            return this.map(function(a) {
              var l = function(c, u) {
                var h = c[1] || "", f = c[3];
                if (!f)
                  return h;
                if (u && typeof btoa == "function") {
                  var v = (k = f, _ = btoa(unescape(encodeURIComponent(JSON.stringify(k)))), A = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(_), "/*# ".concat(A, " */")), p = f.sources.map(function(R) {
                    return "/*# sourceURL=".concat(f.sourceRoot || "").concat(R, " */");
                  });
                  return [h].concat(p).concat([v]).join(`
`);
                }
                var k, _, A;
                return [h].join(`
`);
              }(a, n);
              return a[2] ? "@media ".concat(a[2], " {").concat(l, "}") : l;
            }).join("");
          }, r.i = function(a, l, c) {
            typeof a == "string" && (a = [[null, a, ""]]);
            var u = {};
            if (c)
              for (var h = 0; h < this.length; h++) {
                var f = this[h][0];
                f != null && (u[f] = true);
              }
            for (var v = 0; v < a.length; v++) {
              var p = [].concat(a[v]);
              c && u[p[0]] || (l && (p[2] ? p[2] = "".concat(l, " and ").concat(p[2]) : p[2] = l), r.push(p));
            }
          }, r;
        };
      }, function(t, o, i) {
        i.r(o), i.d(o, "default", function() {
          return a;
        }), i(0);
        function n(l, c) {
          for (var u = 0; u < c.length; u++) {
            var h = c[u];
            h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
          }
        }
        function r(l, c, u) {
          return c && n(l.prototype, c), u && n(l, u), l;
        }
        var a = function() {
          function l(c) {
            var u = c.data, h = c.config, f = c.api, v = c.readOnly;
            (function(p, k) {
              if (!(p instanceof k))
                throw new TypeError("Cannot call a class as a function");
            })(this, l), this.api = f, this.readOnly = v, this._CSS = { block: this.api.styles.block, wrapper: "ce-paragraph" }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = h.placeholder ? h.placeholder : l.DEFAULT_PLACEHOLDER, this._data = {}, this._element = this.drawView(), this._preserveBlank = h.preserveBlank !== void 0 && h.preserveBlank, this.data = u;
          }
          return r(l, null, [{ key: "DEFAULT_PLACEHOLDER", get: function() {
            return "";
          } }]), r(l, [{ key: "onKeyUp", value: function(c) {
            c.code !== "Backspace" && c.code !== "Delete" || this._element.textContent === "" && (this._element.innerHTML = "");
          } }, { key: "drawView", value: function() {
            var c = document.createElement("DIV");
            return c.classList.add(this._CSS.wrapper, this._CSS.block), c.contentEditable = false, c.dataset.placeholder = this.api.i18n.t(this._placeholder), this.readOnly || (c.contentEditable = true, c.addEventListener("keyup", this.onKeyUp)), c;
          } }, { key: "render", value: function() {
            return this._element;
          } }, { key: "merge", value: function(c) {
            var u = { text: this.data.text + c.text };
            this.data = u;
          } }, { key: "validate", value: function(c) {
            return !(c.text.trim() === "" && !this._preserveBlank);
          } }, { key: "save", value: function(c) {
            return { text: c.innerHTML };
          } }, { key: "onPaste", value: function(c) {
            var u = { text: c.detail.data.innerHTML };
            this.data = u;
          } }, { key: "data", get: function() {
            var c = this._element.innerHTML;
            return this._data.text = c, this._data;
          }, set: function(c) {
            this._data = c || {}, this._element.innerHTML = this._data.text || "";
          } }], [{ key: "conversionConfig", get: function() {
            return { export: "text", import: "text" };
          } }, { key: "sanitize", get: function() {
            return { text: { br: true } };
          } }, { key: "isReadOnlySupported", get: function() {
            return true;
          } }, { key: "pasteConfig", get: function() {
            return { tags: ["P"] };
          } }, { key: "toolbox", get: function() {
            return { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>', title: "Text" };
          } }]), l;
        }();
      }]).default;
    });
  })(ei);
  var ti = /* @__PURE__ */ xe(Ne);
  var $e = class {
    constructor() {
      this.commandName = "bold", this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--bold"
      }, this.nodes = {
        button: void 0
      };
    }
    static get sanitize() {
      return {
        b: {}
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Eo, this.nodes.button;
    }
    surround() {
      document.execCommand(this.commandName);
    }
    checkState() {
      const e = document.queryCommandState(this.commandName);
      return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
    }
    get shortcut() {
      return "CMD+B";
    }
  };
  $e.isInline = true;
  $e.title = "Bold";
  var We = class {
    constructor() {
      this.commandName = "italic", this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--italic"
      }, this.nodes = {
        button: null
      };
    }
    static get sanitize() {
      return {
        i: {}
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = So, this.nodes.button;
    }
    surround() {
      document.execCommand(this.commandName);
    }
    checkState() {
      const e = document.queryCommandState(this.commandName);
      return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
    }
    get shortcut() {
      return "CMD+I";
    }
  };
  We.isInline = true;
  We.title = "Italic";
  var Ye = class {
    constructor({ api: e }) {
      this.commandLink = "createLink", this.commandUnlink = "unlink", this.ENTER_KEY = 13, this.CSS = {
        button: "ce-inline-tool",
        buttonActive: "ce-inline-tool--active",
        buttonModifier: "ce-inline-tool--link",
        buttonUnlink: "ce-inline-tool--unlink",
        input: "ce-inline-tool-input",
        inputShowed: "ce-inline-tool-input--showed"
      }, this.nodes = {
        button: null,
        input: null
      }, this.inputOpened = false, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new m();
    }
    static get sanitize() {
      return {
        a: {
          href: true,
          target: "_blank",
          rel: "nofollow"
        }
      };
    }
    render() {
      return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = qe, this.nodes.button;
    }
    renderActions() {
      return this.nodes.input = document.createElement("input"), this.nodes.input.placeholder = this.i18n.t("Add a link"), this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener("keydown", (e) => {
        e.keyCode === this.ENTER_KEY && this.enterPressed(e);
      }), this.nodes.input;
    }
    surround(e) {
      if (e) {
        this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());
        const t = this.selection.findParentTag("A");
        if (t) {
          this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();
          return;
        }
      }
      this.toggleActions();
    }
    checkState() {
      const e = this.selection.findParentTag("A");
      if (e) {
        this.nodes.button.innerHTML = Oo, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();
        const t = e.getAttribute("href");
        this.nodes.input.value = t !== "null" ? t : "", this.selection.save();
      } else
        this.nodes.button.innerHTML = qe, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);
      return !!e;
    }
    clear() {
      this.closeActions();
    }
    get shortcut() {
      return "CMD+K";
    }
    toggleActions() {
      this.inputOpened ? this.closeActions(false) : this.openActions(true);
    }
    openActions(e = false) {
      this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = true;
    }
    closeActions(e = true) {
      if (this.selection.isFakeBackgroundEnabled) {
        const t = new m();
        t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();
      }
      this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = "", e && this.selection.clearSaved(), this.inputOpened = false;
    }
    enterPressed(e) {
      let t = this.nodes.input.value || "";
      if (!t.trim()) {
        this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();
        return;
      }
      if (!this.validateURL(t)) {
        this.notifier.show({
          message: "Pasted link is not valid.",
          style: "error"
        }), T("Incorrect Link pasted", "warn", t);
        return;
      }
      t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();
    }
    validateURL(e) {
      return !/\s/.test(e);
    }
    prepareLink(e) {
      return e = e.trim(), e = this.addProtocol(e), e;
    }
    addProtocol(e) {
      if (/^(\w+):(\/\/)?/.test(e))
        return e;
      const t = /^\/[^/\s]/.test(e), o = e.substring(0, 1) === "#", i = /^\/\/[^/\s]/.test(e);
      return !t && !o && !i && (e = "http://" + e), e;
    }
    insertLink(e) {
      const t = this.selection.findParentTag("A");
      t && this.selection.expandToTag(t), document.execCommand(this.commandLink, false, e);
    }
    unlink() {
      document.execCommand(this.commandUnlink);
    }
  };
  Ye.isInline = true;
  Ye.title = "Link";
  var yt = class {
    constructor({ data: e, api: t }) {
      this.CSS = {
        wrapper: "ce-stub",
        info: "ce-stub__info",
        title: "ce-stub__title",
        subtitle: "ce-stub__subtitle"
      }, this.api = t, this.title = e.title || this.api.i18n.t("Error"), this.subtitle = this.api.i18n.t("The block can not be displayed correctly."), this.savedData = e.savedData, this.wrapper = this.make();
    }
    render() {
      return this.wrapper;
    }
    save() {
      return this.savedData;
    }
    make() {
      const e = d.make("div", this.CSS.wrapper), t = '<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>', o = d.make("div", this.CSS.info), i = d.make("div", this.CSS.title, {
        textContent: this.title
      }), n = d.make("div", this.CSS.subtitle, {
        textContent: this.subtitle
      });
      return e.innerHTML = t, o.appendChild(i), o.appendChild(n), e.appendChild(o), e;
    }
  };
  yt.isReadOnlySupported = true;
  var oi = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Inline;
    }
    get title() {
      return this.constructable[je.Title];
    }
    create() {
      return new this.constructable({
        api: this.api.getMethodsForTool(this),
        config: this.settings
      });
    }
  };
  var ii = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Tune;
    }
    create(e, t) {
      return new this.constructable({
        api: this.api.getMethodsForTool(this),
        config: this.settings,
        block: t,
        data: e
      });
    }
  };
  var U = class extends Map {
    get blockTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());
      return new U(e);
    }
    get inlineTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isInline());
      return new U(e);
    }
    get blockTunes() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isTune());
      return new U(e);
    }
    get internalTools() {
      const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);
      return new U(e);
    }
    get externalTools() {
      const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);
      return new U(e);
    }
  };
  var ni = Object.defineProperty;
  var si = Object.getOwnPropertyDescriptor;
  var Et = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? si(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && ni(e, t, i), i;
  };
  var Ke = class extends Ue {
    constructor() {
      super(...arguments), this.type = ye.Block, this.inlineTools = new U(), this.tunes = new U();
    }
    create(e, t, o) {
      return new this.constructable({
        data: e,
        block: t,
        readOnly: o,
        api: this.api.getMethodsForTool(this),
        config: this.settings
      });
    }
    get isReadOnlySupported() {
      return this.constructable[se.IsReadOnlySupported] === true;
    }
    get isLineBreaksEnabled() {
      return this.constructable[se.IsEnabledLineBreaks];
    }
    get toolbox() {
      const e = this.constructable[se.Toolbox], t = this.config[me.Toolbox];
      if (!V(e) && t !== false)
        return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o, i) => {
          const n = e[i];
          return n ? __spreadValues(__spreadValues({}, n), o) : o;
        }) : [t] : Array.isArray(t) ? t : [
          __spreadValues(__spreadValues({}, e), t)
        ] : Array.isArray(e) ? e : [e];
    }
    get conversionConfig() {
      return this.constructable[se.ConversionConfig];
    }
    get enabledInlineTools() {
      return this.config[me.EnabledInlineTools] || false;
    }
    get enabledBlockTunes() {
      return this.config[me.EnabledBlockTunes];
    }
    get pasteConfig() {
      var _a;
      return (_a = this.constructable[se.PasteConfig]) != null ? _a : {};
    }
    get sanitizeConfig() {
      const e = super.sanitizeConfig, t = this.baseSanitizeConfig;
      if (V(e))
        return t;
      const o = {};
      for (const i in e)
        if (Object.prototype.hasOwnProperty.call(e, i)) {
          const n = e[i];
          j(n) ? o[i] = Object.assign({}, t, n) : o[i] = n;
        }
      return o;
    }
    get baseSanitizeConfig() {
      const e = {};
      return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;
    }
  };
  Et([
    ae
  ], Ke.prototype, "sanitizeConfig", 1);
  Et([
    ae
  ], Ke.prototype, "baseSanitizeConfig", 1);
  var ri = class {
    constructor(e, t, o) {
      this.api = o, this.config = e, this.editorConfig = t;
    }
    get(e) {
      const _a = this.config[e], { class: t, isInternal: o = false } = _a, i = __objRest(_a, ["class", "isInternal"]), n = this.getConstructor(t);
      return new n({
        name: e,
        constructable: t,
        config: i,
        api: this.api,
        isDefault: e === this.editorConfig.defaultBlock,
        defaultPlaceholder: this.editorConfig.placeholder,
        isInternal: o
      });
    }
    getConstructor(e) {
      switch (true) {
        case e[je.IsInline]:
          return oi;
        case e[vt.IsTune]:
          return ii;
        default:
          return Ke;
      }
    }
  };
  var Bt = class {
    constructor({ api: e }) {
      this.CSS = {
        animation: "wobble"
      }, this.api = e;
    }
    render() {
      return {
        icon: pt,
        title: this.api.i18n.t("Move down"),
        onActivate: () => this.handleClick(),
        name: "move-down"
      };
    }
    handleClick() {
      const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);
      if (!t)
        throw new Error("Unable to move Block down since it is already the last");
      const o = t.holder, i = o.getBoundingClientRect();
      let n = Math.abs(window.innerHeight - o.offsetHeight);
      i.top < window.innerHeight && (n = window.scrollY + o.offsetHeight), window.scrollTo(0, n), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(true);
    }
  };
  Bt.isTune = true;
  var Ct = class {
    constructor({ api: e }) {
      this.api = e;
    }
    render() {
      return {
        icon: Co,
        title: this.api.i18n.t("Delete"),
        name: "delete",
        confirmation: {
          title: this.api.i18n.t("Click to delete"),
          onActivate: () => this.handleClick()
        }
      };
    }
    handleClick() {
      this.api.blocks.delete();
    }
  };
  Ct.isTune = true;
  var Tt = class {
    constructor({ api: e }) {
      this.CSS = {
        animation: "wobble"
      }, this.api = e;
    }
    render() {
      return {
        icon: Bo,
        title: this.api.i18n.t("Move up"),
        onActivate: () => this.handleClick(),
        name: "move-up"
      };
    }
    handleClick() {
      const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o = this.api.blocks.getBlockByIndex(e - 1);
      if (e === 0 || !t || !o)
        throw new Error("Unable to move Block up since it is already the first");
      const i = t.holder, n = o.holder, r = i.getBoundingClientRect(), a = n.getBoundingClientRect();
      let l;
      a.top > 0 ? l = Math.abs(r.top) - Math.abs(a.top) : l = Math.abs(r.top) + a.height, window.scrollBy(0, -1 * l), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(true);
    }
  };
  Tt.isTune = true;
  var ai = Object.defineProperty;
  var li = Object.getOwnPropertyDescriptor;
  var ci = (s, e, t, o) => {
    for (var i = o > 1 ? void 0 : o ? li(e, t) : e, n = s.length - 1, r; n >= 0; n--)
      (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
    return o && i && ai(e, t, i), i;
  };
  var St = class extends S {
    constructor() {
      super(...arguments), this.stubTool = "stub", this.toolsAvailable = new U(), this.toolsUnavailable = new U();
    }
    get available() {
      return this.toolsAvailable;
    }
    get unavailable() {
      return this.toolsUnavailable;
    }
    get inlineTools() {
      return this.available.inlineTools;
    }
    get blockTools() {
      return this.available.blockTools;
    }
    get blockTunes() {
      return this.available.blockTunes;
    }
    get defaultTool() {
      return this.blockTools.get(this.config.defaultBlock);
    }
    get internal() {
      return this.available.internalTools;
    }
    async prepare() {
      if (this.validateTools(), this.config.tools = Se({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, "tools") || Object.keys(this.config.tools).length === 0)
        throw Error("Can't start without tools");
      const e = this.prepareConfig();
      this.factory = new ri(e, this.config, this.Editor.API);
      const t = this.getListOfPrepareFunctions(e);
      if (t.length === 0)
        return Promise.resolve();
      await ot(t, (o) => {
        this.toolPrepareMethodSuccess(o);
      }, (o) => {
        this.toolPrepareMethodFallback(o);
      }), this.prepareBlockTools();
    }
    getAllInlineToolsSanitizeConfig() {
      const e = {};
      return Array.from(this.inlineTools.values()).forEach((t) => {
        Object.assign(e, t.sanitizeConfig);
      }), e;
    }
    destroy() {
      Object.values(this.available).forEach(async (e) => {
        D(e.reset) && await e.reset();
      });
    }
    get internalTools() {
      return {
        bold: {
          class: $e,
          isInternal: true
        },
        italic: {
          class: We,
          isInternal: true
        },
        link: {
          class: Ye,
          isInternal: true
        },
        paragraph: {
          class: ti,
          inlineToolbar: true,
          isInternal: true
        },
        stub: {
          class: yt,
          isInternal: true
        },
        moveUp: {
          class: Tt,
          isInternal: true
        },
        delete: {
          class: Ct,
          isInternal: true
        },
        moveDown: {
          class: Bt,
          isInternal: true
        }
      };
    }
    toolPrepareMethodSuccess(e) {
      const t = this.factory.get(e.toolName);
      if (t.isInline()) {
        const i = ["render", "surround", "checkState"].filter((n) => !t.create()[n]);
        if (i.length) {
          T(
            `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,
            "warn",
            i
          ), this.toolsUnavailable.set(t.name, t);
          return;
        }
      }
      this.toolsAvailable.set(t.name, t);
    }
    toolPrepareMethodFallback(e) {
      this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));
    }
    getListOfPrepareFunctions(e) {
      const t = [];
      return Object.entries(e).forEach(([o, i]) => {
        t.push({
          function: D(i.class.prepare) ? i.class.prepare : () => {
          },
          data: {
            toolName: o,
            config: i.config
          }
        });
      }), t;
    }
    prepareBlockTools() {
      Array.from(this.blockTools.values()).forEach((e) => {
        this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);
      });
    }
    assignInlineToolsToBlockTool(e) {
      if (this.config.inlineToolbar !== false) {
        if (e.enabledInlineTools === true) {
          e.inlineTools = new U(
            Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())
          );
          return;
        }
        Array.isArray(e.enabledInlineTools) && (e.inlineTools = new U(
          e.enabledInlineTools.map((t) => [t, this.inlineTools.get(t)])
        ));
      }
    }
    assignBlockTunesToBlockTool(e) {
      if (e.enabledBlockTunes !== false) {
        if (Array.isArray(e.enabledBlockTunes)) {
          const t = new U(
            e.enabledBlockTunes.map((o) => [o, this.blockTunes.get(o)])
          );
          e.tunes = new U([...t, ...this.blockTunes.internalTools]);
          return;
        }
        if (Array.isArray(this.config.tunes)) {
          const t = new U(
            this.config.tunes.map((o) => [o, this.blockTunes.get(o)])
          );
          e.tunes = new U([...t, ...this.blockTunes.internalTools]);
          return;
        }
        e.tunes = this.blockTunes.internalTools;
      }
    }
    validateTools() {
      for (const e in this.config.tools)
        if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {
          if (e in this.internalTools)
            return;
          const t = this.config.tools[e];
          if (!D(t) && !D(t.class))
            throw Error(
              `Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`
            );
        }
    }
    prepareConfig() {
      const e = {};
      for (const t in this.config.tools)
        j(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };
      return e;
    }
  };
  ci([
    ae
  ], St.prototype, "getAllInlineToolsSanitizeConfig", 1);
  var di = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;
  var hi = class extends S {
    constructor() {
      super(...arguments), this.isMobile = false, this.contentRectCache = void 0, this.resizeDebouncer = Pt(() => {
        this.windowResize();
      }, 200);
    }
    get CSS() {
      return {
        editorWrapper: "codex-editor",
        editorWrapperNarrow: "codex-editor--narrow",
        editorZone: "codex-editor__redactor",
        editorZoneHidden: "codex-editor__redactor--hidden",
        editorLoader: "codex-editor__loader",
        editorEmpty: "codex-editor--empty",
        editorRtlFix: "codex-editor--rtl"
      };
    }
    get contentRect() {
      if (this.contentRectCache)
        return this.contentRectCache;
      const e = this.nodes.wrapper.querySelector(`.${F.CSS.content}`);
      return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {
        width: 650,
        left: 0,
        right: 0
      };
    }
    addLoader() {
      this.nodes.loader = d.make("div", this.CSS.editorLoader), this.nodes.wrapper.prepend(this.nodes.loader), this.nodes.redactor.classList.add(this.CSS.editorZoneHidden);
    }
    removeLoader() {
      this.nodes.loader.remove(), this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden);
    }
    async prepare() {
      this.checkIsMobile(), this.make(), this.addLoader(), this.loadStyles();
    }
    toggleReadOnly(e) {
      e ? this.disableModuleBindings() : this.enableModuleBindings();
    }
    checkEmptiness() {
      const { BlockManager: e } = this.Editor;
      this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);
    }
    get someToolbarOpened() {
      const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
      return t.opened || o.opened || i.opened || e.toolbox.opened;
    }
    get someFlipperButtonFocused() {
      return this.Editor.Toolbar.toolbox.hasFocus() ? true : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof G).some(([e, t]) => t.flipper.hasFocus());
    }
    destroy() {
      this.nodes.holder.innerHTML = "";
    }
    closeAllToolbars() {
      const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
      t.close(), o.close(), i.close(), e.toolbox.close();
    }
    checkIsMobile() {
      this.isMobile = window.innerWidth < st;
    }
    make() {
      this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make("div", [
        this.CSS.editorWrapper,
        ...this.isRtl ? [this.CSS.editorRtlFix] : []
      ]), this.nodes.redactor = d.make("div", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + "px", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);
    }
    loadStyles() {
      const e = "editor-js-styles";
      if (d.get(e))
        return;
      const t = d.make("style", null, {
        id: e,
        textContent: di.toString()
      });
      d.prepend(document.head, t);
    }
    enableModuleBindings() {
      this.readOnlyMutableListeners.on(this.nodes.redactor, "click", (e) => {
        this.redactorClicked(e);
      }, false), this.readOnlyMutableListeners.on(this.nodes.redactor, "mousedown", (e) => {
        this.documentTouched(e);
      }, true), this.readOnlyMutableListeners.on(this.nodes.redactor, "touchstart", (e) => {
        this.documentTouched(e);
      }, true), this.readOnlyMutableListeners.on(document, "keydown", (e) => {
        this.documentKeydown(e);
      }, true), this.readOnlyMutableListeners.on(document, "mousedown", (e) => {
        this.documentClicked(e);
      }, true), this.readOnlyMutableListeners.on(document, "selectionchange", () => {
        this.selectionChanged();
      }, true), this.readOnlyMutableListeners.on(window, "resize", () => {
        this.resizeDebouncer();
      }, {
        passive: true
      }), this.watchBlockHoveredEvents();
    }
    watchBlockHoveredEvents() {
      let e;
      this.readOnlyMutableListeners.on(this.nodes.redactor, "mousemove", Te((t) => {
        const o = t.target.closest(".ce-block");
        this.Editor.BlockSelection.anyBlockSelected || o && e !== o && (e = o, this.eventsDispatcher.emit(mt, {
          block: this.Editor.BlockManager.getBlockByChildNode(o)
        }));
      }, 20), {
        passive: true
      });
    }
    disableModuleBindings() {
      this.readOnlyMutableListeners.clearAll();
    }
    windowResize() {
      this.contentRectCache = null, this.checkIsMobile();
    }
    documentKeydown(e) {
      switch (e.keyCode) {
        case B.ENTER:
          this.enterPressed(e);
          break;
        case B.BACKSPACE:
          this.backspacePressed(e);
          break;
        case B.ESC:
          this.escapePressed(e);
          break;
        default:
          this.defaultBehaviour(e);
          break;
      }
    }
    defaultBehaviour(e) {
      const { currentBlock: t } = this.Editor.BlockManager, o = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
      if (t !== void 0 && o === null) {
        this.Editor.BlockEvents.keydown(e);
        return;
      }
      o || t && i || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
    }
    backspacePressed(e) {
      const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor;
      if (o.anyBlockSelected && !m.isSelectionExists) {
        const n = t.removeSelectedBlocks();
        i.setToBlock(t.insertDefaultBlockAtIndex(n, true), i.positions.START), o.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();
      }
    }
    escapePressed(e) {
      this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.ConversionToolbar.opened ? this.Editor.ConversionToolbar.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();
    }
    enterPressed(e) {
      const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.currentBlockIndex >= 0;
      if (o.anyBlockSelected && !m.isSelectionExists) {
        o.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();
        return;
      }
      if (!this.someToolbarOpened && i && e.target.tagName === "BODY") {
        const n = this.Editor.BlockManager.insert();
        this.Editor.Caret.setToBlock(n), this.Editor.BlockManager.highlightCurrentNode(), this.Editor.Toolbar.moveAndOpen(n);
      }
      this.Editor.BlockSelection.clearSelection(e);
    }
    documentClicked(e) {
      if (!e.isTrusted)
        return;
      const t = e.target;
      this.nodes.holder.contains(t) || m.isAtEditor || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
      const i = this.Editor.BlockSettings.nodes.wrapper.contains(t), n = this.Editor.Toolbar.nodes.settingsToggler.contains(t), r = i || n;
      if (this.Editor.BlockSettings.opened && !r) {
        this.Editor.BlockSettings.close();
        const a = this.Editor.BlockManager.getBlockByChildNode(t);
        this.Editor.Toolbar.moveAndOpen(a);
      }
      this.Editor.BlockSelection.clearSelection(e);
    }
    documentTouched(e) {
      let t = e.target;
      if (t === this.nodes.redactor) {
        const o = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;
        t = document.elementFromPoint(o, i);
      }
      try {
        this.Editor.BlockManager.setCurrentBlockByChildNode(t), this.Editor.BlockManager.highlightCurrentNode();
      } catch (e2) {
        this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();
      }
      this.Editor.Toolbar.moveAndOpen();
    }
    redactorClicked(e) {
      const { BlockSelection: t } = this.Editor;
      if (!m.isCollapsed)
        return;
      const o = () => {
        e.stopImmediatePropagation(), e.stopPropagation();
      }, i = e.target, n = e.metaKey || e.ctrlKey;
      if (d.isAnchor(i) && n) {
        o();
        const u = i.getAttribute("href"), h = Ht(u);
        jt(h);
        return;
      }
      const r = this.Editor.BlockManager.getBlockByIndex(-1), a = d.offset(r.holder).bottom, l = e.pageY;
      if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && !t.anyBlockSelected && a < l) {
        o();
        const { BlockManager: u, Caret: h, Toolbar: f } = this.Editor;
        (!u.lastBlock.tool.isDefault || !u.lastBlock.isEmpty) && u.insertAtEnd(), h.setToTheLastBlock(), f.moveAndOpen(u.lastBlock);
      }
    }
    selectionChanged() {
      const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o = m.anchorElement;
      if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && m.get().removeAllRanges(), !o) {
        m.range || this.Editor.InlineToolbar.close();
        return;
      }
      const i = o.closest(`.${F.CSS.content}`) === null;
      if (i && (this.Editor.InlineToolbar.containsNode(o) || this.Editor.InlineToolbar.close(), !(o.dataset.inlineToolbar === "true")))
        return;
      this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o);
      const n = i !== true;
      this.Editor.InlineToolbar.tryToShow(true, n);
    }
  };
  var ui = {
    BlocksAPI: Zt,
    CaretAPI: Gt,
    EventsAPI: qt,
    I18nAPI: De,
    API: Jt,
    InlineToolbarAPI: Qt,
    ListenersAPI: eo,
    NotifierAPI: no,
    ReadOnlyAPI: so,
    SanitizerAPI: po,
    SaverAPI: fo,
    SelectionAPI: go,
    StylesAPI: bo,
    ToolbarAPI: mo,
    TooltipAPI: xo,
    UiAPI: wo,
    BlockSettings: Ro,
    ConversionToolbar: Y,
    Toolbar: jo,
    InlineToolbar: Uo,
    BlockEvents: $o,
    BlockManager: Ko,
    BlockSelection: Xo,
    Caret: ve,
    CrossBlockSelection: Vo,
    DragNDrop: Zo,
    ModificationsObserver: Go,
    Paste: wt,
    ReadOnly: qo,
    RectangleSelection: pe,
    Renderer: Jo,
    Saver: Qo,
    Tools: St,
    UI: hi
  };
  var pi = class {
    constructor(e) {
      this.moduleInstances = {}, this.eventsDispatcher = new we();
      let t, o;
      this.isReady = new Promise((i, n) => {
        t = i, o = n;
      }), Promise.resolve().then(async () => {
        this.configuration = e, await this.validate(), await this.init(), await this.start(), K("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727", "log", "", "color: #E24A75"), setTimeout(async () => {
          if (await this.render(), this.configuration.autofocus) {
            const { BlockManager: i, Caret: n } = this.moduleInstances;
            n.setToBlock(i.blocks[0], n.positions.START), i.highlightCurrentNode();
          }
          this.moduleInstances.UI.removeLoader(), t();
        }, 500);
      }).catch((i) => {
        T(`Editor.js is not ready because of ${i}`, "error"), o(i);
      });
    }
    set configuration(e) {
      var o, i;
      j(e) ? this.config = __spreadValues({}, e) : this.config = {
        holder: e
      }, Ie(!!this.config.holderId, "config.holderId", "config.holder"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = "editorjs"), this.config.logLevel || (this.config.logLevel = et.VERBOSE), At(this.config.logLevel), Ie(!!this.config.initialBlock, "config.initialBlock", "config.defaultBlock"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || "paragraph", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;
      const t = {
        type: this.config.defaultBlock,
        data: {}
      };
      this.config.placeholder = this.config.placeholder || false, this.config.sanitizer = this.config.sanitizer || {
        p: true,
        b: true,
        a: true
      }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {
      }), this.config.onChange = this.config.onChange || (() => {
      }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : true, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || false, (o = this.config.i18n) != null && o.messages && $2.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || "ltr";
    }
    get configuration() {
      return this.config;
    }
    async validate() {
      const { holderId: e, holder: t } = this.config;
      if (e && t)
        throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");
      if (J(t) && !d.get(t))
        throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);
      if (t && j(t) && !d.isElement(t))
        throw Error("\xABholder\xBB value must be an Element node");
    }
    init() {
      this.constructModules(), this.configureModules();
    }
    async start() {
      await [
        "Tools",
        "UI",
        "BlockManager",
        "Paste",
        "BlockSelection",
        "RectangleSelection",
        "CrossBlockSelection",
        "ReadOnly"
      ].reduce(
        (t, o) => t.then(async () => {
          try {
            await this.moduleInstances[o].prepare();
          } catch (i) {
            if (i instanceof at)
              throw new Error(i.message);
            T(`Module ${o} was skipped because of %o`, "warn", i);
          }
        }),
        Promise.resolve()
      );
    }
    render() {
      return this.moduleInstances.Renderer.render(this.config.data.blocks);
    }
    constructModules() {
      Object.entries(ui).forEach(([e, t]) => {
        try {
          this.moduleInstances[e] = new t({
            config: this.configuration,
            eventsDispatcher: this.eventsDispatcher
          });
        } catch (o) {
          T("[constructModules]", `Module ${e} skipped because`, "error", o);
        }
      });
    }
    configureModules() {
      for (const e in this.moduleInstances)
        Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));
    }
    getModulesDiff(e) {
      const t = {};
      for (const o in this.moduleInstances)
        o !== e && (t[o] = this.moduleInstances[o]);
      return t;
    }
  };
  var fi = class {
    static get version() {
      return "2.27.0";
    }
    constructor(e) {
      let t = () => {
      };
      j(e) && D(e.onReady) && (t = e.onReady);
      const o = new pi(e);
      this.isReady = o.isReady.then(() => {
        this.exportAPI(o), t();
      });
    }
    exportAPI(e) {
      const t = ["configuration"], o = () => {
        Object.values(e.moduleInstances).forEach((n) => {
          D(n.destroy) && n.destroy(), n.listeners.removeAll();
        }), e = null;
        for (const n in this)
          Object.prototype.hasOwnProperty.call(this, n) && delete this[n];
        Object.setPrototypeOf(this, null);
      };
      t.forEach((n) => {
        this[n] = e[n];
      }), this.destroy = o, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({
        blocks: {
          clear: "clear",
          render: "render"
        },
        caret: {
          focus: "focus"
        },
        events: {
          on: "on",
          off: "off",
          emit: "emit"
        },
        saver: {
          save: "save"
        }
      }).forEach(([n, r]) => {
        Object.entries(r).forEach(([a, l]) => {
          this[l] = e.moduleInstances.API.methods[n][a];
        });
      });
    }
  };

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/workspace.js
  var import_editorjs_undo = __toESM(require_bundle());
  var Workspace = class extends frappe.views.Workspace {
    constructor(wrapper, organization_name) {
      super(wrapper);
      this.wrapper = $(wrapper);
      this.page = wrapper.page;
      this.blocks = frappe.workspace_block.blocks;
      this.is_read_only = true;
      this.pages = {};
      this.sorted_public_items = [];
      this.sorted_private_items = [];
      this.current_page = {};
      this.sidebar_items = {
        public: {},
        private: {}
      };
      this.organization_name = organization_name;
      this.sidebar_categories = ["My Workspaces", "Public"];
      this.prepare_container();
      this.setup_pages();
      this.register_awesomebar_shortcut();
    }
    prepare_container() {
      if (!this.organization_name) {
        return;
      }
      let list_sidebar = $(`
			<div class="list-sidebar overlay-sidebar hidden-xs hidden-sm">
				<div class="desk-sidebar list-unstyled sidebar-menu"></div>
			</div>
		`).appendTo(this.wrapper.find(".layout-side-section"));
      this.sidebar = list_sidebar.find(".desk-sidebar");
      this.body = this.wrapper.find(".layout-main-section");
    }
    async setup_pages(reload) {
      if (!this.organization_name) {
        return;
      }
      !this.discard && this.create_page_skeleton();
      !this.discard && this.create_sidebar_skeleton();
      this.sidebar_pages = this.discard ? this.sidebar_pages : await this.get_pages();
      this.cached_pages = $.extend(true, {}, this.sidebar_pages);
      this.all_pages = this.sidebar_pages.pages;
      this.has_access = this.sidebar_pages.has_access;
      for (const page of this.all_pages) {
        page.is_editable = !page.public || this.has_access;
      }
      this.public_pages = this.all_pages.filter((page) => page.public);
      this.private_pages = this.all_pages.filter((page) => !page.public);
      if (this.all_pages) {
        frappe.workspaces = {};
        for (let page of this.all_pages) {
          frappe.workspaces[frappe.router.slug(page.name)] = {
            title: page.title,
            public: page.public
          };
        }
        this.make_sidebar();
        reload && this.show();
      }
    }
    get_pages() {
      return frappe.xcall("tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_workspace_sidebar_items", {
        organization_name: this.organization_name
      });
    }
    sidebar_item_container(item2) {
      return $(`
			<div
				class="sidebar-item-container ${item2.is_editable ? "is-draggable" : ""}"
				item-parent="${item2.parent_page}"
				item-name="${item2.title}"
				item-public="${item2.public || 0}"
				item-is-hidden="${item2.is_hidden || 0}"
			>
				<div class="desk-sidebar-item standard-sidebar-item ${item2.selected ? "selected" : ""}">
					<a
						class="item-anchor ${item2.is_editable ? "" : "block-click"} item-a" title="${__(item2.title)}"
					>
						<span class="sidebar-item-icon" item-icon=${item2.icon || "folder-normal"}>${frappe.utils.icon(
        item2.icon || "folder-normal",
        "md"
      )}</span>
						<span class="sidebar-item-label">${__(item2.title.replaceAll(/{{([^}]+)}}/g, ""))}<span>
					</a>
					<div class="sidebar-item-control"></div>
				</div>
				<div class="sidebar-child-item nested-container"></div>
			</div>
		`);
    }
    make_sidebar() {
      if (this.sidebar.find(".standard-sidebar-section")[0]) {
        this.sidebar.find(".standard-sidebar-section").remove();
      }
      for (const category of this.sidebar_categories) {
        if (category != "Public") {
          continue;
        }
        let root_pages = this.public_pages.filter(
          (page) => page.parent_page == "" || page.parent_page == null
        );
        if (category != "Public") {
          root_pages = this.private_pages.filter(
            (page) => page.parent_page == "" || page.parent_page == null
          );
        }
        root_pages = root_pages.uniqBy((d2) => d2.title);
        this.build_sidebar_section(category, root_pages);
      }
      this.sidebar.find(".selected").length && !frappe.dom.is_element_in_viewport(this.sidebar.find(".selected")) && this.sidebar.find(".selected")[0].scrollIntoView();
      this.remove_sidebar_skeleton();
    }
    build_sidebar_section(title, root_pages) {
      let sidebar_section = $(
        `<div class="standard-sidebar-section nested-container" data-title="${title}"></div>`
      );
      let $title = $(`<div class="standard-sidebar-label">
			<span>${frappe.utils.icon("small-down", "xs")}</span>
			<span class="section-title">${__(title)}<span>
		</div>`).appendTo(sidebar_section);
      this.prepare_sidebar(root_pages, sidebar_section, this.sidebar);
      $title.on("click", (e) => {
        let icon = $(e.target).find("span use").attr("href") === "#icon-small-down" ? "#icon-right" : "#icon-small-down";
        $(e.target).find("span use").attr("href", icon);
        $(e.target).parent().find(".sidebar-item-container").toggleClass("hidden");
      });
      if (Object.keys(root_pages).length === 0) {
        sidebar_section.addClass("hidden");
      }
      if (sidebar_section.find(".sidebar-item-container").length && sidebar_section.find("> [item-is-hidden='0']").length == 0) {
        sidebar_section.addClass("hidden show-in-edit-mode");
      }
    }
    prepare_sidebar(items, child_container, item_container) {
      for (const item2 of items) {
        this.append_item(item2, child_container);
      }
      child_container.appendTo(item_container);
    }
    append_item(item2, container) {
      let is_current_page = frappe.router.slug(item2.title) == frappe.router.slug(this.get_page_to_show().name) && item2.public == this.get_page_to_show().public;
      item2.selected = is_current_page;
      if (is_current_page) {
        this.current_page = { name: item2.title, public: item2.public };
      }
      let $item_container = this.sidebar_item_container(item2);
      $item_container.find(".item-a").on("click", () => {
        this.update_selected_sidebar(this.current_page, false);
        this.current_page = {
          name: item2.title,
          public: item2.public
        };
        this.show();
      });
      let sidebar_control = $item_container.find(".sidebar-item-control");
      this.add_sidebar_actions(item2, sidebar_control);
      let pages = item2.public ? this.public_pages : this.private_pages;
      let descendant = [];
      function getDescendant(pages2, title) {
        const children = pages2.filter((page) => page.parent_page == title);
        descendant = [...descendant, ...children];
        for (const child of children) {
          getDescendant(pages2, child.title);
        }
      }
      getDescendant(pages, item2.title);
      const isCurrentParent = descendant.some((page) => page.name === this.get_page_to_show().name && page.public === this.get_page_to_show().public);
      let child_items = pages.filter((page) => page.parent_page == item2.title);
      if (child_items.length > 0) {
        let child_container = $item_container.find(".sidebar-child-item");
        if (!isCurrentParent) {
          child_container.addClass("hidden");
        }
        this.prepare_sidebar(child_items, child_container, $item_container);
      }
      $item_container.appendTo(container);
      this.sidebar_items[item2.public ? "public" : "private"][item2.title] = $item_container;
      const parents = $item_container.parents();
      if (is_current_page) {
        parents.each((parent) => {
          if ($(parent).hasClass("hidden")) {
            parent.toggleClass("hidden");
          }
        });
      }
      this.add_drop_icon(item2, sidebar_control, $item_container);
      if (child_items.length > 0) {
        $item_container.find(".drop-icon").first().addClass("show-in-edit-mode");
      }
      const { organization } = item2;
      if (!this.organization_name) {
        return;
      }
      if (!organization) {
        $item_container.hide();
      }
      if (this.organization_name === organization) {
        return;
      }
      $item_container.hide();
    }
    add_drop_icon(item2, sidebar_control, item_container) {
      let drop_icon = "small-down";
      if (item_container.find(`[item-name="${this.current_page.name}"]`).length) {
        drop_icon = "small-up";
      }
      let $child_item_section = item_container.children(".sidebar-child-item");
      let $drop_icon = $(
        `<span class="drop-icon hidden">${frappe.utils.icon(drop_icon, "sm")}</span>`
      ).appendTo(sidebar_control);
      let pages = item2.public ? this.public_pages : this.private_pages;
      if (pages.some(
        (e) => e.parent_page == item2.title && (e.is_hidden == 0 || !this.is_read_only)
      )) {
        $drop_icon.removeClass("hidden");
      }
      $drop_icon.on("click", () => {
        let icon = $drop_icon.find("use").attr("href") === "#icon-small-down" ? "#icon-small-up" : "#icon-small-down";
        $drop_icon.find("use").attr("href", icon);
        $child_item_section.toggleClass("hidden");
      });
    }
    show() {
      if (!this.all_pages) {
        setTimeout(() => this.show(), 100);
        return;
      }
      let page = this.get_page_to_show();
      this.page.set_title(__(page.name));
      this.update_selected_sidebar(this.current_page, false);
      this.update_selected_sidebar(page, true);
      this.show_page(page);
    }
    update_selected_sidebar(page, add) {
      let section = page.public ? "public" : "private";
      if (this.sidebar && this.sidebar_items[section] && this.sidebar_items[section][page.name]) {
        let $sidebar = this.sidebar_items[section][page.name];
        let pages = page.public ? this.public_pages : this.private_pages;
        let sidebar_page = pages.find((p) => p.title == page.name);
        if (add) {
          $sidebar[0].firstElementChild.classList.add("selected");
          if (sidebar_page) {
            sidebar_page.selected = true;
          }
          $sidebar.parent().hasClass("sidebar-child-item") && $sidebar.parent().hasClass("hidden") && $sidebar.parent().removeClass("hidden");
          this.current_page = { name: page.name, public: page.public };
          localStorage.current_page = page.name;
          localStorage.is_current_page_public = page.public;
        } else {
          $sidebar[0].firstElementChild.classList.remove("selected");
          if (sidebar_page) {
            sidebar_page.selected = false;
          }
        }
      }
    }
    get_data(page) {
      return frappe.call("frappe.desk.desktop.get_desktop_page", {
        page
      }).then((data) => {
        this.page_data = data.message;
        this.pages[page.name] && delete this.pages[page.name];
        this.pages[page.name] = data.message;
        if (!this.page_data || Object.keys(this.page_data).length === 0) {
          return;
        }
        if (this.page_data.charts && this.page_data.charts.items.length === 0) {
          return;
        }
        return frappe.dashboard_utils.get_dashboard_settings().then((settings) => {
          if (settings) {
            let chart_config = settings.chart_config ? JSON.parse(settings.chart_config) : {};
            this.page_data.charts.items.map((chart) => {
              chart.chart_settings = chart_config[chart.chart_name] || {};
            });
            this.pages[page.name] = this.page_data;
          }
        });
      });
    }
    get_page_to_show() {
      var _a, _b;
      let default_page;
      const firstOrganizationPage = (_a = this.all_pages) == null ? void 0 : _a.find((item2) => item2.organization === this.organization_name);
      const defaultOrganizationPage = (_b = this.all_pages) == null ? void 0 : _b.find((item2) => item2.organization === this.organization_name && item2.default === 1);
      if (defaultOrganizationPage) {
        default_page = { name: defaultOrganizationPage.title, public: defaultOrganizationPage.public };
      } else if (firstOrganizationPage) {
        default_page = { name: firstOrganizationPage.title, public: firstOrganizationPage.public };
      } else {
        default_page = { name: "Build", public: true };
      }
      let page = this.current_page.name || default_page.name;
      let is_public = this.current_page.name ? this.current_page.public : default_page.public;
      return { name: page, public: is_public };
    }
    async show_page(page) {
      if (!this.body.find("#editorjs")[0]) {
        this.$page = $(`
				<div id="editorjs" class="desk-page page-main-content"></div>
			`).appendTo(this.body);
      }
      if (this.all_pages.length) {
        this.create_page_skeleton();
        let pages = page.public && this.public_pages.length ? this.public_pages : this.private_pages;
        let current_page = pages.find((p) => p.title == page.name);
        this.content = current_page && JSON.parse(current_page.content);
        this.content && this.add_custom_cards_in_content();
        $(".item-anchor").addClass("disable-click");
        if (this.pages && this.pages[current_page.name]) {
          this.page_data = this.pages[current_page.name];
        } else {
          await frappe.after_ajax(() => this.get_data(current_page));
        }
        this.setup_actions(page);
        this.prepare_editorjs();
        $(".item-anchor").removeClass("disable-click");
        this.remove_page_skeleton();
      }
    }
    add_custom_cards_in_content() {
      let index = -1;
      this.content.find((item2, i) => {
        if (item2.type == "card") {
          index = i;
        }
      });
      if (index !== -1) {
        this.content.splice(index + 1, 0, {
          type: "card",
          data: { card_name: "Custom Documents", col: 4 }
        });
        this.content.splice(index + 2, 0, {
          type: "card",
          data: { card_name: "Custom Reports", col: 4 }
        });
      }
    }
    prepare_editorjs() {
      if (this.editor) {
        this.editor.isReady.then(() => {
          this.editor.configuration.tools.chart.config.page_data = this.page_data;
          this.editor.configuration.tools.shortcut.config.page_data = this.page_data;
          this.editor.configuration.tools.card.config.page_data = this.page_data;
          this.editor.configuration.tools.onboarding.config.page_data = this.page_data;
          this.editor.configuration.tools.quick_list.config.page_data = this.page_data;
          this.editor.configuration.tools.number_card.config.page_data = this.page_data;
          this.editor.configuration.tools.custom_block.config.page_data = this.page_data;
          this.editor.render({ blocks: this.content || [] });
        });
      } else {
        this.initialize_editorjs(this.content);
      }
    }
    setup_actions(page) {
      let pages = page.public ? this.public_pages : this.private_pages;
      let current_page = pages.find((p) => p.title == page.name);
      if (!this.is_read_only) {
        this.setup_customization_buttons(current_page);
        return;
      }
      this.clear_page_actions();
      this.page.set_secondary_action(__("Edit"), async () => {
        if (!this.editor || !this.editor.readOnly) {
          return;
        }
        this.is_read_only = false;
        this.toggle_hidden_workspaces(true);
        await this.editor.readOnly.toggle();
        this.editor.isReady.then(() => {
          this.initialize_editorjs_undo();
          this.setup_customization_buttons(current_page);
          this.show_sidebar_actions();
          this.make_blocks_sortable();
        });
      });
      this.page.add_inner_button(__("Create Workspace"), () => {
        this.initialize_new_page();
      });
    }
    initialize_editorjs_undo() {
      this.undo = new import_editorjs_undo.default({ editor: this.editor });
      this.undo.initialize({ blocks: this.content || [] });
      this.undo.readOnly = false;
    }
    clear_page_actions() {
      this.page.clear_primary_action();
      this.page.clear_secondary_action();
      this.page.clear_inner_toolbar();
    }
    setup_customization_buttons(page) {
      this.clear_page_actions();
      page.is_editable && this.page.set_primary_action(
        __("Save"),
        () => {
          this.clear_page_actions();
          this.save_page(page).then((saved) => {
            if (!saved) {
              return;
            }
            this.undo.readOnly = true;
            this.editor.readOnly.toggle();
            this.is_read_only = true;
          });
        },
        null,
        __("Saving")
      );
      this.page.set_secondary_action(__("Discard"), async () => {
        this.discard = true;
        this.clear_page_actions();
        this.toggle_hidden_workspaces(false);
        await this.editor.readOnly.toggle();
        this.is_read_only = true;
        this.sidebar_pages = this.cached_pages;
        this.reload();
        frappe.show_alert({ message: __("Customizations Discarded"), indicator: "info" });
      });
      if (page.name && this.has_access) {
        this.page.add_inner_button(__("Settings"), () => {
          frappe.set_route(`workspace/${page.name}`);
        });
      }
    }
    toggle_hidden_workspaces(show) {
      $(".desk-sidebar").toggleClass("show-hidden-workspaces", show);
    }
    show_sidebar_actions() {
      this.sidebar.find(".standard-sidebar-section").addClass("show-control");
      this.make_sidebar_sortable();
    }
    add_sidebar_actions(item2, sidebar_control, is_new) {
      if (!item2.is_editable) {
        sidebar_control.parent().click(() => {
          !this.is_read_only && frappe.show_alert(
            {
              message: __("Only Workspace Manager can sort or edit this page"),
              indicator: "info"
            },
            5
          );
        });
        frappe.utils.add_custom_button(
          frappe.utils.icon("duplicate", "sm"),
          () => this.duplicate_page(item2),
          "duplicate-page",
          __("Duplicate Workspace"),
          null,
          sidebar_control
        );
      } else if (item2.is_hidden) {
        frappe.utils.add_custom_button(
          frappe.utils.icon("unhide", "sm"),
          (e) => this.unhide_workspace(item2, e),
          "unhide-workspace-btn",
          __("Unhide Workspace"),
          null,
          sidebar_control
        );
      } else {
        frappe.utils.add_custom_button(
          frappe.utils.icon("drag", "xs"),
          null,
          "drag-handle",
          __("Drag"),
          null,
          sidebar_control
        );
        !is_new && this.add_settings_button(item2, sidebar_control);
      }
    }
    get_parent_pages(page) {
      this.public_parent_pages = [
        "",
        ...this.public_pages.filter((p) => p.organization === this.organization_name).map((p) => p.title)
      ];
      this.private_parent_pages = [
        "",
        ...this.private_pages.filter((p) => p.organization === this.organization_name).map((p) => p.title)
      ];
      if (page) {
        return page.public ? this.public_parent_pages : this.private_parent_pages;
      }
    }
    edit_page(item2) {
      let me2 = this;
      let old_item = item2;
      let parent_pages = this.get_parent_pages(item2);
      let idx = parent_pages.findIndex((x) => x == item2.title);
      if (idx !== -1) {
        parent_pages.splice(idx, 1);
      }
      const title = item2.title.replaceAll(/{{([^}]+)}}/g, "");
      const res = item2.title.match(/{{([^}]+)}}/);
      const suffix = (res == null ? void 0 : res[1]) || "";
      const d2 = new frappe.ui.Dialog({
        title: __("Update Details"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1,
            default: title
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix",
            default: suffix
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: parent_pages,
            default: item2.parent_page
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default",
            default: item2.default
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon",
            default: item2.icon
          }
        ],
        primary_action_label: __("Update"),
        primary_action: (values) => {
          values.title = frappe.utils.escape_html(`${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`);
          values.is_public = 1;
          let is_title_changed = values.title != old_item.title;
          let is_section_changed = values.is_public != old_item.public;
          if ((is_title_changed || is_section_changed) && !this.validate_page(values, old_item)) {
            return;
          }
          d2.hide();
          frappe.call({
            method: "frappe.desk.doctype.workspace.workspace.update_page",
            args: {
              name: old_item.name,
              title: values.title,
              icon: values.icon || "",
              parent: values.parent || "",
              public: values.is_public || 0
            },
            callback(res2) {
              if (res2.message) {
                frappe.call({
                  method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.set_organization_workspace",
                  args: {
                    workspace_name: res2.message.name,
                    organization_name: me2.organization_name,
                    default: values.default
                  }
                });
                let message = __("Workspace {0} Edited Successfully", [
                  old_item.title.bold()
                ]);
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          this.update_sidebar(old_item, values);
          if (this.make_page_selected) {
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {
              name: values.title,
              public: values.is_public
            };
            this.show();
            this.make_page_selected = false;
          }
          this.make_sidebar();
          this.show_sidebar_actions();
        }
      });
      d2.show();
    }
    update_sidebar(old_item, new_item) {
      let is_section_changed = old_item.public != (new_item.is_public || 0);
      let is_title_changed = old_item.title != new_item.title;
      let new_updated_item = __spreadValues({}, old_item);
      let pages = old_item.public ? this.public_pages : this.private_pages;
      let child_items = pages.filter((page) => page.parent_page == old_item.title);
      this.make_page_selected = old_item.selected;
      new_updated_item.title = new_item.title;
      new_updated_item.icon = new_item.icon;
      new_updated_item.parent_page = new_item.parent || "";
      new_updated_item.public = new_item.is_public;
      if (is_title_changed || is_section_changed) {
        if (new_item.is_public) {
          new_updated_item.name = new_item.title;
          new_updated_item.label = new_item.title;
          new_updated_item.for_user = "";
        } else {
          let { user } = frappe.session;
          new_updated_item.name = `${new_item.title}-${user}`;
          new_updated_item.label = `${new_item.title}-${user}`;
          new_updated_item.for_user = user;
        }
      }
      this.update_cached_values(old_item, new_updated_item);
      if (child_items.length) {
        for (const child of child_items) {
          child.parent_page = new_item.title;
          is_section_changed && this.update_child_sidebar(child, new_item);
        }
      }
    }
    update_child_sidebar(child, new_item) {
      let old_child = __spreadValues({}, child);
      this.make_page_selected = child.selected;
      child.public = new_item.is_public;
      if (new_item.is_public) {
        child.name = child.title;
        child.label = child.title;
        child.for_user = "";
      } else {
        let { user } = frappe.session;
        child.name = `${child.title}-${user}`;
        child.label = `${child.title}-${user}`;
        child.for_user = user;
      }
      this.update_cached_values(old_child, child);
    }
    update_cached_values(old_item, new_item, duplicate, new_page) {
      let [from_pages, to_pages] = old_item.public ? [this.public_pages, this.private_pages] : [this.private_pages, this.public_pages];
      let old_item_index = from_pages.findIndex((page) => page.title == old_item.title);
      duplicate && old_item_index++;
      if (frappe.workspaces[frappe.router.slug(old_item.name)] || new_page) {
        !duplicate && delete frappe.workspaces[frappe.router.slug(old_item.name)];
        if (new_item) {
          frappe.workspaces[frappe.router.slug(new_item.name)] = { title: new_item.title };
        }
      }
      if (this.pages && this.pages[old_item.name] || new_page) {
        if (new_item) {
          this.pages[new_item.name] = this.pages[old_item.name] || {};
        }
        !duplicate && delete this.pages[old_item.name];
      }
      if (new_item) {
        let is_section_changed = old_item.public != (new_item.is_public || new_item.public || 0);
        if (is_section_changed) {
          !duplicate && from_pages.splice(old_item_index, 1);
          to_pages.push(new_item);
        } else if (new_page) {
          from_pages.push(new_item);
        } else {
          from_pages.splice(old_item_index, duplicate ? 0 : 1, new_item);
        }
      } else {
        from_pages.splice(old_item_index, 1);
      }
      this.sidebar_pages.pages = [...this.public_pages, ...this.private_pages];
      this.cached_pages = this.sidebar_pages;
    }
    add_settings_button(item2, sidebar_control) {
      this.dropdown_list = [
        {
          label: __("Edit"),
          title: __("Edit Workspace"),
          icon: frappe.utils.icon("edit", "sm"),
          action: () => this.edit_page(item2)
        },
        {
          label: __("Duplicate"),
          title: __("Duplicate Workspace"),
          icon: frappe.utils.icon("duplicate", "sm"),
          action: () => this.duplicate_page(item2)
        },
        {
          label: __("Hide"),
          title: __("Hide Workspace"),
          icon: frappe.utils.icon("hide", "sm"),
          action: (e) => this.hide_workspace(item2, e)
        }
      ];
      if (this.is_item_deletable(item2)) {
        this.dropdown_list.push({
          label: __("Delete"),
          title: __("Delete Workspace"),
          icon: frappe.utils.icon("delete-active", "sm"),
          action: () => this.delete_page(item2)
        });
      }
      let $button = $(`
			<div class="btn btn-secondary btn-xs setting-btn dropdown-btn" title="${__("Setting")}">
				${frappe.utils.icon("dot-horizontal", "xs")}
			</div>
			<div class="dropdown-list hidden"></div>
		`);
      let dropdown_item = function(label, title, icon, action) {
        let html = $(`
				<div class="dropdown-item" title="${title}">
					<span class="dropdown-item-icon">${icon}</span>
					<span class="dropdown-item-label">${label}</span>
				</div>
			`);
        html.click((event) => {
          event.stopPropagation();
          action && action(event);
        });
        return html;
      };
      $button.filter(".dropdown-btn").click((event) => {
        event.stopPropagation();
        if ($button.filter(".dropdown-list.hidden").length) {
          $(".dropdown-list:not(.hidden)").addClass("hidden");
        }
        $button.filter(".dropdown-list").toggleClass("hidden");
      });
      sidebar_control.append($button);
      for (const i of this.dropdown_list) {
        $button.filter(".dropdown-list").append(dropdown_item(i.label, i.title, i.icon, i.action));
      }
    }
    is_item_deletable(item2) {
      if (!item2.public || item2.public && (!item2.module || item2.module && frappe.boot.developer_mode)) {
        return true;
      }
      return false;
    }
    delete_page(page) {
      frappe.confirm(
        __("Are you sure you want to delete page {0}?", [page.title.bold()]),
        () => {
          frappe.call({
            method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.delete_page",
            args: { page },
            callback: function(res) {
              if (res.message) {
                let page2 = res.message;
                let message = __("Workspace {0} Deleted Successfully", [
                  page2.title.bold()
                ]);
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          this.page.clear_primary_action();
          this.update_cached_values(page);
          if (this.current_page.name == page.title && this.current_page.public == page.public) {
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {};
            this.current_page = this.get_page_to_show();
            this.show();
          }
          this.make_sidebar();
          this.show_sidebar_actions();
        }
      );
    }
    duplicate_page(page) {
      let me2 = this;
      let new_page = __spreadValues({}, page);
      if (!this.has_access && new_page.public) {
        new_page.public = 0;
      }
      let parent_pages = this.get_parent_pages({ public: new_page.public });
      const d2 = new frappe.ui.Dialog({
        title: __("Create Duplicate"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix"
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: parent_pages,
            default: new_page.parent_page
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default",
            default: item.default
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon",
            default: new_page.icon
          }
        ],
        primary_action_label: __("Duplicate"),
        primary_action: (values) => {
          values.title = `${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`;
          values.is_public = 1;
          if (!this.validate_page(values)) {
            return;
          }
          d2.hide();
          frappe.call({
            method: "frappe.desk.doctype.workspace.workspace.duplicate_page",
            args: {
              page_name: page.name,
              new_page: values
            },
            callback(res) {
              if (res.message) {
                frappe.call({
                  method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.save_organization_workspace",
                  args: {
                    workspace_name: res.message.name,
                    organization_name: me2.organization_name,
                    default: values.default
                  }
                });
                let new_page2 = res.message;
                let message = __(
                  "Duplicate of {0} named as {1} is created successfully",
                  [page.title.bold(), new_page2.title.bold()]
                );
                frappe.show_alert({ message, indicator: "green" });
              }
            }
          });
          new_page.title = values.title;
          new_page.public = values.is_public || 0;
          new_page.name = values.title + (new_page.public ? "" : `-${frappe.session.user}`);
          new_page.label = new_page.name;
          new_page.icon = values.icon;
          new_page.parent_page = values.parent || "";
          new_page.for_user = new_page.public ? "" : frappe.session.user;
          new_page.is_editable = !new_page.public;
          new_page.selected = true;
          new_page.organization = this.organization_name;
          this.update_cached_values(page, new_page, true);
          this.update_selected_sidebar(this.current_page, false);
          this.current_page = {
            name: new_page.name,
            public: new_page.public
          };
          this.show();
          me2.make_sidebar();
          me2.show_sidebar_actions();
        }
      });
      d2.show();
    }
    hide_unhide_workspace(page, event, hide) {
      page.is_hidden = hide;
      let sidebar_control = event.target.closest(".sidebar-item-control");
      let sidebar_item_container = sidebar_control.closest(".sidebar-item-container");
      $(sidebar_item_container).attr("item-is-hidden", hide);
      $(sidebar_control).empty();
      this.add_sidebar_actions(page, $(sidebar_control));
      this.add_drop_icon(page, $(sidebar_control), $(sidebar_item_container));
      let cached_page = this.cached_pages.pages.findIndex((p) => p.name === page.name);
      if (cached_page !== -1) {
        this.cached_pages.pages[cached_page].is_hidden = hide;
      }
      let method = hide ? "hide_page" : "unhide_page";
      frappe.call({
        method: `frappe.desk.doctype.workspace.workspace.${method}`,
        args: {
          page_name: page.name
        },
        callback: (r) => {
          if (!r.message) {
            return;
          }
          let message = hide ? "{0} is hidden successfully" : "{0} is unhidden successfully";
          message = __(message, [page.title.bold()]);
          frappe.show_alert({ message, indicator: "green" });
        }
      });
    }
    hide_workspace(page, event) {
      this.hide_unhide_workspace(page, event, 1);
    }
    unhide_workspace(page, event) {
      this.hide_unhide_workspace(page, event, 0);
    }
    make_sidebar_sortable() {
      let me2 = this;
      $(".nested-container").each(function() {
        new Sortable(this, {
          handle: ".drag-handle",
          draggable: ".sidebar-item-container.is-draggable",
          group: "nested",
          animation: 150,
          fallbackOnBody: true,
          swapThreshold: 0.65,
          onEnd: function(evt) {
            let is_public = $(evt.item).attr("item-public") == "1";
            me2.prepare_sorted_sidebar(is_public);
            me2.update_sorted_sidebar();
          }
        });
      });
    }
    prepare_sorted_sidebar(is_public) {
      let pages = is_public ? this.public_pages : this.private_pages;
      if (is_public) {
        this.sorted_public_items = this.sort_sidebar(
          this.sidebar.find(".standard-sidebar-section").last(),
          pages
        );
      } else {
        this.sorted_private_items = this.sort_sidebar(
          this.sidebar.find(".standard-sidebar-section").first(),
          pages
        );
      }
      this.sidebar_pages.pages = [...this.public_pages, ...this.private_pages];
      this.cached_pages = this.sidebar_pages;
    }
    sort_sidebar($sidebar_section, pages) {
      let sorted_items = [];
      for (const [i, page] of Array.from($sidebar_section.find(".sidebar-item-container")).entries()) {
        let parent_page = "";
        if (page.closest(".nested-container").classList.contains("sidebar-child-item")) {
          parent_page = page.parentElement.parentElement.attributes["item-name"].value;
        }
        sorted_items.push({
          title: page.attributes["item-name"].value,
          parent_page,
          public: page.attributes["item-public"].value
        });
        let $drop_icon = $(page).find(".sidebar-item-control .drop-icon").first();
        if ($(page).find(".sidebar-child-item > *").length == 0) {
          $drop_icon.addClass("hidden");
        } else {
          $drop_icon.removeClass("hidden");
        }
        let from_index = pages.findIndex((p) => p.title == page.attributes["item-name"].value);
        let element = pages[from_index];
        element.parent_page = parent_page;
        if (from_index != i) {
          pages.splice(from_index, 1);
          pages.splice(i, 0, element);
        }
      }
      return sorted_items;
    }
    update_sorted_sidebar() {
      if (this.sorted_public_items || this.sorted_private_items) {
        frappe.call({
          method: "frappe.desk.doctype.workspace.workspace.sort_pages",
          args: {
            sb_public_items: this.sorted_public_items,
            sb_private_items: this.sorted_private_items
          },
          callback: function(res) {
            if (res.message) {
              let message = `Sidebar Updated Successfully`;
              frappe.show_alert({ message: __(message), indicator: "green" });
            }
          }
        });
      }
    }
    make_blocks_sortable() {
      let me2 = this;
      this.page_sortable = Sortable.create(
        this.page.main.find(".codex-editor__redactor").get(0),
        {
          handle: ".drag-handle",
          draggable: ".ce-block",
          animation: 150,
          onEnd: function(evt) {
            me2.editor.blocks.move(evt.newIndex, evt.oldIndex);
          },
          setData: function() {
          }
        }
      );
    }
    initialize_new_page() {
      let me2 = this;
      this.get_parent_pages();
      const d2 = new frappe.ui.Dialog({
        title: __("New Workspace"),
        fields: [
          {
            label: __("Title"),
            fieldtype: "Data",
            fieldname: "title",
            reqd: 1
          },
          {
            label: __("Suffix"),
            fieldtype: "Data",
            fieldname: "suffix"
          },
          {
            label: __("Parent"),
            fieldtype: "Select",
            fieldname: "parent",
            options: this.public_parent_pages
          },
          {
            label: __("Default"),
            fieldtype: "Check",
            fieldname: "default"
          },
          {
            fieldtype: "Column Break"
          },
          {
            label: __("Icon"),
            fieldtype: "Icon",
            fieldname: "icon"
          }
        ],
        primary_action_label: __("Create"),
        primary_action: (values) => {
          values.title = frappe.utils.escape_html(`${values.title}${values.suffix ? `{{${values.suffix}}}` : ""}`);
          values.is_public = 1;
          if (!this.validate_page(values)) {
            return;
          }
          d2.hide();
          this.initialize_editorjs_undo();
          this.setup_customization_buttons({ is_editable: true });
          let name = values.title + (values.is_public ? "" : `-${frappe.session.user}`);
          let blocks2 = [
            {
              type: "header",
              data: { text: values.title }
            }
          ];
          let new_page = {
            content: JSON.stringify(blocks2),
            name,
            label: name,
            title: values.title,
            public: values.is_public || 0,
            for_user: values.is_public ? "" : frappe.session.user,
            icon: values.icon,
            parent_page: values.parent || "",
            is_editable: true,
            selected: true
          };
          const me3 = this;
          this.editor.render({
            blocks: blocks2
          }).then(async () => {
            if (this.editor.configuration.readOnly) {
              this.is_read_only = false;
              await this.editor.readOnly.toggle();
            }
            frappe.call({
              method: "frappe.desk.doctype.workspace.workspace.new_page",
              args: {
                new_page
              },
              callback: function(res) {
                if (res.message) {
                  frappe.call({
                    method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.save_organization_workspace",
                    args: {
                      workspace_name: res.message.name,
                      organization_name: me3.organization_name,
                      default: values.default
                    }
                  });
                  let message = __("Workspace {0} Created Successfully", [
                    new_page.title.bold()
                  ]);
                  frappe.show_alert({
                    message,
                    indicator: "green"
                  });
                }
              }
            });
            new_page.organization = this.organization_name;
            this.update_cached_values(new_page, new_page, true, true);
            this.make_sidebar();
            this.show_sidebar_actions();
            this.update_selected_sidebar(this.current_page, false);
            this.current_page = {
              name: new_page.title,
              public: new_page.public
            };
            this.show();
          });
        }
      });
      d2.show();
    }
    validate_page(new_page, old_page) {
      let message = "";
      let [from_pages, to_pages] = new_page.is_public ? [this.private_pages, this.public_pages] : [this.public_pages, this.private_pages];
      let section = this.sidebar_categories[new_page.is_public];
      if (to_pages && to_pages.find((p) => p.title == new_page.title)) {
        message = __("Page with title {0} already exist.", [new_page.title.bold()]);
      }
      if (frappe.router.doctype_route_exist(frappe.router.slug(new_page.title))) {
        message = __("Doctype with same route already exist. Please choose different title.");
      }
      let child_pages = old_page && from_pages.filter((p) => p.parent_page == old_page.title);
      if (child_pages) {
        child_pages.every((child_page) => {
          if (to_pages && to_pages.find((p) => p.title == child_page.title)) {
            message = __(
              "One of the child page with name {0} already exist in {1} Section. Please update the name of the child page first before moving",
              [child_page.title.bold(), section.bold()]
            );
            cur_dialog.hide();
            return false;
          }
          return true;
        });
      }
      if (message) {
        frappe.throw(__(message));
        return false;
      }
      return true;
    }
    add_page_to_sidebar(page) {
      let $sidebar = $(".standard-sidebar-section");
      let item2 = __spreadValues({}, page);
      item2.selected = true;
      item2.is_editable = true;
      let $sidebar_item = this.sidebar_item_container(item2);
      this.add_sidebar_actions(item2, $sidebar_item.find(".sidebar-item-control"), true);
      $sidebar_item.find(".sidebar-item-control .drag-handle").css("margin-right", "8px");
      let sidebar_section = item2.is_public ? $sidebar[1] : $sidebar[0];
      if (item2.parent) {
        let $item_container = $(sidebar_section).find(`[item-name="${item2.parent}"]`);
        let $child_section = $item_container.find(".sidebar-child-item");
        let $drop_icon = $item_container.find(".drop-icon");
        if (!$child_section[0]) {
          $child_section = $(
            `<div class="sidebar-child-item hidden nested-container"></div>`
          ).appendTo($item_container);
          $drop_icon.toggleClass("hidden");
        }
        $sidebar_item.appendTo($child_section);
        $child_section.removeClass("hidden");
        $item_container.find(".drop-icon.hidden").removeClass("hidden");
        $item_container.find(".drop-icon use").attr("href", "#icon-small-up");
      } else {
        !item2.is_public && $sidebar.first().removeClass("hidden");
        $sidebar_item.appendTo(sidebar_section);
      }
      let section = item2.is_public ? "public" : "private";
      if (this.sidebar_items && this.sidebar_items[section] && !this.sidebar_items[section][item2.title]) {
        this.sidebar_items[section][item2.title] = $sidebar_item;
      }
    }
    initialize_editorjs(blocks2) {
      this.tools = {
        header: {
          class: this.blocks.header,
          inlineToolbar: ["HeaderSize", "bold", "italic", "link"],
          config: {
            default_size: 4
          }
        },
        paragraph: {
          class: this.blocks.paragraph,
          inlineToolbar: ["HeaderSize", "bold", "italic", "link"],
          config: {
            placeholder: __("Choose a block or continue typing")
          }
        },
        chart: {
          class: this.blocks.chart,
          config: {
            page_data: this.page_data || []
          }
        },
        card: {
          class: this.blocks.card,
          config: {
            page_data: this.page_data || []
          }
        },
        shortcut: {
          class: this.blocks.shortcut,
          config: {
            page_data: this.page_data || []
          }
        },
        onboarding: {
          class: this.blocks.onboarding,
          config: {
            page_data: this.page_data || []
          }
        },
        quick_list: {
          class: this.blocks.quick_list,
          config: {
            page_data: this.page_data || []
          }
        },
        number_card: {
          class: this.blocks.number_card,
          config: {
            page_data: this.page_data || []
          }
        },
        custom_block: {
          class: this.blocks.custom_block,
          config: {
            page_data: this.page_data || []
          }
        },
        spacer: this.blocks.spacer,
        HeaderSize: frappe.workspace_block.tunes.header_size
      };
      this.editor = new fi({
        data: {
          blocks: blocks2 || []
        },
        tools: this.tools,
        autofocus: false,
        readOnly: true,
        logLevel: "ERROR"
      });
    }
    save_page(page) {
      let me2 = this;
      this.current_page = { name: page.title, public: page.public };
      return this.editor.save().then((outputData) => {
        let new_widgets = {};
        for (const item2 of outputData.blocks) {
          if (item2.data.new) {
            if (!new_widgets[item2.type]) {
              new_widgets[item2.type] = [];
            }
            new_widgets[item2.type].push(item2.data.new);
            delete item2.data.new;
          }
        }
        let blocks2 = outputData.blocks.filter(
          (item2) => item2.type != "card" || item2.data.card_name !== "Custom Documents" && item2.data.card_name !== "Custom Reports"
        );
        if (page.content == JSON.stringify(blocks2) && Object.keys(new_widgets).length === 0) {
          this.setup_customization_buttons(page);
          frappe.show_alert({
            message: __("No changes made on the page"),
            indicator: "warning"
          });
          return false;
        }
        this.create_page_skeleton();
        page.content = JSON.stringify(blocks2);
        frappe.call({
          method: "frappe.desk.doctype.workspace.workspace.save_page",
          args: {
            title: page.title,
            public: page.public || 0,
            new_widgets,
            blocks: JSON.stringify(blocks2)
          },
          callback: function(res) {
            if (res.message) {
              me2.discard = true;
              me2.update_cached_values(page, page);
              me2.reload();
              frappe.show_alert({
                message: __("Page Saved Successfully"),
                indicator: "green"
              });
            }
          }
        });
        return true;
      }).catch((error) => {
        error;
      });
    }
    reload() {
      this.sorted_public_items = [];
      this.sorted_private_items = [];
      this.setup_pages(true);
      this.discard = false;
      this.undo.readOnly = true;
    }
    create_page_skeleton() {
      if (this.body.find(".workspace-skeleton").length) {
        return;
      }
      this.body.prepend(frappe.render_template("workspace_loading_skeleton"));
      this.body.find(".codex-editor").addClass("hidden");
    }
    remove_page_skeleton() {
      this.body.find(".codex-editor").removeClass("hidden");
      this.body.find(".workspace-skeleton").remove();
    }
    create_sidebar_skeleton() {
      if ($(".workspace-sidebar-skeleton").length) {
        return;
      }
      $(frappe.render_template("workspace_sidebar_loading_skeleton")).insertBefore(this.sidebar);
      this.sidebar.addClass("hidden");
    }
    remove_sidebar_skeleton() {
      this.sidebar.removeClass("hidden");
      $(".workspace-sidebar-skeleton").remove();
    }
    register_awesomebar_shortcut() {
      if (!this.organization_name) {
        return;
      }
      for (const letter of "abcdefghijklmnopqrstuvwxyz".split("")) {
        const default_shortcut = {
          action: (e) => {
            $("#navbar-search").focus();
            return false;
          },
          page: this.page
        };
        frappe.ui.keys.add_shortcut(__spreadValues({ shortcut: letter }, default_shortcut));
        frappe.ui.keys.add_shortcut(__spreadValues({ shortcut: `shift+${letter}` }, default_shortcut));
      }
    }
  };

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=script
  var Workspace_default = /* @__PURE__ */ (0, import_vue26.defineComponent)({
    __name: "Workspace",
    props: {
      organization: { type: String, required: true }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const wrapperRef = (0, import_vue27.ref)();
      (0, import_vue27.watch)([wrapperRef, () => props.organization], (_, org) => {
        if (!wrapperRef.value || !props.organization) {
          return;
        }
        wrapperRef.value.innerHTML = "";
        frappe.ui.make_app_page({
          parent: wrapperRef.value,
          name: "Workspaces",
          title: __("Workspace")
        });
        const workspace = new Workspace(wrapperRef.value, props.organization);
        workspace.show();
      }, { immediate: true });
      const __returned__ = { props, wrapperRef };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=style&index=0
  var Workspace_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue?type=template
  var import_vue28 = __require("vue");
  var _hoisted_112 = {
    ref: "wrapperRef",
    class: "content page-container",
    id: "page-Workspaces",
    "data-page-route": "Workspaces"
  };
  function render9(_ctx, _cache, $props, $setup, $data, $options) {
    return (0, import_vue28.openBlock)(), (0, import_vue28.createElementBlock)("div", _hoisted_112, null, 512);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue
  Workspace_default2(Workspace_default);
  Workspace_default.render = render9;
  Workspace_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Workspace.vue";
  Workspace_default.__scopeId = "data-v-89a027f3";
  var Workspace_default3 = Workspace_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=script
  var import_vue29 = __require("vue");
  var import_vue30 = __require("vue");
  var import_element_plus2 = __require("element-plus");

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/helper.ts
  function showPermDialog(role, permissions) {
    const perm_dialog = new frappe.ui.Dialog({ title: __(role) });
    perm_dialog.$wrapper.find(".modal-dialog").css("width", "1200px").css("max-width", "80vw");
    perm_dialog.show();
    const $body = $(perm_dialog.body);
    if (!permissions.length) {
      $body.append(`<div class="text-muted text-center padding">
			${__("{0} role does not have permission on any doctype", [role])}
		</div>`);
      return;
    }
    const table = document.createElement("table");
    table.className = "user-perm";
    const thead = table.appendChild(document.createElement("thead"));
    const tr = thead.appendChild(document.createElement("tr"));
    tr.appendChild(document.createElement("th")).appendChild(document.createTextNode(__("Document Type")));
    tr.appendChild(document.createElement("th")).appendChild(document.createTextNode(__("Level")));
    for (const p of frappe.perm.rights) {
      tr.appendChild(document.createElement("th")).appendChild(document.createTextNode(frappe.unscrub(p)));
    }
    const tbody = table.appendChild(document.createElement("thead"));
    for (const perm of permissions) {
      const tr2 = tbody.appendChild(document.createElement("tr"));
      tr2.appendChild(document.createElement("td")).appendChild(document.createTextNode(perm.parent));
      tr2.appendChild(document.createElement("td")).appendChild(document.createTextNode(perm.permlevel));
      for (const p of frappe.perm.rights) {
        const td = tr2.appendChild(document.createElement("td"));
        td.className = "text-muted bold";
        if (perm[p]) {
          td.innerHTML = frappe.utils.icon("check", "xs");
        } else {
          td.appendChild(document.createTextNode("-"));
        }
      }
    }
    $body.append(table);
  }
  function showPermissions(role) {
    frappe.xcall("frappe.core.doctype.user.user.get_perm_info", { role }).then((p) => showPermDialog(role, p));
  }

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=script
  var Member_default = /* @__PURE__ */ (0, import_vue29.defineComponent)({
    __name: "Member",
    props: {
      organization: { type: String, required: true },
      permissions: { type: null, required: true }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const memberList = (0, import_vue30.ref)([]);
      const loading = (0, import_vue30.ref)(false);
      const tt2 = __;
      (0, import_vue30.watch)(() => props.organization, () => {
        getMembers();
      }, { immediate: true });
      async function getMembers() {
        if (!props.organization) {
          return;
        }
        loading.value = true;
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_members",
          args: {
            organization_name: props.organization,
            is_inherit: 0
          }
        });
        memberList.value = (res == null ? void 0 : res.message) || [];
        loading.value = false;
      }
      function createMember() {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization Member");
        frappe.model.set_value("Tianjy Organization Member", newDoc, "organization", props.organization);
        frappe.set_route(["form", "Tianjy Organization Member", newDoc]);
      }
      function editMember(member) {
        frappe.set_route(["form", "Tianjy Organization Member", member.name]);
      }
      function deleteMember(member) {
        import_element_plus2.ElMessageBox.confirm(
          "\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u4EBA\u5458\u5417?",
          "\u8BF7\u786E\u8BA4",
          {
            confirmButtonText: "\u786E\u5B9A",
            cancelButtonText: "\u53D6\u6D88",
            type: "warning"
          }
        ).then(async () => {
          loading.value = true;
          await frappe.db.delete_doc("Tianjy Organization Member", member.name);
          getMembers();
          (0, import_element_plus2.ElMessage)({
            type: "success",
            message: "\u5220\u9664\u6210\u529F"
          });
        }).catch(() => {
          (0, import_element_plus2.ElMessage)({
            type: "info",
            message: "\u53D6\u6D88\u5220\u9664"
          });
        });
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization Member");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization Member" && p.doctype !== "Tianjy Organization Role") {
          return;
        }
        getMembers();
      });
      const popstateListener = function(event) {
        getMembers();
      };
      (0, import_vue30.onMounted)(() => {
        window.addEventListener("popstate", popstateListener);
      });
      (0, import_vue30.onUnmounted)(() => {
        window.removeEventListener("popstate", popstateListener);
      });
      const __returned__ = { props, memberList, loading, tt: tt2, getMembers, createMember, editMember, deleteMember, popstateListener, get showPermissions() {
        return showPermissions;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=style&index=0
  var Member_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue?type=template
  var import_vue31 = __require("vue");
  var _hoisted_113 = { class: "member" };
  var _hoisted_27 = { class: "btn-container" };
  var _hoisted_37 = ["onClick"];
  function render10(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_ElButton = (0, import_vue31.resolveComponent)("ElButton");
    const _component_el_table_column = (0, import_vue31.resolveComponent)("el-table-column");
    const _component_el_table = (0, import_vue31.resolveComponent)("el-table");
    const _directive_loading = (0, import_vue31.resolveDirective)("loading");
    return (0, import_vue31.withDirectives)(((0, import_vue31.openBlock)(), (0, import_vue31.createElementBlock)("div", _hoisted_113, [
      (0, import_vue31.createElementVNode)("div", _hoisted_27, [
        $props.permissions.createPermission ? ((0, import_vue31.openBlock)(), (0, import_vue31.createBlock)(_component_ElButton, {
          key: 0,
          type: "primary",
          onClick: $setup.createMember
        }, {
          default: (0, import_vue31.withCtx)(() => [
            (0, import_vue31.createTextVNode)("\u65B0\u589E\u4EBA\u5458")
          ]),
          _: 1
        })) : (0, import_vue31.createCommentVNode)("v-if", true)
      ]),
      (0, import_vue31.createVNode)(_component_el_table, {
        data: $setup.memberList,
        border: "",
        style: { "width": "100%" },
        height: "100%"
      }, {
        default: (0, import_vue31.withCtx)(() => [
          (0, import_vue31.createVNode)(_component_el_table_column, {
            fixed: "",
            prop: "user_doc.full_name",
            label: "\u7528\u6237",
            width: "180"
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "role",
            label: "\u89D2\u8272"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              ((0, import_vue31.openBlock)(true), (0, import_vue31.createElementBlock)(import_vue31.Fragment, null, (0, import_vue31.renderList)(scope.row.roles, (roleDoc) => {
                return (0, import_vue31.openBlock)(), (0, import_vue31.createElementBlock)("span", {
                  class: "role",
                  onClick: ($event) => $setup.showPermissions(roleDoc.role)
                }, (0, import_vue31.toDisplayString)($setup.tt(roleDoc.role)), 9, _hoisted_37);
              }), 256))
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "visible",
            label: "\u53EF\u89C1",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.visible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "viewable",
            label: "\u53EF\u67E5\u770B",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.viewable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "addible",
            label: "\u53EF\u6DFB\u52A0",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.addible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "editable",
            label: "\u53EF\u7F16\u8F91",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.editable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "deletable",
            label: "\u53EF\u5220\u9664",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.deletable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue31.createVNode)(_component_el_table_column, {
            prop: "manageable",
            label: "\u53EF\u7BA1\u7406",
            width: "60"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              (0, import_vue31.createTextVNode)((0, import_vue31.toDisplayString)(scope.row.manageable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          $props.permissions.writePermission || $props.permissions.deletePermission ? ((0, import_vue31.openBlock)(), (0, import_vue31.createBlock)(_component_el_table_column, {
            key: 0,
            prop: "address",
            label: "\u64CD\u4F5C",
            width: "130"
          }, {
            default: (0, import_vue31.withCtx)((scope) => [
              $props.permissions.writePermission ? ((0, import_vue31.openBlock)(), (0, import_vue31.createBlock)(_component_ElButton, {
                key: 0,
                type: "primary",
                onClick: ($event) => $setup.editMember(scope.row)
              }, {
                default: (0, import_vue31.withCtx)(() => [
                  (0, import_vue31.createTextVNode)("\u7F16\u8F91")
                ]),
                _: 2
              }, 1032, ["onClick"])) : (0, import_vue31.createCommentVNode)("v-if", true),
              $props.permissions.deletePermission ? ((0, import_vue31.openBlock)(), (0, import_vue31.createBlock)(_component_ElButton, {
                key: 1,
                type: "danger",
                onClick: ($event) => $setup.deleteMember(scope.row)
              }, {
                default: (0, import_vue31.withCtx)(() => [
                  (0, import_vue31.createTextVNode)("\u5220\u9664")
                ]),
                _: 2
              }, 1032, ["onClick"])) : (0, import_vue31.createCommentVNode)("v-if", true)
            ]),
            _: 1
          })) : (0, import_vue31.createCommentVNode)("v-if", true)
        ]),
        _: 1
      }, 8, ["data"])
    ])), [
      [_directive_loading, $setup.loading]
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue
  Member_default2(Member_default);
  Member_default.render = render10;
  Member_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Member.vue";
  Member_default.__scopeId = "data-v-b487dc22";
  var Member_default3 = Member_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue?type=script
  var import_vue32 = __require("vue");
  var import_vue33 = __require("vue");
  var import_element_plus3 = __require("element-plus");
  var Inherit_default = /* @__PURE__ */ (0, import_vue32.defineComponent)({
    __name: "Inherit",
    props: {
      organization: { type: String, required: true },
      permissions: { type: null, required: true }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const inheritList = (0, import_vue33.ref)([]);
      const loading = (0, import_vue33.ref)(false);
      (0, import_vue33.watch)(() => props.organization, () => {
        getInherits();
      }, { immediate: true });
      async function getInherits() {
        if (!props.organization) {
          return;
        }
        loading.value = true;
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_inherit",
          args: {
            organization_name: props.organization
          }
        });
        inheritList.value = (res == null ? void 0 : res.message) || [];
        loading.value = false;
      }
      function createInherit() {
        const newDoc = frappe.model.make_new_doc_and_get_name("Tianjy Organization Inheritable");
        frappe.model.set_value("Tianjy Organization Inheritable", newDoc, "organization", props.organization);
        frappe.set_route(["form", "Tianjy Organization Inheritable", newDoc]);
      }
      function editInherit(inheritOrganization) {
        frappe.set_route(["form", "Tianjy Organization Inheritable", inheritOrganization.name]);
      }
      function deleteInherit(inheritOrganization) {
        import_element_plus3.ElMessageBox.confirm(
          "\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u4EBA\u5458\u5417?",
          "\u8BF7\u786E\u8BA4",
          {
            confirmButtonText: "\u786E\u5B9A",
            cancelButtonText: "\u53D6\u6D88",
            type: "warning"
          }
        ).then(async () => {
          loading.value = true;
          await frappe.db.delete_doc("Tianjy Organization Inheritable", inheritOrganization.name);
          getInherits();
          (0, import_element_plus3.ElMessage)({
            type: "success",
            message: "\u5220\u9664\u6210\u529F"
          });
        }).catch(() => {
          (0, import_element_plus3.ElMessage)({
            type: "info",
            message: "\u53D6\u6D88\u5220\u9664"
          });
        });
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization Inheritable");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization Inheritable") {
          return;
        }
        getInherits();
      });
      const __returned__ = { props, inheritList, loading, getInherits, createInherit, editInherit, deleteInherit };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue?type=style&index=0
  var Inherit_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue?type=template
  var import_vue34 = __require("vue");
  var _hoisted_114 = { class: "inheritable-organization" };
  var _hoisted_28 = { class: "btn-container" };
  function render11(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_ElButton = (0, import_vue34.resolveComponent)("ElButton");
    const _component_el_table_column = (0, import_vue34.resolveComponent)("el-table-column");
    const _component_el_table = (0, import_vue34.resolveComponent)("el-table");
    const _directive_loading = (0, import_vue34.resolveDirective)("loading");
    return (0, import_vue34.withDirectives)(((0, import_vue34.openBlock)(), (0, import_vue34.createElementBlock)("div", _hoisted_114, [
      (0, import_vue34.createElementVNode)("div", _hoisted_28, [
        $props.permissions.createPermission ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)(_component_ElButton, {
          key: 0,
          type: "primary",
          onClick: $setup.createInherit
        }, {
          default: (0, import_vue34.withCtx)(() => [
            (0, import_vue34.createTextVNode)("\u7EE7\u627F\u7EC4\u7EC7")
          ]),
          _: 1
        })) : (0, import_vue34.createCommentVNode)("v-if", true)
      ]),
      (0, import_vue34.createVNode)(_component_el_table, {
        data: $setup.inheritList,
        border: "",
        style: { "width": "100%" },
        height: "100%"
      }, {
        default: (0, import_vue34.withCtx)(() => [
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "inherit_from_organization_doc.label",
            label: "\u7EE7\u627F\u81EA"
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "visible",
            label: "\u53EF\u89C1",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.visible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "viewable",
            label: "\u53EF\u67E5\u770B",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.viewable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "addible",
            label: "\u53EF\u6DFB\u52A0",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.addible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "editable",
            label: "\u53EF\u7F16\u8F91",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.editable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "deletable",
            label: "\u53EF\u5220\u9664",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.deletable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue34.createVNode)(_component_el_table_column, {
            prop: "manageable",
            label: "\u53EF\u7BA1\u7406",
            width: "60"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              (0, import_vue34.createTextVNode)((0, import_vue34.toDisplayString)(scope.row.manageable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          $props.permissions.writePermission || $props.permissions.deletePermission ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)(_component_el_table_column, {
            key: 0,
            prop: "address",
            label: "\u64CD\u4F5C",
            width: "130"
          }, {
            default: (0, import_vue34.withCtx)((scope) => [
              $props.permissions.writePermission ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)(_component_ElButton, {
                key: 0,
                type: "primary",
                onClick: ($event) => $setup.editInherit(scope.row)
              }, {
                default: (0, import_vue34.withCtx)(() => [
                  (0, import_vue34.createTextVNode)("\u7F16\u8F91")
                ]),
                _: 2
              }, 1032, ["onClick"])) : (0, import_vue34.createCommentVNode)("v-if", true),
              $props.permissions.deletePermission ? ((0, import_vue34.openBlock)(), (0, import_vue34.createBlock)(_component_ElButton, {
                key: 1,
                type: "danger",
                onClick: ($event) => $setup.deleteInherit(scope.row)
              }, {
                default: (0, import_vue34.withCtx)(() => [
                  (0, import_vue34.createTextVNode)("\u5220\u9664")
                ]),
                _: 2
              }, 1032, ["onClick"])) : (0, import_vue34.createCommentVNode)("v-if", true)
            ]),
            _: 1
          })) : (0, import_vue34.createCommentVNode)("v-if", true)
        ]),
        _: 1
      }, 8, ["data"])
    ])), [
      [_directive_loading, $setup.loading]
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue
  Inherit_default2(Inherit_default);
  Inherit_default.render = render11;
  Inherit_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/Inherit.vue";
  Inherit_default.__scopeId = "data-v-4e2c9cb6";
  var Inherit_default3 = Inherit_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue?type=script
  var import_vue35 = __require("vue");
  var import_vue36 = __require("vue");
  var InheritMember_default = /* @__PURE__ */ (0, import_vue35.defineComponent)({
    __name: "InheritMember",
    props: {
      organization: { type: String, required: true },
      permissions: { type: null, required: true }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const memberList = (0, import_vue36.ref)([]);
      const loading = (0, import_vue36.ref)(false);
      const tt2 = __;
      (0, import_vue36.watch)(() => props.organization, () => {
        getMembers();
      }, { immediate: true });
      async function getMembers() {
        if (!props.organization) {
          return;
        }
        loading.value = true;
        const res = await frappe.call({
          method: "tianjy_organization.tianjy_organization.page.tianjy_organization_config.tianjy_organization_config.get_members",
          args: {
            organization_name: props.organization,
            is_inherit: 1
          }
        });
        memberList.value = (res == null ? void 0 : res.message) || [];
        loading.value = false;
      }
      function editMember(member) {
        frappe.set_route(["form", "Tianjy Organization Member", member.name]);
      }
      frappe.socketio.doctype_subscribe("Tianjy Organization Member");
      frappe.realtime.on("list_update", (p) => {
        if (p.doctype !== "Tianjy Organization Member" && p.doctype !== "Tianjy Organization Role") {
          return;
        }
        getMembers();
      });
      const popstateListener = function(event) {
        getMembers();
      };
      (0, import_vue36.onMounted)(() => {
        window.addEventListener("popstate", popstateListener);
      });
      (0, import_vue36.onUnmounted)(() => {
        window.removeEventListener("popstate", popstateListener);
      });
      const __returned__ = { props, memberList, loading, tt: tt2, getMembers, editMember, popstateListener, get showPermissions() {
        return showPermissions;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue?type=style&index=0
  var InheritMember_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue?type=template
  var import_vue37 = __require("vue");
  var _hoisted_115 = { class: "member" };
  var _hoisted_29 = ["onClick"];
  function render12(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_table_column = (0, import_vue37.resolveComponent)("el-table-column");
    const _component_ElButton = (0, import_vue37.resolveComponent)("ElButton");
    const _component_el_table = (0, import_vue37.resolveComponent)("el-table");
    const _directive_loading = (0, import_vue37.resolveDirective)("loading");
    return (0, import_vue37.withDirectives)(((0, import_vue37.openBlock)(), (0, import_vue37.createElementBlock)("div", _hoisted_115, [
      (0, import_vue37.createVNode)(_component_el_table, {
        data: $setup.memberList,
        border: "",
        style: { "width": "100%" },
        height: "100%"
      }, {
        default: (0, import_vue37.withCtx)(() => [
          (0, import_vue37.createVNode)(_component_el_table_column, {
            fixed: "",
            prop: "user_doc.full_name",
            label: "\u7528\u6237",
            width: "180"
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "role",
            label: "\u89D2\u8272"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              ((0, import_vue37.openBlock)(true), (0, import_vue37.createElementBlock)(import_vue37.Fragment, null, (0, import_vue37.renderList)(scope.row.roles, (roleDoc) => {
                return (0, import_vue37.openBlock)(), (0, import_vue37.createElementBlock)("span", {
                  class: "role",
                  onClick: ($event) => $setup.showPermissions(roleDoc.role)
                }, (0, import_vue37.toDisplayString)($setup.tt(roleDoc.role)), 9, _hoisted_29);
              }), 256))
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "visible",
            label: "\u53EF\u89C1",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.visible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "viewable",
            label: "\u53EF\u67E5\u770B",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.viewable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "addible",
            label: "\u53EF\u6DFB\u52A0",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.addible ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "editable",
            label: "\u53EF\u7F16\u8F91",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.editable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "deletable",
            label: "\u53EF\u5220\u9664",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.deletable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          (0, import_vue37.createVNode)(_component_el_table_column, {
            prop: "manageable",
            label: "\u53EF\u7BA1\u7406",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              (0, import_vue37.createTextVNode)((0, import_vue37.toDisplayString)(scope.row.manageable ? "\u662F" : "\u5426"), 1)
            ]),
            _: 1
          }),
          $props.permissions.writePermission || $props.permissions.deletePermission ? ((0, import_vue37.openBlock)(), (0, import_vue37.createBlock)(_component_el_table_column, {
            key: 0,
            prop: "address",
            label: "\u64CD\u4F5C",
            width: "60"
          }, {
            default: (0, import_vue37.withCtx)((scope) => [
              $props.permissions.writePermission ? ((0, import_vue37.openBlock)(), (0, import_vue37.createBlock)(_component_ElButton, {
                key: 0,
                type: "primary",
                onClick: ($event) => $setup.editMember(scope.row)
              }, {
                default: (0, import_vue37.withCtx)(() => [
                  (0, import_vue37.createTextVNode)("\u8BE6\u60C5")
                ]),
                _: 2
              }, 1032, ["onClick"])) : (0, import_vue37.createCommentVNode)("v-if", true)
            ]),
            _: 1
          })) : (0, import_vue37.createCommentVNode)("v-if", true)
        ]),
        _: 1
      }, 8, ["data"])
    ])), [
      [_directive_loading, $setup.loading]
    ]);
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue
  InheritMember_default2(InheritMember_default);
  InheritMember_default.render = render12;
  InheritMember_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/components/InheritMember.vue";
  InheritMember_default.__scopeId = "data-v-b28ae675";
  var InheritMember_default3 = InheritMember_default;

  // sfc-script:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=script
  var tianjy_organization_config_default = /* @__PURE__ */ (0, import_vue38.defineComponent)({
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      const organization = (0, import_vue39.ref)();
      const activeName = (0, import_vue39.ref)("info");
      const organizationMeta = (0, import_vue39.ref)();
      const memberMeta = (0, import_vue39.ref)();
      const inheritMeta = (0, import_vue39.ref)();
      (0, import_vue39.onMounted)(async () => {
        organizationMeta.value = await getMeta("Tianjy Organization");
        memberMeta.value = await getMeta("Tianjy Organization Member");
        inheritMeta.value = await getMeta("Tianjy Organization Inheritable");
      });
      async function getMeta(doctype) {
        let local_meta = frappe.get_meta(doctype);
        if (local_meta) {
          return local_meta;
        }
        await frappe.model.with_doctype(doctype);
        return frappe.get_meta(doctype) || void 0;
      }
      function getPermission(meta) {
        if (!meta) {
          return { deletePermission: false, createPermission: false, writePermission: false };
        }
        const deletePermission = frappe.perm.has_perm(meta.name, 0, "delete");
        const createPermission = frappe.perm.has_perm(meta.name, 0, "create");
        const writePermission = frappe.perm.has_perm(meta.name, 0, "write");
        return { deletePermission, createPermission, writePermission };
      }
      const organizationPermissions = (0, import_vue39.computed)(() => getPermission(organizationMeta.value));
      const memberPermissions = (0, import_vue39.computed)(() => getPermission(memberMeta.value));
      const inheritPermissions = (0, import_vue39.computed)(() => getPermission(inheritMeta.value));
      const __returned__ = { organization, activeName, organizationMeta, memberMeta, inheritMeta, getMeta, getPermission, organizationPermissions, memberPermissions, inheritPermissions, Page: page_default3, OrganizationTree: OrganizationTree_default3, FormDetail: Detail_default3, Workspace: Workspace_default3, Member: Member_default3, Inherit: Inherit_default3, InheritMember: InheritMember_default3 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });

  // sfc-style:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=style&index=0
  var tianjy_organization_config_default2 = () => {
  };

  // sfc-template:/Users/px/Code/frappe-bench/apps/tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue?type=template
  var import_vue40 = __require("vue");
  var _withScopeId3 = (n) => ((0, import_vue40.pushScopeId)("data-v-cb280acd"), n = n(), (0, import_vue40.popScopeId)(), n);
  var _hoisted_116 = /* @__PURE__ */ _withScopeId3(() => /* @__PURE__ */ (0, import_vue40.createElementVNode)("h3", { class: "title" }, "\u7EC4\u7EC7\u914D\u7F6E", -1));
  function render13(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_el_tab_pane = (0, import_vue40.resolveComponent)("el-tab-pane");
    const _component_el_tabs = (0, import_vue40.resolveComponent)("el-tabs");
    return (0, import_vue40.openBlock)(), (0, import_vue40.createBlock)($setup["Page"], null, {
      title: (0, import_vue40.withCtx)(() => [
        _hoisted_116
      ]),
      sider: (0, import_vue40.withCtx)(() => [
        (0, import_vue40.createVNode)($setup["OrganizationTree"], {
          modelValue: $setup.organization,
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.organization = $event),
          permissions: $setup.organizationPermissions
        }, null, 8, ["modelValue", "permissions"])
      ]),
      default: (0, import_vue40.withCtx)(() => [
        (0, import_vue40.createVNode)(_component_el_tabs, {
          modelValue: $setup.activeName,
          "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.activeName = $event),
          class: "organization-tabs"
        }, {
          default: (0, import_vue40.withCtx)(() => {
            var _a;
            return [
              (0, import_vue40.createVNode)(_component_el_tab_pane, {
                class: "tab-container",
                label: "\u57FA\u672C\u4FE1\u606F",
                name: "info"
              }, {
                default: (0, import_vue40.withCtx)(() => {
                  var _a2;
                  return [
                    (0, import_vue40.createVNode)($setup["FormDetail"], {
                      name: (_a2 = $setup.organization) == null ? void 0 : _a2.name,
                      doctype: "Tianjy Organization"
                    }, null, 8, ["name"])
                  ];
                }),
                _: 1
              }),
              ((_a = $setup.organization) == null ? void 0 : _a.type_doc.no_workspace) === 0 ? ((0, import_vue40.openBlock)(), (0, import_vue40.createBlock)(_component_el_tab_pane, {
                key: 0,
                class: "tab-container",
                label: "\u5DE5\u4F5C\u533A",
                name: "workspace"
              }, {
                default: (0, import_vue40.withCtx)(() => [
                  $setup.organization ? ((0, import_vue40.openBlock)(), (0, import_vue40.createBlock)($setup["Workspace"], {
                    key: 0,
                    organization: $setup.organization.name
                  }, null, 8, ["organization"])) : (0, import_vue40.createCommentVNode)("v-if", true)
                ]),
                _: 1
              })) : (0, import_vue40.createCommentVNode)("v-if", true),
              (0, import_vue40.createVNode)(_component_el_tab_pane, {
                class: "tab-container",
                label: "\u6210\u5458",
                name: "users"
              }, {
                default: (0, import_vue40.withCtx)(() => [
                  $setup.organization ? ((0, import_vue40.openBlock)(), (0, import_vue40.createBlock)($setup["Member"], {
                    key: 0,
                    organization: $setup.organization.name,
                    permissions: $setup.memberPermissions
                  }, null, 8, ["organization", "permissions"])) : (0, import_vue40.createCommentVNode)("v-if", true)
                ]),
                _: 1
              }),
              (0, import_vue40.createVNode)(_component_el_tab_pane, {
                class: "tab-container",
                label: "\u7EE7\u627F",
                name: "inherit"
              }, {
                default: (0, import_vue40.withCtx)(() => [
                  $setup.organization ? ((0, import_vue40.openBlock)(), (0, import_vue40.createBlock)($setup["Inherit"], {
                    key: 0,
                    organization: $setup.organization.name,
                    permissions: $setup.inheritPermissions
                  }, null, 8, ["organization", "permissions"])) : (0, import_vue40.createCommentVNode)("v-if", true)
                ]),
                _: 1
              }),
              (0, import_vue40.createVNode)(_component_el_tab_pane, {
                class: "tab-container",
                label: "\u7EE7\u627F\u4EBA\u5458",
                name: "inherit_members"
              }, {
                default: (0, import_vue40.withCtx)(() => [
                  $setup.organization ? ((0, import_vue40.openBlock)(), (0, import_vue40.createBlock)($setup["InheritMember"], {
                    key: 0,
                    organization: $setup.organization.name,
                    permissions: $setup.inheritPermissions
                  }, null, 8, ["organization", "permissions"])) : (0, import_vue40.createCommentVNode)("v-if", true)
                ]),
                _: 1
              })
            ];
          }),
          _: 1
        }, 8, ["modelValue"])
      ]),
      _: 1
    });
  }

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue
  tianjy_organization_config_default2(tianjy_organization_config_default);
  tianjy_organization_config_default.render = render13;
  tianjy_organization_config_default.__file = "../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.vue";
  tianjy_organization_config_default.__scopeId = "data-v-cb280acd";
  var tianjy_organization_config_default3 = tianjy_organization_config_default;

  // ../tianjy_organization/tianjy_organization/tianjy_organization/page/tianjy_organization_config/tianjy_organization_config/index.ts
  var import_element_plus4 = __toESM(__require("element-plus"));
  var import_zh_cn = __toESM(__require("element-plus/dist/locale/zh-cn"));
  frappe.pages["tianjy_organization_config"].on_page_load = function(wrapper) {
    var page = frappe.ui.make_app_page({
      parent: wrapper,
      title: "\u7EC4\u7EC7\u914D\u7F6E",
      single_column: true
    });
    const app = (0, import_vue41.createApp)(tianjy_organization_config_default3, {});
    app.use((app2) => {
      app2.config.globalProperties.$page = page;
    });
    app.use(import_element_plus4.default, { size: "small", locale: import_zh_cn.default });
    app.mount(page.parent);
  };
})();
/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */
/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */
/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */
/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vZnJhcHBlL25vZGVfbW9kdWxlcy9lZGl0b3Jqcy11bmRvL2Rpc3QvYnVuZGxlLmpzIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnRzIiwgIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlIiwgIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvdXNlTWV0YVF1ZXJ5LnRzIiwgIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvVG9nZ2xlQnRuLnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL2luZGV4LnZ1ZT90eXBlPXN0eWxlJmluZGV4PTAiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWUiLCAiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2hlbHBlci50cyIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvVHJlZUl0ZW0udnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT10ZW1wbGF0ZSIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlIiwgIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9EZXRhaWwudnVlIiwgImd1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZSIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvdXRpbHMvZ2V0TGluay50cyIsICJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9NYWluLnZ1ZSIsICJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlP3R5cGU9c3R5bGUmaW5kZXg9MCIsICJzZmMtdGVtcGxhdGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZT90eXBlPXRlbXBsYXRlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvRm9vdGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL1BhZ2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvVG9vbGJhci50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC91bmRvX21hbmFnZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTGF5b3V0L1NlY3Rpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTGF5b3V0L1RhYi50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9MYXlvdXQvQ29sdW1uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0xheW91dC9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9Gb3JtLnRzIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2xvYWREb2MudHMiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvdXNlU3RvcmUudHMiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL01haW4udnVlP3R5cGU9dGVtcGxhdGUiLCAiLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTWFpbi52dWUiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZT90eXBlPXRlbXBsYXRlIiwgIi4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZSIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0RldGFpbC52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZSIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZSIsICIuLi8uLi8uLi8uLi8uLi9mcmFwcGUvbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9lZGl0b3Jqcy9kaXN0L2VkaXRvcmpzLm1qcyIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL3dvcmtzcGFjZS5qcyIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1dvcmtzcGFjZS52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZSIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZSIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL2hlbHBlci50cyIsICJzZmMtc3R5bGU6L1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZSIsICIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdC52dWUiLCAic2ZjLXN0eWxlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0LnZ1ZT90eXBlPXN0eWxlJmluZGV4PTAiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0LnZ1ZT90eXBlPXRlbXBsYXRlIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdC52dWUiLCAiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0luaGVyaXRNZW1iZXIudnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdE1lbWJlci52dWU/dHlwZT1zdHlsZSZpbmRleD0wIiwgInNmYy10ZW1wbGF0ZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdE1lbWJlci52dWU/dHlwZT10ZW1wbGF0ZSIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0luaGVyaXRNZW1iZXIudnVlIiwgInNmYy1zdHlsZTovVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXN0eWxlJmluZGV4PTAiLCAic2ZjLXRlbXBsYXRlOi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGUiLCAidGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlVuZG89ZSgpOnQuVW5kbz1lKCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihpKXtpZihlW2ldKXJldHVybiBlW2ldLmV4cG9ydHM7dmFyIG89ZVtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbaV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxpKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1uKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChpLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCIvXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLmtleSxpKX19bi5yKGUpLG4uZChlLFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5ob2xkZXI9XCJzdHJpbmdcIj09dHlwZW9mIG4/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobik6bix0aGlzLm9ic2VydmVyPW51bGwsdGhpcy5kZWJvdW5jZVRpbWVyPTIwMCx0aGlzLm11dGF0aW9uRGVib3VuY2VyPXRoaXMuZGVib3VuY2UoKGZ1bmN0aW9uKCl7ZSgpfSksdGhpcy5kZWJvdW5jZVRpbWVyKX12YXIgZSxuLG87cmV0dXJuIGU9dCwobj1be2tleTpcInNldE11dGF0aW9uT2JzZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmhvbGRlcjt0aGlzLm9ic2VydmVyPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihlKXt0Lm11dGF0aW9uSGFuZGxlcihlKX0pKSx0aGlzLm9ic2VydmVyLm9ic2VydmUoZSx7Y2hpbGRMaXN0OiEwLGF0dHJpYnV0ZXM6ITAsc3VidHJlZTohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMH0pfX0se2tleTpcIm11dGF0aW9uSGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0hMTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcImNoaWxkTGlzdFwiOnQudGFyZ2V0PT09ZS5ob2xkZXI/ZS5vbkRlc3Ryb3koKTpuPSEwO2JyZWFrO2Nhc2VcImNoYXJhY3RlckRhdGFcIjpuPSEwO2JyZWFrO2Nhc2VcImF0dHJpYnV0ZXNcIjp0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjZS1ibG9ja1wiKXx8KG49ITApfX0pKSxuJiZ0aGlzLm11dGF0aW9uRGVib3VuY2VyKCl9fSx7a2V5OlwiZGVib3VuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShvKSxzPTA7czxvO3MrKylyW3NdPWFyZ3VtZW50c1tzXTt2YXIgYT1pO2NsZWFyVGltZW91dChuKSxuPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoYSxyKX0pLGUpfX19LHtrZXk6XCJvbkRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBDdXN0b21FdmVudChcImRlc3Ryb3lcIik7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCh0KSx0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKX19XSkmJmkoZS5wcm90b3R5cGUsbiksbyYmaShlLG8pLHR9KCk7ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLmtleSxpKX19dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMsaT1lLmVkaXRvcixyPWUub25VcGRhdGUscz1lLm1heExlbmd0aDshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpO3ZhciBhPXttYXhMZW5ndGg6MzAsb25VcGRhdGU6ZnVuY3Rpb24oKXt9fSx1PWkuY29uZmlndXJhdGlvbjt0aGlzLmVkaXRvcj1pLHRoaXMuc2hvdWxkU2F2ZUhpc3Rvcnk9ITAsdGhpcy5yZWFkT25seT11LnJlYWRPbmx5LHRoaXMubWF4TGVuZ3RoPXN8fGEubWF4TGVuZ3RoLHRoaXMub25VcGRhdGU9cnx8YS5vblVwZGF0ZSxuZXcgbygoZnVuY3Rpb24oKXtyZXR1cm4gbi5yZWdpc3RlckNoYW5nZSgpfSksdS5ob2xkZXIpLnNldE11dGF0aW9uT2JzZXJ2ZXIoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbml0aWFsSXRlbT1udWxsLHRoaXMuY2xlYXIoKX12YXIgZSxuLGk7cmV0dXJuIGU9dCxpPVt7a2V5OlwiaXNSZWFkT25seVN1cHBvcnRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX1dLChuPVt7a2V5OlwidHJ1bmNhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcig7dC5sZW5ndGg+ZTspdC5zaGlmdCgpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1cImJsb2Nrc1wiaW4gdD90LmJsb2Nrczp0LG49e2luZGV4OmUubGVuZ3RoLTEsc3RhdGU6ZX07dGhpcy5zdGFja1swXT1uLHRoaXMuaW5pdGlhbEl0ZW09bn19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLmluaXRpYWxJdGVtP1t0aGlzLmluaXRpYWxJdGVtXTpbe2luZGV4OjAsc3RhdGU6W119XSx0aGlzLnBvc2l0aW9uPTAsdGhpcy5vblVwZGF0ZSgpfX0se2tleTpcInJlZ2lzdGVyQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucmVhZE9ubHl8fCh0aGlzLmVkaXRvciYmdGhpcy5lZGl0b3Iuc2F2ZSYmdGhpcy5zaG91bGRTYXZlSGlzdG9yeSYmdGhpcy5lZGl0b3Iuc2F2ZSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZWRpdG9yRGlkVXBkYXRlKGUuYmxvY2tzKSYmdC5zYXZlKGUuYmxvY2tzKX0pKSx0aGlzLnNob3VsZFNhdmVIaXN0b3J5PSEwKX19LHtrZXk6XCJlZGl0b3JEaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YWNrW3RoaXMucG9zaXRpb25dLnN0YXRlO3JldHVybiB0Lmxlbmd0aCE9PWUubGVuZ3RofHxKU09OLnN0cmluZ2lmeShlKSE9PUpTT04uc3RyaW5naWZ5KHQpfX0se2tleTpcInNhdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uPj10aGlzLm1heExlbmd0aCYmdGhpcy50cnVuY2F0ZSh0aGlzLnN0YWNrLHRoaXMubWF4TGVuZ3RoKSx0aGlzLnBvc2l0aW9uPU1hdGgubWluKHRoaXMucG9zaXRpb24sdGhpcy5zdGFjay5sZW5ndGgtMSksdGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5wb3NpdGlvbisxKTt2YXIgZT10aGlzLmVkaXRvci5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKTt0aGlzLnN0YWNrLnB1c2goe2luZGV4OmUsc3RhdGU6dH0pLHRoaXMucG9zaXRpb24rPTEsdGhpcy5vblVwZGF0ZSgpfX0se2tleTpcInVuZG9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5jYW5VbmRvKCkpe3RoaXMuc2hvdWxkU2F2ZUhpc3Rvcnk9ITE7dmFyIGU9dGhpcy5zdGFja1t0aGlzLnBvc2l0aW9uLT0xXSxuPWUuaW5kZXgsaT1lLnN0YXRlO3RoaXMub25VcGRhdGUoKSx0aGlzLmVkaXRvci5ibG9ja3MucmVuZGVyKHtibG9ja3M6aX0pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZWRpdG9yLmNhcmV0LnNldFRvQmxvY2sobixcImVuZFwiKX0pKX19fSx7a2V5OlwicmVkb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmNhblJlZG8oKSl7dGhpcy5zaG91bGRTYXZlSGlzdG9yeT0hMTt2YXIgZT10aGlzLnN0YWNrW3RoaXMucG9zaXRpb24rPTFdLG49ZS5pbmRleCxpPWUuc3RhdGU7dGhpcy5vblVwZGF0ZSgpLHRoaXMuZWRpdG9yLmJsb2Nrcy5yZW5kZXIoe2Jsb2NrczppfSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5lZGl0b3IuY2FyZXQuc2V0VG9CbG9jayhuLFwiZW5kXCIpfSkpfX19LHtrZXk6XCJjYW5VbmRvXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5yZWFkT25seSYmdGhpcy5wb3NpdGlvbj4wfX0se2tleTpcImNhblJlZG9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnJlYWRPbmx5JiZ0aGlzLnBvc2l0aW9uPHRoaXMuY291bnQoKX19LHtrZXk6XCJjb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2subGVuZ3RoLTF9fSx7a2V5Olwic2V0RXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0vKE1hYykvaS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk/XCJtZXRhS2V5XCI6XCJjdHJsS2V5XCIsbj1mdW5jdGlvbihuKXtuW2VdJiZcInpcIj09PW4ua2V5JiYobi5wcmV2ZW50RGVmYXVsdCgpLHQudW5kbygpKX0saT1mdW5jdGlvbihuKXtuW2VdJiZcInlcIj09PW4ua2V5JiYobi5wcmV2ZW50RGVmYXVsdCgpLHQucmVkbygpKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixuKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixuKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGkpfSkpfX1dKSYmcihlLnByb3RvdHlwZSxuKSxpJiZyKGUsaSksdH0oKX1dKS5kZWZhdWx0fSkpOyIsICJpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnO1xuaW1wb3J0IE9yZ2FuaXphdGlvbkNvbmZpZyBmcm9tICcuL2luZGV4LnZ1ZSc7XG5pbXBvcnQgRWxlbWVudFBsdXMgZnJvbSAnZWxlbWVudC1wbHVzJztcbmltcG9ydCB6aENuIGZyb20gJ2VsZW1lbnQtcGx1cy9kaXN0L2xvY2FsZS96aC1jbic7XG5cbmZyYXBwZS5wYWdlc1sndGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcnXS5vbl9wYWdlX2xvYWQgPSBmdW5jdGlvbih3cmFwcGVyKSB7XG5cdHZhciBwYWdlID0gZnJhcHBlLnVpLm1ha2VfYXBwX3BhZ2Uoe1xuXHRcdHBhcmVudDogd3JhcHBlcixcblx0XHR0aXRsZTogJ1x1N0VDNFx1N0VDN1x1OTE0RFx1N0Y2RScsXG5cdFx0c2luZ2xlX2NvbHVtbjogdHJ1ZVxuXHR9KTtcblx0Y29uc3QgYXBwID0gY3JlYXRlQXBwKE9yZ2FuaXphdGlvbkNvbmZpZywge30pO1xuXHRhcHAudXNlKGFwcCA9PiB7IGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcGFnZSA9IHBhZ2U7IH0pO1xuXHRhcHAudXNlKEVsZW1lbnRQbHVzLCB7IHNpemU6ICdzbWFsbCcsIGxvY2FsZTogemhDbiB9KTtcblx0YXBwLm1vdW50KHBhZ2UucGFyZW50KTtcbn1cbiIsICI8dGVtcGxhdGU+XG5cdDxQYWdlPlxuXHRcdDx0ZW1wbGF0ZSAjdGl0bGU+XG5cdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPlx1N0VDNFx1N0VDN1x1OTE0RFx1N0Y2RTwvaDM+XG5cdFx0PC90ZW1wbGF0ZT5cblx0XHQ8dGVtcGxhdGUgI3NpZGVyPlxuXHRcdFx0PE9yZ2FuaXphdGlvblRyZWVcblx0XHRcdFx0di1tb2RlbD1cIm9yZ2FuaXphdGlvblwiXG5cdFx0XHRcdDpwZXJtaXNzaW9ucz1cIm9yZ2FuaXphdGlvblBlcm1pc3Npb25zXCJcblx0XHRcdD48L09yZ2FuaXphdGlvblRyZWU+XG5cdFx0PC90ZW1wbGF0ZT5cblx0XHQ8ZWwtdGFicyB2LW1vZGVsPVwiYWN0aXZlTmFtZVwiIGNsYXNzPVwib3JnYW5pemF0aW9uLXRhYnNcIj5cblx0XHRcdDxlbC10YWItcGFuZSBjbGFzcz1cInRhYi1jb250YWluZXJcIiBsYWJlbD1cIlx1NTdGQVx1NjcyQ1x1NEZFMVx1NjA2RlwiIG5hbWU9XCJpbmZvXCI+XG5cdFx0XHRcdDxGb3JtRGV0YWlsIDpuYW1lPVwib3JnYW5pemF0aW9uPy5uYW1lXCIgZG9jdHlwZT1cIlRpYW5qeSBPcmdhbml6YXRpb25cIj48L0Zvcm1EZXRhaWw+XG5cdFx0XHQ8L2VsLXRhYi1wYW5lPlxuXHRcdFx0PGVsLXRhYi1wYW5lIHYtaWY9XCJvcmdhbml6YXRpb24/LnR5cGVfZG9jLm5vX3dvcmtzcGFjZT09PTBcIiBjbGFzcz1cInRhYi1jb250YWluZXJcIiBsYWJlbD1cIlx1NURFNVx1NEY1Q1x1NTMzQVwiIG5hbWU9XCJ3b3Jrc3BhY2VcIj5cblx0XHRcdFx0PFdvcmtzcGFjZSB2LWlmPVwib3JnYW5pemF0aW9uXCIgOm9yZ2FuaXphdGlvbj1cIm9yZ2FuaXphdGlvbi5uYW1lXCI+PC9Xb3Jrc3BhY2U+XG5cdFx0XHQ8L2VsLXRhYi1wYW5lPlxuXHRcdFx0PGVsLXRhYi1wYW5lIGNsYXNzPVwidGFiLWNvbnRhaW5lclwiIGxhYmVsPVwiXHU2MjEwXHU1NDU4XCIgbmFtZT1cInVzZXJzXCI+XG5cdFx0XHRcdDxNZW1iZXIgdi1pZj1cIm9yZ2FuaXphdGlvblwiIDpvcmdhbml6YXRpb249XCJvcmdhbml6YXRpb24ubmFtZVwiIDpwZXJtaXNzaW9ucz1cIm1lbWJlclBlcm1pc3Npb25zXCI+PC9NZW1iZXI+XG5cdFx0XHQ8L2VsLXRhYi1wYW5lPlxuXHRcdFx0PGVsLXRhYi1wYW5lIGNsYXNzPVwidGFiLWNvbnRhaW5lclwiIGxhYmVsPVwiXHU3RUU3XHU2MjdGXCIgbmFtZT1cImluaGVyaXRcIj5cblx0XHRcdFx0PEluaGVyaXQgdi1pZj1cIm9yZ2FuaXphdGlvblwiIDpvcmdhbml6YXRpb249XCJvcmdhbml6YXRpb24ubmFtZVwiIDpwZXJtaXNzaW9ucz1cImluaGVyaXRQZXJtaXNzaW9uc1wiPjwvSW5oZXJpdD5cblx0XHRcdDwvZWwtdGFiLXBhbmU+XG5cdFx0XHQ8ZWwtdGFiLXBhbmUgY2xhc3M9XCJ0YWItY29udGFpbmVyXCIgbGFiZWw9XCJcdTdFRTdcdTYyN0ZcdTRFQkFcdTU0NThcIiBuYW1lPVwiaW5oZXJpdF9tZW1iZXJzXCI+XG5cdFx0XHRcdDxJbmhlcml0TWVtYmVyIHYtaWY9XCJvcmdhbml6YXRpb25cIiA6b3JnYW5pemF0aW9uPVwib3JnYW5pemF0aW9uLm5hbWVcIiA6cGVybWlzc2lvbnM9XCJpbmhlcml0UGVybWlzc2lvbnNcIj48L0luaGVyaXRNZW1iZXI+XG5cdFx0XHQ8L2VsLXRhYi1wYW5lPlxuXHRcdDwvZWwtdGFicz5cblx0PC9QYWdlPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyBjb21wdXRlZCwgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnO1xuXG5pbXBvcnQgUGFnZSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL2luZGV4LnZ1ZSc7XG5cbmltcG9ydCBPcmdhbml6YXRpb25UcmVlIGZyb20gJy4vY29tcG9uZW50cy9Pcmdhbml6YXRpb25UcmVlLnZ1ZSc7XG5pbXBvcnQgdHlwZSB7IE9yZ2FuaXphdGlvbiwgT3JnYW5pemF0aW9uVHlwZSB9IGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgRm9ybURldGFpbCBmcm9tICcuL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZSc7XG5pbXBvcnQgV29ya3NwYWNlIGZyb20gJy4vY29tcG9uZW50cy9Xb3Jrc3BhY2UudnVlJztcbmltcG9ydCBNZW1iZXIgZnJvbSAnLi9jb21wb25lbnRzL01lbWJlci52dWUnO1xuaW1wb3J0IEluaGVyaXQgZnJvbSAnLi9jb21wb25lbnRzL0luaGVyaXQudnVlJztcbmltcG9ydCBJbmhlcml0TWVtYmVyIGZyb20gJy4vY29tcG9uZW50cy9Jbmhlcml0TWVtYmVyLnZ1ZSc7XG5jb25zdCBvcmdhbml6YXRpb24gPSByZWY8T3JnYW5pemF0aW9uPigpO1xuY29uc3QgYWN0aXZlTmFtZSA9IHJlZjxzdHJpbmc+KCdpbmZvJyk7XG5jb25zdCBvcmdhbml6YXRpb25NZXRhID0gcmVmPGxvY2Fscy5Eb2NUeXBlPigpO1xuY29uc3QgbWVtYmVyTWV0YSA9IHJlZjxsb2NhbHMuRG9jVHlwZT4oKTtcbmNvbnN0IGluaGVyaXRNZXRhID0gcmVmPGxvY2Fscy5Eb2NUeXBlPigpO1xuXG5cbm9uTW91bnRlZChhc3luYygpPT57XG5cdG9yZ2FuaXphdGlvbk1ldGEudmFsdWUgPSBhd2FpdCBnZXRNZXRhKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5cdG1lbWJlck1ldGEudmFsdWUgPSBhd2FpdCBnZXRNZXRhKCdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicpO1xuXHRpbmhlcml0TWV0YS52YWx1ZSA9IGF3YWl0IGdldE1ldGEoJ1RpYW5qeSBPcmdhbml6YXRpb24gSW5oZXJpdGFibGUnKTtcbn0pO1xuYXN5bmMgZnVuY3Rpb24gZ2V0TWV0YShkb2N0eXBlOnN0cmluZykge1xuXHRsZXQgbG9jYWxfbWV0YSA9IGZyYXBwZS5nZXRfbWV0YShkb2N0eXBlKTtcblx0aWYgKGxvY2FsX21ldGEpIHtcblx0XHRyZXR1cm4gbG9jYWxfbWV0YTtcblx0fVxuXHRhd2FpdCBmcmFwcGUubW9kZWwud2l0aF9kb2N0eXBlKGRvY3R5cGUpO1xuXHRyZXR1cm4gZnJhcHBlLmdldF9tZXRhKGRvY3R5cGUpfHx1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldFBlcm1pc3Npb24obWV0YT86bG9jYWxzLkRvY1R5cGUpe1xuXHRpZiAoIW1ldGEpIHtcblx0XHRyZXR1cm4geyBkZWxldGVQZXJtaXNzaW9uOiBmYWxzZSwgY3JlYXRlUGVybWlzc2lvbjogZmFsc2UsIHdyaXRlUGVybWlzc2lvbjpmYWxzZSB9O1xuXHR9XG5cdGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSBmcmFwcGUucGVybS5oYXNfcGVybShtZXRhLm5hbWUsIDAsICdkZWxldGUnKTtcblx0Y29uc3QgY3JlYXRlUGVybWlzc2lvbiA9IGZyYXBwZS5wZXJtLmhhc19wZXJtKG1ldGEubmFtZSwgMCwgJ2NyZWF0ZScpO1xuXHRjb25zdCB3cml0ZVBlcm1pc3Npb24gPSBmcmFwcGUucGVybS5oYXNfcGVybShtZXRhLm5hbWUsIDAsICd3cml0ZScpO1xuXHRyZXR1cm4geyBkZWxldGVQZXJtaXNzaW9uLCBjcmVhdGVQZXJtaXNzaW9uLCB3cml0ZVBlcm1pc3Npb24gfTtcbn1cbmNvbnN0IG9yZ2FuaXphdGlvblBlcm1pc3Npb25zID0gY29tcHV0ZWQoKCkgPT4gZ2V0UGVybWlzc2lvbihvcmdhbml6YXRpb25NZXRhLnZhbHVlKSk7XG5jb25zdCBtZW1iZXJQZXJtaXNzaW9ucyA9IGNvbXB1dGVkKCgpID0+IGdldFBlcm1pc3Npb24obWVtYmVyTWV0YS52YWx1ZSkpO1xuY29uc3QgaW5oZXJpdFBlcm1pc3Npb25zID0gY29tcHV0ZWQoKCkgPT4gZ2V0UGVybWlzc2lvbihpbmhlcml0TWV0YS52YWx1ZSkpO1xuXG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9J2xlc3MnIHNjb3BlZD5cbi50aXRsZXtcblx0bWFyZ2luLWJvdHRvbTogMDtcbn1cbi5vcmdhbml6YXRpb24tdGFic3tcblx0aGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi50YWItY29udGFpbmVye1xuXHRoZWlnaHQ6IDEwMCU7XG59XG48L3N0eWxlPlxuIiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiB2LWlmPVwiaGFzVGl0bGVcIiBjbGFzcz1cInRpdGxlIGNvbnRhaW5lclwiPlxuXHRcdDxUb2dnbGVCdG4gdi1tb2RlbDpleHBhbmQ9XCJzaG93U2lkZXJcIj48L1RvZ2dsZUJ0bj5cblx0XHQ8c2xvdCBuYW1lPVwidGl0bGVcIj48L3Nsb3Q+XG5cdDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGd1aWd1LWNvbnRhaW5lclwiPlxuXHRcdDxkaXYgY2xhc3M9XCJ0b29sc1wiIHYtc2hvdz1cImhhc1Rvb2xzJiYhc21hbGxNZXRhXCI+XG5cblx0XHRcdDxzbG90IG5hbWU9XCJ0b29sc1wiPjwvc2xvdD5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwidG9vbHMgc21hbGwtbWV0YV90b29sc1wiIHYtc2hvdz1cInNtYWxsTWV0YVwiPlxuXHRcdFx0PFRvZ2dsZUJ0biB2LWlmPVwiIWhhc1RpdGxlXCIgdi1tb2RlbDpleHBhbmQ9XCJzaG93U2lkZXJcIj5cblx0XHRcdDwvVG9nZ2xlQnRuPlxuXHRcdFx0PGRpdiB2LWVsc2U+PC9kaXY+XG5cdFx0XHQ8ZWwtcG9wb3ZlciBwbGFjZW1lbnQ9XCJib3R0b20tc3RhcnRcIiA6d2lkdGg9XCIzMDBcIiB0cmlnZ2VyPVwiY2xpY2tcIj5cblx0XHRcdFx0PHRlbXBsYXRlICNyZWZlcmVuY2U+XG5cdFx0XHRcdFx0PGVsLWljb24gc2l6ZT1cIjIwcHhcIj5cblx0XHRcdFx0XHRcdDxNb3JlRmlsbGVkIC8+XG5cdFx0XHRcdFx0PC9lbC1pY29uPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicG9wb3Zlci10b29sc1wiPlxuXHRcdFx0XHRcdDxzbG90IG5hbWU9XCJ0b29sc1wiPjwvc2xvdD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2VsLXBvcG92ZXI+XG5cdFx0PC9kaXY+XG5cdFx0PGRpdiA6Y2xhc3M9XCJbbW9kZSA9PT0gJ3ZlcnRpY2FsJz8ndmVydGljYWwnOidob3Jpem9uJywgJ21haW4tY29udGFpbmVyJyBdXCJcblx0XHRcdHJlZj1cImNvbnRhaW5lclwiPlxuXHRcdFx0PGRpdiA6c3R5bGU9XCJzaWRlclN0eWxlXCJcblx0XHRcdFx0OmNsYXNzPVwiWydzaWRlcicsIHtvbmx5U2lkZXI6aGFzU2lkZXImJiFoYXNEZXRhaWwmJiFoYXNNYWlufV1cIlxuXHRcdFx0XHR2LXNob3c9XCJoYXNTaWRlciYmIXNtYWxsTWV0YSYmc2hvd1NpZGVyXCIgcmVmPVwic2lkZXJcIj5cblx0XHRcdFx0PHNsb3QgbmFtZT1cInNpZGVyXCI+PC9zbG90PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdDpjbGFzcz1cIlttb2RlID09PSAndmVydGljYWwnPyd2ZXJ0aWNhbCc6J2hvcml6b24nLCAncmVzaXplci1jb250YWluZXInIF1cIlxuXHRcdFx0XHR2LXNob3c9XCJoYXNTaWRlciYmKGhhc0RldGFpbHx8aGFzTWFpbikmJiFzbWFsbE1ldGEmJnNob3dTaWRlclwiXG5cdFx0XHRcdHJlZj1cInJlc2l6ZXJDb250YWluZXJcIj5cblx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdGNsYXNzPVwicmVzaXplclwiXG5cdFx0XHRcdFx0dGl0bGU9XCJcdTRGQTdcdThGQjlcdTY4MEZyZXNpemVyXCJcblx0XHRcdFx0XHRAcG9pbnRlcmRvd249XCJkcmFnTFJDb250cm9sbGVyXCI+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdDpjbGFzcz1cIltyaWdodE1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsJ3JpZ2h0J11cIlxuXHRcdFx0XHRyZWY9XCJyaWdodENvbnRhaW5lclwiPlxuXHRcdFx0XHQ8ZGl2IDpzdHlsZT1cIm1haW5TdHlsZVwiIDpjbGFzcz1cIlsnbWFpbicsIHtub0RldGFpbDohaGFzRGV0YWlsfV1cIlxuXHRcdFx0XHRcdHYtc2hvdz1cImhhc01haW5cIlxuXHRcdFx0XHRcdHJlZj1cIm1haW5cIj5cblx0XHRcdFx0XHQ8c2xvdD48L3Nsb3Q+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0OmNsYXNzPVwiW3JpZ2h0TW9kZSA9PT0gJ3ZlcnRpY2FsJz8ndmVydGljYWwnOidob3Jpem9uJywgJ3Jlc2l6ZXItY29udGFpbmVyJyBdXCJcblx0XHRcdFx0XHR2LXNob3c9XCJoYXNEZXRhaWwmJmhhc01haW5cIlxuXHRcdFx0XHRcdHJlZj1cIm1haW5SZXNpemVyQ29udGFpbmVyXCI+XG5cdFx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJyZXNpemVyXCJcblx0XHRcdFx0XHRcdHRpdGxlPVwibWFpbiByZXNpemVyXCJcblx0XHRcdFx0XHRcdEBwb2ludGVyZG93bj1cImRyYWdMUkNvbnRyb2xsZXJcIj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgOnN0eWxlPVwiZGV0YWlsU3R5bGVcIiBjbGFzcz1cImRldGFpbFwiIHYtc2hvdz1cImhhc0RldGFpbFwiPlxuXHRcdFx0XHRcdDxzbG90IG5hbWU9XCJkZXRhaWxcIj48L3Nsb3Q+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuXHQ8ZWwtZHJhd2VyXG5cdFx0di1tb2RlbD1cInNob3dEcmF3ZXJcIlxuXHRcdEBjbG9zZT1cImNsb3NlRHJhd2VyXCJcblx0XHR0aXRsZT1cIlwiXG5cdFx0ZGlyZWN0aW9uPVwibHRyXCJcblx0XHRzaXplPVwiNTAlXCI+XG5cdFx0PHNsb3QgbmFtZT1cInNpZGVyXCI+PC9zbG90PlxuXHQ8L2VsLWRyYXdlcj5cbjwvdGVtcGxhdGU+XG48c2NyaXB0IGxhbmc9XCJ0c1wiIHNldHVwPlxuaW1wb3J0IHsgdXNlU2xvdHMsIGNvbXB1dGVkLCByZWYsIGRlZmluZVByb3BzLCBDU1NQcm9wZXJ0aWVzLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyAgRXhwYW5kLCBNb3JlRmlsbGVkfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7XG5cbmltcG9ydCB7IHVzZU1ldGFRdWVyeSB9IGZyb20gJy4vdXNlTWV0YVF1ZXJ5JztcbmltcG9ydCBUb2dnbGVCdG4gZnJvbSAnLi9Ub2dnbGVCdG4udnVlJztcbmNvbnN0IHNtYWxsTWV0YSA9IHVzZU1ldGFRdWVyeSgpO1xuaW50ZXJmYWNlIFByb3Bze1xuXHRtb2RlPzogJ2hvcml6b24nfCAndmVydGljYWwnXG5cdHJpZ2h0TW9kZT86J2hvcml6b24nfCAndmVydGljYWwnXG5cdHNpZGVyU3R5bGU/OkNTU1Byb3BlcnRpZXNcblx0bWFpblN0eWxlPzpDU1NQcm9wZXJ0aWVzXG5cdGRldGFpbFN0eWxlPzpDU1NQcm9wZXJ0aWVzXG59XG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuXG5jb25zdCBzaWRlciA9IHJlZjxIVE1MRWxlbWVudD4oKTtcbmNvbnN0IG1haW4gPSByZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCBjb250YWluZXIgPSByZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCByZXNpemVyQ29udGFpbmVyID1yZWY8SFRNTEVsZW1lbnQ+KCk7XG5jb25zdCBtYWluUmVzaXplckNvbnRhaW5lciA9IHJlZjxIVE1MRWxlbWVudD4oKTtcbmNvbnN0IHJpZ2h0Q29udGFpbmVyID0gcmVmPEhUTUxFbGVtZW50PigpO1xuXG5jb25zdCBoYXNUaXRsZSA9IGNvbXB1dGVkKCgpPT5Cb29sZWFuKHVzZVNsb3RzKCkudGl0bGUpKTtcbmNvbnN0IGhhc1Rvb2xzID0gY29tcHV0ZWQoKCk9PkJvb2xlYW4odXNlU2xvdHMoKS50b29scykpO1xuY29uc3QgaGFzU2lkZXIgPSBjb21wdXRlZCgoKT0+Qm9vbGVhbih1c2VTbG90cygpLnNpZGVyKSk7XG5jb25zdCBoYXNNYWluID0gY29tcHV0ZWQoKCk9PkJvb2xlYW4odXNlU2xvdHMoKS5kZWZhdWx0KSk7XG5jb25zdCBoYXNEZXRhaWwgPSBjb21wdXRlZCgoKT0+Qm9vbGVhbih1c2VTbG90cygpLmRldGFpbCkpO1xuXG5jb25zdCBoZWlnaHQgPSBjb21wdXRlZCgoKT0+aGFzVGl0bGUudmFsdWU/YGNhbGMoMTAwdmggLSAxMzVweClgOmBjYWxjKDEwMHZoIC0gNjBweClgKTtcbmNvbnN0IHNob3dTaWRlciA9IHJlZjxib29sZWFuPih0cnVlKTtcblxuZnVuY3Rpb24gZHJhZ0xSQ29udHJvbGxlcihkcmFnRXZlbnQ6UG9pbnRlckV2ZW50KXtcblx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdGRyYWdFdmVudC50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUodHJ1ZSk7XG5cdGRyYWdFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJyM5OTknO1xuXHRsZXQgcmVzaXplckNvbnRhaW5lckVsZW1lbnQ6SFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuXHRsZXQgbGVmdEVsZW1lbnQ6SFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuXHRsZXQgY29udGFpbmVyRWxlbWVudDpIVE1MRWxlbWVudHx1bmRlZmluZWQ7XG5cdGNvbnN0IGlzU2lkZXJSZXNpemUgPSBkcmFnRXZlbnQudGFyZ2V0ID09PSByZXNpemVyQ29udGFpbmVyLnZhbHVlPy5maXJzdENoaWxkO1xuXHRjb25zdCBtb2RlID0gaXNTaWRlclJlc2l6ZT8nbW9kZSc6J3JpZ2h0TW9kZSc7XG5cdGlmIChpc1NpZGVyUmVzaXplKXtcblx0XHRyZXNpemVyQ29udGFpbmVyRWxlbWVudCA9IHJlc2l6ZXJDb250YWluZXIudmFsdWU7XG5cdFx0bGVmdEVsZW1lbnQgPSBzaWRlci52YWx1ZTtcblx0XHRjb250YWluZXJFbGVtZW50ID0gY29udGFpbmVyLnZhbHVlO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmVzaXplckNvbnRhaW5lckVsZW1lbnQgPSBtYWluUmVzaXplckNvbnRhaW5lci52YWx1ZTtcblx0XHRsZWZ0RWxlbWVudCA9IG1haW4udmFsdWU7XG5cdFx0Y29udGFpbmVyRWxlbWVudCA9IHJpZ2h0Q29udGFpbmVyLnZhbHVlO1xuXHR9XG5cblx0bGV0IHN0YXJ0UG8gPSAwO1xuXHRsZXQgY29udGFpbmVyQ2xpZW50U2l6ZSA9IDA7XG5cdGxldCBvbGRTaWRlclNpemUgPSAwO1xuXHRsZXQgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplID0gMDtcblx0aWYgKHByb3BzW21vZGVdPT09J3ZlcnRpY2FsJyl7XG5cdFx0c3RhcnRQbyA9IGRyYWdFdmVudC5jbGllbnRZO1xuXHRcdGRyYWdFdmVudC50YXJnZXQudG9wID0gZHJhZ0V2ZW50LnRhcmdldC5vZmZzZXRUb3A7XG5cdFx0Y29udGFpbmVyQ2xpZW50U2l6ZSA9IGNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudEhlaWdodHx8MDtcblx0XHRvbGRTaWRlclNpemUgPSAocmVzaXplckNvbnRhaW5lckVsZW1lbnQ/Lm9mZnNldFRvcHx8MCkgLSAoY29udGFpbmVyRWxlbWVudD8ub2Zmc2V0VG9wfHwwKTtcblx0XHRyZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemUgPSByZXNpemVyQ29udGFpbmVyRWxlbWVudD8uY2xpZW50SGVpZ2h0fHwwO1xuXHR9IGVsc2Uge1xuXHRcdHN0YXJ0UG8gPSBkcmFnRXZlbnQuY2xpZW50WDtcblx0XHRkcmFnRXZlbnQudGFyZ2V0LmxlZnQgPSBkcmFnRXZlbnQudGFyZ2V0Lm9mZnNldExlZnQ7XG5cdFx0Y29udGFpbmVyQ2xpZW50U2l6ZSA9IGNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudFdpZHRofHwwO1xuXHRcdG9sZFNpZGVyU2l6ZSA9IChyZXNpemVyQ29udGFpbmVyRWxlbWVudD8ub2Zmc2V0TGVmdHx8MCkgLSAoY29udGFpbmVyRWxlbWVudD8ub2Zmc2V0TGVmdHx8MCk7XG5cdFx0cmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplID0gcmVzaXplckNvbnRhaW5lckVsZW1lbnQ/LmNsaWVudFdpZHRofHwwO1xuXHR9XG5cdGxldCBuZXdTaWRlclNpemUgPSBvbGRTaWRlclNpemU7XG5cdGRvY3VtZW50Lm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbihtb3ZlRXZlbnQ6UG9pbnRlckV2ZW50KSB7XG5cdFx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdFx0bGV0IGVuZFBvID0gMDtcblx0XHRpZiAocHJvcHNbbW9kZV09PT0ndmVydGljYWwnKXtcblx0XHRcdGVuZFBvID0gbW92ZUV2ZW50LmNsaWVudFk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVuZFBvID0gbW92ZUV2ZW50LmNsaWVudFg7XG5cdFx0fVxuXHRcdGxldCByZXNpemVyRGlmZiA9IGVuZFBvIC0gc3RhcnRQbztcblx0XHQvLyBcdTVERTZcdThGQjlcdTUzM0FcdTU3REZcdTY3MDBcdTU0MEVcdTc2ODRcdTVCQkRcdTVFQTYgPSBcdTRFNEJcdTUyNERcdTVCQkRcdTVFQTYgKyBcdTUzRDhcdTUzMTZcdTVCQkRcdTVFQTZcblx0XHRuZXdTaWRlclNpemUgPSBvbGRTaWRlclNpemUgKyByZXNpemVyRGlmZjtcblx0XHQvLyBcdTUzRjNcdTRGQTdcdTVCQkRcdTVFQTYgPSBcdTY1NzRcdTRGNTNcdTVCQkRcdTVFQTYgLSBcdTVERTZcdTRGQTdcdTVCQkRcdTVFQTYgLSBcdTYyRDZcdTYyRkRcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBtYWluU2l6ZSA9IGNvbnRhaW5lckNsaWVudFNpemUgLSBuZXdTaWRlclNpemUgLSByZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemU7XG5cdFx0bGV0IG1haW5NYXhTaXplID0gaXNTaWRlclJlc2l6ZT8yNTA6MTUwO1xuXHRcdGlmIChpc1NpZGVyUmVzaXplJiZwcm9wcy5tb2RlPT09J3ZlcnRpY2FsJyYmcHJvcHMucmlnaHRNb2RlPT09J3ZlcnRpY2FsJyYmbWFpbi52YWx1ZT8uc3R5bGU/LmhlaWdodCl7XG5cdFx0XHRjb25zdCBhbHJlYWR5TWFpbkhlaWdodCA9IHBhcnNlRmxvYXQobWFpbi52YWx1ZS5zdHlsZS5oZWlnaHQucmVwbGFjZUFsbCgncHgnLCAnJyl8fCcwJyk7XG5cdFx0XHRtYWluTWF4U2l6ZSA9IGFscmVhZHlNYWluSGVpZ2h0ICsgMTUwICsgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplO1xuXHRcdH0gZWxzZSBpZiAoaXNTaWRlclJlc2l6ZSYmcHJvcHMubW9kZSE9PSd2ZXJ0aWNhbCcmJnByb3BzLnJpZ2h0TW9kZSE9PSd2ZXJ0aWNhbCcmJm1haW4udmFsdWU/LnN0eWxlPy53aWR0aCl7XG5cdFx0XHRjb25zdCBhbHJlYWR5TWFpbldpZHRoID0gcGFyc2VGbG9hdChtYWluLnZhbHVlLnN0eWxlLndpZHRoLnJlcGxhY2VBbGwoJ3B4JywgJycpfHwnMCcpO1xuXHRcdFx0bWFpbk1heFNpemUgPSBhbHJlYWR5TWFpbldpZHRoICsgMTUwICsgcmVzaXplckNvbnRhaW5lckVsZW1lbnRTaXplO1xuXHRcdH1cblxuXHRcdC8vIFx1NURFNlx1NEZBN1x1NjcwMFx1NUMwRjUwXG5cdFx0aWYgKG5ld1NpZGVyU2l6ZSA8IDUwKSB7XG5cdFx0XHRuZXdTaWRlclNpemUgPSA1MDtcblx0XHRcdHJlc2l6ZXJEaWZmID0gbmV3U2lkZXJTaXplIC0gb2xkU2lkZXJTaXplO1xuXHRcdH1cblx0XHQvLyBcdTUzRjNcdTRGQTdcdTY3MDBcdTVDMEYxNTBcblx0XHRpZiAoIG1haW5TaXplIDwgbWFpbk1heFNpemUgKSB7XG5cdFx0XHRuZXdTaWRlclNpemUgPSBjb250YWluZXJDbGllbnRTaXplIC0gbWFpbk1heFNpemUgLSByZXNpemVyQ29udGFpbmVyRWxlbWVudFNpemU7XG5cdFx0XHRyZXNpemVyRGlmZiA9IG5ld1NpZGVyU2l6ZSAtIG9sZFNpZGVyU2l6ZTtcblx0XHR9XG5cblx0XHQvLyBcdThCQkVcdTdGNkVyZXNpemVyXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0aWYgKHByb3BzW21vZGVdPT09J3ZlcnRpY2FsJyl7XG5cdFx0XHRkcmFnRXZlbnQudGFyZ2V0LnN0eWxlLnRvcCA9IGAke3Jlc2l6ZXJEaWZmfXB4YDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5sZWZ0ID0gYCR7cmVzaXplckRpZmZ9cHhgO1xuXHRcdH1cblx0fTtcblx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBmdW5jdGlvbihldnQ6UG9pbnRlckV2ZW50KSB7XG5cdFx0aWYgKCFkcmFnRXZlbnQudGFyZ2V0KXsgcmV0dXJuOyB9XG5cdFx0Ly9cdTk4OUNcdTgyNzJcdTYwNjJcdTU5MERcblx0XHRkcmFnRXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAnI2Q5ZDlkOSc7XG5cdFx0ZHJhZ0V2ZW50LnRhcmdldC5zdHlsZS5sZWZ0ID0gJ2F1dG8nO1xuXHRcdGRyYWdFdmVudC50YXJnZXQuc3R5bGUudG9wID0gJ2F1dG8nO1xuXHRcdGlmICghbGVmdEVsZW1lbnQpeyByZXR1cm47IH1cblx0XHRpZiAocHJvcHNbbW9kZV09PT0ndmVydGljYWwnKXtcblx0XHRcdGxlZnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke25ld1NpZGVyU2l6ZX1weGA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxlZnRFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7bmV3U2lkZXJTaXplfXB4YDtcblx0XHR9XG5cdFx0ZG9jdW1lbnQub25wb2ludGVybW92ZSA9IG51bGw7XG5cdFx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBudWxsO1xuXHR9O1xuXG59XG53YXRjaCgoKT0+c21hbGxNZXRhLnZhbHVlLCAoKT0+e1xuXHRpZiAoc21hbGxNZXRhLnZhbHVlKXtcblx0XHRzaG93U2lkZXIudmFsdWU9ZmFsc2U7XG5cdH1cbn0sIHtpbW1lZGlhdGU6dHJ1ZX0pO1xuY29uc3Qgc2hvd0RyYXdlciA9IGNvbXB1dGVkKCgpPT5zaG93U2lkZXIudmFsdWUmJnNtYWxsTWV0YS52YWx1ZSk7XG5mdW5jdGlvbiBjbG9zZURyYXdlcigpe1xuXHRzaG93U2lkZXIudmFsdWUgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVNpZGVyKCl7XG5cdHNob3dTaWRlci52YWx1ZSA9ICFzaG93U2lkZXIudmFsdWU7XG59XG48L3NjcmlwdD5cbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cbi50aXRsZSB7XG5cdGhlaWdodDogNzVweDtcblx0aGVpZ2h0OiA3NXB4O1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRsaW5lLWhlaWdodDogNzVweDtcbn1cblxuLmd1aWd1LWNvbnRhaW5lciB7XG5cdC8vIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpO1xuXHRoZWlnaHQ6IHYtYmluZChoZWlnaHQpO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuXG5cdC5tYWluLWNvbnRhaW5lciB7XG5cdFx0ZmxleDogMTtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdG92ZXJmbG93OiBoaWRkZW47XG5cblx0XHQuc2lkZXIge1xuXHRcdFx0bWluLXdpZHRoOiA1MHB4O1xuXHRcdFx0bWluLWhlaWdodDogNTBweDtcblx0XHR9XG5cblx0XHQmLmhvcml6b24ge1xuXHRcdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblxuXHRcdFx0LnNpZGVyIHtcblx0XHRcdFx0d2lkdGg6IDMwMHB4O1xuXG5cdFx0XHRcdCYub25seVNpZGVyIHtcblx0XHRcdFx0XHR3aWR0aDogMTAwJVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG5cdFx0XHQuc2lkZXIge1xuXHRcdFx0XHRoZWlnaHQ6IDMwMHB4O1xuXG5cdFx0XHRcdCYub25seVNpZGVyIHtcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMCVcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC5yZXNpemVyLWNvbnRhaW5lciB7XG5cdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0XHRib3JkZXI6IDA7XG5cblx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0XHR6LWluZGV4OiAxO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZDlkOWQ5O1xuXHRcdFx0XHRvcGFjaXR5OiAwLjU7XG5cdFx0XHR9XG5cblx0XHRcdCYuaG9yaXpvbiB7XG5cdFx0XHRcdHBhZGRpbmc6IDAgNHB4O1xuXHRcdFx0XHR3aWR0aDogMTJweDtcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xuXG5cdFx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0XHR3aWR0aDogMnB4O1xuXHRcdFx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdFx0XHRjdXJzb3I6IGNvbC1yZXNpemU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRcdHBhZGRpbmc6IDRweCAwO1xuXHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0aGVpZ2h0OiAxMnB4O1xuXG5cdFx0XHRcdC5yZXNpemVyIHtcblx0XHRcdFx0XHRoZWlnaHQ6IDJweDtcblx0XHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0XHRjdXJzb3I6IHJvdy1yZXNpemU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdC5yaWdodCB7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0ZmxleDogMTtcblx0XHRcdG92ZXJmbG93OiBhdXRvO1xuXG5cdFx0XHQmLmhvcml6b24ge1xuXHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xuXG5cdFx0XHRcdC5tYWluIHtcblx0XHRcdFx0XHR3aWR0aDogNTAlO1xuXG5cdFx0XHRcdFx0Ji5ub0RldGFpbCB7XG5cdFx0XHRcdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQuZGV0YWlsIHtcblx0XHRcdFx0XHRmbGV4OiAxO1xuXHRcdFx0XHRcdG1pbi13aWR0aDogMTUwcHg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ji52ZXJ0aWNhbCB7XG5cdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cblx0XHRcdFx0Lm1haW4ge1xuXHRcdFx0XHRcdGhlaWdodDogNTAlO1xuXG5cdFx0XHRcdFx0Ji5ub0RldGFpbCB7XG5cdFx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0LmRldGFpbCB7XG5cdFx0XHRcdFx0ZmxleDogMTtcblx0XHRcdFx0XHRtaW4taGVpZ2h0OiAxNTBweDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHR9XG59XG5cbi50b29scyB7XG5cdHBhZGRpbmc6IDhweCAwO1xufVxuXG4uc21hbGwtbWV0YV90b29scyB7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBSZWYgfSBmcm9tICd2dWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWV0YVF1ZXJ5KCk6IFJlZjxib29sZWFuPntcblx0Y29uc3Qgc21hbGxNZXRhID0gcmVmPGJvb2xlYW4+KCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cdGxldCBtUXVlcnk6TWVkaWFRdWVyeUxpc3Q7XG5cdGZ1bmN0aW9uIG1lZGlhQ2hhbmdlKCl7XG5cdFx0aWYgKG1RdWVyeS5tYXRjaGVzKXtcblx0XHRcdHNtYWxsTWV0YS52YWx1ZT10cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzbWFsbE1ldGEudmFsdWU9ZmFsc2U7XG5cdFx0fVxuXHR9XG5cdG9uTW91bnRlZCgoKT0+e1xuXHRcdG1RdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA2NDBweCknKTtcblx0XHRpZiAobVF1ZXJ5Lm1hdGNoZXMpe1xuXHRcdFx0c21hbGxNZXRhLnZhbHVlPXRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNtYWxsTWV0YS52YWx1ZT1mYWxzZTtcblx0XHR9XG5cdFx0bVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1lZGlhQ2hhbmdlKTtcblx0fSk7XG5cdG9uVW5tb3VudGVkKCgpPT57XG5cdFx0bVF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1lZGlhQ2hhbmdlKTtcblx0fSk7XG5cdHJldHVybiBzbWFsbE1ldGE7XG59XG4iLCAiPHRlbXBsYXRlPlxuXHQ8c3BhbiBjbGFzcz1cInRvZ2dsZS1idG5cIiB0aXRsZT1cIlx1NTIwN1x1NjM2Mlx1OEZCOVx1NjgwRlwiIEBjbGljaz1cInRvZ2dsZVNpZGVyXCI+XG5cdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZCBzaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlclwiPlxuXHRcdFx0PHVzZSBocmVmPVwiI2ljb24tbWVudVwiPjwvdXNlPlxuXHRcdDwvc3ZnPlxuXHRcdDxzcGFuIGNsYXNzPVwic2lkZWJhci10b2dnbGUtaWNvblwiPlxuXHRcdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZFwiPlxuXHRcdFx0XHQ8dXNlXG5cdFx0XHRcdFx0OmhyZWY9XCJleHBhbmQgPyAnI2ljb24tc2lkZWJhci1jb2xsYXBzZScgOiAnI2ljb24tc2lkZWJhci1leHBhbmQnXCIgLz5cblx0XHRcdDwvc3ZnPlxuXHRcdDwvc3Bhbj5cblx0PC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyByZWYsIGRlZmluZVByb3BzLCBkZWZpbmVFbWl0cyB9IGZyb20gJ3Z1ZSc7XG5cbmludGVyZmFjZSBQcm9wc3tcblx0ZXhwYW5kOmJvb2xlYW5cbn1cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5pbnRlcmZhY2UgRW1pdHtcblx0KGU6ICd1cGRhdGU6ZXhwYW5kJywgZXhwYW5kOiBib29sZWFuKTogdm9pZFxufVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXQ+KCk7XG5cbmZ1bmN0aW9uIHRvZ2dsZVNpZGVyKCl7XG5cdGVtaXQoJ3VwZGF0ZTpleHBhbmQnLCAhcHJvcHMuZXhwYW5kKTtcbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLnRvZ2dsZS1idG4ge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRtYXJnaW4tcmlnaHQ6IHZhcigtLW1hcmdpbi1zbSk7XG5cdGN1cnNvcjogcG9pbnRlcjtcblx0LS1pY29uLXN0cm9rZTogdmFyKC0tZ3JheS01MDApO1xuXG5cdC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlciB7XG5cdFx0dHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG5cdH1cblxuXHQuc2lkZWJhci10b2dnbGUtaWNvbiB7XG5cdFx0dHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG5cdFx0ZGlzcGxheTogbm9uZTtcblx0fVxuXG5cdCY6aG92ZXIge1xuXHRcdC5zaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlciB7XG5cdFx0XHRkaXNwbGF5OiBub25lO1xuXHRcdH1cblxuXHRcdC5zaWRlYmFyLXRvZ2dsZS1pY29uIHtcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdH1cblx0fVxuXG5cbn1cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTBcIjtleHBvcnQgZGVmYXVsdCAoKSA9Pnt9IiwgImltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoXCJkYXRhLXYtYzM5NjQ5NjlcIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKVxuY29uc3QgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3ZnXCIsIHsgY2xhc3M6IFwiaWNvbiBpY29uLW1kIHNpZGViYXItdG9nZ2xlLXBsYWNlaG9sZGVyXCIgfSwgW1xuICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInVzZVwiLCB7IGhyZWY6IFwiI2ljb24tbWVudVwiIH0pXG5dLCAtMSAvKiBIT0lTVEVEICovKSlcbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcInNpZGViYXItdG9nZ2xlLWljb25cIiB9XG5jb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogXCJpY29uIGljb24tbWRcIiB9XG5jb25zdCBfaG9pc3RlZF80ID0gW1wiaHJlZlwiXVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInNwYW5cIiwge1xuICAgIGNsYXNzOiBcInRvZ2dsZS1idG5cIixcbiAgICB0aXRsZTogXCJcdTUyMDdcdTYzNjJcdThGQjlcdTY4MEZcIixcbiAgICBvbkNsaWNrOiAkc2V0dXAudG9nZ2xlU2lkZXJcbiAgfSwgW1xuICAgIF9ob2lzdGVkXzEsXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgX2hvaXN0ZWRfMiwgW1xuICAgICAgKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInN2Z1wiLCBfaG9pc3RlZF8zLCBbXG4gICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJ1c2VcIiwge1xuICAgICAgICAgIGhyZWY6ICRwcm9wcy5leHBhbmQgPyAnI2ljb24tc2lkZWJhci1jb2xsYXBzZScgOiAnI2ljb24tc2lkZWJhci1leHBhbmQnXG4gICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzQpXG4gICAgICBdKSlcbiAgICBdKVxuICBdKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvVG9nZ2xlQnRuLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiLi4vZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9Ub2dnbGVCdG4udnVlXCI7c2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LWMzOTY0OTY5XCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndV9wbS9ndWlndV9wbS9wdWJsaWMvanMvY29tcG9uZW50cy9wYWdlL2luZGV4LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHJlbmRlclNsb3QgYXMgX3JlbmRlclNsb3QsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZTaG93IGFzIF92U2hvdywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlIGFzIF9ub3JtYWxpemVTdHlsZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LTJjYmRiNWU5XCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7XG4gIGtleTogMCxcbiAgY2xhc3M6IFwidGl0bGUgY29udGFpbmVyXCJcbn1cbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcImNvbnRhaW5lciBndWlndS1jb250YWluZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogXCJ0b29sc1wiIH1cbmNvbnN0IF9ob2lzdGVkXzQgPSB7IGNsYXNzOiBcInRvb2xzIHNtYWxsLW1ldGFfdG9vbHNcIiB9XG5jb25zdCBfaG9pc3RlZF81ID0geyBrZXk6IDEgfVxuY29uc3QgX2hvaXN0ZWRfNiA9IHsgY2xhc3M6IFwicG9wb3Zlci10b29sc1wiIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgY29uc3QgX2NvbXBvbmVudF9lbF9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1pY29uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfcG9wb3ZlciA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtcG9wb3ZlclwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX2RyYXdlciA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtZHJhd2VyXCIpXG5cbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbXG4gICAgKCRzZXR1cC5oYXNUaXRsZSlcbiAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgICAgICAgX2NyZWF0ZVZOb2RlKCRzZXR1cFtcIlRvZ2dsZUJ0blwiXSwge1xuICAgICAgICAgICAgZXhwYW5kOiAkc2V0dXAuc2hvd1NpZGVyLFxuICAgICAgICAgICAgXCJvblVwZGF0ZTpleHBhbmRcIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCgkc2V0dXAuc2hvd1NpZGVyKSA9ICRldmVudCkpXG4gICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wiZXhwYW5kXCJdKSxcbiAgICAgICAgICBfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJ0aXRsZVwiLCB7fSwgdW5kZWZpbmVkLCB0cnVlKVxuICAgICAgICBdKSlcbiAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8zLCBbXG4gICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcInRvb2xzXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICBdLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIFtcbiAgICAgICAgW192U2hvdywgJHNldHVwLmhhc1Rvb2xzJiYhJHNldHVwLnNtYWxsTWV0YV1cbiAgICAgIF0pLFxuICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfNCwgW1xuICAgICAgICAoISRzZXR1cC5oYXNUaXRsZSlcbiAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJUb2dnbGVCdG5cIl0sIHtcbiAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICBleHBhbmQ6ICRzZXR1cC5zaG93U2lkZXIsXG4gICAgICAgICAgICAgIFwib25VcGRhdGU6ZXhwYW5kXCI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICgoJHNldHVwLnNob3dTaWRlcikgPSAkZXZlbnQpKVxuICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wiZXhwYW5kXCJdKSlcbiAgICAgICAgICA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfNSkpLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wb3BvdmVyLCB7XG4gICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgICAgdHJpZ2dlcjogXCJjbGlja1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICByZWZlcmVuY2U6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsgc2l6ZTogXCIyMHB4XCIgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgX2NyZWF0ZVZOb2RlKCRzZXR1cFtcIk1vcmVGaWxsZWRcIl0pXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzYsIFtcbiAgICAgICAgICAgICAgX3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwidG9vbHNcIiwge30sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMyAvKiBGT1JXQVJERUQgKi9cbiAgICAgICAgfSlcbiAgICAgIF0sIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1xuICAgICAgICBbX3ZTaG93LCAkc2V0dXAuc21hbGxNZXRhXVxuICAgICAgXSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJHByb3BzLm1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdtYWluLWNvbnRhaW5lcicgXSksXG4gICAgICAgIHJlZjogXCJjb250YWluZXJcIlxuICAgICAgfSwgW1xuICAgICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSgkcHJvcHMuc2lkZXJTdHlsZSksXG4gICAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJ3NpZGVyJywge29ubHlTaWRlcjokc2V0dXAuaGFzU2lkZXImJiEkc2V0dXAuaGFzRGV0YWlsJiYhJHNldHVwLmhhc01haW59XSksXG4gICAgICAgICAgcmVmOiBcInNpZGVyXCJcbiAgICAgICAgfSwgW1xuICAgICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcInNpZGVyXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICAgIF0sIDYgLyogQ0xBU1MsIFNUWUxFICovKSwgW1xuICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNTaWRlciYmISRzZXR1cC5zbWFsbE1ldGEmJiRzZXR1cC5zaG93U2lkZXJdXG4gICAgICAgIF0pLFxuICAgICAgICBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJHByb3BzLm1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdyZXNpemVyLWNvbnRhaW5lcicgXSksXG4gICAgICAgICAgcmVmOiBcInJlc2l6ZXJDb250YWluZXJcIlxuICAgICAgICB9LCBbXG4gICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzczogXCJyZXNpemVyXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJcdTRGQTdcdThGQjlcdTY4MEZyZXNpemVyXCIsXG4gICAgICAgICAgICBvblBvaW50ZXJkb3duOiAkc2V0dXAuZHJhZ0xSQ29udHJvbGxlclxuICAgICAgICAgIH0sIG51bGwsIDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKVxuICAgICAgICBdLCAyIC8qIENMQVNTICovKSwgW1xuICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNTaWRlciYmKCRzZXR1cC5oYXNEZXRhaWx8fCRzZXR1cC5oYXNNYWluKSYmISRzZXR1cC5zbWFsbE1ldGEmJiRzZXR1cC5zaG93U2lkZXJdXG4gICAgICAgIF0pLFxuICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFskcHJvcHMucmlnaHRNb2RlID09PSAndmVydGljYWwnPyd2ZXJ0aWNhbCc6J2hvcml6b24nLCdyaWdodCddKSxcbiAgICAgICAgICByZWY6IFwicmlnaHRDb250YWluZXJcIlxuICAgICAgICB9LCBbXG4gICAgICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwge1xuICAgICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSgkcHJvcHMubWFpblN0eWxlKSxcbiAgICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWydtYWluJywge25vRGV0YWlsOiEkc2V0dXAuaGFzRGV0YWlsfV0pLFxuICAgICAgICAgICAgcmVmOiBcIm1haW5cIlxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIF9yZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIiwge30sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICAgICAgICBdLCA2IC8qIENMQVNTLCBTVFlMRSAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNNYWluXVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyRwcm9wcy5yaWdodE1vZGUgPT09ICd2ZXJ0aWNhbCc/J3ZlcnRpY2FsJzonaG9yaXpvbicsICdyZXNpemVyLWNvbnRhaW5lcicgXSksXG4gICAgICAgICAgICByZWY6IFwibWFpblJlc2l6ZXJDb250YWluZXJcIlxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJyZXNpemVyXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIm1haW4gcmVzaXplclwiLFxuICAgICAgICAgICAgICBvblBvaW50ZXJkb3duOiAkc2V0dXAuZHJhZ0xSQ29udHJvbGxlclxuICAgICAgICAgICAgfSwgbnVsbCwgMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pXG4gICAgICAgICAgXSwgMiAvKiBDTEFTUyAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNEZXRhaWwmJiRzZXR1cC5oYXNNYWluXVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoJHByb3BzLmRldGFpbFN0eWxlKSxcbiAgICAgICAgICAgIGNsYXNzOiBcImRldGFpbFwiXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgX3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGV0YWlsXCIsIHt9LCB1bmRlZmluZWQsIHRydWUpXG4gICAgICAgICAgXSwgNCAvKiBTVFlMRSAqLyksIFtcbiAgICAgICAgICAgIFtfdlNob3csICRzZXR1cC5oYXNEZXRhaWxdXG4gICAgICAgICAgXSlcbiAgICAgICAgXSwgMiAvKiBDTEFTUyAqLylcbiAgICAgIF0sIDIgLyogQ0xBU1MgKi8pXG4gICAgXSksXG4gICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJhd2VyLCB7XG4gICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuc2hvd0RyYXdlcixcbiAgICAgIFwib25VcGRhdGU6bW9kZWxWYWx1ZVwiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiAoKCRzZXR1cC5zaG93RHJhd2VyKSA9ICRldmVudCkpLFxuICAgICAgb25DbG9zZTogJHNldHVwLmNsb3NlRHJhd2VyLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICBzaXplOiBcIjUwJVwiXG4gICAgfSwge1xuICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICBfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJzaWRlclwiLCB7fSwgdW5kZWZpbmVkLCB0cnVlKVxuICAgICAgXSksXG4gICAgICBfOiAzIC8qIEZPUldBUkRFRCAqL1xuICAgIH0sIDggLyogUFJPUFMgKi8sIFtcIm1vZGVsVmFsdWVcIl0pXG4gIF0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3VfcG0vZ3VpZ3VfcG0vcHVibGljL2pzL2NvbXBvbmVudHMvcGFnZS9pbmRleC52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL2d1aWd1X3BtL2d1aWd1X3BtL3B1YmxpYy9qcy9jb21wb25lbnRzL3BhZ2UvaW5kZXgudnVlXCI7c2NyaXB0Ll9fc2NvcGVJZCA9IFwiZGF0YS12LTJjYmRiNWU5XCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJcbjx0ZW1wbGF0ZT5cblx0PGRpdiBjbGFzcz1cInNpZGVyLWNvbnRhaW5lclwiIHYtbG9hZGluZz1cImxvYWRpbmdcIj5cblx0XHQ8ZGl2IGNsYXNzPVwiYnRuLWNvbnRhaW5lclwiPlxuXHRcdFx0PGVsLWJ1dHRvbiB2LWlmPVwicGVybWlzc2lvbnMuY3JlYXRlUGVybWlzc2lvblwiIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwiY3JlYXRlT3JnYW5pemF0aW9uXCI+XHU2NUIwXHU1RUZBXHU3RUM0XHU3RUM3PC9lbC1idXR0b24+XG5cdFx0PC9kaXY+XG5cdFx0PGRpdiBjbGFzcz1cInRyZWUtY29udGFpbmVyXCI+XG5cdFx0XHQ8ZWwtdHJlZVxuXHRcdFx0XHR2LWlmPVwib3JnYW5pemF0aW9uVHJlZS5sZW5ndGg+MFwiXG5cdFx0XHRcdDpkYXRhPVwib3JnYW5pemF0aW9uVHJlZVwiXG5cdFx0XHRcdEBub2RlLWNsaWNrPVwiaGFuZGxlTm9kZUNsaWNrXCJcblx0XHRcdFx0ZGVmYXVsdEV4cGFuZEFsbFxuXHRcdFx0XHRoaWdobGlnaHRDdXJyZW50XG5cdFx0XHRcdG5vZGVLZXk9XCJuYW1lXCJcblx0XHRcdFx0OmN1cnJlbnROb2RlS2V5PVwiY3VycmVudE5vZGVLZXlcIlxuXHRcdFx0XHQ6ZXhwYW5kT25DbGlja05vZGU9XCJmYWxzZVwiXG5cdFx0XHRcdGRyYWdnYWJsZVxuXHRcdFx0XHRAbm9kZS1kcm9wPVwiaGFuZGxlRHJvcFwiXG5cdFx0XHRcdDphbGxvd0Ryb3A9XCJhbGxvd0Ryb3BcIlxuXHRcdFx0PlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJ7IG5vZGUsIGRhdGEgfVwiPlxuXHRcdFx0XHRcdDxUcmVlSXRlbVxuXHRcdFx0XHRcdFx0Om5vZGU9XCJub2RlXCJcblx0XHRcdFx0XHRcdEByZWxvYWQ9XCJnZXRPcmdhbml6YXRpb25zXCJcblx0XHRcdFx0XHQ+PC9UcmVlSXRlbT5cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdHJlZT5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz0ndHMnPlxuaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIGNvbXB1dGVkLCB0b1Jhd30gZnJvbSAndnVlJztcbmltcG9ydCB0eXBlIHtcblx0QWxsb3dEcm9wVHlwZSxcblx0Tm9kZURyb3BUeXBlLFxufSBmcm9tICdlbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90cmVlL3NyYy90cmVlLnR5cGUnO1xuaW1wb3J0IHR5cGUgeyBEcmFnRXZlbnRzIH0gZnJvbSAnZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvdHJlZS9zcmMvbW9kZWwvdXNlRHJhZ05vZGUnO1xuaW1wb3J0IHR5cGUgTm9kZSBmcm9tICdlbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90cmVlL3NyYy9tb2RlbC9ub2RlJztcbmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7XG5cbmltcG9ydCB7IGxpc3QyVHJlZSB9IGZyb20gJy4uL2hlbHBlcic7XG5pbXBvcnQgdHlwZSB7IE9yZ2FuaXphdGlvbiwgT3JnYW5pemF0aW9uVHlwZSwgUGVybWlzc2lvbnMgfSBmcm9tICcuLi90eXBlJztcblxuaW1wb3J0IFRyZWVJdGVtIGZyb20gJy4vVHJlZUl0ZW0udnVlJztcbmludGVyZmFjZSBQcm9wc3tcblx0bW9kZWxWYWx1ZT86T3JnYW5pemF0aW9uXG5cdHBlcm1pc3Npb25zOiBQZXJtaXNzaW9uc1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmludGVyZmFjZSBFbWl0e1xuXHQoZTondXBkYXRlOm1vZGVsVmFsdWUnLCBvcmdhbml6YXRpb246YW55ICk6dm9pZFxufVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXQ+KCk7XG5jb25zdCBvcmdhbml6YXRpb25MaXN0ID0gcmVmPE9yZ2FuaXphdGlvbltdPihbXSk7XG5jb25zdCBjdXJyZW50Tm9kZUtleSA9IHJlZjxzdHJpbmc+KCcnKTtcbmNvbnN0IGxvYWRpbmcgPSByZWY8Ym9vbGVhbj4oZmFsc2UpO1xub25Nb3VudGVkKCgpPT57XG5cdGdldE9yZ2FuaXphdGlvbnMoKTtcbn0pO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnYW5pemF0aW9ucygpe1xuXHRsb2FkaW5nLnZhbHVlID0gdHJ1ZTtcblx0Y29uc3QgcmVzID0gYXdhaXQgZnJhcHBlLmNhbGw8eyBtZXNzYWdlOiBPcmdhbml6YXRpb25bXSB9Pih7XG5cdFx0bWV0aG9kOiAndGlhbmp5X29yZ2FuaXphdGlvbi50aWFuanlfb3JnYW5pemF0aW9uLnBhZ2UudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcuZ2V0X29yZ2FuaXphdGlvbnMnLFxuXHR9KTtcblx0b3JnYW5pemF0aW9uTGlzdC52YWx1ZSA9IHJlcz8ubWVzc2FnZXx8W107XG5cdGlmICghY3VycmVudE5vZGVLZXkudmFsdWUpe1xuXHRcdGN1cnJlbnROb2RlS2V5LnZhbHVlID0gb3JnYW5pemF0aW9uTGlzdC52YWx1ZVswXT8ubmFtZTtcblx0XHRlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIG9yZ2FuaXphdGlvbkxpc3QudmFsdWVbMF0pO1xuXHR9XG5cdGxvYWRpbmcudmFsdWUgPSBmYWxzZTtcbn1cblxuY29uc3Qgb3JnYW5pemF0aW9uVHJlZSA9IGNvbXB1dGVkKCgpPT57XG5cdGZvciAoY29uc3Qgb3JnIG9mIG9yZ2FuaXphdGlvbkxpc3QudmFsdWUpe1xuXHRcdG9yZy5wZXJtaXNzaW9ucyA9IHByb3BzLnBlcm1pc3Npb25zO1xuXHR9XG5cdHJldHVybiBsaXN0MlRyZWUodG9SYXcob3JnYW5pemF0aW9uTGlzdC52YWx1ZSksICdwYXJlbnRfb3JnYW5pemF0aW9uJyk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlTm9kZUNsaWNrKGRhdGE6T3JnYW5pemF0aW9uKXtcblx0ZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3JnYW5pemF0aW9uKCl7XG5cdGNvbnN0IG5ld0RvYyA9IGZyYXBwZS5tb2RlbC5tYWtlX25ld19kb2NfYW5kX2dldF9uYW1lKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24nLCBuZXdEb2NdKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZURyb3AoXG5cdGRyYWdnaW5nTm9kZTogTm9kZSxcblx0ZHJvcE5vZGU6IE5vZGUsXG5cdGRyb3BUeXBlOiBOb2RlRHJvcFR5cGUsXG5cdGV2OiBEcmFnRXZlbnRzLFxuKXtcblx0Y29uc3QgYmVmb3JlID0gZHJvcFR5cGU9PT0naW5uZXInP2ZhbHNlOmRyb3BUeXBlID09PSdiZWZvcmUnO1xuXHRjb25zdCBjaGlsZHJlbiA9IGRyb3BUeXBlPT09J2lubmVyJztcblx0bG9hZGluZy52YWx1ZSA9IHRydWU7XG5cdGF3YWl0IGZyYXBwZS5jYWxsKCdndWlndS50cmVlLnRyZWVfc29ydCcsIHtcblx0XHRkb2N0eXBlOiAnVGlhbmp5IE9yZ2FuaXphdGlvbicsXG5cdFx0dGFyZ2V0OmRyb3BOb2RlLmRhdGEubmFtZSxcblx0XHRkb2NzOltkcmFnZ2luZ05vZGUuZGF0YS5uYW1lXSxcblx0XHRiZWZvcmUsXG5cdFx0Y2hpbGRyZW4sXG5cdH0pO1xuXHRnZXRPcmdhbml6YXRpb25zKCk7XG59XG5cbmZ1bmN0aW9uIGFsbG93RHJvcChcblx0ZHJhZ2dpbmdOb2RlOiBOb2RlLFxuXHRkcm9wTm9kZTogTm9kZSxcblx0ZHJvcFR5cGU6IEFsbG93RHJvcFR5cGUsXG4pe1xuXHRzd2l0Y2ggKGRyb3BUeXBlKXtcblx0XHRjYXNlICduZXh0Jzpcblx0XHRjYXNlICdwcmV2JzogcmV0dXJuIGJlZm9yZShkcmFnZ2luZ05vZGUsIGRyb3BOb2RlKTtcblx0XHRjYXNlICdpbm5lcic6IHJldHVybiBpbm5lcihkcmFnZ2luZ05vZGUsIGRyb3BOb2RlKTtcblx0XHRkZWZhdWx0OiByZXR1cm4gdHJ1ZTtcblx0fVxufVxuZnVuY3Rpb24gaW5uZXIoXG5cdGRyYWdnaW5nTm9kZTogTm9kZSxcblx0ZHJvcE5vZGU6IE5vZGUsXG4pe1xuXHQvLyBcdTY1M0VcdTUyMzBcdTUxNzZcdTRFRDZcdTgyODJcdTcwQjlcdTUxODVcblx0Ly8gXHU1MjI0XHU2NUFEXHU4MEZEXHU0RTBEXHU4MEZEXHU0RjVDXHU0RTNBXHU4RkQ5XHU0RTJBXHU4MjgyXHU3MEI5XHU3Njg0XHU1QjUwXHU4MjgyXHU3MEI5XG5cdGlmICghZHJvcE5vZGUuZGF0YS5jaGlsZF90eXBlX2xpc3Quc29tZSh0eXBlPT50eXBlLm5hbWU9PT1kcmFnZ2luZ05vZGUuZGF0YS50eXBlKSl7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYmVmb3JlKFxuXHRkcmFnZ2luZ05vZGU6IE5vZGUsXG5cdGRyb3BOb2RlOiBOb2RlLFxuKXtcblx0aWYgKGRyb3BOb2RlLnBhcmVudC5sZXZlbD09PTAmJmRyYWdnaW5nTm9kZS5kYXRhLnR5cGVfZG9jLnJvb3Rfb25seSE9PTEpe1xuXHRcdGNvbnNvbGUubG9nKGRyb3BOb2RlLnBhcmVudC5sZXZlbCwgZHJhZ2dpbmdOb2RlLmRhdGEudHlwZV9kb2Mucm9vdF9vbmx5LCAnZmFsc2UnKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Ly8gXHU0RTBEXHU2NjJGXHU2NTNFXHU1MjMwXHU2ODM5XHU4MjgyXHU3MEI5XHVGRjBDXHU1MjI0XHU2NUFEXHU4MEZEXHU0RTBEXHU4MEZEXHU0RjVDXHU0RTNBXHU1MTc2XHU0RUQ2XHU4MjgyXHU3MEI5XHU3Njg0XHU1QjUwXHU3RUE3XG5cdGlmIChkcm9wTm9kZS5wYXJlbnQubGV2ZWwhPT0wJiYhZHJvcE5vZGUucGFyZW50LmRhdGEuY2hpbGRfdHlwZV9saXN0LnNvbWUodHlwZT0+dHlwZS5uYW1lPT09ZHJhZ2dpbmdOb2RlLmRhdGEudHlwZSkpe1xuXHRcdGNvbnNvbGUubG9nKGRyb3BOb2RlLnBhcmVudC5sZXZlbCwgJ2ZhbHNlJyk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuZnJhcHBlLnNvY2tldGlvLmRvY3R5cGVfc3Vic2NyaWJlKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5mcmFwcGUucmVhbHRpbWUub24oJ2xpc3RfdXBkYXRlJywgcCA9PiB7XG5cdGlmIChwLmRvY3R5cGUgIT09ICdUaWFuankgT3JnYW5pemF0aW9uJykgeyByZXR1cm47IH1cblx0Z2V0T3JnYW5pemF0aW9ucygpO1xufSk7XG5cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLnNpZGVyLWNvbnRhaW5lcntcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0aGVpZ2h0OiAxMDAlO1xuXHRwYWRkaW5nLXRvcDogOHB4O1xuXHQuYnRuLWNvbnRhaW5lcntcblx0XHRtYXJnaW4tYm90dG9tOiA4cHg7XG5cdH1cblx0LnRyZWUtY29udGFpbmVye1xuXHRcdG92ZXJmbG93LXk6IGF1dG87XG5cdH1cbn1cbjwvc3R5bGU+XG4iLCAiZXhwb3J0IGludGVyZmFjZSBJdGVte1xuXHRuYW1lOnN0cmluZyxcblx0W3BhcmVudDpzdHJpbmddOmFueVxufVxuZXhwb3J0IGludGVyZmFjZSBUcmVlSXRlbURhdGEgZXh0ZW5kcyBJdGVtIHtcbiAgY2hpbGRyZW4/OiB0aGlzW107XG59XG5leHBvcnQgZnVuY3Rpb24gbGlzdDJUcmVlPFQgZXh0ZW5kcyBJdGVtPihsaXN0RGF0YTogVFtdLCBwYXJlbnRGaWVsZDpzdHJpbmcpIHtcblx0Y29uc3QgbGlzdERhdGFDb3B5OlRbXSAgPSBzdHJ1Y3R1cmVkQ2xvbmUobGlzdERhdGEpO1xuXHRjb25zdCB0cmVlRGF0YTogKFQgJiBUcmVlSXRlbURhdGEpW10gPSBbXTtcblx0Y29uc3QgbWFwOlJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblx0bGlzdERhdGFDb3B5LmZvckVhY2goaXRlbSA9PiB7XG5cdCAgbWFwW2l0ZW0ubmFtZV0gPSBpdGVtO1xuXHR9KTtcblx0bGlzdERhdGFDb3B5LmZvckVhY2goaXRlbSA9PiB7XG5cdCAgY29uc3QgcGFyZW50ID0gbWFwW2l0ZW1bcGFyZW50RmllbGRdIHx8IDBdO1xuXHQgIGlmIChwYXJlbnQpIHtcblx0XHQocGFyZW50LmNoaWxkcmVuIHx8IChwYXJlbnQuY2hpbGRyZW4gPSBbXSkpLnB1c2goaXRlbSk7XG5cdCAgfSBlbHNlIHtcblx0XHR0cmVlRGF0YS5wdXNoKGl0ZW0pO1xuXHQgIH1cblx0fSk7XG5cdHJldHVybiB0cmVlRGF0YTtcbiAgfVxuIiwgIlxuPHRlbXBsYXRlPlxuXHQ8ZGl2IGNsYXNzPVwiY3VzdG9tLXRyZWUtbm9kZVwiPlxuXHRcdDxzcGFuPnt7IG5vZGUubGFiZWwgfX08L3NwYW4+XG5cdFx0PGVsLWRyb3Bkb3duIEBjb21tYW5kPVwiY29tbWFuZFwiIHYtaWY9XCJub2RlLmRhdGEucGVybWlzc2lvbnMuY3JlYXRlUGVybWlzc2lvbnx8bm9kZS5kYXRhLnBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb25cIj5cblx0XHRcdDxzcGFuIGNsYXNzPVwiZWwtZHJvcGRvd24tbGlua1wiPlxuXHRcdFx0XHQ8ZWwtaWNvbiBjbGFzcz1cImVsLWljb24tLXJpZ2h0XCIgQGNsaWNrPVwiZT0+ZS5zdG9wUHJvcGFnYXRpb24oKVwiPlxuXHRcdFx0XHRcdDxNb3JlRmlsbGVkIC8+XG5cdFx0XHRcdDwvZWwtaWNvbj5cblx0XHRcdDwvc3Bhbj5cblx0XHRcdDx0ZW1wbGF0ZSAjZHJvcGRvd24+XG5cdFx0XHRcdDxlbC1kcm9wZG93bi1tZW51PlxuXHRcdFx0XHRcdDx0ZW1wbGF0ZSB2LWlmPVwiY2hpbGRUeXBlcy5sZW5ndGg+MCYmbm9kZS5kYXRhLnBlcm1pc3Npb25zLmNyZWF0ZVBlcm1pc3Npb25cIj5cblx0XHRcdFx0XHRcdDxlbC1kcm9wZG93bi1pdGVtXG5cdFx0XHRcdFx0XHRcdGNvbW1hbmQ9XCJhZGRcIlxuXHRcdFx0XHRcdFx0XHR2LWZvcj1cInR5cGUgaW4gY2hpbGRUeXBlc1wiXG5cdFx0XHRcdFx0XHRcdEBjbGljaz1cImNyZWF0ZUJ5VHlwZSh0eXBlKVwiXG5cdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx1NjVCMFx1NUVGQXt7IHR0KHR5cGUubmFtZSkgfX1cblx0XHRcdFx0XHRcdDwvZWwtZHJvcGRvd24taXRlbT5cblx0XHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0XHRcdDxlbC1kcm9wZG93bi1pdGVtXG5cdFx0XHRcdFx0XHRjb21tYW5kPVwiZGVsZXRlXCJcblx0XHRcdFx0XHRcdHYtaWY9XCJub2RlLmRhdGEucGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvbiYmIW5vZGUuZGF0YS5jaGlsZHJlbj8ubGVuZ3RoXCJcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRlbGV0ZVwiPlx1NTIyMFx1OTY2NDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2VsLWRyb3Bkb3duLWl0ZW0+XG5cdFx0XHRcdDwvZWwtZHJvcGRvd24tbWVudT5cblx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0PC9lbC1kcm9wZG93bj5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cbmltcG9ydCB7IHJlZiwgb25Nb3VudGVkLCBjb21wdXRlZCwgdG9SYXd9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgdHlwZSBOb2RlIGZyb20gJ2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL3RyZWUvc3JjL21vZGVsL25vZGUnO1xuaW1wb3J0IHsgTW9yZUZpbGxlZCB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJztcbmltcG9ydCB7IEVsTWVzc2FnZSwgRWxNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC1wbHVzJztcblxuaW1wb3J0IHR5cGUgeyBPcmdhbml6YXRpb24sIE9yZ2FuaXphdGlvblR5cGUgfSBmcm9tICcuLi90eXBlJztcblxuaW50ZXJmYWNlIFByb3Bze1xuXHRub2RlOk5vZGUsXG59XG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuaW50ZXJmYWNlIEVtaXR7XG5cdChlOid1cGRhdGU6bW9kZWxWYWx1ZScsIG9yZ2FuaXphdGlvbjphbnkgKTp2b2lkXG5cdChlOidyZWxvYWQnICk6dm9pZFxufVxuY29uc3QgdHQgPSBfXztcbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czxFbWl0PigpO1xuXG5hc3luYyBmdW5jdGlvbiBkZWxldGVPcmdhbml6YXRpb24oKSB7XG5cdEVsTWVzc2FnZUJveC5jb25maXJtKFxuXHRcdCdcdTYwQThcdTc4NkVcdThCQTRcdTUyMjBcdTk2NjRcdTZCNjRcdTdFQzRcdTdFQzdcdTU0MTc/Jyxcblx0XHQnXHU4QkY3XHU3ODZFXHU4QkE0Jyxcblx0XHR7XG5cdFx0XHRjb25maXJtQnV0dG9uVGV4dDogJ1x1Nzg2RVx1NUI5QScsXG5cdFx0XHRjYW5jZWxCdXR0b25UZXh0OiAnXHU1M0Q2XHU2RDg4Jyxcblx0XHRcdHR5cGU6ICd3YXJuaW5nJyxcblx0XHR9LFxuXHQpLnRoZW4oYXN5bmMgKCkgPT4ge1xuXHRcdGF3YWl0IGZyYXBwZS5kYi5kZWxldGVfZG9jKCdUaWFuankgT3JnYW5pemF0aW9uJywgcHJvcHMubm9kZS5kYXRhLm5hbWUpO1xuXHRcdGVtaXQoJ3JlbG9hZCcpO1xuXHRcdEVsTWVzc2FnZSh7XG5cdFx0XHR0eXBlOiAnc3VjY2VzcycsXG5cdFx0XHRtZXNzYWdlOiAnXHU1MjIwXHU5NjY0XHU2MjEwXHU1MjlGJyxcblx0XHR9KTtcblx0fSkuY2F0Y2goKCkgPT4ge1xuXHRcdEVsTWVzc2FnZSh7XG5cdFx0XHR0eXBlOiAnaW5mbycsXG5cdFx0XHRtZXNzYWdlOiAnXHU1M0Q2XHU2RDg4XHU1MjIwXHU5NjY0Jyxcblx0XHR9KTtcblx0fSk7XG59XG5cbmNvbnN0IGNoaWxkVHlwZXMgPSBjb21wdXRlZCgoKT0+cHJvcHMubm9kZS5kYXRhLmNoaWxkX3R5cGVfbGlzdCk7XG5mdW5jdGlvbiBjb21tYW5kKHY6IHN0cmluZykge1xuXHRzd2l0Y2ggKHYpIHtcblx0XHRjYXNlICdkZWxldGUnOiByZXR1cm4gZGVsZXRlT3JnYW5pemF0aW9uKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQnlUeXBlKHR5cGU6T3JnYW5pemF0aW9uVHlwZSl7XG5cdGNvbnN0IG5ld0RvYyA9IGZyYXBwZS5tb2RlbC5tYWtlX25ld19kb2NfYW5kX2dldF9uYW1lKCdUaWFuankgT3JnYW5pemF0aW9uJyk7XG5cdGZyYXBwZS5tb2RlbC5zZXRfdmFsdWUoJ1RpYW5qeSBPcmdhbml6YXRpb24nLCBuZXdEb2MsICd0eXBlJywgdHlwZS5uYW1lKTtcblx0ZnJhcHBlLm1vZGVsLnNldF92YWx1ZSgnVGlhbmp5IE9yZ2FuaXphdGlvbicsIG5ld0RvYywgJ3BhcmVudF9vcmdhbml6YXRpb24nLCBwcm9wcy5ub2RlLmRhdGEubmFtZSk7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24nLCBuZXdEb2NdKTtcbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuOmRlZXAoLmRlbGV0ZSl7XG5cdGNvbG9yOiAjZjAwO1xufVxuLmNyZWF0ZV90eXBle1xuXHRoZWlnaHQ6IDI0cHg7XG59XG4uY3JlYXRlLW1lbnV7XG5cdGJvcmRlci1yaWdodDogMDtcblx0cGFkZGluZzowO1xufVxuLmN1c3RvbS10cmVlLW5vZGV7XG5cdGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgZmxleDogMTtcblx0cGFkZGluZy1yaWdodDogOHB4O1xuXHQuZWwtZHJvcGRvd24tbGluayB7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHR2aXNpYmlsaXR5OiBoaWRkZW47XG5cdH1cblx0Jjpob3Zlcntcblx0XHQuZWwtZHJvcGRvd24tbGlua3tcblx0XHRcdHZpc2liaWxpdHk6IHZpc2libGU7XG5cdFx0fVxuXHR9XG59XG5cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LWE4MzVhYmE3XCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7IGNsYXNzOiBcImN1c3RvbS10cmVlLW5vZGVcIiB9XG5jb25zdCBfaG9pc3RlZF8yID0geyBjbGFzczogXCJlbC1kcm9wZG93bi1saW5rXCIgfVxuY29uc3QgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCB7IGNsYXNzOiBcImRlbGV0ZVwiIH0sIFwiXHU1MjIwXHU5NjY0XCIsIC0xIC8qIEhPSVNURUQgKi8pKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X2VsX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLWljb25cIilcbiAgY29uc3QgX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1kcm9wZG93bi1pdGVtXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfZHJvcGRvd25fbWVudSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtZHJvcGRvd24tbWVudVwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1kcm9wZG93blwiKVxuXG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5ub2RlLmxhYmVsKSwgMSAvKiBURVhUICovKSxcbiAgICAoJHByb3BzLm5vZGUuZGF0YS5wZXJtaXNzaW9ucy5jcmVhdGVQZXJtaXNzaW9ufHwkcHJvcHMubm9kZS5kYXRhLnBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb24pXG4gICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2Ryb3Bkb3duLCB7XG4gICAgICAgICAga2V5OiAwLFxuICAgICAgICAgIG9uQ29tbWFuZDogJHNldHVwLmNvbW1hbmRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRyb3Bkb3duOiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93bl9tZW51LCBudWxsLCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAoJHNldHVwLmNoaWxkVHlwZXMubGVuZ3RoPjAmJiRwcm9wcy5ub2RlLmRhdGEucGVybWlzc2lvbnMuY3JlYXRlUGVybWlzc2lvbilcbiAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7IGtleTogMCB9LCBfcmVuZGVyTGlzdCgkc2V0dXAuY2hpbGRUeXBlcywgKHR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogXCJhZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLmNyZWF0ZUJ5VHlwZSh0eXBlKSlcbiAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCIgXHU2NUIwXHU1RUZBXCIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC50dCh0eXBlLm5hbWUpKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi9cbiAgICAgICAgICAgICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKSlcbiAgICAgICAgICAgICAgICAgICAgfSksIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSlcbiAgICAgICAgICAgICAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgKCRwcm9wcy5ub2RlLmRhdGEucGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvbiYmISRwcm9wcy5ub2RlLmRhdGEuY2hpbGRyZW4/Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwge1xuICAgICAgICAgICAgICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBcImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8zXG4gICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHtcbiAgICAgICAgICAgICAgICBjbGFzczogXCJlbC1pY29uLS1yaWdodFwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZT0+ZS5zdG9wUHJvcGFnYXRpb24oKSlcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJNb3JlRmlsbGVkXCJdKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pKVxuICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICBdKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9UcmVlSXRlbS52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL1RyZWVJdGVtLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1hODM1YWJhN1wiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlP3R5cGU9c3R5bGUtY3NzJmluZGV4PTBcIjtleHBvcnQgZGVmYXVsdCAoKSA9Pnt9IiwgImltcG9ydCB7IGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZURpcmVjdGl2ZSBhcyBfcmVzb2x2ZURpcmVjdGl2ZSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi03ZmY5ZDRkYlwiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJzaWRlci1jb250YWluZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8yID0geyBjbGFzczogXCJidG4tY29udGFpbmVyXCIgfVxuY29uc3QgX2hvaXN0ZWRfMyA9IHsgY2xhc3M6IFwidHJlZS1jb250YWluZXJcIiB9XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC1idXR0b25cIilcbiAgY29uc3QgX2NvbXBvbmVudF9lbF90cmVlID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC10cmVlXCIpXG4gIGNvbnN0IF9kaXJlY3RpdmVfbG9hZGluZyA9IF9yZXNvbHZlRGlyZWN0aXZlKFwibG9hZGluZ1wiKVxuXG4gIHJldHVybiBfd2l0aERpcmVjdGl2ZXMoKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAoJHByb3BzLnBlcm1pc3Npb25zLmNyZWF0ZVBlcm1pc3Npb24pXG4gICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7XG4gICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICB0eXBlOiBcInByaW1hcnlcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5jcmVhdGVPcmdhbml6YXRpb25cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCJcdTY1QjBcdTVFRkFcdTdFQzRcdTdFQzdcIilcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICB9KSlcbiAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgIF0pLFxuICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfMywgW1xuICAgICAgKCRzZXR1cC5vcmdhbml6YXRpb25UcmVlLmxlbmd0aD4wKVxuICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RyZWUsIHtcbiAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgIGRhdGE6ICRzZXR1cC5vcmdhbml6YXRpb25UcmVlLFxuICAgICAgICAgICAgb25Ob2RlQ2xpY2s6ICRzZXR1cC5oYW5kbGVOb2RlQ2xpY2ssXG4gICAgICAgICAgICBkZWZhdWx0RXhwYW5kQWxsOiBcIlwiLFxuICAgICAgICAgICAgaGlnaGxpZ2h0Q3VycmVudDogXCJcIixcbiAgICAgICAgICAgIG5vZGVLZXk6IFwibmFtZVwiLFxuICAgICAgICAgICAgY3VycmVudE5vZGVLZXk6ICRzZXR1cC5jdXJyZW50Tm9kZUtleSxcbiAgICAgICAgICAgIGV4cGFuZE9uQ2xpY2tOb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogXCJcIixcbiAgICAgICAgICAgIG9uTm9kZURyb3A6ICRzZXR1cC5oYW5kbGVEcm9wLFxuICAgICAgICAgICAgYWxsb3dEcm9wOiAkc2V0dXAuYWxsb3dEcm9wXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHsgbm9kZSwgZGF0YSB9KSA9PiBbXG4gICAgICAgICAgICAgIF9jcmVhdGVWTm9kZSgkc2V0dXBbXCJUcmVlSXRlbVwiXSwge1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgICAgICAgb25SZWxvYWQ6ICRzZXR1cC5nZXRPcmdhbml6YXRpb25zXG4gICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm5vZGVcIl0pXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgfSwgOCAvKiBQUk9QUyAqLywgW1wiZGF0YVwiLCBcImN1cnJlbnROb2RlS2V5XCJdKSlcbiAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgIF0pXG4gIF0pKSwgW1xuICAgIFtfZGlyZWN0aXZlX2xvYWRpbmcsICRzZXR1cC5sb2FkaW5nXVxuICBdKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQgc3R5bGUwIGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL09yZ2FuaXphdGlvblRyZWUudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvT3JnYW5pemF0aW9uVHJlZS52dWVcIjtzY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtN2ZmOWQ0ZGJcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiBjbGFzcz1cImZvcm0tY29udGFpbmVyXCI+XG5cdFx0PEZvcm1EZXRhaWwgXG5cdFx0XHQ6bG9hZGluZz1cImxvYWRpbmdcIlxuXHRcdFx0di1pZj1cIm1ldGEmJmRldGFpbFwiXG5cdFx0XHQ6bWV0YT1cIm1ldGFcIlxuXHRcdFx0Om9wdGlvbnM9XCJ7fVwiXG5cdFx0XHQ6dmFsdWU9XCJkZXRhaWxcIlxuXHRcdFx0aXNIaWRlQ2xvc2Vcblx0XHQ+PC9Gb3JtRGV0YWlsPlxuXHQ8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz0ndHMnPlxuXHRpbXBvcnQgeyByZWYsIHdhdGNoLCBzaGFsbG93UmVmIH0gZnJvbSAndnVlJztcblx0aW1wb3J0IEZvcm1EZXRhaWwgZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vLi4vZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwnXG5cblx0Y29uc3QgbWV0YSA9IHNoYWxsb3dSZWY8bG9jYWxzLkRvY1R5cGU+KCk7XG5cblx0aW50ZXJmYWNlIFByb3Bze1xuXHRcdGRvY3R5cGU6c3RyaW5nLFxuXHRcdG5hbWU/OnN0cmluZ1xuXHR9XG5cdGNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5cdGNvbnN0IGRldGFpbCA9IHJlZjxhbnk+KClcblx0Y29uc3QgbG9hZGluZyA9IHJlZjxib29sZWFuPihmYWxzZSlcblx0d2F0Y2goKCk9PnByb3BzLmRvY3R5cGUsKCk9Pntcblx0XHRnZXRNZXRhKHByb3BzLmRvY3R5cGUpXG5cdH0se2ltbWVkaWF0ZTp0cnVlfSlcblx0d2F0Y2goKCk9PnByb3BzLm5hbWUsICgpPT57XG5cdFx0Z2V0RGV0YWlsKClcblx0fSwge2ltbWVkaWF0ZTp0cnVlfSlcblx0YXN5bmMgZnVuY3Rpb24gZ2V0RGV0YWlsKCl7XG5cdFx0bG9hZGluZy52YWx1ZT10cnVlXG5cdFx0aWYoIXByb3BzLm5hbWUpe1xuXHRcdFx0ZGV0YWlsLnZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0bG9hZGluZy52YWx1ZT1mYWxzZVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkZXRhaWwudmFsdWUgPSBhd2FpdCBmcmFwcGUuZGIuZ2V0X2RvYyhwcm9wcy5kb2N0eXBlLCBwcm9wcy5uYW1lKTtcblx0XHRsb2FkaW5nLnZhbHVlPWZhbHNlXG5cdH1cblx0YXN5bmMgZnVuY3Rpb24gZ2V0TWV0YShkb2N0eXBlOiBzdHJpbmcpIHtcblx0XHRpZiAoIWRvY3R5cGUpIHsgcmV0dXJuOyB9XG5cdFx0bGV0IGxvY2FsX21ldGEgPSBmcmFwcGUuZ2V0X21ldGEoZG9jdHlwZSk7XG5cdFx0aWYgKGxvY2FsX21ldGEpIHtcblx0XHRcdGxvY2FsX21ldGEuaGlkZV90b29sYmFyID0gdHJ1ZVxuXHRcdFx0bWV0YS52YWx1ZSA9IGxvY2FsX21ldGE7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGF3YWl0IGZyYXBwZS5tb2RlbC53aXRoX2RvY3R5cGUoZG9jdHlwZSk7XG5cdFx0bG9jYWxfbWV0YSA9IGZyYXBwZS5nZXRfbWV0YShkb2N0eXBlKTtcblx0XHRsb2NhbF9tZXRhIS5oaWRlX3Rvb2xiYXIgPSB0cnVlXG5cdFx0bWV0YS52YWx1ZSA9IGxvY2FsX21ldGEgfHwgdW5kZWZpbmVkO1xuXHR9XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9J2xlc3MnIHNjb3BlZD5cbi5mb3JtLWNvbnRhaW5lcntcblx0Ym9yZGVyOjFweCBzb2xpZCAjZWVlO1xuXHRoZWlnaHQ6IDEwMCU7XG5cdG92ZXJmbG93OiBhdXRvO1xuXHQ6ZGVlcCguZm9ybS1zZWN0aW9uIC5mb3JtLWNvbHVtbjpmaXJzdC1jaGlsZCl7XG5cdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xuXHR9XG5cdC5wbGFjZWhvbGRlcntcblx0XHRoZWlnaHQ6IDUwMHB4O1xuXHRcdGxpbmUtaGVpZ2h0OiA1MDBweDtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdH1cbn1cbjwvc3R5bGU+XG4iLCAiPHRlbXBsYXRlPlxuXHQ8TWFpblxuXHRcdHYtaWY9XCJ2YWx1ZSAmJiBkb2NNZXRhICYmIG5hbWVcIlxuXHRcdDprZXk9XCJgJHtkb2NNZXRhLm5hbWV9OiR7dmFsdWUubmFtZX1gXCJcblx0XHQ6bWV0YT1cImRvY01ldGFcIlxuXHRcdDpvcHRpb25zPVwib3B0aW9uc1wiXG5cdFx0OmxvYWRpbmc9XCJsb2FkaW5nXCJcblx0XHQ6bmFtZT1cIm5hbWVcIlxuXHRcdDppc0hpZGVDbG9zZT1cImlzSGlkZUNsb3NlXCJcblx0XHR2LW1vZGVsOnZhbHVlPVwiZG9jXCJcblx0XHRAcmVmcmVzaD1cInJlZnJlc2hcIiAvPlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQgbGFuZz1cInRzXCIgc2V0dXA+XG5pbXBvcnQgeyBjb21wdXRlZCwgc2hhbGxvd1JlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuXG5pbXBvcnQgZ2V0TGluayBmcm9tICcuLi91dGlscy9nZXRMaW5rJztcblxuaW1wb3J0IE1haW4gZnJvbSAnLi9NYWluLnZ1ZSc7XG5cbmRlZmluZU9wdGlvbnMoeyBuYW1lOiAnRm9ybURldGFpbDpSb290JywgaW5oZXJpdEF0dHJzOiBmYWxzZSB9KTtcbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuXHQvKiogXHU1RjUzXHU1MjREIGRvY3R5cGUgXHU3Njg0XHU0RkUxXHU2MDZGICovXG5cdG1ldGE6IGxvY2Fscy5Eb2NUeXBlXG5cdC8qKiBcdTY1NzBcdTYzNkVcdTkwMDlcdTk4NzkgKi9cblx0b3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PjtcblxuXHQvKiogXHU0RTNCXHU1MzNBXHU1N0RGXHU3Njg0IHZhbHVlICovXG5cdHZhbHVlPzogYW55O1xuXG5cdC8qKiBcdTRFM0JcdTUzM0FcdTU3REZcdTY1NzBcdTYzNkVcdTY2MkZcdTU0MjZcdTU3MjhcdTUyQTBcdThGN0RcdTRFMkQgKi9cblx0bG9hZGluZz86IGJvb2xlYW47XG5cblxuXHRsaW5rRmllbGQ/OiBzdHJpbmc7XG5cdGlzSGlkZUNsb3NlPzogYm9vbGVhblxufT4oKTtcbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czx7XG5cdChldmVudDogJ3JlZnJlc2gnKTogdm9pZDtcblx0KGV2ZW50OiAndXBkYXRlOnZhbHVlJywgdmFsdWU/OiBhbnkpOiB2b2lkO1xufT4oKTtcbmZ1bmN0aW9uIHJlZnJlc2goKSB7XG5cdGVtaXQoJ3JlZnJlc2gnKTtcbn1cbmNvbnN0IGRvYyA9IGNvbXB1dGVkKHtcblx0Z2V0OiAoKSA9PiBwcm9wcy52YWx1ZSxcblx0c2V0OiB2ID0+IGVtaXQoJ3VwZGF0ZTp2YWx1ZScsIHYpLFxufSk7XG5sZXQgZG9jTWV0YUxvYWRpbmdEb2N0eXBlID0gJyc7XG5sZXQgRG9jVHlwZUxvYWRpbmdJZCA9IDA7XG5jb25zdCBsaW5rRmllbGQgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5saW5rRmllbGQpO1xuY29uc3QgZG9jTWV0YUxvYWRpbmcgPSBzaGFsbG93UmVmPGxvY2Fscy5Eb2NUeXBlPigpO1xuXG5jb25zdCBsaW5rID0gY29tcHV0ZWQoKCkgPT4gZ2V0TGluayhkb2MudmFsdWUsIHByb3BzLm1ldGEsIGxpbmtGaWVsZC52YWx1ZSkpO1xuY29uc3QgbmFtZSA9IGNvbXB1dGVkKCgpID0+IGxpbmsudmFsdWU/LlsxXSB8fCBkb2MudmFsdWU/Lm5hbWUpO1xud2F0Y2goKCkgPT4gbGluay52YWx1ZT8uWzBdLCBkb2N0eXBlID0+IHtcblx0aWYgKCFkb2N0eXBlKSB7IHJldHVybjsgfVxuXHRpZiAoZG9jdHlwZSA9PT0gZG9jTWV0YUxvYWRpbmdEb2N0eXBlKSB7IHJldHVybjsgfVxuXHRkb2NNZXRhTG9hZGluZ0RvY3R5cGUgPSBkb2N0eXBlO1xuXHRkb2NNZXRhTG9hZGluZy52YWx1ZSA9IHVuZGVmaW5lZDtcblx0RG9jVHlwZUxvYWRpbmdJZCsrO1xuXHRjb25zdCBpZCA9IERvY1R5cGVMb2FkaW5nSWQ7XG5cdChhc3luYyAoKSA9PiB7XG5cdFx0YXdhaXQgbmV3IFByb21pc2UociA9PiBmcmFwcGUubW9kZWwud2l0aF9kb2N0eXBlKGRvY3R5cGUsIHIpKTtcblx0XHRjb25zdCBtZXRhID0gZnJhcHBlLmdldF9kb2MoJ0RvY1R5cGUnLCBkb2N0eXBlKTtcblx0XHRpZiAoaWQgIT09IERvY1R5cGVMb2FkaW5nSWQpIHsgcmV0dXJuOyB9XG5cdFx0aWYgKGRvY01ldGFMb2FkaW5nRG9jdHlwZSAhPT0gZG9jdHlwZSkgeyByZXR1cm47IH1cblx0XHRkb2NNZXRhTG9hZGluZy52YWx1ZSA9IG1ldGEgfHwgdW5kZWZpbmVkO1xuXHR9KSgpO1xufSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG5jb25zdCBkb2NNZXRhID0gY29tcHV0ZWQoKCkgPT4ge1xuXHRjb25zdCBkb2N0eXBlID0gbGluay52YWx1ZT8uWzBdO1xuXHRpZiAoIWRvY3R5cGUpIHsgcmV0dXJuIHByb3BzLm1ldGE7IH1cblx0aWYgKGRvY3R5cGUgIT09IGRvY01ldGFMb2FkaW5nRG9jdHlwZSkge1xuXHRcdHJldHVybjtcblx0fVxuXHRyZXR1cm4gZG9jTWV0YUxvYWRpbmcudmFsdWU7XG59KTtcblxuPC9zY3JpcHQ+XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TGluayhcblx0ZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4sXG5cdG1ldGE/OiBsb2NhbHMuRG9jVHlwZSxcblx0bGlua0ZpZWxkPzogc3RyaW5nXG4pOiBbc3RyaW5nLCBzdHJpbmddIHwgdW5kZWZpbmVkIHtcblx0aWYgKCFkYXRhKSB7IHJldHVybjsgfVxuXHRpZiAoIW1ldGEpIHsgcmV0dXJuOyB9XG5cdGlmICghbGlua0ZpZWxkKSB7IHJldHVybjsgfVxuXHRjb25zdCB7IGZpZWxkcyB9ID0gbWV0YTtcblx0aWYgKCFmaWVsZHMpIHsgcmV0dXJuOyB9XG5cblx0Y29uc3QgbGluayA9IGRhdGFbbGlua0ZpZWxkXTtcblx0Y29uc3QgbmFtZSA9IHR5cGVvZiBsaW5rID09PSAnc3RyaW5nJyAmJiBsaW5rO1xuXHRpZiAoIW5hbWUpIHsgcmV0dXJuOyB9XG5cblx0Y29uc3QgZmllbGQgPSBmaWVsZHMuZmluZCh2ID0+IHYuZmllbGRuYW1lID09PSBsaW5rRmllbGQpO1xuXHRpZiAoIWZpZWxkKSB7IHJldHVybjsgfVxuXHRjb25zdCBvcHRpb24gPSBmaWVsZC5vcHRpb25zO1xuXHRpZiAoIW9wdGlvbikgeyByZXR1cm47IH1cblxuXHRpZiAoZmllbGQuZmllbGR0eXBlID09PSAnTGluaycpIHsgcmV0dXJuIFtvcHRpb24sIG5hbWVdOyB9XG5cblx0aWYgKGZpZWxkLmZpZWxkdHlwZSAhPT0gJ0R5bmFtaWMgTGluaycpIHsgcmV0dXJuOyB9XG5cdGNvbnN0IGR5bmFtaWNMaW5rRmllbGQgPSBmaWVsZHMuZmluZCh2ID0+IHYuZmllbGRuYW1lID09PSBvcHRpb24pO1xuXHRpZiAoIWR5bmFtaWNMaW5rRmllbGQpIHsgcmV0dXJuOyB9XG5cdGlmIChkeW5hbWljTGlua0ZpZWxkLmZpZWxkdHlwZSAhPT0gJ0xpbmsnKSB7IHJldHVybjsgfVxuXHRpZiAoZHluYW1pY0xpbmtGaWVsZC5vcHRpb25zICE9PSAnRG9jVHlwZScpIHsgcmV0dXJuOyB9XG5cdGNvbnN0IGRvY3R5cGUgPSBkYXRhW29wdGlvbl07XG5cdGlmICh0eXBlb2YgZG9jdHlwZSAhPT0gJ3N0cmluZycgfHwgIWRvY3R5cGUpIHsgcmV0dXJuOyB9XG5cdHJldHVybiBbZG9jdHlwZSwgbmFtZV07XG59XG4iLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IHJlZj1cInJvb3RcIj5cblx0XHQ8SGVhZGVyIHYtbW9kZWw6b3Blbj1cIm9wZW5cIiA6aGFzU2lkZXI9XCIhc2luZ2xlX2NvbHVtblwiIDppc0hpZGVDbG9zZT1cImlzSGlkZUNsb3NlXCIgIEBoaWRlPVwiaGlkZVwiIC8+XG5cdFx0PGRpdiBjbGFzcz1cImNvbnRhaW5lciBwYWdlLWJvZHlcIj5cblx0XHRcdDxkaXYgY2xhc3M9XCJwYWdlLXRvb2xiYXIgaGlkZVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwicGFnZS13cmFwcGVyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwid29ya2Zsb3ctYnV0dG9uLWFyZWEgYnRuLWdyb3VwIHB1bGwtcmlnaHQgaGlkZVwiPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyb3cgbGF5b3V0LW1haW5cIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wgbGF5b3V0LW1haW4tc2VjdGlvbi13cmFwcGVyXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJsYXlvdXQtbWFpbi1zZWN0aW9uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGQtZm9ybS1sYXlvdXRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tbGF5b3V0XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tbWVzc2FnZSBoaWRkZW5cIiAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLXBhZ2VcIiAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImxheW91dC1mb290ZXIgaGlkZVwiIC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgdi1pZj1cIiFzaW5nbGVfY29sdW1uXCIgOmhpZGRlbj1cIiFvcGVuXCJcblx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJjb2wtbGctMiBsYXlvdXQtc2lkZS1zZWN0aW9uXCIgLz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cbmltcG9ydCB7IGNvbXB1dGVkLCBzaGFsbG93UmVmLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZVN0b3JhZ2UgfSBmcm9tICdAdnVldXNlL2NvcmUnO1xuXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vSGVhZGVyLnZ1ZSc7XG5pbXBvcnQgRm9ybSBmcm9tICcuL0Zvcm0nO1xuaW1wb3J0IGxvYWREb2MgZnJvbSAnLi9sb2FkRG9jJztcbmltcG9ydCB1c2VTdG9yZSBmcm9tICcuL3VzZVN0b3JlJztcblxuZGVmaW5lT3B0aW9ucyh7IG5hbWU6ICdGb3JtRGV0YWlsJyB9KTtcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczx7XG5cdC8qKiBcdTVGNTNcdTUyNEQgZG9jdHlwZSBcdTc2ODRcdTRGRTFcdTYwNkYgKi9cblx0bWV0YTogbG9jYWxzLkRvY1R5cGVcblx0LyoqIFx1NjU3MFx1NjM2RVx1OTAwOVx1OTg3OSAqL1xuXHRvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5cdC8qKiBcdTRFM0JcdTUzM0FcdTU3REZcdTc2ODQgdmFsdWUgKi9cblx0dmFsdWU6IGxvY2Fscy5Eb2N0eXBlO1xuXHRuYW1lOiBzdHJpbmdcblxuXHQvKiogXHU0RTNCXHU1MzNBXHU1N0RGXHU2NTcwXHU2MzZFXHU2NjJGXHU1NDI2XHU1NzI4XHU1MkEwXHU4RjdEXHU0RTJEICovXG5cdGxvYWRpbmc/OiBib29sZWFuO1xuXHRpc0hpZGVDbG9zZT86IGJvb2xlYW5cbn0+KCk7XG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8e1xuXHQoZXZlbnQ6ICdyZWZyZXNoJyk6IHZvaWQ7XG5cdChldmVudDogJ3VwZGF0ZTp2YWx1ZScsIHZhbHVlPzogYW55KTogdm9pZDtcbn0+KCk7XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG5cdGVtaXQoJ3VwZGF0ZTp2YWx1ZScpO1xufVxuY29uc3QgZGV0YWlsU3RhdGUgPSB1c2VTdG9yZSgpO1xuY29uc3QgY3VycmVudFRhYiA9IGNvbXB1dGVkKHtcblx0Z2V0OiAoKSA9PiBkZXRhaWxTdGF0ZS5jdXJyZW50VGFiLFxuXHRzZXQ6IHMgPT4geyBkZXRhaWxTdGF0ZS5jdXJyZW50VGFiID0gczsgfSxcbn0pO1xuY29uc3Qgc2luZ2xlX2NvbHVtbiA9IGNvbXB1dGVkKCgpID0+IEJvb2xlYW4ocHJvcHMubWV0YT8uaGlkZV90b29sYmFyKSk7XG5cbmNvbnN0IG9wZW4gPSB1c2VTdG9yYWdlKGBtYWluVmlldzpGb3JtRGV0YWlsOnNpZGVyOiR7cHJvcHMubWV0YS5uYW1lfWAsIHRydWUpO1xuY29uc3QgdHQgPSBfXztcblxuY29uc3Qgcm9vdCA9IHNoYWxsb3dSZWYoKTtcbmxldCBsYXlvdXQ6IEZvcm0gfCB1bmRlZmluZWQ7XG5jb25zdCBvblVwZGF0ZSA9ICh7IGRvY3R5cGUsIG5hbWUsIG1vZGlmaWVkIH06IHtcblx0ZG9jdHlwZTogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmc7XG5cdG1vZGlmaWVkOiBzdHJpbmc7XG59KSA9PiB7XG5cdGlmIChkb2N0eXBlICE9PSBwcm9wcy5tZXRhLm5hbWUpIHsgcmV0dXJuOyB9XG5cdGlmIChuYW1lICE9PSBwcm9wcy5uYW1lKSB7IHJldHVybjsgfVxuXHRpZiAoIWxheW91dCkgeyByZXR1cm47IH1cblxuXHRpZiAobW9kaWZpZWQgPT09IGxheW91dC5kb2MubW9kaWZpZWQpIHsgcmV0dXJuOyB9XG5cdGlmIChsYXlvdXQuaXNfZGlydHkoKSkge1xuXHRcdGxheW91dC5zaG93X2NvbmZsaWN0X21lc3NhZ2UoKTtcblx0fSBlbHNlIHtcblx0XHRsYXlvdXQucmVsb2FkX2RvYygpO1xuXHR9XG59O1xub25Nb3VudGVkKCgpID0+IHtcblx0Y29uc3QgYm9keSA9IHJvb3QudmFsdWU7XG5cdGlmICghYm9keSkgeyByZXR1cm47IH1cblx0Y29uc3QgZG9jdHlwZSA9IHByb3BzLm1ldGEubmFtZTtcblx0Y29uc3QgeyBuYW1lIH0gPSBwcm9wcztcblx0bG9hZERvYyhkb2N0eXBlLCBuYW1lKS50aGVuKHIgPT4ge1xuXHRcdGlmICghcikgeyByZXR1cm47IH1cblx0XHRsYXlvdXQgPSBuZXcgRm9ybShkb2N0eXBlLCBuYW1lLCBib2R5LCBoaWRlLCBjdXJyZW50VGFiKTtcblx0XHRsYXlvdXQucmVmcmVzaChuYW1lKTtcblx0fSk7XG5cblx0ZnJhcHBlLnJlYWx0aW1lLm9uKCdkb2NfdXBkYXRlJywgb25VcGRhdGUpO1xufSk7XG5vblVubW91bnRlZCgoKSA9PiB7XG5cdGZyYXBwZS5yZWFsdGltZS5vZmYoJ2RvY191cGRhdGUnLCBvblVwZGF0ZSk7XG59KTtcblxuPC9zY3JpcHQ+XG4iLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IDpjbGFzcz1cIiRzdHlsZS5oZWFkZXJcIj5cblx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTQgY29sLXNtLTYgY29sLXhzLTggcGFnZS10aXRsZVwiPlxuXHRcdFx0PCEtLSA8ZGl2IGNsYXNzPVwidGl0bGUtaW1hZ2UgaGlkZSBoaWRkZW4tbWQgaGlkZGVuLWxnXCI+PC9kaXY+IC0tPlxuXHRcdFx0PCEtLSB0aXRsZSAtLT5cblx0XHRcdDxzcGFuXG5cdFx0XHRcdHYtaWY9XCJoYXNTaWRlclwiXG5cdFx0XHRcdGNsYXNzPVwic2lkZWJhci10b2dnbGUtYnRuXCJcblx0XHRcdFx0OnRpdGxlPVwidHQoJ1RvZ2dsZSBTaWRlYmFyJylcIj5cblx0XHRcdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZCBzaWRlYmFyLXRvZ2dsZS1wbGFjZWhvbGRlclwiPlxuXHRcdFx0XHRcdDx1c2UgaHJlZj1cIiNpY29uLW1lbnVcIiAvPlxuXHRcdFx0XHQ8L3N2Zz5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJzaWRlYmFyLXRvZ2dsZS1pY29uXCJcblx0XHRcdFx0XHRAY2xpY2s9XCJvcGVuZWQgPSAhb3BlbmVkXCI+XG5cdFx0XHRcdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1tZFwiPlxuXHRcdFx0XHRcdFx0PHVzZSB2LWlmPVwib3BlblwiIGhyZWY9XCIjaWNvbi1zaWRlYmFyLWV4cGFuZFwiIC8+XG5cdFx0XHRcdFx0XHQ8dXNlIHYtZWxzZSBocmVmPVwiI2ljb24tc2lkZWJhci1jb2xsYXBzZVwiIC8+XG5cdFx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdDwvc3Bhbj5cblx0XHRcdDwvc3Bhbj5cblx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4IGZpbGwtd2lkdGggdGl0bGUtYXJlYVwiPlxuXHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4XCI+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJlbGxpcHNpcyB0aXRsZS10ZXh0XCI+PC9oMz5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW5kaWNhdG9yLXBpbGwgd2hpdGVzcGFjZS1ub3dyYXBcIiAvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJlbGxpcHNpcyBzdWItaGVhZGluZyBoaWRlIHRleHQtbXV0ZWRcIiAvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBtb3JlLWJ1dHRvbiBoaWRlXCI+XG5cdFx0XHRcdFx0PHN2ZyBjbGFzcz1cImljb24gaWNvbi1zbVwiPlxuXHRcdFx0XHRcdFx0PHVzZSBocmVmPVwiI2ljb24tZG90LWhvcml6b250YWxcIiAvPlxuXHRcdFx0XHRcdDwvc3ZnPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3M9XCJmbGV4IGNvbCBwYWdlLWFjdGlvbnMganVzdGlmeS1jb250ZW50LWVuZFwiPlxuXHRcdFx0PCEtLSBidXR0b25zIC0tPlxuXHRcdFx0PGRpdiBjbGFzcz1cImN1c3RvbS1hY3Rpb25zIGhpZGUgaGlkZGVuLXhzIGhpZGRlbi1tZFwiIC8+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwic3RhbmRhcmQtYWN0aW9ucyBmbGV4XCI+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwicGFnZS1pY29uLWdyb3VwIGhpZGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiIC8+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtZW51LWJ0bi1ncm91cCBoaWRlXCI+XG5cdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcblx0XHRcdFx0XHRcdGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGljb24tYnRuXCJcblx0XHRcdFx0XHRcdGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuXHRcdFx0XHRcdFx0YXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJtZW51LWJ0bi1ncm91cC1sYWJlbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzdmcgY2xhc3M9XCJpY29uIGljb24tc21cIj5cblx0XHRcdFx0XHRcdFx0XHRcdDx1c2UgaHJlZj1cIiNpY29uLWRvdC1ob3Jpem9udGFsXCIgLz5cblx0XHRcdFx0XHRcdFx0XHQ8L3N2Zz5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiIHJvbGU9XCJtZW51XCIgLz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tZGVmYXVsdCBidG4tc20gaGlkZVwiIC8+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJhY3Rpb25zLWJ0bi1ncm91cCBoaWRlXCI+XG5cdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcblx0XHRcdFx0XHRcdGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG5cdFx0XHRcdFx0XHRkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcblx0XHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuXHRcdFx0XHRcdFx0PHNwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJhY3Rpb25zLWJ0bi1ncm91cC1sYWJlbFwiPnt7XG5cdFx0XHRcdFx0XHRcdFx0XHR0dCgnQWN0aW9ucycpXG5cdFx0XHRcdFx0XHRcdFx0fX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzdmcgY2xhc3M9XCJpY29uIGljb24teHNcIj5cblx0XHRcdFx0XHRcdFx0XHQ8dXNlIGhyZWY9XCIjaWNvbi1zZWxlY3RcIiAvPlxuXHRcdFx0XHRcdFx0XHQ8L3N2Zz5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIiByb2xlPVwibWVudVwiIC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBoaWRlIHByaW1hcnktYWN0aW9uXCIgLz5cblx0XHRcdFx0PGJ1dHRvbiB2LWlmPVwiIWlzSGlkZUNsb3NlXCIgY2xhc3M9XCJidG4gYnRuLXNtXCIgQGNsaWNrPVwiaGlkZVwiPlxuXHRcdFx0XHRcdHt7IHR0KCdDbG9zZScpIH19XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQgbGFuZz1cInRzXCIgc2V0dXA+XG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuXHRoYXNTaWRlcj86IGJvb2xlYW47XG5cdG9wZW4/OiBib29sZWFuO1xuXHRpc0hpZGVDbG9zZT86IGJvb2xlYW47XG59PigpO1xuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcblx0KGV2ZW50OiAnaGlkZScpOiB2b2lkO1xuXHQoZXZlbnQ6ICdyZWZyZXNoJyk6IHZvaWQ7XG5cdChldmVudDogJ3VwZGF0ZTpvcGVuJywgb3Blbj86IGJvb2xlYW4pOiB2b2lkO1xufT4oKTtcbmZ1bmN0aW9uIGhpZGUoKSB7XG5cdGVtaXQoJ2hpZGUnKTtcbn1cbmNvbnN0IG9wZW5lZCA9IGNvbXB1dGVkKHtcblx0Z2V0OiAoKSA9PiBwcm9wcy5vcGVuLFxuXHRzZXQodikgeyBlbWl0KCd1cGRhdGU6b3BlbicsIEJvb2xlYW4odikpOyB9LFxufSk7XG5jb25zdCB0dCA9IF9fO1xuXG48L3NjcmlwdD5cbjxzdHlsZSBtb2R1bGUgbGFuZz1cImxlc3NcIj5cbi5oZWFkZXIge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LXdyYXA6IHdyYXA7XG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0ei1pbmRleDogNjtcblx0cG9zaXRpb246IHN0aWNreTtcblx0dG9wOiAwO1xuXHRib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc20pO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnKTtcblx0bWFyZ2luLWJvdHRvbTogNXB4O1xuXHRoZWlnaHQ6IDQ4cHg7XG59XG48L3N0eWxlPlxuIiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL0hlYWRlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MFwiO2NvbnN0IGtleSA9IFwiJHN0eWxlXCI7XG5jb25zdCBjc3NNb2R1bGUgPSB7XCJoZWFkZXJcIjpcIl9oZWFkZXJfcHZlNnVfMVwifTtcbmV4cG9ydCBkZWZhdWx0IHNjcmlwdCA9Pntcblx0aWYgKCFzY3JpcHQuX19jc3NNb2R1bGVzKSB7XG5cdFx0c2NyaXB0Ll9fY3NzTW9kdWxlcyA9IHt9O1xuXHR9XG5cdGNvbnN0IGNzc01vZHVsZXMgPSBzY3JpcHQuX19jc3NNb2R1bGVzXG5cdGNvbnN0IHZhbHVlID0ga2V5IGluIGNzc01vZHVsZXMgJiYgY3NzTW9kdWxlc1trZXldO1xuXHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdE9iamVjdC5hc3NpZ24odmFsdWUsIGNzc01vZHVsZSlcblx0fSBlbHNlIHtcblx0XHRjc3NNb2R1bGVzW2tleV0gPSBjc3NNb2R1bGU7XG5cdH1cbn0iLCAiaW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIGNyZWF0ZVN0YXRpY1ZOb2RlIGFzIF9jcmVhdGVTdGF0aWNWTm9kZSB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJjb2wtbWQtNCBjb2wtc20tNiBjb2wteHMtOCBwYWdlLXRpdGxlXCIgfVxuY29uc3QgX2hvaXN0ZWRfMiA9IFtcInRpdGxlXCJdXG5jb25zdCBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJzdmdcIiwgeyBjbGFzczogXCJpY29uIGljb24tbWQgc2lkZWJhci10b2dnbGUtcGxhY2Vob2xkZXJcIiB9LCBbXG4gIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwidXNlXCIsIHsgaHJlZjogXCIjaWNvbi1tZW51XCIgfSlcbl0sIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF80ID0geyBjbGFzczogXCJpY29uIGljb24tbWRcIiB9XG5jb25zdCBfaG9pc3RlZF81ID0ge1xuICBrZXk6IDAsXG4gIGhyZWY6IFwiI2ljb24tc2lkZWJhci1leHBhbmRcIlxufVxuY29uc3QgX2hvaXN0ZWRfNiA9IHtcbiAga2V5OiAxLFxuICBocmVmOiBcIiNpY29uLXNpZGViYXItY29sbGFwc2VcIlxufVxuY29uc3QgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlU3RhdGljVk5vZGUoXCI8ZGl2IGNsYXNzPVxcXCJmbGV4IGZpbGwtd2lkdGggdGl0bGUtYXJlYVxcXCI+PGRpdj48ZGl2IGNsYXNzPVxcXCJmbGV4XFxcIj48aDMgY2xhc3M9XFxcImVsbGlwc2lzIHRpdGxlLXRleHRcXFwiPjwvaDM+PHNwYW4gY2xhc3M9XFxcImluZGljYXRvci1waWxsIHdoaXRlc3BhY2Utbm93cmFwXFxcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwiZWxsaXBzaXMgc3ViLWhlYWRpbmcgaGlkZSB0ZXh0LW11dGVkXFxcIj48L2Rpdj48L2Rpdj48YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgbW9yZS1idXR0b24gaGlkZVxcXCI+PHN2ZyBjbGFzcz1cXFwiaWNvbiBpY29uLXNtXFxcIj48dXNlIGhyZWY9XFxcIiNpY29uLWRvdC1ob3Jpem9udGFsXFxcIj48L3VzZT48L3N2Zz48L2J1dHRvbj48L2Rpdj5cIiwgMSlcbmNvbnN0IF9ob2lzdGVkXzggPSB7IGNsYXNzOiBcImZsZXggY29sIHBhZ2UtYWN0aW9ucyBqdXN0aWZ5LWNvbnRlbnQtZW5kXCIgfVxuY29uc3QgX2hvaXN0ZWRfOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHsgY2xhc3M6IFwiY3VzdG9tLWFjdGlvbnMgaGlkZSBoaWRkZW4teHMgaGlkZGVuLW1kXCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzEwID0geyBjbGFzczogXCJzdGFuZGFyZC1hY3Rpb25zIGZsZXhcIiB9XG5jb25zdCBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCB7IGNsYXNzOiBcInBhZ2UtaWNvbi1ncm91cCBoaWRlIGhpZGRlbi14cyBoaWRkZW4tc21cIiB9LCBudWxsLCAtMSAvKiBIT0lTVEVEICovKVxuY29uc3QgX2hvaXN0ZWRfMTIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7IGNsYXNzOiBcIm1lbnUtYnRuLWdyb3VwIGhpZGVcIiB9LCBbXG4gIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzOiBcImJ0biBidG4tZGVmYXVsdCBpY29uLWJ0blwiLFxuICAgIFwiZGF0YS10b2dnbGVcIjogXCJkcm9wZG93blwiLFxuICAgIFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCJcbiAgfSwgW1xuICAgIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBudWxsLCBbXG4gICAgICAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwgeyBjbGFzczogXCJtZW51LWJ0bi1ncm91cC1sYWJlbFwiIH0sIFtcbiAgICAgICAgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJzdmdcIiwgeyBjbGFzczogXCJpY29uIGljb24tc21cIiB9LCBbXG4gICAgICAgICAgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJ1c2VcIiwgeyBocmVmOiBcIiNpY29uLWRvdC1ob3Jpem9udGFsXCIgfSlcbiAgICAgICAgXSlcbiAgICAgIF0pXG4gICAgXSlcbiAgXSksXG4gIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwidWxcIiwge1xuICAgIGNsYXNzOiBcImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiLFxuICAgIHJvbGU6IFwibWVudVwiXG4gIH0pXG5dLCAtMSAvKiBIT0lTVEVEICovKVxuY29uc3QgX2hvaXN0ZWRfMTMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImJ1dHRvblwiLCB7IGNsYXNzOiBcImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1kZWZhdWx0IGJ0bi1zbSBoaWRlXCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzE0ID0geyBjbGFzczogXCJhY3Rpb25zLWJ0bi1ncm91cCBoaWRlXCIgfVxuY29uc3QgX2hvaXN0ZWRfMTUgPSB7XG4gIHR5cGU6IFwiYnV0dG9uXCIsXG4gIGNsYXNzOiBcImJ0biBidG4tcHJpbWFyeSBidG4tc21cIixcbiAgXCJkYXRhLXRvZ2dsZVwiOiBcImRyb3Bkb3duXCIsXG4gIFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCJcbn1cbmNvbnN0IF9ob2lzdGVkXzE2ID0geyBjbGFzczogXCJhY3Rpb25zLWJ0bi1ncm91cC1sYWJlbFwiIH1cbmNvbnN0IF9ob2lzdGVkXzE3ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJzdmdcIiwgeyBjbGFzczogXCJpY29uIGljb24teHNcIiB9LCBbXG4gIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwidXNlXCIsIHsgaHJlZjogXCIjaWNvbi1zZWxlY3RcIiB9KVxuXSwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzE4ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJ1bFwiLCB7XG4gIGNsYXNzOiBcImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiLFxuICByb2xlOiBcIm1lbnVcIlxufSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzE5ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJidXR0b25cIiwgeyBjbGFzczogXCJidG4gYnRuLXByaW1hcnkgYnRuLXNtIGhpZGUgcHJpbWFyeS1hY3Rpb25cIiB9LCBudWxsLCAtMSAvKiBIT0lTVEVEICovKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCB7XG4gICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhfY3R4LiRzdHlsZS5oZWFkZXIpXG4gIH0sIFtcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICAgIF9jcmVhdGVDb21tZW50Vk5vZGUoXCIgPGRpdiBjbGFzcz1cXFwidGl0bGUtaW1hZ2UgaGlkZSBoaWRkZW4tbWQgaGlkZGVuLWxnXFxcIj48L2Rpdj4gXCIpLFxuICAgICAgX2NyZWF0ZUNvbW1lbnRWTm9kZShcIiB0aXRsZSBcIiksXG4gICAgICAoJHByb3BzLmhhc1NpZGVyKVxuICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgIGNsYXNzOiBcInNpZGViYXItdG9nZ2xlLWJ0blwiLFxuICAgICAgICAgICAgdGl0bGU6ICRzZXR1cC50dCgnVG9nZ2xlIFNpZGViYXInKVxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIF9ob2lzdGVkXzMsXG4gICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcInNpZGViYXItdG9nZ2xlLWljb25cIixcbiAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCRzZXR1cC5vcGVuZWQgPSAhJHNldHVwLm9wZW5lZCkpXG4gICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJzdmdcIiwgX2hvaXN0ZWRfNCwgW1xuICAgICAgICAgICAgICAgICgkcHJvcHMub3BlbilcbiAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInVzZVwiLCBfaG9pc3RlZF81KSlcbiAgICAgICAgICAgICAgICAgIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcInVzZVwiLCBfaG9pc3RlZF82KSlcbiAgICAgICAgICAgICAgXSkpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF0sIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzIpKVxuICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgX2hvaXN0ZWRfN1xuICAgIF0pLFxuICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfOCwgW1xuICAgICAgX2NyZWF0ZUNvbW1lbnRWTm9kZShcIiBidXR0b25zIFwiKSxcbiAgICAgIF9ob2lzdGVkXzksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzEwLCBbXG4gICAgICAgIF9ob2lzdGVkXzExLFxuICAgICAgICBfaG9pc3RlZF8xMixcbiAgICAgICAgX2hvaXN0ZWRfMTMsXG4gICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfMTQsIFtcbiAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiYnV0dG9uXCIsIF9ob2lzdGVkXzE1LCBbXG4gICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCBudWxsLCBbXG4gICAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJzcGFuXCIsIF9ob2lzdGVkXzE2LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC50dCgnQWN0aW9ucycpKSwgMSAvKiBURVhUICovKSxcbiAgICAgICAgICAgICAgX2hvaXN0ZWRfMTdcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX2hvaXN0ZWRfMThcbiAgICAgICAgXSksXG4gICAgICAgIF9ob2lzdGVkXzE5LFxuICAgICAgICAoISRwcm9wcy5pc0hpZGVDbG9zZSlcbiAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgIGNsYXNzOiBcImJ0biBidG4tc21cIixcbiAgICAgICAgICAgICAgb25DbGljazogJHNldHVwLmhpZGVcbiAgICAgICAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnR0KCdDbG9zZScpKSwgMSAvKiBURVhUICovKSlcbiAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICBdKVxuICAgIF0pXG4gIF0sIDIgLyogQ0xBU1MgKi8pKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlP3R5cGU9c2NyaXB0XCI7aW1wb3J0IHN0eWxlMCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvSGVhZGVyLnZ1ZT90eXBlPXN0eWxlJmluZGV4PTBcIjtzdHlsZTAoc2NyaXB0KTtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCJndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9IZWFkZXIudnVlXCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICIvLyBDb3B5cmlnaHQgKGMpIDIwMTUsIEZyYXBwZSBUZWNobm9sb2dpZXMgUHZ0LiBMdGQuIGFuZCBDb250cmlidXRvcnNcbi8vIE1JVCBMaWNlbnNlLiBTZWUgbGljZW5zZS50eHRcblxuaW1wb3J0IHR5cGUgRm9ybSBmcm9tICcuL0Zvcm0nO1xuXG5jbGFzcyBGb290ZXIge1xuXHRjb25zdHJ1Y3RvcihvcHRzOiB7XG5cdFx0ZnJtOiBGb3JtO1xuXHRcdHBhcmVudDogSlF1ZXJ5O1xuXHR9KSB7XG5cdFx0JC5leHRlbmQodGhpcywgb3B0cyk7XG5cdFx0dGhpcy5tYWtlKCk7XG5cdFx0dGhpcy5tYWtlX2NvbW1lbnRfYm94KCk7XG5cdFx0dGhpcy5tYWtlX3RpbWVsaW5lKCk7XG5cdFx0Ly8gcmVuZGVyLWNvbXBsZXRlXG5cdFx0JCh0aGlzLmZybS53cmFwcGVyKS5vbigncmVuZGVyX2NvbXBsZXRlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0fSk7XG5cdH1cblx0bWFrZSgpIHtcblx0XHRjb25zdCB3cmFwcGVyID0gJChgPGRpdiBjbGFzcz1cImZvcm0tZm9vdGVyXCI+XG5cdDxkaXYgY2xhc3M9XCJhZnRlci1zYXZlXCI+XG5cdFx0PGRpdiBjbGFzcz1cImNvbW1lbnQtYm94XCI+PC9kaXY+XG5cdFx0PGRpdiBjbGFzcz1cInRpbWVsaW5lXCI+PC9kaXY+XG5cdDwvZGl2PlxuPC9kaXY+YCkuYXBwZW5kVG8odGhpcy5wYXJlbnQpO1xuXHRcdGNvbnN0IHRvVG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdFx0dG9Ub3AuY2xhc3NOYW1lID0gJ3Njcm9sbC10by10b3AgYnRuIGJ0bi1kZWZhdWx0IGljb24tYnRuJztcblx0XHR0b1RvcC5pbm5lckhUTUwgPSAnPHN2ZyBjbGFzcz1cImljb24gaWNvbi14c1wiPjx1c2UgaHJlZj1cIiNpY29uLXVwLWxpbmVcIj48L3VzZT48L3N2Zz4nO1xuXHRcdHRvVG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0bGV0IGU6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRvVG9wO1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG5cdFx0XHR3aGlsZSAoZSA9IGUucGFyZW50RWxlbWVudCkge1xuXHRcdFx0XHRpZiAoZS5zY3JvbGxUb3ApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0ZnJhcHBlLnV0aWxzLnNjcm9sbF90bygwLCB0cnVlLCAwLCAkKGUpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR3cmFwcGVyLmFwcGVuZCh0b1RvcCk7XG5cdFx0dGhpcy53cmFwcGVyID0gd3JhcHBlcjtcblx0XHR3cmFwcGVyLmZpbmQoJy5idG4tc2F2ZScpLm9uKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuZnJtLnNhdmUoJ1NhdmUnLCBudWxsLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXHRtYWtlX2NvbW1lbnRfYm94KCkge1xuXHRcdGZyYXBwZS51aS5mb3JtLkZvb3Rlci5wcm90b3R5cGUubWFrZV9jb21tZW50X2JveC5jYWxsKHRoaXMpO1xuXG5cdH1cblx0bWFrZV90aW1lbGluZSgpIHtcblx0XHRmcmFwcGUudWkuZm9ybS5Gb290ZXIucHJvdG90eXBlLm1ha2VfdGltZWxpbmUuY2FsbCh0aGlzKTtcblx0fVxuXHRyZWZyZXNoKCkge1xuXHRcdGZyYXBwZS51aS5mb3JtLkZvb3Rlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuXHR9XG59XG5pbnRlcmZhY2UgRm9vdGVyIHtcblx0ZnJtOiBGb3JtO1xuXHRwYXJlbnQ6IEpRdWVyeTtcblx0d3JhcHBlcjogSlF1ZXJ5O1xufVxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuLy8gQ29weXJpZ2h0IChjKSAyMDE1LCBGcmFwcGUgVGVjaG5vbG9naWVzIFB2dC4gTHRkLiBhbmQgQ29udHJpYnV0b3JzXG4vLyBNSVQgTGljZW5zZS4gU2VlIGxpY2Vuc2UudHh0XG5cblxuY2xhc3MgUGFnZSB7XG5cdHNldF9kb2N1bWVudF90aXRsZSA9IHRydWU7XG5cdGJ1dHRvbnMgPSB7fTtcblx0ZmllbGRzX2RpY3QgPSB7fTtcblx0dmlld3M6IFJlY29yZDxzdHJpbmcsIEpRdWVyeT4gPSB7fTtcblx0Y29uc3RydWN0b3IocGFyZW50OiBIVE1MRWxlbWVudCwgc2luZ2xlX2NvbHVtbj86IGJvb2xlYW4gfCAwIHwgMSkge1xuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHRcdHRoaXMuc2luZ2xlX2NvbHVtbiA9IHNpbmdsZV9jb2x1bW4gPyB0cnVlIDogZmFsc2U7XG5cdFx0Ly8gZnJhcHBlLnVpLnBhZ2VzW2ZyYXBwZS5nZXRfcm91dGVfc3RyKCldID0gdGhpcztcblx0XHR0aGlzLndyYXBwZXIgPSAkKHBhcmVudCk7XG5cdFx0Y29uc3QgbWFpblZpZXcgPSAkKHRoaXMud3JhcHBlcilcblx0XHRcdC5maW5kKCcucGFnZS1jb250ZW50JykuZmluZCgnLnJvdy5sYXlvdXQtbWFpbicpO1xuXG5cdFx0dGhpcy52aWV3cy5tYWluID0gbWFpblZpZXc7XG5cdFx0dGhpcy5jdXJyZW50X3ZpZXcgPSBtYWluVmlldztcblx0XHR0aGlzLnNldHVwX3BhZ2UoKTtcblx0XHR0aGlzLnNldHVwX3Njcm9sbF9oYW5kbGVyKCk7XG5cdFx0dGhpcy5zZXR1cF9zaWRlYmFyX3RvZ2dsZSgpO1xuXHR9XG5cblx0c2V0dXBfc2Nyb2xsX2hhbmRsZXIoKSB7IH1cblxuXHRnZXRfZW1wdHlfc3RhdGUodGl0bGUsIG1lc3NhZ2UsIHByaW1hcnlfYWN0aW9uKSB7XG5cdFx0bGV0ICRlbXB0eV9zdGF0ZSA9ICQoYDxkaXYgY2xhc3M9XCJwYWdlLWNhcmQtY29udGFpbmVyXCI+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwicGFnZS1jYXJkXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJwYWdlLWNhcmQtaGVhZFwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW5kaWNhdG9yIGJsdWVcIj5cblx0XHRcdFx0XHRcdCR7dGl0bGV9PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHA+JHttZXNzYWdlfTwvcD5cblx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiPiR7cHJpbWFyeV9hY3Rpb259PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+YCk7XG5cblx0XHRyZXR1cm4gJGVtcHR5X3N0YXRlO1xuXHR9XG5cblx0bG9hZF9saWIoY2FsbGJhY2spIHtcblx0XHRmcmFwcGUucmVxdWlyZSh0aGlzLnJlcXVpcmVkX2xpYnMsIGNhbGxiYWNrKTtcblx0fVxuXG5cdGFkZF9tYWluX3NlY3Rpb24oKSB7IH1cblxuXHRzZXR1cF9wYWdlKCkge1xuXHRcdHRoaXMuJHRpdGxlX2FyZWEgPSB0aGlzLndyYXBwZXIuZmluZCgnLnRpdGxlLWFyZWEnKTtcblxuXHRcdHRoaXMuJHN1Yl90aXRsZV9hcmVhID0gdGhpcy53cmFwcGVyLmZpbmQoJ2g2Jyk7XG5cblx0XHR0aGlzLmJvZHkgPSB0aGlzLm1haW4gPSB0aGlzLndyYXBwZXIuZmluZCgnLmxheW91dC1tYWluLXNlY3Rpb24nKTtcblx0XHR0aGlzLmNvbnRhaW5lciA9IHRoaXMud3JhcHBlci5maW5kKCcucGFnZS1ib2R5Jyk7XG5cdFx0dGhpcy5zaWRlYmFyID0gdGhpcy53cmFwcGVyLmZpbmQoJy5sYXlvdXQtc2lkZS1zZWN0aW9uJyk7XG5cdFx0dGhpcy5mb290ZXIgPSB0aGlzLndyYXBwZXIuZmluZCgnLmxheW91dC1mb290ZXInKTtcblx0XHR0aGlzLmluZGljYXRvciA9IHRoaXMud3JhcHBlci5maW5kKCcuaW5kaWNhdG9yLXBpbGwnKTtcblxuXHRcdHRoaXMucGFnZV9hY3Rpb25zID0gdGhpcy53cmFwcGVyLmZpbmQoJy5wYWdlLWFjdGlvbnMnKTtcblxuXHRcdHRoaXMuYnRuX3ByaW1hcnkgPSB0aGlzLnBhZ2VfYWN0aW9ucy5maW5kKCcucHJpbWFyeS1hY3Rpb24nKTtcblx0XHR0aGlzLmJ0bl9zZWNvbmRhcnkgPSB0aGlzLnBhZ2VfYWN0aW9ucy5maW5kKCcuYnRuLXNlY29uZGFyeScpO1xuXG5cdFx0dGhpcy5tZW51ID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLm1lbnUtYnRuLWdyb3VwIC5kcm9wZG93bi1tZW51Jyk7XG5cdFx0dGhpcy5tZW51X2J0bl9ncm91cCA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5tZW51LWJ0bi1ncm91cCcpO1xuXG5cdFx0dGhpcy5hY3Rpb25zID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLmFjdGlvbnMtYnRuLWdyb3VwIC5kcm9wZG93bi1tZW51Jyk7XG5cdFx0dGhpcy5hY3Rpb25zX2J0bl9ncm91cCA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5hY3Rpb25zLWJ0bi1ncm91cCcpO1xuXG5cdFx0dGhpcy5zdGFuZGFyZF9hY3Rpb25zID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLnN0YW5kYXJkLWFjdGlvbnMnKTtcblx0XHR0aGlzLmN1c3RvbV9hY3Rpb25zID0gdGhpcy5wYWdlX2FjdGlvbnMuZmluZCgnLmN1c3RvbS1hY3Rpb25zJyk7XG5cblx0XHR0aGlzLnBhZ2VfZm9ybSA9ICQoJzxkaXYgY2xhc3M9XCJwYWdlLWZvcm0gcm93IGhpZGVcIj48L2Rpdj4nKS5wcmVwZW5kVG8odGhpcy5tYWluKTtcblx0XHR0aGlzLmlubmVyX3Rvb2xiYXIgPSB0aGlzLmN1c3RvbV9hY3Rpb25zO1xuXHRcdHRoaXMuaWNvbl9ncm91cCA9IHRoaXMucGFnZV9hY3Rpb25zLmZpbmQoJy5wYWdlLWljb24tZ3JvdXAnKTtcblxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0XHR0aGlzLmNhcmRfbGF5b3V0ICYmIHRoaXMubWFpbi5hZGRDbGFzcygnZnJhcHBlLWNhcmQnKTtcblxuXHRcdC8vIGtleWJvYXJkIHNob3J0Y3V0c1xuXHRcdGxldCBtZW51X2J0biA9IHRoaXMubWVudV9idG5fZ3JvdXAuZmluZCgnYnV0dG9uJyk7XG5cdFx0bWVudV9idG4uYXR0cigndGl0bGUnLCBfXygnTWVudScpKS50b29sdGlwKHsgZGVsYXk6IHsgc2hvdzogNjAwLCBoaWRlOiAxMDAgfSB9KTtcblx0XHRmcmFwcGUudWkua2V5c1xuXHRcdFx0LmdldF9zaG9ydGN1dF9ncm91cCh0aGlzLnBhZ2VfYWN0aW9uc1swXSlcblx0XHRcdC5hZGQobWVudV9idG4sIG1lbnVfYnRuLmZpbmQoJy5tZW51LWJ0bi1ncm91cC1sYWJlbCcpKTtcblxuXHRcdGxldCBhY3Rpb25fYnRuID0gdGhpcy5hY3Rpb25zX2J0bl9ncm91cC5maW5kKCdidXR0b24nKTtcblx0XHRmcmFwcGUudWkua2V5c1xuXHRcdFx0LmdldF9zaG9ydGN1dF9ncm91cCh0aGlzLnBhZ2VfYWN0aW9uc1swXSlcblx0XHRcdC5hZGQoYWN0aW9uX2J0biwgYWN0aW9uX2J0bi5maW5kKCcuYWN0aW9ucy1idG4tZ3JvdXAtbGFiZWwnKSk7XG5cdH1cblxuXHRzZXR1cF9zaWRlYmFyX3RvZ2dsZSgpIHtcblx0XHRsZXQgc2lkZWJhcl90b2dnbGUgPSB0aGlzLndyYXBwZXIuZmluZCgnLmd1aWd1LWZvcm0tZGV0YWlsLXBhZ2UtaGVhZCAnKS5maW5kKCcuc2lkZWJhci10b2dnbGUtYnRuJyk7XG5cdFx0bGV0IHNpZGViYXJfd3JhcHBlciA9IHRoaXMud3JhcHBlci5maW5kKCcubGF5b3V0LXNpZGUtc2VjdGlvbicpO1xuXHRcdHNpZGViYXJfdG9nZ2xlLmNsaWNrKCgpID0+IHtcblx0XHRcdCQoZG9jdW1lbnQuYm9keSkudHJpZ2dlcigndG9nZ2xlU2lkZWJhcicpO1xuXHRcdFx0dGhpcy51cGRhdGVfc2lkZWJhcl9pY29uKCk7XG5cdFx0fSk7XG5cdH1cblx0c2V0dXBfb3ZlcmxheV9zaWRlYmFyKCkge1xuXHR9XG5cblx0dXBkYXRlX3NpZGViYXJfaWNvbigpIHtcblx0XHRsZXQgc2lkZWJhcl90b2dnbGUgPSAkKCcucGFnZS1oZWFkJykuZmluZCgnLnNpZGViYXItdG9nZ2xlLWJ0bicpO1xuXHRcdGxldCBzaWRlYmFyX3RvZ2dsZV9pY29uID0gc2lkZWJhcl90b2dnbGUuZmluZCgnLnNpZGViYXItdG9nZ2xlLWljb24nKTtcblx0XHRsZXQgc2lkZWJhcl93cmFwcGVyID0gdGhpcy53cmFwcGVyLmZpbmQoJy5sYXlvdXQtc2lkZS1zZWN0aW9uJyk7XG5cdFx0bGV0IGlzX3NpZGViYXJfdmlzaWJsZSA9ICQoc2lkZWJhcl93cmFwcGVyKS5pcygnOnZpc2libGUnKTtcblx0XHRzaWRlYmFyX3RvZ2dsZV9pY29uLmh0bWwoXG5cdFx0XHRmcmFwcGUudXRpbHMuaWNvbihpc19zaWRlYmFyX3Zpc2libGUgPyAnc2lkZWJhci1jb2xsYXBzZScgOiAnc2lkZWJhci1leHBhbmQnLCAnbWQnKSxcblx0XHQpO1xuXHR9XG5cblx0c2V0X2luZGljYXRvcihsYWJlbCwgY29sb3IpIHtcblx0XHR0aGlzLmNsZWFyX2luZGljYXRvcigpLnJlbW92ZUNsYXNzKCdoaWRlJykuaHRtbChgPHNwYW4+JHtsYWJlbH08L3NwYW4+YClcblx0XHRcdC5hZGRDbGFzcyhjb2xvcik7XG5cdH1cblxuXHRhZGRfYWN0aW9uX2ljb24oaWNvbiwgY2xpY2ssIGNzc19jbGFzcyA9ICcnLCB0b29sdGlwX2xhYmVsKSB7XG5cdFx0Y29uc3QgYnV0dG9uID0gJChgXG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwidGV4dC1tdXRlZCBidG4gYnRuLWRlZmF1bHQgJHtjc3NfY2xhc3N9IGljb24tYnRuXCI+XG5cdFx0XHRcdCR7ZnJhcHBlLnV0aWxzLmljb24oaWNvbil9XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHRgKTtcblxuXHRcdGJ1dHRvbi5hcHBlbmRUbyh0aGlzLmljb25fZ3JvdXAucmVtb3ZlQ2xhc3MoJ2hpZGUnKSk7XG5cdFx0YnV0dG9uLmNsaWNrKGNsaWNrKTtcblx0XHRidXR0b25cblx0XHRcdC5hdHRyKCd0aXRsZScsIF9fKHRvb2x0aXBfbGFiZWwgfHwgZnJhcHBlLnVuc2NydWIoaWNvbikpKVxuXHRcdFx0LnRvb2x0aXAoeyBkZWxheTogeyBzaG93OiA2MDAsIGhpZGU6IDEwMCB9LCB0cmlnZ2VyOiAnaG92ZXInIH0pO1xuXG5cdFx0cmV0dXJuIGJ1dHRvbjtcblx0fVxuXG5cdGNsZWFyX2luZGljYXRvcigpIHtcblx0XHRyZXR1cm4gdGhpcy5pbmRpY2F0b3IucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnaW5kaWNhdG9yLXBpbGwgd2hpdGVzcGFjZS1ub3dyYXAgaGlkZScpO1xuXHR9XG5cblx0Z2V0X2ljb25fbGFiZWwoaWNvbiwgbGFiZWwpIHtcblx0XHRsZXQgaWNvbl9uYW1lID0gaWNvbjtcblx0XHRsZXQgc2l6ZSA9ICd4cyc7XG5cdFx0aWYgKHR5cGVvZiBpY29uID09PSAnb2JqZWN0Jykge1xuXHRcdFx0aWNvbl9uYW1lID0gaWNvbi5pY29uO1xuXHRcdFx0c2l6ZSA9IGljb24uc2l6ZSB8fCAneHMnO1xuXHRcdH1cblx0XHRyZXR1cm4gYCR7aWNvbiA/IGZyYXBwZS51dGlscy5pY29uKGljb25fbmFtZSwgc2l6ZSkgOiAnJ30gPHNwYW4gY2xhc3M9XCJoaWRkZW4teHNcIj4gJHtfXyhcblx0XHRcdGxhYmVsLFxuXHRcdCl9IDwvc3Bhbj5gO1xuXHR9XG5cblx0c2V0X2FjdGlvbihidG4sIG9wdHMpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGlmIChvcHRzLmljb24pIHtcblx0XHRcdG9wdHMubGFiZWwgPSB0aGlzLmdldF9pY29uX2xhYmVsKG9wdHMuaWNvbiwgb3B0cy5sYWJlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jbGVhcl9hY3Rpb25fb2YoYnRuKTtcblxuXHRcdGJ0bi5yZW1vdmVDbGFzcygnaGlkZScpXG5cdFx0XHQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSlcblx0XHRcdC5odG1sKG9wdHMubGFiZWwpXG5cdFx0XHQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgcmVzcG9uc2UgPSBvcHRzLmNsaWNrLmFwcGx5KHRoaXMsIFtidG5dKTtcblx0XHRcdFx0bWUuYnRuX2Rpc2FibGVfZW5hYmxlKGJ0biwgcmVzcG9uc2UpO1xuXHRcdFx0fSk7XG5cblx0XHRpZiAob3B0cy53b3JraW5nX2xhYmVsKSB7XG5cdFx0XHRidG4uYXR0cignZGF0YS13b3JraW5nLWxhYmVsJywgb3B0cy53b3JraW5nX2xhYmVsKTtcblx0XHR9XG5cblx0XHQvLyBhbHQgc2hvcnRjdXRzXG5cdFx0bGV0IHRleHRfc3BhbiA9IGJ0bi5maW5kKCdzcGFuJyk7XG5cdFx0ZnJhcHBlLnVpLmtleXMuZ2V0X3Nob3J0Y3V0X2dyb3VwKHRoaXMpLmFkZChidG4sIHRleHRfc3Bhbi5sZW5ndGggPyB0ZXh0X3NwYW4gOiBidG4pO1xuXHR9XG5cblx0c2V0X3ByaW1hcnlfYWN0aW9uKGxhYmVsLCBjbGljaywgaWNvbiwgd29ya2luZ19sYWJlbCkge1xuXHRcdHRoaXMuc2V0X2FjdGlvbih0aGlzLmJ0bl9wcmltYXJ5LCB7XG5cdFx0XHRsYWJlbCxcblx0XHRcdGNsaWNrLFxuXHRcdFx0aWNvbixcblx0XHRcdHdvcmtpbmdfbGFiZWwsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRoaXMuYnRuX3ByaW1hcnk7XG5cdH1cblxuXHRzZXRfc2Vjb25kYXJ5X2FjdGlvbihsYWJlbCwgY2xpY2ssIGljb24sIHdvcmtpbmdfbGFiZWwpIHtcblx0XHR0aGlzLnNldF9hY3Rpb24odGhpcy5idG5fc2Vjb25kYXJ5LCB7XG5cdFx0XHRsYWJlbCxcblx0XHRcdGNsaWNrLFxuXHRcdFx0aWNvbixcblx0XHRcdHdvcmtpbmdfbGFiZWwsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5idG5fc2Vjb25kYXJ5O1xuXHR9XG5cblx0Y2xlYXJfYWN0aW9uX29mKGJ0bikge1xuXHRcdGJ0bi5hZGRDbGFzcygnaGlkZScpLnVuYmluZCgnY2xpY2snKS5yZW1vdmVBdHRyKCdkYXRhLXdvcmtpbmctbGFiZWwnKTtcblx0fVxuXG5cdGNsZWFyX3ByaW1hcnlfYWN0aW9uKCkge1xuXHRcdHRoaXMuY2xlYXJfYWN0aW9uX29mKHRoaXMuYnRuX3ByaW1hcnkpO1xuXHR9XG5cblx0Y2xlYXJfc2Vjb25kYXJ5X2FjdGlvbigpIHtcblx0XHR0aGlzLmNsZWFyX2FjdGlvbl9vZih0aGlzLmJ0bl9zZWNvbmRhcnkpO1xuXHR9XG5cblx0Y2xlYXJfYWN0aW9ucygpIHtcblx0XHR0aGlzLmNsZWFyX3ByaW1hcnlfYWN0aW9uKCk7XG5cdFx0dGhpcy5jbGVhcl9zZWNvbmRhcnlfYWN0aW9uKCk7XG5cdH1cblxuXHRjbGVhcl9jdXN0b21fYWN0aW9ucygpIHtcblx0XHR0aGlzLmN1c3RvbV9hY3Rpb25zLmFkZENsYXNzKCdoaWRlJykuZW1wdHkoKTtcblx0fVxuXG5cdGNsZWFyX2ljb25zKCkge1xuXHRcdHRoaXMuaWNvbl9ncm91cC5hZGRDbGFzcygnaGlkZScpLmVtcHR5KCk7XG5cdH1cblxuXHQvLy0tLSBNZW51IC0tLy9cblxuXHRhZGRfbWVudV9pdGVtKGxhYmVsLCBjbGljaywgc3RhbmRhcmQsIHNob3J0Y3V0LCBzaG93X3BhcmVudCkge1xuXHRcdHJldHVybiB0aGlzLmFkZF9kcm9wZG93bl9pdGVtKHtcblx0XHRcdGxhYmVsLFxuXHRcdFx0Y2xpY2ssXG5cdFx0XHRzdGFuZGFyZCxcblx0XHRcdHBhcmVudDogdGhpcy5tZW51LFxuXHRcdFx0c2hvcnRjdXQsXG5cdFx0XHRzaG93X3BhcmVudCxcblx0XHR9KTtcblx0fVxuXG5cdGFkZF9jdXN0b21fbWVudV9pdGVtKHBhcmVudCwgbGFiZWwsIGNsaWNrLCBzdGFuZGFyZCwgc2hvcnRjdXQsIGljb24gPSBudWxsKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkX2Ryb3Bkb3duX2l0ZW0oe1xuXHRcdFx0bGFiZWwsXG5cdFx0XHRjbGljayxcblx0XHRcdHN0YW5kYXJkLFxuXHRcdFx0cGFyZW50LFxuXHRcdFx0c2hvcnRjdXQsXG5cdFx0XHRpY29uLFxuXHRcdH0pO1xuXHR9XG5cblx0Y2xlYXJfbWVudSgpIHtcblx0XHR0aGlzLmNsZWFyX2J0bl9ncm91cCh0aGlzLm1lbnUpO1xuXHR9XG5cblx0c2hvd19tZW51KCkge1xuXHRcdHRoaXMubWVudV9idG5fZ3JvdXAucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdGhpZGVfbWVudSgpIHtcblx0XHR0aGlzLm1lbnVfYnRuX2dyb3VwLmFkZENsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRzaG93X2ljb25fZ3JvdXAoKSB7XG5cdFx0dGhpcy5pY29uX2dyb3VwLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRoaWRlX2ljb25fZ3JvdXAoKSB7XG5cdFx0dGhpcy5pY29uX2dyb3VwLmFkZENsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHQvLy0tLSBBY3Rpb25zIE1lbnUtLS8vXG5cblx0c2hvd19hY3Rpb25zX21lbnUoKSB7XG5cdFx0dGhpcy5hY3Rpb25zX2J0bl9ncm91cC5yZW1vdmVDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0aGlkZV9hY3Rpb25zX21lbnUoKSB7XG5cdFx0dGhpcy5hY3Rpb25zX2J0bl9ncm91cC5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0YWRkX2FjdGlvbl9pdGVtKGxhYmVsLCBjbGljaywgc3RhbmRhcmQpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGRfZHJvcGRvd25faXRlbSh7XG5cdFx0XHRsYWJlbCxcblx0XHRcdGNsaWNrLFxuXHRcdFx0c3RhbmRhcmQsXG5cdFx0XHRwYXJlbnQ6IHRoaXMuYWN0aW9ucyxcblx0XHR9KTtcblx0fVxuXG5cdGFkZF9hY3Rpb25zX21lbnVfaXRlbShsYWJlbCwgY2xpY2ssIHN0YW5kYXJkLCBzaG9ydGN1dCkge1xuXHRcdHJldHVybiB0aGlzLmFkZF9kcm9wZG93bl9pdGVtKHtcblx0XHRcdGxhYmVsLFxuXHRcdFx0Y2xpY2ssXG5cdFx0XHRzdGFuZGFyZCxcblx0XHRcdHNob3J0Y3V0LFxuXHRcdFx0cGFyZW50OiB0aGlzLmFjdGlvbnMsXG5cdFx0XHRzaG93X3BhcmVudDogZmFsc2UsXG5cdFx0fSk7XG5cdH1cblxuXHRjbGVhcl9hY3Rpb25zX21lbnUoKSB7XG5cdFx0dGhpcy5jbGVhcl9idG5fZ3JvdXAodGhpcy5hY3Rpb25zKTtcblx0fVxuXG5cdC8vLS0gR2VuZXJpYyAtLS8vXG5cblx0Lypcblx0ICogQWRkIGxhYmVsIHRvIGdpdmVuIGRyb3AgZG93biBtZW51LiBJZiBsYWJlbCwgaXMgYWxyZWFkeSBjb250YWluZWQgaW4gdGhlIGRyb3Bcblx0ICogZG93biBtZW51LCBpdCB3aWxsIGJlIGlnbm9yZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIFRleHQgZm9yIHRoZSBkcm9wIGRvd24gbWVudVxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjbGljayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGBsYWJlbGAgaXMgY2xpY2tlZFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHN0YW5kYXJkXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBwYXJlbnQgLSBET00gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcGFyZW50IG9mIHRoZSBkcm9wIGRvd24gaXRlbSBsaXN0c1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBLZXlib2FyZCBzaG9ydGN1dCBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcblx0ICogQHBhcmFtIHtCb29sZWFufSBzaG93X3BhcmVudCAtIFdoZXRoZXIgdG8gc2hvdyB0aGUgZHJvcGRvd24gYnV0dG9uIGlmIGRyb3Bkb3duIGl0ZW0gaXMgYWRkZWRcblx0ICovXG5cdGFkZF9kcm9wZG93bl9pdGVtKHtcblx0XHRsYWJlbCxcblx0XHRjbGljayxcblx0XHRzdGFuZGFyZCxcblx0XHRwYXJlbnQsXG5cdFx0c2hvcnRjdXQsXG5cdFx0c2hvd19wYXJlbnQgPSB0cnVlLFxuXHRcdGljb24gPSBudWxsLFxuXHR9KSB7XG5cdFx0aWYgKHNob3dfcGFyZW50KSB7XG5cdFx0XHRwYXJlbnQucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hpZGUgaGlkZGVuLXhsJyk7XG5cdFx0fVxuXG5cdFx0bGV0ICRsaW5rID0gdGhpcy5pc19pbl9ncm91cF9idXR0b25fZHJvcGRvd24ocGFyZW50LCAnbGkgPiBhLmdyZXktbGluayA+IHNwYW4nLCBsYWJlbCk7XG5cdFx0aWYgKCRsaW5rKSB7IHJldHVybiAkbGluazsgfVxuXG5cdFx0bGV0ICRsaTtcblx0XHRsZXQgJGljb24gPSBgYDtcblxuXHRcdGlmIChpY29uKSB7XG5cdFx0XHQkaWNvbiA9IGA8c3BhbiBjbGFzcz1cIm1lbnUtaXRlbS1pY29uXCI+JHtmcmFwcGUudXRpbHMuaWNvbihpY29uKX08L3NwYW4+YDtcblx0XHR9XG5cblx0XHRpZiAoc2hvcnRjdXQpIHtcblx0XHRcdGxldCBzaG9ydGN1dF9vYmogPSB0aGlzLnByZXBhcmVfc2hvcnRjdXRfb2JqKHNob3J0Y3V0LCBjbGljaywgbGFiZWwpO1xuXHRcdFx0JGxpID0gJChgXG5cdFx0XHRcdDxsaT5cblx0XHRcdFx0XHQ8YSBjbGFzcz1cImdyZXktbGluayBkcm9wZG93bi1pdGVtXCIgaHJlZj1cIiNcIiBvbkNsaWNrPVwicmV0dXJuIGZhbHNlO1wiPlxuXHRcdFx0XHRcdFx0JHskaWNvbn1cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibWVudS1pdGVtLWxhYmVsXCI+JHtsYWJlbH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8a2JkIGNsYXNzPVwicHVsbC1yaWdodFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj4ke3Nob3J0Y3V0X29iai5zaG9ydGN1dF9sYWJlbH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2tiZD5cblx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRgKTtcblx0XHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dChzaG9ydGN1dF9vYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkbGkgPSAkKGBcblx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdDxhIGNsYXNzPVwiZ3JleS1saW5rIGRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiI1wiIG9uQ2xpY2s9XCJyZXR1cm4gZmFsc2U7XCI+XG5cdFx0XHRcdFx0XHQkeyRpY29ufVxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJtZW51LWl0ZW0tbGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRgKTtcblx0XHR9XG5cblx0XHQkbGluayA9ICRsaS5maW5kKCdhJykub24oJ2NsaWNrJywgZSA9PiB7XG5cdFx0XHRpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkge1xuXHRcdFx0XHRmcmFwcGUub3Blbl9pbl9uZXdfdGFiID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBjbGljaygpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKHN0YW5kYXJkKSB7XG5cdFx0XHQkbGkuYXBwZW5kVG8ocGFyZW50KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5kaXZpZGVyID0gcGFyZW50LmZpbmQoJy5kcm9wZG93bi1kaXZpZGVyJyk7XG5cdFx0XHRpZiAoIXRoaXMuZGl2aWRlci5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5kaXZpZGVyID0gJCgnPGxpIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlciB1c2VyLWFjdGlvblwiPjwvbGk+JykucHJlcGVuZFRvKFxuXHRcdFx0XHRcdHBhcmVudCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdCRsaS5hZGRDbGFzcygndXNlci1hY3Rpb24nKS5pbnNlcnRCZWZvcmUodGhpcy5kaXZpZGVyKTtcblx0XHR9XG5cblx0XHQvLyBhbHQgc2hvcnRjdXRcblx0XHRmcmFwcGUudWkua2V5c1xuXHRcdFx0LmdldF9zaG9ydGN1dF9ncm91cChwYXJlbnQuZ2V0KDApKVxuXHRcdFx0LmFkZCgkbGluaywgJGxpbmsuZmluZCgnLm1lbnUtaXRlbS1sYWJlbCcpKTtcblxuXHRcdHJldHVybiAkbGluaztcblx0fVxuXG5cdHByZXBhcmVfc2hvcnRjdXRfb2JqKHNob3J0Y3V0LCBjbGljaywgbGFiZWwpIHtcblx0XHRsZXQgc2hvcnRjdXRfb2JqO1xuXHRcdC8vIGNvbnZlcnQgdG8gb2JqZWN0LCBpZiBzaG9ydGN1dCBzdHJpbmcgcGFzc2VkXG5cdFx0aWYgKHR5cGVvZiBzaG9ydGN1dCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHNob3J0Y3V0X29iaiA9IHsgc2hvcnRjdXQgfTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2hvcnRjdXRfb2JqID0gc2hvcnRjdXQ7XG5cdFx0fVxuXHRcdC8vIGxhYmVsXG5cdFx0aWYgKGZyYXBwZS51dGlscy5pc19tYWMoKSkge1xuXHRcdFx0c2hvcnRjdXRfb2JqLnNob3J0Y3V0X2xhYmVsID0gc2hvcnRjdXRfb2JqLnNob3J0Y3V0LnJlcGxhY2UoJ0N0cmwnLCAnXHUyMzE4Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNob3J0Y3V0X29iai5zaG9ydGN1dF9sYWJlbCA9IHNob3J0Y3V0X29iai5zaG9ydGN1dDtcblx0XHR9XG5cdFx0Ly8gYWN0dWFsIHNob3J0Y3V0IHN0cmluZ1xuXHRcdHNob3J0Y3V0X29iai5zaG9ydGN1dCA9IHNob3J0Y3V0X29iai5zaG9ydGN1dC50b0xvd2VyQ2FzZSgpO1xuXHRcdC8vIGFjdGlvbiBpcyBidXR0b24gY2xpY2tcblx0XHRpZiAoIXNob3J0Y3V0X29iai5hY3Rpb24pIHtcblx0XHRcdHNob3J0Y3V0X29iai5hY3Rpb24gPSBjbGljaztcblx0XHR9XG5cdFx0Ly8gc2hvcnRjdXQgZGVzY3JpcHRpb24gY2FuIGJlIGJ1dHRvbiBsYWJlbFxuXHRcdGlmICghc2hvcnRjdXRfb2JqLmRlc2NyaXB0aW9uKSB7XG5cdFx0XHRzaG9ydGN1dF9vYmouZGVzY3JpcHRpb24gPSBsYWJlbDtcblx0XHR9XG5cdFx0Ly8gcGFnZVxuXHRcdHNob3J0Y3V0X29iai5wYWdlID0gdGhpcztcblx0XHRyZXR1cm4gc2hvcnRjdXRfb2JqO1xuXHR9XG5cblx0Lypcblx0ICogQ2hlY2sgaWYgdGhlcmUgYWxyZWFkeSBleGlzdHMgYSBidXR0b24gd2l0aCBhIHNwZWNpZmllZCBsYWJlbCBpbiBhIHNwZWNpZmllZCBidXR0b24gZ3JvdXBcblx0ICogQHBhcmFtIHtvYmplY3R9IHBhcmVudCAtIFRoaXMgc2hvdWxkIGJlIHRoZSBgdWxgIG9mIHRoZSBidXR0b24gZ3JvdXAuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIENTUyBTZWxlY3RvciBvZiB0aGUgYnV0dG9uIHRvIGJlIHNlYXJjaGVkIGZvci4gQnkgZGVmYXVsdCwgaXQgaXMgYGxpYC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsIC0gTGFiZWwgb2YgdGhlIGJ1dHRvblxuXHQgKi9cblx0aXNfaW5fZ3JvdXBfYnV0dG9uX2Ryb3Bkb3duKHBhcmVudCwgc2VsZWN0b3IsIGxhYmVsKSB7XG5cdFx0aWYgKCFzZWxlY3RvcikgeyBzZWxlY3RvciA9ICdsaSc7IH1cblxuXHRcdGlmICghbGFiZWwgfHwgIXBhcmVudCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdGNvbnN0IGl0ZW1fc2VsZWN0b3IgPSBgJHtzZWxlY3Rvcn1bZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKX1cIl1gO1xuXG5cdFx0Y29uc3QgZXhpc3RpbmdfaXRlbXMgPSAkKHBhcmVudCkuZmluZChpdGVtX3NlbGVjdG9yKTtcblx0XHRyZXR1cm4gZXhpc3RpbmdfaXRlbXM/Lmxlbmd0aCA+IDAgJiYgZXhpc3RpbmdfaXRlbXM7XG5cdH1cblxuXHRjbGVhcl9idG5fZ3JvdXAocGFyZW50KSB7XG5cdFx0cGFyZW50LmVtcHR5KCk7XG5cdFx0cGFyZW50LnBhcmVudCgpLmFkZENsYXNzKCdoaWRlJyk7XG5cdH1cblxuXHRhZGRfZGl2aWRlcigpIHtcblx0XHRyZXR1cm4gJCgnPGxpIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvbGk+JykuYXBwZW5kVG8odGhpcy5tZW51KTtcblx0fVxuXG5cdGdldF9vcl9hZGRfaW5uZXJfZ3JvdXBfYnV0dG9uKGxhYmVsKSB7XG5cdFx0bGV0ICRncm91cCA9IHRoaXMuaW5uZXJfdG9vbGJhci5maW5kKFxuXHRcdFx0YC5pbm5lci1ncm91cC1idXR0b25bZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKX1cIl1gLFxuXHRcdCk7XG5cdFx0aWYgKCEkZ3JvdXAubGVuZ3RoKSB7XG5cdFx0XHQkZ3JvdXAgPSAkKFxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cImlubmVyLWdyb3VwLWJ1dHRvblwiIGRhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCI+XG5cdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgZWxsaXBzaXNcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cblx0XHRcdFx0XHRcdCR7bGFiZWx9XG5cdFx0XHRcdFx0XHQke2ZyYXBwZS51dGlscy5pY29uKCdzZWxlY3QnLCAneHMnKX1cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8ZGl2IHJvbGU9XCJtZW51XCIgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmAsXG5cdFx0XHQpLmFwcGVuZFRvKHRoaXMuaW5uZXJfdG9vbGJhcik7XG5cdFx0fVxuXHRcdHJldHVybiAkZ3JvdXA7XG5cdH1cblxuXHRnZXRfaW5uZXJfZ3JvdXBfYnV0dG9uKGxhYmVsKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5uZXJfdG9vbGJhci5maW5kKFxuXHRcdFx0YC5pbm5lci1ncm91cC1idXR0b25bZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKX1cIl1gLFxuXHRcdCk7XG5cdH1cblxuXHRzZXRfaW5uZXJfYnRuX2dyb3VwX2FzX3ByaW1hcnkobGFiZWwpIHtcblx0XHR0aGlzLmdldF9vcl9hZGRfaW5uZXJfZ3JvdXBfYnV0dG9uKGxhYmVsKVxuXHRcdFx0LmZpbmQoJ2J1dHRvbicpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ2J0bi1kZWZhdWx0Jylcblx0XHRcdC5hZGRDbGFzcygnYnRuLXByaW1hcnknKTtcblx0fVxuXG5cdGJ0bl9kaXNhYmxlX2VuYWJsZShidG4sIHJlc3BvbnNlKSB7XG5cdFx0aWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnRoZW4pIHtcblx0XHRcdGJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0cmVzcG9uc2UudGhlbigoKSA9PiB7XG5cdFx0XHRcdGJ0bi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuYWx3YXlzKSB7XG5cdFx0XHRidG4ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdHJlc3BvbnNlLmFsd2F5cygoKSA9PiB7XG5cdFx0XHRcdGJ0bi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qXG5cdCAqIEFkZCBidXR0b24gdG8gYnV0dG9uIGdyb3VwLiBJZiB0aGVyZSBleGlzdHMgYW5vdGhlciBidXR0b24gd2l0aCB0aGUgc2FtZSBsYWJlbCxcblx0ICogYGFkZF9pbm5lcl9idXR0b25gIHdpbGwgbm90IGFkZCB0aGUgbmV3IGJ1dHRvbiB0byB0aGUgYnV0dG9uIGdyb3VwIGV2ZW4gaWYgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uIGlzIGRpZmZlcmVudC5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsIC0gTGFiZWwgb2YgdGhlIGJ1dHRvbiB0byBiZSBhZGRlZCB0byB0aGUgZ3JvdXBcblx0ICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGJ1dHRvbiBpcyBjbGlja2VkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBncm91cCAtIExhYmVsIG9mIHRoZSBncm91cCBidXR0b25cblx0ICovXG5cdGFkZF9pbm5lcl9idXR0b24obGFiZWwsIGFjdGlvbiwgZ3JvdXAsIHR5cGUgPSAnZGVmYXVsdCcpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGxldCBfYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0bGV0IGJ0biA9ICQodGhpcyk7XG5cdFx0XHRsZXQgcmVzcG9uc2UgPSBhY3Rpb24oKTtcblx0XHRcdG1lLmJ0bl9kaXNhYmxlX2VuYWJsZShidG4sIHJlc3BvbnNlKTtcblx0XHR9O1xuXHRcdC8vIEFkZCBhY3Rpb25zIGFzIG1lbnUgaXRlbSBpbiBNb2JpbGUgVmlld1xuXHRcdGxldCBtZW51X2l0ZW1fbGFiZWwgPSBncm91cCA/IGAke2dyb3VwfSA+ICR7bGFiZWx9YCA6IGxhYmVsO1xuXHRcdGxldCBtZW51X2l0ZW0gPSB0aGlzLmFkZF9tZW51X2l0ZW0obWVudV9pdGVtX2xhYmVsLCBfYWN0aW9uLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblx0XHRtZW51X2l0ZW0ucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbi14bCcpO1xuXHRcdGlmICh0aGlzLm1lbnVfYnRuX2dyb3VwLmhhc0NsYXNzKCdoaWRlJykpIHtcblx0XHRcdHRoaXMubWVudV9idG5fZ3JvdXAucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5hZGRDbGFzcygnaGlkZGVuLXhsJyk7XG5cdFx0fVxuXG5cdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRsZXQgJGdyb3VwID0gdGhpcy5nZXRfb3JfYWRkX2lubmVyX2dyb3VwX2J1dHRvbihncm91cCk7XG5cdFx0XHQkKHRoaXMuaW5uZXJfdG9vbGJhcikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcblxuXHRcdFx0aWYgKCF0aGlzLmlzX2luX2dyb3VwX2J1dHRvbl9kcm9wZG93bigkZ3JvdXAuZmluZCgnLmRyb3Bkb3duLW1lbnUnKSwgJ2EnLCBsYWJlbCkpIHtcblx0XHRcdFx0cmV0dXJuICQoXG5cdFx0XHRcdFx0YDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCIgb25jbGljaz1cInJldHVybiBmYWxzZTtcIiBkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQoXG5cdFx0XHRcdFx0XHRsYWJlbCxcblx0XHRcdFx0XHQpfVwiPiR7bGFiZWx9PC9hPmAsXG5cdFx0XHRcdClcblx0XHRcdFx0XHQub24oJ2NsaWNrJywgX2FjdGlvbilcblx0XHRcdFx0XHQuYXBwZW5kVG8oJGdyb3VwLmZpbmQoJy5kcm9wZG93bi1tZW51JykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgYnV0dG9uID0gdGhpcy5pbm5lcl90b29sYmFyLmZpbmQoXG5cdFx0XHRcdGBidXR0b25bZGF0YS1sYWJlbD1cIiR7ZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKX1cIl1gLFxuXHRcdFx0KTtcblx0XHRcdGlmIChidXR0b24ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0YnV0dG9uID0gJChgPGJ1dHRvbiBkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQoXG5cdFx0XHRcdFx0bGFiZWwsXG5cdFx0XHRcdCl9XCIgY2xhc3M9XCJidG4gYnRuLSR7dHlwZX0gZWxsaXBzaXNcIj5cblx0XHRcdFx0XHQke19fKGxhYmVsKX1cblx0XHRcdFx0PC9idXR0b24+YCk7XG5cdFx0XHRcdGJ1dHRvbi5vbignY2xpY2snLCBfYWN0aW9uKTtcblx0XHRcdFx0YnV0dG9uLmFwcGVuZFRvKHRoaXMuaW5uZXJfdG9vbGJhci5yZW1vdmVDbGFzcygnaGlkZScpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBidXR0b247XG5cdFx0fVxuXHR9XG5cblx0cmVtb3ZlX2lubmVyX2J1dHRvbihsYWJlbCwgZ3JvdXApIHtcblx0XHRpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuXHRcdFx0bGFiZWwgPSBbbGFiZWxdO1xuXHRcdH1cblx0XHQvLyB0cmFuc2xhdGVcblx0XHRsYWJlbCA9IGxhYmVsLm1hcChsID0+IF9fKGwpKTtcblxuXHRcdGlmIChncm91cCkge1xuXHRcdFx0bGV0ICRncm91cCA9IHRoaXMuZ2V0X2lubmVyX2dyb3VwX2J1dHRvbihfXyhncm91cCkpO1xuXHRcdFx0aWYgKCRncm91cC5sZW5ndGgpIHtcblx0XHRcdFx0JGdyb3VwLmZpbmQoYC5kcm9wZG93bi1pdGVtW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCkucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJGdyb3VwLmZpbmQoJy5kcm9wZG93bi1pdGVtJykubGVuZ3RoID09PSAwKSB7ICRncm91cC5yZW1vdmUoKTsgfVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmlubmVyX3Rvb2xiYXIuZmluZChgYnV0dG9uW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCkucmVtb3ZlKCk7XG5cdFx0fVxuXHR9XG5cblx0Y2hhbmdlX2lubmVyX2J1dHRvbl90eXBlKGxhYmVsLCBncm91cCwgdHlwZSkge1xuXHRcdGxldCBidG47XG5cblx0XHRpZiAoZ3JvdXApIHtcblx0XHRcdGxldCAkZ3JvdXAgPSB0aGlzLmdldF9pbm5lcl9ncm91cF9idXR0b24oX18oZ3JvdXApKTtcblx0XHRcdGlmICgkZ3JvdXAubGVuZ3RoKSB7XG5cdFx0XHRcdGJ0biA9ICRncm91cC5maW5kKGAuZHJvcGRvd24taXRlbVtkYXRhLWxhYmVsPVwiJHtlbmNvZGVVUklDb21wb25lbnQobGFiZWwpfVwiXWApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRidG4gPSB0aGlzLmlubmVyX3Rvb2xiYXIuZmluZChgYnV0dG9uW2RhdGEtbGFiZWw9XCIke2VuY29kZVVSSUNvbXBvbmVudChsYWJlbCl9XCJdYCk7XG5cdFx0fVxuXG5cdFx0aWYgKGJ0bikge1xuXHRcdFx0YnRuLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoYGJ0biBidG4tJHt0eXBlfSBlbGxpcHNpc2ApO1xuXHRcdH1cblx0fVxuXG5cdGFkZF9pbm5lcl9tZXNzYWdlKG1lc3NhZ2UpIHtcblx0XHRsZXQgJG1lc3NhZ2UgPSAkKGA8c3BhbiBjbGFzcz0naW5uZXItcGFnZS1tZXNzYWdlIHRleHQtbXV0ZWQgc21hbGwnPiR7bWVzc2FnZX08L2Rpdj5gKTtcblx0XHR0aGlzLmlubmVyX3Rvb2xiYXIuZmluZCgnLmlubmVyLXBhZ2UtbWVzc2FnZScpLnJlbW92ZSgpO1xuXHRcdHRoaXMuaW5uZXJfdG9vbGJhci5yZW1vdmVDbGFzcygnaGlkZScpLnByZXBlbmQoJG1lc3NhZ2UpO1xuXG5cdFx0cmV0dXJuICRtZXNzYWdlO1xuXHR9XG5cblx0Y2xlYXJfaW5uZXJfdG9vbGJhcigpIHtcblx0XHR0aGlzLmlubmVyX3Rvb2xiYXIuZW1wdHkoKS5hZGRDbGFzcygnaGlkZScpO1xuXHR9XG5cblx0Ly8tLSBTaWRlYmFyIC0tLy9cblxuXHRhZGRfc2lkZWJhcl9pdGVtKGxhYmVsLCBhY3Rpb24sIGluc2VydF9hZnRlciwgcHJlcGVuZCkge1xuXHRcdGxldCBwYXJlbnQgPSB0aGlzLnNpZGViYXIuZmluZCgnLnNpZGViYXItbWVudS5zdGFuZGFyZC1hY3Rpb25zJyk7XG5cdFx0bGV0IGxpID0gJCgnPGxpPicpO1xuXHRcdGxldCBsaW5rID0gJCgnPGE+JykuaHRtbChsYWJlbCkub24oJ2NsaWNrJywgYWN0aW9uKVxuXHRcdFx0LmFwcGVuZFRvKGxpKTtcblxuXHRcdGlmIChpbnNlcnRfYWZ0ZXIpIHtcblx0XHRcdGxpLmluc2VydEFmdGVyKHBhcmVudC5maW5kKGluc2VydF9hZnRlcikpO1xuXHRcdH0gZWxzZSBpZiAocHJlcGVuZCkge1xuXHRcdFx0bGkucHJlcGVuZFRvKHBhcmVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxpLmFwcGVuZFRvKHBhcmVudCk7XG5cdFx0fVxuXHRcdHJldHVybiBsaW5rO1xuXHR9XG5cblx0Ly8tLS0vL1xuXG5cdGNsZWFyX3VzZXJfYWN0aW9ucygpIHtcblx0XHR0aGlzLm1lbnUuZmluZCgnLnVzZXItYWN0aW9uJykucmVtb3ZlKCk7XG5cdH1cblxuXHQvLyBwYWdlOjp0aXRsZVxuXHRnZXRfdGl0bGVfYXJlYSgpIHtcblx0XHRyZXR1cm4gdGhpcy4kdGl0bGVfYXJlYTtcblx0fVxuXG5cdHNldF90aXRsZSh0aXRsZSwgaWNvbiA9IG51bGwsIHN0cmlwID0gdHJ1ZSwgdGFiX3RpdGxlID0gJycpIHtcblx0XHRpZiAoIXRpdGxlKSB7IHRpdGxlID0gJyc7IH1cblx0XHRpZiAoc3RyaXApIHtcblx0XHRcdHRpdGxlID0gc3RyaXBfaHRtbCh0aXRsZSk7XG5cdFx0fVxuXHRcdHRoaXMudGl0bGUgPSB0aXRsZTtcblx0XHQvLyBmcmFwcGUudXRpbHMuc2V0X3RpdGxlKHRhYl90aXRsZSB8fCB0aXRsZSk7XG5cdFx0aWYgKGljb24pIHtcblx0XHRcdHRpdGxlID0gYCR7ZnJhcHBlLnV0aWxzLmljb24oaWNvbil9ICR7dGl0bGV9YDtcblx0XHR9XG5cdFx0bGV0IHRpdGxlX3dyYXBwZXIgPSB0aGlzLiR0aXRsZV9hcmVhLmZpbmQoJy50aXRsZS10ZXh0Jyk7XG5cdFx0dGl0bGVfd3JhcHBlci5odG1sKHRpdGxlKTtcblx0XHR0aXRsZV93cmFwcGVyLmF0dHIoJ3RpdGxlJywgdGhpcy50aXRsZSk7XG5cdH1cblxuXHRzZXRfdGl0bGVfc3ViKHR4dCkge1xuXHRcdC8vIHN0cmlwIGljb25cblx0XHR0aGlzLiRzdWJfdGl0bGVfYXJlYS5odG1sKHR4dCkudG9nZ2xlQ2xhc3MoJ2hpZGUnLCBCb29sZWFuKCF0eHQpKTtcblx0fVxuXG5cdGdldF9tYWluX2ljb24oaWNvbikge1xuXHRcdHJldHVybiB0aGlzLiR0aXRsZV9hcmVhXG5cdFx0XHQuZmluZCgnLnRpdGxlLWljb24nKVxuXHRcdFx0Lmh0bWwoYDxpIGNsYXNzPVwiJHtpY29ufSBmYS1md1wiPjwvaT4gYClcblx0XHRcdC50b2dnbGUodHJ1ZSk7XG5cdH1cblxuXHRhZGRfaGVscF9idXR0b24odHh0KSB7XG5cdFx0Ly9cblx0fVxuXG5cdGFkZF9idXR0b24obGFiZWwsIGNsaWNrLCBvcHRzKSB7XG5cdFx0aWYgKCFvcHRzKSB7IG9wdHMgPSB7fTsgfVxuXHRcdGxldCBidXR0b24gPSAkKGA8YnV0dG9uXG5cdFx0XHRjbGFzcz1cImJ0biAke29wdHMuYnRuX2NsYXNzIHx8ICdidG4tZGVmYXVsdCd9ICR7b3B0cy5idG5fc2l6ZSB8fCAnYnRuLXNtJ30gZWxsaXBzaXNcIj5cblx0XHRcdFx0JHtvcHRzLmljb24gPyBmcmFwcGUudXRpbHMuaWNvbihvcHRzLmljb24pIDogJyd9XG5cdFx0XHRcdCR7bGFiZWx9XG5cdFx0PC9idXR0b24+YCk7XG5cdFx0Ly8gQWRkIGFjdGlvbnMgYXMgbWVudSBpdGVtIGluIE1vYmlsZSBWaWV3IChzaW1pbGFyIHRvIFwiYWRkX2N1c3RvbV9idXR0b25cIiBpbiBmb3Jtcy5qcylcblx0XHRsZXQgbWVudV9pdGVtID0gdGhpcy5hZGRfbWVudV9pdGVtKGxhYmVsLCBjbGljaywgZmFsc2UpO1xuXHRcdG1lbnVfaXRlbS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuLXhsJyk7XG5cblx0XHRidXR0b24uYXBwZW5kVG8odGhpcy5jdXN0b21fYWN0aW9ucyk7XG5cdFx0YnV0dG9uLm9uKCdjbGljaycsIGNsaWNrKTtcblx0XHR0aGlzLmN1c3RvbV9hY3Rpb25zLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cblx0XHRyZXR1cm4gYnV0dG9uO1xuXHR9XG5cblx0YWRkX2N1c3RvbV9idXR0b25fZ3JvdXAobGFiZWwsIGljb24sIHBhcmVudCkge1xuXHRcdGxldCBkcm9wZG93bl9sYWJlbCA9IGA8c3BhbiBjbGFzcz1cImhpZGRlbi14c1wiPlxuXHRcdFx0PHNwYW4gY2xhc3M9XCJjdXN0b20tYnRuLWdyb3VwLWxhYmVsXCI+JHtfXyhsYWJlbCl9PC9zcGFuPlxuXHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbignc2VsZWN0JywgJ3hzJyl9XG5cdFx0PC9zcGFuPmA7XG5cblx0XHRpZiAoaWNvbikge1xuXHRcdFx0ZHJvcGRvd25fbGFiZWwgPSBgPHNwYW4gY2xhc3M9XCJoaWRkZW4teHNcIj5cblx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbihpY29uKX1cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjdXN0b20tYnRuLWdyb3VwLWxhYmVsXCI+JHtfXyhsYWJlbCl9PC9zcGFuPlxuXHRcdFx0XHQke2ZyYXBwZS51dGlscy5pY29uKCdzZWxlY3QnLCAneHMnKX1cblx0XHRcdDwvc3Bhbj5cblx0XHRcdDxzcGFuIGNsYXNzPVwidmlzaWJsZS14c1wiPlxuXHRcdFx0XHQke2ZyYXBwZS51dGlscy5pY29uKGljb24pfVxuXHRcdFx0PC9zcGFuPmA7XG5cdFx0fVxuXG5cdFx0bGV0IGN1c3RvbV9idG5fZ3JvdXAgPSAkKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tYnRuLWdyb3VwXCI+XG5cdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBlbGxpcHNpc1wiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cblx0XHRcdFx0XHQke2Ryb3Bkb3duX2xhYmVsfVxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+PC91bD5cblx0XHRcdDwvZGl2PlxuXHRcdGApO1xuXG5cdFx0aWYgKCFwYXJlbnQpIHsgcGFyZW50ID0gdGhpcy5jdXN0b21fYWN0aW9uczsgfVxuXHRcdHBhcmVudC5yZW1vdmVDbGFzcygnaGlkZScpLmFwcGVuZChjdXN0b21fYnRuX2dyb3VwKTtcblxuXHRcdHJldHVybiBjdXN0b21fYnRuX2dyb3VwLmZpbmQoJy5kcm9wZG93bi1tZW51Jyk7XG5cdH1cblxuXHRhZGRfZHJvcGRvd25fYnV0dG9uKHBhcmVudCwgbGFiZWwsIGNsaWNrLCBpY29uKSB7XG5cdFx0ZnJhcHBlLnVpLnRvb2xiYXIuYWRkX2Ryb3Bkb3duX2J1dHRvbihwYXJlbnQsIGxhYmVsLCBjbGljaywgaWNvbik7XG5cdH1cblxuXHQvLyBwYWdlOjpmb3JtXG5cdGFkZF9sYWJlbChsYWJlbCkge1xuXHRcdHRoaXMuc2hvd19mb3JtKCk7XG5cdFx0cmV0dXJuICQoYDxsYWJlbCBjbGFzcz0nY29sLW1kLTEgcGFnZS1vbmx5LWxhYmVsJz4ke2xhYmVsfSA8L2xhYmVsPmApLmFwcGVuZFRvKFxuXHRcdFx0dGhpcy5wYWdlX2Zvcm0sXG5cdFx0KTtcblx0fVxuXHRhZGRfc2VsZWN0KGxhYmVsLCBvcHRpb25zKSB7XG5cdFx0bGV0IGZpZWxkID0gdGhpcy5hZGRfZmllbGQoeyBsYWJlbCwgZmllbGR0eXBlOiAnU2VsZWN0JyB9KTtcblx0XHRyZXR1cm4gZmllbGQuJHdyYXBwZXIuZmluZCgnc2VsZWN0JykuZW1wdHkoKS5hZGRfb3B0aW9ucyhvcHRpb25zKTtcblx0fVxuXHRhZGRfZGF0YShsYWJlbCkge1xuXHRcdGxldCBmaWVsZCA9IHRoaXMuYWRkX2ZpZWxkKHsgbGFiZWwsIGZpZWxkdHlwZTogJ0RhdGEnIH0pO1xuXHRcdHJldHVybiBmaWVsZC4kd3JhcHBlci5maW5kKCdpbnB1dCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgbGFiZWwpO1xuXHR9XG5cdGFkZF9kYXRlKGxhYmVsLCBkYXRlKSB7XG5cdFx0bGV0IGZpZWxkID0gdGhpcy5hZGRfZmllbGQoeyBsYWJlbCwgZmllbGR0eXBlOiAnRGF0ZScsIGRlZmF1bHQ6IGRhdGUgfSk7XG5cdFx0cmV0dXJuIGZpZWxkLiR3cmFwcGVyLmZpbmQoJ2lucHV0JykuYXR0cigncGxhY2Vob2xkZXInLCBsYWJlbCk7XG5cdH1cblx0YWRkX2NoZWNrKGxhYmVsKSB7XG5cdFx0cmV0dXJuICQoYDxkaXYgY2xhc3M9J2NoZWNrYm94Jz48bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94Jz4ke2xhYmVsfTwvbGFiZWw+PC9kaXY+YClcblx0XHRcdC5hcHBlbmRUbyh0aGlzLnBhZ2VfZm9ybSlcblx0XHRcdC5maW5kKCdpbnB1dCcpO1xuXHR9XG5cdGFkZF9icmVhaygpIHtcblx0XHQvLyBhZGQgZnVydGhlciBmaWVsZHMgaW4gdGhlIG5leHQgbGluZVxuXHRcdHRoaXMucGFnZV9mb3JtLmFwcGVuZCgnPGRpdiBjbGFzcz1cImNsZWFyZml4IGludmlzaWJsZS14c1wiPjwvZGl2PicpO1xuXHR9XG5cdGFkZF9maWVsZChkZiwgcGFyZW50KSB7XG5cdFx0dGhpcy5zaG93X2Zvcm0oKTtcblxuXHRcdGlmICghZGYucGxhY2Vob2xkZXIpIHtcblx0XHRcdGRmLnBsYWNlaG9sZGVyID0gZGYubGFiZWw7XG5cdFx0fVxuXG5cdFx0ZGYuaW5wdXRfY2xhc3MgPSAnaW5wdXQteHMnO1xuXG5cdFx0bGV0IGYgPSBmcmFwcGUudWkuZm9ybS5tYWtlX2NvbnRyb2woe1xuXHRcdFx0ZGYsXG5cdFx0XHRwYXJlbnQ6IHBhcmVudCB8fCB0aGlzLnBhZ2VfZm9ybSxcblx0XHRcdG9ubHlfaW5wdXQ6IGRmLmZpZWxkdHlwZSA9PSAnQ2hlY2snID8gZmFsc2UgOiB0cnVlLFxuXHRcdH0pO1xuXHRcdGYucmVmcmVzaCgpO1xuXHRcdCQoZi53cmFwcGVyKVxuXHRcdFx0LmFkZENsYXNzKCdjb2wtbWQtMicpXG5cdFx0XHQuYXR0cigndGl0bGUnLCBfXyhkZi5sYWJlbCkpXG5cdFx0XHQudG9vbHRpcCh7XG5cdFx0XHRcdGRlbGF5OiB7IHNob3c6IDYwMCwgaGlkZTogMTAwIH0sXG5cdFx0XHRcdHRyaWdnZXI6ICdob3ZlcicsXG5cdFx0XHR9KTtcblxuXHRcdC8vIGh0bWwgZmllbGRzIGluIHRvb2xiYXIgYXJlIG9ubHkgZm9yIGRpc3BsYXlcblx0XHRpZiAoZGYuZmllbGR0eXBlID09ICdIVE1MJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGhpZGRlbiBmaWVsZHMgZG9udCBoYXZlICRpbnB1dFxuXHRcdGlmICghZi4kaW5wdXQpIHsgZi5tYWtlX2lucHV0KCk7IH1cblxuXHRcdGYuJGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgX18oZGYubGFiZWwpKTtcblxuXHRcdGlmIChkZi5maWVsZHR5cGUgPT09ICdDaGVjaycpIHtcblx0XHRcdCQoZi53cmFwcGVyKS5maW5kKCc6Zmlyc3QtY2hpbGQnKS5yZW1vdmVDbGFzcygnY29sLW1kLW9mZnNldC00IGNvbC1tZC04Jyk7XG5cdFx0fVxuXG5cdFx0aWYgKGRmLmZpZWxkdHlwZSA9PSAnQnV0dG9uJykge1xuXHRcdFx0JChmLndyYXBwZXIpLmZpbmQoJy5wYWdlLWNvbnRyb2wtbGFiZWwnKS5odG1sKCcmbmJzcDsnKTtcblx0XHRcdGYuJGlucHV0LmFkZENsYXNzKCdidG4teHMnKS5jc3MoeyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLXRvcCc6ICctMXB4JyB9KTtcblx0XHR9XG5cblx0XHRpZiAoZGYuZGVmYXVsdCkgeyBmLnNldF9pbnB1dChkZi5kZWZhdWx0KTsgfVxuXHRcdHRoaXMuZmllbGRzX2RpY3RbZGYuZmllbGRuYW1lIHx8IGRmLmxhYmVsXSA9IGY7XG5cdFx0cmV0dXJuIGY7XG5cdH1cblx0Y2xlYXJfZmllbGRzKCkge1xuXHRcdHRoaXMucGFnZV9mb3JtLmVtcHR5KCk7XG5cdH1cblx0c2hvd19mb3JtKCkge1xuXHRcdHRoaXMucGFnZV9mb3JtLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cdH1cblx0aGlkZV9mb3JtKCkge1xuXHRcdHRoaXMucGFnZV9mb3JtLmFkZENsYXNzKCdoaWRlJyk7XG5cdH1cblx0Z2V0X2Zvcm1fdmFsdWVzKCkge1xuXHRcdGxldCB2YWx1ZXMgPSB7fTtcblx0XHRmb3IgKGxldCBmaWVsZG5hbWUgaW4gdGhpcy5maWVsZHNfZGljdCkge1xuXHRcdFx0bGV0IGZpZWxkID0gdGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdO1xuXHRcdFx0dmFsdWVzW2ZpZWxkbmFtZV0gPSBmaWVsZC5nZXRfdmFsdWUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlcztcblx0fVxuXHRhZGRfdmlldyhuYW1lOiBzdHJpbmcsIGh0bWw6IHN0cmluZyB8IEpRdWVyeSkge1xuXHRcdGxldCBlbGVtZW50ID0gaHRtbDtcblx0XHRpZiAodHlwZW9mIGh0bWwgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRlbGVtZW50ID0gJChodG1sKTtcblx0XHR9XG5cdFx0dGhpcy52aWV3c1tuYW1lXSA9IGVsZW1lbnQuYXBwZW5kVG8oJCh0aGlzLndyYXBwZXIpLmZpbmQoJy5wYWdlLWNvbnRlbnQnKSk7XG5cdFx0aWYgKHRoaXMuY3VycmVudF92aWV3KSB7XG5cdFx0XHR0aGlzLnZpZXdzW25hbWVdLnRvZ2dsZShmYWxzZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY3VycmVudF92aWV3ID0gdGhpcy52aWV3c1tuYW1lXTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMudmlld3NbbmFtZV07XG5cdH1cblx0c2V0X3ZpZXcobmFtZSkge1xuXHRcdGlmICh0aGlzLmN1cnJlbnRfdmlld19uYW1lID09PSBuYW1lKSB7IHJldHVybjsgfVxuXHRcdHRoaXMuY3VycmVudF92aWV3Py50b2dnbGUoZmFsc2UpO1xuXHRcdHRoaXMuY3VycmVudF92aWV3ID0gdGhpcy52aWV3c1tuYW1lXTtcblxuXHRcdHRoaXMucHJldmlvdXNfdmlld19uYW1lID0gdGhpcy5jdXJyZW50X3ZpZXdfbmFtZTtcblx0XHR0aGlzLmN1cnJlbnRfdmlld19uYW1lID0gbmFtZTtcblxuXHRcdHRoaXMudmlld3NbbmFtZV0udG9nZ2xlKHRydWUpO1xuXG5cdFx0dGhpcy53cmFwcGVyLnRyaWdnZXIoJ3ZpZXctY2hhbmdlJyk7XG5cdH1cbn1cblxuaW50ZXJmYWNlIFBhZ2Uge1xuXHRwYXJlbnQ6IEhUTUxFbGVtZW50O1xuXHRzaW5nbGVfY29sdW1uOiBib29sZWFuO1xuXHRjdXJyZW50X3ZpZXc/OiBKUXVlcnk7XG5cdHdyYXBwZXI6IEpRdWVyeTtcblx0Y3VycmVudF92aWV3X25hbWU/OiBzdHJpbmc7XG5cdHByZXZpb3VzX3ZpZXdfbmFtZT86IHN0cmluZztcblxuXHQkdGl0bGVfYXJlYTogSlF1ZXJ5XG5cblx0JHN1Yl90aXRsZV9hcmVhOiBKUXVlcnlcblxuXHRtYWluOiBKUXVlcnlcblx0Ym9keTogSlF1ZXJ5XG5cdGNvbnRhaW5lcjogSlF1ZXJ5XG5cdHNpZGViYXI6IEpRdWVyeVxuXHRmb290ZXI6IEpRdWVyeVxuXHRpbmRpY2F0b3I6IEpRdWVyeVxuXG5cdHBhZ2VfYWN0aW9uczogSlF1ZXJ5XG5cblx0YnRuX3ByaW1hcnk6IEpRdWVyeVxuXHRidG5fc2Vjb25kYXJ5OiBKUXVlcnlcblxuXHRtZW51OiBKUXVlcnlcblx0bWVudV9idG5fZ3JvdXA6IEpRdWVyeVxuXG5cdGFjdGlvbnM6IEpRdWVyeVxuXHRhY3Rpb25zX2J0bl9ncm91cDogSlF1ZXJ5XG5cblx0c3RhbmRhcmRfYWN0aW9uczogSlF1ZXJ5XG5cdGN1c3RvbV9hY3Rpb25zOiBKUXVlcnlcblxuXHRwYWdlX2Zvcm06IEpRdWVyeVxuXHRpbm5lcl90b29sYmFyOiBKUXVlcnlcblx0aWNvbl9ncm91cDogSlF1ZXJ5XG59XG5leHBvcnQgZGVmYXVsdCBQYWdlO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuLy8gQ29weXJpZ2h0IChjKSAyMDE1LCBGcmFwcGUgVGVjaG5vbG9naWVzIFB2dC4gTHRkLiBhbmQgQ29udHJpYnV0b3JzXG4vLyBNSVQgTGljZW5zZS4gU2VlIGxpY2Vuc2UudHh0XG5pbXBvcnQgdHlwZSBGb3JtIGZyb20gJy4vRm9ybSc7XG5pbXBvcnQgdHlwZSBQYWdlIGZyb20gJy4vUGFnZSc7XG5cbmNsYXNzIFRvb2xiYXIge1xuXHRwYWdlOiBQYWdlO1xuXHRmcm06IEZvcm07XG5cdGNvbnN0cnVjdG9yKGZybTogRm9ybSwgcGFnZTogUGFnZSkge1xuXHRcdHRoaXMuZnJtID0gZnJtO1xuXHRcdHRoaXMucGFnZSA9IHBhZ2U7XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0dGhpcy5hZGRfdXBkYXRlX2J1dHRvbl9vbl9kaXJ0eSgpO1xuXHRcdHRoaXMuc2V0dXBfZWRpdGFibGVfdGl0bGUoKTtcblx0fVxuXHRyZWZyZXNoKCkge1xuXHRcdHRoaXMubWFrZV9tZW51KCk7XG5cdFx0dGhpcy5tYWtlX3ZpZXdlcnMoKTtcblx0XHR0aGlzLnNldF90aXRsZSgpO1xuXHRcdHRoaXMucGFnZS5jbGVhcl91c2VyX2FjdGlvbnMoKTtcblx0XHR0aGlzLnNob3dfdGl0bGVfYXNfZGlydHkoKTtcblx0XHR0aGlzLnNldF9wcmltYXJ5X2FjdGlvbigpO1xuXG5cdFx0aWYgKHRoaXMuZnJtLm1ldGEuaGlkZV90b29sYmFyKSB7XG5cdFx0XHR0aGlzLnBhZ2UuaGlkZV9tZW51KCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmZybS5kb2MuX19pc2xvY2FsKSB7XG5cdFx0XHR0aGlzLnBhZ2UuaGlkZV9tZW51KCk7XG5cdFx0XHR0aGlzLnByaW50X2ljb24gJiYgdGhpcy5wcmludF9pY29uLmFkZENsYXNzKCdoaWRlJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucGFnZS5zaG93X21lbnUoKTtcblx0XHRcdHRoaXMucHJpbnRfaWNvbiAmJiB0aGlzLnByaW50X2ljb24ucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcblx0XHR9XG5cdH1cblx0c2V0X3RpdGxlKCkge1xuXHRcdGlmICh0aGlzLmZybS5pc19uZXcoKSkge1xuXHRcdFx0dmFyIHRpdGxlID0gX18oJ05ldyB7MH0nLCBbX18odGhpcy5mcm0ubWV0YS5uYW1lKV0pO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5mcm0ubWV0YS50aXRsZV9maWVsZCkge1xuXHRcdFx0bGV0IHRpdGxlX2ZpZWxkID0gKHRoaXMuZnJtLmRvY1t0aGlzLmZybS5tZXRhLnRpdGxlX2ZpZWxkXSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG5cdFx0XHR2YXIgdGl0bGUgPSBzdHJpcF9odG1sKHRpdGxlX2ZpZWxkIHx8IHRoaXMuZnJtLmRvY25hbWUpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR0aGlzLmZybS5kb2MuX19pc2xvY2FsIHx8XG5cdFx0XHRcdHRpdGxlID09PSB0aGlzLmZybS5kb2NuYW1lIHx8XG5cdFx0XHRcdHRoaXMuZnJtLm1ldGEuYXV0b25hbWUgPT09ICdoYXNoJ1xuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMucGFnZS5zZXRfdGl0bGVfc3ViKCcnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucGFnZS5zZXRfdGl0bGVfc3ViKHRoaXMuZnJtLmRvY25hbWUpO1xuXHRcdFx0XHR0aGlzLnBhZ2UuJHN1Yl90aXRsZV9hcmVhLmNzcygnY3Vyc29yJywgJ2NvcHknKTtcblx0XHRcdFx0dGhpcy5wYWdlLiRzdWJfdGl0bGVfYXJlYS5vbignY2xpY2snLCBldmVudCA9PiB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0ZnJhcHBlLnV0aWxzLmNvcHlfdG9fY2xpcGJvYXJkKHRoaXMuZnJtLmRvY25hbWUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHRpdGxlID0gdGhpcy5mcm0uZG9jbmFtZTtcblx0XHR9XG5cblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRpdGxlID0gX18odGl0bGUpO1xuXHRcdHRoaXMucGFnZS5zZXRfdGl0bGUodGl0bGUpO1xuXHRcdGlmICh0aGlzLmZybS5tZXRhLnRpdGxlX2ZpZWxkKSB7XG5cdFx0XHRmcmFwcGUudXRpbHMuc2V0X3RpdGxlKGAke3RpdGxlfSAtICR7dGhpcy5mcm0uZG9jbmFtZX1gKTtcblx0XHR9XG5cdFx0dGhpcy5wYWdlLiR0aXRsZV9hcmVhLnRvZ2dsZUNsYXNzKFxuXHRcdFx0J2VkaXRhYmxlLXRpdGxlJyxcblx0XHRcdEJvb2xlYW4odGhpcy5pc190aXRsZV9lZGl0YWJsZSgpIHx8IHRoaXMuY2FuX3JlbmFtZSgpKSxcblx0XHQpO1xuXG5cdFx0dGhpcy5zZXRfaW5kaWNhdG9yKCk7XG5cdH1cblx0aXNfdGl0bGVfZWRpdGFibGUoKSB7XG5cdFx0bGV0IHsgdGl0bGVfZmllbGQgfSA9IHRoaXMuZnJtLm1ldGE7XG5cdFx0bGV0IGRvY19maWVsZCA9IHRoaXMuZnJtLmdldF9kb2NmaWVsZCh0aXRsZV9maWVsZCk7XG5cblx0XHRpZiAoXG5cdFx0XHR0aXRsZV9maWVsZCAmJlxuXHRcdFx0dGhpcy5mcm0ucGVybVswXS53cml0ZSAmJlxuXHRcdFx0IXRoaXMuZnJtLmRvYy5fX2lzbG9jYWwgJiZcblx0XHRcdGRvY19maWVsZC5maWVsZHR5cGUgPT09ICdEYXRhJyAmJlxuXHRcdFx0IWRvY19maWVsZC5yZWFkX29ubHlcblx0XHQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fVxuXHRjYW5fcmVuYW1lKCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRzaG93X3VuY2hhbmdlZF9kb2N1bWVudF9hbGVydCgpIHtcblx0XHRmcmFwcGUuc2hvd19hbGVydCh7XG5cdFx0XHRpbmRpY2F0b3I6ICdpbmZvJyxcblx0XHRcdG1lc3NhZ2U6IF9fKCdVbmNoYW5nZWQnKSxcblx0XHR9KTtcblx0fVxuXHRyZW5hbWVfZG9jdW1lbnRfdGl0bGUoaW5wdXRfbmFtZSwgaW5wdXRfdGl0bGUsIG1lcmdlID0gZmFsc2UpIHtcblx0XHRsZXQgY29uZmlybV9tZXNzYWdlID0gbnVsbDtcblx0XHRjb25zdCBkb2NuYW1lID0gdGhpcy5mcm0uZG9jLm5hbWU7XG5cdFx0Y29uc3QgdGl0bGVfZmllbGQgPSB0aGlzLmZybS5tZXRhLnRpdGxlX2ZpZWxkIHx8ICcnO1xuXHRcdGNvbnN0IHsgZG9jdHlwZSB9ID0gdGhpcy5mcm07XG5cdFx0bGV0IHF1ZXVlO1xuXHRcdGlmICh0aGlzLmZybS5fX3JlbmFtZV9xdWV1ZSkge1xuXHRcdFx0cXVldWUgPSB0aGlzLmZybS5fX3JlbmFtZV9xdWV1ZTtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXRfbmFtZSkge1xuXHRcdFx0Y29uc3Qgd2FybmluZyA9IF9fKCdUaGlzIGNhbm5vdCBiZSB1bmRvbmUnKTtcblx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBfXygnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG1lcmdlIHswfSB3aXRoIHsxfT8nLCBbXG5cdFx0XHRcdGRvY25hbWUuYm9sZCgpLFxuXHRcdFx0XHRpbnB1dF9uYW1lLmJvbGQoKSxcblx0XHRcdF0pO1xuXHRcdFx0Y29uZmlybV9tZXNzYWdlID0gYCR7bWVzc2FnZX08YnI+PGI+JHt3YXJuaW5nfTxiPmA7XG5cdFx0fVxuXG5cdFx0bGV0IHJlbmFtZV9kb2N1bWVudCA9ICgpID0+IGZyYXBwZVxuXHRcdFx0LnhjYWxsKCdmcmFwcGUubW9kZWwucmVuYW1lX2RvYy51cGRhdGVfZG9jdW1lbnRfdGl0bGUnLCB7XG5cdFx0XHRcdGRvY3R5cGUsXG5cdFx0XHRcdGRvY25hbWUsXG5cdFx0XHRcdG5hbWU6IGlucHV0X25hbWUsXG5cdFx0XHRcdHRpdGxlOiBpbnB1dF90aXRsZSxcblx0XHRcdFx0ZW5xdWV1ZTogdHJ1ZSxcblx0XHRcdFx0bWVyZ2UsXG5cdFx0XHRcdGZyZWV6ZTogdHJ1ZSxcblx0XHRcdFx0ZnJlZXplX21lc3NhZ2U6IF9fKCdVcGRhdGluZyByZWxhdGVkIGZpZWxkcy4uLicpLFxuXHRcdFx0XHRxdWV1ZSxcblx0XHRcdH0pXG5cdFx0XHQudGhlbihuZXdfZG9jbmFtZSA9PiB7XG5cdFx0XHRcdGNvbnN0IHJlbG9hZF9mb3JtID0gaW5wdXRfbmFtZSA9PiB7XG5cdFx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcigncmVuYW1lJywgW2RvY3R5cGUsIGRvY25hbWUsIGlucHV0X25hbWVdKTtcblx0XHRcdFx0XHRpZiAobG9jYWxzW2RvY3R5cGVdICYmIGxvY2Fsc1tkb2N0eXBlXVtkb2NuYW1lXSkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIGxvY2Fsc1tkb2N0eXBlXVtkb2NuYW1lXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5mcm0ucmVsb2FkX2RvYygpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIGhhbmRsZSBkb2N1bWVudCByZW5hbWluZyBxdWV1ZWQgYWN0aW9uXG5cdFx0XHRcdGlmIChpbnB1dF9uYW1lICYmIG5ld19kb2NuYW1lID09IGRvY25hbWUpIHtcblx0XHRcdFx0XHRmcmFwcGUuc29ja2V0aW8uZG9jX3N1YnNjcmliZShkb2N0eXBlLCBpbnB1dF9uYW1lKTtcblx0XHRcdFx0XHRmcmFwcGUucmVhbHRpbWUub24oJ2RvY191cGRhdGUnLCBkYXRhID0+IHtcblx0XHRcdFx0XHRcdGlmIChkYXRhLmRvY3R5cGUgPT0gZG9jdHlwZSAmJiBkYXRhLm5hbWUgPT0gaW5wdXRfbmFtZSkge1xuXHRcdFx0XHRcdFx0XHRyZWxvYWRfZm9ybShpbnB1dF9uYW1lKTtcblx0XHRcdFx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoe1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IF9fKCdEb2N1bWVudCByZW5hbWVkIGZyb20gezB9IHRvIHsxfScsIFtcblx0XHRcdFx0XHRcdFx0XHRcdGRvY25hbWUuYm9sZCgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0aW5wdXRfbmFtZS5ib2xkKCksXG5cdFx0XHRcdFx0XHRcdFx0XSksXG5cdFx0XHRcdFx0XHRcdFx0aW5kaWNhdG9yOiAnc3VjY2VzcycsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KFxuXHRcdFx0XHRcdFx0X18oJ0RvY3VtZW50IHJlbmFtaW5nIGZyb20gezB9IHRvIHsxfSBoYXMgYmVlbiBxdWV1ZWQnLCBbXG5cdFx0XHRcdFx0XHRcdGRvY25hbWUuYm9sZCgpLFxuXHRcdFx0XHRcdFx0XHRpbnB1dF9uYW1lLmJvbGQoKSxcblx0XHRcdFx0XHRcdF0pLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgZG9jdW1lbnQgc3luYyByZW5hbWUgYWN0aW9uXG5cdFx0XHRcdGlmIChpbnB1dF9uYW1lICYmIChuZXdfZG9jbmFtZSB8fCBpbnB1dF9uYW1lKSAhPSBkb2NuYW1lKSB7XG5cdFx0XHRcdFx0cmVsb2FkX2Zvcm0obmV3X2RvY25hbWUgfHwgaW5wdXRfbmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGlmIChpbnB1dF90aXRsZSA9PT0gdGhpcy5mcm0uZG9jW3RpdGxlX2ZpZWxkXSAmJiBpbnB1dF9uYW1lID09PSBkb2NuYW1lKSB7XG5cdFx0XHRcdHRoaXMuc2hvd191bmNoYW5nZWRfZG9jdW1lbnRfYWxlcnQoKTtcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fSBlbHNlIGlmIChtZXJnZSkge1xuXHRcdFx0XHRmcmFwcGUuY29uZmlybShcblx0XHRcdFx0XHRjb25maXJtX21lc3NhZ2UsXG5cdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0cmVuYW1lX2RvY3VtZW50KCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVqZWN0LFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVuYW1lX2RvY3VtZW50KCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdHNldHVwX2VkaXRhYmxlX3RpdGxlKCkgeyB9XG5cdGdldF9kcm9wZG93bl9tZW51KGxhYmVsKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFnZS5hZGRfZHJvcGRvd24obGFiZWwpO1xuXHR9XG5cdHNldF9pbmRpY2F0b3IoKSB7XG5cdFx0bGV0IGluZGljYXRvciA9IGZyYXBwZS5nZXRfaW5kaWNhdG9yKHRoaXMuZnJtLmRvYyk7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5mcm0uc2F2ZV9kaXNhYmxlZCAmJlxuXHRcdFx0aW5kaWNhdG9yICYmXG5cdFx0XHRbX18oJ1NhdmVkJyksIF9fKCdOb3QgU2F2ZWQnKV0uaW5jbHVkZXMoaW5kaWNhdG9yWzBdKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoaW5kaWNhdG9yKSB7XG5cdFx0XHR0aGlzLnBhZ2Uuc2V0X2luZGljYXRvcihpbmRpY2F0b3JbMF0sIGluZGljYXRvclsxXSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucGFnZS5jbGVhcl9pbmRpY2F0b3IoKTtcblx0XHR9XG5cdH1cblx0bWFrZV9tZW51KCkge1xuXHRcdHRoaXMucGFnZS5jbGVhcl9pY29ucygpO1xuXHRcdHRoaXMucGFnZS5jbGVhcl9tZW51KCk7XG5cblx0XHRpZiAoZnJhcHBlLmJvb3QuZGVza19zZXR0aW5ncy5mb3JtX3NpZGViYXIpIHtcblx0XHRcdHRoaXMubWFrZV9uYXZpZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLm1ha2VfbWVudV9pdGVtcygpO1xuXHRcdH1cblx0fVxuXG5cdG1ha2Vfdmlld2VycygpIHtcblx0XHRpZiAodGhpcy5mcm0udmlld2Vycykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmZybS52aWV3ZXJzID0gbmV3IGZyYXBwZS51aS5mb3JtLkZvcm1WaWV3ZXJzKHtcblx0XHRcdGZybTogdGhpcy5mcm0sXG5cdFx0XHRwYXJlbnQ6ICQoJzxkaXYgY2xhc3M9XCJmb3JtLXZpZXdlcnMgZC1mbGV4XCI+PC9kaXY+JykucHJlcGVuZFRvKFxuXHRcdFx0XHR0aGlzLmZybS5wYWdlLnBhZ2VfYWN0aW9ucyxcblx0XHRcdCksXG5cdFx0fSk7XG5cdH1cblxuXHRtYWtlX25hdmlnYXRpb24oKSB7XG5cdFx0Ly8gTmF2aWdhdGVcblx0XHQvLyBpZiAoIXRoaXMuZnJtLmlzX25ldygpICYmICF0aGlzLmZybS5tZXRhLmlzc2luZ2xlKSB7XG5cdFx0Ly8gXHR0aGlzLnBhZ2UuYWRkX2FjdGlvbl9pY29uKFxuXHRcdC8vIFx0XHQnbGVmdCcsXG5cdFx0Ly8gXHRcdCgpID0+IHtcblx0XHQvLyBcdFx0XHR0aGlzLmZybS5uYXZpZ2F0ZV9yZWNvcmRzKDEpO1xuXHRcdC8vIFx0XHR9LFxuXHRcdC8vIFx0XHQncHJldi1kb2MnLFxuXHRcdC8vIFx0XHRfXygnUHJldmlvdXMgRG9jdW1lbnQnKVxuXHRcdC8vIFx0KTtcblx0XHQvLyBcdHRoaXMucGFnZS5hZGRfYWN0aW9uX2ljb24oXG5cdFx0Ly8gXHRcdCdyaWdodCcsXG5cdFx0Ly8gXHRcdCgpID0+IHtcblx0XHQvLyBcdFx0XHR0aGlzLmZybS5uYXZpZ2F0ZV9yZWNvcmRzKDApO1xuXHRcdC8vIFx0XHR9LFxuXHRcdC8vIFx0XHQnbmV4dC1kb2MnLFxuXHRcdC8vIFx0XHRfXygnTmV4dCBEb2N1bWVudCcpXG5cdFx0Ly8gXHQpO1xuXHRcdC8vIH1cblx0fVxuXG5cdG1ha2VfbWVudV9pdGVtcygpIHtcblx0XHQvLyBQcmludFxuXHRcdGNvbnN0IG1lID0gdGhpcztcblx0XHRjb25zdCBwID0gdGhpcy5mcm0ucGVybVswXTtcblx0XHRjb25zdCBkb2NzdGF0dXMgPSBjaW50KHRoaXMuZnJtLmRvYy5kb2NzdGF0dXMpO1xuXHRcdGNvbnN0IGlzX3N1Ym1pdHRhYmxlID0gZnJhcHBlLm1vZGVsLmlzX3N1Ym1pdHRhYmxlKHRoaXMuZnJtLmRvYy5kb2N0eXBlKTtcblxuXHRcdGNvbnN0IHByaW50X3NldHRpbmdzID0gZnJhcHBlLm1vZGVsLmdldF9kb2MoJzpQcmludCBTZXR0aW5ncycsICdQcmludCBTZXR0aW5ncycpO1xuXHRcdGNvbnN0IGFsbG93X3ByaW50X2Zvcl9kcmFmdCA9IGNpbnQocHJpbnRfc2V0dGluZ3MuYWxsb3dfcHJpbnRfZm9yX2RyYWZ0KTtcblx0XHRjb25zdCBhbGxvd19wcmludF9mb3JfY2FuY2VsbGVkID0gY2ludChwcmludF9zZXR0aW5ncy5hbGxvd19wcmludF9mb3JfY2FuY2VsbGVkKTtcblxuXHRcdGlmIChcblx0XHRcdCFpc19zdWJtaXR0YWJsZSB8fFxuXHRcdFx0ZG9jc3RhdHVzID09IDEgfHxcblx0XHRcdChhbGxvd19wcmludF9mb3JfY2FuY2VsbGVkICYmIGRvY3N0YXR1cyA9PSAyKSB8fFxuXHRcdFx0KGFsbG93X3ByaW50X2Zvcl9kcmFmdCAmJiBkb2NzdGF0dXMgPT0gMClcblx0XHQpIHtcblx0XHRcdGlmIChmcmFwcGUubW9kZWwuY2FuX3ByaW50KG51bGwsIG1lLmZybSkgJiYgIXRoaXMuZnJtLm1ldGEuaXNzaW5nbGUpIHtcblx0XHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdFx0X18oJ1ByaW50JyksXG5cdFx0XHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0bWUuZnJtLnByaW50X2RvYygpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0KTtcblx0XHRcdFx0dGhpcy5wcmludF9pY29uID0gdGhpcy5wYWdlLmFkZF9hY3Rpb25faWNvbihcblx0XHRcdFx0XHQncHJpbnRlcicsXG5cdFx0XHRcdFx0ZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0bWUuZnJtLnByaW50X2RvYygpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0JycsXG5cdFx0XHRcdFx0X18oJ1ByaW50JyksXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gZW1haWxcblx0XHRpZiAoZnJhcHBlLm1vZGVsLmNhbl9lbWFpbChudWxsLCBtZS5mcm0pICYmIG1lLmZybS5kb2MuZG9jc3RhdHVzIDwgMikge1xuXHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdF9fKCdFbWFpbCcpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWUuZnJtLmVtYWlsX2RvYygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2hvcnRjdXQ6ICdDdHJsK0UnLFxuXHRcdFx0XHRcdGNvbmRpdGlvbjogKCkgPT4gIXRoaXMuZnJtLmlzX25ldygpLFxuXHRcdFx0XHR9LFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBnbyB0byBmaWVsZCBtb2RhbFxuXHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0X18oJ0p1bXAgdG8gZmllbGQnKSxcblx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bWUuc2hvd19qdW1wX3RvX2ZpZWxkX2RpYWxvZygpO1xuXHRcdFx0fSxcblx0XHRcdHRydWUsXG5cdFx0XHQnQ3RybCtKJyxcblx0XHQpO1xuXG5cdFx0Ly8gTGlua2VkIFdpdGhcblx0XHRpZiAoIW1lLmZybS5tZXRhLmlzc2luZ2xlKSB7XG5cdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0X18oJ0xpbmtzJyksXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtZS5zaG93X2xpbmtlZF93aXRoKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRydWUsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIGR1cGxpY2F0ZVxuXHRcdGlmIChpbl9saXN0KGZyYXBwZS5ib290LnVzZXIuY2FuX2NyZWF0ZSwgbWUuZnJtLmRvY3R5cGUpICYmICFtZS5mcm0ubWV0YS5hbGxvd19jb3B5KSB7XG5cdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0X18oJ0R1cGxpY2F0ZScpLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0bWUuZnJtLmNvcHlfZG9jKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRydWUsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIGNvcHkgZG9jIHRvIGNsaXBib2FyZFxuXHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0X18oJ0NvcHkgdG8gQ2xpcGJvYXJkJyksXG5cdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5jb3B5X3RvX2NsaXBib2FyZChKU09OLnN0cmluZ2lmeShtZS5mcm0uZG9jKSk7XG5cdFx0XHR9LFxuXHRcdFx0dHJ1ZSxcblx0XHQpO1xuXG5cdFx0Ly8gcmVsb2FkXG5cdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRfXygnUmVsb2FkJyksXG5cdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLmZybS5yZWxvYWRfZG9jKCk7XG5cdFx0XHR9LFxuXHRcdFx0dHJ1ZSxcblx0XHQpO1xuXG5cdFx0Ly8gZGVsZXRlXG5cdFx0aWYgKFxuXHRcdFx0Y2ludChtZS5mcm0uZG9jLmRvY3N0YXR1cykgIT0gMSAmJlxuXHRcdFx0IW1lLmZybS5kb2MuX19pc2xvY2FsICYmXG5cdFx0XHRmcmFwcGUubW9kZWwuY2FuX2RlbGV0ZShtZS5mcm0uZG9jdHlwZSlcblx0XHQpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0XHRfXygnRGVsZXRlJyksXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtZS5mcm0uc2F2ZXRyYXNoKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRydWUsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzaG9ydGN1dDogJ1NoaWZ0K0N0cmwrRCcsXG5cdFx0XHRcdFx0Y29uZGl0aW9uOiAoKSA9PiAhdGhpcy5mcm0uaXNfbmV3KCksXG5cdFx0XHRcdH0sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMubWFrZV9jdXN0b21pemVfYnV0dG9ucygpO1xuXG5cdFx0Ly8gQXV0byBSZXBlYXRcblx0XHRpZiAodGhpcy5jYW5fcmVwZWF0KCkpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKFxuXHRcdFx0XHRfXygnUmVwZWF0JyksXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRmcmFwcGUudXRpbHMubmV3X2F1dG9fcmVwZWF0X3Byb21wdChtZS5mcm0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBOZXdcblx0XHRpZiAocFtDUkVBVEVdICYmICF0aGlzLmZybS5tZXRhLmlzc2luZ2xlICYmICF0aGlzLmZybS5tZXRhLmluX2NyZWF0ZSkge1xuXHRcdFx0dGhpcy5wYWdlLmFkZF9tZW51X2l0ZW0oXG5cdFx0XHRcdF9fKCdOZXcgezB9JywgW19fKG1lLmZybS5kb2N0eXBlKV0pLFxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLm5ld19kb2MobWUuZnJtLmRvY3R5cGUsIHRydWUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2hvcnRjdXQ6ICdDdHJsK0InLFxuXHRcdFx0XHRcdGNvbmRpdGlvbjogKCkgPT4gIXRoaXMuZnJtLmlzX25ldygpLFxuXHRcdFx0XHR9LFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRtYWtlX2N1c3RvbWl6ZV9idXR0b25zKCkge1xuXHRcdGxldCBpc19kb2N0eXBlX2Zvcm0gPSB0aGlzLmZybS5kb2N0eXBlID09PSAnRG9jVHlwZSc7XG5cdFx0aWYgKFxuXHRcdFx0ZnJhcHBlLm1vZGVsLmNhbl9jcmVhdGUoJ0N1c3RvbSBGaWVsZCcpICYmXG5cdFx0XHRmcmFwcGUubW9kZWwuY2FuX2NyZWF0ZSgnUHJvcGVydHkgU2V0dGVyJylcblx0XHQpIHtcblx0XHRcdGxldCBkb2N0eXBlID0gaXNfZG9jdHlwZV9mb3JtID8gdGhpcy5mcm0uZG9jbmFtZSA6IHRoaXMuZnJtLmRvY3R5cGU7XG5cdFx0XHRsZXQgaXNfZG9jdHlwZV9jdXN0b20gPSBpc19kb2N0eXBlX2Zvcm0gPyB0aGlzLmZybS5kb2MuY3VzdG9tIDogZmFsc2U7XG5cblx0XHRcdGlmIChkb2N0eXBlICE9ICdEb2NUeXBlJyAmJiAhaXNfZG9jdHlwZV9jdXN0b20gJiYgdGhpcy5mcm0ubWV0YS5pc3NpbmdsZSA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0XHRfXygnQ3VzdG9taXplJyksXG5cdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuZnJtLm1ldGEgJiYgdGhpcy5mcm0ubWV0YS5jdXN0b20pIHtcblx0XHRcdFx0XHRcdFx0ZnJhcHBlLnNldF9yb3V0ZSgnRm9ybScsICdEb2NUeXBlJywgZG9jdHlwZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuc2V0X3JvdXRlKCdGb3JtJywgJ0N1c3RvbWl6ZSBGb3JtJywge1xuXHRcdFx0XHRcdFx0XHRcdGRvY190eXBlOiBkb2N0eXBlLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHRydWUsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGZyYXBwZS5tb2RlbC5jYW5fY3JlYXRlKCdEb2NUeXBlJykpIHtcblx0XHRcdGlmIChmcmFwcGUuYm9vdC5kZXZlbG9wZXJfbW9kZSA9PT0gMSAmJiAhaXNfZG9jdHlwZV9mb3JtKSB7XG5cdFx0XHRcdC8vIGVkaXQgZG9jdHlwZVxuXHRcdFx0XHR0aGlzLnBhZ2UuYWRkX21lbnVfaXRlbShcblx0XHRcdFx0XHRfXygnRWRpdCBEb2NUeXBlJyksXG5cdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0ZnJhcHBlLnNldF9yb3V0ZSgnRm9ybScsICdEb2NUeXBlJywgdGhpcy5mcm0uZG9jdHlwZSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0cnVlLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNhbl9yZXBlYXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZnJtLm1ldGEuYWxsb3dfYXV0b19yZXBlYXQgJiYgIXRoaXMuZnJtLmlzX25ldygpICYmICF0aGlzLmZybS5kb2MuYXV0b19yZXBlYXQ7XG5cdH1cblx0Y2FuX3NhdmUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0X2RvY3N0YXR1cygpID09PSAwO1xuXHR9XG5cdGNhbl9zdWJtaXQoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMuZ2V0X2RvY3N0YXR1cygpID09PSAwICYmXG5cdFx0XHQhdGhpcy5mcm0uZG9jLl9faXNsb2NhbCAmJlxuXHRcdFx0IXRoaXMuZnJtLmRvYy5fX3Vuc2F2ZWQgJiZcblx0XHRcdHRoaXMuZnJtLnBlcm1bMF0uc3VibWl0ICYmXG5cdFx0XHQhdGhpcy5oYXNfd29ya2Zsb3coKVxuXHRcdCk7XG5cdH1cblx0Y2FuX3VwZGF0ZSgpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGhpcy5nZXRfZG9jc3RhdHVzKCkgPT09IDEgJiZcblx0XHRcdCF0aGlzLmZybS5kb2MuX19pc2xvY2FsICYmXG5cdFx0XHR0aGlzLmZybS5wZXJtWzBdLnN1Ym1pdCAmJlxuXHRcdFx0dGhpcy5mcm0uZG9jLl9fdW5zYXZlZFxuXHRcdCk7XG5cdH1cblx0Y2FuX2NhbmNlbCgpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfZG9jc3RhdHVzKCkgPT09IDEgJiYgdGhpcy5mcm0ucGVybVswXS5jYW5jZWwgJiYgIXRoaXMucmVhZF9vbmx5O1xuXHR9XG5cdGNhbl9hbWVuZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfZG9jc3RhdHVzKCkgPT09IDIgJiYgdGhpcy5mcm0ucGVybVswXS5hbWVuZCAmJiAhdGhpcy5yZWFkX29ubHk7XG5cdH1cblx0aGFzX3dvcmtmbG93KCkge1xuXHRcdGlmICh0aGlzLl9oYXNfd29ya2Zsb3cgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5faGFzX3dvcmtmbG93ID0gZnJhcHBlLmdldF9saXN0KCdXb3JrZmxvdycsIHtcblx0XHRcdFx0ZG9jdW1lbnRfdHlwZTogdGhpcy5mcm0uZG9jdHlwZSxcblx0XHRcdH0pLmxlbmd0aDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2hhc193b3JrZmxvdztcblx0fVxuXHRnZXRfZG9jc3RhdHVzKCkge1xuXHRcdHJldHVybiBjaW50KHRoaXMuZnJtLmRvYy5kb2NzdGF0dXMpO1xuXHR9XG5cdHNob3dfbGlua2VkX3dpdGgoKSB7XG5cdFx0aWYgKCF0aGlzLmZybS5saW5rZWRfd2l0aCkge1xuXHRcdFx0dGhpcy5mcm0ubGlua2VkX3dpdGggPSBuZXcgZnJhcHBlLnVpLmZvcm0uTGlua2VkV2l0aCh7XG5cdFx0XHRcdGZybTogdGhpcy5mcm0sXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0dGhpcy5mcm0ubGlua2VkX3dpdGguc2hvdygpO1xuXHR9XG5cdHNldF9wcmltYXJ5X2FjdGlvbihkaXJ0eSkge1xuXHRcdGlmICghZGlydHkpIHtcblx0XHRcdC8vIGRvbid0IGNsZWFyIGFjdGlvbnMgbWVudSBpZiBkaXJ0eVxuXHRcdFx0dGhpcy5wYWdlLmNsZWFyX3VzZXJfYWN0aW9ucygpO1xuXHRcdH1cblxuXHRcdGxldCBzdGF0dXMgPSB0aGlzLmdldF9hY3Rpb25fc3RhdHVzKCk7XG5cdFx0aWYgKHN0YXR1cykge1xuXHRcdFx0Ly8gV2hlbiBtb3ZpbmcgZnJvbSBhIHBhZ2Ugd2l0aCBzdGF0dXMgYW1lbmQgdG8gYW5vdGhlciBwYWdlIHdpdGggc3RhdHVzIGFtZW5kXG5cdFx0XHQvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIGRvY3VtZW50IGlzIGFscmVhZHkgYW1lbmQgc3BlY2lmaWNhbGx5IGFuZCBoaWRlXG5cdFx0XHQvLyBvciBjbGVhciB0aGUgbWVudSBhY3Rpb25zIGFjY29yZGluZ2x5XG5cblx0XHRcdGlmIChzdGF0dXMgIT09IHRoaXMuY3VycmVudF9zdGF0dXMgJiYgc3RhdHVzID09PSAnQW1lbmQnKSB7XG5cdFx0XHRcdGxldCB7IGRvYyB9ID0gdGhpcy5mcm07XG5cdFx0XHRcdGZyYXBwZVxuXHRcdFx0XHRcdC54Y2FsbCgnZnJhcHBlLmNsaWVudC5pc19kb2N1bWVudF9hbWVuZGVkJywge1xuXHRcdFx0XHRcdFx0ZG9jdHlwZTogZG9jLmRvY3R5cGUsXG5cdFx0XHRcdFx0XHRkb2NuYW1lOiBkb2MubmFtZSxcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC50aGVuKGlzX2FtZW5kZWQgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGlzX2FtZW5kZWQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wYWdlLmNsZWFyX2FjdGlvbnMoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5zZXRfcGFnZV9hY3Rpb25zKHN0YXR1cyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldF9wYWdlX2FjdGlvbnMoc3RhdHVzKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wYWdlLmNsZWFyX2FjdGlvbnMoKTtcblx0XHRcdHRoaXMuY3VycmVudF9zdGF0dXMgPSBudWxsO1xuXHRcdH1cblx0fVxuXHRnZXRfYWN0aW9uX3N0YXR1cygpIHtcblx0XHRsZXQgc3RhdHVzID0gbnVsbDtcblx0XHRpZiAodGhpcy5mcm0ucGFnZS5jdXJyZW50X3ZpZXdfbmFtZSA9PT0gJ3ByaW50JyB8fCB0aGlzLmZybS5oaWRkZW4pIHtcblx0XHRcdHN0YXR1cyA9ICdFZGl0Jztcblx0XHR9IGVsc2UgaWYgKHRoaXMuY2FuX3N1Ym1pdCgpKSB7XG5cdFx0XHRzdGF0dXMgPSAnU3VibWl0Jztcblx0XHR9IGVsc2UgaWYgKHRoaXMuY2FuX3NhdmUoKSkge1xuXHRcdFx0aWYgKCF0aGlzLmZybS5zYXZlX2Rpc2FibGVkKSB7XG5cdFx0XHRcdC8vU2hvdyB0aGUgc2F2ZSBidXR0b24gaWYgdGhlcmUgaXMgbm8gd29ya2Zsb3cgb3IgaWYgdGhlcmUgaXMgYSB3b3JrZmxvdyBhbmQgdGhlcmUgYXJlIGNoYW5nZXNcblx0XHRcdFx0aWYgKHRoaXMuaGFzX3dvcmtmbG93KCkgPyB0aGlzLmZybS5kb2MuX191bnNhdmVkIDogdHJ1ZSkge1xuXHRcdFx0XHRcdHN0YXR1cyA9ICdTYXZlJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy5jYW5fdXBkYXRlKCkpIHtcblx0XHRcdHN0YXR1cyA9ICdVcGRhdGUnO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5jYW5fY2FuY2VsKCkpIHtcblx0XHRcdHN0YXR1cyA9ICdDYW5jZWwnO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5jYW5fYW1lbmQoKSkge1xuXHRcdFx0c3RhdHVzID0gJ0FtZW5kJztcblx0XHR9XG5cdFx0cmV0dXJuIHN0YXR1cztcblx0fVxuXHRzZXRfcGFnZV9hY3Rpb25zKHN0YXR1cykge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX2FjdGlvbnMoKTtcblxuXHRcdGlmIChzdGF0dXMgIT09ICdFZGl0Jykge1xuXHRcdFx0bGV0IHBlcm1fdG9fY2hlY2sgPSB0aGlzLmZybS5hY3Rpb25fcGVybV90eXBlX21hcFtzdGF0dXNdO1xuXHRcdFx0aWYgKCF0aGlzLmZybS5wZXJtWzBdW3Blcm1fdG9fY2hlY2tdKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoc3RhdHVzID09PSAnRWRpdCcpIHtcblx0XHRcdHRoaXMucGFnZS5zZXRfcHJpbWFyeV9hY3Rpb24oXG5cdFx0XHRcdF9fKCdFZGl0JyksXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtZS5mcm0ucGFnZS5zZXRfdmlldygnbWFpbicpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnZWRpdCcsXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSBpZiAoc3RhdHVzID09PSAnQ2FuY2VsJykge1xuXHRcdFx0bGV0IGFkZF9jYW5jZWxfYnV0dG9uID0gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnBhZ2Uuc2V0X3NlY29uZGFyeV9hY3Rpb24oX18oc3RhdHVzKSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdG1lLmZybS5zYXZlY2FuY2VsKHRoaXMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0XHRpZiAodGhpcy5oYXNfd29ya2Zsb3coKSkge1xuXHRcdFx0XHRmcmFwcGVcblx0XHRcdFx0XHQueGNhbGwoJ2ZyYXBwZS5tb2RlbC53b3JrZmxvdy5jYW5fY2FuY2VsX2RvY3VtZW50Jywge1xuXHRcdFx0XHRcdFx0ZG9jdHlwZTogdGhpcy5mcm0uZG9jLmRvY3R5cGUsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihjYW5fY2FuY2VsID0+IHtcblx0XHRcdFx0XHRcdGlmIChjYW5fY2FuY2VsKSB7XG5cdFx0XHRcdFx0XHRcdGFkZF9jYW5jZWxfYnV0dG9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhZGRfY2FuY2VsX2J1dHRvbigpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgY2xpY2sgPSB7XG5cdFx0XHRcdFNhdmUoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLmZybS5zYXZlKCdTYXZlJywgbnVsbCwgdGhpcyk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFN1Ym1pdCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbWUuZnJtLnNhdmVzdWJtaXQodGhpcyk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFVwZGF0ZSgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbWUuZnJtLnNhdmUoJ1VwZGF0ZScsIG51bGwsIHRoaXMpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRBbWVuZCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbWUuZnJtLmFtZW5kX2RvYygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fVtzdGF0dXNdO1xuXG5cdFx0XHRsZXQgaWNvbiA9IHtcblx0XHRcdFx0VXBkYXRlOiAnZWRpdCcsXG5cdFx0XHR9W3N0YXR1c107XG5cblx0XHRcdHRoaXMucGFnZS5zZXRfcHJpbWFyeV9hY3Rpb24oX18oc3RhdHVzKSwgY2xpY2ssIGljb24pO1xuXHRcdH1cblxuXHRcdHRoaXMuY3VycmVudF9zdGF0dXMgPSBzdGF0dXM7XG5cdH1cblx0YWRkX3VwZGF0ZV9idXR0b25fb25fZGlydHkoKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHQkKHRoaXMuZnJtLndyYXBwZXIpLm9uKCdkaXJ0eScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdG1lLnNob3dfdGl0bGVfYXNfZGlydHkoKTtcblxuXHRcdFx0Ly8gY2xlYXIgd29ya2Zsb3cgYWN0aW9uc1xuXHRcdFx0bWUuZnJtLnBhZ2UuY2xlYXJfYWN0aW9uc19tZW51KCk7XG5cblx0XHRcdC8vIGVuYWJsZSBzYXZlIGFjdGlvblxuXHRcdFx0aWYgKCFtZS5mcm0uc2F2ZV9kaXNhYmxlZCkge1xuXHRcdFx0XHRtZS5zZXRfcHJpbWFyeV9hY3Rpb24odHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0c2hvd190aXRsZV9hc19kaXJ0eSgpIHtcblx0XHRpZiAodGhpcy5mcm0uc2F2ZV9kaXNhYmxlZCAmJiAhdGhpcy5mcm0uc2V0X2RpcnR5KSB7IHJldHVybjsgfVxuXG5cdFx0aWYgKHRoaXMuZnJtLmlzX2RpcnR5KCkpIHtcblx0XHRcdHRoaXMucGFnZS5zZXRfaW5kaWNhdG9yKF9fKCdOb3QgU2F2ZWQnKSwgJ29yYW5nZScpO1xuXHRcdH1cblxuXHRcdCQodGhpcy5mcm0ud3JhcHBlcikuYXR0cignZGF0YS1zdGF0ZScsIHRoaXMuZnJtLmlzX2RpcnR5KCkgPyAnZGlydHknIDogJ2NsZWFuJyk7XG5cdH1cblxuXHRzaG93X2p1bXBfdG9fZmllbGRfZGlhbG9nKCkge1xuXHRcdGxldCB2aXNpYmxlX2ZpZWxkc19maWx0ZXIgPSBmID0+XG5cdFx0XHQhWydTZWN0aW9uIEJyZWFrJywgJ0NvbHVtbiBCcmVhaycsICdUYWIgQnJlYWsnXS5pbmNsdWRlcyhmLmRmLmZpZWxkdHlwZSkgJiZcblx0XHRcdCFmLmRmLmhpZGRlbiAmJlxuXHRcdFx0Zi5kaXNwX3N0YXR1cyAhPT0gJ05vbmUnO1xuXG5cdFx0bGV0IGZpZWxkcyA9IHRoaXMuZnJtLmZpZWxkc1xuXHRcdFx0LmZpbHRlcih2aXNpYmxlX2ZpZWxkc19maWx0ZXIpXG5cdFx0XHQubWFwKGYgPT4gKHsgbGFiZWw6IF9fKGYuZGYubGFiZWwpLCB2YWx1ZTogZi5kZi5maWVsZG5hbWUgfSkpO1xuXG5cdFx0bGV0IGRpYWxvZyA9IG5ldyBmcmFwcGUudWkuRGlhbG9nKHtcblx0XHRcdHRpdGxlOiBfXygnSnVtcCB0byBmaWVsZCcpLFxuXHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdBdXRvY29tcGxldGUnLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ2ZpZWxkbmFtZScsXG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdTZWxlY3QgRmllbGQnKSxcblx0XHRcdFx0XHRvcHRpb25zOiBmaWVsZHMsXG5cdFx0XHRcdFx0cmVxZDogMSxcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0XHRwcmltYXJ5X2FjdGlvbl9sYWJlbDogX18oJ0dvJyksXG5cdFx0XHRwcmltYXJ5X2FjdGlvbjogKHsgZmllbGRuYW1lIH0pID0+IHtcblx0XHRcdFx0ZGlhbG9nLmhpZGUoKTtcblx0XHRcdFx0dGhpcy5mcm0uc2Nyb2xsX3RvX2ZpZWxkKGZpZWxkbmFtZSk7XG5cdFx0XHR9LFxuXHRcdFx0YW5pbWF0ZTogZmFsc2UsXG5cdFx0fSk7XG5cblx0XHRkaWFsb2cuc2hvdygpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xiYXI7XG4iLCAiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb01hbmFnZXIge1xuXHRjb25zdHJ1Y3Rvcih7IGZybSB9KSB7XG5cdFx0dGhpcy5mcm0gPSBmcm07XG5cdFx0dGhpcy51bmRvX3N0YWNrID0gW107XG5cdFx0dGhpcy5yZWRvX3N0YWNrID0gW107XG5cdH1cblx0cmVjb3JkX2NoYW5nZSh7IGZpZWxkbmFtZSwgb2xkX3ZhbHVlLCBuZXdfdmFsdWUsIGRvY3R5cGUsIGRvY25hbWUsIGlzX2NoaWxkIH0pIHtcblx0XHRpZiAob2xkX3ZhbHVlID09IG5ld192YWx1ZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMudW5kb19zdGFjay5wdXNoKHtcblx0XHRcdGZpZWxkbmFtZSxcblx0XHRcdG9sZF92YWx1ZSxcblx0XHRcdG5ld192YWx1ZSxcblx0XHRcdGRvY3R5cGUsXG5cdFx0XHRkb2NuYW1lLFxuXHRcdFx0aXNfY2hpbGQsXG5cdFx0fSk7XG5cdH1cblxuXHRlcmFzZV9oaXN0b3J5KCkge1xuXHRcdHRoaXMudW5kb19zdGFjayA9IFtdO1xuXHRcdHRoaXMucmVkb19zdGFjayA9IFtdO1xuXHR9XG5cblx0dW5kbygpIHtcblx0XHRjb25zdCBjaGFuZ2UgPSB0aGlzLnVuZG9fc3RhY2sucG9wKCk7XG5cdFx0aWYgKGNoYW5nZSkge1xuXHRcdFx0dGhpcy5fYXBwbHlfY2hhbmdlKGNoYW5nZSk7XG5cdFx0XHR0aGlzLl9wdXNoX3JldmVyc2VfZW50cnkoY2hhbmdlLCB0aGlzLnJlZG9fc3RhY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9zaG93X2FsZXJ0KF9fKCdOb3RoaW5nIGxlZnQgdG8gdW5kbycpKTtcblx0XHR9XG5cdH1cblxuXHRyZWRvKCkge1xuXHRcdGNvbnN0IGNoYW5nZSA9IHRoaXMucmVkb19zdGFjay5wb3AoKTtcblx0XHRpZiAoY2hhbmdlKSB7XG5cdFx0XHR0aGlzLl9hcHBseV9jaGFuZ2UoY2hhbmdlKTtcblx0XHRcdHRoaXMuX3B1c2hfcmV2ZXJzZV9lbnRyeShjaGFuZ2UsIHRoaXMudW5kb19zdGFjayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3Nob3dfYWxlcnQoX18oJ05vdGhpbmcgbGVmdCB0byByZWRvJykpO1xuXHRcdH1cblx0fVxuXG5cdF9wdXNoX3JldmVyc2VfZW50cnkoY2hhbmdlLCBzdGFjaykge1xuXHRcdHN0YWNrLnB1c2goe1xuXHRcdFx0Li4uY2hhbmdlLFxuXHRcdFx0bmV3X3ZhbHVlOiBjaGFuZ2Uub2xkX3ZhbHVlLFxuXHRcdFx0b2xkX3ZhbHVlOiBjaGFuZ2UubmV3X3ZhbHVlLFxuXHRcdH0pO1xuXHR9XG5cblx0X2FwcGx5X2NoYW5nZShjaGFuZ2UpIHtcblx0XHRpZiAoY2hhbmdlLmlzX2NoaWxkKSB7XG5cdFx0XHRmcmFwcGUubW9kZWwuc2V0X3ZhbHVlKFxuXHRcdFx0XHRjaGFuZ2UuZG9jdHlwZSxcblx0XHRcdFx0Y2hhbmdlLmRvY25hbWUsXG5cdFx0XHRcdGNoYW5nZS5maWVsZG5hbWUsXG5cdFx0XHRcdGNoYW5nZS5vbGRfdmFsdWVcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZnJtLnNldF92YWx1ZShjaGFuZ2UuZmllbGRuYW1lLCBjaGFuZ2Uub2xkX3ZhbHVlKTtcblx0XHRcdHRoaXMuZnJtLnNjcm9sbF90b19maWVsZChjaGFuZ2UuZmllbGRuYW1lLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0X3Nob3dfYWxlcnQobXNnKSB7XG5cdFx0Ly8gcmVkdWNlIGR1cmF0aW9uXG5cdFx0Ly8ga2V5Ym9hcmQgaW50ZXJhY3Rpb25zIHNob3VsZG4ndCBoYXZlIGxvbmcgcnVubmluZyBhbm5veWluZyB0b2FzdHNcblx0XHRmcmFwcGUuc2hvd19hbGVydChtc2csIDMpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgTGF5b3V0IGZyb20gJy4nO1xuXG5pbXBvcnQgdHlwZSBDb2x1bW4gZnJvbSAnLi9Db2x1bW4nO1xuXG5jbGFzcyBTZWN0aW9uIHtcblx0Y29uc3RydWN0b3IocGFyZW50OiBKUXVlcnk8SFRNTEVsZW1lbnQ+LCBkZjogYW55LCBjYXJkX2xheW91dDogYm9vbGVhbiwgbGF5b3V0OiBMYXlvdXQpIHtcblx0XHR0aGlzLmxheW91dCA9IGxheW91dDtcblx0XHR0aGlzLmNhcmRfbGF5b3V0ID0gY2FyZF9sYXlvdXQ7XG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG5cdFx0dGhpcy5kZiA9IGRmIHx8IHt9O1xuXHRcdHRoaXMuY29sdW1ucyA9IFtdO1xuXHRcdHRoaXMuZmllbGRzX2xpc3QgPSBbXTtcblx0XHR0aGlzLmZpZWxkc19kaWN0ID0ge307XG5cblx0XHR0aGlzLm1ha2UoKTtcblxuXHRcdGlmIChcblx0XHRcdHRoaXMuZGYubGFiZWwgJiZcblx0XHRcdHRoaXMuZGYuY29sbGFwc2libGUgJiZcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke2RmLmNzc19jbGFzc30tY2xvc2VkYClcblx0XHQpIHtcblx0XHRcdHRoaXMuY29sbGFwc2UoKTtcblx0XHR9XG5cblx0XHR0aGlzLnJvdyA9IHtcblx0XHRcdHdyYXBwZXI6IHRoaXMud3JhcHBlcixcblx0XHR9O1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuXHRtYWtlKCkge1xuXHRcdGxldCBtYWtlX2NhcmQgPSB0aGlzLmNhcmRfbGF5b3V0O1xuXHRcdHRoaXMud3JhcHBlciA9ICQoYDxkaXYgY2xhc3M9XCJyb3dcblx0XHRcdFx0JHt0aGlzLmRmLmlzX2Rhc2hib2FyZF9zZWN0aW9uID8gJ2Zvcm0tZGFzaGJvYXJkLXNlY3Rpb24nIDogJ2Zvcm0tc2VjdGlvbid9XG5cdFx0XHRcdCR7bWFrZV9jYXJkID8gJ2NhcmQtc2VjdGlvbicgOiAnJ31cIiBkYXRhLWZpZWxkbmFtZT1cIiR7dGhpcy5kZi5maWVsZG5hbWV9XCI+XG5cdFx0XHRgKS5hcHBlbmRUbyh0aGlzLnBhcmVudCk7XG5cblx0XHRpZiAodGhpcy5kZikge1xuXHRcdFx0aWYgKHRoaXMuZGYubGFiZWwpIHtcblx0XHRcdFx0dGhpcy5tYWtlX2hlYWQoKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLmRmLmRlc2NyaXB0aW9uKSB7XG5cdFx0XHRcdHRoaXMuZGVzY3JpcHRpb25fd3JhcHBlciA9ICQoXG5cdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJjb2wtc20tMTIgZm9ybS1zZWN0aW9uLWRlc2NyaXB0aW9uXCI+XG5cdFx0XHRcdFx0XHQke19fKHRoaXMuZGYuZGVzY3JpcHRpb24pfVxuXHRcdFx0XHRcdDwvZGl2PmAsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmRlc2NyaXB0aW9uX3dyYXBwZXIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuZGYuY3NzX2NsYXNzKSB7XG5cdFx0XHRcdHRoaXMud3JhcHBlci5hZGRDbGFzcyh0aGlzLmRmLmNzc19jbGFzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5kZi5oaWRlX2JvcmRlcikge1xuXHRcdFx0XHR0aGlzLndyYXBwZXIudG9nZ2xlQ2xhc3MoJ2hpZGUtYm9yZGVyJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5ib2R5ID0gJCgnPGRpdiBjbGFzcz1cInNlY3Rpb24tYm9keVwiPicpLmFwcGVuZFRvKHRoaXMud3JhcHBlcik7XG5cblx0XHRpZiAodGhpcy5kZi5ib2R5X2h0bWwpIHtcblx0XHRcdHRoaXMuYm9keS5hcHBlbmQodGhpcy5kZi5ib2R5X2h0bWwpO1xuXHRcdH1cblx0fVxuXG5cdG1ha2VfaGVhZCgpIHtcblx0XHR0aGlzLmhlYWQgPSAkKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRcIj5cblx0XHRcdFx0JHtfXyh0aGlzLmRmLmxhYmVsKX1cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJtbC0yIGNvbGxhcHNlLWluZGljYXRvciBtYi0xXCI+PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0YCk7XG5cblx0XHR0aGlzLmhlYWQuYXBwZW5kVG8odGhpcy53cmFwcGVyKTtcblx0XHR0aGlzLmluZGljYXRvciA9IHRoaXMuaGVhZC5maW5kKCcuY29sbGFwc2UtaW5kaWNhdG9yJyk7XG5cdFx0dGhpcy5pbmRpY2F0b3IuaGlkZSgpO1xuXG5cdFx0aWYgKHRoaXMuZGYuY29sbGFwc2libGUpIHtcblx0XHRcdC8vIHNob3cgLyBoaWRlIGJhc2VkIG9uIHN0YXR1c1xuXHRcdFx0dGhpcy5jb2xsYXBzZV9saW5rID0gdGhpcy5oZWFkLm9uKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0dGhpcy5jb2xsYXBzZSgpO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnNldF9pY29uKCk7XG5cdFx0XHR0aGlzLmluZGljYXRvci5zaG93KCk7XG5cdFx0fVxuXHR9XG5cblx0YWRkX2ZpZWxkKGZpZWxkb2JqOiBhbnkpIHtcblx0XHR0aGlzLmZpZWxkc19saXN0LnB1c2goZmllbGRvYmopO1xuXHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRvYmouZmllbGRuYW1lXSA9IGZpZWxkb2JqO1xuXHRcdGZpZWxkb2JqLnNlY3Rpb24gPSB0aGlzO1xuXHR9XG5cblx0cmVwbGFjZV9maWVsZChmaWVsZG5hbWUsIGZpZWxkb2JqKSB7XG5cdFx0aWYgKHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXT8uZGYpIHtcblx0XHRcdGNvbnN0IG9sZmxkb2JqID0gdGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdO1xuXHRcdFx0Y29uc3QgaWR4ID0gdGhpcy5maWVsZHNfbGlzdC5maW5kSW5kZXgoZSA9PiBlID09IG9sZmxkb2JqKTtcblx0XHRcdHRoaXMuZmllbGRzX2xpc3Quc3BsaWNlKGlkeCwgMSwgZmllbGRvYmopO1xuXHRcdFx0dGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdID0gZmllbGRvYmo7XG5cdFx0XHRmaWVsZG9iai5zZWN0aW9uID0gdGhpcztcblx0XHR9XG5cdH1cblx0cmVmcmVzaChoaWRlPzogYm9vbGVhbikge1xuXHRcdGlmICghdGhpcy5kZikgeyByZXR1cm47IH1cblx0XHQvLyBoaWRlIGlmIGV4cGxpY2l0bHkgaGlkZGVuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdFx0aGlkZSA9IGhpZGUgfHwgdGhpcy5kZi5oaWRkZW4gfHwgdGhpcy5kZi5oaWRkZW5fZHVlX3RvX2RlcGVuZGVuY3k7XG5cdFx0dGhpcy53cmFwcGVyLnRvZ2dsZUNsYXNzKCdoaWRlLWNvbnRyb2wnLCBCb29sZWFuKGhpZGUpKTtcblx0fVxuXG5cdGNvbGxhcHNlKGhpZGUpIHtcblx0XHQvLyB1bmtub3duIGVkZ2UgY2FzZVxuXHRcdGlmICghKHRoaXMuaGVhZCAmJiB0aGlzLmJvZHkpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGhpZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aGlkZSA9ICF0aGlzLmJvZHkuaGFzQ2xhc3MoJ2hpZGUnKTtcblx0XHR9XG5cblx0XHR0aGlzLmJvZHkudG9nZ2xlQ2xhc3MoJ2hpZGUnLCBoaWRlKTtcblx0XHR0aGlzLmhlYWQgJiYgdGhpcy5oZWFkLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCBoaWRlKTtcblxuXHRcdHRoaXMuc2V0X2ljb24oaGlkZSk7XG5cblx0XHRmb3IgKGNvbnN0IGYgb2YgdGhpcy5maWVsZHNfbGlzdCkgeyBmLm9uX3NlY3Rpb25fY29sbGFwc2UgJiYgZi5vbl9zZWN0aW9uX2NvbGxhcHNlKGhpZGUpOyB9XG5cblx0XHQvLyBzYXZlIHN0YXRlIGZvciBuZXh0IHJlbG9hZCAoJycgaXMgZmFsc3kpXG5cdFx0aWYgKHRoaXMuZGYuY3NzX2NsYXNzKVxuXHRcdHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7dGhpcy5kZi5jc3NfY2xhc3N9LWNsb3NlZGAsIGhpZGUgPyAnMScgOiAnJyk7IH1cblx0fVxuXG5cdHNldF9pY29uKGhpZGUpIHtcblx0XHRsZXQgaW5kaWNhdG9yX2ljb24gPSBoaWRlID8gJ2Rvd24nIDogJ3VwLWxpbmUnO1xuXHRcdHRoaXMuaW5kaWNhdG9yICYmIHRoaXMuaW5kaWNhdG9yLmh0bWwoZnJhcHBlLnV0aWxzLmljb24oaW5kaWNhdG9yX2ljb24sICdzbScsICdtYi0xJykpO1xuXHR9XG5cblx0aXNfY29sbGFwc2VkKCkge1xuXHRcdHJldHVybiB0aGlzLmJvZHkuaGFzQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdGhhc19taXNzaW5nX21hbmRhdG9yeSgpIHtcblx0XHRsZXQgbWlzc2luZ19tYW5kYXRvcnkgPSBmYWxzZTtcblx0XHRmb3IgKGxldCBqID0gMCwgbCA9IHRoaXMuZmllbGRzX2xpc3QubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG5cdFx0XHRjb25zdCBzZWN0aW9uX2RmID0gdGhpcy5maWVsZHNfbGlzdFtqXS5kZjtcblx0XHRcdGlmIChzZWN0aW9uX2RmLnJlcWQgJiYgdGhpcy5sYXlvdXQuZG9jW3NlY3Rpb25fZGYuZmllbGRuYW1lXSA9PSBudWxsKSB7XG5cdFx0XHRcdG1pc3NpbmdfbWFuZGF0b3J5ID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBtaXNzaW5nX21hbmRhdG9yeTtcblx0fVxuXG5cdGhpZGUoKSB7XG5cdFx0dGhpcy5vbl9zZWN0aW9uX3RvZ2dsZShmYWxzZSk7XG5cdH1cblxuXHRzaG93KCkge1xuXHRcdHRoaXMub25fc2VjdGlvbl90b2dnbGUodHJ1ZSk7XG5cdH1cblxuXHRvbl9zZWN0aW9uX3RvZ2dsZShzaG93KSB7XG5cdFx0dGhpcy53cmFwcGVyLnRvZ2dsZUNsYXNzKCdoaWRlLWNvbnRyb2wnLCAhc2hvdyk7XG5cdFx0Ly8gdGhpcy5vbl9zZWN0aW9uX3RvZ2dsZSAmJiB0aGlzLm9uX3NlY3Rpb25fdG9nZ2xlKHNob3cpO1xuXHR9XG59XG5pbnRlcmZhY2UgU2VjdGlvbiB7XG5cdGNhcmRfbGF5b3V0OiBib29sZWFuO1xuXHRmaWVsZHNfZGljdDogUmVjb3JkPHN0cmluZywgYW55Pjtcblx0ZmllbGRzX2xpc3Q6IGFueVtdO1xuXHRsYXlvdXQ6IExheW91dDtcblx0ZGY6IGFueTtcblx0Y29sdW1uczogQ29sdW1uW107XG5cdGJvZHk6IEpRdWVyeTtcblx0d3JhcHBlcjogSlF1ZXJ5O1xufVxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiIsICJpbXBvcnQgdHlwZSBGb3JtIGZyb20gJy4uL0Zvcm0nO1xuXG5pbXBvcnQgdHlwZSBMYXlvdXQgZnJvbSAnLi9pbmRleCc7XG5cbmludGVyZmFjZSBERiB7XG5cdGxhYmVsPzogc3RyaW5nO1xuXHRmaWVsZG5hbWU/OiBzdHJpbmcsXG5cdGFjdGl2ZT86IGFueVxuXHRoaWRkZW4/OiBhbnlcblx0aGlkZGVuX2R1ZV90b19kZXBlbmRlbmN5PzogYW55XG5cdHBlcm1sZXZlbD86IGFueVxuXHRzaG93X2Rhc2hib2FyZD86IGFueVxuXG59XG5jbGFzcyBUYWIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRsYXlvdXQ6IExheW91dCxcblx0XHRkZjogREYsXG5cdFx0ZnJtOiBGb3JtLFxuXHRcdHRhYl9saW5rX2NvbnRhaW5lcjogSlF1ZXJ5LFxuXHRcdHRhYnNfY29udGVudDogSlF1ZXJ5LFxuXHQpIHtcblx0XHR0aGlzLmxheW91dCA9IGxheW91dDtcblx0XHR0aGlzLmRmID0gZGYgfHwge307XG5cdFx0dGhpcy5mcm0gPSBmcm07XG5cdFx0dGhpcy5kb2N0eXBlID0gdGhpcy5mcm0uZG9jdHlwZTtcblx0XHR0aGlzLmxhYmVsID0gdGhpcy5kZiAmJiB0aGlzLmRmLmxhYmVsO1xuXHRcdHRoaXMudGFiX2xpbmtfY29udGFpbmVyID0gdGFiX2xpbmtfY29udGFpbmVyO1xuXHRcdHRoaXMudGFic19jb250ZW50ID0gdGFic19jb250ZW50O1xuXHRcdHRoaXMuZmllbGRzX2xpc3QgPSBbXTtcblx0XHR0aGlzLmZpZWxkc19kaWN0ID0ge307XG5cdFx0dGhpcy5tYWtlKCk7XG5cdFx0dGhpcy5zZXR1cF9saXN0ZW5lcnMoKTtcblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fVxuXG5cdG1ha2UoKSB7XG5cdFx0Y29uc3QgaWQgPSBgZm9ybS1kZXRhaWwtJHtmcmFwcGUuc2NydWIodGhpcy5kb2N0eXBlLCAnLScpfS0ke3RoaXMuZGYuZmllbGRuYW1lfWA7XG5cdFx0dGhpcy50YWJfbGluayA9ICQoYFxuXHRcdFx0PGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cblx0XHRcdFx0PGEgY2xhc3M9XCJuYXYtbGluayAke3RoaXMuZGYuYWN0aXZlID8gJ2FjdGl2ZScgOiAnJ31cIiBpZD1cIiR7aWR9LXRhYlwiXG5cdFx0XHRcdFx0ZGF0YS10b2dnbGU9XCJ0YWJcIlxuXHRcdFx0XHRcdGRhdGEtZmllbGRuYW1lPVwiJHt0aGlzLmRmLmZpZWxkbmFtZX1cIlxuXHRcdFx0XHRcdGhyZWY9XCIjJHtpZH1cIlxuXHRcdFx0XHRcdHJvbGU9XCJ0YWJcIlxuXHRcdFx0XHRcdGFyaWEtY29udHJvbHM9XCIke3RoaXMubGFiZWx9XCI+XG5cdFx0XHRcdFx0XHQke19fKHRoaXMubGFiZWwpfVxuXHRcdFx0XHQ8L2E+XG5cdFx0XHQ8L2xpPlxuXHRcdGApLmFwcGVuZFRvKHRoaXMudGFiX2xpbmtfY29udGFpbmVyKTtcblxuXHRcdHRoaXMud3JhcHBlciA9ICQoYDxkaXYgY2xhc3M9XCJ0YWItcGFuZSBmYWRlIHNob3cgJHt0aGlzLmRmLmFjdGl2ZSA/ICdhY3RpdmUnIDogJyd9XCJcblx0XHRcdGlkPVwiJHtpZH1cIiByb2xlPVwidGFicGFuZWxcIiBhcmlhLWxhYmVsbGVkYnk9XCIke2lkfS10YWJcIj5gKS5hcHBlbmRUbyh0aGlzLnRhYnNfY29udGVudCk7XG5cdH1cblxuXHRyZWZyZXNoKCkge1xuXHRcdGlmICghdGhpcy5kZikgeyByZXR1cm47IH1cblxuXHRcdC8vIGhpZGUgaWYgZXhwbGljaXRseSBoaWRkZW5cblx0XHRsZXQgaGlkZSA9IHRoaXMuZGYuaGlkZGVuIHx8IHRoaXMuZGYuaGlkZGVuX2R1ZV90b19kZXBlbmRlbmN5O1xuXG5cdFx0Ly8gaGlkZSBpZiBkYXNoYm9hcmQgYW5kIG5vdCBzYXZlZFxuXHRcdGlmICghaGlkZSAmJiB0aGlzLmRmLnNob3dfZGFzaGJvYXJkICYmIHRoaXMuZnJtLmlzX25ldygpKSB7XG5cdFx0XHRoaWRlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBoaWRlIGlmIG5vIHJlYWQgcGVybWlzc2lvblxuXHRcdGlmICghaGlkZSAmJiB0aGlzLmZybSAmJiAhdGhpcy5mcm0uZ2V0X3Blcm0odGhpcy5kZi5wZXJtbGV2ZWwgfHwgMCwgJ3JlYWQnKSkge1xuXHRcdFx0aGlkZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCFoaWRlKSB7XG5cdFx0XHQvLyBzaG93IG9ubHkgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHZpc2liZSBzZWN0aW9uIG9yIGNvbnRyb2xcblx0XHRcdGhpZGUgPSB0cnVlO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR0aGlzLndyYXBwZXIuZmluZChcblx0XHRcdFx0XHQnLmZvcm0tc2VjdGlvbjpub3QoLmhpZGUtY29udHJvbCwgLmVtcHR5LXNlY3Rpb24pLCAuZm9ybS1kYXNoYm9hcmQtc2VjdGlvbjpub3QoLmhpZGUtY29udHJvbCwgLmVtcHR5LXNlY3Rpb24pJyxcblx0XHRcdFx0KS5sZW5ndGhcblx0XHRcdCkge1xuXHRcdFx0XHRoaWRlID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMudG9nZ2xlKCFoaWRlKTtcblx0fVxuXG5cdHRvZ2dsZShzaG93OiBib29sZWFuKSB7XG5cdFx0dGhpcy50YWJfbGluay50b2dnbGVDbGFzcygnaGlkZScsICFzaG93KTtcblx0XHR0aGlzLndyYXBwZXIudG9nZ2xlQ2xhc3MoJ2hpZGUnLCAhc2hvdyk7XG5cdFx0dGhpcy50YWJfbGluay50b2dnbGVDbGFzcygnc2hvdycsIHNob3cpO1xuXHRcdHRoaXMud3JhcHBlci50b2dnbGVDbGFzcygnc2hvdycsIHNob3cpO1xuXHRcdHRoaXMuaGlkZGVuID0gIXNob3c7XG5cdH1cblxuXHRzaG93KCkge1xuXHRcdHRoaXMudGFiX2xpbmsuc2hvdygpO1xuXHR9XG5cblx0aGlkZSgpIHtcblx0XHR0aGlzLnRhYl9saW5rLmhpZGUoKTtcblx0fVxuXHRyZXBsYWNlX2ZpZWxkKGZpZWxkb2JqKSB7XG5cdFx0ZmllbGRvYmoudGFiID0gdGhpcztcblx0fVxuXG5cdGFkZF9maWVsZChmaWVsZG9iaikge1xuXHRcdGZpZWxkb2JqLnRhYiA9IHRoaXM7XG5cdH1cblxuXHRzZXRfYWN0aXZlKCkge1xuXHRcdHRoaXMudGFiX2xpbmsuZmluZCgnLm5hdi1saW5rJykudGFiKCdzaG93Jyk7XG5cdFx0dGhpcy53cmFwcGVyLmFkZENsYXNzKCdzaG93Jyk7XG5cdFx0dGhpcy5mcm0uYWN0aXZlX3RhYiA9IHRoaXM7XG5cdH1cblxuXHRpc19hY3RpdmUoKSB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlci5oYXNDbGFzcygnYWN0aXZlJyk7XG5cdH1cblxuXHRpc19oaWRkZW4oKSB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlci5oYXNDbGFzcygnaGlkZScpICYmIHRoaXMudGFiX2xpbmsuaGFzQ2xhc3MoJ2hpZGUnKTtcblx0fVxuXG5cdHNldHVwX2xpc3RlbmVycygpIHtcblx0XHR0aGlzLnRhYl9saW5rLmZpbmQoJy5uYXYtbGluaycpLm9uKCdzaG93bi5icy50YWInLCAoKSA9PiB7XG5cdFx0XHR0aGlzPy5mcm0uc2V0X2FjdGl2ZV90YWI/Lih0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldHVwX3N3aXRjaF9vbl9ob3ZlcigpIHtcblx0XHR0aGlzLnRhYl9saW5rLm9uKCdkcmFnZW50ZXInLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmFjdGlvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnNldF9hY3RpdmUoKTtcblx0XHRcdH0sIDIwMDApO1xuXHRcdH0pO1xuXHRcdHRoaXMudGFiX2xpbmsub24oJ2RyYWdvdXQnLCAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5hY3Rpb24pIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aW9uKTtcblx0XHRcdFx0dGhpcy5hY3Rpb24gPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbmludGVyZmFjZSBUYWIge1xuXHRsYXlvdXQ6IExheW91dDtcblx0ZGY6IERGO1xuXHRmcm06IEZvcm07XG5cdHRhYl9saW5rX2NvbnRhaW5lcjogSlF1ZXJ5O1xuXHR0YWJzX2NvbnRlbnQ6IEpRdWVyeTtcblx0ZG9jdHlwZTogc3RyaW5nO1xuXHRsYWJlbDogYW55O1xuXHRoaWRkZW4/OiBib29sZWFuXG5cblx0dGFiX2xpbms6IEpRdWVyeTtcblx0d3JhcHBlcjogSlF1ZXJ5O1xuXHRhY3Rpb24/OiBudW1iZXIgfCBudWxsO1xuXG59XG5leHBvcnQgZGVmYXVsdCBUYWI7XG4iLCAiaW1wb3J0IHR5cGUgU2VjdGlvbiBmcm9tICcuL1NlY3Rpb24nO1xuXG5jbGFzcyBDb2x1bW4ge1xuXHRjb25zdHJ1Y3RvcihzZWN0aW9uOiBTZWN0aW9uLCBkZj86IGFueSkge1xuXG5cdFx0dGhpcy5kZiA9IGRmIHx8IHt9O1xuXHRcdHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG5cdFx0dGhpcy5zZWN0aW9uLmNvbHVtbnMucHVzaCh0aGlzKTtcblx0XHR0aGlzLm1ha2UoKTtcblx0XHR0aGlzLnJlc2l6ZV9hbGxfY29sdW1ucygpO1xuXHR9XG5cblx0bWFrZSgpIHtcblx0XHR0aGlzLndyYXBwZXIgPSAkKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWNvbHVtblwiIGRhdGEtZmllbGRuYW1lPVwiJHt0aGlzLmRmLmZpZWxkbmFtZX1cIj5cblx0XHRcdFx0PGZvcm0+XG5cdFx0XHRcdDwvZm9ybT5cblx0XHRcdDwvZGl2PlxuXHRcdGApLmFwcGVuZFRvKHRoaXMuc2VjdGlvbi5ib2R5KTtcblxuXHRcdHRoaXMuZm9ybSA9IHRoaXMud3JhcHBlci5maW5kKCdmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblxuXHRcdGlmICh0aGlzLmRmLmxhYmVsKSB7XG5cdFx0XHQkKGBcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPlxuXHRcdFx0XHRcdCR7X18odGhpcy5kZi5sYWJlbCl9XG5cdFx0XHRcdDwvbGFiZWw+XG5cdFx0XHRgKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO1xuXHRcdH1cblx0fVxuXG5cdHJlc2l6ZV9hbGxfY29sdW1ucygpIHtcblx0XHQvLyBkaXN0cmlidXRlIGFsbCBjb2x1bW5zIGVxdWFsbHlcblx0XHRsZXQgY29sdW1ucyA9IHRoaXMuc2VjdGlvbi53cmFwcGVyLmZpbmQoJy5mb3JtLWNvbHVtbicpLmxlbmd0aDtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRsZXQgY29sc3BhbiA9IGNpbnQoMTIgLyBjb2x1bW5zKTtcblxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdGlmIChjb2x1bW5zID09IDUpIHtcblx0XHRcdGNvbHNwYW4gPSAyMDtcblx0XHR9XG5cblx0XHR0aGlzLnNlY3Rpb24ud3JhcHBlclxuXHRcdFx0LmZpbmQoJy5mb3JtLWNvbHVtbicpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoKVxuXHRcdFx0LmFkZENsYXNzKCdmb3JtLWNvbHVtbicpXG5cdFx0XHQuYWRkQ2xhc3MoYGNvbC1zbS0ke2NvbHNwYW59YCk7XG5cdH1cblxuXHRhZGRfZmllbGQoKSB7IH1cblxuXHRyZWZyZXNoKCkge1xuXHRcdHRoaXMuc2VjdGlvbi5yZWZyZXNoKCk7XG5cdH1cbn1cbmludGVyZmFjZSBDb2x1bW4ge1xuXHRzZWN0aW9uOiBTZWN0aW9uO1xuXHRkZjogYW55O1xuXHR3cmFwcGVyOiBKUXVlcnk7XG5cdGZvcm06IEpRdWVyeTtcbn1cbmV4cG9ydCBkZWZhdWx0IENvbHVtbjtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMgKi9cbmltcG9ydCB0eXBlIHsgV3JpdGFibGVDb21wdXRlZFJlZiB9IGZyb20gJ3Z1ZSc7XG5cbmltcG9ydCB0eXBlIEZvcm0gZnJvbSAnLi4vRm9ybSc7XG5cbmltcG9ydCBTZWN0aW9uIGZyb20gJy4vU2VjdGlvbic7XG5pbXBvcnQgVGFiIGZyb20gJy4vVGFiJztcbmltcG9ydCBDb2x1bW4gZnJvbSAnLi9Db2x1bW4nO1xuY2xhc3MgTGF5b3V0IHtcblx0dmlld3MgPSB7fTtcblx0cGFnZXMgPSBbXTtcblx0dGFiczogVGFiW10gPSBbXTtcblx0c2VjdGlvbnM6IFNlY3Rpb25bXSA9IFtdO1xuXHRwYWdlX2JyZWFrcyA9IFtdO1xuXHRzZWN0aW9uc19kaWN0OiBSZWNvcmQ8c3RyaW5nLCBTZWN0aW9uPiA9IHt9O1xuXHRmaWVsZHNfbGlzdDogKFNlY3Rpb24gfCBmcmFwcGUudWkuZm9ybS5Db250cm9sIHwgQ29sdW1uKVtdID0gW107XG5cdGZpZWxkc19kaWN0OiBSZWNvcmQ8c3RyaW5nLCBTZWN0aW9uIHwgZnJhcHBlLnVpLmZvcm0uQ29udHJvbCB8IENvbHVtbj4gPSB7fTtcblx0c2VjdGlvbl9jb3VudCA9IDA7XG5cdGNvbHVtbl9jb3VudCA9IDA7XG5cdHdpdGhfZGFzaGJvYXJkID0gdHJ1ZTtcblx0Y2FyZF9sYXlvdXQgPSB0cnVlO1xuXHRjdXJyZW50VGFiOiBXcml0YWJsZUNvbXB1dGVkUmVmPGFueT47XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHBhcmVudDogSFRNTEVsZW1lbnQsXG5cdFx0ZG9jdHlwZTogc3RyaW5nLFxuXHRcdGRvY3R5cGVfbGF5b3V0OiB1bmtub3duLFxuXHRcdGZybTogRm9ybSxcblx0XHRjdXJyZW50VGFiOiBXcml0YWJsZUNvbXB1dGVkUmVmPGFueT4sXG5cdCkge1xuXHRcdHRoaXMucGFyZW50ID0gJChwYXJlbnQpO1xuXHRcdHRoaXMuZG9jdHlwZSA9IGRvY3R5cGU7XG5cdFx0dGhpcy5kb2N0eXBlX2xheW91dCA9IGRvY3R5cGVfbGF5b3V0O1xuXHRcdHRoaXMuZnJtID0gZnJtO1xuXHRcdHRoaXMuY3VycmVudFRhYiA9IGN1cnJlbnRUYWI7XG5cdFx0Y29uc3Qgd3JhcHBlciA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1sYXlvdXQnKSBhcyBIVE1MRWxlbWVudDtcblx0XHRjb25zdCBtZXNzYWdlID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLW1lc3NhZ2UnKSBhcyBIVE1MRWxlbWVudDtcblx0XHRjb25zdCBwYWdlID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXBhZ2UnKSBhcyBIVE1MRWxlbWVudDtcblxuXG5cdFx0dGhpcy53cmFwcGVyID0gJCh3cmFwcGVyKTtcblx0XHR0aGlzLm1lc3NhZ2UgPSAkKG1lc3NhZ2UpO1xuXHRcdHRoaXMucGFnZSA9ICQocGFnZSk7XG5cdFx0bWVzc2FnZS5pbm5lckhUTUwgPSAnJztcblx0XHRwYWdlLmlubmVySFRNTCA9ICcnO1xuXG5cdFx0aWYgKCF0aGlzLmZpZWxkcykge1xuXHRcdFx0dGhpcy5maWVsZHMgPSB0aGlzLmdldF9kb2N0eXBlX2ZpZWxkcygpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzX3RhYmJlZF9sYXlvdXQoKSkge1xuXHRcdFx0dGhpcy5zZXR1cF90YWJiZWRfbGF5b3V0KCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZXR1cF90YWJfZXZlbnRzKCk7XG5cdFx0dGhpcy5yZW5kZXIoKTtcblx0XHQvLyBcdThGRDhcdTUzOUZcdTVGNTNcdTUyNERcdTY2M0VcdTc5M0FcdTc2ODQgdGFiXG5cdFx0Y29uc3QgdGFiID0gY3VycmVudFRhYi52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50ID0gdGFiICYmIHRoaXMudGFiX2xpbmtfY29udGFpbmVyPy5bMF0/LnF1ZXJ5U2VsZWN0b3IoYC5uYXYtbGlua1tkYXRhLWZpZWxkbmFtZT0ke3RhYn1dYCk7XG5cdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdCQoY3VycmVudCkudGFiKCdzaG93Jyk7XG5cdFx0fVxuXHR9XG5cblx0Zm9ybVRhYnNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHRhYnNDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHNldHVwX3RhYmJlZF9sYXlvdXQoKSB7XG5cdFx0Y29uc3QgdGFiX2xpbmtfY29udGFpbmVyID0gJCgnPHVsIGNsYXNzPVwibmF2IGZvcm0tdGFic1wiIGlkPVwiZm9ybS10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48L3VsPicpO1xuXHRcdGNvbnN0IHtmb3JtVGFic0xpc3R9ID0gdGhpcztcblx0XHRmb3JtVGFic0xpc3QuY2xhc3NOYW1lID0gJ2Zvcm0tdGFicy1saXN0Jztcblx0XHR0YWJfbGlua19jb250YWluZXIuYXBwZW5kVG8oZm9ybVRhYnNMaXN0KTtcblx0XHQkKGZvcm1UYWJzTGlzdCkuYXBwZW5kVG8odGhpcy5wYWdlKTtcblx0XHR0aGlzLnRhYl9saW5rX2NvbnRhaW5lciA9IHRhYl9saW5rX2NvbnRhaW5lcjtcblx0XHRjb25zdCB7dGFic0NvbnRlbnR9ID0gdGhpcztcblx0XHR0YWJzQ29udGVudC5jbGFzc05hbWUgPSAnZm9ybS10YWItY29udGVudCB0YWItY29udGVudCc7XG5cdFx0dGhpcy50YWJzX2NvbnRlbnQgPSAkKHRhYnNDb250ZW50KS5hcHBlbmRUbyhcblx0XHRcdHRoaXMucGFnZSxcblx0XHQpO1xuXHRcdHRoaXMuc2V0dXBfZXZlbnRzKCk7XG5cdH1cblx0Z2V0X2RvY3R5cGVfZmllbGRzKCkge1xuXHRcdGxldCBmaWVsZHMgPSBbdGhpcy5nZXRfbmV3X25hbWVfZmllbGQoKV07XG5cdFx0aWYgKHRoaXMuZG9jdHlwZV9sYXlvdXQpIHtcblx0XHRcdGZpZWxkcyA9IGZpZWxkcy5jb25jYXQodGhpcy5nZXRfZmllbGRzX2Zyb21fbGF5b3V0KCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmaWVsZHMgPSBmaWVsZHMuY29uY2F0KFxuXHRcdFx0XHRmcmFwcGUubWV0YS5zb3J0X2RvY2ZpZWxkcyhmcmFwcGUubWV0YS5kb2NmaWVsZF9tYXBbdGhpcy5kb2N0eXBlXSksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaWVsZHM7XG5cdH1cblxuXHRnZXRfbmV3X25hbWVfZmllbGQoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHBhcmVudDogdGhpcy5mcm0uZG9jdHlwZSxcblx0XHRcdGZpZWxkdHlwZTogJ0RhdGEnLFxuXHRcdFx0ZmllbGRuYW1lOiAnX19uZXduYW1lJyxcblx0XHRcdHJlcWQ6IDEsXG5cdFx0XHRoaWRkZW46IDEsXG5cdFx0XHRsYWJlbDogX18oJ05hbWUnKSxcblx0XHRcdGdldF9zdGF0dXMoZmllbGQpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGZpZWxkLmZybSAmJlxuXHRcdFx0XHRcdGZpZWxkLmZybS5pc19uZXcoKSAmJlxuXHRcdFx0XHRcdGZpZWxkLmZybS5tZXRhLmF1dG9uYW1lICYmXG5cdFx0XHRcdFx0Wydwcm9tcHQnLCAnbmFtZSddLmluY2x1ZGVzKGZpZWxkLmZybS5tZXRhLmF1dG9uYW1lLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAnV3JpdGUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAnTm9uZSc7XG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblxuXHRnZXRfZmllbGRzX2Zyb21fbGF5b3V0KCkge1xuXHRcdGNvbnN0IGZpZWxkcyA9IFtdO1xuXHRcdGZvciAobGV0IGYgb2YgdGhpcy5kb2N0eXBlX2xheW91dC5maWVsZHMpIHtcblx0XHRcdGNvbnN0IGRvY2ZpZWxkID0gY29weV9kaWN0KGZyYXBwZS5tZXRhLmRvY2ZpZWxkX21hcFt0aGlzLmRvY3R5cGVdW2YuZmllbGRuYW1lXSk7XG5cdFx0XHRkb2NmaWVsZC5sYWJlbCA9IGYubGFiZWw7XG5cdFx0XHRmaWVsZHMucHVzaChkb2NmaWVsZCk7XG5cdFx0fVxuXHRcdHJldHVybiBmaWVsZHM7XG5cdH1cblxuXHRzaG93X21lc3NhZ2UoaHRtbCwgY29sb3IpIHtcblx0XHRpZiAodGhpcy5tZXNzYWdlX2NvbG9yKSB7XG5cdFx0XHQvLyByZW1vdmUgcHJldmlvdXMgY29sb3Jcblx0XHRcdHRoaXMubWVzc2FnZS5yZW1vdmVDbGFzcyh0aGlzLm1lc3NhZ2VfY29sb3IpO1xuXHRcdH1cblx0XHR0aGlzLm1lc3NhZ2VfY29sb3IgPVxuXHRcdFx0Y29sb3IgJiYgWyd5ZWxsb3cnLCAnYmx1ZScsICdyZWQnLCAnZ3JlZW4nLCAnb3JhbmdlJ10uaW5jbHVkZXMoY29sb3IpID8gY29sb3IgOiAnYmx1ZSc7XG5cdFx0aWYgKGh0bWwpIHtcblx0XHRcdGlmIChodG1sLnN1YnN0cigwLCAxKSAhPT0gJzwnKSB7XG5cdFx0XHRcdC8vIHdyYXAgaW4gYSBibG9ja1xuXHRcdFx0XHRodG1sID0gYDxkaXY+JHtodG1sfTwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLm1lc3NhZ2UucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKHRoaXMubWVzc2FnZV9jb2xvcik7XG5cdFx0XHQkKGh0bWwpLmFwcGVuZFRvKHRoaXMubWVzc2FnZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubWVzc2FnZS5lbXB0eSgpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXIobmV3X2ZpZWxkcz86IHR5cGVvZiB0aGlzLmZpZWxkcykge1xuXHRcdGxldCBmaWVsZHMgPSBuZXdfZmllbGRzIHx8IHRoaXMuZmllbGRzO1xuXG5cdFx0dGhpcy5zZWN0aW9uID0gbnVsbDtcblx0XHR0aGlzLmNvbHVtbiA9IG51bGw7XG5cblx0XHRpZiAodGhpcy5ub19vcGVuaW5nX3NlY3Rpb24oKSAmJiAhdGhpcy5pc190YWJiZWRfbGF5b3V0KCkpIHtcblx0XHRcdHRoaXMuZmllbGRzLnVuc2hpZnQoeyBmaWVsZHR5cGU6ICdTZWN0aW9uIEJyZWFrJyB9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5pc190YWJiZWRfbGF5b3V0KCkpIHtcblx0XHRcdC8vIGFkZCBhIHRhYiB3aXRob3V0IGBmaWVsZG5hbWVgIHRvIGF2b2lkIGNvbmZsaWN0c1xuXHRcdFx0bGV0IGRlZmF1bHRfdGFiID0ge1xuXHRcdFx0XHRsYWJlbDogX18oJ0RldGFpbHMnKSxcblx0XHRcdFx0ZmllbGR0eXBlOiAnVGFiIEJyZWFrJyxcblx0XHRcdFx0ZmllbGRuYW1lOiAnX19kZXRhaWxzJyxcblx0XHRcdH07XG5cblx0XHRcdGxldCBmaXJzdF9maWVsZF92aXNpYmxlID0gdGhpcy5maWVsZHMuZmluZChlbGVtZW50ID0+IGVsZW1lbnQuaGlkZGVuID09IGZhbHNlKTtcblx0XHRcdGxldCBmaXJzdF90YWIgPVxuXHRcdFx0XHRmaXJzdF9maWVsZF92aXNpYmxlPy5maWVsZHR5cGUgPT09ICdUYWIgQnJlYWsnID8gZmlyc3RfZmllbGRfdmlzaWJsZSA6IG51bGw7XG5cblx0XHRcdGlmIChmaXJzdF90YWIpIHtcblx0XHRcdFx0Ly8gcmVzaHVmZmxlIF9fbmV3bmFtZSBmaWVsZCB0byBhY2NvbW9kYXRlIHVuZGVyIDFzdCBUYWIgQnJlYWtcblx0XHRcdFx0bGV0IG5ld25hbWVfZmllbGQgPSB0aGlzLmZpZWxkcy5maW5kKGRmID0+IGRmLmZpZWxkbmFtZSA9PT0gJ19fbmV3bmFtZScpO1xuXHRcdFx0XHRpZiAobmV3bmFtZV9maWVsZCAmJiBuZXduYW1lX2ZpZWxkLmdldF9zdGF0dXModGhpcykgPT09ICdXcml0ZScpIHtcblx0XHRcdFx0XHR0aGlzLmZpZWxkcy5zcGxpY2UoMCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5maWVsZHMuc3BsaWNlKDEsIDAsIG5ld25hbWVfZmllbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmZpZWxkcy5zcGxpY2UoMCwgMCwgZGVmYXVsdF90YWIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZGYgb2YgZmllbGRzKSB7XG5cdFx0XHRzd2l0Y2ggKGRmLmZpZWxkdHlwZSkge1xuXHRcdFx0XHRjYXNlICdGb2xkJzpcblx0XHRcdFx0XHR0aGlzLm1ha2VfcGFnZShkZik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1BhZ2UgQnJlYWsnOlxuXHRcdFx0XHRcdHRoaXMubWFrZV9wYWdlX2JyZWFrKCk7XG5cdFx0XHRcdFx0dGhpcy5tYWtlX3NlY3Rpb24oZGYpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdTZWN0aW9uIEJyZWFrJzpcblx0XHRcdFx0XHR0aGlzLm1ha2Vfc2VjdGlvbihkZik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0NvbHVtbiBCcmVhayc6XG5cdFx0XHRcdFx0dGhpcy5tYWtlX2NvbHVtbihkZik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1RhYiBCcmVhayc6XG5cdFx0XHRcdFx0dGhpcy5tYWtlX3RhYihkZik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhpcy5tYWtlX2ZpZWxkKGRmKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRub19vcGVuaW5nX3NlY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdCh0aGlzLmZpZWxkc1swXSAmJiB0aGlzLmZpZWxkc1swXS5maWVsZHR5cGUgIT0gJ1NlY3Rpb24gQnJlYWsnKSB8fCAhdGhpcy5maWVsZHMubGVuZ3RoXG5cdFx0KTtcblx0fVxuXG5cdG5vX29wZW5pbmdfdGFiKCkge1xuXHRcdHJldHVybiAodGhpcy5maWVsZHNbMV0gJiYgdGhpcy5maWVsZHNbMV0uZmllbGR0eXBlICE9ICdUYWIgQnJlYWsnKSB8fCAhdGhpcy5maWVsZHMubGVuZ3RoO1xuXHR9XG5cblx0aXNfdGFiYmVkX2xheW91dCgpIHtcblx0XHRyZXR1cm4gdGhpcy5maWVsZHMuZmluZChmID0+IGYuZmllbGR0eXBlID09PSAnVGFiIEJyZWFrJyk7XG5cdH1cblxuXHRyZXBsYWNlX2ZpZWxkKGZpZWxkbmFtZSwgZGYsIHJlbmRlcikge1xuXHRcdGRmLmZpZWxkbmFtZSA9IGZpZWxkbmFtZTsgLy8gY2hhbmdlIG9mIGZpZWxkbmFtZSBpcyBhdm9pZGVkXG5cdFx0aWYgKHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXSAmJiB0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV0uZGYpIHtcblx0XHRcdGNvbnN0IHByZXZfZmllbGRvYmogPSB0aGlzLmZpZWxkc19kaWN0W2ZpZWxkbmFtZV07XG5cdFx0XHRjb25zdCBmaWVsZG9iaiA9IHRoaXMuaW5pdF9maWVsZChkZiwgcHJldl9maWVsZG9iai5wYXJlbnQsIHJlbmRlcik7XG5cdFx0XHRwcmV2X2ZpZWxkb2JqLiR3cmFwcGVyLnJlcGxhY2VXaXRoKGZpZWxkb2JqLiR3cmFwcGVyKTtcblx0XHRcdGNvbnN0IGlkeCA9IHRoaXMuZmllbGRzX2xpc3QuZmluZEluZGV4KGUgPT4gZSA9PSBwcmV2X2ZpZWxkb2JqKTtcblx0XHRcdHRoaXMuZmllbGRzX2xpc3Quc3BsaWNlKGlkeCwgMSwgZmllbGRvYmopO1xuXHRcdFx0dGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdID0gZmllbGRvYmo7XG5cdFx0XHRmb3IgKGNvbnN0IHNlY3Rpb24gb2YgdGhpcy5zZWN0aW9ucykgeyBzZWN0aW9uLnJlcGxhY2VfZmllbGQoZmllbGRuYW1lLCBmaWVsZG9iaik7IH1cblx0XHRcdHByZXZfZmllbGRvYmoudGFiPy5yZXBsYWNlX2ZpZWxkKGZpZWxkb2JqKTtcblx0XHRcdHRoaXMucmVmcmVzaF9maWVsZHMoW2RmXSk7XG5cdFx0fVxuXHR9XG5cblx0bWFrZV9maWVsZChkZjogYW55LCBjb2xzcGFuPzogbnVtYmVyLCByZW5kZXI/OiBib29sZWFuKSB7XG5cdFx0IXRoaXMuc2VjdGlvbiAmJiB0aGlzLm1ha2Vfc2VjdGlvbigpO1xuXHRcdCF0aGlzLmNvbHVtbiAmJiB0aGlzLm1ha2VfY29sdW1uKCk7XG5cblx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLmNvbHVtbi53cmFwcGVyLmdldCgwKTtcblx0XHRjb25zdCBmaWVsZG9iaiA9IHRoaXMuaW5pdF9maWVsZChkZiwgcGFyZW50LCByZW5kZXIpO1xuXHRcdHRoaXMuZmllbGRzX2xpc3QucHVzaChmaWVsZG9iaik7XG5cdFx0dGhpcy5maWVsZHNfZGljdFtkZi5maWVsZG5hbWVdID0gZmllbGRvYmo7XG5cblx0XHR0aGlzLnNlY3Rpb24hLmFkZF9maWVsZChmaWVsZG9iaik7XG5cdFx0dGhpcy5jb2x1bW4hLmFkZF9maWVsZChmaWVsZG9iaik7XG5cblx0XHRpZiAodGhpcy5jdXJyZW50X3RhYikge1xuXHRcdFx0dGhpcy5jdXJyZW50X3RhYi5hZGRfZmllbGQoZmllbGRvYmopO1xuXHRcdH1cblx0fVxuXG5cdGluaXRfZmllbGQoZGY6IGFueSwgcGFyZW50OiBKUXVlcnk8SFRNTEVsZW1lbnQ+LCByZW5kZXIgPSBmYWxzZSk6IGZyYXBwZS51aS5mb3JtLkNvbnRyb2wge1xuXHRcdGNvbnN0IGZpZWxkb2JqID0gZnJhcHBlLnVpLmZvcm0ubWFrZV9jb250cm9sKHtcblx0XHRcdGRmLFxuXHRcdFx0ZG9jdHlwZTogdGhpcy5kb2N0eXBlLFxuXHRcdFx0cGFyZW50OiBwYXJlbnQsXG5cdFx0XHRmcm06IHRoaXMuZnJtLFxuXHRcdFx0cmVuZGVyX2lucHV0OiByZW5kZXIsXG5cdFx0XHRkb2M6IHRoaXMuZG9jLFxuXHRcdFx0bGF5b3V0OiB0aGlzLFxuXHRcdH0pO1xuXG5cdFx0ZmllbGRvYmoubGF5b3V0ID0gdGhpcztcblx0XHRyZXR1cm4gZmllbGRvYmo7XG5cdH1cblxuXHQvKiogXHU2REZCXHU1MkEwXHU1MjA2XHU5ODc1XHU2ODA3XHU3QjdFIGRpdi5mb3JtLXBhZ2UucGFnZS1icmVhayAqL1xuXHRtYWtlX3BhZ2VfYnJlYWsoKSB7XG5cdFx0dGhpcy5wYWdlID0gJCgnPGRpdiBjbGFzcz1cImZvcm0tcGFnZSBwYWdlLWJyZWFrXCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy53cmFwcGVyKTtcblx0fVxuXG5cdG1ha2VfcGFnZShkZikge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGxldCBoZWFkID0gJChgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1jbGlja2FibGUtc2VjdGlvbiB0ZXh0LWNlbnRlclwiPlxuXHRcdFx0XHQ8YSBjbGFzcz1cImJ0bi1mb2xkIGg2IHRleHQtbXV0ZWRcIj5cblx0XHRcdFx0XHQke19fKCdTaG93IG1vcmUgZGV0YWlscycpfVxuXHRcdFx0XHQ8L2E+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO1xuXG5cdFx0dGhpcy5wYWdlID0gJCgnPGRpdiBjbGFzcz1cImZvcm0tcGFnZSBzZWNvbmQtcGFnZSBoaWRlXCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy53cmFwcGVyKTtcblxuXHRcdHRoaXMuZm9sZF9idG4gPSBoZWFkLmZpbmQoJy5idG4tZm9sZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGxldCBwYWdlID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCk7XG5cdFx0XHRpZiAocGFnZS5oYXNDbGFzcygnaGlkZScpKSB7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2J0bi1mb2xkJykuaHRtbChfXygnSGlkZSBkZXRhaWxzJykpO1xuXHRcdFx0XHRwYWdlLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5zY3JvbGxfdG8oJCh0aGlzKSwgdHJ1ZSwgMzApO1xuXHRcdFx0XHRtZS5mb2xkZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2J0bi1mb2xkJykuaHRtbChfXygnU2hvdyBtb3JlIGRldGFpbHMnKSk7XG5cdFx0XHRcdHBhZ2UuYWRkQ2xhc3MoJ2hpZGUnKTtcblx0XHRcdFx0bWUuZm9sZGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuc2VjdGlvbiA9IG51bGw7XG5cdFx0dGhpcy5mb2xkZWQgPSB0cnVlO1xuXHR9XG5cblx0dW5mb2xkKCkge1xuXHRcdHRoaXMuZm9sZF9idG4udHJpZ2dlcignY2xpY2snKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTUyMUJcdTVFRkFcdTY1QjBcdTc2ODRcdTk4NzVcdTk3NjIgc2VjdGlvblxuXHQgKiBzZWN0aW9uIFx1NTIxQlx1NUVGQVx1NTQwRVx1RkYwQ1x1NEYxQVx1N0Y2RVx1N0E3QSBjb2x1bW5cblx0ICogXHU1MjFCXHU1RUZBXHU4RkM3XHU3QTBCXHU0RTJEXHVGRjBDXHU1OTgyXHU2NzlDXHU1QjU4XHU1NzI4IHRhYiBcdUZGMENcdTUyMTlcdTRGMUFcdTUyMUJcdTVFRkFcdTUyMzAgdGFiIFx1NEUyRFx1RkYwQ1x1NTQyNlx1NTIxOVx1RkYwQ1x1NEYxQVx1NTIxQlx1NUVGQVx1NTIzMCBwYWdlIFx1NEUyRFxuXHQgKi9cblx0bWFrZV9zZWN0aW9uKGRmOiB7XG5cdFx0ZmllbGRuYW1lPzogc3RyaW5nXG5cdFx0ZmllbGR0eXBlPzogc3RyaW5nXG5cdH0gPSB7fSkge1xuXHRcdHRoaXMuc2VjdGlvbl9jb3VudCsrO1xuXHRcdGlmICghZGYuZmllbGRuYW1lKSB7XG5cdFx0XHRkZi5maWVsZG5hbWUgPSBgX19zZWN0aW9uXyR7dGhpcy5zZWN0aW9uX2NvdW50fWA7XG5cdFx0XHRkZi5maWVsZHR5cGUgPSAnU2VjdGlvbiBCcmVhayc7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWN0aW9uID0gbmV3IFNlY3Rpb24oXG5cdFx0XHR0aGlzLmN1cnJlbnRfdGFiPy53cmFwcGVyIHx8IHRoaXMucGFnZSxcblx0XHRcdGRmLFxuXHRcdFx0dGhpcy5jYXJkX2xheW91dCxcblx0XHRcdHRoaXMsXG5cdFx0KTtcblx0XHR0aGlzLnNlY3Rpb25zLnB1c2godGhpcy5zZWN0aW9uKTtcblx0XHR0aGlzLnNlY3Rpb25zX2RpY3RbZGYuZmllbGRuYW1lXSA9IHRoaXMuc2VjdGlvbjtcblxuXHRcdC8vIGFwcGVuZCB0byBsYXlvdXQgZmllbGRzXG5cdFx0aWYgKGRmKSB7XG5cdFx0XHR0aGlzLmZpZWxkc19kaWN0W2RmLmZpZWxkbmFtZV0gPSB0aGlzLnNlY3Rpb247XG5cdFx0XHR0aGlzLmZpZWxkc19saXN0LnB1c2godGhpcy5zZWN0aW9uKTtcblx0XHR9XG5cblx0XHR0aGlzLmNvbHVtbiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogXHU1MjFCXHU1RUZBXHU1MjA2XHU1MjE3XG5cdCAqIFx1NTIxN1x1NEYxQVx1NTIxQlx1NUVGQVx1NTIzMCBzZWN0aW9uIFx1NEUyRFxuXHQgKi9cblx0bWFrZV9jb2x1bW4oZGY6IHtcblx0XHRmaWVsZG5hbWU/OiBzdHJpbmdcblx0XHRmaWVsZHR5cGU/OiBzdHJpbmdcblx0fSA9IHt9KSB7XG5cdFx0dGhpcy5jb2x1bW5fY291bnQrKztcblx0XHRpZiAoIWRmLmZpZWxkbmFtZSkge1xuXHRcdFx0ZGYuZmllbGRuYW1lID0gYF9fY29sdW1uXyR7dGhpcy5zZWN0aW9uX2NvdW50fWA7XG5cdFx0XHRkZi5maWVsZHR5cGUgPSAnQ29sdW1uIEJyZWFrJztcblx0XHR9XG5cblx0XHR0aGlzLmNvbHVtbiA9IG5ldyBDb2x1bW4odGhpcy5zZWN0aW9uISwgZGYpO1xuXHRcdGlmIChkZiAmJiBkZi5maWVsZG5hbWUpIHtcblx0XHRcdHRoaXMuZmllbGRzX2xpc3QucHVzaCh0aGlzLmNvbHVtbik7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBcdTUyMUJcdTVFRkFcdTY1QjBcdTc2ODQgdGFiIFx1OTg3NVx1OTc2MlxuXHQgKiB0YWIgXHU1MjFCXHU1RUZBXHU1NDBFXHVGRjBDXHU0RjFBXHU4MUVBXHU1MkE4XHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0IHNlY3Rpb25cblx0ICovXG5cdG1ha2VfdGFiKGRmKSB7XG5cdFx0dGhpcy5zZWN0aW9uID0gbnVsbDtcblx0XHRsZXQgdGFiID0gbmV3IFRhYih0aGlzLCBkZiwgdGhpcy5mcm0sIHRoaXMudGFiX2xpbmtfY29udGFpbmVyLCB0aGlzLnRhYnNfY29udGVudCk7XG5cdFx0dGhpcy5jdXJyZW50X3RhYiA9IHRhYjtcblx0XHR0aGlzLm1ha2Vfc2VjdGlvbih7IGZpZWxkdHlwZTogJ1NlY3Rpb24gQnJlYWsnIH0pO1xuXHRcdHRoaXMudGFicy5wdXNoKHRhYik7XG5cdFx0cmV0dXJuIHRhYjtcblx0fVxuXG5cdHJlZnJlc2goZG9jKSB7XG5cdFx0aWYgKGRvYykgeyB0aGlzLmRvYyA9IGRvYzsgfVxuXG5cdFx0aWYgKHRoaXMuZnJtKSB7XG5cdFx0XHR0aGlzLndyYXBwZXIuZmluZCgnLmVtcHR5LWZvcm0tYWxlcnQnKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHQvLyBOT1RFIHRoaXMgbWlnaHQgc2VlbSByZWR1bmRhbnQgYXQgZmlyc3QsIGJ1dCBpdCBuZWVkcyB0byBiZSBleGVjdXRlZCB3aGVuIGZybS5yZWZyZXNoX2ZpZWxkcyBpcyBjYWxsZWRcblx0XHR0aGlzLmF0dGFjaF9kb2NfYW5kX2RvY2ZpZWxkcyh0cnVlKTtcblxuXHRcdGlmICh0aGlzLmZybSAmJiB0aGlzLmZybS53cmFwcGVyKSB7XG5cdFx0XHQkKHRoaXMuZnJtLndyYXBwZXIpLnRyaWdnZXIoJ3JlZnJlc2gtZmllbGRzJyk7XG5cdFx0fVxuXG5cdFx0Ly8gZGVwZW5kZW50IGZpZWxkc1xuXHRcdHRoaXMucmVmcmVzaF9kZXBlbmRlbmN5KCk7XG5cblx0XHQvLyByZWZyZXNoIHNlY3Rpb25zXG5cdFx0dGhpcy5yZWZyZXNoX3NlY3Rpb25zKCk7XG5cblx0XHRpZiAodGhpcy5mcm0pIHtcblx0XHRcdC8vIGNvbGxhcHNlIHNlY3Rpb25zXG5cdFx0XHR0aGlzLnJlZnJlc2hfc2VjdGlvbl9jb2xsYXBzZSgpO1xuXHRcdH1cblxuXHRcdGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG5cdFx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lID09ICdJTlBVVCcgJiYgdGhpcy5pc19udW1lcmljX2ZpZWxkX2FjdGl2ZSgpKSB7XG5cdFx0XHRcdGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aXNfbnVtZXJpY19maWVsZF9hY3RpdmUoKSB7XG5cdFx0Y29uc3QgY29udHJvbCA9ICQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuY2xvc2VzdCgnLmZyYXBwZS1jb250cm9sJyk7XG5cdFx0Y29uc3QgeyBmaWVsZHR5cGUgfSA9IGNvbnRyb2wuZGF0YSgpIHx8IHt9O1xuXHRcdHJldHVybiBmcmFwcGUubW9kZWwubnVtZXJpY19maWVsZHR5cGVzLmluY2x1ZGVzKGZpZWxkdHlwZSk7XG5cdH1cblxuXHRyZWZyZXNoX3NlY3Rpb25zKCkge1xuXHRcdC8vIGhpZGUgaW52aXNpYmxlIHNlY3Rpb25zXG5cdFx0dGhpcy53cmFwcGVyLmZpbmQoJy5mb3JtLXNlY3Rpb246bm90KC5oaWRlLWNvbnRyb2wpJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBzZWN0aW9uID0gJCh0aGlzKS5yZW1vdmVDbGFzcygnZW1wdHktc2VjdGlvbiB2aXNpYmxlLXNlY3Rpb24nKTtcblx0XHRcdGlmIChzZWN0aW9uLmZpbmQoJy5mcmFwcGUtY29udHJvbDpub3QoLmhpZGUtY29udHJvbCknKS5sZW5ndGgpIHtcblx0XHRcdFx0c2VjdGlvbi5hZGRDbGFzcygndmlzaWJsZS1zZWN0aW9uJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBub3RoaW5nIHZpc2libGUsIGhpZGUgdGhlIHNlY3Rpb25cblx0XHRcdFx0c2VjdGlvbi5hZGRDbGFzcygnZW1wdHktc2VjdGlvbicpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gcmVmcmVzaCB0YWJzXG5cdFx0dGhpcy5pc190YWJiZWRfbGF5b3V0KCkgJiYgdGhpcy5yZWZyZXNoX3RhYnMoKTtcblx0fVxuXG5cdHJlZnJlc2hfdGFicygpIHtcblx0XHRmb3IgKGxldCB0YWIgb2YgdGhpcy50YWJzKSB7XG5cdFx0XHR0YWIucmVmcmVzaCgpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHZpc2libGVfdGFicyA9IHRoaXMudGFicy5maWx0ZXIodGFiID0+ICF0YWIuaGlkZGVuKTtcblx0XHRpZiAodmlzaWJsZV90YWJzICYmIHZpc2libGVfdGFicy5sZW5ndGggPT0gMSkge1xuXHRcdFx0dmlzaWJsZV90YWJzWzBdLnRhYl9saW5rLnRvZ2dsZUNsYXNzKCdoaWRlIHNob3cnKTtcblx0XHR9XG5cdFx0dGhpcy5zZXRfdGFiX2FzX2FjdGl2ZSgpO1xuXHR9XG5cblx0c2V0X3RhYl9hc19hY3RpdmUoKSB7XG5cdFx0bGV0IGZybV9hY3RpdmVfdGFiID0gdGhpcz8uZnJtLmdldF9hY3RpdmVfdGFiPy4oKTtcblx0XHRpZiAoZnJtX2FjdGl2ZV90YWIpIHtcblx0XHRcdGZybV9hY3RpdmVfdGFiLnNldF9hY3RpdmUoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMudGFicy5sZW5ndGgpIHtcblx0XHRcdC8vIHNldCBmaXJzdCB0YWIgYXMgYWN0aXZlIHdoZW4gb3BlbmluZyBmb3IgZmlyc3QgdGltZSwgb3IgbmV3IGRvY1xuXHRcdFx0bGV0IGZpcnN0X3Zpc2libGVfdGFiID0gdGhpcy50YWJzLmZpbmQodGFiID0+ICF0YWIuaXNfaGlkZGVuKCkpO1xuXHRcdFx0Zmlyc3RfdmlzaWJsZV90YWIgJiYgZmlyc3RfdmlzaWJsZV90YWIuc2V0X2FjdGl2ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHJlZnJlc2hfZmllbGRzKGZpZWxkcykge1xuXHRcdGxldCBmaWVsZG5hbWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiB7XG5cdFx0XHRpZiAoZmllbGQuZmllbGRuYW1lKSB7IHJldHVybiBmaWVsZC5maWVsZG5hbWU7IH1cblx0XHR9KTtcblxuXHRcdHRoaXMuZmllbGRzX2xpc3QubWFwKGZpZWxkb2JqID0+IHtcblx0XHRcdGlmIChmaWVsZG5hbWVzLmluY2x1ZGVzKGZpZWxkb2JqLmRmLmZpZWxkbmFtZSkpIHtcblx0XHRcdFx0ZmllbGRvYmoucmVmcmVzaCgpO1xuXHRcdFx0XHRpZiAoZmllbGRvYmouZGYuZGVmYXVsdCkge1xuXHRcdFx0XHRcdGZpZWxkb2JqLnNldF9pbnB1dChmaWVsZG9iai5kZi5kZWZhdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0YWRkX2ZpZWxkcyhmaWVsZHMpIHtcblx0XHR0aGlzLnJlbmRlcihmaWVsZHMpO1xuXHRcdHRoaXMucmVmcmVzaF9maWVsZHMoZmllbGRzKTtcblx0fVxuXG5cdHJlZnJlc2hfc2VjdGlvbl9jb2xsYXBzZSgpIHtcblx0XHRpZiAoISh0aGlzLnNlY3Rpb25zICYmIHRoaXMuc2VjdGlvbnMubGVuZ3RoKSkgeyByZXR1cm47IH1cblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IHNlY3Rpb24gPSB0aGlzLnNlY3Rpb25zW2ldO1xuXHRcdFx0bGV0IHsgZGYgfSA9IHNlY3Rpb247XG5cdFx0XHRpZiAoZGYgJiYgZGYuY29sbGFwc2libGUpIHtcblx0XHRcdFx0bGV0IGNvbGxhcHNlID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoZGYuY29sbGFwc2libGVfZGVwZW5kc19vbikge1xuXHRcdFx0XHRcdGNvbGxhcHNlID0gIXRoaXMuZXZhbHVhdGVfZGVwZW5kc19vbl92YWx1ZShkZi5jb2xsYXBzaWJsZV9kZXBlbmRzX29uKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb2xsYXBzZSAmJiBzZWN0aW9uLmhhc19taXNzaW5nX21hbmRhdG9yeSgpKSB7XG5cdFx0XHRcdFx0Y29sbGFwc2UgPSBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlY3Rpb24uY29sbGFwc2UoY29sbGFwc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGF0dGFjaF9kb2NfYW5kX2RvY2ZpZWxkcyhyZWZyZXNoKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuZmllbGRzX2xpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRsZXQgZmllbGRvYmogPSB0aGlzLmZpZWxkc19saXN0W2ldO1xuXHRcdFx0aWYgKG1lLmRvYykge1xuXHRcdFx0XHRmaWVsZG9iai5kb2MgPSBtZS5kb2M7XG5cdFx0XHRcdGZpZWxkb2JqLmRvY3R5cGUgPSBtZS5kb2MuZG9jdHlwZTtcblx0XHRcdFx0ZmllbGRvYmouZG9jbmFtZSA9IG1lLmRvYy5uYW1lO1xuXHRcdFx0XHRmaWVsZG9iai5kZiA9XG5cdFx0XHRcdFx0ZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKG1lLmRvYy5kb2N0eXBlLCBmaWVsZG9iai5kZi5maWVsZG5hbWUsIG1lLmRvYy5uYW1lKSB8fFxuXHRcdFx0XHRcdGZpZWxkb2JqLmRmO1xuXHRcdFx0fVxuXHRcdFx0cmVmcmVzaCAmJiBmaWVsZG9iai5kZiAmJiBmaWVsZG9iai5yZWZyZXNoICYmIGZpZWxkb2JqLnJlZnJlc2goKTtcblx0XHR9XG5cdH1cblxuXHRyZWZyZXNoX3NlY3Rpb25fY291bnQoKSB7XG5cdFx0dGhpcy53cmFwcGVyLmZpbmQoJy5zZWN0aW9uLWNvdW50LWxhYmVsOnZpc2libGUnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG5cdFx0XHQkKHRoaXMpLmh0bWwoaSArIDEpO1xuXHRcdH0pO1xuXHR9XG5cblx0c2V0dXBfZXZlbnRzKCkge1xuXG5cdFx0bGV0IGxhc3Rfc2Nyb2xsID0gMDtcblx0XHRjb25zdCB7Zm9ybVRhYnNMaXN0fSA9IHRoaXM7XG5cdFx0bGV0IHt0YWJzQ29udGVudH0gPSB0aGlzO1xuXG5cdFx0Y29uc3QgZXZlbnRMaXN0ZW5lciA9IGZyYXBwZS51dGlscy50aHJvdHRsZSgoKSA9PiB7XG5cdFx0XHRsZXQgY3VycmVudF9zY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuXHRcdFx0aWYgKGN1cnJlbnRfc2Nyb2xsID4gMCAmJiBsYXN0X3Njcm9sbCA8PSBjdXJyZW50X3Njcm9sbCkge1xuXHRcdFx0XHRmb3JtVGFic0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS10YWJzLXN0aWNreS1kb3duJyk7XG5cdFx0XHRcdGZvcm1UYWJzTGlzdC5jbGFzc0xpc3QuYWRkKCdmb3JtLXRhYnMtc3RpY2t5LXVwJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3JtVGFic0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS10YWJzLXN0aWNreS11cCcpO1xuXHRcdFx0XHRmb3JtVGFic0xpc3QuY2xhc3NMaXN0LmFkZCgnZm9ybS10YWJzLXN0aWNreS1kb3duJyk7XG5cdFx0XHR9XG5cdFx0XHRsYXN0X3Njcm9sbCA9IGN1cnJlbnRfc2Nyb2xsO1xuXHRcdH0sIDUwMCk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGV2ZW50TGlzdGVuZXIpO1xuXHRcdC8vIFRPRE86IFx1NTg5RVx1NTJBMFx1NzlGQlx1OTY2NFx1OTAzQlx1OEY5MVxuXG5cblx0XHR0aGlzLnRhYl9saW5rX2NvbnRhaW5lci5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgJy5uYXYtbGluaycsIGUgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdGNvbnN0IGVsID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50O1xuXHRcdFx0JChlbCkudGFiKCdzaG93Jyk7XG5cdFx0XHQvLyBcdThCQjBcdTRGNEZcdTVGNTNcdTUyNERcdTY2M0VcdTc5M0FcdTc2ODQgdGFiXG5cdFx0XHRjb25zdCB7IGZpZWxkbmFtZSB9ID0gZWwuZGF0YXNldDtcblx0XHRcdGlmIChmaWVsZG5hbWUpIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50VGFiLnZhbHVlID0gZmllbGRuYW1lO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRhYnNDb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCA8IDEwMCkge1xuXHRcdFx0XHR0YWJzQ29udGVudC5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHQkKCcucGFnZS1oZWFkJykuY3NzKCd0b3AnLCAnLTE1cHgnKTtcblx0XHRcdFx0XHRmb3JtVGFic0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS10YWJzLXN0aWNreS1kb3duJyk7XG5cdFx0XHRcdFx0Zm9ybVRhYnNMaXN0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tdGFicy1zdGlja3ktdXAnKTtcblx0XHRcdFx0fSwgMyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRzZXR1cF90YWJfZXZlbnRzKCkge1xuXHRcdHRoaXMud3JhcHBlci5vbigna2V5ZG93bicsIGV2ID0+IHtcblx0XHRcdGlmIChldi53aGljaCA9PSA5KSB7XG5cdFx0XHRcdGxldCBjdXJyZW50ID0gJChldi50YXJnZXQpO1xuXHRcdFx0XHRsZXQgZG9jdHlwZSA9IGN1cnJlbnQuYXR0cignZGF0YS1kb2N0eXBlJyk7XG5cdFx0XHRcdGxldCBmaWVsZG5hbWUgPSBjdXJyZW50LmF0dHIoJ2RhdGEtZmllbGRuYW1lJyk7XG5cdFx0XHRcdGlmIChkb2N0eXBlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuaGFuZGxlX3RhYihkb2N0eXBlLCBmaWVsZG5hbWUsIGV2LnNoaWZ0S2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0aGFuZGxlX3RhYihkb2N0eXBlOiBzdHJpbmcsIGZpZWxkbmFtZTogc3RyaW5nLCBzaGlmdDogYm9vbGVhbikge1xuXHRcdGxldCBncmlkX3JvdyA9IG51bGwsXG5cdFx0XHRwcmV2ID0gbnVsbCxcblx0XHRcdGZpZWxkcyA9IHRoaXMuZmllbGRzX2xpc3QsXG5cdFx0XHRmb2N1c2VkID0gZmFsc2U7XG5cblx0XHQvLyBpbiBncmlkXG5cdFx0aWYgKGRvY3R5cGUgIT0gdGhpcy5kb2N0eXBlKSB7XG5cdFx0XHRncmlkX3JvdyA9IHRoaXMuZ2V0X29wZW5fZ3JpZF9yb3coKTtcblx0XHRcdGlmICghZ3JpZF9yb3cgfHwgIWdyaWRfcm93LmxheW91dCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRmaWVsZHMgPSBncmlkX3Jvdy5sYXlvdXQuZmllbGRzX2xpc3Q7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgaSA9IDAsIGxlbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGZpZWxkc1tpXS5kZi5maWVsZG5hbWUgPT0gZmllbGRuYW1lKSB7XG5cdFx0XHRcdGlmIChzaGlmdCkge1xuXHRcdFx0XHRcdGlmIChwcmV2KSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldF9mb2N1cyhwcmV2KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCh0aGlzLnByaW1hcnlfYnV0dG9uKS5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaSA8IGxlbiAtIDEpIHtcblx0XHRcdFx0XHRmb2N1c2VkID0gdGhpcy5mb2N1c19vbl9uZXh0X2ZpZWxkKGksIGZpZWxkcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZm9jdXNlZCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5pc192aXNpYmxlKGZpZWxkc1tpXSkpIHsgcHJldiA9IGZpZWxkc1tpXTsgfVxuXHRcdH1cblxuXHRcdGlmICghZm9jdXNlZCkge1xuXHRcdFx0Ly8gbGFzdCBmaWVsZCBpbiB0aGlzIGdyb3VwXG5cdFx0XHRpZiAoZ3JpZF9yb3cpIHtcblx0XHRcdFx0Ly8gaW4gZ3JpZFxuXHRcdFx0XHRpZiAoZ3JpZF9yb3cuZG9jLmlkeCA9PSBncmlkX3Jvdy5ncmlkLmdyaWRfcm93cy5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBsYXN0IHJvdywgY2xvc2UgaXQgYW5kIGZpbmQgbmV4dCBmaWVsZFxuXHRcdFx0XHRcdGdyaWRfcm93LnRvZ2dsZV92aWV3KGZhbHNlLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRncmlkX3Jvdy5ncmlkLmZybS5sYXlvdXQuaGFuZGxlX3RhYihcblx0XHRcdFx0XHRcdFx0Z3JpZF9yb3cuZ3JpZC5kZi5wYXJlbnQsXG5cdFx0XHRcdFx0XHRcdGdyaWRfcm93LmdyaWQuZGYuZmllbGRuYW1lLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBuZXh0IHJvd1xuXHRcdFx0XHRcdGdyaWRfcm93LmdyaWQuZ3JpZF9yb3dzW2dyaWRfcm93LmRvYy5pZHhdLnRvZ2dsZV92aWV3KHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCFzaGlmdCkge1xuXHRcdFx0XHQvLyBFbmQgb2YgdGFiIG5hdmlnYXRpb25cblx0XHRcdFx0JCh0aGlzLnByaW1hcnlfYnV0dG9uKS5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZvY3VzX29uX25leHRfZmllbGQoc3RhcnRfaWR4LCBmaWVsZHMpIHtcblx0XHQvLyBsb29wIHRvIGZpbmQgbmV4dCBlbGlnaWJsZSBmaWVsZHNcblx0XHRmb3IgKGxldCBpID0gc3RhcnRfaWR4ICsgMSwgbGVuID0gZmllbGRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRsZXQgZmllbGQgPSBmaWVsZHNbaV07XG5cdFx0XHRpZiAodGhpcy5pc192aXNpYmxlKGZpZWxkKSkge1xuXHRcdFx0XHRpZiAoZmllbGQuZGYuZmllbGR0eXBlID09PSAnVGFibGUnKSB7XG5cdFx0XHRcdFx0Ly8gb3BlbiB0YWJsZSBncmlkXG5cdFx0XHRcdFx0aWYgKCEoZmllbGQuZ3JpZC5ncmlkX3Jvd3MgJiYgZmllbGQuZ3JpZC5ncmlkX3Jvd3MubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Ly8gZW1wdHkgZ3JpZCwgYWRkIGEgbmV3IHJvd1xuXHRcdFx0XHRcdFx0ZmllbGQuZ3JpZC5hZGRfbmV3X3JvdygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBzaG93IGdyaWQgcm93IChpZiBleGlzdHMpXG5cdFx0XHRcdFx0ZmllbGQuZ3JpZC5ncmlkX3Jvd3NbMF0uc2hvd19mb3JtKCk7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIWluX2xpc3QoZnJhcHBlLm1vZGVsLm5vX3ZhbHVlX3R5cGUsIGZpZWxkLmRmLmZpZWxkdHlwZSkpIHtcblx0XHRcdFx0XHR0aGlzLnNldF9mb2N1cyhmaWVsZCk7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpc192aXNpYmxlKGZpZWxkKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdGZpZWxkLmRpc3Bfc3RhdHVzID09PSAnV3JpdGUnICYmIGZpZWxkLmRmICYmICdoaWRkZW4nIGluIGZpZWxkLmRmICYmICFmaWVsZC5kZi5oaWRkZW5cblx0XHQpO1xuXHR9XG5cblx0c2V0X2ZvY3VzKGZpZWxkKSB7XG5cdFx0aWYgKGZpZWxkLnRhYikge1xuXHRcdFx0ZmllbGQudGFiLnNldF9hY3RpdmUoKTtcblx0XHR9XG5cdFx0Ly8gbmV4dCBpcyB0YWJsZSwgc2hvdyB0aGUgdGFibGVcblx0XHRpZiAoZmllbGQuZGYuZmllbGR0eXBlID09ICdUYWJsZScpIHtcblx0XHRcdGlmIChmaWVsZC5ncmlkLmdyaWRfcm93cy5sZW5ndGgpIHtcblx0XHRcdFx0ZmllbGQuZ3JpZC5ncmlkX3Jvd3NbMF0udG9nZ2xlX3ZpZXcodHJ1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmaWVsZC5ncmlkLmFkZF9uZXdfcm93KDEpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZmllbGQuZWRpdG9yKSB7XG5cdFx0XHRmaWVsZC5lZGl0b3Iuc2V0X2ZvY3VzKCk7XG5cdFx0fSBlbHNlIGlmIChmaWVsZC4kaW5wdXQpIHtcblx0XHRcdGZpZWxkLiRpbnB1dC5mb2N1cygpO1xuXHRcdH1cblx0fVxuXG5cdGdldF9vcGVuX2dyaWRfcm93KCkge1xuXHRcdHJldHVybiAkKCcuZ3JpZC1yb3ctb3BlbicpLmRhdGEoJ2dyaWRfcm93Jyk7XG5cdH1cblxuXHRyZWZyZXNoX2RlcGVuZGVuY3koKSB7XG5cdFx0LyoqXG5cdFx0XHRSZXNvbHZlIFwiZGVwZW5kc19vblwiIGFuZCBzaG93IC8gaGlkZSBhY2NvcmRpbmdseVxuXHRcdFx0YnVpbGQgZGVwZW5kYW50cycgZGljdGlvbmFyeVxuXHRcdCovXG5cblx0XHRsZXQgaGFzX2RlcCA9IGZhbHNlO1xuXG5cdFx0Y29uc3QgZmllbGRzID0gdGhpcy5maWVsZHNfbGlzdC5jb25jYXQodGhpcy50YWJzKTtcblxuXHRcdGZvciAobGV0IGZrZXkgaW4gZmllbGRzKSB7XG5cdFx0XHRsZXQgZiA9IGZpZWxkc1tma2V5XTtcblx0XHRcdGlmIChmLmRmLmRlcGVuZHNfb24gfHwgZi5kZi5tYW5kYXRvcnlfZGVwZW5kc19vbiB8fCBmLmRmLnJlYWRfb25seV9kZXBlbmRzX29uKSB7XG5cdFx0XHRcdGhhc19kZXAgPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIWhhc19kZXApIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBzaG93IC8gaGlkZSBiYXNlZCBvbiB2YWx1ZXNcblx0XHRmb3IgKGxldCBpID0gZmllbGRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRsZXQgZiA9IGZpZWxkc1tpXTtcblx0XHRcdGYuZ3VhcmRpYW5faGFzX3ZhbHVlID0gdHJ1ZTtcblx0XHRcdGlmIChmLmRmLmRlcGVuZHNfb24pIHtcblx0XHRcdFx0Ly8gZXZhbHVhdGUgZ3VhcmRpYW5cblxuXHRcdFx0XHRmLmd1YXJkaWFuX2hhc192YWx1ZSA9IHRoaXMuZXZhbHVhdGVfZGVwZW5kc19vbl92YWx1ZShmLmRmLmRlcGVuZHNfb24pO1xuXG5cdFx0XHRcdC8vIHNob3cgLyBoaWRlXG5cdFx0XHRcdGlmIChmLmd1YXJkaWFuX2hhc192YWx1ZSkge1xuXHRcdFx0XHRcdGlmIChmLmRmLmhpZGRlbl9kdWVfdG9fZGVwZW5kZW5jeSkge1xuXHRcdFx0XHRcdFx0Zi5kZi5oaWRkZW5fZHVlX3RvX2RlcGVuZGVuY3kgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGYucmVmcmVzaCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICghZi5kZi5oaWRkZW5fZHVlX3RvX2RlcGVuZGVuY3kpIHtcblx0XHRcdFx0XHRmLmRmLmhpZGRlbl9kdWVfdG9fZGVwZW5kZW5jeSA9IHRydWU7XG5cdFx0XHRcdFx0Zi5yZWZyZXNoKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGYuZGYubWFuZGF0b3J5X2RlcGVuZHNfb24pIHtcblx0XHRcdFx0dGhpcy5zZXRfZGVwZW5kYW50X3Byb3BlcnR5KGYuZGYubWFuZGF0b3J5X2RlcGVuZHNfb24sIGYuZGYuZmllbGRuYW1lLCAncmVxZCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZi5kZi5yZWFkX29ubHlfZGVwZW5kc19vbikge1xuXHRcdFx0XHR0aGlzLnNldF9kZXBlbmRhbnRfcHJvcGVydHkoXG5cdFx0XHRcdFx0Zi5kZi5yZWFkX29ubHlfZGVwZW5kc19vbixcblx0XHRcdFx0XHRmLmRmLmZpZWxkbmFtZSxcblx0XHRcdFx0XHQncmVhZF9vbmx5Jyxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnJlZnJlc2hfc2VjdGlvbl9jb3VudCgpO1xuXHR9XG5cblx0c2V0X2RlcGVuZGFudF9wcm9wZXJ0eShjb25kaXRpb24sIGZpZWxkbmFtZSwgcHJvcGVydHkpIHtcblx0XHRsZXQgc2V0X3Byb3BlcnR5ID0gdGhpcy5ldmFsdWF0ZV9kZXBlbmRzX29uX3ZhbHVlKGNvbmRpdGlvbik7XG5cdFx0bGV0IHZhbHVlID0gc2V0X3Byb3BlcnR5ID8gMSA6IDA7XG5cdFx0bGV0IGZvcm1fb2JqO1xuXG5cdFx0aWYgKHRoaXMuZnJtKSB7XG5cdFx0XHRmb3JtX29iaiA9IHRoaXMuZnJtO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5pc19kaWFsb2cgfHwgdGhpcy5kb2N0eXBlID09PSAnV2ViIEZvcm0nKSB7XG5cdFx0XHRmb3JtX29iaiA9IHRoaXM7XG5cdFx0fVxuXHRcdGlmIChmb3JtX29iaikge1xuXHRcdFx0aWYgKHRoaXMuZG9jICYmIHRoaXMuZG9jLnBhcmVudCAmJiB0aGlzLmRvYy5wYXJlbnRmaWVsZCkge1xuXHRcdFx0XHRmb3JtX29iai5zZXR0aW5nX2RlcGVuZGVuY3kgPSB0cnVlO1xuXHRcdFx0XHRmb3JtX29iai5zZXRfZGZfcHJvcGVydHkoXG5cdFx0XHRcdFx0dGhpcy5kb2MucGFyZW50ZmllbGQsXG5cdFx0XHRcdFx0cHJvcGVydHksXG5cdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0dGhpcy5kb2MucGFyZW50LFxuXHRcdFx0XHRcdGZpZWxkbmFtZSxcblx0XHRcdFx0XHR0aGlzLmRvYy5uYW1lLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRmb3JtX29iai5zZXR0aW5nX2RlcGVuZGVuY3kgPSBmYWxzZTtcblx0XHRcdFx0Ly8gcmVmcmVzaCBjaGlsZCBmaWVsZHNcblx0XHRcdFx0dGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdICYmIHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXS5yZWZyZXNoKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3JtX29iai5zZXRfZGZfcHJvcGVydHkoZmllbGRuYW1lLCBwcm9wZXJ0eSwgdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGV2YWx1YXRlX2RlcGVuZHNfb25fdmFsdWUoZXhwcmVzc2lvbikge1xuXHRcdGxldCBvdXQgPSBudWxsO1xuXHRcdGxldCB7ZG9jfSA9IHRoaXM7XG5cblx0XHRpZiAoIWRvYyAmJiB0aGlzLmdldF92YWx1ZXMpIHtcblx0XHRcdGRvYyA9IHRoaXMuZ2V0X3ZhbHVlcyh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIWRvYykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBwYXJlbnQgPSB0aGlzLmZybSA/IHRoaXMuZnJtLmRvYyA6IHRoaXMuZG9jIHx8IG51bGw7XG5cblx0XHRpZiAodHlwZW9mIGV4cHJlc3Npb24gPT09ICdib29sZWFuJykge1xuXHRcdFx0b3V0ID0gZXhwcmVzc2lvbjtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBleHByZXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvdXQgPSBleHByZXNzaW9uKGRvYyk7XG5cdFx0fSBlbHNlIGlmIChleHByZXNzaW9uLnN1YnN0cigwLCA1KSA9PSAnZXZhbDonKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRvdXQgPSBmcmFwcGUudXRpbHMuZXZhbChleHByZXNzaW9uLnN1YnN0cig1KSwgeyBkb2MsIHBhcmVudCB9KTtcblx0XHRcdFx0aWYgKHBhcmVudCAmJiBwYXJlbnQuaXN0YWJsZSAmJiBleHByZXNzaW9uLmluY2x1ZGVzKCdpc19zdWJtaXR0YWJsZScpKSB7XG5cdFx0XHRcdFx0b3V0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRmcmFwcGUudGhyb3coX18oJ0ludmFsaWQgXCJkZXBlbmRzX29uXCIgZXhwcmVzc2lvbicpKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGV4cHJlc3Npb24uc3Vic3RyKDAsIDMpID09ICdmbjonICYmIHRoaXMuZnJtKSB7XG5cdFx0XHRvdXQgPSB0aGlzLmZybS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKFxuXHRcdFx0XHRleHByZXNzaW9uLnN1YnN0cigzKSxcblx0XHRcdFx0dGhpcy5kb2N0eXBlLFxuXHRcdFx0XHR0aGlzLmRvY25hbWUsXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgdmFsdWUgPSBkb2NbZXhwcmVzc2lvbl07XG5cdFx0XHRpZiAoJC5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRvdXQgPSBCb29sZWFuKHZhbHVlLmxlbmd0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXQgPSBCb29sZWFuKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0O1xuXHR9XG59XG5pbnRlcmZhY2UgTGF5b3V0IHtcblxuXHRkb2M6IGFueTtcblx0cGFyZW50OiBKUXVlcnk7XG5cdGRvY3R5cGU6IHN0cmluZztcblx0ZG9jdHlwZV9sYXlvdXQ6IHVua25vd247XG5cdGZybTogRm9ybTtcblxuXHR3cmFwcGVyOiBKUXVlcnk7XG5cdG1lc3NhZ2U6IEpRdWVyeTtcblx0cGFnZTogSlF1ZXJ5O1xuXHRmaWVsZHM6IGFueVtdO1xuXHR0YWJfbGlua19jb250YWluZXI6IEpRdWVyeTtcblx0dGFic19jb250ZW50OiBKUXVlcnk7XG5cdGN1cnJlbnRfdGFiPzogVGFiXG5cdHNlY3Rpb24/OiBTZWN0aW9uIHwgbnVsbFxuXHRjb2x1bW4/OiBDb2x1bW4gfCBudWxsXG5cdGFjdGl2ZV90YWI/OiBUYWI7XG59XG5leHBvcnQgZGVmYXVsdCBMYXlvdXQ7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzICovXG5pbXBvcnQgeyBXcml0YWJsZUNvbXB1dGVkUmVmIH0gZnJvbSAndnVlJztcblxuaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3Rlcic7XG5pbXBvcnQgUGFnZSBmcm9tICcuL1BhZ2UnO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSAnLi9Ub29sYmFyJztcbmltcG9ydCBVbmRvTWFuYWdlciBmcm9tICcuL3VuZG9fbWFuYWdlcic7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4vTGF5b3V0L2luZGV4JztcbmltcG9ydCBGb3JtRWRpdG9yIGZyb20gJy4vRm9ybUVkaXRvcic7XG5pbXBvcnQgbG9hZERvYyBmcm9tICcuL2xvYWREb2MnO1xuZnJhcHBlLnByb3ZpZGUoJ2ZyYXBwZS51aS5mb3JtJyk7XG5mcmFwcGUucHJvdmlkZSgnZnJhcHBlLm1vZGVsLmRvY2luZm8nKTtcblxuXG5jbGFzcyBGb3JtIHtcblx0ZG9jbmFtZSA9ICcnO1xuXHRkb2N0eXBlOiBzdHJpbmc7XG5cdGRvY3R5cGVfbGF5b3V0X25hbWU/O1xuXHRpbl9mb3JtOiBib29sZWFuO1xuXG5cblx0aGlkZGVuID0gZmFsc2U7XG5cdHJlZnJlc2hfaWZfc3RhbGVfZm9yID0gMTIwO1xuXHRvcGVuZG9jcyA9IHt9O1xuXHRjdXN0b21fYnV0dG9ucyA9IHt9O1xuXHRzZWN0aW9ucyA9IFtdO1xuXHRncmlkcyA9IFtdO1xuXHRjc2NyaXB0ID0gbmV3IGZyYXBwZS51aS5mb3JtLkNvbnRyb2xsZXIoeyBmcm06IHRoaXMgfSk7XG5cdGV2ZW50cyA9IHt9O1xuXHRmZXRjaF9kaWN0ID0ge307XG5cdHBhcmVudDogSFRNTEVsZW1lbnQ7XG5cdGRvY3R5cGVfbGF5b3V0OiB1bmtub3duO1xuXHR1bmRvX21hbmFnZXIgPSBuZXcgVW5kb01hbmFnZXIoeyBmcm06IHRoaXMgfSk7XG5cdGJlZm9yZVVubG9hZExpc3RlbmVyID0gZXZlbnQgPT4ge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gQSBTdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGNvbXBhdGFiaWxpdHkgd2l0aCBvbGRlciBCcm93c2Vycy4gUmV0dXJuIFZhbHVlIGhhcyB0byBiZSB0cnV0aHkgdG8gdHJpZ2dlciBcIkxlYXZlIFNpdGVcIiBEaWFsb2dcblx0XHRyZXR1cm4gKGV2ZW50LnJldHVyblZhbHVlID1cblx0XHRcdCdUaGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzLCBhcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZXhpdD8nKTtcblx0fTtcblxuXHRtZXRhOiBsb2NhbHMuRG9jVHlwZTtcblx0cGVybToge1xuXHRcdHJlYWQ6IG51bWJlcjtcblx0XHRwZXJtbGV2ZWw6IG51bWJlcjtcblx0fVtdO1xuXHRhY3Rpb25fcGVybV90eXBlX21hcCA9IHtcblx0XHRDcmVhdGU6ICdjcmVhdGUnLFxuXHRcdFNhdmU6ICd3cml0ZScsXG5cdFx0U3VibWl0OiAnc3VibWl0Jyxcblx0XHRVcGRhdGU6ICdzdWJtaXQnLFxuXHRcdENhbmNlbDogJ2NhbmNlbCcsXG5cdFx0QW1lbmQ6ICdhbWVuZCcsXG5cdFx0RGVsZXRlOiAnZGVsZXRlJyxcblx0fTtcblx0cmVhZG9ubHkgX19kZWxldGVkOiAoKSA9PiB2b2lkO1xuXHRyZWFkb25seSBjdXJyZW50VGFiOiBXcml0YWJsZUNvbXB1dGVkUmVmPGFueT47XG5cdGNvbnN0cnVjdG9yKFxuXHRcdGRvY3R5cGU6IHN0cmluZyxcblx0XHRuYW1lOiBzdHJpbmcsXG5cdFx0cGFyZW50OiBIVE1MRWxlbWVudCxcblx0XHRkZWxldGVkOiAoKSA9PiB2b2lkLFxuXHRcdGN1cnJlbnRUYWI6IFdyaXRhYmxlQ29tcHV0ZWRSZWY8YW55Pixcblx0XHRpbl9mb3JtOiBib29sZWFuID0gdHJ1ZSxcblx0XHRkb2N0eXBlX2xheW91dDogYW55ID0gZnJhcHBlLnJvdXRlci5kb2N0eXBlX2xheW91dCB8fCBkb2N0eXBlLFxuXHRcdGRvY3R5cGVfbGF5b3V0X25hbWU/OiBzdHJpbmcsXG5cblx0KSB7XG5cdFx0dGhpcy5jdXJyZW50VGFiID0gY3VycmVudFRhYjtcblx0XHR0aGlzLl9fZGVsZXRlZCA9IGRlbGV0ZWQ7XG5cdFx0dGhpcy5kb2N0eXBlID0gZG9jdHlwZTtcblx0XHR0aGlzLmRvY3R5cGVfbGF5b3V0X25hbWUgPSBkb2N0eXBlX2xheW91dF9uYW1lO1xuXHRcdHRoaXMuaW5fZm9ybSA9IGluX2Zvcm0gPyB0cnVlIDogZmFsc2U7XG5cblx0XHR0aGlzLnBhcmVudCA9IHBhcmVudDtcblx0XHR0aGlzLmRvY3R5cGVfbGF5b3V0ID0gZnJhcHBlLmdldF9kb2MoJ0RvY1R5cGUgTGF5b3V0JywgZG9jdHlwZV9sYXlvdXRfbmFtZSk7XG5cblx0XHR0aGlzLm1ldGEgPSBmcmFwcGUuZ2V0X2RvYygnRG9jVHlwZScsIHRoaXMuZG9jdHlwZSkhO1xuXG5cdFx0aWYgKHRoaXMubWV0YS5pc3RhYmxlKSB7XG5cdFx0XHR0aGlzLm1ldGEuaW5fZGlhbG9nID0gMTtcblx0XHR9XG5cdFx0dGhpcy5wZXJtID0gZnJhcHBlLnBlcm0uZ2V0X3Blcm0odGhpcy5kb2N0eXBlKTsgLy8gZm9yIGNyZWF0ZVxuXHRcdHRoaXMuZGVib3VuY2VkX3JlbG9hZF9kb2MgPSBmcmFwcGUudXRpbHMuZGVib3VuY2UodGhpcy5yZWxvYWRfZG9jLmJpbmQodGhpcyksIDEwMDApO1xuXG5cdH1cblxuXG5cdHNldHVwKCkge1xuXHRcdHRoaXMuc2V0dXBfZG9uZSA9IHRydWU7XG5cdFx0dGhpcy5maWVsZHMgPSBbXTtcblx0XHR0aGlzLmZpZWxkc19kaWN0ID0ge307XG5cdFx0dGhpcy5zdGF0ZV9maWVsZG5hbWUgPSBmcmFwcGUud29ya2Zsb3cuZ2V0X3N0YXRlX2ZpZWxkbmFtZSh0aGlzLmRvY3R5cGUpO1xuXG5cdFx0Ly8gd3JhcHBlclxuXHRcdHRoaXMud3JhcHBlciA9IHRoaXMucGFyZW50O1xuXHRcdHRoaXMuJHdyYXBwZXIgPSAkKHRoaXMud3JhcHBlcik7XG5cdFx0Y29uc3QgcGFnZSA9IG5ldyBQYWdlKHRoaXMud3JhcHBlciwgdGhpcy5tZXRhLmhpZGVfdG9vbGJhcik7XG5cblx0XHQvLyB0aGlzLndyYXBwZXIucGFnZSA9IHBhZ2U7XG5cdFx0dGhpcy5wYWdlID0gcGFnZTtcblx0XHR0aGlzLmxheW91dF9tYWluID0gdGhpcy5wYXJlbnQucXVlcnlTZWxlY3RvcignLmxheW91dC1tYWluLXNlY3Rpb24nKTtcblxuXHRcdHRoaXMuJHdyYXBwZXIub24oJ2hpZGUnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ29uX2hpZGUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMudG9vbGJhciA9IG5ldyBUb29sYmFyKHRoaXMsIHBhZ2UpO1xuXG5cdFx0Ly8gbmF2aWdhdGUgcmVjb3JkcyBrZXlib2FyZCBzaG9ydGN1dHNcblx0XHR0aGlzLmFkZF9mb3JtX2tleWJvYXJkX3Nob3J0Y3V0cygpO1xuXG5cdFx0Ly8gMiBjb2x1bW4gbGF5b3V0XG5cdFx0dGhpcy5zZXR1cF9zdGRfbGF5b3V0KCk7XG5cblx0XHQvLyBjbGllbnQgc2NyaXB0IG11c3QgYmUgY2FsbGVkIGFmdGVyIFwic2V0dXBcIiAtIHRoZXJlIGFyZSBubyBmaWVsZHNfZGljdCBhdHRhY2hlZCB0byB0aGUgZnJtIG90aGVyd2lzZVxuXHRcdHRoaXMuc2NyaXB0X21hbmFnZXIgPSBuZXcgZnJhcHBlLnVpLmZvcm0uU2NyaXB0TWFuYWdlcih7XG5cdFx0XHRmcm06IHRoaXMsXG5cdFx0fSk7XG5cdFx0dGhpcy5zY3JpcHRfbWFuYWdlci5zZXR1cCgpO1xuXHRcdHRoaXMud2F0Y2hfbW9kZWxfdXBkYXRlcygpO1xuXG5cdFx0Y29uc3QgW21haW5QYXJlbnRdID0gcGFnZS5tYWluLnBhcmVudCgpO1xuXHRcdGlmIChtYWluUGFyZW50KSB7XG5cdFx0XHRjb25zdCBmb290ZXIgPSBbLi4ubWFpblBhcmVudC5jaGlsZHJlbl0uZmluZCh2ID0+IHYuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXlvdXQtZm9vdGVyJykpO1xuXHRcdFx0aWYgKGZvb3Rlcikge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cblx0XHRcdFx0Zm9yIChsZXQgbmV4dDsgbmV4dCA9IGZvb3Rlci5uZXh0U2libGluZzspIHsgbmV4dD8ucmVtb3ZlKCk7IH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCF0aGlzLm1ldGEuaGlkZV90b29sYmFyICYmIGZyYXBwZS5ib290LmRlc2tfc2V0dGluZ3MudGltZWxpbmUpIHtcblx0XHRcdC8vIHRoaXMuZm9vdGVyX3RhYiA9IG5ldyBmcmFwcGUudWkuZm9ybS5UYWIodGhpcy5sYXlvdXQsIHtcblx0XHRcdC8vIFx0bGFiZWw6IF9fKFwiQWN0aXZpdHlcIiksXG5cdFx0XHQvLyBcdGZpZWxkbmFtZTogJ3RpbWVsaW5lJ1xuXHRcdFx0Ly8gfSk7XG5cblx0XHRcdC8vIGZvb3RlciBcdTRFMkRcdTUzMDVcdTYyRUNcdThCQzRcdThCQkFcdThGOTNcdTUxNjVcdTY4NDZcdTU0OENcdTY1RjZcdTk1RjRcdTdFQkZcblx0XHRcdHRoaXMuZm9vdGVyID0gbmV3IEZvb3Rlcih7XG5cdFx0XHRcdGZybTogdGhpcyxcblx0XHRcdFx0cGFyZW50OiAkKCc8ZGl2PicpLmFwcGVuZFRvKHBhZ2UubWFpbi5wYXJlbnQoKSksXG5cdFx0XHR9KTtcblx0XHRcdCQoJ2JvZHknKS5hdHRyKCdkYXRhLXNpZGViYXInLCAxKTtcblx0XHR9XG5cdFx0dGhpcy5zZXR1cF9maWxlX2Ryb3AoKTtcblx0XHR0aGlzLnNldHVwX2RvY3R5cGVfYWN0aW9ucygpO1xuXHRcdHRoaXMuc2V0dXBfbm90aWZ5X29uX3JlbmFtZSgpO1xuXG5cdFx0dGhpcy5zZXR1cF9kb25lID0gdHJ1ZTtcblx0fVxuXG5cdGFkZF9mb3JtX2tleWJvYXJkX3Nob3J0Y3V0cygpIHtcblx0XHQvLyBOYXZpZ2F0ZSB0byBuZXh0IHJlY29yZFxuXHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7XG5cdFx0XHRzaG9ydGN1dDogJ3NoaWZ0K2N0cmwrPicsXG5cdFx0XHRhY3Rpb246ICgpID0+IHRoaXMubmF2aWdhdGVfcmVjb3JkcygwKSxcblx0XHRcdHBhZ2U6IHRoaXMucGFnZSxcblx0XHRcdGRlc2NyaXB0aW9uOiBfXygnR28gdG8gbmV4dCByZWNvcmQnKSxcblx0XHRcdGlnbm9yZV9pbnB1dHM6IHRydWUsXG5cdFx0XHRjb25kaXRpb246ICgpID0+ICF0aGlzLmlzX25ldygpLFxuXHRcdH0pO1xuXG5cdFx0Ly8gTmF2aWdhdGUgdG8gcHJldmlvdXMgcmVjb3JkXG5cdFx0ZnJhcHBlLnVpLmtleXMuYWRkX3Nob3J0Y3V0KHtcblx0XHRcdHNob3J0Y3V0OiAnc2hpZnQrY3RybCs8Jyxcblx0XHRcdGFjdGlvbjogKCkgPT4gdGhpcy5uYXZpZ2F0ZV9yZWNvcmRzKDEpLFxuXHRcdFx0cGFnZTogdGhpcy5wYWdlLFxuXHRcdFx0ZGVzY3JpcHRpb246IF9fKCdHbyB0byBwcmV2aW91cyByZWNvcmQnKSxcblx0XHRcdGlnbm9yZV9pbnB1dHM6IHRydWUsXG5cdFx0XHRjb25kaXRpb246ICgpID0+ICF0aGlzLmlzX25ldygpLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVW5kbyBhbmQgcmVkb1xuXHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7XG5cdFx0XHRzaG9ydGN1dDogJ2N0cmwreicsXG5cdFx0XHRhY3Rpb246ICgpID0+IHRoaXMudW5kb19tYW5hZ2VyLnVuZG8oKSxcblx0XHRcdHBhZ2U6IHRoaXMucGFnZSxcblx0XHRcdGRlc2NyaXB0aW9uOiBfXygnVW5kbyBsYXN0IGFjdGlvbicpLFxuXHRcdH0pO1xuXHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7XG5cdFx0XHRzaG9ydGN1dDogJ3NoaWZ0K2N0cmwreicsXG5cdFx0XHRhY3Rpb246ICgpID0+IHRoaXMudW5kb19tYW5hZ2VyLnJlZG8oKSxcblx0XHRcdHBhZ2U6IHRoaXMucGFnZSxcblx0XHRcdGRlc2NyaXB0aW9uOiBfXygnUmVkbyBsYXN0IGFjdGlvbicpLFxuXHRcdH0pO1xuXHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7XG5cdFx0XHRzaG9ydGN1dDogJ2N0cmwreScsXG5cdFx0XHRhY3Rpb246ICgpID0+IHRoaXMudW5kb19tYW5hZ2VyLnJlZG8oKSxcblx0XHRcdHBhZ2U6IHRoaXMucGFnZSxcblx0XHRcdGRlc2NyaXB0aW9uOiBfXygnUmVkbyBsYXN0IGFjdGlvbicpLFxuXHRcdH0pO1xuXG5cdFx0bGV0IGdyaWRfc2hvcnRjdXRfa2V5cyA9IFtcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICdVcCBBcnJvdycsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBfXygnTW92ZSBjdXJzb3IgdG8gYWJvdmUgcm93JyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ0Rvd24gQXJyb3cnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ01vdmUgY3Vyc29yIHRvIGJlbG93IHJvdycpLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2hvcnRjdXQ6ICd0YWInLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ01vdmUgY3Vyc29yIHRvIG5leHQgY29sdW1uJyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ3NoaWZ0K3RhYicsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBfXygnTW92ZSBjdXJzb3IgdG8gcHJldmlvdXMgY29sdW1uJyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ0N0cmwrdXAnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ0FkZCBhIHJvdyBhYm92ZSB0aGUgY3VycmVudCByb3cnKSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHNob3J0Y3V0OiAnQ3RybCtkb3duJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246IF9fKCdBZGQgYSByb3cgYmVsb3cgdGhlIGN1cnJlbnQgcm93JyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ0N0cmwrc2hpZnQrdXAnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ0FkZCBhIHJvdyBhdCB0aGUgdG9wJyksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzaG9ydGN1dDogJ0N0cmwrc2hpZnQrZG93bicsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBfXygnQWRkIGEgcm93IGF0IHRoZSBib3R0b20nKSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHNob3J0Y3V0OiAnc2hpZnQrYWx0K2Rvd24nLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogX18oJ0R1cGxpY2F0ZSBjdXJyZW50IHJvdycpLFxuXHRcdFx0fSxcblx0XHRdO1xuXG5cdFx0Zm9yIChjb25zdCByb3cgb2YgZ3JpZF9zaG9ydGN1dF9rZXlzKSB7XG5cdFx0XHRmcmFwcGUudWkua2V5cy5hZGRfc2hvcnRjdXQoe1xuXHRcdFx0XHRzaG9ydGN1dDogcm93LnNob3J0Y3V0LFxuXHRcdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBfXyhyb3cuZGVzY3JpcHRpb24pLFxuXHRcdFx0XHRpZ25vcmVfaW5wdXRzOiB0cnVlLFxuXHRcdFx0XHRjb25kaXRpb246ICgpID0+ICF0aGlzLmlzX25ldygpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0dXBfc3RkX2xheW91dCgpIHtcblx0XHRjb25zdCBtYWluID0gdGhpcy5wYXJlbnQucXVlcnlTZWxlY3RvcignLmxheW91dC1tYWluLXNlY3Rpb24nKSBhcyBIVE1MRWxlbWVudDtcblx0XHR0aGlzLmZvcm1fd3JhcHBlciA9ICQobWFpbi5xdWVyeVNlbGVjdG9yKCdkaXYnKSBhcyBIVE1MRWxlbWVudCk7XG5cdFx0Y29uc3QgYm9keSA9IG1haW4ucXVlcnlTZWxlY3RvcignLnN0ZC1mb3JtLWxheW91dCcpIGFzIEhUTUxFbGVtZW50O1xuXHRcdHRoaXMuYm9keSA9ICQoYm9keSk7XG5cblx0XHQvLyBvbmx5IHRyYXlcblx0XHR0aGlzLm1ldGEuc2VjdGlvbl9zdHlsZSA9ICdTaW1wbGUnOyAvLyBhbHdheXMgc2ltcGxlIVxuXG5cdFx0Ly8gbGF5b3V0XG5cdFx0dGhpcy5sYXlvdXQgPSBuZXcgTGF5b3V0KFxuXHRcdFx0Ym9keSxcblx0XHRcdHRoaXMuZG9jdHlwZSxcblx0XHRcdHRoaXMuZG9jdHlwZV9sYXlvdXQsXG5cdFx0XHR0aGlzLFxuXHRcdFx0dGhpcy5jdXJyZW50VGFiLFxuXHRcdCk7XG5cblxuXHRcdHRoaXMuZmllbGRzX2RpY3QgPSB0aGlzLmxheW91dC5maWVsZHNfZGljdDtcblx0XHR0aGlzLmZpZWxkcyA9IHRoaXMubGF5b3V0LmZpZWxkc19saXN0O1xuXG5cdFx0bGV0IGRhc2hib2FyZF9wYXJlbnQgPSAkKCc8ZGl2IGNsYXNzPVwiZm9ybS1kYXNoYm9hcmRcIj4nKTtcblx0XHRsZXQgZGFzaGJvYXJkX2FkZGVkID0gZmFsc2U7XG5cblx0XHRpZiAodGhpcy5sYXlvdXQudGFicy5sZW5ndGgpIHtcblx0XHRcdHRoaXMubGF5b3V0LnRhYnMuZXZlcnkodGFiID0+IHtcblx0XHRcdFx0aWYgKHRhYi5kZi5zaG93X2Rhc2hib2FyZCkge1xuXHRcdFx0XHRcdHRhYi53cmFwcGVyLnByZXBlbmQoZGFzaGJvYXJkX3BhcmVudCk7XG5cdFx0XHRcdFx0ZGFzaGJvYXJkX2FkZGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblx0XHRcdGlmICghZGFzaGJvYXJkX2FkZGVkKSB7XG5cdFx0XHRcdHRoaXMubGF5b3V0LnRhYnNbMF0ud3JhcHBlci5wcmVwZW5kKGRhc2hib2FyZF9wYXJlbnQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxheW91dC53cmFwcGVyLmZpbmQoJy5mb3JtLXBhZ2UnKS5wcmVwZW5kKGRhc2hib2FyZF9wYXJlbnQpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGFzaGJvYXJkID0gbmV3IGZyYXBwZS51aS5mb3JtLkRhc2hib2FyZChkYXNoYm9hcmRfcGFyZW50LCB0aGlzKTtcblxuXHRcdHRoaXMudG91ciA9IG5ldyBmcmFwcGUudWkuZm9ybS5Gb3JtVG91cih7XG5cdFx0XHRmcm06IHRoaXMsXG5cdFx0fSk7XG5cblx0XHQvLyB3b3JrZmxvdyBzdGF0ZVxuXHRcdHRoaXMuc3RhdGVzID0gbmV3IGZyYXBwZS51aS5mb3JtLlN0YXRlcyh7XG5cdFx0XHRmcm06IHRoaXMsXG5cdFx0fSk7XG5cdH1cblxuXHR3YXRjaF9tb2RlbF91cGRhdGVzKCkge1xuXHRcdC8vIHdhdGNoIG1vZGVsIHVwZGF0ZXNcblx0XHRsZXQgbWUgPSB0aGlzO1xuXG5cdFx0Ly8gb24gbWFpbiBkb2Ncblx0XHRmcmFwcGUubW9kZWwub24oXG5cdFx0XHRtZS5kb2N0eXBlLFxuXHRcdFx0JyonLFxuXHRcdFx0ZnVuY3Rpb24gKGZpZWxkbmFtZSwgdmFsdWUsIGRvYywgc2tpcF9kaXJ0eV90cmlnZ2VyID0gZmFsc2UpIHtcblx0XHRcdFx0Ly8gc2V0IGlucHV0XG5cdFx0XHRcdGlmIChkb2MubmFtZSA9PSBtZS5kb2NuYW1lKSB7XG5cdFx0XHRcdFx0aWYgKCFza2lwX2RpcnR5X3RyaWdnZXIpIHtcblx0XHRcdFx0XHRcdG1lLmRpcnR5KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGV0IGZpZWxkID0gbWUuZmllbGRzX2RpY3RbZmllbGRuYW1lXTtcblx0XHRcdFx0XHRmaWVsZCAmJiBmaWVsZC5yZWZyZXNoKGZpZWxkbmFtZSk7XG5cblx0XHRcdFx0XHQvLyBWYWxpZGF0ZSB2YWx1ZSBmb3IgbGluayBmaWVsZCBleHBsaWNpdGx5XG5cdFx0XHRcdFx0ZmllbGQgJiZcblx0XHRcdFx0XHRcdFsnTGluaycsICdEeW5hbWljIExpbmsnXS5pbmNsdWRlcyhmaWVsZC5kZi5maWVsZHR5cGUpICYmXG5cdFx0XHRcdFx0XHRmaWVsZC52YWxpZGF0ZSAmJlxuXHRcdFx0XHRcdFx0ZmllbGQudmFsaWRhdGUodmFsdWUpO1xuXG5cdFx0XHRcdFx0bWUubGF5b3V0LnJlZnJlc2hfZGVwZW5kZW5jeSgpO1xuXHRcdFx0XHRcdG1lLmxheW91dC5yZWZyZXNoX3NlY3Rpb25zKCk7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoZmllbGRuYW1lLCBkb2MuZG9jdHlwZSwgZG9jLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHQvLyBvbiB0YWJsZSBmaWVsZHNcblx0XHRsZXQgdGFibGVfZmllbGRzID0gZnJhcHBlLmdldF9jaGlsZHJlbignRG9jVHlwZScsIG1lLmRvY3R5cGUsICdmaWVsZHMnLCB7XG5cdFx0XHRmaWVsZHR5cGU6IFsnaW4nLCBmcmFwcGUubW9kZWwudGFibGVfZmllbGRzXSxcblx0XHR9KTtcblxuXHRcdC8vIHVzaW5nICQuZWFjaCB0byBwcmVzZXJ2ZSBkZiB2aWEgY2xvc3VyZVxuXHRcdCQuZWFjaCh0YWJsZV9maWVsZHMsIGZ1bmN0aW9uIChpLCBkZikge1xuXHRcdFx0ZnJhcHBlLm1vZGVsLm9uKGRmLm9wdGlvbnMsICcqJywgZnVuY3Rpb24gKGZpZWxkbmFtZSwgdmFsdWUsIGRvYykge1xuXHRcdFx0XHRpZiAoZG9jLnBhcmVudCA9PSBtZS5kb2NuYW1lICYmIGRvYy5wYXJlbnRmaWVsZCA9PT0gZGYuZmllbGRuYW1lKSB7XG5cdFx0XHRcdFx0bWUuZGlydHkoKTtcblx0XHRcdFx0XHRtZS5maWVsZHNfZGljdFtkZi5maWVsZG5hbWVdLmdyaWQuc2V0X3ZhbHVlKGZpZWxkbmFtZSwgdmFsdWUsIGRvYyk7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoZmllbGRuYW1lLCBkb2MuZG9jdHlwZSwgZG9jLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHNldHVwX25vdGlmeV9vbl9yZW5hbWUoKSB7XG5cdFx0JChkb2N1bWVudCkub24oJ3JlbmFtZScsIChldiwgZHQsIG9sZF9uYW1lLCBuZXdfbmFtZSkgPT4ge1xuXHRcdFx0aWYgKGR0ID09IHRoaXMuZG9jdHlwZSkgeyB0aGlzLnJlbmFtZV9ub3RpZnkoZHQsIG9sZF9uYW1lLCBuZXdfbmFtZSk7IH1cblx0XHR9KTtcblx0fVxuXG5cdHNldHVwX2ZpbGVfZHJvcCgpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRoaXMuJHdyYXBwZXIub24oJ2RyYWdlbnRlciBkcmFnb3ZlcicsIGZhbHNlKS5vbignZHJvcCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRsZXQgeyBkYXRhVHJhbnNmZXIgfSA9IGUub3JpZ2luYWxFdmVudDtcblx0XHRcdGlmICghKGRhdGFUcmFuc2ZlciAmJiBkYXRhVHJhbnNmZXIuZmlsZXMgJiYgZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0aWYgKG1lLmRvYy5fX2lzbG9jYWwpIHtcblx0XHRcdFx0ZnJhcHBlLm1zZ3ByaW50KF9fKCdQbGVhc2Ugc2F2ZSBiZWZvcmUgYXR0YWNoaW5nLicpKTtcblx0XHRcdFx0dGhyb3cgJ2F0dGFjaCBlcnJvcic7XG5cdFx0XHR9XG5cblx0XHRcdG5ldyBmcmFwcGUudWkuRmlsZVVwbG9hZGVyKHtcblx0XHRcdFx0ZG9jdHlwZTogbWUuZG9jdHlwZSxcblx0XHRcdFx0ZG9jbmFtZTogbWUuZG9jbmFtZSxcblx0XHRcdFx0ZnJtOiBtZSxcblx0XHRcdFx0ZmlsZXM6IGRhdGFUcmFuc2Zlci5maWxlcyxcblx0XHRcdFx0Zm9sZGVyOiAnSG9tZS9BdHRhY2htZW50cycsXG5cdFx0XHRcdG9uX3N1Y2Nlc3MoZmlsZV9kb2MpIHtcblx0XHRcdFx0XHRtZS5hdHRhY2htZW50cy5hdHRhY2htZW50X3VwbG9hZGVkKGZpbGVfZG9jKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0c2V0dXBfaW1hZ2VfYXV0b2NvbXBsZXRpb25zX2luX21hcmtkb3duKCkge1xuXHRcdHRoaXMuZmllbGRzLm1hcChmaWVsZCA9PiB7XG5cdFx0XHRpZiAoZmllbGQuZGYuZmllbGR0eXBlID09PSAnTWFya2Rvd24gRWRpdG9yJykge1xuXHRcdFx0XHR0aGlzLnNldF9kZl9wcm9wZXJ0eShmaWVsZC5kZi5maWVsZG5hbWUsICdhdXRvY29tcGxldGlvbnMnLCAoKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGF0dGFjaG1lbnRzID0gdGhpcy5hdHRhY2htZW50cy5nZXRfYXR0YWNobWVudHMoKTtcblx0XHRcdFx0XHRyZXR1cm4gYXR0YWNobWVudHNcblx0XHRcdFx0XHRcdC5maWx0ZXIoZmlsZSA9PiBmcmFwcGUudXRpbHMuaXNfaW1hZ2VfZmlsZShmaWxlLmZpbGVfdXJsKSlcblx0XHRcdFx0XHRcdC5tYXAoZmlsZSA9PiAoe1xuXHRcdFx0XHRcdFx0XHRjYXB0aW9uOiBgaW1hZ2U6ICR7ZmlsZS5maWxlX25hbWV9YCxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGAhW10oJHtmaWxlLmZpbGVfdXJsfSlgLFxuXHRcdFx0XHRcdFx0XHRtZXRhOiAnaW1hZ2UnLFxuXHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIFJFRlJFU0hcblx0cmVmcmVzaChkb2NuYW1lOiBzdHJpbmcpIHtcblx0XHRsZXQgc3dpdGNoZWQgPSBkb2NuYW1lID8gdHJ1ZSA6IGZhbHNlO1xuXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5iZWZvcmVVbmxvYWRMaXN0ZW5lciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG5cdFx0aWYgKGRvY25hbWUpIHtcblx0XHRcdHRoaXMuc3dpdGNoX2RvYyhkb2NuYW1lKTtcblx0XHR9XG5cblx0XHRjdXJfZnJtID0gdGhpcztcblxuXHRcdHRoaXMudW5kb19tYW5hZ2VyLmVyYXNlX2hpc3RvcnkoKTtcblxuXHRcdGlmICghdGhpcy5kb2NuYW1lKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIGRvY3VtZW50IHRvIHNob3dcblx0XHR0aGlzLnNhdmVfZGlzYWJsZWQgPSBmYWxzZTtcblx0XHQvLyBzZXQgdGhlIGRvY1xuXHRcdHRoaXMuZG9jID0gZnJhcHBlLmdldF9kb2ModGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUpIGFzIGFueTtcblxuXHRcdC8vIGNoZWNrIHBlcm1pc3Npb25zXG5cdFx0dGhpcy5mZXRjaF9wZXJtaXNzaW9ucygpO1xuXHRcdGlmICghdGhpcy5oYXNfcmVhZF9wZXJtaXNzaW9uKCkpIHtcblx0XHRcdGZyYXBwZS5zaG93X25vdF9wZXJtaXR0ZWQoYCR7X18odGhpcy5kb2N0eXBlKX0gJHtfXyhjc3RyKHRoaXMuZG9jbmFtZSkpfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHVwZGF0ZSBncmlkcyB3aXRoIG5ldyBwZXJtaXNzaW9uc1xuXHRcdGZvciAoY29uc3QgdGFibGUgb2YgdGhpcy5ncmlkcykge1xuXHRcdFx0dGFibGUuZ3JpZC5yZWZyZXNoKCk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVhZCBvbmx5ICh3b3JrZmxvdylcblx0XHR0aGlzLnJlYWRfb25seSA9IGZyYXBwZS53b3JrZmxvdy5pc19yZWFkX29ubHkodGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUpO1xuXHRcdGlmICh0aGlzLnJlYWRfb25seSkge1xuXHRcdFx0dGhpcy5zZXRfcmVhZF9vbmx5KHRydWUpO1xuXHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoX18oJ1RoaXMgZm9ybSBpcyBub3QgZWRpdGFibGUgZHVlIHRvIGEgV29ya2Zsb3cuJykpO1xuXHRcdH1cblxuXHRcdC8vIGNoZWNrIGlmIGRvY3R5cGUgaXMgYWxyZWFkeSBvcGVuXG5cdFx0aWYgKCF0aGlzLm9wZW5kb2NzW3RoaXMuZG9jbmFtZV0pIHtcblx0XHRcdHRoaXMuY2hlY2tfZG9jdHlwZV9jb25mbGljdCh0aGlzLmRvY25hbWUpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5jaGVja19yZWxvYWQoKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvLyBkbyBzZXR1cFxuXHRcdGlmICghdGhpcy5zZXR1cF9kb25lKSB7XG5cdFx0XHR0aGlzLnNldHVwKCk7XG5cdFx0fVxuXG5cdFx0Ly8gbG9hZCB0aGUgcmVjb3JkIGZvciB0aGUgZmlyc3QgdGltZSwgaWYgbm90IGxvYWRlZCAoY2FsbCAnb25sb2FkJylcblx0XHR0aGlzLnRyaWdnZXJfb25sb2FkKHN3aXRjaGVkKTtcblxuXHRcdC8vIGlmIHByaW50IGZvcm1hdCBpcyBzaG93biwgcmVmcmVzaCB0aGUgZm9ybWF0XG5cdFx0Ly8gaWYodGhpcy5wcmludF9wcmV2aWV3LndyYXBwZXIuaXMoXCI6dmlzaWJsZVwiKSkge1xuXHRcdC8vIFx0dGhpcy5wcmludF9wcmV2aWV3LnByZXZpZXcoKTtcblx0XHQvLyB9XG5cblx0XHRpZiAoc3dpdGNoZWQpIHtcblx0XHRcdGlmICh0aGlzLnNob3dfcHJpbnRfZmlyc3QgJiYgdGhpcy5kb2MuZG9jc3RhdHVzID09PSAxKSB7XG5cdFx0XHRcdC8vIHNob3cgcHJpbnQgdmlld1xuXHRcdFx0XHR0aGlzLnByaW50X2RvYygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHNldCBzdGF0dXMgY2xhc3Nlc1xuXHRcdHRoaXMuJHdyYXBwZXJcblx0XHRcdC5yZW1vdmVDbGFzcygndmFsaWRhdGVkLWZvcm0nKVxuXHRcdFx0LnRvZ2dsZUNsYXNzKCdlZGl0YWJsZS1mb3JtJywgdGhpcy5kb2MuZG9jc3RhdHVzID09PSAwKVxuXHRcdFx0LnRvZ2dsZUNsYXNzKCdzdWJtaXR0ZWQtZm9ybScsIHRoaXMuZG9jLmRvY3N0YXR1cyA9PT0gMSlcblx0XHRcdC50b2dnbGVDbGFzcygnY2FuY2VsbGVkLWZvcm0nLCB0aGlzLmRvYy5kb2NzdGF0dXMgPT09IDIpO1xuXG5cdFx0dGhpcy5zaG93X2NvbmZsaWN0X21lc3NhZ2UoKTtcblxuXHRcdGlmIChmcmFwcGUuYm9vdC5yZWFkX29ubHkpIHtcblx0XHRcdHRoaXMuZGlzYWJsZV9mb3JtKCk7XG5cdFx0fVxuXHR9XG5cblxuXHQvLyBzZXRzIHVwIHRoZSByZWZyZXNoIGV2ZW50IGZvciBjdXN0b20gYnV0dG9uc1xuXHQvLyBhZGRlZCB2aWEgY29uZmlndXJhdGlvblxuXHRzZXR1cF9kb2N0eXBlX2FjdGlvbnMoKSB7XG5cdFx0aWYgKHRoaXMubWV0YS5hY3Rpb25zKSB7XG5cdFx0XHRmb3IgKGxldCBhY3Rpb24gb2YgdGhpcy5tZXRhLmFjdGlvbnMpIHtcblx0XHRcdFx0ZnJhcHBlLnVpLmZvcm0ub24odGhpcy5kb2N0eXBlLCAncmVmcmVzaCcsICgpID0+IHtcblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNfbmV3KCkpIHtcblx0XHRcdFx0XHRcdGlmICghYWN0aW9uLmhpZGRlbikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZF9jdXN0b21fYnV0dG9uKFxuXHRcdFx0XHRcdFx0XHRcdGFjdGlvbi5sYWJlbCxcblx0XHRcdFx0XHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmV4ZWN1dGVfYWN0aW9uKGFjdGlvbik7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRhY3Rpb24uZ3JvdXAsXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRleGVjdXRlX2FjdGlvbihhY3Rpb24pIHtcblx0XHRpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIGNhbGxlZCBieSBsYWJlbCAtIG1heWJlIHZpYSBjdXN0b20gc2NyaXB0XG5cdFx0XHQvLyBmcm0uZXhlY3V0ZV9hY3Rpb24oJ0FjdGlvbicpXG5cdFx0XHRmb3IgKGxldCBfYWN0aW9uIG9mIHRoaXMubWV0YS5hY3Rpb25zKSB7XG5cdFx0XHRcdGlmIChfYWN0aW9uLmxhYmVsID09PSBhY3Rpb24pIHtcblx0XHRcdFx0XHRhY3Rpb24gPSBfYWN0aW9uO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRmcmFwcGUudGhyb3coYEFjdGlvbiAke2FjdGlvbn0gbm90IGZvdW5kYCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChhY3Rpb24uYWN0aW9uX3R5cGUgPT09ICdTZXJ2ZXIgQWN0aW9uJykge1xuXHRcdFx0cmV0dXJuIGZyYXBwZS54Y2FsbChhY3Rpb24uYWN0aW9uLCB7IGRvYzogdGhpcy5kb2MgfSkudGhlbihkb2MgPT4ge1xuXHRcdFx0XHRpZiAoZG9jLmRvY3R5cGUpIHtcblx0XHRcdFx0XHQvLyBkb2N1bWVudCBpcyByZXR1cm5lZCBieSB0aGUgbWV0aG9kLFxuXHRcdFx0XHRcdC8vIGFwcGx5IHRoZSBjaGFuZ2VzIGxvY2FsbHkgYW5kIHJlZnJlc2hcblx0XHRcdFx0XHRmcmFwcGUubW9kZWwuc3luYyhkb2MpO1xuXHRcdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gZmVlZGJhY2tcblx0XHRcdFx0ZnJhcHBlLm1zZ3ByaW50KHtcblx0XHRcdFx0XHRtZXNzYWdlOiBfXygne30gQ29tcGxldGUnLCBbYWN0aW9uLmxhYmVsXSksXG5cdFx0XHRcdFx0YWxlcnQ6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmIChhY3Rpb24uYWN0aW9uX3R5cGUgPT09ICdSb3V0ZScpIHtcblx0XHRcdHJldHVybiBmcmFwcGUuc2V0X3JvdXRlKGFjdGlvbi5hY3Rpb24pO1xuXHRcdH1cblx0fVxuXG5cdHN3aXRjaF9kb2MoZG9jbmFtZTogc3RyaW5nKSB7XG5cdFx0Ly8gcmVzZXQgdmlzaWJsZSBjb2x1bW5zLCBzaW5jZSBjb2x1bW4gaGVhZGluZ3MgY2FuIGNoYW5nZSBpbiBkaWZmZXJlbnQgZG9jc1xuXHRcdGZvciAoY29uc3QgZ3JpZF9vYmogb2YgdGhpcy5ncmlkcykge1xuXHRcdFx0Z3JpZF9vYmouZ3JpZC52aXNpYmxlX2NvbHVtbnMgPSBudWxsO1xuXHRcdFx0Ly8gcmVzZXQgcGFnZSBudW1iZXIgdG8gMVxuXHRcdFx0Z3JpZF9vYmouZ3JpZC5ncmlkX3BhZ2luYXRpb24uZ29fdG9fcGFnZSgxLCB0cnVlKTtcblx0XHR9XG5cdFx0ZnJhcHBlLnVpLmZvcm0uY2xvc2VfZ3JpZF9mb3JtKCk7XG5cdFx0dGhpcy52aWV3ZXJzICYmIHRoaXMudmlld2Vycy5wYXJlbnQuZW1wdHkoKTtcblx0XHR0aGlzLmRvY25hbWUgPSBkb2NuYW1lO1xuXHRcdHRoaXMuc2V0dXBfZG9jaW5mb19jaGFuZ2VfbGlzdGVuZXIoKTtcblx0fVxuXG5cdGNoZWNrX3JlbG9hZCgpIHtcblx0XHRpZiAoXG5cdFx0XHR0aGlzLmRvYyAmJlxuXHRcdFx0IXRoaXMuZG9jLl9fdW5zYXZlZCAmJlxuXHRcdFx0dGhpcy5kb2MuX19sYXN0X3N5bmNfb24gJiZcblx0XHRcdG5ldyBEYXRlKCkgLSB0aGlzLmRvYy5fX2xhc3Rfc3luY19vbiA+IHRoaXMucmVmcmVzaF9pZl9zdGFsZV9mb3IgKiAxMDAwXG5cdFx0KSB7XG5cdFx0XHR0aGlzLmRlYm91bmNlZF9yZWxvYWRfZG9jKCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHR0cmlnZ2VyX29ubG9hZChzd2l0Y2hlZDogYm9vbGVhbikge1xuXHRcdHRoaXMuY3NjcmlwdC5pc19vbmxvYWQgPSBmYWxzZTtcblx0XHRpZiAodGhpcy5vcGVuZG9jc1t0aGlzLmRvY25hbWVdKSB7XG5cdFx0XHR0aGlzLnJlbmRlcl9mb3JtKHN3aXRjaGVkKTtcblx0XHRcdGlmICh0aGlzLmRvYy5sb2NhbG5hbWUpIHtcblx0XHRcdFx0Ly8gdHJpZ2dlciBmb3JtLXJlbmFtZSBhbmQgcmVtb3ZlIC5sb2NhbG5hbWVcblx0XHRcdFx0ZGVsZXRlIHRoaXMuZG9jLmxvY2FsbmFtZTtcblx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcignZm9ybS1yZW5hbWUnLCBbdGhpc10pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdFx0dGhpcy5jc2NyaXB0LmlzX29ubG9hZCA9IHRydWU7XG5cdFx0XHR0aGlzLmluaXRpYWxpemVfbmV3X2RvYygpO1xuXHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcignZm9ybS1sb2FkJywgW3RoaXNdKTtcblx0XHRcdCQodGhpcy5wYWdlLndyYXBwZXIpLm9uKCdoaWRlJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKGRvY3VtZW50KS50cmlnZ2VyKCdmb3JtLXVubG9hZCcsIFttZV0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0aW5pdGlhbGl6ZV9uZXdfZG9jKCkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cblx0XHQvLyBoaWRlIGFueSBvcGVuIGdyaWRcblx0XHR0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ2JlZm9yZV9sb2FkJywgdGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUpLnRoZW4oKCkgPT4ge1xuXHRcdFx0bWUuc2NyaXB0X21hbmFnZXIudHJpZ2dlcignb25sb2FkJyk7XG5cdFx0XHRtZS5vcGVuZG9jc1ttZS5kb2NuYW1lXSA9IHRydWU7XG5cdFx0XHRtZS5yZW5kZXJfZm9ybSgpO1xuXG5cdFx0XHRmcmFwcGUuYWZ0ZXJfYWpheChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLnRyaWdnZXJfbGlua19maWVsZHMoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmcmFwcGUuYnJlYWRjcnVtYnMuYWRkKG1lLm1ldGEubW9kdWxlLCBtZS5kb2N0eXBlKTtcblx0XHR9KTtcblxuXHRcdC8vIHVwZGF0ZSBzZWVuXG5cdFx0aWYgKHRoaXMubWV0YS50cmFja19zZWVuKSB7XG5cdFx0XHQkKGAubGlzdC1pZFtkYXRhLW5hbWU9XCIke21lLmRvY25hbWV9XCJdYCkuYWRkQ2xhc3MoJ3NlZW4nKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJfZm9ybShzd2l0Y2hlZD86IGJvb2xlYW4pIHtcblx0XHRpZiAodGhpcy5tZXRhLmlzdGFibGUpIHtcblx0XHRcdHRoaXMucmVmcmVzaF9oZWFkZXIoc3dpdGNoZWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxheW91dC5kb2MgPSB0aGlzLmRvYztcblx0XHRcdHRoaXMubGF5b3V0LmF0dGFjaF9kb2NfYW5kX2RvY2ZpZWxkcygpO1xuXG5cdFx0XHRpZiAoZnJhcHBlLmJvb3QuZGVza19zZXR0aW5ncy5mb3JtX3NpZGViYXIpIHtcblx0XHRcdFx0dGhpcy5zaWRlYmFyID0gbmV3IGZyYXBwZS51aS5mb3JtLlNpZGViYXIoe1xuXHRcdFx0XHRcdGZybTogdGhpcyxcblx0XHRcdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLnNpZGViYXIubWFrZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjbGVhciBsYXlvdXQgbWVzc2FnZVxuXHRcdFx0dGhpcy5sYXlvdXQuc2hvd19tZXNzYWdlKCk7XG5cblx0XHRcdGZyYXBwZS5ydW5fc2VyaWFsbHkoW1xuXHRcdFx0XHQvLyBoZWFkZXIgbXVzdCBiZSByZWZyZXNoZWQgYmVmb3JlIGNsaWVudCBtZXRob2RzXG5cdFx0XHRcdC8vIGJlY2F1c2UgYWRkX2N1c3RvbV9idXR0b25cblx0XHRcdFx0KCkgPT4gdGhpcy5yZWZyZXNoX2hlYWRlcihzd2l0Y2hlZCksXG5cdFx0XHRcdC8vIHRyaWdnZXIgZ2xvYmFsIHRyaWdnZXJcblx0XHRcdFx0Ly8gdG8gdXNlIHRoaXNcblx0XHRcdFx0KCkgPT4gJChkb2N1bWVudCkudHJpZ2dlcignZm9ybS1yZWZyZXNoJywgW3RoaXNdKSxcblx0XHRcdFx0Ly8gZmllbGRzXG5cdFx0XHRcdCgpID0+IHRoaXMucmVmcmVzaF9maWVsZHMoKSxcblx0XHRcdFx0Ly8gY2FsbCB0cmlnZ2VyXG5cdFx0XHRcdCgpID0+IHRoaXMuc2NyaXB0X21hbmFnZXIudHJpZ2dlcigncmVmcmVzaCcpLFxuXHRcdFx0XHQvLyBjYWxsIG9ubG9hZCBwb3N0IHJlbmRlciBmb3IgY2FsbGJhY2tzIHRvIGJlIGZpcmVkXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy5jc2NyaXB0LmlzX29ubG9hZCkge1xuXHRcdFx0XHRcdFx0dGhpcy5vbmxvYWRfcG9zdF9yZW5kZXIoKTtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ29ubG9hZF9wb3N0X3JlbmRlcicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0KCkgPT4gdGhpcy5jc2NyaXB0LmlzX29ubG9hZCAmJiB0aGlzLmlzX25ldygpICYmIHRoaXMuZm9jdXNfb25fZmlyc3RfaW5wdXQoKSxcblx0XHRcdFx0KCkgPT4gdGhpcy5ydW5fYWZ0ZXJfbG9hZF9ob29rKCksXG5cdFx0XHRcdCgpID0+IHRoaXMuZGFzaGJvYXJkLmFmdGVyX3JlZnJlc2goKSxcblx0XHRcdF0pO1xuXHRcdH1cblxuXHRcdHRoaXMuJHdyYXBwZXIudHJpZ2dlcigncmVuZGVyX2NvbXBsZXRlJyk7XG5cblx0XHRmcmFwcGUuYWZ0ZXJfYWpheCgoKSA9PiB7XG5cdFx0XHQkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2Nyb2xsX3RvX2VsZW1lbnQoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0b25sb2FkX3Bvc3RfcmVuZGVyKCkge1xuXHRcdHRoaXMuc2V0dXBfaW1hZ2VfYXV0b2NvbXBsZXRpb25zX2luX21hcmtkb3duKCk7XG5cdH1cblxuXHRmb2N1c19vbl9maXJzdF9pbnB1dCgpIHtcblx0XHRsZXQgZmlyc3QgPSB0aGlzLmZvcm1fd3JhcHBlci5maW5kKCcuZm9ybS1sYXlvdXQgOmlucHV0OnZpc2libGU6Zmlyc3QnKTtcblx0XHRpZiAoIWluX2xpc3QoWydEYXRlJywgJ0RhdGV0aW1lJ10sIGZpcnN0LmF0dHIoJ2RhdGEtZmllbGR0eXBlJykpKSB7XG5cdFx0XHRmaXJzdC5mb2N1cygpO1xuXHRcdH1cblx0fVxuXG5cdHJ1bl9hZnRlcl9sb2FkX2hvb2soKSB7XG5cdFx0aWYgKGZyYXBwZS5yb3V0ZV9ob29rcy5hZnRlcl9sb2FkKSB7XG5cdFx0XHRsZXQgcm91dGVfY2FsbGJhY2sgPSBmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfbG9hZDtcblx0XHRcdGRlbGV0ZSBmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfbG9hZDtcblxuXHRcdFx0cm91dGVfY2FsbGJhY2sodGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0cmVmcmVzaF9maWVsZHMoKSB7XG5cdFx0dGhpcy5sYXlvdXQucmVmcmVzaCh0aGlzLmRvYyk7XG5cdFx0dGhpcy5sYXlvdXQucHJpbWFyeV9idXR0b24gPSB0aGlzLiR3cmFwcGVyLmZpbmQoJy5idG4tcHJpbWFyeScpO1xuXG5cdFx0Ly8gY2xlYW51cCBhY3Rpdml0aWVzIGFmdGVyIHJlZnJlc2hcblx0XHQvLyB0aGlzLmNsZWFudXBfcmVmcmVzaCh0aGlzKTtcblx0fVxuXG5cdGNsZWFudXBfcmVmcmVzaCgpIHtcblx0XHRpZiAodGhpcy5maWVsZHNfZGljdC5hbWVuZGVkX2Zyb20pIHtcblx0XHRcdGlmICh0aGlzLmRvYy5hbWVuZGVkX2Zyb20pIHtcblx0XHRcdFx0dW5oaWRlX2ZpZWxkKCdhbWVuZGVkX2Zyb20nKTtcblx0XHRcdFx0aWYgKHRoaXMuZmllbGRzX2RpY3QuYW1lbmRtZW50X2RhdGUpIHsgdW5oaWRlX2ZpZWxkKCdhbWVuZG1lbnRfZGF0ZScpOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoaWRlX2ZpZWxkKCdhbWVuZGVkX2Zyb20nKTtcblx0XHRcdFx0aWYgKHRoaXMuZmllbGRzX2RpY3QuYW1lbmRtZW50X2RhdGUpIHsgaGlkZV9maWVsZCgnYW1lbmRtZW50X2RhdGUnKTsgfVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLmZpZWxkc19kaWN0LnRyYXNoX3JlYXNvbikge1xuXHRcdFx0aWYgKHRoaXMuZG9jLnRyYXNoX3JlYXNvbiAmJiB0aGlzLmRvYy5kb2NzdGF0dXMgPT0gMikge1xuXHRcdFx0XHR1bmhpZGVfZmllbGQoJ3RyYXNoX3JlYXNvbicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGlkZV9maWVsZCgndHJhc2hfcmVhc29uJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5tZXRhLmF1dG9uYW1lICYmXG5cdFx0XHR0aGlzLm1ldGEuYXV0b25hbWUuc3Vic3RyKDAsIDYpID09ICdmaWVsZDonICYmXG5cdFx0XHQhdGhpcy5kb2MuX19pc2xvY2FsXG5cdFx0KSB7XG5cdFx0XHRsZXQgZm4gPSB0aGlzLm1ldGEuYXV0b25hbWUuc3Vic3RyKDYpO1xuXG5cdFx0XHRpZiAodGhpcy5kb2NbZm5dKSB7XG5cdFx0XHRcdHRoaXMudG9nZ2xlX2Rpc3BsYXkoZm4sIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5tZXRhLmF1dG9uYW1lID09ICduYW1pbmdfc2VyaWVzOicgJiYgIXRoaXMuZG9jLl9faXNsb2NhbCkge1xuXHRcdFx0dGhpcy50b2dnbGVfZGlzcGxheSgnbmFtaW5nX3NlcmllcycsIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHRyZWZyZXNoX2hlYWRlcihzd2l0Y2hlZCkge1xuXHRcdC8vIHNldCB0aXRsZVxuXHRcdC8vIG1haW4gdGl0bGVcblx0XHQvLyBpZiAoIXRoaXMubWV0YS5pbl9kaWFsb2cgfHwgdGhpcy5pbl9mb3JtKSB7XG5cdFx0Ly8gXHRmcmFwcGUudXRpbHMuc2V0X3RpdGxlKHRoaXMubWV0YS5pc3NpbmdsZSA/IHRoaXMuZG9jdHlwZSA6IHRoaXMuZG9jbmFtZSk7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gc2hvdyAvIGhpZGUgYnV0dG9uc1xuXHRcdGlmICh0aGlzLnRvb2xiYXIpIHtcblx0XHRcdGlmIChzd2l0Y2hlZCkge1xuXHRcdFx0XHR0aGlzLnRvb2xiYXIuY3VycmVudF9zdGF0dXMgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvb2xiYXIucmVmcmVzaCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGFzaGJvYXJkLnJlZnJlc2goKTtcblx0XHRmcmFwcGUuYnJlYWRjcnVtYnMudXBkYXRlKCk7XG5cblx0XHR0aGlzLnNob3dfc3VibWl0X21lc3NhZ2UoKTtcblx0XHR0aGlzLmNsZWFyX2N1c3RvbV9idXR0b25zKCk7XG5cdFx0dGhpcy5zaG93X3dlYl9saW5rKCk7XG5cdH1cblxuXHQvLyBTQVZFXG5cblx0c2F2ZV9vcl91cGRhdGUoKSB7XG5cdFx0aWYgKHRoaXMuc2F2ZV9kaXNhYmxlZCkgeyByZXR1cm47IH1cblxuXHRcdGlmICh0aGlzLmRvYy5kb2NzdGF0dXMgPT09IDApIHtcblx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5kb2MuZG9jc3RhdHVzID09PSAxICYmIHRoaXMuZG9jLl9fdW5zYXZlZCkge1xuXHRcdFx0dGhpcy5zYXZlKCdVcGRhdGUnKTtcblx0XHR9XG5cdH1cblxuXHRzYXZlKHNhdmVfYWN0aW9uLCBjYWxsYmFjaywgYnRuLCBvbl9lcnJvcikge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGJ0biAmJiAkKGJ0bikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdGZyYXBwZS51aS5mb3JtLmNsb3NlX2dyaWRfZm9ybSgpO1xuXHRcdFx0bWUudmFsaWRhdGVfYW5kX3NhdmUoc2F2ZV9hY3Rpb24sIGNhbGxiYWNrLCBidG4sIG9uX2Vycm9yLCByZXNvbHZlLCByZWplY3QpO1xuXHRcdH0pXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdG1lLnNob3dfc3VjY2Vzc19hY3Rpb24oKTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goZSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0XHRcdH0pO1xuXHR9XG5cblx0dmFsaWRhdGVfYW5kX3NhdmUoc2F2ZV9hY3Rpb24sIGNhbGxiYWNrLCBidG4sIG9uX2Vycm9yLCByZXNvbHZlLCByZWplY3QpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGlmICghc2F2ZV9hY3Rpb24pIHsgc2F2ZV9hY3Rpb24gPSAnU2F2ZSc7IH1cblx0XHR0aGlzLnZhbGlkYXRlX2Zvcm1fYWN0aW9uKHNhdmVfYWN0aW9uLCByZXNvbHZlKTtcblxuXHRcdGxldCBhZnRlcl9zYXZlID0gZnVuY3Rpb24gKHIpIHtcblx0XHRcdC8vIHRvIHJlbW92ZSBoYXNoIGZyb20gVVJMIHRvIGF2b2lkIHNjcm9sbCBhZnRlciBzYXZlXG5cdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCAnICcpO1xuXHRcdFx0aWYgKCFyLmV4Yykge1xuXHRcdFx0XHRpZiAoWydTYXZlJywgJ1VwZGF0ZScsICdBbWVuZCddLmluZGV4T2Yoc2F2ZV9hY3Rpb24pICE9PSAtMSkge1xuXHRcdFx0XHRcdGZyYXBwZS51dGlscy5wbGF5X3NvdW5kKCdjbGljaycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bWUuc2NyaXB0X21hbmFnZXIudHJpZ2dlcignYWZ0ZXJfc2F2ZScpO1xuXG5cdFx0XHRcdGlmIChmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc2F2ZSkge1xuXHRcdFx0XHRcdGxldCByb3V0ZV9jYWxsYmFjayA9IGZyYXBwZS5yb3V0ZV9ob29rcy5hZnRlcl9zYXZlO1xuXHRcdFx0XHRcdGRlbGV0ZSBmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc2F2ZTtcblxuXHRcdFx0XHRcdHJvdXRlX2NhbGxiYWNrKG1lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBzdWJtaXQgY29tbWVudCBpZiBlbnRlcmVkXG5cdFx0XHRcdGlmIChtZS5jb21tZW50X2JveCkge1xuXHRcdFx0XHRcdG1lLmNvbW1lbnRfYm94LnN1Ym1pdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1lLnJlZnJlc2goKTtcblx0XHRcdH0gZWxzZSBpZiAob25fZXJyb3IpIHtcblx0XHRcdFx0b25fZXJyb3IoKTtcblx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjayhyKTtcblx0XHRcdHJlc29sdmUoKTtcblx0XHR9O1xuXG5cdFx0bGV0IGZhaWwgPSBlID0+IHtcblx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHR9XG5cdFx0XHRidG4gJiYgJChidG4pLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0aWYgKG9uX2Vycm9yKSB7XG5cdFx0XHRcdG9uX2Vycm9yKCk7XG5cdFx0XHRcdHJlamVjdCgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAoc2F2ZV9hY3Rpb24gPT0gJ1VwZGF0ZScpIHtcblx0XHRcdGZyYXBwZS51aS5mb3JtLnNhdmUobWUsIHNhdmVfYWN0aW9uLCBhZnRlcl9zYXZlLCBidG4pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyB2YWxpZGF0ZVxuXHRcdFx0ZnJhcHBlLnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRmcmFwcGVcblx0XHRcdFx0LnJ1bl9zZXJpYWxseShbXG5cdFx0XHRcdFx0KCkgPT4gdGhpcy5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCd2YWxpZGF0ZScpLFxuXHRcdFx0XHRcdCgpID0+IHRoaXMuc2NyaXB0X21hbmFnZXIudHJpZ2dlcignYmVmb3JlX3NhdmUnKSxcblx0XHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIWZyYXBwZS52YWxpZGF0ZWQpIHtcblx0XHRcdFx0XHRcdFx0ZmFpbCgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZyYXBwZS51aS5mb3JtLnNhdmUobWUsIHNhdmVfYWN0aW9uLCBhZnRlcl9zYXZlLCBidG4pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0pXG5cdFx0XHRcdC5jYXRjaChmYWlsKTtcblx0XHR9XG5cdH1cblxuXHRzYXZlc3VibWl0KGJ0biwgY2FsbGJhY2ssIG9uX2Vycm9yKSB7XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHR0aGlzLnZhbGlkYXRlX2Zvcm1fYWN0aW9uKCdTdWJtaXQnKTtcblx0XHRcdGZyYXBwZS5jb25maXJtKFxuXHRcdFx0XHRfXygnUGVybWFuZW50bHkgU3VibWl0IHswfT8nLCBbdGhpcy5kb2NuYW1lXSksXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRmcmFwcGUudmFsaWRhdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRtZS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdiZWZvcmVfc3VibWl0JykudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWZyYXBwZS52YWxpZGF0ZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1lLnNhdmUoXG5cdFx0XHRcdFx0XHRcdCdTdWJtaXQnLFxuXHRcdFx0XHRcdFx0XHRmdW5jdGlvbiAocikge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChyLmV4Yykge1xuXHRcdFx0XHRcdFx0XHRcdFx0bWUuaGFuZGxlX3NhdmVfZmFpbChidG4sIG9uX2Vycm9yKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnJhcHBlLnV0aWxzLnBsYXlfc291bmQoJ3N1Ym1pdCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHRcdG1lLnNjcmlwdF9tYW5hZ2VyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC50cmlnZ2VyKCdvbl9zdWJtaXQnKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQudGhlbigoKSA9PiByZXNvbHZlKG1lKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc3VibWl0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgcm91dGVfY2FsbGJhY2sgPVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmcmFwcGUucm91dGVfaG9va3MuYWZ0ZXJfc3VibWl0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIGZyYXBwZS5yb3V0ZV9ob29rcy5hZnRlcl9zdWJtaXQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyb3V0ZV9jYWxsYmFjayhtZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGJ0bixcblx0XHRcdFx0XHRcdFx0KCkgPT4gbWUuaGFuZGxlX3NhdmVfZmFpbChidG4sIG9uX2Vycm9yKSxcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvciksXG5cdFx0XHQpO1xuXHRcdH0pO1xuXHR9XG5cblx0c2F2ZWNhbmNlbChidG4sIGNhbGxiYWNrLCBvbl9lcnJvcikge1xuXHRcdGNvbnN0IG1lID0gdGhpcztcblx0XHR0aGlzLnZhbGlkYXRlX2Zvcm1fYWN0aW9uKCdDYW5jZWwnKTtcblx0XHRtZS5pZ25vcmVfZG9jdHlwZXNfb25fY2FuY2VsX2FsbCA9IG1lLmlnbm9yZV9kb2N0eXBlc19vbl9jYW5jZWxfYWxsIHx8IFtdO1xuXHRcdGZyYXBwZVxuXHRcdFx0LmNhbGwoe1xuXHRcdFx0XHRtZXRob2Q6ICdmcmFwcGUuZGVzay5mb3JtLmxpbmtlZF93aXRoLmdldF9zdWJtaXR0ZWRfbGlua2VkX2RvY3MnLFxuXHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0ZG9jdHlwZTogbWUuZG9jLmRvY3R5cGUsXG5cdFx0XHRcdFx0bmFtZTogbWUuZG9jLm5hbWUsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZyZWV6ZTogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0XHQudGhlbihyID0+IHtcblx0XHRcdFx0aWYgKCFyLmV4Yykge1xuXHRcdFx0XHRcdGxldCBkb2N0eXBlc190b19jYW5jZWwgPSAoci5tZXNzYWdlLmRvY3MgfHwgW10pXG5cdFx0XHRcdFx0XHQubWFwKHZhbHVlID0+IHZhbHVlLmRvY3R5cGUpXG5cdFx0XHRcdFx0XHQuZmlsdGVyKHZhbHVlID0+ICFtZS5pZ25vcmVfZG9jdHlwZXNfb25fY2FuY2VsX2FsbC5pbmNsdWRlcyh2YWx1ZSkpO1xuXG5cdFx0XHRcdFx0aWYgKGRvY3R5cGVzX3RvX2NhbmNlbC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHJldHVybiBtZS5fY2FuY2VsX2FsbChyLCBidG4sIGNhbGxiYWNrLCBvbl9lcnJvcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtZS5fY2FuY2VsKGJ0biwgY2FsbGJhY2ssIG9uX2Vycm9yLCBmYWxzZSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdF9jYW5jZWxfYWxsKHIsIGJ0biwgY2FsbGJhY2ssIG9uX2Vycm9yKSB7XG5cdFx0Y29uc3QgbWUgPSB0aGlzO1xuXG5cdFx0Ly8gYWRkIGNvbmZpcm1hdGlvbiBtZXNzYWdlIGZvciBjYW5jZWxsaW5nIGFsbCBsaW5rZWQgZG9jc1xuXHRcdGxldCBsaW5rc190ZXh0ID0gJyc7XG5cdFx0bGV0IGxpbmtzID0gci5tZXNzYWdlLmRvY3M7XG5cdFx0Y29uc3QgZG9jdHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobGlua3MubWFwKGxpbmsgPT4gbGluay5kb2N0eXBlKSkpO1xuXG5cdFx0bWUuaWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGwgPSBtZS5pZ25vcmVfZG9jdHlwZXNfb25fY2FuY2VsX2FsbCB8fCBbXTtcblxuXHRcdGZvciAobGV0IGRvY3R5cGUgb2YgZG9jdHlwZXMpIHtcblx0XHRcdGlmICghbWUuaWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGwuaW5jbHVkZXMoZG9jdHlwZSkpIHtcblx0XHRcdFx0bGV0IGRvY25hbWVzID0gbGlua3Ncblx0XHRcdFx0XHQuZmlsdGVyKGxpbmsgPT4gbGluay5kb2N0eXBlID09IGRvY3R5cGUpXG5cdFx0XHRcdFx0Lm1hcChsaW5rID0+IGZyYXBwZS51dGlscy5nZXRfZm9ybV9saW5rKGxpbmsuZG9jdHlwZSwgbGluay5uYW1lLCB0cnVlKSlcblx0XHRcdFx0XHQuam9pbignLCAnKTtcblx0XHRcdFx0bGlua3NfdGV4dCArPSBgPGxpPjxzdHJvbmc+JHtfXyhkb2N0eXBlKX08L3N0cm9uZz46ICR7ZG9jbmFtZXN9PC9saT5gO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRsaW5rc190ZXh0ID0gYDx1bD4ke2xpbmtzX3RleHR9PC91bD5gO1xuXG5cdFx0bGV0IGNvbmZpcm1fbWVzc2FnZSA9IF9fKCd7MH0gezF9IGlzIGxpbmtlZCB3aXRoIHRoZSBmb2xsb3dpbmcgc3VibWl0dGVkIGRvY3VtZW50czogezJ9JywgW1xuXHRcdFx0X18obWUuZG9jLmRvY3R5cGUpLmJvbGQoKSxcblx0XHRcdG1lLmRvYy5uYW1lLFxuXHRcdFx0bGlua3NfdGV4dCxcblx0XHRdKTtcblxuXHRcdGxldCBjYW5fY2FuY2VsID0gbGlua3MuZXZlcnkobGluayA9PiBmcmFwcGUubW9kZWwuY2FuX2NhbmNlbChsaW5rLmRvY3R5cGUpKTtcblx0XHRpZiAoY2FuX2NhbmNlbCkge1xuXHRcdFx0Y29uZmlybV9tZXNzYWdlICs9IF9fKCdEbyB5b3Ugd2FudCB0byBjYW5jZWwgYWxsIGxpbmtlZCBkb2N1bWVudHM/Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbmZpcm1fbWVzc2FnZSArPSBfXygnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb25zIHRvIGNhbmNlbCBhbGwgbGlua2VkIGRvY3VtZW50cy4nKTtcblx0XHR9XG5cblx0XHQvLyBnZW5lcmF0ZSBkaWFsb2cgYm94IHRvIGNhbmNlbCBhbGwgbGlua2VkIGRvY3Ncblx0XHRsZXQgZCA9IG5ldyBmcmFwcGUudWkuRGlhbG9nKFxuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogX18oJ0NhbmNlbCBBbGwgRG9jdW1lbnRzJyksXG5cdFx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGZpZWxkdHlwZTogJ0hUTUwnLFxuXHRcdFx0XHRcdFx0b3B0aW9uczogYDxwIGNsYXNzPVwiZnJhcHBlLWNvbmZpcm0tbWVzc2FnZVwiPiR7Y29uZmlybV9tZXNzYWdlfTwvcD5gLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9LFxuXHRcdFx0KCkgPT4gbWUuaGFuZGxlX3NhdmVfZmFpbChidG4sIG9uX2Vycm9yKSxcblx0XHQpO1xuXG5cdFx0Ly8gaWYgdXNlciBjYW4gY2FuY2VsIGFsbCBsaW5rZWQgZG9jcywgYWRkIGFjdGlvbiB0byB0aGUgZGlhbG9nXG5cdFx0aWYgKGNhbl9jYW5jZWwpIHtcblx0XHRcdGQuc2V0X3ByaW1hcnlfYWN0aW9uKF9fKCdDYW5jZWwgQWxsJyksICgpID0+IHtcblx0XHRcdFx0ZC5oaWRlKCk7XG5cdFx0XHRcdGZyYXBwZS5jYWxsKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdmcmFwcGUuZGVzay5mb3JtLmxpbmtlZF93aXRoLmNhbmNlbF9hbGxfbGlua2VkX2RvY3MnLFxuXHRcdFx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0XHRcdGRvY3M6IGxpbmtzLFxuXHRcdFx0XHRcdFx0aWdub3JlX2RvY3R5cGVzX29uX2NhbmNlbF9hbGw6IG1lLmlnbm9yZV9kb2N0eXBlc19vbl9jYW5jZWxfYWxsIHx8IFtdLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZnJlZXplOiB0cnVlLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiByZXNwID0+IHtcblx0XHRcdFx0XHRcdGlmICghcmVzcC5leGMpIHtcblx0XHRcdFx0XHRcdFx0bWUucmVsb2FkX2RvYygpO1xuXHRcdFx0XHRcdFx0XHRtZS5fY2FuY2VsKGJ0biwgY2FsbGJhY2ssIG9uX2Vycm9yLCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGQuc2hvdygpO1xuXHR9XG5cblx0X2NhbmNlbChidG4sIGNhbGxiYWNrLCBvbl9lcnJvciwgc2tpcF9jb25maXJtKSB7XG5cdFx0Y29uc3QgbWUgPSB0aGlzO1xuXHRcdGNvbnN0IGNhbmNlbF9kb2MgPSAoKSA9PiB7XG5cdFx0XHRmcmFwcGUudmFsaWRhdGVkID0gdHJ1ZTtcblx0XHRcdG1lLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoJ2JlZm9yZV9jYW5jZWwnKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCFmcmFwcGUudmFsaWRhdGVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgYWZ0ZXJfY2FuY2VsID0gZnVuY3Rpb24gKHIpIHtcblx0XHRcdFx0XHRpZiAoci5leGMpIHtcblx0XHRcdFx0XHRcdG1lLmhhbmRsZV9zYXZlX2ZhaWwoYnRuLCBvbl9lcnJvcik7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZyYXBwZS51dGlscy5wbGF5X3NvdW5kKCdjYW5jZWwnKTtcblx0XHRcdFx0XHRcdG1lLnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRtZS5zY3JpcHRfbWFuYWdlci50cmlnZ2VyKCdhZnRlcl9jYW5jZWwnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGZyYXBwZS51aS5mb3JtLnNhdmUobWUsICdjYW5jZWwnLCBhZnRlcl9jYW5jZWwsIGJ0bik7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0aWYgKHNraXBfY29uZmlybSkge1xuXHRcdFx0Y2FuY2VsX2RvYygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmcmFwcGUuY29uZmlybShcblx0XHRcdFx0X18oJ1Blcm1hbmVudGx5IENhbmNlbCB7MH0/JywgW3RoaXMuZG9jbmFtZV0pLFxuXHRcdFx0XHRjYW5jZWxfZG9jLFxuXHRcdFx0XHRtZS5oYW5kbGVfc2F2ZV9mYWlsKGJ0biwgb25fZXJyb3IpLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRzYXZldHJhc2goKSB7XG5cdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbignRGVsZXRlJyk7XG5cdFx0ZnJhcHBlLm1vZGVsLmRlbGV0ZV9kb2ModGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUsICgpID0+IHtcblx0XHRcdHRoaXMuX19kZWxldGVkKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhbWVuZF9kb2MoKSB7XG5cdFx0aWYgKCF0aGlzLmZpZWxkc19kaWN0LmFtZW5kZWRfZnJvbSkge1xuXHRcdFx0ZnJhcHBlLm1zZ3ByaW50KF9fKCdcImFtZW5kZWRfZnJvbVwiIGZpZWxkIG11c3QgYmUgcHJlc2VudCB0byBkbyBhbiBhbWVuZG1lbnQuJykpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZyYXBwZVxuXHRcdFx0LnhjYWxsKCdmcmFwcGUuY2xpZW50LmlzX2RvY3VtZW50X2FtZW5kZWQnLCB7XG5cdFx0XHRcdGRvY3R5cGU6IHRoaXMuZG9jLmRvY3R5cGUsXG5cdFx0XHRcdGRvY25hbWU6IHRoaXMuZG9jLm5hbWUsXG5cdFx0XHR9KVxuXHRcdFx0LnRoZW4oaXNfYW1lbmRlZCA9PiB7XG5cdFx0XHRcdGlmIChpc19hbWVuZGVkKSB7XG5cdFx0XHRcdFx0ZnJhcHBlLnRocm93KFxuXHRcdFx0XHRcdFx0X18oJ1RoaXMgZG9jdW1lbnQgaXMgYWxyZWFkeSBhbWVuZGVkLCB5b3UgY2Fubm90IGFtbWVuZCBpdCBhZ2FpbicpLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy52YWxpZGF0ZV9mb3JtX2FjdGlvbignQW1lbmQnKTtcblx0XHRcdFx0bGV0IG1lID0gdGhpcztcblx0XHRcdFx0bGV0IGZuID0gZnVuY3Rpb24gKG5ld2RvYykge1xuXHRcdFx0XHRcdG5ld2RvYy5hbWVuZGVkX2Zyb20gPSBtZS5kb2NuYW1lO1xuXHRcdFx0XHRcdGlmIChtZS5maWVsZHNfZGljdCAmJiBtZS5maWVsZHNfZGljdC5hbWVuZG1lbnRfZGF0ZSkge1xuXHRcdFx0XHRcdFx0bmV3ZG9jLmFtZW5kbWVudF9kYXRlID0gZnJhcHBlLmRhdGV0aW1lLm9ial90b19zdHIobmV3IERhdGUoKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLmNvcHlfZG9jKGZuLCAxKTtcblx0XHRcdFx0ZnJhcHBlLnV0aWxzLnBsYXlfc291bmQoJ2NsaWNrJyk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdHZhbGlkYXRlX2Zvcm1fYWN0aW9uKFxuXHRcdGFjdGlvbjoga2V5b2YgdHlwZW9mIHRoaXMuYWN0aW9uX3Blcm1fdHlwZV9tYXAsXG5cdFx0cmVzb2x2ZT86ICgpID0+IHZvaWQsXG5cdCkge1xuXHRcdGxldCBwZXJtX3RvX2NoZWNrID0gdGhpcy5hY3Rpb25fcGVybV90eXBlX21hcFthY3Rpb25dO1xuXHRcdGxldCBhbGxvd2VkX2Zvcl93b3JrZmxvdyA9IGZhbHNlO1xuXHRcdGxldCBwZXJtcyA9IGZyYXBwZS5wZXJtLmdldF9wZXJtKHRoaXMuZG9jLmRvY3R5cGUpWzBdO1xuXG5cdFx0Ly8gQWxsb3cgc3VibWl0LCB3cml0ZSwgY2FuY2VsIGFuZCBjcmVhdGUgcGVybWlzc2lvbnMgZm9yIHJlYWQgb25seSBkb2N1bWVudHMgdGhhdCBhcmUgYXNzaWduZWQgYnlcblx0XHQvLyB3b3JrZmxvd3MgaWYgdGhlIHVzZXIgYWxyZWFkeSBoYXZlIHRob3NlIHBlcm1pc3Npb25zLiBUaGlzIGlzIHRvIGFsbG93IGZvciB1c2VycyB0b1xuXHRcdC8vIGNvbnRpbnVlIHRocm91Z2ggdGhlIHdvcmtmbG93IHN0YXRlcyBhbmQgdG8gYWxsb3cgZXhlY3V0aW9uIG9mIGZ1bmN0aW9ucyBsaWtlIER1cGxpY2F0ZS5cblx0XHRpZiAoXG5cdFx0XHQoZnJhcHBlLndvcmtmbG93LmlzX3JlYWRfb25seSh0aGlzLmRvY3R5cGUsIHRoaXMuZG9jbmFtZSkgJiZcblx0XHRcdFx0KHBlcm1zLndyaXRlIHx8IHBlcm1zLmNyZWF0ZSB8fCBwZXJtcy5zdWJtaXQgfHwgcGVybXMuY2FuY2VsKSkgfHxcblx0XHRcdCFmcmFwcGUud29ya2Zsb3cuaXNfcmVhZF9vbmx5KHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lKVxuXHRcdCkge1xuXHRcdFx0YWxsb3dlZF9mb3Jfd29ya2Zsb3cgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5wZXJtWzBdW3Blcm1fdG9fY2hlY2tdICYmICFhbGxvd2VkX2Zvcl93b3JrZmxvdykge1xuXHRcdFx0aWYgKHJlc29sdmUpIHtcblx0XHRcdFx0Ly8gcmUtZW5hYmxlIGJ1dHRvbnNcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRmcmFwcGUudGhyb3coXG5cdFx0XHRcdF9fKFxuXHRcdFx0XHRcdFwiTm8gcGVybWlzc2lvbiB0byAnezB9JyB7MX1cIixcblx0XHRcdFx0XHRbX18oYWN0aW9uKSwgX18odGhpcy5kb2MuZG9jdHlwZSldLFxuXHRcdFx0XHRcdCd7MH0gPSB2ZXJiLCB7MX0gPSBvYmplY3QnLFxuXHRcdFx0XHQpLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvLyBIRUxQRVJTXG5cblx0ZW5hYmxlX3NhdmUoKSB7XG5cdFx0dGhpcy5zYXZlX2Rpc2FibGVkID0gZmFsc2U7XG5cdFx0dGhpcy50b29sYmFyLnNldF9wcmltYXJ5X2FjdGlvbigpO1xuXHR9XG5cblx0ZGlzYWJsZV9zYXZlKHNldF9kaXJ0eSA9IGZhbHNlKSB7XG5cdFx0Ly8gSU1QT1JUQU5UOiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgaW4gcmVmcmVzaCBldmVudFxuXHRcdHRoaXMuc2F2ZV9kaXNhYmxlZCA9IHRydWU7XG5cdFx0dGhpcy50b29sYmFyLmN1cnJlbnRfc3RhdHVzID0gbnVsbDtcblx0XHQvLyBmaWVsZCBjaGFuZ2VzIHNob3VsZCBtYWtlIGZvcm0gZGlydHlcblx0XHR0aGlzLnNldF9kaXJ0eSA9IHNldF9kaXJ0eTtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfcHJpbWFyeV9hY3Rpb24oKTtcblx0fVxuXG5cdGRpc2FibGVfZm9ybSgpIHtcblx0XHR0aGlzLnNldF9yZWFkX29ubHkoKTtcblx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHRoaXMuZmllbGRzKSB7XG5cdFx0XHR0aGlzLnNldF9kZl9wcm9wZXJ0eShmaWVsZC5kZi5maWVsZG5hbWUsICdyZWFkX29ubHknLCAnMScpO1xuXHRcdH1cblx0XHR0aGlzLmRpc2FibGVfc2F2ZSgpO1xuXHR9XG5cblx0aGFuZGxlX3NhdmVfZmFpbChidG4sIG9uX2Vycm9yKSB7XG5cdFx0JChidG4pLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdGlmIChvbl9lcnJvcikge1xuXHRcdFx0b25fZXJyb3IoKTtcblx0XHR9XG5cdH1cblxuXHR0cmlnZ2VyX2xpbmtfZmllbGRzKCkge1xuXHRcdC8vIHRyaWdnZXIgbGluayBmaWVsZHMgd2hpY2ggaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXRcblx0XHRpZiAodGhpcy5pc19uZXcoKSAmJiB0aGlzLmRvYy5fX3J1bl9saW5rX3RyaWdnZXJzKSB7XG5cdFx0XHQkLmVhY2godGhpcy5maWVsZHNfZGljdCwgZnVuY3Rpb24gKGZpZWxkbmFtZSwgZmllbGQpIHtcblx0XHRcdFx0aWYgKGZpZWxkLmRmLmZpZWxkdHlwZSA9PSAnTGluaycgJiYgdGhpcy5kb2NbZmllbGRuYW1lXSkge1xuXHRcdFx0XHRcdC8vIHRyaWdnZXJzIGFkZCBmZXRjaCwgc2V0cyB2YWx1ZSBpbiBtb2RlbCBhbmQgcnVucyB0cmlnZ2Vyc1xuXHRcdFx0XHRcdGZpZWxkLnNldF92YWx1ZSh0aGlzLmRvY1tmaWVsZG5hbWVdLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGRlbGV0ZSB0aGlzLmRvYy5fX3J1bl9saW5rX3RyaWdnZXJzO1xuXHRcdH1cblx0fVxuXG5cdHNob3dfY29uZmxpY3RfbWVzc2FnZSgpIHtcblx0XHRpZiAodGhpcy5kb2MuX19uZWVkc19yZWZyZXNoKSB7XG5cdFx0XHRpZiAodGhpcy5kb2MuX191bnNhdmVkKSB7XG5cdFx0XHRcdHRoaXMuZGFzaGJvYXJkLmNsZWFyX2hlYWRsaW5lKCk7XG5cdFx0XHRcdHRoaXMuZGFzaGJvYXJkLnNldF9oZWFkbGluZV9hbGVydChcblx0XHRcdFx0XHRgJHtfXygnVGhpcyBmb3JtIGhhcyBiZWVuIG1vZGlmaWVkIGFmdGVyIHlvdSBoYXZlIGxvYWRlZCBpdCcpXG5cdFx0XHRcdFx0fTxidXR0b24gY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5IHB1bGwtcmlnaHRcIiBvbmNsaWNrPVwiY3VyX2ZybS5yZWxvYWRfZG9jKClcIj4ke1xuXHRcdFx0XHRcdFx0X18oJ1JlZnJlc2gnKVxuXHRcdFx0XHRcdH08L2J1dHRvbj5gLFxuXHRcdFx0XHRcdCdhbGVydC13YXJuaW5nJyxcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZGVib3VuY2VkX3JlbG9hZF9kb2MoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzaG93X3N1Ym1pdF9tZXNzYWdlKCkge1xuXHRcdGlmIChcblx0XHRcdHRoaXMubWV0YS5pc19zdWJtaXR0YWJsZSAmJlxuXHRcdFx0dGhpcy5wZXJtWzBdICYmXG5cdFx0XHR0aGlzLnBlcm1bMF0uc3VibWl0ICYmXG5cdFx0XHQhdGhpcy5pc19kaXJ0eSgpICYmXG5cdFx0XHQhdGhpcy5pc19uZXcoKSAmJlxuXHRcdFx0IWZyYXBwZS5tb2RlbC5oYXNfd29ya2Zsb3codGhpcy5kb2N0eXBlKSAmJiAvLyBzaG93IG9ubHkgaWYgbm8gd29ya2Zsb3dcblx0XHRcdHRoaXMuZG9jLmRvY3N0YXR1cyA9PT0gMFxuXHRcdCkge1xuXHRcdFx0dGhpcy5kYXNoYm9hcmQuYWRkX2NvbW1lbnQoX18oJ1N1Ym1pdCB0aGlzIGRvY3VtZW50IHRvIGNvbmZpcm0nKSwgJ2JsdWUnLCB0cnVlKTtcblx0XHR9XG5cdH1cblxuXHRzaG93X3dlYl9saW5rKCkge1xuXHRcdGlmICghdGhpcy5kb2MuX19pc2xvY2FsICYmIHRoaXMuZG9jLl9fb25sb2FkICYmIHRoaXMuZG9jLl9fb25sb2FkLmlzX3dlYnNpdGVfZ2VuZXJhdG9yKSB7XG5cdFx0XHR0aGlzLndlYl9saW5rICYmIHRoaXMud2ViX2xpbmsucmVtb3ZlKCk7XG5cdFx0XHRpZiAodGhpcy5kb2MuX19vbmxvYWQucHVibGlzaGVkKSB7XG5cdFx0XHRcdHRoaXMuYWRkX3dlYl9saW5rKGAvJHt0aGlzLmRvYy5yb3V0ZX1gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhZGRfd2ViX2xpbmsocGF0aCwgbGFiZWwpIHtcblx0XHRsYWJlbCA9IF9fKGxhYmVsKSB8fCBfXygnU2VlIG9uIFdlYnNpdGUnKTtcblx0XHR0aGlzLndlYl9saW5rID0gdGhpcy5zaWRlYmFyXG5cdFx0XHQuYWRkX3VzZXJfYWN0aW9uKF9fKGxhYmVsKSwgZnVuY3Rpb24gKCkgeyB9KVxuXHRcdFx0LmF0dHIoJ2hyZWYnLCBwYXRoIHx8IHRoaXMuZG9jLnJvdXRlKVxuXHRcdFx0LmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcblx0fVxuXG5cdGZldGNoX3Blcm1pc3Npb25zKCkge1xuXHRcdGxldCBkdCA9IHRoaXMucGFyZW50X2RvY3R5cGUgPyB0aGlzLnBhcmVudF9kb2N0eXBlIDogdGhpcy5kb2N0eXBlO1xuXHRcdHRoaXMucGVybSA9IGZyYXBwZS5wZXJtLmdldF9wZXJtKGR0LCB0aGlzLmRvYyk7XG5cdH1cblxuXHRoYXNfcmVhZF9wZXJtaXNzaW9uKCkge1xuXHRcdGlmICghdGhpcy5wZXJtWzBdLnJlYWQpIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdGNoZWNrX2RvY3R5cGVfY29uZmxpY3QoZG9jbmFtZSkge1xuXHRcdGlmICh0aGlzLmRvY3R5cGUgPT0gJ0RvY1R5cGUnICYmIGRvY25hbWUgPT0gJ0RvY1R5cGUnKSB7XG5cdFx0XHRmcmFwcGUubXNncHJpbnQoX18oJ0FsbG93aW5nIERvY1R5cGUsIERvY1R5cGUuIEJlIGNhcmVmdWwhJykpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5kb2N0eXBlID09ICdEb2NUeXBlJykge1xuXHRcdFx0aWYgKGZyYXBwZS52aWV3cy5mb3Jtdmlld1tkb2NuYW1lXSB8fCBmcmFwcGUucGFnZXNbYExpc3QvJHtkb2NuYW1lfWBdKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdFx0Ly9cdGZyYXBwZS5tc2dwcmludChfXyhcIkNhbm5vdCBvcGVuIHswfSB3aGVuIGl0cyBpbnN0YW5jZSBpcyBvcGVuXCIsIFsnRG9jVHlwZSddKSlcblx0XHRcdFx0Ly8gdGhyb3cgJ2RvY3R5cGUgb3BlbiBjb25mbGljdCdcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZnJhcHBlLnZpZXdzLmZvcm12aWV3LkRvY1R5cGUgJiZcblx0XHRcdGZyYXBwZS52aWV3cy5mb3Jtdmlldy5Eb2NUeXBlLmZybS5vcGVuZG9jc1t0aGlzLmRvY3R5cGVdXG5cdFx0KSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHQvL1x0ZnJhcHBlLm1zZ3ByaW50KF9fKFwiQ2Fubm90IG9wZW4gaW5zdGFuY2Ugd2hlbiBpdHMgezB9IGlzIG9wZW5cIiwgWydEb2NUeXBlJ10pKVxuXHRcdFx0Ly8gdGhyb3cgJ2RvY3R5cGUgb3BlbiBjb25mbGljdCdcblx0XHR9XG5cdH1cblxuXHQvLyByZW5hbWUgdGhlIGZvcm1cblx0Ly8gbm90aWZ5IHRoaXMgZm9ybSBvZiByZW5hbWVkIHJlY29yZHNcblx0cmVuYW1lX25vdGlmeShkdCwgb2xkLCBuYW1lKSB7XG5cdFx0Ly8gZnJvbSBmb3JtXG5cdFx0aWYgKHRoaXMubWV0YS5pc3RhYmxlKSB7IHJldHVybjsgfVxuXG5cdFx0aWYgKHRoaXMuZG9jbmFtZSA9PSBvbGQpIHsgdGhpcy5kb2NuYW1lID0gbmFtZTsgfVxuXHRcdGVsc2UgeyByZXR1cm47IH1cblxuXHRcdC8vIGNsZWFudXBcblx0XHRpZiAodGhpcyAmJiB0aGlzLm9wZW5kb2NzW29sZF0gJiYgZnJhcHBlLm1ldGEuZG9jZmllbGRfY29weVtkdF0pIHtcblx0XHRcdC8vIGRlbGV0ZSBkb2NmaWVsZCBjb3B5XG5cdFx0XHRmcmFwcGUubWV0YS5kb2NmaWVsZF9jb3B5W2R0XVtuYW1lXSA9IGZyYXBwZS5tZXRhLmRvY2ZpZWxkX2NvcHlbZHRdW29sZF07XG5cdFx0XHRkZWxldGUgZnJhcHBlLm1ldGEuZG9jZmllbGRfY29weVtkdF1bb2xkXTtcblx0XHR9XG5cblx0XHRkZWxldGUgdGhpcy5vcGVuZG9jc1tvbGRdO1xuXHRcdHRoaXMub3BlbmRvY3NbbmFtZV0gPSB0cnVlO1xuXG5cdH1cblxuXHQvLyBBQ1RJT05TXG5cblx0cHJpbnRfZG9jKCkge1xuXHRcdGZyYXBwZS5yb3V0ZV9vcHRpb25zID0ge1xuXHRcdFx0ZnJtOiB0aGlzLFxuXHRcdH07XG5cdFx0ZnJhcHBlLnNldF9yb3V0ZSgncHJpbnQnLCB0aGlzLmRvY3R5cGUsIHRoaXMuZG9jLm5hbWUpO1xuXHR9XG5cblx0bmF2aWdhdGVfcmVjb3JkcyhwcmV2KSB7XG5cdFx0bGV0IGZpbHRlcnMsIHNvcnRfZmllbGQsIHNvcnRfb3JkZXI7XG5cdFx0bGV0IGxpc3RfdmlldyA9IGZyYXBwZS5nZXRfbGlzdF92aWV3KHRoaXMuZG9jdHlwZSk7XG5cdFx0aWYgKGxpc3Rfdmlldykge1xuXHRcdFx0ZmlsdGVycyA9IGxpc3Rfdmlldy5nZXRfZmlsdGVyc19mb3JfYXJncygpO1xuXHRcdFx0c29ydF9maWVsZCA9IGxpc3Rfdmlldy5zb3J0X2J5O1xuXHRcdFx0c29ydF9vcmRlciA9IGxpc3Rfdmlldy5zb3J0X29yZGVyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgbGlzdF9zZXR0aW5ncyA9IGZyYXBwZS5nZXRfdXNlcl9zZXR0aW5ncyh0aGlzLmRvY3R5cGUpLkxpc3Q7XG5cdFx0XHRpZiAobGlzdF9zZXR0aW5ncykge1xuXHRcdFx0XHRmaWx0ZXJzID0gbGlzdF9zZXR0aW5ncy5maWx0ZXJzO1xuXHRcdFx0XHRzb3J0X2ZpZWxkID0gbGlzdF9zZXR0aW5ncy5zb3J0X2J5O1xuXHRcdFx0XHRzb3J0X29yZGVyID0gbGlzdF9zZXR0aW5ncy5zb3J0X29yZGVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGxldCBhcmdzID0ge1xuXHRcdFx0ZG9jdHlwZTogdGhpcy5kb2N0eXBlLFxuXHRcdFx0dmFsdWU6IHRoaXMuZG9jbmFtZSxcblx0XHRcdGZpbHRlcnMsXG5cdFx0XHRzb3J0X29yZGVyLFxuXHRcdFx0c29ydF9maWVsZCxcblx0XHRcdHByZXYsXG5cdFx0fTtcblxuXHRcdGZyYXBwZS5jYWxsKCdmcmFwcGUuZGVzay5mb3JtLnV0aWxzLmdldF9uZXh0JywgYXJncykudGhlbihyID0+IHtcblx0XHRcdGlmIChyLm1lc3NhZ2UpIHtcblx0XHRcdFx0ZnJhcHBlLnNldF9yb3V0ZSgnRm9ybScsIHRoaXMuZG9jdHlwZSwgci5tZXNzYWdlKTtcblx0XHRcdFx0dGhpcy5mb2N1c19vbl9maXJzdF9pbnB1dCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVuYW1lX2RvYygpIHtcblx0XHRmcmFwcGUubW9kZWwucmVuYW1lX2RvYyh0aGlzLmRvY3R5cGUsIHRoaXMuZG9jbmFtZSwgKCkgPT4gdGhpcy5yZWZyZXNoX2hlYWRlcigpKTtcblx0fVxuXG5cdHNoYXJlX2RvYygpIHtcblx0XHR0aGlzLnNoYXJlZC5zaG93KCk7XG5cdH1cblxuXHRlbWFpbF9kb2MobWVzc2FnZSkge1xuXHRcdG5ldyBmcmFwcGUudmlld3MuQ29tbXVuaWNhdGlvbkNvbXBvc2VyKHtcblx0XHRcdGRvYzogdGhpcy5kb2MsXG5cdFx0XHRmcm06IHRoaXMsXG5cdFx0XHRzdWJqZWN0OiBgJHtfXyh0aGlzLm1ldGEubmFtZSl9OiAke3RoaXMuZG9jbmFtZX1gLFxuXHRcdFx0cmVjaXBpZW50czogdGhpcy5kb2MuZW1haWwgfHwgdGhpcy5kb2MuZW1haWxfaWQgfHwgdGhpcy5kb2MuY29udGFjdF9lbWFpbCxcblx0XHRcdGF0dGFjaF9kb2N1bWVudF9wcmludDogdHJ1ZSxcblx0XHRcdG1lc3NhZ2UsXG5cdFx0fSk7XG5cdH1cblxuXHRjb3B5X2RvYyhvbmxvYWQsIGZyb21fYW1lbmQpIHtcblx0XHR0aGlzLnZhbGlkYXRlX2Zvcm1fYWN0aW9uKCdDcmVhdGUnKTtcblx0XHRsZXQgbmV3ZG9jID0gZnJhcHBlLm1vZGVsLmNvcHlfZG9jKHRoaXMuZG9jLCBmcm9tX2FtZW5kKTtcblxuXHRcdG5ld2RvYy5pZHggPSBudWxsO1xuXHRcdG5ld2RvYy5fX3J1bl9saW5rX3RyaWdnZXJzID0gZmFsc2U7XG5cdFx0aWYgKG9ubG9hZCkge1xuXHRcdFx0b25sb2FkKG5ld2RvYyk7XG5cdFx0fVxuXHRcdGZyYXBwZS5zZXRfcm91dGUoJ0Zvcm0nLCBuZXdkb2MuZG9jdHlwZSwgbmV3ZG9jLm5hbWUpO1xuXHR9XG5cblx0cmVsb2FkX2RvYygpIHtcblx0XHR0aGlzLmNoZWNrX2RvY3R5cGVfY29uZmxpY3QodGhpcy5kb2NuYW1lKTtcblxuXHRcdGlmICghdGhpcy5kb2MuX19pc2xvY2FsKSB7XG5cdFx0XHRmcmFwcGUubW9kZWwucmVtb3ZlX2Zyb21fbG9jYWxzKHRoaXMuZG9jdHlwZSwgdGhpcy5kb2NuYW1lKTtcblx0XHRcdHJldHVybiBmcmFwcGUubW9kZWwud2l0aF9kb2ModGhpcy5kb2N0eXBlLCB0aGlzLmRvY25hbWUsICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRyZWZyZXNoX2ZpZWxkKGZuYW1lKSB7XG5cdFx0aWYgKHRoaXMuZmllbGRzX2RpY3RbZm5hbWVdICYmIHRoaXMuZmllbGRzX2RpY3RbZm5hbWVdLnJlZnJlc2gpIHtcblx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZm5hbWVdLnJlZnJlc2goKTtcblx0XHRcdHRoaXMubGF5b3V0LnJlZnJlc2hfZGVwZW5kZW5jeSgpO1xuXHRcdFx0dGhpcy5sYXlvdXQucmVmcmVzaF9zZWN0aW9ucygpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFVUSUxJVElFU1xuXHRhZGRfZmV0Y2gobGlua19maWVsZCwgc291cmNlX2ZpZWxkLCB0YXJnZXRfZmllbGQsIHRhcmdldF9kb2N0eXBlKSB7XG5cdFx0Lypcblx0XHRFeGFtcGxlIGZldGNoIGRpY3QgdG8gZ2V0IHNlbmRlcl9lbWFpbCBmcm9tIGVtYWlsX2lkIGZpZWxkIGluIHNlbmRlcjpcblx0XHRcdHtcblx0XHRcdFx0XCJOb3RpZmljYXRpb25cIjoge1xuXHRcdFx0XHRcdFwic2VuZGVyXCI6IHtcblx0XHRcdFx0XHRcdFwic2VuZGVyX2VtYWlsXCI6IFwiZW1haWxfaWRcIlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCovXG5cblx0XHRpZiAoIXRhcmdldF9kb2N0eXBlKSB7IHRhcmdldF9kb2N0eXBlID0gJyonOyB9XG5cblx0XHQvLyBUYXJnZXQgZmllbGQga2VwdCBhcyBrZXkgYmVjYXVzZSBzb3VyY2UgZmllbGQgY291bGQgYmUgbm9uLXVuaXF1ZVxuXHRcdHRoaXMuZmV0Y2hfZGljdC5zZXREZWZhdWx0KHRhcmdldF9kb2N0eXBlLCB7fSkuc2V0RGVmYXVsdChsaW5rX2ZpZWxkLCB7fSlbdGFyZ2V0X2ZpZWxkXSA9XG5cdFx0XHRzb3VyY2VfZmllbGQ7XG5cdH1cblxuXHRoYXNfcGVybShwdHlwZSkge1xuXHRcdHJldHVybiBmcmFwcGUucGVybS5oYXNfcGVybSh0aGlzLmRvY3R5cGUsIDAsIHB0eXBlLCB0aGlzLmRvYyk7XG5cdH1cblxuXHRkaXJ0eSgpIHtcblx0XHR0aGlzLmRvYy5fX3Vuc2F2ZWQgPSAxO1xuXHRcdHRoaXMuJHdyYXBwZXIudHJpZ2dlcignZGlydHknKTtcblx0XHRpZiAoIWZyYXBwZS5ib290LmRldmVsb3Blcl9tb2RlKSB7XG5cdFx0XHRhZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmJlZm9yZVVubG9hZExpc3RlbmVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0X2RvY2luZm8oKSB7XG5cdFx0cmV0dXJuIGZyYXBwZS5tb2RlbC5kb2NpbmZvW3RoaXMuZG9jdHlwZV1bdGhpcy5kb2NuYW1lXTtcblx0fVxuXG5cdGlzX2RpcnR5KCkge1xuXHRcdHJldHVybiBCb29sZWFuKHRoaXMuZG9jLl9fdW5zYXZlZCk7XG5cdH1cblxuXHRpc19uZXcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9jLl9faXNsb2NhbDtcblx0fVxuXG5cdGdldF9wZXJtKHBlcm1sZXZlbCwgYWNjZXNzX3R5cGUpIHtcblx0XHRyZXR1cm4gdGhpcy5wZXJtW3Blcm1sZXZlbF0gPyB0aGlzLnBlcm1bcGVybWxldmVsXVthY2Nlc3NfdHlwZV0gOiBudWxsO1xuXHR9XG5cblx0c2V0X2ludHJvKHR4dCwgY29sb3IpIHtcblx0XHR0aGlzLmRhc2hib2FyZC5zZXRfaGVhZGxpbmVfYWxlcnQodHh0LCBjb2xvcik7XG5cdH1cblxuXHRzZXRfZm9vdG5vdGUodHh0KSB7XG5cdFx0dGhpcy5mb290bm90ZV9hcmVhID0gZnJhcHBlLnV0aWxzLnNldF9mb290bm90ZSh0aGlzLmZvb3Rub3RlX2FyZWEsIHRoaXMuYm9keSwgdHh0KTtcblx0fVxuXG5cdGFkZF9jdXN0b21fYnV0dG9uKGxhYmVsLCBmbiwgZ3JvdXApIHtcblx0XHQvLyB0ZW1wISBvbGQgcGFyYW1ldGVyIHVzZWQgdG8gYmUgaWNvblxuXHRcdGlmIChncm91cCAmJiBncm91cC5pbmRleE9mKCdmYSBmYS0nKSAhPT0gLTEpIHsgZ3JvdXAgPSBudWxsOyB9XG5cblx0XHRsZXQgYnRuID0gdGhpcy5wYWdlLmFkZF9pbm5lcl9idXR0b24obGFiZWwsIGZuLCBncm91cCk7XG5cblx0XHRpZiAoYnRuKSB7XG5cdFx0XHQvLyBBZGQgYWN0aW9ucyBhcyBtZW51IGl0ZW0gaW4gTW9iaWxlIFZpZXdcblx0XHRcdGxldCBtZW51X2l0ZW1fbGFiZWwgPSBncm91cCA/IGAke2dyb3VwfSA+ICR7bGFiZWx9YCA6IGxhYmVsO1xuXHRcdFx0bGV0IG1lbnVfaXRlbSA9IHRoaXMucGFnZS5hZGRfbWVudV9pdGVtKG1lbnVfaXRlbV9sYWJlbCwgZm4sIGZhbHNlKTtcblx0XHRcdG1lbnVfaXRlbS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuLXhsJyk7XG5cblx0XHRcdHRoaXMuY3VzdG9tX2J1dHRvbnNbbGFiZWxdID0gYnRuO1xuXHRcdH1cblx0XHRyZXR1cm4gYnRuO1xuXHR9XG5cblx0Y2hhbmdlX2N1c3RvbV9idXR0b25fdHlwZShsYWJlbCwgZ3JvdXAsIHR5cGUpIHtcblx0XHR0aGlzLnBhZ2UuY2hhbmdlX2lubmVyX2J1dHRvbl90eXBlKGxhYmVsLCBncm91cCwgdHlwZSk7XG5cdH1cblxuXHRjbGVhcl9jdXN0b21fYnV0dG9ucygpIHtcblx0XHR0aGlzLnBhZ2UuY2xlYXJfaW5uZXJfdG9vbGJhcigpO1xuXHRcdHRoaXMucGFnZS5jbGVhcl91c2VyX2FjdGlvbnMoKTtcblx0XHR0aGlzLmN1c3RvbV9idXR0b25zID0ge307XG5cdH1cblxuXHQvL1JlbW92ZSBzcGVjaWZpYyBjdXN0b20gYnV0dG9uIGJ5IGJ1dHRvbiBMYWJlbFxuXHRyZW1vdmVfY3VzdG9tX2J1dHRvbihsYWJlbCwgZ3JvdXApIHtcblx0XHR0aGlzLnBhZ2UucmVtb3ZlX2lubmVyX2J1dHRvbihsYWJlbCwgZ3JvdXApO1xuXHR9XG5cblx0c2Nyb2xsX3RvX2VsZW1lbnQoKSB7XG5cdFx0aWYgKGZyYXBwZS5yb3V0ZV9vcHRpb25zICYmIGZyYXBwZS5yb3V0ZV9vcHRpb25zLnNjcm9sbF90bykge1xuXHRcdFx0bGV0IHsgc2Nyb2xsX3RvIH0gPSBmcmFwcGUucm91dGVfb3B0aW9ucztcblx0XHRcdGRlbGV0ZSBmcmFwcGUucm91dGVfb3B0aW9ucy5zY3JvbGxfdG87XG5cblx0XHRcdGxldCBzZWxlY3RvciA9IFtdO1xuXHRcdFx0Zm9yIChsZXQga2V5IGluIHNjcm9sbF90bykge1xuXHRcdFx0XHRsZXQgdmFsdWUgPSBzY3JvbGxfdG9ba2V5XTtcblx0XHRcdFx0c2VsZWN0b3IucHVzaChyZXBsKCdbZGF0YS0lKGtleSlzPVwiJSh2YWx1ZSlzXCJdJywgeyBrZXksIHZhbHVlIH0pKTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSAkKHNlbGVjdG9yLmpvaW4oJyAnKSk7XG5cdFx0XHRpZiAoc2VsZWN0b3IubGVuZ3RoKSB7XG5cdFx0XHRcdGZyYXBwZS51dGlscy5zY3JvbGxfdG8oc2VsZWN0b3IpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcblx0XHRcdGlmICgkKHdpbmRvdy5sb2NhdGlvbi5oYXNoKS5sZW5ndGgpIHtcblx0XHRcdFx0ZnJhcHBlLnV0aWxzLnNjcm9sbF90byh3aW5kb3cubG9jYXRpb24uaGFzaCwgdHJ1ZSwgMjAwLCBudWxsLCBudWxsLCB0cnVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2Nyb2xsX3RvX2ZpZWxkKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykpICYmXG5cdFx0XHRcdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgJyAnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzaG93X3N1Y2Nlc3NfYWN0aW9uKCkge1xuXHRcdGNvbnN0IHJvdXRlID0gZnJhcHBlLmdldF9yb3V0ZSgpO1xuXHRcdGlmIChyb3V0ZVswXSAhPT0gJ0Zvcm0nKSB7IHJldHVybjsgfVxuXHRcdGlmICh0aGlzLm1ldGEuaXNfc3VibWl0dGFibGUgJiYgdGhpcy5kb2MuZG9jc3RhdHVzICE9PSAxKSB7IHJldHVybjsgfVxuXG5cdFx0Y29uc3Qgc3VjY2Vzc19hY3Rpb24gPSBuZXcgZnJhcHBlLnVpLmZvcm0uU3VjY2Vzc0FjdGlvbih0aGlzKTtcblx0XHRzdWNjZXNzX2FjdGlvbi5zaG93KCk7XG5cdH1cblxuXHRnZXRfZG9jKCkge1xuXHRcdHJldHVybiBsb2NhbHNbdGhpcy5kb2N0eXBlXVt0aGlzLmRvY25hbWVdO1xuXHR9XG5cblx0c2V0X2N1cnJlbmN5X2xhYmVscyhmaWVsZHNfbGlzdCwgY3VycmVuY3ksIHBhcmVudGZpZWxkKSB7XG5cdFx0Ly8gVG8gc2V0IHRoZSBjdXJyZW5jeSBpbiB0aGUgbGFiZWxcblx0XHQvLyBGb3IgZXhhbXBsZSBUb3RhbCBDb3N0KElOUiksIFRvdGFsIENvc3QoVVNEKVxuXHRcdGlmICghY3VycmVuY3kpIHsgcmV0dXJuOyB9XG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRsZXQgZG9jdHlwZSA9IHBhcmVudGZpZWxkID8gdGhpcy5maWVsZHNfZGljdFtwYXJlbnRmaWVsZF0uZ3JpZC5kb2N0eXBlIDogdGhpcy5kb2MuZG9jdHlwZTtcblx0XHRsZXQgZmllbGRfbGFiZWxfbWFwID0ge307XG5cdFx0bGV0IGdyaWRfZmllbGRfbGFiZWxfbWFwID0ge307XG5cblx0XHQkLmVhY2goZmllbGRzX2xpc3QsIGZ1bmN0aW9uIChpLCBmbmFtZSkge1xuXHRcdFx0bGV0IGRvY2ZpZWxkID0gZnJhcHBlLm1ldGEuZG9jZmllbGRfbWFwW2RvY3R5cGVdW2ZuYW1lXTtcblx0XHRcdGlmIChkb2NmaWVsZCkge1xuXHRcdFx0XHR2YXIgbGFiZWwgPSBfXyhkb2NmaWVsZC5sYWJlbCB8fCBcIlwiKS5yZXBsYWNlKC9cXChbXlxcKV0qXFwpL2csIFwiXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0XHRcdGlmIChwYXJlbnRmaWVsZCkge1xuXHRcdFx0XHRcdGdyaWRfZmllbGRfbGFiZWxfbWFwW2Ake2RvY3R5cGV9LSR7Zm5hbWV9YF0gPVxuXHRcdFx0XHRcdFx0YCR7bGFiZWwudHJpbSgpfSAoJHtfXyhjdXJyZW5jeSl9KWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmllbGRfbGFiZWxfbWFwW2ZuYW1lXSA9IGAke2xhYmVsLnRyaW0oKX0gKCR7Y3VycmVuY3l9KWA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdCQuZWFjaChmaWVsZF9sYWJlbF9tYXAsIGZ1bmN0aW9uIChmbmFtZSwgbGFiZWwpIHtcblx0XHRcdG1lLmZpZWxkc19kaWN0W2ZuYW1lXS5zZXRfbGFiZWwobGFiZWwpO1xuXHRcdH0pO1xuXG5cdFx0JC5lYWNoKGdyaWRfZmllbGRfbGFiZWxfbWFwLCBmdW5jdGlvbiAoZm5hbWUsIGxhYmVsKSB7XG5cdFx0XHRmbmFtZSA9IGZuYW1lLnNwbGl0KCctJyk7XG5cdFx0XHRtZS5maWVsZHNfZGljdFtwYXJlbnRmaWVsZF0uZ3JpZC51cGRhdGVfZG9jZmllbGRfcHJvcGVydHkoZm5hbWVbMV0sICdsYWJlbCcsIGxhYmVsKTtcblx0XHR9KTtcblx0fVxuXG5cdGZpZWxkX21hcChmbmFtZXMsIGZuKSB7XG5cdFx0aWYgKHR5cGVvZiBmbmFtZXMgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAoZm5hbWVzID09ICcqJykge1xuXHRcdFx0XHRmbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmZpZWxkc19kaWN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZuYW1lcyA9IFtmbmFtZXNdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmb3IgKGxldCBpID0gMCwgbCA9IGZuYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdGxldCBmaWVsZG5hbWUgPSBmbmFtZXNbaV07XG5cdFx0XHRsZXQgZmllbGQgPSBmcmFwcGUubWV0YS5nZXRfZG9jZmllbGQodGhpcy5kb2N0eXBlLCBmaWVsZG5hbWUsIHRoaXMuZG9jbmFtZSk7XG5cdFx0XHRpZiAoZmllbGQpIHtcblx0XHRcdFx0Zm4oZmllbGQpO1xuXHRcdFx0XHR0aGlzLnJlZnJlc2hfZmllbGQoZmllbGRuYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRnZXRfZG9jZmllbGQoZmllbGRuYW1lMSwgZmllbGRuYW1lMikge1xuXHRcdGlmIChmaWVsZG5hbWUyKSB7XG5cdFx0XHQvLyBmb3IgY2hpbGRcblx0XHRcdGxldCBkb2N0eXBlID0gdGhpcy5nZXRfZG9jZmllbGQoZmllbGRuYW1lMSkub3B0aW9ucztcblx0XHRcdHJldHVybiBmcmFwcGUubWV0YS5nZXRfZG9jZmllbGQoZG9jdHlwZSwgZmllbGRuYW1lMiwgdGhpcy5kb2NuYW1lKTtcblx0XHR9XG5cdFx0Ly8gZm9yIHBhcmVudFxuXHRcdHJldHVybiBmcmFwcGUubWV0YS5nZXRfZG9jZmllbGQodGhpcy5kb2N0eXBlLCBmaWVsZG5hbWUxLCB0aGlzLmRvY25hbWUpO1xuXG5cdH1cblxuXHRzZXRfZGZfcHJvcGVydHkoZmllbGRuYW1lLCBwcm9wZXJ0eSwgdmFsdWUsIGRvY25hbWUsIHRhYmxlX2ZpZWxkLCB0YWJsZV9yb3dfbmFtZSA9IG51bGwpIHtcblx0XHRsZXQgZGY7XG5cblx0XHRpZiAoIWRvY25hbWUgfHwgIXRhYmxlX2ZpZWxkKSB7XG5cdFx0XHRkZiA9IHRoaXMuZ2V0X2RvY2ZpZWxkKGZpZWxkbmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHsgZ3JpZCB9ID0gdGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdO1xuXHRcdFx0Y29uc3QgZmlsdGVyZWRfZmllbGRzID0gZnJhcHBlLnV0aWxzLmZpbHRlcl9kaWN0KGdyaWQuZG9jZmllbGRzLCB7XG5cdFx0XHRcdGZpZWxkbmFtZTogdGFibGVfZmllbGQsXG5cdFx0XHR9KTtcblx0XHRcdGlmIChmaWx0ZXJlZF9maWVsZHMubGVuZ3RoKSB7XG5cdFx0XHRcdGRmID0gZnJhcHBlLm1ldGEuZ2V0X2RvY2ZpZWxkKFxuXHRcdFx0XHRcdGZpbHRlcmVkX2ZpZWxkc1swXS5wYXJlbnQsXG5cdFx0XHRcdFx0dGFibGVfZmllbGQsXG5cdFx0XHRcdFx0dGFibGVfcm93X25hbWUsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGRmICYmIGRmW3Byb3BlcnR5XSAhPSB2YWx1ZSkge1xuXHRcdFx0ZGZbcHJvcGVydHldID0gdmFsdWU7XG5cblx0XHRcdGlmICh0YWJsZV9maWVsZCAmJiB0YWJsZV9yb3dfbmFtZSkge1xuXHRcdFx0XHRpZiAodGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdLmdyaWQuZ3JpZF9yb3dzX2J5X2RvY25hbWVbdGFibGVfcm93X25hbWVdKSB7XG5cdFx0XHRcdFx0dGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdLmdyaWQuZ3JpZF9yb3dzX2J5X2RvY25hbWVbXG5cdFx0XHRcdFx0XHR0YWJsZV9yb3dfbmFtZVxuXHRcdFx0XHRcdF0ucmVmcmVzaF9maWVsZChmaWVsZG5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJlZnJlc2hfZmllbGQoZmllbGRuYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0b2dnbGVfZW5hYmxlKGZuYW1lcywgZW5hYmxlKSB7XG5cdFx0dGhpcy5maWVsZF9tYXAoZm5hbWVzLCBmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGZpZWxkLnJlYWRfb25seSA9IGVuYWJsZSA/IDAgOiAxO1xuXHRcdH0pO1xuXHR9XG5cblx0dG9nZ2xlX3JlcWQoZm5hbWVzLCBtYW5kYXRvcnkpIHtcblx0XHR0aGlzLmZpZWxkX21hcChmbmFtZXMsIGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0ZmllbGQucmVxZCA9IG1hbmRhdG9yeSA/IHRydWUgOiBmYWxzZTtcblx0XHR9KTtcblx0fVxuXG5cdHRvZ2dsZV9kaXNwbGF5KGZuYW1lcywgc2hvdykge1xuXHRcdHRoaXMuZmllbGRfbWFwKGZuYW1lcywgZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRmaWVsZC5oaWRkZW4gPSBzaG93ID8gMCA6IDE7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRfZmlsZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYXR0YWNobWVudHNcblx0XHRcdD8gZnJhcHBlLnV0aWxzLnNvcnQodGhpcy5hdHRhY2htZW50cy5nZXRfYXR0YWNobWVudHMoKSwgJ2ZpbGVfbmFtZScsICdzdHJpbmcnKVxuXHRcdFx0OiBbXTtcblx0fVxuXG5cdHNldF9xdWVyeShmaWVsZG5hbWUsIG9wdDEsIG9wdDIpIHtcblx0XHRpZiAob3B0Mikge1xuXHRcdFx0Ly8gb24gY2hpbGQgdGFibGVcblx0XHRcdC8vIHNldF9xdWVyeShmaWVsZG5hbWUsIHBhcmVudCBmaWVsZG5hbWUsIHF1ZXJ5KVxuXHRcdFx0dGhpcy5maWVsZHNfZGljdFtvcHQxXS5ncmlkLmdldF9maWVsZChmaWVsZG5hbWUpLmdldF9xdWVyeSA9IG9wdDI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG9uIHBhcmVudCB0YWJsZVxuXHRcdFx0Ly8gc2V0X3F1ZXJ5KGZpZWxkbmFtZSwgcXVlcnkpXG5cdFx0XHRpZiAodGhpcy5maWVsZHNfZGljdFtmaWVsZG5hbWVdKSB7XG5cdFx0XHRcdHRoaXMuZmllbGRzX2RpY3RbZmllbGRuYW1lXS5nZXRfcXVlcnkgPSBvcHQxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNsZWFyX3RhYmxlKGZpZWxkbmFtZSkge1xuXHRcdGZyYXBwZS5tb2RlbC5jbGVhcl90YWJsZSh0aGlzLmRvYywgZmllbGRuYW1lKTtcblx0fVxuXG5cdGFkZF9jaGlsZChmaWVsZG5hbWUsIHZhbHVlcykge1xuXHRcdGxldCBkb2MgPSBmcmFwcGUubW9kZWwuYWRkX2NoaWxkKFxuXHRcdFx0dGhpcy5kb2MsXG5cdFx0XHRmcmFwcGUubWV0YS5nZXRfZG9jZmllbGQodGhpcy5kb2N0eXBlLCBmaWVsZG5hbWUpLm9wdGlvbnMsXG5cdFx0XHRmaWVsZG5hbWUsXG5cdFx0KTtcblx0XHRpZiAodmFsdWVzKSB7XG5cdFx0XHQvLyBWYWx1ZXMgb2YgdW5pcXVlIGtleXMgc2hvdWxkIG5vdCBiZSBvdmVycmlkZGVuXG5cdFx0XHRsZXQgZCA9IHt9O1xuXHRcdFx0bGV0IHVuaXF1ZV9rZXlzID0gWydpZHgnLCAnbmFtZSddO1xuXG5cdFx0XHRPYmplY3Qua2V5cyh2YWx1ZXMpLm1hcChrZXkgPT4ge1xuXHRcdFx0XHRpZiAoIXVuaXF1ZV9rZXlzLmluY2x1ZGVzKGtleSkpIHtcblx0XHRcdFx0XHRkW2tleV0gPSB2YWx1ZXNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdCQuZXh0ZW5kKGRvYywgZCk7XG5cdFx0fVxuXHRcdHJldHVybiBkb2M7XG5cdH1cblxuXHRzZXRfdmFsdWUoZmllbGQsIHZhbHVlLCBpZl9taXNzaW5nLCBza2lwX2RpcnR5X3RyaWdnZXIgPSBmYWxzZSkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0bGV0IF9zZXQgPSBmdW5jdGlvbiAoZiwgdikge1xuXHRcdFx0bGV0IGZpZWxkb2JqID0gbWUuZmllbGRzX2RpY3RbZl07XG5cdFx0XHRpZiAoZmllbGRvYmopIHtcblx0XHRcdFx0aWYgKCFpZl9taXNzaW5nIHx8ICFmcmFwcGUubW9kZWwuaGFzX3ZhbHVlKG1lLmRvY3R5cGUsIG1lLmRvYy5uYW1lLCBmKSkge1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGZyYXBwZS5tb2RlbC50YWJsZV9maWVsZHMuaW5jbHVkZXMoZmllbGRvYmouZGYuZmllbGR0eXBlKSAmJlxuXHRcdFx0XHRcdFx0JC5pc0FycmF5KHYpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHQvLyBzZXQgZW50aXJlIGNoaWxkIHRhYmxlIGZyb20gc3BlY2lmaWVkIGFycmF5IGFzIHZhbHVlXG5cdFx0XHRcdFx0XHRmcmFwcGUubW9kZWwuY2xlYXJfdGFibGUobWUuZG9jLCBmaWVsZG9iai5kZi5maWVsZG5hbWUpO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzdGFuZGFyZF9maWVsZHMgPSBbXG5cdFx0XHRcdFx0XHRcdC4uLmZyYXBwZS5tb2RlbC5zdGRfZmllbGRzX2xpc3QsXG5cdFx0XHRcdFx0XHRcdC4uLmZyYXBwZS5tb2RlbC5jaGlsZF90YWJsZV9maWVsZF9saXN0LFxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgW2lkeCwgZF0gb2Ygdi5lbnRyaWVzKCkpIHtcblx0XHRcdFx0XHRcdFx0bGV0IGNoaWxkID0gZnJhcHBlLm1vZGVsLmFkZF9jaGlsZChcblx0XHRcdFx0XHRcdFx0XHRtZS5kb2MsXG5cdFx0XHRcdFx0XHRcdFx0ZmllbGRvYmouZGYub3B0aW9ucyxcblx0XHRcdFx0XHRcdFx0XHRmaWVsZG9iai5kZi5maWVsZG5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0aWR4ICsgMSxcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCBzZXQgc3RhbmRhcmQgZmllbGQsIGF2b2lkIG11dGF0aW5nIGlucHV0IHRvby5cblx0XHRcdFx0XHRcdFx0bGV0IGRvY19jb3B5ID0geyAuLi5kIH07XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgZmllbGQgb2Ygc3RhbmRhcmRfZmllbGRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIGRvY19jb3B5W2ZpZWxkXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQkLmV4dGVuZChjaGlsZCwgZG9jX2NvcHkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRtZS5yZWZyZXNoX2ZpZWxkKGYpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZnJhcHBlLm1vZGVsLnNldF92YWx1ZShcblx0XHRcdFx0XHRcdG1lLmRvY3R5cGUsXG5cdFx0XHRcdFx0XHRtZS5kb2MubmFtZSxcblx0XHRcdFx0XHRcdGYsXG5cdFx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdFx0bWUuZmllbGR0eXBlLFxuXHRcdFx0XHRcdFx0c2tpcF9kaXJ0eV90cmlnZ2VyLFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnJhcHBlLm1zZ3ByaW50KF9fKCdGaWVsZCB7MH0gbm90IGZvdW5kLicsIFtmXSkpO1xuXHRcdFx0XHR0aHJvdyAnZnJtLnNldF92YWx1ZSc7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gX3NldChmaWVsZCwgdmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAoJC5pc1BsYWluT2JqZWN0KGZpZWxkKSkge1xuXHRcdFx0bGV0IHRhc2tzID0gW107XG5cdFx0XHRmb3IgKGxldCBmIGluIGZpZWxkKSB7XG5cdFx0XHRcdGxldCB2ID0gZmllbGRbZl07XG5cdFx0XHRcdGlmIChtZS5nZXRfZmllbGQoZikpIHtcblx0XHRcdFx0XHR0YXNrcy5wdXNoKCgpID0+IF9zZXQoZiwgdikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZnJhcHBlLnJ1bl9zZXJpYWxseSh0YXNrcyk7XG5cdFx0fVxuXHR9XG5cblx0Y2FsbChvcHRzLCBhcmdzLCBjYWxsYmFjaykge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0aWYgKHR5cGVvZiBvcHRzID09PSAnc3RyaW5nJykge1xuXHRcdFx0Ly8gY2FsbGVkIGFzIGZybS5jYWxsKCdkb190aGlzJywge3dpdGhfYXJnOiAnYXJnJ30pO1xuXHRcdFx0b3B0cyA9IHtcblx0XHRcdFx0bWV0aG9kOiBvcHRzLFxuXHRcdFx0XHRkb2M6IHRoaXMuZG9jLFxuXHRcdFx0XHRhcmdzLFxuXHRcdFx0XHRjYWxsYmFjayxcblx0XHRcdH07XG5cdFx0fVxuXHRcdGlmIChvcHRzLmRvYykge1xuXHRcdFx0b3B0cy5vcmlnaW5hbF9jYWxsYmFjayA9IG9wdHMuY2FsbGJhY2s7XG5cdFx0XHRvcHRzLmNhbGxiYWNrID0gZnVuY3Rpb24gKHIpIHtcblx0XHRcdFx0aWYgKCFyLmV4YykgeyBtZS5yZWZyZXNoX2ZpZWxkcygpOyB9XG5cblx0XHRcdFx0b3B0cy5vcmlnaW5hbF9jYWxsYmFjayAmJiBvcHRzLm9yaWdpbmFsX2NhbGxiYWNrKHIpO1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKG9wdHMubWV0aG9kLmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcblx0XHRcdFx0b3B0cy5tZXRob2QgPSBgJHtmcmFwcGUubW9kZWwuZ2V0X3NlcnZlcl9tb2R1bGVfbmFtZShtZS5kb2N0eXBlKX0uJHtvcHRzLm1ldGhvZH1gO1xuXHRcdFx0fVxuXHRcdFx0b3B0cy5vcmlnaW5hbF9jYWxsYmFjayA9IG9wdHMuY2FsbGJhY2s7XG5cdFx0XHRvcHRzLmNhbGxiYWNrID0gZnVuY3Rpb24gKHIpIHtcblx0XHRcdFx0aWYgKCQuaXNQbGFpbk9iamVjdChyLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdFx0aWYgKG9wdHMuY2hpbGQpIHtcblx0XHRcdFx0XHRcdC8vIHVwZGF0ZSBjaGlsZCBkb2Ncblx0XHRcdFx0XHRcdG9wdHMuY2hpbGQgPSBsb2NhbHNbb3B0cy5jaGlsZC5kb2N0eXBlXVtvcHRzLmNoaWxkLm5hbWVdO1xuXG5cdFx0XHRcdFx0XHRsZXQgc3RkX2ZpZWxkX2xpc3QgPSBbJ2RvY3R5cGUnXVxuXHRcdFx0XHRcdFx0XHQuY29uY2F0KGZyYXBwZS5tb2RlbC5zdGRfZmllbGRzX2xpc3QpXG5cdFx0XHRcdFx0XHRcdC5jb25jYXQoZnJhcHBlLm1vZGVsLmNoaWxkX3RhYmxlX2ZpZWxkX2xpc3QpO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQga2V5IGluIHIubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RkX2ZpZWxkX2xpc3QuaW5kZXhPZihrZXkpID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRcdG9wdHMuY2hpbGRba2V5XSA9IHIubWVzc2FnZVtrZXldO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1lLmZpZWxkc19kaWN0W29wdHMuY2hpbGQucGFyZW50ZmllbGRdLnJlZnJlc2goKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gdXBkYXRlIHBhcmVudCBkb2Ncblx0XHRcdFx0XHRcdG1lLnNldF92YWx1ZShyLm1lc3NhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRzLm9yaWdpbmFsX2NhbGxiYWNrICYmIG9wdHMub3JpZ2luYWxfY2FsbGJhY2socik7XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4gZnJhcHBlLmNhbGwob3B0cyk7XG5cdH1cblxuXHRnZXRfZmllbGQoZmllbGQpIHtcblx0XHRyZXR1cm4gdGhpcy5maWVsZHNfZGljdFtmaWVsZF07XG5cdH1cblxuXHRzZXRfcmVhZF9vbmx5KCkge1xuXHRcdGNvbnN0IGRvY3Blcm1zID0gZnJhcHBlLnBlcm0uZ2V0X3Blcm0odGhpcy5kb2MuZG9jdHlwZSk7XG5cdFx0dGhpcy5wZXJtID0gZG9jcGVybXMubWFwKHAgPT4gKHtcblx0XHRcdHJlYWQ6IHAucmVhZCxcblx0XHRcdGNhbmNlbDogcC5jYW5jZWwsXG5cdFx0XHRzaGFyZTogcC5zaGFyZSxcblx0XHRcdHByaW50OiBwLnByaW50LFxuXHRcdFx0ZW1haWw6IHAuZW1haWwsXG5cdFx0fSkpO1xuXHR9XG5cblx0dHJpZ2dlcihldmVudCwgZG9jdHlwZSwgZG9jbmFtZSkge1xuXHRcdHJldHVybiB0aGlzLnNjcmlwdF9tYW5hZ2VyLnRyaWdnZXIoZXZlbnQsIGRvY3R5cGUsIGRvY25hbWUpO1xuXHR9XG5cblx0Z2V0X2Zvcm1hdHRlZChmaWVsZG5hbWUpIHtcblx0XHRyZXR1cm4gZnJhcHBlLmZvcm1hdChcblx0XHRcdHRoaXMuZG9jW2ZpZWxkbmFtZV0sXG5cdFx0XHRmcmFwcGUubWV0YS5nZXRfZG9jZmllbGQodGhpcy5kb2N0eXBlLCBmaWVsZG5hbWUsIHRoaXMuZG9jbmFtZSksXG5cdFx0XHR7IG5vX2ljb246IHRydWUgfSxcblx0XHRcdHRoaXMuZG9jLFxuXHRcdCk7XG5cdH1cblxuXHRvcGVuX2dyaWRfcm93KCkge1xuXHRcdHJldHVybiBmcmFwcGUudWkuZm9ybS5nZXRfb3Blbl9ncmlkX2Zvcm0oKTtcblx0fVxuXG5cdGdldF90aXRsZSgpIHtcblx0XHRpZiAodGhpcy5tZXRhLnRpdGxlX2ZpZWxkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5kb2NbdGhpcy5tZXRhLnRpdGxlX2ZpZWxkXTtcblx0XHR9XG5cdFx0cmV0dXJuIFN0cmluZyh0aGlzLmRvYy5uYW1lKTtcblxuXHR9XG5cblx0Z2V0X3NlbGVjdGVkKCkge1xuXHRcdC8vIHJldHVybnMgbGlzdCBvZiBjaGlsZHJlbiB0aGF0IGFyZSBzZWxlY3RlZC4gcmV0dXJucyBbcGFyZW50ZmllbGQsIG5hbWVdIGZvciBlYWNoXG5cdFx0bGV0IHNlbGVjdGVkID0ge30sXG5cdFx0XHRtZSA9IHRoaXM7XG5cdFx0Zm9yIChjb25zdCBkZiBvZiBmcmFwcGUubWV0YS5nZXRfdGFibGVfZmllbGRzKHRoaXMuZG9jdHlwZSkpIHtcblx0XHRcdC8vIGhhbmRsZSBUYWJsZU11bHRpc2VsZWN0IGNoaWxkIGZpZWxkc1xuXHRcdFx0bGV0IF9zZWxlY3RlZCA9IFtdO1xuXG5cdFx0XHRpZiAobWUuZmllbGRzX2RpY3RbZGYuZmllbGRuYW1lXS5ncmlkKSB7XG5cdFx0XHRcdF9zZWxlY3RlZCA9IG1lLmZpZWxkc19kaWN0W2RmLmZpZWxkbmFtZV0uZ3JpZC5nZXRfc2VsZWN0ZWQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKF9zZWxlY3RlZC5sZW5ndGgpIHtcblx0XHRcdFx0c2VsZWN0ZWRbZGYuZmllbGRuYW1lXSA9IF9zZWxlY3RlZDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0c2V0X2luZGljYXRvcl9mb3JtYXR0ZXIoZmllbGRuYW1lLCBnZXRfY29sb3IsIGdldF90ZXh0KSB7XG5cdFx0Ly8gZ2V0IGRvY3R5cGUgZnJvbSBwYXJlbnRcblx0XHRsZXQgZG9jdHlwZTtcblx0XHRpZiAoZnJhcHBlLm1ldGEuZG9jZmllbGRfbWFwW3RoaXMuZG9jdHlwZV1bZmllbGRuYW1lXSkge1xuXHRcdFx0ZG9jdHlwZSA9IHRoaXMuZG9jdHlwZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhcHBlLm1ldGEuZ2V0X3RhYmxlX2ZpZWxkcyh0aGlzLmRvY3R5cGUpLmV2ZXJ5KGZ1bmN0aW9uIChkZikge1xuXHRcdFx0XHRpZiAoZnJhcHBlLm1ldGEuZG9jZmllbGRfbWFwW2RmLm9wdGlvbnNdW2ZpZWxkbmFtZV0pIHtcblx0XHRcdFx0XHRkb2N0eXBlID0gZGYub3B0aW9ucztcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZyYXBwZS5tZXRhLmRvY2ZpZWxkX21hcFtkb2N0eXBlXVtmaWVsZG5hbWVdLmZvcm1hdHRlciA9IGZ1bmN0aW9uIChcblx0XHRcdHZhbHVlLFxuXHRcdFx0ZGYsXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0ZG9jLFxuXHRcdCkge1xuXHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdGxldCBsYWJlbDtcblx0XHRcdFx0aWYgKGdldF90ZXh0KSB7XG5cdFx0XHRcdFx0bGFiZWwgPSBnZXRfdGV4dChkb2MpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGZyYXBwZS5mb3JtLmxpbmtfZm9ybWF0dGVyc1tkZi5vcHRpb25zXSkge1xuXHRcdFx0XHRcdGxhYmVsID0gZnJhcHBlLmZvcm0ubGlua19mb3JtYXR0ZXJzW2RmLm9wdGlvbnNdKHZhbHVlLCBkb2MpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxhYmVsID0gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBlc2NhcGVkX25hbWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXG5cdFx0XHRcdHJldHVybiBgXG5cdFx0XHRcdFx0XHQ8YSBjbGFzcz1cImluZGljYXRvciAke2dldF9jb2xvcihkb2MgfHwge30pfVwiXG5cdFx0XHRcdFx0XHRcdGhyZWY9XCIvYXBwLyR7ZnJhcHBlLnJvdXRlci5zbHVnKGRmLm9wdGlvbnMpfS8ke2VzY2FwZWRfbmFtZX1cIlxuXHRcdFx0XHRcdFx0XHRkYXRhLWRvY3R5cGU9XCIke2RmLm9wdGlvbnN9XCJcblx0XHRcdFx0XHRcdFx0ZGF0YS1uYW1lPVwiJHt2YWx1ZX1cIj5cblx0XHRcdFx0XHRcdFx0JHtsYWJlbH1cblx0XHRcdFx0XHRcdDwvYT5cblx0XHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICcnO1xuXG5cdFx0fTtcblx0fVxuXG5cdGNhbl9jcmVhdGUoZG9jdHlwZSkge1xuXHRcdC8vIHJldHVybiB0cnVlIG9yIGZhbHNlIGlmIHRoZSB1c2VyIGNhbiBtYWtlIGEgcGFydGljbGFyIGRvY3R5cGVcblx0XHQvLyB3aWxsIGNoZWNrIHBlcm1pc3Npb24sIGBjYW5fbWFrZV9tZXRob2RzYCBpZiBleGlzdHMsIG9yIHdpbGwgZGVjaWRlZCBvblxuXHRcdC8vIGJhc2lzIG9mIHdoZXRoZXIgdGhlIGRvY3VtZW50IGlzIHN1Ym1pdHRhYmxlXG5cdFx0aWYgKCFmcmFwcGUubW9kZWwuY2FuX2NyZWF0ZShkb2N0eXBlKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmN1c3RvbV9tYWtlX2J1dHRvbnMgJiYgdGhpcy5jdXN0b21fbWFrZV9idXR0b25zW2RvY3R5cGVdKSB7XG5cdFx0XHQvLyBjdXN0b20gYnV0dG9ucyBhcmUgdHJhbnNsYXRlZCBhbmQgc28gYXJlIHRoZSBrZXlzXG5cdFx0XHRjb25zdCBrZXkgPSBfXyh0aGlzLmN1c3RvbV9tYWtlX2J1dHRvbnNbZG9jdHlwZV0pO1xuXHRcdFx0Ly8gaWYgdGhlIGJ1dHRvbiBpcyBwcmVzZW50LCB0aGVuIHNob3cgbWFrZVxuXHRcdFx0cmV0dXJuIEJvb2xlYW4odGhpcy5jdXN0b21fYnV0dG9uc1trZXldKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jYW5fbWFrZV9tZXRob2RzICYmIHRoaXMuY2FuX21ha2VfbWV0aG9kc1tkb2N0eXBlXSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2FuX21ha2VfbWV0aG9kc1tkb2N0eXBlXSh0aGlzKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMubWV0YS5pc19zdWJtaXR0YWJsZSAmJiAhdGhpcy5kb2MuZG9jc3RhdHVzID09IDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cblxuXHR9XG5cblx0bWFrZV9uZXcoZG9jdHlwZSkge1xuXHRcdC8vIG1ha2UgbmV3IGRvY3R5cGUgZnJvbSB0aGUgY3VycmVudCBmb3JtXG5cdFx0Ly8gd2lsbCBoYW5kb3ZlciB0byBgbWFrZV9tZXRob2RzYCBpZiBkZWZpbmVkXG5cdFx0Ly8gb3Igd2lsbCBjcmVhdGUgYW5kIG1hdGNoIGxpbmsgZmllbGRzXG5cdFx0bGV0IG1lID0gdGhpcztcblx0XHRpZiAodGhpcy5tYWtlX21ldGhvZHMgJiYgdGhpcy5tYWtlX21ldGhvZHNbZG9jdHlwZV0pIHtcblx0XHRcdHJldHVybiB0aGlzLm1ha2VfbWV0aG9kc1tkb2N0eXBlXSh0aGlzKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuY3VzdG9tX21ha2VfYnV0dG9ucyAmJiB0aGlzLmN1c3RvbV9tYWtlX2J1dHRvbnNbZG9jdHlwZV0pIHtcblx0XHRcdHRoaXMuY3VzdG9tX2J1dHRvbnNbX18odGhpcy5jdXN0b21fbWFrZV9idXR0b25zW2RvY3R5cGVdKV0udHJpZ2dlcignY2xpY2snKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhcHBlLm1vZGVsLndpdGhfZG9jdHlwZShkb2N0eXBlLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGxldCBuZXdfZG9jID0gZnJhcHBlLm1vZGVsLmdldF9uZXdfZG9jKGRvY3R5cGUsIG51bGwsIG51bGwsIHRydWUpO1xuXG5cdFx0XHRcdC8vIHNldCBsaW5rIGZpZWxkcyAoaWYgZm91bmQpXG5cdFx0XHRcdG1lLnNldF9saW5rX2ZpZWxkKGRvY3R5cGUsIG5ld19kb2MpO1xuXG5cdFx0XHRcdGZyYXBwZS51aS5mb3JtLm1ha2VfcXVpY2tfZW50cnkoZG9jdHlwZSwgbnVsbCwgbnVsbCwgbmV3X2RvYyk7XG5cdFx0XHRcdC8vIGZyYXBwZS5zZXRfcm91dGUoJ0Zvcm0nLCBkb2N0eXBlLCBuZXdfZG9jLm5hbWUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0X2xpbmtfZmllbGQoZG9jdHlwZSwgbmV3X2RvYykge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0Zm9yIChjb25zdCBkZiBvZiBmcmFwcGUuZ2V0X21ldGEoZG9jdHlwZSkuZmllbGRzKSB7XG5cdFx0XHRpZiAoZGYuZmllbGR0eXBlID09PSAnTGluaycgJiYgZGYub3B0aW9ucyA9PT0gbWUuZG9jdHlwZSkge1xuXHRcdFx0XHRuZXdfZG9jW2RmLmZpZWxkbmFtZV0gPSBtZS5kb2MubmFtZTtcblx0XHRcdH0gZWxzZSBpZiAoWydMaW5rJywgJ0R5bmFtaWMgTGluayddLmluY2x1ZGVzKGRmLmZpZWxkdHlwZSkgJiYgbWUuZG9jW2RmLmZpZWxkbmFtZV0pIHtcblx0XHRcdFx0bmV3X2RvY1tkZi5maWVsZG5hbWVdID0gbWUuZG9jW2RmLmZpZWxkbmFtZV07XG5cdFx0XHR9IGVsc2UgaWYgKGRmLmZpZWxkdHlwZSA9PT0gJ1RhYmxlJyAmJiBkZi5vcHRpb25zICYmIGRmLnJlcWQpIHtcblx0XHRcdFx0bGV0IHJvdyA9IG5ld19kb2NbZGYuZmllbGRuYW1lXVswXTtcblx0XHRcdFx0bWUuc2V0X2xpbmtfZmllbGQoZGYub3B0aW9ucywgcm93KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR1cGRhdGVfaW5fYWxsX3Jvd3ModGFibGVfZmllbGRuYW1lLCBmaWVsZG5hbWUsIHZhbHVlKSB7XG5cdFx0Ly8gVXBkYXRlIHRoZSBgdmFsdWVgIG9mIHRoZSBmaWVsZCBuYW1lZCBgZmllbGRuYW1lYCBpbiBhbGwgcm93cyBvZiB0aGVcblx0XHQvLyBjaGlsZCB0YWJsZSBuYW1lZCBgdGFibGVfZmllbGRuYW1lYC5cblx0XHQvLyBEbyBub3Qgb3ZlcndyaXRlIGV4aXN0aW5nIHZhbHVlcy5cblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgeyByZXR1cm47IH1cblxuXHRcdGZvciAoY29uc3QgY2hpbGQgb2YgZnJhcHBlLm1vZGVsXG5cdFx0XHQuZ2V0X2NoaWxkcmVuKHRoaXMuZG9jLCB0YWJsZV9maWVsZG5hbWUpXG5cdFx0XHQuZmlsdGVyKGNoaWxkID0+ICFmcmFwcGUubW9kZWwuaGFzX3ZhbHVlKGNoaWxkLmRvY3R5cGUsIGNoaWxkLm5hbWUsIGZpZWxkbmFtZSkpKSB7IGZyYXBwZS5tb2RlbC5zZXRfdmFsdWUoY2hpbGQuZG9jdHlwZSwgY2hpbGQubmFtZSwgZmllbGRuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0X3N1bSh0YWJsZV9maWVsZG5hbWUsIGZpZWxkbmFtZSkge1xuXHRcdGxldCBzdW0gPSAwO1xuXHRcdGZvciAobGV0IGQgb2YgdGhpcy5kb2NbdGFibGVfZmllbGRuYW1lXSB8fCBbXSkge1xuXHRcdFx0c3VtICs9IGRbZmllbGRuYW1lXTtcblx0XHR9XG5cdFx0cmV0dXJuIHN1bTtcblx0fVxuXG5cdHNjcm9sbF90b19maWVsZChmaWVsZG5hbWUsIGZvY3VzID0gdHJ1ZSkge1xuXHRcdGxldCBmaWVsZCA9IHRoaXMuZ2V0X2ZpZWxkKGZpZWxkbmFtZSk7XG5cdFx0aWYgKCFmaWVsZCkgeyByZXR1cm47IH1cblxuXHRcdGxldCAkZWwgPSBmaWVsZC4kd3JhcHBlcjtcblxuXHRcdC8vIHNldCB0YWIgYXMgYWN0aXZlXG5cdFx0aWYgKGZpZWxkLnRhYiAmJiAhZmllbGQudGFiLmlzX2FjdGl2ZSgpKSB7XG5cdFx0XHRmaWVsZC50YWIuc2V0X2FjdGl2ZSgpO1xuXHRcdH1cblxuXHRcdC8vIHVuY29sbGFwc2Ugc2VjdGlvblxuXHRcdGlmIChmaWVsZC5zZWN0aW9uPy5pc19jb2xsYXBzZWQoKSkge1xuXHRcdFx0ZmllbGQuc2VjdGlvbi5jb2xsYXBzZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0Ly8gc2Nyb2xsIHRvIGlucHV0XG5cdFx0ZnJhcHBlLnV0aWxzLnNjcm9sbF90bygkZWwsIHRydWUsIDE1KTtcblxuXHRcdC8vIGZvY3VzIGlmIHRleHQgZmllbGRcblx0XHRpZiAoZm9jdXMpIHtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHQkZWwuZmluZCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKS5mb2N1cygpO1xuXHRcdFx0fSwgNTAwKTtcblx0XHR9XG5cblx0XHQvLyBoaWdobGlnaHQgY29udHJvbCBpbnNpZGUgZmllbGRcblx0XHRsZXQgY29udHJvbF9lbGVtZW50ID0gJGVsLmNsb3Nlc3QoJy5mcmFwcGUtY29udHJvbCcpO1xuXHRcdGNvbnRyb2xfZWxlbWVudC5hZGRDbGFzcygnaGlnaGxpZ2h0Jyk7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRjb250cm9sX2VsZW1lbnQucmVtb3ZlQ2xhc3MoJ2hpZ2hsaWdodCcpO1xuXHRcdH0sIDIwMDApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0c2V0dXBfZG9jaW5mb19jaGFuZ2VfbGlzdGVuZXIoKSB7XG5cdFx0bGV0IHsgZG9jdHlwZSB9ID0gdGhpcztcblx0XHRsZXQgeyBkb2NuYW1lIH0gPSB0aGlzO1xuXG5cdFx0aWYgKHRoaXMuZG9jICYmICF0aGlzLmlzX25ldygpKSB7XG5cdFx0XHRmcmFwcGUuc29ja2V0aW8uZG9jX3N1YnNjcmliZShkb2N0eXBlLCBkb2NuYW1lKTtcblx0XHR9XG5cdFx0ZnJhcHBlLnJlYWx0aW1lLm9mZignZG9jaW5mb191cGRhdGUnKTtcblx0XHRmcmFwcGUucmVhbHRpbWUub24oJ2RvY2luZm9fdXBkYXRlJywgKHsgZG9jLCBrZXksIGFjdGlvbiA9ICd1cGRhdGUnIH0pID0+IHtcblx0XHRcdGlmIChcblx0XHRcdFx0IWRvYy5yZWZlcmVuY2VfZG9jdHlwZSB8fFxuXHRcdFx0XHRcdCFkb2MucmVmZXJlbmNlX25hbWUgfHxcblx0XHRcdFx0XHRkb2MucmVmZXJlbmNlX2RvY3R5cGUgIT09IGRvY3R5cGUgfHxcblx0XHRcdFx0XHRkb2MucmVmZXJlbmNlX25hbWUgIT09IGRvY25hbWVcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRsZXQgZG9jX2xpc3QgPSBmcmFwcGUubW9kZWwuZG9jaW5mb1tkb2N0eXBlXVtkb2NuYW1lXVtrZXldIHx8IFtdO1xuXHRcdFx0bGV0IGRvY2luZGV4ID0gZG9jX2xpc3QuZmluZEluZGV4KG9sZF9kb2MgPT4gb2xkX2RvYy5uYW1lID09PSBkb2MubmFtZSk7XG5cblx0XHRcdGlmIChhY3Rpb24gPT09ICdhZGQnKSB7XG5cdFx0XHRcdGZyYXBwZS5tb2RlbC5kb2NpbmZvW2RvY3R5cGVdW2RvY25hbWVdW2tleV0ucHVzaChkb2MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRvY2luZGV4ID4gLTEpIHtcblx0XHRcdFx0aWYgKGFjdGlvbiA9PT0gJ3VwZGF0ZScpIHtcblx0XHRcdFx0XHRmcmFwcGUubW9kZWwuZG9jaW5mb1tkb2N0eXBlXVtkb2NuYW1lXVtrZXldLnNwbGljZShkb2NpbmRleCwgMSwgZG9jKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYWN0aW9uID09PSAnZGVsZXRlJykge1xuXHRcdFx0XHRcdGZyYXBwZS5tb2RlbC5kb2NpbmZvW2RvY3R5cGVdW2RvY25hbWVdW2tleV0uc3BsaWNlKGRvY2luZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gbm8gbmVlZCB0byB1cGRhdGUgdGltZWxpbmUgb2Ygb3duZXIgb2YgY29tbWVudFxuXHRcdFx0Ly8gZ2V0cyBoYW5kbGVkIHZpYSBjb21tZW50IHN1Ym1pdCBjb2RlXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCEoXG5cdFx0XHRcdFx0WydhZGQnLCAndXBkYXRlJ10uaW5jbHVkZXMoYWN0aW9uKSAmJlxuXHRcdFx0XHRcdGRvYy5kb2N0eXBlID09PSAnQ29tbWVudCcgJiZcblx0XHRcdFx0XHRkb2Mub3duZXIgPT09IGZyYXBwZS5zZXNzaW9uLnVzZXJcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMudGltZWxpbmUgJiYgdGhpcy50aW1lbGluZS5yZWZyZXNoKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBGaWx0ZXJzIGZpZWxkcyBmcm9tIHRoZSByZWZlcmVuY2UgZG9jdHlwZSBhbmQgc2V0cyB0aGVtIGFzIG9wdGlvbnMgZm9yIGEgU2VsZWN0IGZpZWxkXG5cdHNldF9maWVsZHNfYXNfb3B0aW9ucyhcblx0XHRmaWVsZG5hbWUsXG5cdFx0cmVmZXJlbmNlX2RvY3R5cGUsXG5cdFx0ZmlsdGVyX2Z1bmN0aW9uLFxuXHRcdGRlZmF1bHRfb3B0aW9ucyA9IFtdLFxuXHRcdHRhYmxlX2ZpZWxkbmFtZSxcblx0KSB7XG5cdFx0aWYgKCFyZWZlcmVuY2VfZG9jdHlwZSkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7IH1cblx0XHRsZXQgb3B0aW9ucyA9IGRlZmF1bHRfb3B0aW9ucyB8fCBbXTtcblx0XHRpZiAoIWZpbHRlcl9mdW5jdGlvbikgeyBmaWx0ZXJfZnVuY3Rpb24gPSBmID0+IGY7IH1cblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRmcmFwcGUubW9kZWwud2l0aF9kb2N0eXBlKHJlZmVyZW5jZV9kb2N0eXBlLCAoKSA9PiB7XG5cdFx0XHRcdGZyYXBwZS5nZXRfbWV0YShyZWZlcmVuY2VfZG9jdHlwZSkuZmllbGRzLm1hcChkZiA9PiB7XG5cdFx0XHRcdFx0ZmlsdGVyX2Z1bmN0aW9uKGRmKSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5wdXNoKHsgbGFiZWw6IGRmLmxhYmVsIHx8IGRmLmZpZWxkbmFtZSwgdmFsdWU6IGRmLmZpZWxkbmFtZSB9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdG9wdGlvbnMgJiZcblx0XHRcdFx0XHR0aGlzLnNldF9kZl9wcm9wZXJ0eShcblx0XHRcdFx0XHRcdGZpZWxkbmFtZSxcblx0XHRcdFx0XHRcdCdvcHRpb25zJyxcblx0XHRcdFx0XHRcdG9wdGlvbnMsXG5cdFx0XHRcdFx0XHR0aGlzLmRvYy5uYW1lLFxuXHRcdFx0XHRcdFx0dGFibGVfZmllbGRuYW1lLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdHJlc29sdmUob3B0aW9ucyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHRzZXRfYWN0aXZlX3RhYih0YWIpIHtcblx0XHRpZiAoIXRoaXMuYWN0aXZlX3RhYl9tYXApIHtcblx0XHRcdHRoaXMuYWN0aXZlX3RhYl9tYXAgPSB7fTtcblx0XHR9XG5cdFx0dGhpcy5hY3RpdmVfdGFiX21hcFt0aGlzLmRvY25hbWVdID0gdGFiO1xuXHR9XG5cdGdldF9hY3RpdmVfdGFiKCkge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZV90YWJfbWFwICYmIHRoaXMuYWN0aXZlX3RhYl9tYXBbdGhpcy5kb2NuYW1lXTtcblx0fVxuXG5cdGdldF9pbnZvbHZlZF91c2VycygpIHtcblx0XHRsZXQgdXNlcl9maWVsZHMgPSB0aGlzLm1ldGEuZmllbGRzXG5cdFx0XHQuZmlsdGVyKGQgPT4gZC5maWVsZHR5cGUgPT09ICdMaW5rJyAmJiBkLm9wdGlvbnMgPT09ICdVc2VyJylcblx0XHRcdC5tYXAoZCA9PiBkLmZpZWxkbmFtZSk7XG5cblx0XHR1c2VyX2ZpZWxkcyA9IFsuLi51c2VyX2ZpZWxkcywgJ293bmVyJywgJ21vZGlmaWVkX2J5J107XG5cdFx0bGV0IGludm9sdmVkX3VzZXJzID0gdXNlcl9maWVsZHMubWFwKGZpZWxkID0+IHRoaXMuZG9jW2ZpZWxkXSk7XG5cblx0XHRjb25zdCBkb2NpbmZvID0gdGhpcy5nZXRfZG9jaW5mbygpO1xuXG5cdFx0aW52b2x2ZWRfdXNlcnMgPSBpbnZvbHZlZF91c2Vycy5jb25jYXQoXG5cdFx0XHRkb2NpbmZvLmNvbW11bmljYXRpb25zLm1hcChkID0+IGQuc2VuZGVyICYmIGQuZGVsaXZlcnlfc3RhdHVzID09PSAnc2VudCcpLFxuXHRcdFx0ZG9jaW5mby5jb21tZW50cy5tYXAoZCA9PiBkLm93bmVyKSxcblx0XHRcdGRvY2luZm8udmVyc2lvbnMubWFwKGQgPT4gZC5vd25lciksXG5cdFx0XHRkb2NpbmZvLmFzc2lnbm1lbnRzLm1hcChkID0+IGQub3duZXIpLFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gaW52b2x2ZWRfdXNlcnNcblx0XHRcdC51bmlxQnkodSA9PiB1KVxuXHRcdFx0LmZpbHRlcih1c2VyID0+ICFbJ0FkbWluaXN0cmF0b3InLCBmcmFwcGUuc2Vzc2lvbi51c2VyXS5pbmNsdWRlcyh1c2VyKSlcblx0XHRcdC5maWx0ZXIoQm9vbGVhbik7XG5cdH1cbn1cbmludGVyZmFjZSBGb3JtIHtcblx0c2F2ZV9kaXNhYmxlZD86IGJvb2xlYW47XG5cdGRvYzogbG9jYWxzLkRvY3R5cGU7XG5cdHZpZXdlcnNcblx0c2V0dXBfZG9uZT86IGJvb2xlYW47XG5cdHRvb2xiYXI6IFRvb2xiYXJcblxuXHRmaWVsZHNcblx0ZmllbGRzX2RpY3Rcblx0c3RhdGVfZmllbGRuYW1lXG5cdHdyYXBwZXI6IEhUTUxFbGVtZW50XG5cdCR3cmFwcGVyOiBKUXVlcnlcblx0cGFnZTogUGFnZVxuXHRmb290ZXI/OiBGb290ZXJcblxuXG5cdGZvcm1fd3JhcHBlcjogalF1ZXJ5XG5cdGJvZHk6IGpRdWVyeVxuXHRsYXlvdXQ6IExheW91dFxufVxuZXhwb3J0IGRlZmF1bHQgRm9ybTtcbiIsICJleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBsb2FkRG9jKFxuXHRkb2N0eXBlOiBzdHJpbmcsXG5cdG5hbWU6IHN0cmluZyxcbikge1xuXG5cdGNvbnN0IGRvYyA9IGZyYXBwZS5nZXRfZG9jKGRvY3R5cGUsIG5hbWUpO1xuXHRpZiAoXG5cdFx0ZG9jICYmXG5cdFx0ZnJhcHBlLm1vZGVsLmdldF9kb2NpbmZvKGRvY3R5cGUsIG5hbWUpICYmXG5cdFx0KGRvYy5fX2lzbG9jYWwgfHwgZnJhcHBlLm1vZGVsLmlzX2ZyZXNoKGRvYykpXG5cdCkgeyByZXR1cm4gdHJ1ZTsgfVxuXHRyZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4ocmVzb2x2ZSA9PiB7XG5cdFx0ZnJhcHBlLm1vZGVsLndpdGhfZG9jKGRvY3R5cGUsIG5hbWUsIChuYW1lLCByKSA9PiB7XG5cdFx0XHRpZiAociAmJiByWyc0MDMnXSkgeyByZXR1cm4gcmVzb2x2ZShmYWxzZSk7IH1cblxuXHRcdFx0aWYgKCEobG9jYWxzW2RvY3R5cGVdICYmIGxvY2Fsc1tkb2N0eXBlXVtuYW1lXSkpIHtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdFx0cmVzb2x2ZSh0cnVlKTtcblx0XHR9KTtcblx0fSk7XG59XG4iLCAiaW1wb3J0IHsgc2hhbGxvd1JlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBkZWZpbmVTdG9yZSB9IGZyb20gJ3BpbmlhJztcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lU3RvcmUoJ0d1aWd1Okdsb2JhbFZpZXc6Rm9ybURldGFpbCcsICgpID0+IHtcblx0Y29uc3QgY3VycmVudFRhYiA9IHNoYWxsb3dSZWYoJycpO1xuXHRyZXR1cm4geyBjdXJyZW50VGFiIH07XG59KTtcbiIsICJpbXBvcnQgeyBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVTdGF0aWNWTm9kZSBhcyBfY3JlYXRlU3RhdGljVk5vZGUgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX2hvaXN0ZWRfMSA9IHsgcmVmOiBcInJvb3RcIiB9XG5jb25zdCBfaG9pc3RlZF8yID0geyBjbGFzczogXCJjb250YWluZXIgcGFnZS1ib2R5XCIgfVxuY29uc3QgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHsgY2xhc3M6IFwicGFnZS10b29sYmFyIGhpZGVcIiB9LCBbXG4gIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29udGFpbmVyXCIgfSlcbl0sIC0xIC8qIEhPSVNURUQgKi8pXG5jb25zdCBfaG9pc3RlZF80ID0geyBjbGFzczogXCJwYWdlLXdyYXBwZXJcIiB9XG5jb25zdCBfaG9pc3RlZF81ID0geyBjbGFzczogXCJwYWdlLWNvbnRlbnRcIiB9XG5jb25zdCBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgeyBjbGFzczogXCJ3b3JrZmxvdy1idXR0b24tYXJlYSBidG4tZ3JvdXAgcHVsbC1yaWdodCBoaWRlXCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7IGNsYXNzOiBcImNsZWFyZml4XCIgfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLylcbmNvbnN0IF9ob2lzdGVkXzggPSB7IGNsYXNzOiBcInJvdyBsYXlvdXQtbWFpblwiIH1cbmNvbnN0IF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVN0YXRpY1ZOb2RlKFwiPGRpdiBjbGFzcz1cXFwiY29sIGxheW91dC1tYWluLXNlY3Rpb24td3JhcHBlclxcXCI+PGRpdiBjbGFzcz1cXFwibGF5b3V0LW1haW4tc2VjdGlvblxcXCI+PGRpdj48ZGl2IGNsYXNzPVxcXCJzdGQtZm9ybS1sYXlvdXRcXFwiPjxkaXYgY2xhc3M9XFxcImZvcm0tbGF5b3V0XFxcIj48ZGl2IGNsYXNzPVxcXCJmb3JtLW1lc3NhZ2UgaGlkZGVuXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJmb3JtLXBhZ2VcXFwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcImxheW91dC1mb290ZXIgaGlkZVxcXCI+PC9kaXY+PC9kaXY+XCIsIDEpXG5jb25zdCBfaG9pc3RlZF8xMCA9IFtcImhpZGRlblwiXVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgX2NyZWF0ZVZOb2RlKCRzZXR1cFtcIkhlYWRlclwiXSwge1xuICAgICAgb3BlbjogJHNldHVwLm9wZW4sXG4gICAgICBcIm9uVXBkYXRlOm9wZW5cIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCgkc2V0dXAub3BlbikgPSAkZXZlbnQpKSxcbiAgICAgIGhhc1NpZGVyOiAhJHNldHVwLnNpbmdsZV9jb2x1bW4sXG4gICAgICBpc0hpZGVDbG9zZTogJHByb3BzLmlzSGlkZUNsb3NlLFxuICAgICAgb25IaWRlOiAkc2V0dXAuaGlkZVxuICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm9wZW5cIiwgXCJoYXNTaWRlclwiLCBcImlzSGlkZUNsb3NlXCJdKSxcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzIsIFtcbiAgICAgIF9ob2lzdGVkXzMsXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzQsIFtcbiAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF81LCBbXG4gICAgICAgICAgX2hvaXN0ZWRfNixcbiAgICAgICAgICBfaG9pc3RlZF83LFxuICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgX2hvaXN0ZWRfOCwgW1xuICAgICAgICAgICAgX2hvaXN0ZWRfOSxcbiAgICAgICAgICAgICghJHNldHVwLnNpbmdsZV9jb2x1bW4pXG4gICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgICBoaWRkZW46ICEkc2V0dXAub3BlbixcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImNvbC1sZy0yIGxheW91dC1zaWRlLXNlY3Rpb25cIlxuICAgICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzEwKSlcbiAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgIF0pXG4gICAgICAgIF0pXG4gICAgICBdKVxuICAgIF0pXG4gIF0sIDUxMiAvKiBORUVEX1BBVENIICovKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvZ3VpZ3UvZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTWFpbi52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy9ndWlndS9ndWlndS9wdWJsaWMvanMvRm9ybURldGFpbC9NYWluLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvTWFpbi52dWVcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgImltcG9ydCB7IG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSBcInZ1ZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIHJldHVybiAoJHByb3BzLnZhbHVlICYmICRzZXR1cC5kb2NNZXRhICYmICRzZXR1cC5uYW1lKVxuICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCRzZXR1cFtcIk1haW5cIl0sIHtcbiAgICAgICAga2V5OiBgJHskc2V0dXAuZG9jTWV0YS5uYW1lfTokeyRwcm9wcy52YWx1ZS5uYW1lfWAsXG4gICAgICAgIG1ldGE6ICRzZXR1cC5kb2NNZXRhLFxuICAgICAgICBvcHRpb25zOiAkcHJvcHMub3B0aW9ucyxcbiAgICAgICAgbG9hZGluZzogJHByb3BzLmxvYWRpbmcsXG4gICAgICAgIG5hbWU6ICRzZXR1cC5uYW1lLFxuICAgICAgICBpc0hpZGVDbG9zZTogJHByb3BzLmlzSGlkZUNsb3NlLFxuICAgICAgICB2YWx1ZTogJHNldHVwLmRvYyxcbiAgICAgICAgXCJvblVwZGF0ZTp2YWx1ZVwiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAoKCRzZXR1cC5kb2MpID0gJGV2ZW50KSksXG4gICAgICAgIG9uUmVmcmVzaDogJHNldHVwLnJlZnJlc2hcbiAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm1ldGFcIiwgXCJvcHRpb25zXCIsIFwibG9hZGluZ1wiLCBcIm5hbWVcIiwgXCJpc0hpZGVDbG9zZVwiLCBcInZhbHVlXCJdKSlcbiAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9Gb3JtRGV0YWlsL2luZGV4LnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiZ3VpZ3UvcHVibGljL2pzL0Zvcm1EZXRhaWwvaW5kZXgudnVlXCI7ZXhwb3J0IGRlZmF1bHQgc2NyaXB0OyIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoXCJkYXRhLXYtYzU0ZTEyNThcIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKVxuY29uc3QgX2hvaXN0ZWRfMSA9IHsgY2xhc3M6IFwiZm9ybS1jb250YWluZXJcIiB9XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICAoJHNldHVwLm1ldGEmJiRzZXR1cC5kZXRhaWwpXG4gICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJGb3JtRGV0YWlsXCJdLCB7XG4gICAgICAgICAga2V5OiAwLFxuICAgICAgICAgIGxvYWRpbmc6ICRzZXR1cC5sb2FkaW5nLFxuICAgICAgICAgIG1ldGE6ICRzZXR1cC5tZXRhLFxuICAgICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICAgIHZhbHVlOiAkc2V0dXAuZGV0YWlsLFxuICAgICAgICAgIGlzSGlkZUNsb3NlOiBcIlwiXG4gICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcImxvYWRpbmdcIiwgXCJtZXRhXCIsIFwidmFsdWVcIl0pKVxuICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICBdKSlcbn0iLCAiaW1wb3J0IHNjcmlwdCBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0RldGFpbC52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQgc3R5bGUwIGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXN0eWxlJmluZGV4PTBcIjtzdHlsZTAoc2NyaXB0KTtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvRGV0YWlsLnZ1ZT90eXBlPXRlbXBsYXRlXCI7IHNjcmlwdC5yZW5kZXIgPSByZW5kZXI7c2NyaXB0Ll9fZmlsZSA9IFwiLi4vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0RldGFpbC52dWVcIjtzY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtYzU0ZTEyNThcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgIjx0ZW1wbGF0ZT5cblx0PGRpdlxuXHRcdHJlZj1cIndyYXBwZXJSZWZcIlxuXHRcdGNsYXNzPVwiY29udGVudCBwYWdlLWNvbnRhaW5lclwiXG5cdFx0aWQ9XCJwYWdlLVdvcmtzcGFjZXNcIlxuXHRcdGRhdGEtcGFnZS1yb3V0ZT1cIldvcmtzcGFjZXNcIlxuXHQ+XG5cdDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPSd0cyc+XG5pbXBvcnQgeyByZWYsIHdhdGNoIH0gZnJvbSAndnVlJztcblxuaW1wb3J0IFdvcmtzcGFjZSBmcm9tICcuL3dvcmtzcGFjZS5qcyc7XG5cbmludGVyZmFjZSBQcm9wc3tcblx0b3JnYW5pemF0aW9uOnN0cmluZ1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmNvbnN0IHdyYXBwZXJSZWYgPSByZWY8SFRNTEVsZW1lbnQ+KCk7XG5cbndhdGNoKFt3cmFwcGVyUmVmLCAoKT0+cHJvcHMub3JnYW5pemF0aW9uXSwgKF8sIG9yZyk9Pntcblx0aWYgKCF3cmFwcGVyUmVmLnZhbHVlfHwhcHJvcHMub3JnYW5pemF0aW9uKXsgcmV0dXJuOyB9XG5cdHdyYXBwZXJSZWYudmFsdWUuaW5uZXJIVE1MID0gJyc7XG5cdGZyYXBwZS51aS5tYWtlX2FwcF9wYWdlKHtcblx0XHRwYXJlbnQ6IHdyYXBwZXJSZWYudmFsdWUsXG5cdFx0bmFtZTogJ1dvcmtzcGFjZXMnLFxuXHRcdHRpdGxlOiBfXygnV29ya3NwYWNlJyksXG5cdH0pO1xuXHRjb25zdCB3b3Jrc3BhY2UgPSBuZXcgV29ya3NwYWNlKHdyYXBwZXJSZWYudmFsdWUsIHByb3BzLm9yZ2FuaXphdGlvbik7XG5cdHdvcmtzcGFjZS5zaG93KCk7XG59LCB7aW1tZWRpYXRlOiB0cnVlfSk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9J2xlc3MnIHNjb3BlZD5cbi5jb250ZW50e1xuXHRoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHQ6ZGVlcCgucGFnZS1ib2R5KXtcblx0XHRvdmVyZmxvdzogYXV0bztcblx0fVxuXHQ6ZGVlcCgucGFnZS1oZWFkKXtcblx0XHRwb3NpdGlvbjogc3RhdGljO1xuXHR9XG59XG48L3N0eWxlPlxuIiwgInZhciBMdCA9IHR5cGVvZiBnbG9iYWxUaGlzIDwgXCJ1XCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCA8IFwidVwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgPCBcInVcIiA/IHNlbGYgOiB7fTtcbmZ1bmN0aW9uIHhlKHMpIHtcbiAgcmV0dXJuIHMgJiYgcy5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBcImRlZmF1bHRcIikgPyBzLmRlZmF1bHQgOiBzO1xufVxuZnVuY3Rpb24gQmUoKSB7XG59XG5PYmplY3QuYXNzaWduKEJlLCB7XG4gIGRlZmF1bHQ6IEJlLFxuICByZWdpc3RlcjogQmUsXG4gIHJldmVydDogZnVuY3Rpb24oKSB7XG4gIH0sXG4gIF9fZXNNb2R1bGU6ICEwXG59KTtcbkVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgfHwgKEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGZ1bmN0aW9uKHMpIHtcbiAgY29uc3QgZSA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgbGV0IHQgPSBlLmxlbmd0aDtcbiAgZm9yICg7IC0tdCA+PSAwICYmIGUuaXRlbSh0KSAhPT0gdGhpczsgKVxuICAgIDtcbiAgcmV0dXJuIHQgPiAtMTtcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCB8fCAoRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKHMpIHtcbiAgbGV0IGUgPSB0aGlzO1xuICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhlKSlcbiAgICByZXR1cm4gbnVsbDtcbiAgZG8ge1xuICAgIGlmIChlLm1hdGNoZXMocykpXG4gICAgICByZXR1cm4gZTtcbiAgICBlID0gZS5wYXJlbnRFbGVtZW50IHx8IGUucGFyZW50Tm9kZTtcbiAgfSB3aGlsZSAoZSAhPT0gbnVsbCk7XG4gIHJldHVybiBudWxsO1xufSk7XG5FbGVtZW50LnByb3RvdHlwZS5wcmVwZW5kIHx8IChFbGVtZW50LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24oZSkge1xuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICBBcnJheS5pc0FycmF5KGUpIHx8IChlID0gW2VdKSwgZS5mb3JFYWNoKChvKSA9PiB7XG4gICAgY29uc3QgaSA9IG8gaW5zdGFuY2VvZiBOb2RlO1xuICAgIHQuYXBwZW5kQ2hpbGQoaSA/IG8gOiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvKSk7XG4gIH0pLCB0aGlzLmluc2VydEJlZm9yZSh0LCB0aGlzLmZpcnN0Q2hpbGQpO1xufSk7XG5FbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkIHx8IChFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkID0gZnVuY3Rpb24ocykge1xuICBzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/ICEwIDogISFzO1xuICBjb25zdCBlID0gdGhpcy5wYXJlbnROb2RlLCB0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCksIG8gPSBwYXJzZUludCh0LmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItdG9wLXdpZHRoXCIpKSwgaSA9IHBhcnNlSW50KHQuZ2V0UHJvcGVydHlWYWx1ZShcImJvcmRlci1sZWZ0LXdpZHRoXCIpKSwgbiA9IHRoaXMub2Zmc2V0VG9wIC0gZS5vZmZzZXRUb3AgPCBlLnNjcm9sbFRvcCwgciA9IHRoaXMub2Zmc2V0VG9wIC0gZS5vZmZzZXRUb3AgKyB0aGlzLmNsaWVudEhlaWdodCAtIG8gPiBlLnNjcm9sbFRvcCArIGUuY2xpZW50SGVpZ2h0LCBhID0gdGhpcy5vZmZzZXRMZWZ0IC0gZS5vZmZzZXRMZWZ0IDwgZS5zY3JvbGxMZWZ0LCBsID0gdGhpcy5vZmZzZXRMZWZ0IC0gZS5vZmZzZXRMZWZ0ICsgdGhpcy5jbGllbnRXaWR0aCAtIGkgPiBlLnNjcm9sbExlZnQgKyBlLmNsaWVudFdpZHRoLCBjID0gbiAmJiAhcjtcbiAgKG4gfHwgcikgJiYgcyAmJiAoZS5zY3JvbGxUb3AgPSB0aGlzLm9mZnNldFRvcCAtIGUub2Zmc2V0VG9wIC0gZS5jbGllbnRIZWlnaHQgLyAyIC0gbyArIHRoaXMuY2xpZW50SGVpZ2h0IC8gMiksIChhIHx8IGwpICYmIHMgJiYgKGUuc2Nyb2xsTGVmdCA9IHRoaXMub2Zmc2V0TGVmdCAtIGUub2Zmc2V0TGVmdCAtIGUuY2xpZW50V2lkdGggLyAyIC0gaSArIHRoaXMuY2xpZW50V2lkdGggLyAyKSwgKG4gfHwgciB8fCBhIHx8IGwpICYmICFzICYmIHRoaXMuc2Nyb2xsSW50b1ZpZXcoYyk7XG59KTtcbmxldCBPdCA9IChzID0gMjEpID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkocykpLnJlZHVjZSgoZSwgdCkgPT4gKHQgJj0gNjMsIHQgPCAzNiA/IGUgKz0gdC50b1N0cmluZygzNikgOiB0IDwgNjIgPyBlICs9ICh0IC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpIDogdCA+IDYyID8gZSArPSBcIi1cIiA6IGUgKz0gXCJfXCIsIGUpLCBcIlwiKTtcbnZhciBldCA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLlZFUkJPU0UgPSBcIlZFUkJPU0VcIiwgcy5JTkZPID0gXCJJTkZPXCIsIHMuV0FSTiA9IFwiV0FSTlwiLCBzLkVSUk9SID0gXCJFUlJPUlwiLCBzKSkoZXQgfHwge30pO1xuY29uc3QgQiA9IHtcbiAgQkFDS1NQQUNFOiA4LFxuICBUQUI6IDksXG4gIEVOVEVSOiAxMyxcbiAgU0hJRlQ6IDE2LFxuICBDVFJMOiAxNyxcbiAgQUxUOiAxOCxcbiAgRVNDOiAyNyxcbiAgU1BBQ0U6IDMyLFxuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBET1dOOiA0MCxcbiAgUklHSFQ6IDM5LFxuICBERUxFVEU6IDQ2LFxuICBNRVRBOiA5MVxufSwgX3QgPSB7XG4gIExFRlQ6IDAsXG4gIFdIRUVMOiAxLFxuICBSSUdIVDogMixcbiAgQkFDS1dBUkQ6IDMsXG4gIEZPUldBUkQ6IDRcbn07XG5mdW5jdGlvbiBnZShzLCBlLCB0ID0gXCJsb2dcIiwgbywgaSA9IFwiY29sb3I6IGluaGVyaXRcIikge1xuICBpZiAoIShcImNvbnNvbGVcIiBpbiB3aW5kb3cpIHx8ICF3aW5kb3cuY29uc29sZVt0XSlcbiAgICByZXR1cm47XG4gIGNvbnN0IG4gPSBbXCJpbmZvXCIsIFwibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCJdLmluY2x1ZGVzKHQpLCByID0gW107XG4gIHN3aXRjaCAoZ2UubG9nTGV2ZWwpIHtcbiAgICBjYXNlIFwiRVJST1JcIjpcbiAgICAgIGlmICh0ICE9PSBcImVycm9yXCIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJXQVJOXCI6XG4gICAgICBpZiAoIVtcImVycm9yXCIsIFwid2FyblwiXS5pbmNsdWRlcyh0KSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIklORk9cIjpcbiAgICAgIGlmICghbiB8fCBzKVxuICAgICAgICByZXR1cm47XG4gICAgICBicmVhaztcbiAgfVxuICBvICYmIHIucHVzaChvKTtcbiAgY29uc3QgYSA9IFwiRWRpdG9yLmpzIDIuMjcuMFwiLCBsID0gYGxpbmUtaGVpZ2h0OiAxZW07XG4gICAgICAgICAgICBjb2xvcjogIzAwNkZFQTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxZW07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgcGFkZGluZzogNHB4IDlweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LCAxMzgsIDIyOSwgMC4xNik7XG4gICAgICAgICAgICBtYXJnaW46IDRweCA1cHggNHB4IDA7YDtcbiAgcyAmJiAobiA/IChyLnVuc2hpZnQobCwgaSksIGUgPSBgJWMke2F9JWMgJHtlfWApIDogZSA9IGAoICR7YX0gKSR7ZX1gKTtcbiAgdHJ5IHtcbiAgICBuID8gbyA/IGNvbnNvbGVbdF0oYCR7ZX0gJW9gLCAuLi5yKSA6IGNvbnNvbGVbdF0oZSwgLi4ucikgOiBjb25zb2xlW3RdKGUpO1xuICB9IGNhdGNoIHtcbiAgfVxufVxuZ2UubG9nTGV2ZWwgPSBcIlZFUkJPU0VcIjtcbmZ1bmN0aW9uIEF0KHMpIHtcbiAgZ2UubG9nTGV2ZWwgPSBzO1xufVxuY29uc3QgVCA9IGdlLmJpbmQod2luZG93LCAhMSksIEsgPSBnZS5iaW5kKHdpbmRvdywgITApO1xuZnVuY3Rpb24gdGUocykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHMpLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBEKHMpIHtcbiAgcmV0dXJuIHRlKHMpID09PSBcImZ1bmN0aW9uXCIgfHwgdGUocykgPT09IFwiYXN5bmNmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gaihzKSB7XG4gIHJldHVybiB0ZShzKSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIEoocykge1xuICByZXR1cm4gdGUocykgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBOdChzKSB7XG4gIHJldHVybiB0ZShzKSA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBWZShzKSB7XG4gIHJldHVybiB0ZShzKSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIFplKHMpIHtcbiAgcmV0dXJuIHRlKHMpID09PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gVihzKSB7XG4gIHJldHVybiBzID8gT2JqZWN0LmtleXMocykubGVuZ3RoID09PSAwICYmIHMuY29uc3RydWN0b3IgPT09IE9iamVjdCA6ICEwO1xufVxuZnVuY3Rpb24gdHQocykge1xuICByZXR1cm4gcyA+IDQ3ICYmIHMgPCA1OCB8fCAvLyBudW1iZXIga2V5c1xuICBzID09PSAzMiB8fCBzID09PSAxMyB8fCAvLyBTcGFjZSBiYXIgJiByZXR1cm4ga2V5KHMpXG4gIHMgPT09IDIyOSB8fCAvLyBwcm9jZXNzaW5nIGtleSBpbnB1dCBmb3IgY2VydGFpbiBsYW5ndWFnZXMgXHUyMDE0IENoaW5lc2UsIEphcGFuZXNlLCBldGMuXG4gIHMgPiA2NCAmJiBzIDwgOTEgfHwgLy8gbGV0dGVyIGtleXNcbiAgcyA+IDk1ICYmIHMgPCAxMTIgfHwgLy8gTnVtcGFkIGtleXNcbiAgcyA+IDE4NSAmJiBzIDwgMTkzIHx8IC8vIDs9LC0uL2AgKGluIG9yZGVyKVxuICBzID4gMjE4ICYmIHMgPCAyMjM7XG59XG5hc3luYyBmdW5jdGlvbiBvdChzLCBlID0gKCkgPT4ge1xufSwgdCA9ICgpID0+IHtcbn0pIHtcbiAgYXN5bmMgZnVuY3Rpb24gbyhpLCBuLCByKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGkuZnVuY3Rpb24oaS5kYXRhKSwgYXdhaXQgbihaZShpLmRhdGEpID8ge30gOiBpLmRhdGEpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcihaZShpLmRhdGEpID8ge30gOiBpLmRhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5yZWR1Y2UoYXN5bmMgKGksIG4pID0+IChhd2FpdCBpLCBvKG4sIGUsIHQpKSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xufVxuZnVuY3Rpb24gaXQocykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocyk7XG59XG5mdW5jdGlvbiBvZShzLCBlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0ID0gdGhpcywgbyA9IGFyZ3VtZW50cztcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBzLmFwcGx5KHQsIG8pLCBlKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIFJ0KHMpIHtcbiAgcmV0dXJuIHMubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XG59XG5mdW5jdGlvbiBEdChzKSB7XG4gIHJldHVybiAvXlstXFx3XStcXC8oWy0rXFx3XSt8XFwqKSQvLnRlc3Qocyk7XG59XG5mdW5jdGlvbiBQdChzLCBlLCB0KSB7XG4gIGxldCBvO1xuICByZXR1cm4gKC4uLmkpID0+IHtcbiAgICBjb25zdCBuID0gdGhpcywgciA9ICgpID0+IHtcbiAgICAgIG8gPSBudWxsLCB0IHx8IHMuYXBwbHkobiwgaSk7XG4gICAgfSwgYSA9IHQgJiYgIW87XG4gICAgd2luZG93LmNsZWFyVGltZW91dChvKSwgbyA9IHdpbmRvdy5zZXRUaW1lb3V0KHIsIGUpLCBhICYmIHMuYXBwbHkobiwgaSk7XG4gIH07XG59XG5mdW5jdGlvbiBUZShzLCBlLCB0ID0gdm9pZCAwKSB7XG4gIGxldCBvLCBpLCBuLCByID0gbnVsbCwgYSA9IDA7XG4gIHQgfHwgKHQgPSB7fSk7XG4gIGNvbnN0IGwgPSBmdW5jdGlvbigpIHtcbiAgICBhID0gdC5sZWFkaW5nID09PSAhMSA/IDAgOiBEYXRlLm5vdygpLCByID0gbnVsbCwgbiA9IHMuYXBwbHkobywgaSksIHIgfHwgKG8gPSBpID0gbnVsbCk7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjID0gRGF0ZS5ub3coKTtcbiAgICAhYSAmJiB0LmxlYWRpbmcgPT09ICExICYmIChhID0gYyk7XG4gICAgY29uc3QgdSA9IGUgLSAoYyAtIGEpO1xuICAgIHJldHVybiBvID0gdGhpcywgaSA9IGFyZ3VtZW50cywgdSA8PSAwIHx8IHUgPiBlID8gKHIgJiYgKGNsZWFyVGltZW91dChyKSwgciA9IG51bGwpLCBhID0gYywgbiA9IHMuYXBwbHkobywgaSksIHIgfHwgKG8gPSBpID0gbnVsbCkpIDogIXIgJiYgdC50cmFpbGluZyAhPT0gITEgJiYgKHIgPSBzZXRUaW1lb3V0KGwsIHUpKSwgbjtcbiAgfTtcbn1cbmZ1bmN0aW9uIEZ0KCkge1xuICBjb25zdCBzID0ge1xuICAgIHdpbjogITEsXG4gICAgbWFjOiAhMSxcbiAgICB4MTE6ICExLFxuICAgIGxpbnV4OiAhMVxuICB9LCBlID0gT2JqZWN0LmtleXMocykuZmluZCgodCkgPT4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSAhPT0gLTEpO1xuICByZXR1cm4gZSAmJiAoc1tlXSA9ICEwKSwgcztcbn1cbmZ1bmN0aW9uIGtlKHMpIHtcbiAgcmV0dXJuIHNbMF0udG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBTZShzLCAuLi5lKSB7XG4gIGlmICghZS5sZW5ndGgpXG4gICAgcmV0dXJuIHM7XG4gIGNvbnN0IHQgPSBlLnNoaWZ0KCk7XG4gIGlmIChqKHMpICYmIGoodCkpXG4gICAgZm9yIChjb25zdCBvIGluIHQpXG4gICAgICBqKHRbb10pID8gKHNbb10gfHwgT2JqZWN0LmFzc2lnbihzLCB7IFtvXToge30gfSksIFNlKHNbb10sIHRbb10pKSA6IE9iamVjdC5hc3NpZ24ocywgeyBbb106IHRbb10gfSk7XG4gIHJldHVybiBTZShzLCAuLi5lKTtcbn1cbmZ1bmN0aW9uIG50KHMpIHtcbiAgY29uc3QgZSA9IEZ0KCk7XG4gIHJldHVybiBzID0gcy5yZXBsYWNlKC9zaGlmdC9naSwgXCJcdTIxRTdcIikucmVwbGFjZSgvYmFja3NwYWNlL2dpLCBcIlx1MjMyQlwiKS5yZXBsYWNlKC9lbnRlci9naSwgXCJcdTIzQ0VcIikucmVwbGFjZSgvdXAvZ2ksIFwiXHUyMTkxXCIpLnJlcGxhY2UoL2xlZnQvZ2ksIFwiXHUyMTkyXCIpLnJlcGxhY2UoL2Rvd24vZ2ksIFwiXHUyMTkzXCIpLnJlcGxhY2UoL3JpZ2h0L2dpLCBcIlx1MjE5MFwiKS5yZXBsYWNlKC9lc2NhcGUvZ2ksIFwiXHUyMzhCXCIpLnJlcGxhY2UoL2luc2VydC9naSwgXCJJbnNcIikucmVwbGFjZSgvZGVsZXRlL2dpLCBcIlx1MjQyMVwiKS5yZXBsYWNlKC9cXCsvZ2ksIFwiICsgXCIpLCBlLm1hYyA/IHMgPSBzLnJlcGxhY2UoL2N0cmx8Y21kL2dpLCBcIlx1MjMxOFwiKS5yZXBsYWNlKC9hbHQvZ2ksIFwiXHUyMzI1XCIpIDogcyA9IHMucmVwbGFjZSgvY21kL2dpLCBcIkN0cmxcIikucmVwbGFjZSgvd2luZG93cy9naSwgXCJXSU5cIiksIHM7XG59XG5mdW5jdGlvbiBIdChzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwocykuaHJlZjtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIHMuc3Vic3RyaW5nKDAsIDIpID09PSBcIi8vXCIgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBzIDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHM7XG59XG5mdW5jdGlvbiB6dCgpIHtcbiAgcmV0dXJuIE90KDEwKTtcbn1cbmZ1bmN0aW9uIGp0KHMpIHtcbiAgd2luZG93Lm9wZW4ocywgXCJfYmxhbmtcIik7XG59XG5mdW5jdGlvbiBVdChzID0gXCJcIikge1xuICByZXR1cm4gYCR7c30ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDFlOCkudG9TdHJpbmcoMTYpfWA7XG59XG5mdW5jdGlvbiBJZShzLCBlLCB0KSB7XG4gIGNvbnN0IG8gPSBgXHUwMEFCJHtlfVx1MDBCQiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSB0aGUgXHUwMEFCJHt0fVx1MDBCQiBpbnN0ZWFkLmA7XG4gIHMgJiYgSyhvLCBcIndhcm5cIik7XG59XG5mdW5jdGlvbiBhZShzLCBlLCB0KSB7XG4gIGNvbnN0IG8gPSB0LnZhbHVlID8gXCJ2YWx1ZVwiIDogXCJnZXRcIiwgaSA9IHRbb10sIG4gPSBgIyR7ZX1DYWNoZWA7XG4gIGlmICh0W29dID0gZnVuY3Rpb24oLi4ucikge1xuICAgIHJldHVybiB0aGlzW25dID09PSB2b2lkIDAgJiYgKHRoaXNbbl0gPSBpLmFwcGx5KHRoaXMsIC4uLnIpKSwgdGhpc1tuXTtcbiAgfSwgbyA9PT0gXCJnZXRcIiAmJiB0LnNldCkge1xuICAgIGNvbnN0IHIgPSB0LnNldDtcbiAgICB0LnNldCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGRlbGV0ZSBzW25dLCByLmFwcGx5KHRoaXMsIGEpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5jb25zdCBzdCA9IDY1MDtcbmZ1bmN0aW9uIGVlKCkge1xuICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoYChtYXgtd2lkdGg6ICR7c3R9cHgpYCkubWF0Y2hlcztcbn1cbmNvbnN0IEdlID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSAmJiAoL2lQKGFkfGhvbmV8b2QpLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pIHx8IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0gPT09IFwiTWFjSW50ZWxcIiAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSk7XG5mdW5jdGlvbiAkdChzLCBlKSB7XG4gIGNvbnN0IHQgPSBBcnJheS5pc0FycmF5KHMpIHx8IGoocyksIG8gPSBBcnJheS5pc0FycmF5KGUpIHx8IGooZSk7XG4gIHJldHVybiB0IHx8IG8gPyBKU09OLnN0cmluZ2lmeShzKSA9PT0gSlNPTi5zdHJpbmdpZnkoZSkgOiBzID09PSBlO1xufVxuY2xhc3MgZCB7XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgdGFnIGhhcyBubyBjbG9zZWQgdGFnXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNTaW5nbGVUYWcoZSkge1xuICAgIHJldHVybiBlLnRhZ05hbWUgJiYgW1xuICAgICAgXCJBUkVBXCIsXG4gICAgICBcIkJBU0VcIixcbiAgICAgIFwiQlJcIixcbiAgICAgIFwiQ09MXCIsXG4gICAgICBcIkNPTU1BTkRcIixcbiAgICAgIFwiRU1CRURcIixcbiAgICAgIFwiSFJcIixcbiAgICAgIFwiSU1HXCIsXG4gICAgICBcIklOUFVUXCIsXG4gICAgICBcIktFWUdFTlwiLFxuICAgICAgXCJMSU5LXCIsXG4gICAgICBcIk1FVEFcIixcbiAgICAgIFwiUEFSQU1cIixcbiAgICAgIFwiU09VUkNFXCIsXG4gICAgICBcIlRSQUNLXCIsXG4gICAgICBcIldCUlwiXG4gICAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBlbGVtZW50IGlzIEJSIG9yIFdCUlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0xpbmVCcmVha1RhZyhlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS50YWdOYW1lICYmIFtcbiAgICAgIFwiQlJcIixcbiAgICAgIFwiV0JSXCJcbiAgICBdLmluY2x1ZGVzKGUudGFnTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgbWFraW5nIEVsZW1lbnRzIHdpdGggY2xhc3MgbmFtZSBhbmQgYXR0cmlidXRlc1xuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhZ05hbWUgLSBuZXcgRWxlbWVudCB0YWcgbmFtZVxuICAgKiBAcGFyYW0gIHtzdHJpbmdbXXxzdHJpbmd9IFtjbGFzc05hbWVzXSAtIGxpc3Qgb3IgbmFtZSBvZiBDU1MgY2xhc3MgbmFtZShzKVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IFthdHRyaWJ1dGVzXSAtIGFueSBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBtYWtlKGUsIHQgPSBudWxsLCBvID0ge30pIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtcbiAgICBBcnJheS5pc0FycmF5KHQpID8gaS5jbGFzc0xpc3QuYWRkKC4uLnQpIDogdCAmJiBpLmNsYXNzTGlzdC5hZGQodCk7XG4gICAgZm9yIChjb25zdCBuIGluIG8pXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgbikgJiYgKGlbbl0gPSBvW25dKTtcbiAgICByZXR1cm4gaTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBUZXh0IE5vZGUgd2l0aCB0aGUgcGFzc2VkIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSB0ZXh0IGNvbnRlbnRcbiAgICogQHJldHVybnMge1RleHR9XG4gICAqL1xuICBzdGF0aWMgdGV4dChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgb25lIG9yIHNldmVyYWwgZWxlbWVudHMgdG8gdGhlIHBhcmVudFxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IHBhcmVudCAtIHdoZXJlIHRvIGFwcGVuZFxuICAgKiBAcGFyYW0gIHtFbGVtZW50fEVsZW1lbnRbXXxEb2N1bWVudEZyYWdtZW50fFRleHR8VGV4dFtdfSBlbGVtZW50cyAtIGVsZW1lbnQgb3IgZWxlbWVudHMgbGlzdFxuICAgKi9cbiAgc3RhdGljIGFwcGVuZChlLCB0KSB7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/IHQuZm9yRWFjaCgobykgPT4gZS5hcHBlbmRDaGlsZChvKSkgOiBlLmFwcGVuZENoaWxkKHQpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgZWxlbWVudCBvciBhIGNvdXBsZSB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYXJlbnQgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnQgLSB3aGVyZSB0byBhcHBlbmRcbiAgICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudHMgLSBlbGVtZW50IG9yIGVsZW1lbnRzIGxpc3RcbiAgICovXG4gIHN0YXRpYyBwcmVwZW5kKGUsIHQpIHtcbiAgICBBcnJheS5pc0FycmF5KHQpID8gKHQgPSB0LnJldmVyc2UoKSwgdC5mb3JFYWNoKChvKSA9PiBlLnByZXBlbmQobykpKSA6IGUucHJlcGVuZCh0KTtcbiAgfVxuICAvKipcbiAgICogU3dhcCB0d28gZWxlbWVudHMgaW4gcGFyZW50XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsMSAtIGZyb21cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwyIC0gdG9cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHN0YXRpYyBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgaSA9IGUucGFyZW50Tm9kZTtcbiAgICBpLmluc2VydEJlZm9yZShvLCBlKSwgaS5pbnNlcnRCZWZvcmUoZSwgdCksIGkuaW5zZXJ0QmVmb3JlKHQsIG8pLCBpLnJlbW92ZUNoaWxkKG8pO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3RvciBEZWNvcmF0b3JcbiAgICpcbiAgICogUmV0dXJucyBmaXJzdCBtYXRjaFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIC0gZWxlbWVudCB3ZSBzZWFyY2hpbmcgaW5zaWRlLiBEZWZhdWx0IC0gRE9NIERvY3VtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlYXJjaGluZyBzdHJpbmdcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgZmluZChlID0gZG9jdW1lbnQsIHQpIHtcbiAgICByZXR1cm4gZS5xdWVyeVNlbGVjdG9yKHQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgRWxlbWVudCBieSBJZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpZCB0byBmaW5kXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdG9yIERlY29yYXRvci5cbiAgICpcbiAgICogUmV0dXJucyBhbGwgbWF0Y2hlc1xuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnR9IGVsIC0gZWxlbWVudCB3ZSBzZWFyY2hpbmcgaW5zaWRlLiBEZWZhdWx0IC0gRE9NIERvY3VtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlYXJjaGluZyBzdHJpbmdcbiAgICogQHJldHVybnMge05vZGVMaXN0fVxuICAgKi9cbiAgc3RhdGljIGZpbmRBbGwoZSA9IGRvY3VtZW50LCB0KSB7XG4gICAgcmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbCh0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBDU1Mgc2VsZWN0b3IgZm9yIGFsbCB0ZXh0IGlucHV0c1xuICAgKi9cbiAgc3RhdGljIGdldCBhbGxJbnB1dHNTZWxlY3RvcigpIHtcbiAgICByZXR1cm4gXCJbY29udGVudGVkaXRhYmxlPXRydWVdLCB0ZXh0YXJlYSwgaW5wdXQ6bm90KFt0eXBlXSksIFwiICsgW1widGV4dFwiLCBcInBhc3N3b3JkXCIsIFwiZW1haWxcIiwgXCJudW1iZXJcIiwgXCJzZWFyY2hcIiwgXCJ0ZWxcIiwgXCJ1cmxcIl0ubWFwKCh0KSA9PiBgaW5wdXRbdHlwZT1cIiR7dH1cIl1gKS5qb2luKFwiLCBcIik7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYWxsIGNvbnRlbnRlZGl0YWJsZSwgdGV4dGFyZWEgYW5kIGVkaXRhYmxlIGlucHV0IGVsZW1lbnRzIHBhc3NlZCBob2xkZXIgY29udGFpbnNcbiAgICpcbiAgICogQHBhcmFtIGhvbGRlciAtIGVsZW1lbnQgd2hlcmUgdG8gZmluZCBpbnB1dHNcbiAgICovXG4gIHN0YXRpYyBmaW5kQWxsSW5wdXRzKGUpIHtcbiAgICByZXR1cm4gaXQoZS5xdWVyeVNlbGVjdG9yQWxsKGQuYWxsSW5wdXRzU2VsZWN0b3IpKS5yZWR1Y2UoKHQsIG8pID0+IGQuaXNOYXRpdmVJbnB1dChvKSB8fCBkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKG8pID8gWy4uLnQsIG9dIDogWy4uLnQsIC4uLmQuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMobyldLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgZGVlcGVzdCBub2RlIHdoaWNoIGlzIExlYWYuXG4gICAqIExlYWYgaXMgdGhlIHZlcnRleCB0aGF0IGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGQgbm9kZXNcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCByZWN1cnNpdmVseSBnb2VzIHRocm93IHRoZSBhbGwgTm9kZSB1bnRpbCBpdCBmaW5kcyB0aGUgTGVhZlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSByb290IE5vZGUuIEZyb20gdGhpcyB2ZXJ0ZXggd2Ugc3RhcnQgRGVlcC1maXJzdCBzZWFyY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlcHRoLWZpcnN0X3NlYXJjaH1cbiAgICogQHBhcmFtIHtib29sZWFufSBbYXRMYXN0XSAtIGZpbmQgbGFzdCB0ZXh0IG5vZGVcbiAgICogQHJldHVybnMge05vZGV9IC0gaXQgY2FuIGJlIHRleHQgTm9kZSBvciBFbGVtZW50IE5vZGUsIHNvIHRoYXQgY2FyZXQgd2lsbCBhYmxlIHRvIHdvcmsgd2l0aCBpdFxuICAgKi9cbiAgc3RhdGljIGdldERlZXBlc3ROb2RlKGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IG8gPSB0ID8gXCJsYXN0Q2hpbGRcIiA6IFwiZmlyc3RDaGlsZFwiLCBpID0gdCA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCI7XG4gICAgaWYgKGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZVtvXSkge1xuICAgICAgbGV0IG4gPSBlW29dO1xuICAgICAgaWYgKGQuaXNTaW5nbGVUYWcobikgJiYgIWQuaXNOYXRpdmVJbnB1dChuKSAmJiAhZC5pc0xpbmVCcmVha1RhZyhuKSlcbiAgICAgICAgaWYgKG5baV0pXG4gICAgICAgICAgbiA9IG5baV07XG4gICAgICAgIGVsc2UgaWYgKG4ucGFyZW50Tm9kZVtpXSlcbiAgICAgICAgICBuID0gbi5wYXJlbnROb2RlW2ldO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIG4ucGFyZW50Tm9kZTtcbiAgICAgIHJldHVybiB0aGlzLmdldERlZXBlc3ROb2RlKG4sIHQpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIERPTSBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbm9kZSAtIG9iamVjdCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc0VsZW1lbnQoZSkge1xuICAgIHJldHVybiBWZShlKSA/ICExIDogZSAmJiBlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBvYmplY3QgaXMgRG9jdW1lbnRGcmFnbWVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBub2RlIC0gb2JqZWN0IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc3RhdGljIGlzRnJhZ21lbnQoZSkge1xuICAgIHJldHVybiBWZShlKSA/ICExIDogZSAmJiBlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGVsZW1lbnQgaXMgY29udGVudGVkaXRhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNDb250ZW50RWRpdGFibGUoZSkge1xuICAgIHJldHVybiBlLmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCI7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB0YXJnZXQgaWYgaXQgaXMgbmF0aXZlIGlucHV0XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gSFRNTCBlbGVtZW50IG9yIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc05hdGl2ZUlucHV0KGUpIHtcbiAgICBjb25zdCB0ID0gW1xuICAgICAgXCJJTlBVVFwiLFxuICAgICAgXCJURVhUQVJFQVwiXG4gICAgXTtcbiAgICByZXR1cm4gZSAmJiBlLnRhZ05hbWUgPyB0LmluY2x1ZGVzKGUudGFnTmFtZSkgOiAhMTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHdlIGNhbiBzZXQgY2FyZXRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGNhblNldENhcmV0KGUpIHtcbiAgICBsZXQgdCA9ICEwO1xuICAgIGlmIChkLmlzTmF0aXZlSW5wdXQoZSkpXG4gICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgY2FzZSBcInN1Ym1pdFwiOlxuICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgICB0ID0gITE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgdCA9IGQuaXNDb250ZW50RWRpdGFibGUoZSk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBub2RlIGlmIGl0IGlzIGVtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgY2hlY2tzIHNpbXBsZSBOb2RlIHdpdGhvdXQgYW55IGNoaWxkcyBmb3IgZW1wdGluZXNzXG4gICAqIElmIHlvdSBoYXZlIE5vZGUgd2l0aCAyIG9yIG1vcmUgY2hpbGRyZW4gaWQgZGVwdGgsIHlvdSBiZXR0ZXIgdXNlIHtAbGluayBEb20jaXNFbXB0eX0gbWV0aG9kXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgaXQgaXMgZW1wdHlcbiAgICovXG4gIHN0YXRpYyBpc05vZGVFbXB0eShlKSB7XG4gICAgbGV0IHQ7XG4gICAgcmV0dXJuIHRoaXMuaXNTaW5nbGVUYWcoZSkgJiYgIXRoaXMuaXNMaW5lQnJlYWtUYWcoZSkgPyAhMSA6ICh0aGlzLmlzRWxlbWVudChlKSAmJiB0aGlzLmlzTmF0aXZlSW5wdXQoZSkgPyB0ID0gZS52YWx1ZSA6IHQgPSBlLnRleHRDb250ZW50LnJlcGxhY2UoXCJcdTIwMEJcIiwgXCJcIiksIHQudHJpbSgpLmxlbmd0aCA9PT0gMCk7XG4gIH1cbiAgLyoqXG4gICAqIGNoZWNrcyBub2RlIGlmIGl0IGlzIGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGQgbm9kZXNcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gbm9kZSB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0xlYWYoZSkge1xuICAgIHJldHVybiBlID8gZS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBicmVhZHRoLWZpcnN0IHNlYXJjaCAoQkZTKVxuICAgKiB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlYWR0aC1maXJzdF9zZWFyY2h9XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBQdXNoZXMgdG8gc3RhY2sgYWxsIERPTSBsZWFmcyBhbmQgY2hlY2tzIGZvciBlbXB0aW5lc3NcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gbm9kZSB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0VtcHR5KGUpIHtcbiAgICBlLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IHQgPSBbZV07XG4gICAgZm9yICg7IHQubGVuZ3RoID4gMDsgKVxuICAgICAgaWYgKGUgPSB0LnNoaWZ0KCksICEhZSkge1xuICAgICAgICBpZiAodGhpcy5pc0xlYWYoZSkgJiYgIXRoaXMuaXNOb2RlRW1wdHkoZSkpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBlLmNoaWxkTm9kZXMgJiYgdC5wdXNoKC4uLkFycmF5LmZyb20oZS5jaGlsZE5vZGVzKSk7XG4gICAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBzdHJpbmcgY29udGFpbnMgaHRtbCBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzSFRNTFN0cmluZyhlKSB7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiKTtcbiAgICByZXR1cm4gdC5pbm5lckhUTUwgPSBlLCB0LmNoaWxkRWxlbWVudENvdW50ID4gMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGxlbmd0aCBvZiBub2RlYHMgdGV4dCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgd2l0aCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBzdGF0aWMgZ2V0Q29udGVudExlbmd0aChlKSB7XG4gICAgcmV0dXJuIGQuaXNOYXRpdmVJbnB1dChlKSA/IGUudmFsdWUubGVuZ3RoIDogZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBlLmxlbmd0aCA6IGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYXJyYXkgb2YgbmFtZXMgb2YgYmxvY2sgaHRtbCBlbGVtZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBzdGF0aWMgZ2V0IGJsb2NrRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiYWRkcmVzc1wiLFxuICAgICAgXCJhcnRpY2xlXCIsXG4gICAgICBcImFzaWRlXCIsXG4gICAgICBcImJsb2NrcXVvdGVcIixcbiAgICAgIFwiY2FudmFzXCIsXG4gICAgICBcImRpdlwiLFxuICAgICAgXCJkbFwiLFxuICAgICAgXCJkdFwiLFxuICAgICAgXCJmaWVsZHNldFwiLFxuICAgICAgXCJmaWdjYXB0aW9uXCIsXG4gICAgICBcImZpZ3VyZVwiLFxuICAgICAgXCJmb290ZXJcIixcbiAgICAgIFwiZm9ybVwiLFxuICAgICAgXCJoMVwiLFxuICAgICAgXCJoMlwiLFxuICAgICAgXCJoM1wiLFxuICAgICAgXCJoNFwiLFxuICAgICAgXCJoNVwiLFxuICAgICAgXCJoNlwiLFxuICAgICAgXCJoZWFkZXJcIixcbiAgICAgIFwiaGdyb3VwXCIsXG4gICAgICBcImhyXCIsXG4gICAgICBcImxpXCIsXG4gICAgICBcIm1haW5cIixcbiAgICAgIFwibmF2XCIsXG4gICAgICBcIm5vc2NyaXB0XCIsXG4gICAgICBcIm9sXCIsXG4gICAgICBcIm91dHB1dFwiLFxuICAgICAgXCJwXCIsXG4gICAgICBcInByZVwiLFxuICAgICAgXCJydWJ5XCIsXG4gICAgICBcInNlY3Rpb25cIixcbiAgICAgIFwidGFibGVcIixcbiAgICAgIFwidGJvZHlcIixcbiAgICAgIFwidGhlYWRcIixcbiAgICAgIFwidHJcIixcbiAgICAgIFwidGZvb3RcIixcbiAgICAgIFwidWxcIixcbiAgICAgIFwidmlkZW9cIlxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBjb250ZW50IGluY2x1ZGVzIG9ubHkgaW5saW5lIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBkYXRhIC0gZWxlbWVudCBvciBodG1sIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBjb250YWluc09ubHlJbmxpbmVFbGVtZW50cyhlKSB7XG4gICAgbGV0IHQ7XG4gICAgSihlKSA/ICh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgdC5pbm5lckhUTUwgPSBlKSA6IHQgPSBlO1xuICAgIGNvbnN0IG8gPSAoaSkgPT4gIWQuYmxvY2tFbGVtZW50cy5pbmNsdWRlcyhpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiYgQXJyYXkuZnJvbShpLmNoaWxkcmVuKS5ldmVyeShvKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0LmNoaWxkcmVuKS5ldmVyeShvKTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbmQgcmV0dXJuIGFsbCBibG9jayBlbGVtZW50cyBpbiB0aGUgcGFzc2VkIHBhcmVudCAoaW5jbHVkaW5nIHN1YnRyZWUpXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCAtIHJvb3QgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX1cbiAgICovXG4gIHN0YXRpYyBnZXREZWVwZXN0QmxvY2tFbGVtZW50cyhlKSB7XG4gICAgcmV0dXJuIGQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMoZSkgPyBbZV0gOiBBcnJheS5mcm9tKGUuY2hpbGRyZW4pLnJlZHVjZSgodCwgbykgPT4gWy4uLnQsIC4uLmQuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMobyldLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgZ2V0IGhvbGRlciBmcm9tIHtzdHJpbmd9IG9yIHJldHVybiBIVE1MRWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IEhUTUxFbGVtZW50fSBlbGVtZW50IC0gaG9sZGVyJ3MgaWQgb3IgaG9sZGVyJ3MgSFRNTCBFbGVtZW50XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBnZXRIb2xkZXIoZSkge1xuICAgIHJldHVybiBKKGUpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkgOiBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyBhbmNob3IgKGlzIEEgdGFnKVxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzQW5jaG9yKGUpIHtcbiAgICByZXR1cm4gZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZWxlbWVudCdzIG9mZnNldCByZWxhdGVkIHRvIHRoZSBkb2N1bWVudFxuICAgKlxuICAgKiBAdG9kbyBoYW5kbGUgY2FzZSB3aGVuIGVkaXRvciBpbml0aWFsaXplZCBpbiBzY3JvbGxhYmxlIHBvcHVwXG4gICAqIEBwYXJhbSBlbCAtIGVsZW1lbnQgdG8gY29tcHV0ZSBvZmZzZXRcbiAgICovXG4gIHN0YXRpYyBvZmZzZXQoZSkge1xuICAgIGNvbnN0IHQgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCBpID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIG4gPSB0LnRvcCArIGksIHIgPSB0LmxlZnQgKyBvO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IG4sXG4gICAgICBsZWZ0OiByLFxuICAgICAgYm90dG9tOiBuICsgdC5oZWlnaHQsXG4gICAgICByaWdodDogciArIHQud2lkdGhcbiAgICB9O1xuICB9XG59XG5jb25zdCBXdCA9IHtcbiAgYmxvY2tUdW5lczoge1xuICAgIHRvZ2dsZXI6IHtcbiAgICAgIFwiQ2xpY2sgdG8gdHVuZVwiOiBcIlwiLFxuICAgICAgXCJvciBkcmFnIHRvIG1vdmVcIjogXCJcIlxuICAgIH1cbiAgfSxcbiAgaW5saW5lVG9vbGJhcjoge1xuICAgIGNvbnZlcnRlcjoge1xuICAgICAgXCJDb252ZXJ0IHRvXCI6IFwiXCJcbiAgICB9XG4gIH0sXG4gIHRvb2xiYXI6IHtcbiAgICB0b29sYm94OiB7XG4gICAgICBBZGQ6IFwiXCJcbiAgICB9XG4gIH0sXG4gIHBvcG92ZXI6IHtcbiAgICBGaWx0ZXI6IFwiXCIsXG4gICAgXCJOb3RoaW5nIGZvdW5kXCI6IFwiXCJcbiAgfVxufSwgWXQgPSB7XG4gIFRleHQ6IFwiXCIsXG4gIExpbms6IFwiXCIsXG4gIEJvbGQ6IFwiXCIsXG4gIEl0YWxpYzogXCJcIlxufSwgS3QgPSB7XG4gIGxpbms6IHtcbiAgICBcIkFkZCBhIGxpbmtcIjogXCJcIlxuICB9LFxuICBzdHViOiB7XG4gICAgXCJUaGUgYmxvY2sgY2FuIG5vdCBiZSBkaXNwbGF5ZWQgY29ycmVjdGx5LlwiOiBcIlwiXG4gIH1cbn0sIFh0ID0ge1xuICBkZWxldGU6IHtcbiAgICBEZWxldGU6IFwiXCIsXG4gICAgXCJDbGljayB0byBkZWxldGVcIjogXCJcIlxuICB9LFxuICBtb3ZlVXA6IHtcbiAgICBcIk1vdmUgdXBcIjogXCJcIlxuICB9LFxuICBtb3ZlRG93bjoge1xuICAgIFwiTW92ZSBkb3duXCI6IFwiXCJcbiAgfVxufSwgcnQgPSB7XG4gIHVpOiBXdCxcbiAgdG9vbE5hbWVzOiBZdCxcbiAgdG9vbHM6IEt0LFxuICBibG9ja1R1bmVzOiBYdFxufSwgaWUgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBUeXBlLXNhZmUgdHJhbnNsYXRpb24gZm9yIGludGVybmFsIFVJIHRleHRzOlxuICAgKiBQZXJmb3JtIHRyYW5zbGF0aW9uIG9mIHRoZSBzdHJpbmcgYnkgbmFtZXNwYWNlIGFuZCBhIGtleVxuICAgKlxuICAgKiBAZXhhbXBsZSBJMThuLnVpKEkxOG5JbnRlcm5hbE5TLnVpLmJsb2NrVHVuZXMudG9nZ2xlciwgJ0NsaWNrIHRvIHR1bmUnKVxuICAgKiBAcGFyYW0gaW50ZXJuYWxOYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgdWkocywgZSkge1xuICAgIHJldHVybiBpZS5fdChzLCBlKTtcbiAgfVxuICAvKipcbiAgICogVHJhbnNsYXRlIGZvciBleHRlcm5hbCBzdHJpbmdzIHRoYXQgaXMgbm90IHByZXNlbnRlZCBpbiBkZWZhdWx0IGRpY3Rpb25hcnkuXG4gICAqIEZvciBleGFtcGxlLCBmb3IgdXNlci1zcGVjaWZpZWQgdG9vbCBuYW1lc1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byB0cmFuc2xhdGVkIHN0cmluZyBpbiBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSBkaWN0S2V5IC0gZGljdGlvbmFyeSBrZXkuIEJldHRlciB0byB1c2UgZGVmYXVsdCBsb2NhbGUgb3JpZ2luYWwgdGV4dFxuICAgKi9cbiAgc3RhdGljIHQocywgZSkge1xuICAgIHJldHVybiBpZS5fdChzLCBlKTtcbiAgfVxuICAvKipcbiAgICogQWRqdXN0IG1vZHVsZSBmb3IgdXNpbmcgZXh0ZXJuYWwgZGljdGlvbmFyeVxuICAgKlxuICAgKiBAcGFyYW0gZGljdGlvbmFyeSAtIG5ldyBtZXNzYWdlcyBsaXN0IHRvIG92ZXJyaWRlIGRlZmF1bHRcbiAgICovXG4gIHN0YXRpYyBzZXREaWN0aW9uYXJ5KHMpIHtcbiAgICBpZS5jdXJyZW50RGljdGlvbmFyeSA9IHM7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gdHJhbnNsYXRpb24gYm90aCBmb3IgaW50ZXJuYWwgYW5kIGV4dGVybmFsIG5hbWVzcGFjZXNcbiAgICogSWYgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb24gZm91bmQsIHJldHVybnMgcGFzc2VkIGtleSBhcyBhIHRyYW5zbGF0ZWQgbWVzc2FnZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byB0cmFuc2xhdGVkIHN0cmluZyBpbiBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSBkaWN0S2V5IC0gZGljdGlvbmFyeSBrZXkuIEJldHRlciB0byB1c2UgZGVmYXVsdCBsb2NhbGUgb3JpZ2luYWwgdGV4dFxuICAgKi9cbiAgc3RhdGljIF90KHMsIGUpIHtcbiAgICBjb25zdCB0ID0gaWUuZ2V0TmFtZXNwYWNlKHMpO1xuICAgIHJldHVybiAhdCB8fCAhdFtlXSA/IGUgOiB0W2VdO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIG1lc3NhZ2VzIHNlY3Rpb24gYnkgbmFtZXNwYWNlIHBhdGhcbiAgICpcbiAgICogQHBhcmFtIG5hbWVzcGFjZSAtIHBhdGggdG8gc2VjdGlvblxuICAgKi9cbiAgc3RhdGljIGdldE5hbWVzcGFjZShzKSB7XG4gICAgcmV0dXJuIHMuc3BsaXQoXCIuXCIpLnJlZHVjZSgodCwgbykgPT4gIXQgfHwgIU9iamVjdC5rZXlzKHQpLmxlbmd0aCA/IHt9IDogdFtvXSwgaWUuY3VycmVudERpY3Rpb25hcnkpO1xuICB9XG59O1xubGV0ICQgPSBpZTtcbiQuY3VycmVudERpY3Rpb25hcnkgPSBydDtcbmNsYXNzIGF0IGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3Mgd2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzID0ge307XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBhbnkgZXZlbnQgb24gY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gc3Vic2NyaWJlclxuICAgKi9cbiAgb24oZSwgdCkge1xuICAgIGUgaW4gdGhpcy5zdWJzY3JpYmVycyB8fCAodGhpcy5zdWJzY3JpYmVyc1tlXSA9IFtdKSwgdGhpcy5zdWJzY3JpYmVyc1tlXS5wdXNoKHQpO1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgYW55IGV2ZW50IG9uIGNhbGxiYWNrLiBDYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBvbmNlIGFuZCBiZSByZW1vdmVkIGZyb20gc3Vic2NyaWJlcnMgYXJyYXkgYWZ0ZXIgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gc3Vic2NyaWJlclxuICAgKi9cbiAgb25jZShlLCB0KSB7XG4gICAgZSBpbiB0aGlzLnN1YnNjcmliZXJzIHx8ICh0aGlzLnN1YnNjcmliZXJzW2VdID0gW10pO1xuICAgIGNvbnN0IG8gPSAoaSkgPT4ge1xuICAgICAgY29uc3QgbiA9IHQoaSksIHIgPSB0aGlzLnN1YnNjcmliZXJzW2VdLmluZGV4T2Yobyk7XG4gICAgICByZXR1cm4gciAhPT0gLTEgJiYgdGhpcy5zdWJzY3JpYmVyc1tlXS5zcGxpY2UociwgMSksIG47XG4gICAgfTtcbiAgICB0aGlzLnN1YnNjcmliZXJzW2VdLnB1c2gobyk7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgY2FsbGJhY2tzIHdpdGggcGFzc2VkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGRhdGEgLSBzdWJzY3JpYmVycyBnZXQgdGhpcyBkYXRhIHdoZW4gdGhleSB3ZXJlIGZpcmVkXG4gICAqL1xuICBlbWl0KGUsIHQpIHtcbiAgICBWKHRoaXMuc3Vic2NyaWJlcnMpIHx8ICF0aGlzLnN1YnNjcmliZXJzW2VdIHx8IHRoaXMuc3Vic2NyaWJlcnNbZV0ucmVkdWNlKChvLCBpKSA9PiB7XG4gICAgICBjb25zdCBuID0gaShvKTtcbiAgICAgIHJldHVybiBuICE9PSB2b2lkIDAgPyBuIDogbztcbiAgICB9LCB0KTtcbiAgfVxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgY2FsbGJhY2sgZnJvbSBldmVudFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvZmYoZSwgdCkge1xuICAgIGZvciAobGV0IG8gPSAwOyBvIDwgdGhpcy5zdWJzY3JpYmVyc1tlXS5sZW5ndGg7IG8rKylcbiAgICAgIGlmICh0aGlzLnN1YnNjcmliZXJzW2VdW29dID09PSB0KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN1YnNjcmliZXJzW2VdW29dO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVzdHJveWVyXG4gICAqIGNsZWFycyBzdWJzY3JpYmVycyBsaXN0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMgPSBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBoZShzKSB7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCB7XG4gICAgLyoqXG4gICAgICogQmxvY2sgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGlkKCkge1xuICAgICAgcmV0dXJuIHMuaWQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUb29sIG5hbWVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICByZXR1cm4gcy5uYW1lO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9vbCBjb25maWcgcGFzc2VkIG9uIEVkaXRvcidzIGluaXRpYWxpemF0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7VG9vbENvbmZpZ31cbiAgICAgKi9cbiAgICBnZXQgY29uZmlnKCkge1xuICAgICAgcmV0dXJuIHMuY29uZmlnO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogLmNlLWJsb2NrIGVsZW1lbnQsIHRoYXQgd3JhcHMgcGx1Z2luIGNvbnRlbnRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0IGhvbGRlcigpIHtcbiAgICAgIHJldHVybiBzLmhvbGRlcjtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgY29udGVudCBpcyBlbXB0eVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICByZXR1cm4gcy5pc0VtcHR5O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBCbG9jayBpcyBzZWxlY3RlZCB3aXRoIENyb3NzLUJsb2NrIHNlbGVjdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHNlbGVjdGVkKCkge1xuICAgICAgcmV0dXJuIHMuc2VsZWN0ZWQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXQgQmxvY2sncyBzdHJldGNoIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIFx1MjAxNCBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBzZXQgc3RyZXRjaGVkKHQpIHtcbiAgICAgIHMuc3RyZXRjaGVkID0gdDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgaXMgc3RyZXRjaGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgc3RyZXRjaGVkKCkge1xuICAgICAgcmV0dXJuIHMuc3RyZXRjaGVkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ2FsbCBUb29sIG1ldGhvZCB3aXRoIGVycm9ycyBoYW5kbGVyIHVuZGVyLXRoZS1ob29kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIG1ldGhvZCB0byBjYWxsXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtIC0gb2JqZWN0IHdpdGggcGFyYW1ldGVyc1xuICAgICAqIEByZXR1cm5zIHt1bmtub3dufVxuICAgICAqL1xuICAgIGNhbGwodCwgbykge1xuICAgICAgcmV0dXJuIHMuY2FsbCh0LCBvKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNhdmUgQmxvY2sgY29udGVudFxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZHxTYXZlZERhdGE+fVxuICAgICAqL1xuICAgIHNhdmUoKSB7XG4gICAgICByZXR1cm4gcy5zYXZlKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBCbG9jayBkYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IGRhdGEgLSBkYXRhIHRvIHZhbGlkYXRlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAgICovXG4gICAgdmFsaWRhdGUodCkge1xuICAgICAgcmV0dXJuIHMudmFsaWRhdGUodCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gc2F5IEVkaXRvciB0aGF0IEJsb2NrIHdhcyBjaGFuZ2VkLiBVc2VkIHRvIG1hbnVhbGx5IHRyaWdnZXIgRWRpdG9yJ3MgJ29uQ2hhbmdlJyBjYWxsYmFja1xuICAgICAqIENhbiBiZSB1c2VmdWwgZm9yIGJsb2NrIGNoYW5nZXMgaW52aXNpYmxlIGZvciBlZGl0b3IgY29yZS5cbiAgICAgKi9cbiAgICBkaXNwYXRjaENoYW5nZSgpIHtcbiAgICAgIHMuZGlzcGF0Y2hDaGFuZ2UoKTtcbiAgICB9XG4gIH0pO1xufVxuY2xhc3MgUmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFsbExpc3RlbmVycyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBBc3NpZ25zIGV2ZW50IGxpc3RlbmVyIG9uIGVsZW1lbnQgYW5kIHJldHVybnMgdW5pcXVlIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIERPTSBlbGVtZW50IHRoYXQgbmVlZHMgdG8gYmUgbGlzdGVuZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIG1ldGhvZCB0aGF0IHdpbGwgYmUgZmlyZWQgb24gZXZlbnRcbiAgICogQHBhcmFtIHtib29sZWFufEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBvcHRpb25zIC0gdXNlQ2FwdHVyZSBvciB7Y2FwdHVyZSwgcGFzc2l2ZSwgb25jZX1cbiAgICovXG4gIG9uKGUsIHQsIG8sIGkgPSAhMSkge1xuICAgIGNvbnN0IG4gPSBVdChcImxcIiksIHIgPSB7XG4gICAgICBpZDogbixcbiAgICAgIGVsZW1lbnQ6IGUsXG4gICAgICBldmVudFR5cGU6IHQsXG4gICAgICBoYW5kbGVyOiBvLFxuICAgICAgb3B0aW9uczogaVxuICAgIH07XG4gICAgaWYgKCF0aGlzLmZpbmRPbmUoZSwgdCwgbykpXG4gICAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMucHVzaChyKSwgZS5hZGRFdmVudExpc3RlbmVyKHQsIG8sIGkpLCBuO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVyIGZyb20gZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gRE9NIGVsZW1lbnQgdGhhdCB3ZSByZW1vdmluZyBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gcmVtb3ZlIGhhbmRsZXIsIGlmIGVsZW1lbnQgbGlzdGVucyBzZXZlcmFsIGhhbmRsZXJzIG9uIHRoZSBzYW1lIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtib29sZWFufEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBvcHRpb25zIC0gdXNlQ2FwdHVyZSBvciB7Y2FwdHVyZSwgcGFzc2l2ZSwgb25jZX1cbiAgICovXG4gIG9mZihlLCB0LCBvLCBpKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZmluZEFsbChlLCB0LCBvKTtcbiAgICBuLmZvckVhY2goKHIsIGEpID0+IHtcbiAgICAgIGNvbnN0IGwgPSB0aGlzLmFsbExpc3RlbmVycy5pbmRleE9mKG5bYV0pO1xuICAgICAgbCA+IC0xICYmICh0aGlzLmFsbExpc3RlbmVycy5zcGxpY2UobCwgMSksIHIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZXZlbnRUeXBlLCByLmhhbmRsZXIsIHIub3B0aW9ucykpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGxpc3RlbmVyIGJ5IGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGxpc3RlbmVyIGlkZW50aWZpZXJcbiAgICovXG4gIG9mZkJ5SWQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmZpbmRCeUlkKGUpO1xuICAgIHQgJiYgdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodC5ldmVudFR5cGUsIHQuaGFuZGxlciwgdC5vcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmluZHMgYW5kIHJldHVybnMgZmlyc3QgbGlzdGVuZXIgYnkgcGFzc2VkIHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gZXZlbnQgdGFyZ2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRUeXBlXSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJEYXRhfG51bGx9XG4gICAqL1xuICBmaW5kT25lKGUsIHQsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5maW5kQWxsKGUsIHQsIG8pO1xuICAgIHJldHVybiBpLmxlbmd0aCA+IDAgPyBpWzBdIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFsbCBzdG9yZWQgbGlzdGVuZXJzIGJ5IHBhc3NlZCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGV2ZW50IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJEYXRhW119XG4gICAqL1xuICBmaW5kQWxsKGUsIHQsIG8pIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBuID0gZSA/IHRoaXMuZmluZEJ5RXZlbnRUYXJnZXQoZSkgOiBbXTtcbiAgICByZXR1cm4gZSAmJiB0ICYmIG8gPyBpID0gbi5maWx0ZXIoKHIpID0+IHIuZXZlbnRUeXBlID09PSB0ICYmIHIuaGFuZGxlciA9PT0gbykgOiBlICYmIHQgPyBpID0gbi5maWx0ZXIoKHIpID0+IHIuZXZlbnRUeXBlID09PSB0KSA6IGkgPSBuLCBpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnNcbiAgICovXG4gIHJlbW92ZUFsbCgpIHtcbiAgICB0aGlzLmFsbExpc3RlbmVycy5tYXAoKGUpID0+IHtcbiAgICAgIGUuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUuZXZlbnRUeXBlLCBlLmhhbmRsZXIsIGUub3B0aW9ucyk7XG4gICAgfSksIHRoaXMuYWxsTGlzdGVuZXJzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBjbGVhbnVwIG9uIGRlc3RydWN0aW9uXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCBtZXRob2Q6IGxvb2tzIGZvciBsaXN0ZW5lciBieSBwYXNzZWQgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gc2VhcmNoaW5nIGVsZW1lbnRcbiAgICogQHJldHVybnMge0FycmF5fSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlFdmVudFRhcmdldChlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLmZpbHRlcigodCkgPT4ge1xuICAgICAgaWYgKHQuZWxlbWVudCA9PT0gZSlcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCBtZXRob2Q6IGxvb2tzIGZvciBsaXN0ZW5lciBieSBwYXNzZWQgZXZlbnQgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJEYXRhW119IGxpc3RlbmVycyB0aGF0IGZvdW5kIG9uIGVsZW1lbnRcbiAgICovXG4gIGZpbmRCeVR5cGUoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maWx0ZXIoKHQpID0+IHtcbiAgICAgIGlmICh0LmV2ZW50VHlwZSA9PT0gZSlcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCBtZXRob2Q6IGxvb2tzIGZvciBsaXN0ZW5lciBieSBwYXNzZWQgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJEYXRhW119IGxpc3RlbmVycyB0aGF0IGZvdW5kIG9uIGVsZW1lbnRcbiAgICovXG4gIGZpbmRCeUhhbmRsZXIoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maWx0ZXIoKHQpID0+IHtcbiAgICAgIGlmICh0LmhhbmRsZXIgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3RlbmVyIGRhdGEgZm91bmQgYnkgaWRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gbGlzdGVuZXIgaWRlbnRpZmllclxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJEYXRhfVxuICAgKi9cbiAgZmluZEJ5SWQoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maW5kKCh0KSA9PiB0LmlkID09PSBlKTtcbiAgfVxufVxuY2xhc3MgUyB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBNb2R1bGUgb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5jb25maWcgLSBNb2R1bGUgY29uZmlnXG4gICAqIEBwYXJhbSBvcHRpb25zLmV2ZW50c0Rpc3BhdGNoZXIgLSBDb21tb24gZXZlbnQgYnVzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgaWYgKHRoaXMubm9kZXMgPSB7fSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgUmUoKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMgPSB7XG4gICAgICAvKipcbiAgICAgICAqIEFzc2lnbnMgZXZlbnQgbGlzdGVuZXIgb24gRE9NIGVsZW1lbnQgYW5kIHB1c2hlcyBpbnRvIHNwZWNpYWwgYXJyYXkgdGhhdCBtaWdodCBiZSByZW1vdmVkXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIERPTSBFbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gRXZlbnQgbmFtZVxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIEV2ZW50IGhhbmRsZXJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIExpc3RlbmluZyBvcHRpb25zXG4gICAgICAgKi9cbiAgICAgIG9uOiAobywgaSwgbiwgciA9ICExKSA9PiB7XG4gICAgICAgIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzLnB1c2goXG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMub24obywgaSwgbiwgcilcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIENsZWFycyBhbGwgbXV0YWJsZSBsaXN0ZW5lcnNcbiAgICAgICAqL1xuICAgICAgY2xlYXJBbGw6ICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzKVxuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLm9mZkJ5SWQobyk7XG4gICAgICAgIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzID0gW107XG4gICAgICB9XG4gICAgfSwgdGhpcy5tdXRhYmxlTGlzdGVuZXJJZHMgPSBbXSwgbmV3LnRhcmdldCA9PT0gUylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvcnMgZm9yIGFic3RyYWN0IGNsYXNzIE1vZHVsZSBhcmUgbm90IGFsbG93ZWQuXCIpO1xuICAgIHRoaXMuY29uZmlnID0gZSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyID0gdDtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yIG1vZHVsZXMgc2V0dGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RWRpdG9yTW9kdWxlc30gRWRpdG9yIC0gRWRpdG9yJ3MgTW9kdWxlc1xuICAgKi9cbiAgc2V0IHN0YXRlKGUpIHtcbiAgICB0aGlzLkVkaXRvciA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBtZW1vcml6ZWQgbm9kZXNcbiAgICovXG4gIHJlbW92ZUFsbE5vZGVzKCkge1xuICAgIGZvciAoY29uc3QgZSBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5ub2Rlc1tlXTtcbiAgICAgIHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB0LnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGN1cnJlbnQgZGlyZWN0aW9uIGlzIFJUTCAoUmlnaHQtVG8tTGVmdClcbiAgICovXG4gIGdldCBpc1J0bCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuaTE4bi5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG4gIH1cbn1cbmNsYXNzIG0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluc3RhbmNlID0gbnVsbCwgdGhpcy5zZWxlY3Rpb24gPSBudWxsLCB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBudWxsLCB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gITEsIHRoaXMuY29tbWFuZEJhY2tncm91bmQgPSBcImJhY2tDb2xvclwiLCB0aGlzLmNvbW1hbmRSZW1vdmVGb3JtYXQgPSBcInJlbW92ZUZvcm1hdFwiO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0b3Igc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHt7ZWRpdG9yV3JhcHBlcjogc3RyaW5nLCBlZGl0b3Jab25lOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkaXRvcldyYXBwZXI6IFwiY29kZXgtZWRpdG9yXCIsXG4gICAgICBlZGl0b3Jab25lOiBcImNvZGV4LWVkaXRvcl9fcmVkYWN0b3JcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0ZWQgYW5jaG9yXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9BUEkvU2VsZWN0aW9uL2FuY2hvck5vZGV9XG4gICAqXG4gICAqIEByZXR1cm5zIHtOb2RlfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvck5vZGUoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZSA/IGUuYW5jaG9yTm9kZSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0ZWQgYW5jaG9yIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgYW5jaG9yRWxlbWVudCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHQgPSBlLmFuY2hvck5vZGU7XG4gICAgcmV0dXJuIHQgPyBkLmlzRWxlbWVudCh0KSA/IHQgOiB0LnBhcmVudEVsZW1lbnQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGlvbiBvZmZzZXQgYWNjb3JkaW5nIHRvIHRoZSBhbmNob3Igbm9kZVxuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvQVBJL1NlbGVjdGlvbi9hbmNob3JPZmZzZXR9XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgYW5jaG9yT2Zmc2V0KCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgPyBlLmFuY2hvck9mZnNldCA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIElzIGN1cnJlbnQgc2VsZWN0aW9uIHJhbmdlIGNvbGxhcHNlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBpc0NvbGxhcHNlZCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBlID8gZS5pc0NvbGxhcHNlZCA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGN1cnJlbnQgc2VsZWN0aW9uIGlmIGl0IGlzIGF0IEVkaXRvcidzIHpvbmVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzQXRFZGl0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTZWxlY3Rpb25BdEVkaXRvcihtLmdldCgpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHNlbGVjdGlvbiBpcyBhdCBFZGl0b3IncyB6b25lXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBTZWxlY3Rpb24gb2JqZWN0IHRvIGNoZWNrXG4gICAqL1xuICBzdGF0aWMgaXNTZWxlY3Rpb25BdEVkaXRvcihlKSB7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuICExO1xuICAgIGxldCB0ID0gZS5hbmNob3JOb2RlIHx8IGUuZm9jdXNOb2RlO1xuICAgIHQgJiYgdC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgKHQgPSB0LnBhcmVudE5vZGUpO1xuICAgIGxldCBvID0gbnVsbDtcbiAgICByZXR1cm4gdCAmJiB0IGluc3RhbmNlb2YgRWxlbWVudCAmJiAobyA9IHQuY2xvc2VzdChgLiR7bS5DU1MuZWRpdG9yWm9uZX1gKSksIG8gPyBvLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgcmFuZ2UgYXQgRWRpdG9yIHpvbmVcbiAgICpcbiAgICogQHBhcmFtIHJhbmdlIC0gcmFuZ2UgdG8gY2hlY2tcbiAgICovXG4gIHN0YXRpYyBpc1JhbmdlQXRFZGl0b3IoZSkge1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgdCA9IGUuc3RhcnRDb250YWluZXI7XG4gICAgdCAmJiB0Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiAodCA9IHQucGFyZW50Tm9kZSk7XG4gICAgbGV0IG8gPSBudWxsO1xuICAgIHJldHVybiB0ICYmIHQgaW5zdGFuY2VvZiBFbGVtZW50ICYmIChvID0gdC5jbG9zZXN0KGAuJHttLkNTUy5lZGl0b3Jab25lfWApKSwgbyA/IG8ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZHMgcmV0dXJuIGJvb2xlYW4gdGhhdCB0cnVlIGlmIHNlbGVjdGlvbiBleGlzdHMgb24gdGhlIHBhZ2VcbiAgICovXG4gIHN0YXRpYyBnZXQgaXNTZWxlY3Rpb25FeGlzdHMoKSB7XG4gICAgcmV0dXJuICEhbS5nZXQoKS5hbmNob3JOb2RlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgcmFuZ2VcbiAgICpcbiAgICogQHJldHVybnMge1JhbmdlfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHJhbmdlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFJhbmdlRnJvbVNlbGVjdGlvbih0aGlzLmdldCgpKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyByYW5nZSBmcm9tIHBhc3NlZCBTZWxlY3Rpb24gb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBTZWxlY3Rpb24gb2JqZWN0IHRvIGdldCBSYW5nZSBmcm9tXG4gICAqL1xuICBzdGF0aWMgZ2V0UmFuZ2VGcm9tU2VsZWN0aW9uKGUpIHtcbiAgICByZXR1cm4gZSAmJiBlLnJhbmdlQ291bnQgPyBlLmdldFJhbmdlQXQoMCkgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHBvc2l0aW9uIGFuZCBzaXplIG9mIHNlbGVjdGVkIHRleHRcbiAgICpcbiAgICogQHJldHVybnMge0RPTVJlY3QgfCBDbGllbnRSZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCByZWN0KCkge1xuICAgIGxldCBlID0gZG9jdW1lbnQuc2VsZWN0aW9uLCB0LCBvID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gICAgaWYgKGUgJiYgZS50eXBlICE9PSBcIkNvbnRyb2xcIilcbiAgICAgIHJldHVybiBlID0gZSwgdCA9IGUuY3JlYXRlUmFuZ2UoKSwgby54ID0gdC5ib3VuZGluZ0xlZnQsIG8ueSA9IHQuYm91bmRpbmdUb3AsIG8ud2lkdGggPSB0LmJvdW5kaW5nV2lkdGgsIG8uaGVpZ2h0ID0gdC5ib3VuZGluZ0hlaWdodCwgbztcbiAgICBpZiAoIXdpbmRvdy5nZXRTZWxlY3Rpb24pXG4gICAgICByZXR1cm4gVChcIk1ldGhvZCB3aW5kb3cuZ2V0U2VsZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWRcIiwgXCJ3YXJuXCIpLCBvO1xuICAgIGlmIChlID0gd2luZG93LmdldFNlbGVjdGlvbigpLCBlLnJhbmdlQ291bnQgPT09IG51bGwgfHwgaXNOYU4oZS5yYW5nZUNvdW50KSlcbiAgICAgIHJldHVybiBUKFwiTWV0aG9kIFNlbGVjdGlvblV0aWxzLnJhbmdlQ291bnQgaXMgbm90IHN1cHBvcnRlZFwiLCBcIndhcm5cIiksIG87XG4gICAgaWYgKGUucmFuZ2VDb3VudCA9PT0gMClcbiAgICAgIHJldHVybiBvO1xuICAgIGlmICh0ID0gZS5nZXRSYW5nZUF0KDApLmNsb25lUmFuZ2UoKSwgdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgKG8gPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSwgby54ID09PSAwICYmIG8ueSA9PT0gMCkge1xuICAgICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgaWYgKGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgICAgIGkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcdTIwMEJcIikpLCB0Lmluc2VydE5vZGUoaSksIG8gPSBpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBuID0gaS5wYXJlbnROb2RlO1xuICAgICAgICBuLnJlbW92ZUNoaWxkKGkpLCBuLm5vcm1hbGl6ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3RlZCB0ZXh0IGFzIFN0cmluZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkgOiBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdpbmRvdyBTZWxlY3Rpb25VdGlsc1xuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRTZWxlY3Rpb259XG4gICAqXG4gICAqIEByZXR1cm5zIHtTZWxlY3Rpb259XG4gICAqL1xuICBzdGF0aWMgZ2V0KCkge1xuICAgIHJldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBmb2N1cyB0byBjb250ZW50ZWRpdGFibGUgb3IgbmF0aXZlIGlucHV0IGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIHRvIHNldCBmb2N1c1xuICAgKiBAcGFyYW0gb2Zmc2V0IC0gb2Zmc2V0IG9mIGN1cnNvclxuICAgKi9cbiAgc3RhdGljIHNldEN1cnNvcihlLCB0ID0gMCkge1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLCBpID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQoZSkgPyBkLmNhblNldENhcmV0KGUpID8gKGUuZm9jdXMoKSwgZS5zZWxlY3Rpb25TdGFydCA9IGUuc2VsZWN0aW9uRW5kID0gdCwgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkgOiB2b2lkIDAgOiAoby5zZXRTdGFydChlLCB0KSwgby5zZXRFbmQoZSwgdCksIGkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuYWRkUmFuZ2UobyksIG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBjdXJyZW50IHJhbmdlIGV4aXN0cyBhbmQgYmVsb25ncyB0byBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRhaW5lciAtIHdoZXJlIHJhbmdlIHNob3VsZCBiZVxuICAgKi9cbiAgc3RhdGljIGlzUmFuZ2VJbnNpZGVDb250YWluZXIoZSkge1xuICAgIGNvbnN0IHQgPSBtLnJhbmdlO1xuICAgIHJldHVybiB0ID09PSBudWxsID8gITEgOiBlLmNvbnRhaW5zKHQuc3RhcnRDb250YWluZXIpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGZha2UgY3Vyc29yIHRvIHRoZSBjdXJyZW50IHJhbmdlXG4gICAqL1xuICBzdGF0aWMgYWRkRmFrZUN1cnNvcigpIHtcbiAgICBjb25zdCBlID0gbS5yYW5nZTtcbiAgICBpZiAoZSA9PT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwic3BhblwiLCBcImNvZGV4LWVkaXRvcl9fZmFrZS1jdXJzb3JcIik7XG4gICAgdC5kYXRhc2V0Lm11dGF0aW9uRnJlZSA9IFwidHJ1ZVwiLCBlLmNvbGxhcHNlKCksIGUuaW5zZXJ0Tm9kZSh0KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGVsZW1lbnQgY29udGFpbnMgYSBmYWtlIGN1cnNvclxuICAgKlxuICAgKiBAcGFyYW0gZWwgLSB3aGVyZSB0byBjaGVja1xuICAgKi9cbiAgc3RhdGljIGlzRmFrZUN1cnNvckluc2lkZUNvbnRhaW5lcihlKSB7XG4gICAgcmV0dXJuIGQuZmluZChlLCBcIi5jb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpICE9PSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGZha2UgY3Vyc29yIGZyb20gYSBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRhaW5lciAtIGNvbnRhaW5lciB0byBsb29rIGZvclxuICAgKi9cbiAgc3RhdGljIHJlbW92ZUZha2VDdXJzb3IoZSA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICBjb25zdCB0ID0gZC5maW5kKGUsIFwiLmNvZGV4LWVkaXRvcl9fZmFrZS1jdXJzb3JcIik7XG4gICAgdCAmJiB0LnJlbW92ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGZha2UgYmFja2dyb3VuZFxuICAgKi9cbiAgcmVtb3ZlRmFrZUJhY2tncm91bmQoKSB7XG4gICAgdGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCAmJiAodGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCA9ICExLCBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRSZW1vdmVGb3JtYXQpKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBmYWtlIGJhY2tncm91bmRcbiAgICovXG4gIHNldEZha2VCYWNrZ3JvdW5kKCkge1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZEJhY2tncm91bmQsICExLCBcIiNhOGQ2ZmZcIiksIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogU2F2ZSBTZWxlY3Rpb25VdGlscydzIHJhbmdlXG4gICAqL1xuICBzYXZlKCkge1xuICAgIHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSA9IG0ucmFuZ2U7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3RvcmUgc2F2ZWQgU2VsZWN0aW9uVXRpbHMncyByYW5nZVxuICAgKi9cbiAgcmVzdG9yZSgpIHtcbiAgICBpZiAoIXRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGUucmVtb3ZlQWxsUmFuZ2VzKCksIGUuYWRkUmFuZ2UodGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHNhdmVkIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXJTYXZlZCgpIHtcbiAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDb2xsYXBzZSBjdXJyZW50IHNlbGVjdGlvblxuICAgKi9cbiAgY29sbGFwc2VUb0VuZCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpLCB0ID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICB0LnNlbGVjdE5vZGVDb250ZW50cyhlLmZvY3VzTm9kZSksIHQuY29sbGFwc2UoITEpLCBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBMb29rcyBhaGVhZCB0byBmaW5kIHBhc3NlZCB0YWcgZnJvbSBjdXJyZW50IHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhZ05hbWUgICAgICAgLSB0YWcgdG8gZm91bmRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBbY2xhc3NOYW1lXSAgIC0gdGFnJ3MgY2xhc3MgbmFtZVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtzZWFyY2hEZXB0aF0gLSBjb3VudCBvZiB0YWdzIHRoYXQgY2FuIGJlIGluY2x1ZGVkLiBGb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGZpbmRQYXJlbnRUYWcoZSwgdCwgbyA9IDEwKSB7XG4gICAgY29uc3QgaSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBsZXQgbiA9IG51bGw7XG4gICAgcmV0dXJuICFpIHx8ICFpLmFuY2hvck5vZGUgfHwgIWkuZm9jdXNOb2RlID8gbnVsbCA6IChbXG4gICAgICAvKiogdGhlIE5vZGUgaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBiZWdpbnMgKi9cbiAgICAgIGkuYW5jaG9yTm9kZSxcbiAgICAgIC8qKiB0aGUgTm9kZSBpbiB3aGljaCB0aGUgc2VsZWN0aW9uIGVuZHMgKi9cbiAgICAgIGkuZm9jdXNOb2RlXG4gICAgXS5mb3JFYWNoKChhKSA9PiB7XG4gICAgICBsZXQgbCA9IG87XG4gICAgICBmb3IgKDsgbCA+IDAgJiYgYS5wYXJlbnROb2RlICYmICEoYS50YWdOYW1lID09PSBlICYmIChuID0gYSwgdCAmJiBhLmNsYXNzTGlzdCAmJiAhYS5jbGFzc0xpc3QuY29udGFpbnModCkgJiYgKG4gPSBudWxsKSwgbikpOyApXG4gICAgICAgIGEgPSBhLnBhcmVudE5vZGUsIGwtLTtcbiAgICB9KSwgbik7XG4gIH1cbiAgLyoqXG4gICAqIEV4cGFuZHMgc2VsZWN0aW9uIHJhbmdlIHRvIHRoZSBwYXNzZWQgcGFyZW50IG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgd2hpY2ggY29udGVudHMgc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAqL1xuICBleHBhbmRUb1RhZyhlKSB7XG4gICAgY29uc3QgdCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICB0LnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIG8uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLCB0LmFkZFJhbmdlKG8pO1xuICB9XG59XG5mdW5jdGlvbiBWdChzLCBlKSB7XG4gIGNvbnN0IHsgdHlwZTogdCwgdGFyZ2V0OiBvLCBhZGRlZE5vZGVzOiBpLCByZW1vdmVkTm9kZXM6IG4gfSA9IHM7XG4gIGlmIChbXCJjaGFyYWN0ZXJEYXRhXCIsIFwiYXR0cmlidXRlc1wiXS5pbmNsdWRlcyh0KSkge1xuICAgIGNvbnN0IGwgPSBvLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IG8ucGFyZW50Tm9kZSA6IG87XG4gICAgcmV0dXJuIGUuY29udGFpbnMobCk7XG4gIH1cbiAgY29uc3QgciA9IEFycmF5LmZyb20oaSkuc29tZSgobCkgPT4gZS5jb250YWlucyhsKSksIGEgPSBBcnJheS5mcm9tKG4pLnNvbWUoKGwpID0+IGUuY29udGFpbnMobCkpO1xuICByZXR1cm4gciB8fCBhO1xufVxuY29uc3QgTWUgPSBcInJlZGFjdG9yIGRvbSBjaGFuZ2VkXCIsIGx0ID0gXCJibG9jayBjaGFuZ2VkXCIsIGN0ID0gXCJmYWtlIGN1cnNvciBpcyBhYm91dCB0byBiZSB0b2dnbGVkXCIsIGR0ID0gXCJmYWtlIGN1cnNvciBoYXZlIGJlZW4gc2V0XCI7XG52YXIgcSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLkFQUEVORF9DQUxMQkFDSyA9IFwiYXBwZW5kQ2FsbGJhY2tcIiwgcy5SRU5ERVJFRCA9IFwicmVuZGVyZWRcIiwgcy5NT1ZFRCA9IFwibW92ZWRcIiwgcy5VUERBVEVEID0gXCJ1cGRhdGVkXCIsIHMuUkVNT1ZFRCA9IFwicmVtb3ZlZFwiLCBzLk9OX1BBU1RFID0gXCJvblBhc3RlXCIsIHMpKShxIHx8IHt9KTtcbmNsYXNzIEYgZXh0ZW5kcyB3ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGJsb2NrIGNvbnN0cnVjdG9yIG9wdGlvbnNcbiAgICogQHBhcmFtIFtvcHRpb25zLmlkXSAtIGJsb2NrJ3MgaWQuIFdpbGwgYmUgZ2VuZXJhdGVkIGlmIG9taXR0ZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRhdGEgLSBUb29sJ3MgaW5pdGlhbCBkYXRhXG4gICAqIEBwYXJhbSBvcHRpb25zLnRvb2wgXHUyMDE0IGJsb2NrJ3MgdG9vbFxuICAgKiBAcGFyYW0gb3B0aW9ucy5hcGkgLSBFZGl0b3IgQVBJIG1vZHVsZSBmb3IgcGFzcyBpdCB0byB0aGUgQmxvY2sgVHVuZXNcbiAgICogQHBhcmFtIG9wdGlvbnMucmVhZE9ubHkgLSBSZWFkLU9ubHkgZmxhZ1xuICAgKiBAcGFyYW0gW2V2ZW50QnVzXSAtIEVkaXRvciBjb21tb24gZXZlbnQgYnVzLiBBbGxvd3MgdG8gc3Vic2NyaWJlIG9uIHNvbWUgRWRpdG9yIGV2ZW50cy4gQ291bGQgYmUgb21pdHRlZCB3aGVuIFwidmlydHVhbFwiIEJsb2NrIGlzIGNyZWF0ZWQuIFNlZSBCbG9ja3NBUElAY29tcG9zZUJsb2NrRGF0YS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpZDogZSA9IHp0KCksXG4gICAgZGF0YTogdCxcbiAgICB0b29sOiBvLFxuICAgIGFwaTogaSxcbiAgICByZWFkT25seTogbixcbiAgICB0dW5lc0RhdGE6IHJcbiAgfSwgYSkge1xuICAgIHN1cGVyKCksIHRoaXMuY2FjaGVkSW5wdXRzID0gW10sIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCA9IG51bGwsIHRoaXMudHVuZXNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGEgPSB7fSwgdGhpcy5pbnB1dEluZGV4ID0gMCwgdGhpcy5lZGl0b3JFdmVudEJ1cyA9IG51bGwsIHRoaXMuaGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRyb3BJbnB1dHNDYWNoZSgpLCB0aGlzLnVwZGF0ZUN1cnJlbnRJbnB1dCgpO1xuICAgIH0sIHRoaXMuZGlkTXV0YXRlZCA9IChsID0gdm9pZCAwKSA9PiB7XG4gICAgICBjb25zdCBjID0gbCA9PT0gdm9pZCAwLCB1ID0gbCBpbnN0YW5jZW9mIElucHV0RXZlbnQ7XG4gICAgICAhYyAmJiAhdSAmJiB0aGlzLmRldGVjdFRvb2xSb290Q2hhbmdlKGwpO1xuICAgICAgbGV0IGg7XG4gICAgICBjIHx8IHUgPyBoID0gITAgOiBoID0gIShsLmxlbmd0aCA+IDAgJiYgbC5ldmVyeSgodikgPT4ge1xuICAgICAgICBjb25zdCB7IGFkZGVkTm9kZXM6IHAsIHJlbW92ZWROb2RlczogayB9ID0gdjtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi5BcnJheS5mcm9tKHApLFxuICAgICAgICAgIC4uLkFycmF5LmZyb20oaylcbiAgICAgICAgXS5zb21lKChBKSA9PiBkLmlzRWxlbWVudChBKSA/IEEuZGF0YXNldC5tdXRhdGlvbkZyZWUgPT09IFwidHJ1ZVwiIDogITEpO1xuICAgICAgfSkpLCBoICYmICh0aGlzLmRyb3BJbnB1dHNDYWNoZSgpLCB0aGlzLnVwZGF0ZUN1cnJlbnRJbnB1dCgpLCB0aGlzLmNhbGwoXG4gICAgICAgIFwidXBkYXRlZFwiXG4gICAgICAgIC8qIFVQREFURUQgKi9cbiAgICAgICksIHRoaXMuZW1pdChcImRpZE11dGF0ZWRcIiwgdGhpcykpO1xuICAgIH0sIHRoaXMubmFtZSA9IG8ubmFtZSwgdGhpcy5pZCA9IGUsIHRoaXMuc2V0dGluZ3MgPSBvLnNldHRpbmdzLCB0aGlzLmNvbmZpZyA9IG8uc2V0dGluZ3MuY29uZmlnIHx8IHt9LCB0aGlzLmFwaSA9IGksIHRoaXMuZWRpdG9yRXZlbnRCdXMgPSBhIHx8IG51bGwsIHRoaXMuYmxvY2tBUEkgPSBuZXcgaGUodGhpcyksIHRoaXMudG9vbCA9IG8sIHRoaXMudG9vbEluc3RhbmNlID0gby5jcmVhdGUodCwgdGhpcy5ibG9ja0FQSSwgbiksIHRoaXMudHVuZXMgPSBvLnR1bmVzLCB0aGlzLmNvbXBvc2VUdW5lcyhyKSwgdGhpcy5ob2xkZXIgPSB0aGlzLmNvbXBvc2UoKSwgdGhpcy53YXRjaEJsb2NrTXV0YXRpb25zKCksIHRoaXMuYWRkSW5wdXRFdmVudHMoKTtcbiAgfVxuICAvKipcbiAgICogQ1NTIGNsYXNzZXMgZm9yIHRoZSBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7e3dyYXBwZXI6IHN0cmluZywgY29udGVudDogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cmFwcGVyOiBcImNlLWJsb2NrXCIsXG4gICAgICB3cmFwcGVyU3RyZXRjaGVkOiBcImNlLWJsb2NrLS1zdHJldGNoZWRcIixcbiAgICAgIGNvbnRlbnQ6IFwiY2UtYmxvY2tfX2NvbnRlbnRcIixcbiAgICAgIGZvY3VzZWQ6IFwiY2UtYmxvY2stLWZvY3VzZWRcIixcbiAgICAgIHNlbGVjdGVkOiBcImNlLWJsb2NrLS1zZWxlY3RlZFwiLFxuICAgICAgZHJvcFRhcmdldDogXCJjZS1ibG9jay0tZHJvcC10YXJnZXRcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYW5kIHJldHVybiBhbGwgZWRpdGFibGUgZWxlbWVudHMgKGNvbnRlbnRlZGl0YWJsZSBhbmQgbmF0aXZlIGlucHV0cykgaW4gdGhlIFRvb2wgSFRNTFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX1cbiAgICovXG4gIGdldCBpbnB1dHMoKSB7XG4gICAgaWYgKHRoaXMuY2FjaGVkSW5wdXRzLmxlbmd0aCAhPT0gMClcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZElucHV0cztcbiAgICBjb25zdCBlID0gZC5maW5kQWxsSW5wdXRzKHRoaXMuaG9sZGVyKTtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEluZGV4ID4gZS5sZW5ndGggLSAxICYmICh0aGlzLmlucHV0SW5kZXggPSBlLmxlbmd0aCAtIDEpLCB0aGlzLmNhY2hlZElucHV0cyA9IGUsIGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBjdXJyZW50IFRvb2xgcyBpbnB1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgY3VycmVudElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXhdO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgaW5wdXQgaW5kZXggdG8gdGhlIHBhc3NlZCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBOb2RlfSBlbGVtZW50IC0gSFRNTCBFbGVtZW50IHRvIHNldCBhcyBjdXJyZW50IGlucHV0XG4gICAqL1xuICBzZXQgY3VycmVudElucHV0KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5pbnB1dHMuZmluZEluZGV4KChvKSA9PiBvID09PSBlIHx8IG8uY29udGFpbnMoZSkpO1xuICAgIHQgIT09IC0xICYmICh0aGlzLmlucHV0SW5kZXggPSB0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IFRvb2xgcyBpbnB1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgZmlyc3RJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbMF07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBUb29sYHMgaW5wdXRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGxhc3RJbnB1dCgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5pbnB1dHM7XG4gICAgcmV0dXJuIGVbZS5sZW5ndGggLSAxXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG5leHQgVG9vbGBzIGlucHV0IG9yIHVuZGVmaW5lZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBuZXh0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzW3RoaXMuaW5wdXRJbmRleCArIDFdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gcHJldmlvdXMgVG9vbGBzIGlucHV0IG9yIHVuZGVmaW5lZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBwcmV2aW91c0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrJ3MgSlNPTiBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5zYXZlKCkudGhlbigoZSkgPT4gZSAmJiAhVihlLmRhdGEpID8gZS5kYXRhIDoge30pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRvb2wncyBzYW5pdGl6ZXIgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbC5zYW5pdGl6ZUNvbmZpZztcbiAgfVxuICAvKipcbiAgICogaXMgYmxvY2sgbWVyZ2VhYmxlXG4gICAqIFdlIHBsdWdpbiBoYXZlIG1lcmdlIGZ1bmN0aW9uIHRoZW4gd2UgY2FsbCBpdCBtZXJnZWFibGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgbWVyZ2VhYmxlKCkge1xuICAgIHJldHVybiBEKHRoaXMudG9vbEluc3RhbmNlLm1lcmdlKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgYmxvY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIGNvbnN0IGUgPSBkLmlzRW1wdHkodGhpcy5wbHVnaW5zQ29udGVudCksIHQgPSAhdGhpcy5oYXNNZWRpYTtcbiAgICByZXR1cm4gZSAmJiB0O1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBibG9jayBoYXMgYSBtZWRpYSBjb250ZW50IHN1Y2ggYXMgaW1hZ2VzLCBpZnJhbWUgYW5kIG90aGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGhhc01lZGlhKCkge1xuICAgIGNvbnN0IGUgPSBbXG4gICAgICBcImltZ1wiLFxuICAgICAgXCJpZnJhbWVcIixcbiAgICAgIFwidmlkZW9cIixcbiAgICAgIFwiYXVkaW9cIixcbiAgICAgIFwic291cmNlXCIsXG4gICAgICBcImlucHV0XCIsXG4gICAgICBcInRleHRhcmVhXCIsXG4gICAgICBcInR3aXR0ZXJ3aWRnZXRcIlxuICAgIF07XG4gICAgcmV0dXJuICEhdGhpcy5ob2xkZXIucXVlcnlTZWxlY3RvcihlLmpvaW4oXCIsXCIpKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGZvY3VzZWQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyB0byBzZWxlY3QsICdmYWxzZScgdG8gcmVtb3ZlIHNlbGVjdGlvblxuICAgKi9cbiAgc2V0IGZvY3VzZWQoZSkge1xuICAgIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC50b2dnbGUoRi5DU1MuZm9jdXNlZCwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jaydzIGZvY3VzZWQgc3RhdGVcbiAgICovXG4gIGdldCBmb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLmhvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoRi5DU1MuZm9jdXNlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBzZWxlY3RlZCBzdGF0ZVxuICAgKiBXZSBkb24ndCBuZWVkIHRvIG1hcmsgQmxvY2sgYXMgU2VsZWN0ZWQgd2hlbiBpdCBpcyBlbXB0eVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIHRvIHNlbGVjdCwgJ2ZhbHNlJyB0byByZW1vdmUgc2VsZWN0aW9uXG4gICAqL1xuICBzZXQgc2VsZWN0ZWQoZSkge1xuICAgIHZhciBpLCBuO1xuICAgIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC50b2dnbGUoRi5DU1Muc2VsZWN0ZWQsIGUpO1xuICAgIGNvbnN0IHQgPSBlID09PSAhMCAmJiBtLmlzUmFuZ2VJbnNpZGVDb250YWluZXIodGhpcy5ob2xkZXIpLCBvID0gZSA9PT0gITEgJiYgbS5pc0Zha2VDdXJzb3JJbnNpZGVDb250YWluZXIodGhpcy5ob2xkZXIpO1xuICAgICh0IHx8IG8pICYmICgoaSA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgaS5lbWl0KGN0LCB7IHN0YXRlOiBlIH0pLCB0ID8gbS5hZGRGYWtlQ3Vyc29yKCkgOiBtLnJlbW92ZUZha2VDdXJzb3IodGhpcy5ob2xkZXIpLCAobiA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgbi5lbWl0KGR0LCB7IHN0YXRlOiBlIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIGl0IGlzIFNlbGVjdGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoRi5DU1Muc2VsZWN0ZWQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc3RyZXRjaGVkIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSAndHJ1ZScgdG8gZW5hYmxlLCAnZmFsc2UnIHRvIGRpc2FibGUgc3RyZXRjaGVkIHN0YXRlXG4gICAqL1xuICBzZXQgc3RyZXRjaGVkKGUpIHtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEYuQ1NTLndyYXBwZXJTdHJldGNoZWQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gQmxvY2sncyBzdHJldGNoZWQgc3RhdGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc3RyZXRjaGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoRi5DU1Mud3JhcHBlclN0cmV0Y2hlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSBkcm9wIHRhcmdldCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIGlmIGJsb2NrIGlzIGRyb3AgdGFyZ2V0LCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIHNldCBkcm9wVGFyZ2V0KGUpIHtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEYuQ1NTLmRyb3BUYXJnZXQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFBsdWdpbnMgY29udGVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgcGx1Z2luc0NvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIG1ldGhvZFxuICAgKlxuICAgKiBNZXRob2QgY2hlY2tzIHRvb2wgcHJvcGVydHkge01ldGhvZE5hbWV9LiBGaXJlcyBtZXRob2Qgd2l0aCBwYXNzZXMgcGFyYW1zIElmIGl0IGlzIGluc3RhbmNlIG9mIEZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIC0gbWV0aG9kIHRvIGNhbGxcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIG1ldGhvZCBhcmd1bWVudFxuICAgKi9cbiAgY2FsbChlLCB0KSB7XG4gICAgaWYgKEQodGhpcy50b29sSW5zdGFuY2VbZV0pKSB7XG4gICAgICBlID09PSBcImFwcGVuZENhbGxiYWNrXCIgJiYgVChcbiAgICAgICAgXCJgYXBwZW5kQ2FsbGJhY2tgIGhvb2sgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBgcmVuZGVyZWRgIGhvb2sgaW5zdGVhZFwiLFxuICAgICAgICBcIndhcm5cIlxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudG9vbEluc3RhbmNlW2VdLmNhbGwodGhpcy50b29sSW5zdGFuY2UsIHQpO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICBUKGBFcnJvciBkdXJpbmcgJyR7ZX0nIGNhbGw6ICR7by5tZXNzYWdlfWAsIFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIHBsdWdpbnMgbWVyZ2UgbWV0aG9kXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2tUb29sRGF0YX0gZGF0YSAtIGRhdGEgdG8gbWVyZ2VcbiAgICovXG4gIGFzeW5jIG1lcmdlV2l0aChlKSB7XG4gICAgYXdhaXQgdGhpcy50b29sSW5zdGFuY2UubWVyZ2UoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIGRhdGEgZnJvbSBCbG9ja1xuICAgKiBHcm91cHMgVG9vbCdzIHNhdmUgcHJvY2Vzc2luZyB0aW1lXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBhc3luYyBzYXZlKCkge1xuICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnRvb2xJbnN0YW5jZS5zYXZlKHRoaXMucGx1Z2luc0NvbnRlbnQpLCB0ID0gdGhpcy51bmF2YWlsYWJsZVR1bmVzRGF0YTtcbiAgICBbXG4gICAgICAuLi50aGlzLnR1bmVzSW5zdGFuY2VzLmVudHJpZXMoKSxcbiAgICAgIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLmVudHJpZXMoKVxuICAgIF0uZm9yRWFjaCgoW24sIHJdKSA9PiB7XG4gICAgICBpZiAoRChyLnNhdmUpKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRbbl0gPSByLnNhdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoYSkge1xuICAgICAgICAgIFQoYFR1bmUgJHtyLmNvbnN0cnVjdG9yLm5hbWV9IHNhdmUgbWV0aG9kIHRocm93cyBhbiBFcnJvciAlb2AsIFwid2FyblwiLCBhKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG8gPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IGk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlKS50aGVuKChuKSA9PiAoaSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSwge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0b29sOiB0aGlzLm5hbWUsXG4gICAgICBkYXRhOiBuLFxuICAgICAgdHVuZXM6IHQsXG4gICAgICB0aW1lOiBpIC0gb1xuICAgIH0pKS5jYXRjaCgobikgPT4ge1xuICAgICAgVChgU2F2aW5nIHByb2Nlc3MgZm9yICR7dGhpcy5uYW1lfSB0b29sIGZhaWxlZCBkdWUgdG8gdGhlICR7bn1gLCBcImxvZ1wiLCBcInJlZFwiKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVXNlcyBUb29sJ3MgdmFsaWRhdGlvbiBtZXRob2QgdG8gY2hlY2sgdGhlIGNvcnJlY3RuZXNzIG9mIG91dHB1dCBkYXRhXG4gICAqIFRvb2wncyB2YWxpZGF0aW9uIG1ldGhvZCBpcyBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgdHJ1ZXxmYWxzZSB3aGV0aGVyIGRhdGEgcGFzc2VkIHRoZSB2YWxpZGF0aW9uIG9yIG5vdFxuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IGRhdGEgLSBkYXRhIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSB2YWxpZFxuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGUoZSkge1xuICAgIGxldCB0ID0gITA7XG4gICAgcmV0dXJuIHRoaXMudG9vbEluc3RhbmNlLnZhbGlkYXRlIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgKHQgPSBhd2FpdCB0aGlzLnRvb2xJbnN0YW5jZS52YWxpZGF0ZShlKSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0YSB0byByZW5kZXIgaW4gdHVuZXMgbWVudS5cbiAgICogU3BsaXRzIGJsb2NrIHR1bmVzIHNldHRpbmdzIGludG8gMiBncm91cHM6IHBvcG92ZXIgaXRlbXMgYW5kIGN1c3RvbSBodG1sLlxuICAgKi9cbiAgZ2V0VHVuZXMoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHQgPSBbXSwgbyA9IHR5cGVvZiB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXJTZXR0aW5ncyA9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXJTZXR0aW5ncygpIDogW10sIGkgPSBbXG4gICAgICAuLi50aGlzLnR1bmVzSW5zdGFuY2VzLnZhbHVlcygpLFxuICAgICAgLi4udGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMudmFsdWVzKClcbiAgICBdLm1hcCgobikgPT4gbi5yZW5kZXIoKSk7XG4gICAgcmV0dXJuIFtvLCBpXS5mbGF0KCkuZm9yRWFjaCgobikgPT4ge1xuICAgICAgZC5pc0VsZW1lbnQobikgPyBlLmFwcGVuZENoaWxkKG4pIDogQXJyYXkuaXNBcnJheShuKSA/IHQucHVzaCguLi5uKSA6IHQucHVzaChuKTtcbiAgICB9KSwgW3QsIGVdO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgY3VycmVudCBpbnB1dCBpbmRleCB3aXRoIHNlbGVjdGlvbiBhbmNob3Igbm9kZVxuICAgKi9cbiAgdXBkYXRlQ3VycmVudElucHV0KCkge1xuICAgIHRoaXMuY3VycmVudElucHV0ID0gZC5pc05hdGl2ZUlucHV0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHx8ICFtLmFuY2hvck5vZGUgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbS5hbmNob3JOb2RlO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvd3MgdG8gc2F5IEVkaXRvciB0aGF0IEJsb2NrIHdhcyBjaGFuZ2VkLiBVc2VkIHRvIG1hbnVhbGx5IHRyaWdnZXIgRWRpdG9yJ3MgJ29uQ2hhbmdlJyBjYWxsYmFja1xuICAgKiBDYW4gYmUgdXNlZnVsIGZvciBibG9jayBjaGFuZ2VzIGludmlzaWJsZSBmb3IgZWRpdG9yIGNvcmUuXG4gICAqL1xuICBkaXNwYXRjaENoYW5nZSgpIHtcbiAgICB0aGlzLmRpZE11dGF0ZWQoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBUb29sIGluc3RhbmNlIGRlc3Ryb3kgbWV0aG9kXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW53YXRjaEJsb2NrTXV0YXRpb25zKCksIHRoaXMucmVtb3ZlSW5wdXRFdmVudHMoKSwgc3VwZXIuZGVzdHJveSgpLCBEKHRoaXMudG9vbEluc3RhbmNlLmRlc3Ryb3kpICYmIHRoaXMudG9vbEluc3RhbmNlLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogVG9vbCBjb3VsZCBzcGVjaWZ5IHNldmVyYWwgZW50cmllcyB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIFRvb2xib3ggKGZvciBleGFtcGxlLCBcIkhlYWRpbmcgMVwiLCBcIkhlYWRpbmcgMlwiLCBcIkhlYWRpbmcgM1wiKVxuICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbnRyeSB0aGF0IGlzIHJlbGF0ZWQgdG8gdGhlIEJsb2NrIChkZXBlbmRlZCBvbiB0aGUgQmxvY2sgZGF0YSlcbiAgICovXG4gIGFzeW5jIGdldEFjdGl2ZVRvb2xib3hFbnRyeSgpIHtcbiAgICBjb25zdCBlID0gdGhpcy50b29sLnRvb2xib3g7XG4gICAgaWYgKGUubGVuZ3RoID09PSAxKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRvb2wudG9vbGJveFswXSk7XG4gICAgY29uc3QgdCA9IGF3YWl0IHRoaXMuZGF0YTtcbiAgICByZXR1cm4gZS5maW5kKChpKSA9PiBPYmplY3QuZW50cmllcyhpLmRhdGEpLnNvbWUoKFtuLCByXSkgPT4gdFtuXSAmJiAkdCh0W25dLCByKSkpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIGRlZmF1bHQgQmxvY2sgd3JhcHBlcnMgYW5kIHB1dCBUb29sYHMgY29udGVudCB0aGVyZVxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuICBjb21wb3NlKCkge1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgRi5DU1Mud3JhcHBlciksIHQgPSBkLm1ha2UoXCJkaXZcIiwgRi5DU1MuY29udGVudCksIG8gPSB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXIoKTtcbiAgICB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBvLCB0LmFwcGVuZENoaWxkKHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCk7XG4gICAgbGV0IGkgPSB0O1xuICAgIHJldHVybiBbLi4udGhpcy50dW5lc0luc3RhbmNlcy52YWx1ZXMoKSwgLi4udGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMudmFsdWVzKCldLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGlmIChEKG4ud3JhcCkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaSA9IG4ud3JhcChpKTtcbiAgICAgICAgfSBjYXRjaCAocikge1xuICAgICAgICAgIFQoYFR1bmUgJHtuLmNvbnN0cnVjdG9yLm5hbWV9IHdyYXAgbWV0aG9kIHRocm93cyBhbiBFcnJvciAlb2AsIFwid2FyblwiLCByKTtcbiAgICAgICAgfVxuICAgIH0pLCBlLmFwcGVuZENoaWxkKGkpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBCbG9jayBUdW5lc1xuICAgKlxuICAgKiBAcGFyYW0gdHVuZXNEYXRhIC0gY3VycmVudCBCbG9jayB0dW5lcyBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wb3NlVHVuZXMoZSkge1xuICAgIEFycmF5LmZyb20odGhpcy50dW5lcy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgKHQuaXNJbnRlcm5hbCA/IHRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzIDogdGhpcy50dW5lc0luc3RhbmNlcykuc2V0KHQubmFtZSwgdC5jcmVhdGUoZVt0Lm5hbWVdLCB0aGlzLmJsb2NrQVBJKSk7XG4gICAgfSksIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFt0LCBvXSkgPT4ge1xuICAgICAgdGhpcy50dW5lc0luc3RhbmNlcy5oYXModCkgfHwgKHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGFbdF0gPSBvKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBmb2N1cyBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0cyBhbmQgY29udGVudGVkaXRhYmxlXG4gICAqL1xuICBhZGRJbnB1dEV2ZW50cygpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLmhhbmRsZUZvY3VzKSwgZC5pc05hdGl2ZUlucHV0KGUpICYmIGUuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMuZGlkTXV0YXRlZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIHJlbW92ZXMgZm9jdXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gYWxsIGlucHV0cyBhbmQgY29udGVudGVkaXRhYmxlXG4gICAqL1xuICByZW1vdmVJbnB1dEV2ZW50cygpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLmhhbmRsZUZvY3VzKSwgZC5pc05hdGl2ZUlucHV0KGUpICYmIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMuZGlkTXV0YXRlZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiBjb21tb24gZWRpdG9yIERvbSBDaGFuZ2VkIGV2ZW50IGFuZCBkZXRlY3QgbXV0YXRpb25zIHJlbGF0ZWQgdG8gdGhlICBCbG9ja1xuICAgKi9cbiAgd2F0Y2hCbG9ja011dGF0aW9ucygpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnJlZGFjdG9yRG9tQ2hhbmdlZENhbGxiYWNrID0gKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgbXV0YXRpb25zOiBvIH0gPSB0O1xuICAgICAgby5zb21lKChuKSA9PiBWdChuLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpKSAmJiB0aGlzLmRpZE11dGF0ZWQobyk7XG4gICAgfSwgKGUgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IGUub24oTWUsIHRoaXMucmVkYWN0b3JEb21DaGFuZ2VkQ2FsbGJhY2spO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgcmVkYWN0b3IgZG9tIGNoYW5nZSBldmVudCBsaXN0ZW5lclxuICAgKi9cbiAgdW53YXRjaEJsb2NrTXV0YXRpb25zKCkge1xuICAgIHZhciBlO1xuICAgIChlID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBlLm9mZihNZSwgdGhpcy5yZWRhY3RvckRvbUNoYW5nZWRDYWxsYmFjayk7XG4gIH1cbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBUb29sIGNhbiByZXBsYWNlIG93biBtYWluIGVsZW1lbnQsIGZvciBleGFtcGxlIEgyIC0+IEg0IG9yIFVMIC0+IE9MXG4gICAqIFdlIG5lZWQgdG8gZGV0ZWN0IHN1Y2ggY2hhbmdlcyBhbmQgdXBkYXRlIGEgbGluayB0byB0b29scyBtYWluIGVsZW1lbnQgd2l0aCB0aGUgbmV3IG9uZVxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb25zIC0gcmVjb3JkcyBvZiBibG9jayBjb250ZW50IG11dGF0aW9uc1xuICAgKi9cbiAgZGV0ZWN0VG9vbFJvb3RDaGFuZ2UoZSkge1xuICAgIGUuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgaWYgKEFycmF5LmZyb20odC5yZW1vdmVkTm9kZXMpLmluY2x1ZGVzKHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCkpIHtcbiAgICAgICAgY29uc3QgaSA9IHQuYWRkZWROb2Rlc1t0LmFkZGVkTm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCA9IGk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBpbnB1dHMgY2FjaGVkIHZhbHVlXG4gICAqL1xuICBkcm9wSW5wdXRzQ2FjaGUoKSB7XG4gICAgdGhpcy5jYWNoZWRJbnB1dHMgPSBbXTtcbiAgfVxufVxuY2xhc3MgWnQgZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5pbnNlcnQgPSAoZSA9IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jaywgdCA9IHt9LCBvID0ge30sIGksIG4sIHIsIGEpID0+IHtcbiAgICAgIGNvbnN0IGwgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KHtcbiAgICAgICAgaWQ6IGEsXG4gICAgICAgIHRvb2w6IGUsXG4gICAgICAgIGRhdGE6IHQsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBuZWVkVG9Gb2N1czogbixcbiAgICAgICAgcmVwbGFjZTogclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IGhlKGwpO1xuICAgIH0sIHRoaXMuY29tcG9zZUJsb2NrRGF0YSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy5nZXQoZSk7XG4gICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICB0b29sOiB0LFxuICAgICAgICBhcGk6IHRoaXMuRWRpdG9yLkFQSSxcbiAgICAgICAgcmVhZE9ubHk6ICEwLFxuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgdHVuZXNEYXRhOiB7fVxuICAgICAgfSkuZGF0YTtcbiAgICB9LCB0aGlzLnVwZGF0ZSA9IChlLCB0KSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSBvLmdldEJsb2NrQnlJZChlKTtcbiAgICAgIGlmICghaSkge1xuICAgICAgICBUKFwiYmxvY2tzLnVwZGF0ZSgpOiBCbG9jayB3aXRoIHBhc3NlZCBpZCB3YXMgbm90IGZvdW5kXCIsIFwid2FyblwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbiA9IG8uZ2V0QmxvY2tJbmRleChpKTtcbiAgICAgIG8uaW5zZXJ0KHtcbiAgICAgICAgaWQ6IGkuaWQsXG4gICAgICAgIHRvb2w6IGkubmFtZSxcbiAgICAgICAgZGF0YTogdCxcbiAgICAgICAgaW5kZXg6IG4sXG4gICAgICAgIHJlcGxhY2U6ICEwLFxuICAgICAgICB0dW5lczogaS50dW5lc1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2Nrc31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbGVhcjogKCkgPT4gdGhpcy5jbGVhcigpLFxuICAgICAgcmVuZGVyOiAoZSkgPT4gdGhpcy5yZW5kZXIoZSksXG4gICAgICByZW5kZXJGcm9tSFRNTDogKGUpID0+IHRoaXMucmVuZGVyRnJvbUhUTUwoZSksXG4gICAgICBkZWxldGU6IChlKSA9PiB0aGlzLmRlbGV0ZShlKSxcbiAgICAgIHN3YXA6IChlLCB0KSA9PiB0aGlzLnN3YXAoZSwgdCksXG4gICAgICBtb3ZlOiAoZSwgdCkgPT4gdGhpcy5tb3ZlKGUsIHQpLFxuICAgICAgZ2V0QmxvY2tCeUluZGV4OiAoZSkgPT4gdGhpcy5nZXRCbG9ja0J5SW5kZXgoZSksXG4gICAgICBnZXRCeUlkOiAoZSkgPT4gdGhpcy5nZXRCeUlkKGUpLFxuICAgICAgZ2V0Q3VycmVudEJsb2NrSW5kZXg6ICgpID0+IHRoaXMuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSxcbiAgICAgIGdldEJsb2NrSW5kZXg6IChlKSA9PiB0aGlzLmdldEJsb2NrSW5kZXgoZSksXG4gICAgICBnZXRCbG9ja3NDb3VudDogKCkgPT4gdGhpcy5nZXRCbG9ja3NDb3VudCgpLFxuICAgICAgc3RyZXRjaEJsb2NrOiAoZSwgdCA9ICEwKSA9PiB0aGlzLnN0cmV0Y2hCbG9jayhlLCB0KSxcbiAgICAgIGluc2VydE5ld0Jsb2NrOiAoKSA9PiB0aGlzLmluc2VydE5ld0Jsb2NrKCksXG4gICAgICBpbnNlcnQ6IHRoaXMuaW5zZXJ0LFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZSxcbiAgICAgIGNvbXBvc2VCbG9ja0RhdGE6IHRoaXMuY29tcG9zZUJsb2NrRGF0YVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2tzIGNvdW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXRCbG9ja3NDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgY3VycmVudCBibG9jayBpbmRleFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgQmxvY2sgYnkgaWQ7XG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIGJsb2NrIGlkXG4gICAqL1xuICBnZXRCbG9ja0luZGV4KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJZChlKTtcbiAgICBpZiAoIXQpIHtcbiAgICAgIEsoXCJUaGVyZSBpcyBubyBibG9jayB3aXRoIGlkIGBcIiArIGUgKyBcImBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrSW5kZXgodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2tBUEkgb2JqZWN0IGJ5IEJsb2NrIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IHRvIGdldFxuICAgKi9cbiAgZ2V0QmxvY2tCeUluZGV4KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleChlKTtcbiAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICBLKFwiVGhlcmUgaXMgbm8gYmxvY2sgYXQgaW5kZXggYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBuZXcgaGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2tBUEkgb2JqZWN0IGJ5IEJsb2NrIGlkXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIGlkIG9mIGJsb2NrIHRvIGdldFxuICAgKi9cbiAgZ2V0QnlJZChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQoZSk7XG4gICAgcmV0dXJuIHQgPT09IHZvaWQgMCA/IChLKFwiVGhlcmUgaXMgbm8gYmxvY2sgd2l0aCBpZCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKSwgbnVsbCkgOiBuZXcgaGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgQmxvY2sgTWFuYWdlciBtZXRob2QgdGhhdCBzd2FwIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gcG9zaXRpb24gb2YgZmlyc3QgQmxvY2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBwb3NpdGlvbiBvZiBzZWNvbmQgQmxvY2tcbiAgICogQGRlcHJlY2F0ZWQgXHUyMDE0IHVzZSAnbW92ZScgaW5zdGVhZFxuICAgKi9cbiAgc3dhcChlLCB0KSB7XG4gICAgVChcbiAgICAgIFwiYGJsb2Nrcy5zd2FwKClgIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGBibG9jay5tb3ZlKClgIG1ldGhvZCBpbnN0ZWFkXCIsXG4gICAgICBcImluZm9cIlxuICAgICksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zd2FwKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIGJsb2NrIGZyb20gb25lIGluZGV4IHRvIGFub3RoZXJcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCB0byBtb3ZlIHRvXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBpbmRleCB0byBtb3ZlIGZyb21cbiAgICovXG4gIG1vdmUoZSwgdCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5tb3ZlKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBibG9ja0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucmVtb3ZlQmxvY2soZSk7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgSyh0LCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoID09PSAwICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnQoKSwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2ssIHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5FTkQpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIEVkaXRvcidzIGFyZWFcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcighMCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRmlsbHMgRWRpdG9yIHdpdGggQmxvY2tzIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPdXRwdXREYXRhfSBkYXRhIFx1MjAxNCBTYXZlZCBFZGl0b3IgZGF0YVxuICAgKi9cbiAgcmVuZGVyKGUpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCksIHRoaXMuRWRpdG9yLlJlbmRlcmVyLnJlbmRlcihlLmJsb2Nrcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwYXNzZWQgSFRNTCBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSBIVE1MIHN0cmluZyB0byByZW5kZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICByZW5kZXJGcm9tSFRNTChlKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcigpLCB0aGlzLkVkaXRvci5QYXN0ZS5wcm9jZXNzVGV4dChlLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0cmV0Y2ggQmxvY2sncyBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIHN0cmV0Y2hcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0dXMgLSB0cnVlIHRvIGVuYWJsZSwgZmFsc2UgdG8gZGlzYWJsZVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgQmxvY2tBUEkgaW50ZXJmYWNlIHRvIHN0cmV0Y2ggQmxvY2tzXG4gICAqL1xuICBzdHJldGNoQmxvY2soZSwgdCA9ICEwKSB7XG4gICAgSWUoXG4gICAgICAhMCxcbiAgICAgIFwiYmxvY2tzLnN0cmV0Y2hCbG9jaygpXCIsXG4gICAgICBcIkJsb2NrQVBJXCJcbiAgICApO1xuICAgIGNvbnN0IG8gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KGUpO1xuICAgIG8gJiYgKG8uc3RyZXRjaGVkID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2tcbiAgICogQWZ0ZXIgc2V0IGNhcmV0IHRvIHRoaXMgQmxvY2tcbiAgICpcbiAgICogQHRvZG8gcmVtb3ZlIGluIDMuMC4wXG4gICAqIEBkZXByZWNhdGVkIHdpdGggaW5zZXJ0KCkgbWV0aG9kXG4gICAqL1xuICBpbnNlcnROZXdCbG9jaygpIHtcbiAgICBUKFwiTWV0aG9kIGJsb2Nrcy5pbnNlcnROZXdCbG9jaygpIGlzIGRlcHJlY2F0ZWQgYW5kIGl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBVc2UgYmxvY2tzLmluc2VydCgpIGluc3RlYWQuXCIsIFwid2FyblwiKSwgdGhpcy5pbnNlcnQoKTtcbiAgfVxufVxuY2xhc3MgR3QgZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5zZXRUb0ZpcnN0QmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmZpcnN0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZmlyc3RCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvTGFzdEJsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9QcmV2aW91c0Jsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5wcmV2aW91c0Jsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnByZXZpb3VzQmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb05leHRCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubmV4dEJsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLm5leHRCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvQmxvY2sgPSAoZSwgdCA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCBvID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrc1tlXSA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3NbZV0sIHQsIG8pLCAhMCkgOiAhMSwgdGhpcy5mb2N1cyA9IChlID0gITEpID0+IGUgPyB0aGlzLnNldFRvTGFzdEJsb2NrKHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5FTkQpIDogdGhpcy5zZXRUb0ZpcnN0QmxvY2sodGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLlNUQVJUKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0NhcmV0fVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldFRvRmlyc3RCbG9jazogdGhpcy5zZXRUb0ZpcnN0QmxvY2ssXG4gICAgICBzZXRUb0xhc3RCbG9jazogdGhpcy5zZXRUb0xhc3RCbG9jayxcbiAgICAgIHNldFRvUHJldmlvdXNCbG9jazogdGhpcy5zZXRUb1ByZXZpb3VzQmxvY2ssXG4gICAgICBzZXRUb05leHRCbG9jazogdGhpcy5zZXRUb05leHRCbG9jayxcbiAgICAgIHNldFRvQmxvY2s6IHRoaXMuc2V0VG9CbG9jayxcbiAgICAgIGZvY3VzOiB0aGlzLmZvY3VzXG4gICAgfTtcbiAgfVxufVxuY2xhc3MgcXQgZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtFdmVudHN9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW1pdDogKGUsIHQpID0+IHRoaXMuZW1pdChlLCB0KSxcbiAgICAgIG9mZjogKGUsIHQpID0+IHRoaXMub2ZmKGUsIHQpLFxuICAgICAgb246IChlLCB0KSA9PiB0aGlzLm9uKGUsIHQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIG9uIEV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgbmFtZSB0byBzdWJzY3JpYmVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvbihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBFbWl0IGV2ZW50IHdpdGggZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgdG8gZW1pdFxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGV2ZW50J3MgZGF0YVxuICAgKi9cbiAgZW1pdChlLCB0KSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gRXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIGV2ZW50IHRvIHVuc3Vic2NyaWJlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb2ZmKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub2ZmKGUsIHQpO1xuICB9XG59XG5jbGFzcyBEZSBleHRlbmRzIFMge1xuICAvKipcbiAgICogUmV0dXJuIG5hbWVzcGFjZSBzZWN0aW9uIGZvciB0b29sIG9yIGJsb2NrIHR1bmVcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSB0b29sIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGdldE5hbWVzcGFjZShlKSB7XG4gICAgcmV0dXJuIGUuaXNUdW5lKCkgPyBgYmxvY2tUdW5lcy4ke2UubmFtZX1gIDogYHRvb2xzLiR7ZS5uYW1lfWA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBJMThuIEFQSSBtZXRob2RzIHdpdGggZ2xvYmFsIGRpY3Rpb25hcnkgYWNjZXNzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdDogKCkgPT4ge1xuICAgICAgICBLKFwiSTE4bi50KCkgbWV0aG9kIGNhbiBiZSBhY2Nlc3NlZCBvbmx5IGZyb20gVG9vbHNcIiwgXCJ3YXJuXCIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBJMThuIEFQSSBtZXRob2RzIHdpdGggdG9vbCBuYW1lc3BhY2VkIGRpY3Rpb25hcnlcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0TWV0aG9kc0ZvclRvb2woZSkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5tZXRob2RzLFxuICAgICAge1xuICAgICAgICB0OiAodCkgPT4gJC50KERlLmdldE5hbWVzcGFjZShlKSwgdClcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5jbGFzcyBKdCBleHRlbmRzIFMge1xuICAvKipcbiAgICogRWRpdG9yLmpzIENvcmUgQVBJIG1vZHVsZXNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBibG9ja3M6IHRoaXMuRWRpdG9yLkJsb2Nrc0FQSS5tZXRob2RzLFxuICAgICAgY2FyZXQ6IHRoaXMuRWRpdG9yLkNhcmV0QVBJLm1ldGhvZHMsXG4gICAgICBldmVudHM6IHRoaXMuRWRpdG9yLkV2ZW50c0FQSS5tZXRob2RzLFxuICAgICAgbGlzdGVuZXJzOiB0aGlzLkVkaXRvci5MaXN0ZW5lcnNBUEkubWV0aG9kcyxcbiAgICAgIG5vdGlmaWVyOiB0aGlzLkVkaXRvci5Ob3RpZmllckFQSS5tZXRob2RzLFxuICAgICAgc2FuaXRpemVyOiB0aGlzLkVkaXRvci5TYW5pdGl6ZXJBUEkubWV0aG9kcyxcbiAgICAgIHNhdmVyOiB0aGlzLkVkaXRvci5TYXZlckFQSS5tZXRob2RzLFxuICAgICAgc2VsZWN0aW9uOiB0aGlzLkVkaXRvci5TZWxlY3Rpb25BUEkubWV0aG9kcyxcbiAgICAgIHN0eWxlczogdGhpcy5FZGl0b3IuU3R5bGVzQVBJLmNsYXNzZXMsXG4gICAgICB0b29sYmFyOiB0aGlzLkVkaXRvci5Ub29sYmFyQVBJLm1ldGhvZHMsXG4gICAgICBpbmxpbmVUb29sYmFyOiB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyQVBJLm1ldGhvZHMsXG4gICAgICB0b29sdGlwOiB0aGlzLkVkaXRvci5Ub29sdGlwQVBJLm1ldGhvZHMsXG4gICAgICBpMThuOiB0aGlzLkVkaXRvci5JMThuQVBJLm1ldGhvZHMsXG4gICAgICByZWFkT25seTogdGhpcy5FZGl0b3IuUmVhZE9ubHlBUEkubWV0aG9kcyxcbiAgICAgIHVpOiB0aGlzLkVkaXRvci5VaUFQSS5tZXRob2RzXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBFZGl0b3IuanMgQ29yZSBBUEkgbWV0aG9kcyBmb3IgcGFzc2VkIHRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSB0b29sIG9iamVjdFxuICAgKi9cbiAgZ2V0TWV0aG9kc0ZvclRvb2woZSkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5tZXRob2RzLFxuICAgICAge1xuICAgICAgICBpMThuOiB0aGlzLkVkaXRvci5JMThuQVBJLmdldE1ldGhvZHNGb3JUb29sKGUpXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuY2xhc3MgUXQgZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtJbmxpbmVUb29sYmFyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICBvcGVuOiAoKSA9PiB0aGlzLm9wZW4oKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci50cnlUb1Nob3coKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufVxuY2xhc3MgZW8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lcnN9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb246IChlLCB0LCBvLCBpKSA9PiB0aGlzLm9uKGUsIHQsIG8sIGkpLFxuICAgICAgb2ZmOiAoZSwgdCwgbywgaSkgPT4gdGhpcy5vZmYoZSwgdCwgbywgaSksXG4gICAgICBvZmZCeUlkOiAoZSkgPT4gdGhpcy5vZmZCeUlkKGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWRzIGEgRE9NIGV2ZW50IGxpc3RlbmVyLiBSZXR1cm4gaXQncyBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gc2V0IGhhbmRsZXIgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBoYW5kbGVyIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUNhcHR1cmUgLSBjYXB0dXJlIGV2ZW50IG9yIG5vdFxuICAgKi9cbiAgb24oZSwgdCwgbywgaSkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5vbihlLCB0LCBvLCBpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBET00gbGlzdGVuZXIgZnJvbSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcmVtb3ZlIGhhbmRsZXIgZnJvbVxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VDYXB0dXJlIC0gY2FwdHVyZSBldmVudCBvciBub3RcbiAgICovXG4gIG9mZihlLCB0LCBvLCBpKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmKGUsIHQsIG8sIGkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIERPTSBsaXN0ZW5lciBieSB0aGUgbGlzdGVuZXIgaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxuICAgKi9cbiAgb2ZmQnlJZChlKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmQnlJZChlKTtcbiAgfVxufVxudmFyIExlID0ge30sIHRvID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gTGU7XG4gIH0sXG4gIHNldCBleHBvcnRzKHMpIHtcbiAgICBMZSA9IHM7XG4gIH1cbn07XG4oZnVuY3Rpb24ocywgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIHMuZXhwb3J0cyA9IG8oKTtcbiAgfSkod2luZG93LCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgdmFyIG8gPSB7fTtcbiAgICAgIGZ1bmN0aW9uIGkobikge1xuICAgICAgICBpZiAob1tuXSlcbiAgICAgICAgICByZXR1cm4gb1tuXS5leHBvcnRzO1xuICAgICAgICB2YXIgciA9IG9bbl0gPSB7IGk6IG4sIGw6ICExLCBleHBvcnRzOiB7fSB9O1xuICAgICAgICByZXR1cm4gdFtuXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCBpKSwgci5sID0gITAsIHIuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLm0gPSB0LCBpLmMgPSBvLCBpLmQgPSBmdW5jdGlvbihuLCByLCBhKSB7XG4gICAgICAgIGkubyhuLCByKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgciwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBhIH0pO1xuICAgICAgfSwgaS5yID0gZnVuY3Rpb24obikge1xuICAgICAgICB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gICAgICB9LCBpLnQgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIGlmICgxICYgciAmJiAobiA9IGkobikpLCA4ICYgciB8fCA0ICYgciAmJiB0eXBlb2YgbiA9PSBcIm9iamVjdFwiICYmIG4gJiYgbi5fX2VzTW9kdWxlKVxuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB2YXIgYSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAoaS5yKGEpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogITAsIHZhbHVlOiBuIH0pLCAyICYgciAmJiB0eXBlb2YgbiAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIGZvciAodmFyIGwgaW4gbilcbiAgICAgICAgICAgIGkuZChhLCBsLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuW2NdO1xuICAgICAgICAgICAgfS5iaW5kKG51bGwsIGwpKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9LCBpLm4gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByID0gbiAmJiBuLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbi5kZWZhdWx0O1xuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpLmQociwgXCJhXCIsIHIpLCByO1xuICAgICAgfSwgaS5vID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpO1xuICAgICAgfSwgaS5wID0gXCIvXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgaSgxKSwgLyohXG4gICAgICAgKiBDb2RleCBKYXZhU2NyaXB0IE5vdGlmaWNhdGlvbiBtb2R1bGVcbiAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RleC10ZWFtL2pzLW5vdGlmaWVyXG4gICAgICAgKi9cbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbiA9IGkoNiksIHIgPSBcImNkeC1ub3RpZnktLWJvdW5jZS1pblwiLCBhID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHsgc2hvdzogZnVuY3Rpb24obCkge1xuICAgICAgICAgIGlmIChsLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKGEpXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgICBhID0gbi5nZXRXcmFwcGVyKCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgdmFyIGMgPSBudWxsLCB1ID0gbC50aW1lIHx8IDhlMztcbiAgICAgICAgICAgIHN3aXRjaCAobC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJjb25maXJtXCI6XG4gICAgICAgICAgICAgICAgYyA9IG4uY29uZmlybShsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInByb21wdFwiOlxuICAgICAgICAgICAgICAgIGMgPSBuLnByb21wdChsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjID0gbi5hbGVydChsKSwgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0sIHUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChjKSwgYy5jbGFzc0xpc3QuYWRkKHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB9O1xuICAgICAgfSgpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBuID0gaSgyKTtcbiAgICAgIHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgKG4gPSBbW3QuaSwgbiwgXCJcIl1dKTtcbiAgICAgIHZhciByID0geyBobXI6ICEwLCB0cmFuc2Zvcm06IHZvaWQgMCwgaW5zZXJ0SW50bzogdm9pZCAwIH07XG4gICAgICBpKDQpKG4sIHIpLCBuLmxvY2FscyAmJiAodC5leHBvcnRzID0gbi5sb2NhbHMpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgICh0LmV4cG9ydHMgPSBpKDMpKCExKSkucHVzaChbdC5pLCBgLmNkeC1ub3RpZnktLWVycm9ye2JhY2tncm91bmQ6I2ZmZmJmYiFpbXBvcnRhbnR9LmNkeC1ub3RpZnktLWVycm9yOjpiZWZvcmV7YmFja2dyb3VuZDojZmI1ZDVkIWltcG9ydGFudH0uY2R4LW5vdGlmeV9faW5wdXR7bWF4LXdpZHRoOjEzMHB4O3BhZGRpbmc6NXB4IDEwcHg7YmFja2dyb3VuZDojZjdmN2Y3O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxM3B4O2NvbG9yOiM2NTZiN2M7b3V0bGluZTowfS5jZHgtbm90aWZ5X19pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzY1NmI3Y30uY2R4LW5vdGlmeV9faW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiM2NTZiN2N9LmNkeC1ub3RpZnlfX2lucHV0OmZvY3VzOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjpyZ2JhKDEwMSwxMDcsMTI0LC4zKX0uY2R4LW5vdGlmeV9faW5wdXQ6Zm9jdXM6OnBsYWNlaG9sZGVye2NvbG9yOnJnYmEoMTAxLDEwNywxMjQsLjMpfS5jZHgtbm90aWZ5X19idXR0b257Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjEzcHg7cGFkZGluZzo1cHggMTBweDtjdXJzb3I6cG9pbnRlcn0uY2R4LW5vdGlmeV9fYnV0dG9uOmxhc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MTBweH0uY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWx7YmFja2dyb3VuZDojZjJmNWY3O2JveC1zaGFkb3c6MCAycHggMXB4IDAgcmdiYSgxNiwxOSwyOSwwKTtjb2xvcjojNjU2YjdjfS5jZHgtbm90aWZ5X19idXR0b24tLWNhbmNlbDpob3ZlcntiYWNrZ3JvdW5kOiNlZWV9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY29uZmlybXtiYWNrZ3JvdW5kOiMzNGM5OTI7Ym94LXNoYWRvdzowIDFweCAxcHggMCByZ2JhKDE4LDQ5LDM1LC4wNSk7Y29sb3I6I2ZmZn0uY2R4LW5vdGlmeV9fYnV0dG9uLS1jb25maXJtOmhvdmVye2JhY2tncm91bmQ6IzMzYjA4Mn0uY2R4LW5vdGlmeV9fYnRucy13cmFwcGVye2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWZsb3c6cm93IG5vd3JhcDtmbGV4LWZsb3c6cm93IG5vd3JhcDttYXJnaW4tdG9wOjVweH0uY2R4LW5vdGlmeV9fY3Jvc3N7cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDtyaWdodDo1cHg7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtwYWRkaW5nOjVweDtvcGFjaXR5Oi41NDtjdXJzb3I6cG9pbnRlcn0uY2R4LW5vdGlmeV9fY3Jvc3M6OmFmdGVyLC5jZHgtbm90aWZ5X19jcm9zczo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo5cHg7dG9wOjVweDtoZWlnaHQ6MTJweDt3aWR0aDoycHg7YmFja2dyb3VuZDojNTc1ZDY3fS5jZHgtbm90aWZ5X19jcm9zczo6YmVmb3Jle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uY2R4LW5vdGlmeV9fY3Jvc3M6OmFmdGVye3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5jZHgtbm90aWZ5X19jcm9zczpob3ZlcntvcGFjaXR5OjF9LmNkeC1ub3RpZmllc3twb3NpdGlvbjpmaXhlZDt6LWluZGV4OjI7Ym90dG9tOjIwcHg7bGVmdDoyMHB4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFwiU2Vnb2UgVUlcIixSb2JvdG8sT3h5Z2VuLFVidW50dSxDYW50YXJlbGwsXCJGaXJhIFNhbnNcIixcIkRyb2lkIFNhbnNcIixcIkhlbHZldGljYSBOZXVlXCIsc2Fucy1zZXJpZn0uY2R4LW5vdGlmeXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyMjBweDttYXJnaW4tdG9wOjE1cHg7cGFkZGluZzoxM3B4IDE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6MCAxMXB4IDE3cHggMCByZ2JhKDIzLDMyLDYxLC4xMyk7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40ZW07d29yZC13cmFwOmJyZWFrLXdvcmR9LmNkeC1ub3RpZnk6OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7dG9wOjA7bGVmdDowO3dpZHRoOjNweDtoZWlnaHQ6Y2FsYygxMDAlIC0gNnB4KTttYXJnaW46M3B4O2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6MCAwfUBrZXlmcmFtZXMgYm91bmNlSW57MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguMyl9NTAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUoMS4wNSl9NzAle3RyYW5zZm9ybTpzY2FsZSguOSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fS5jZHgtbm90aWZ5LS1ib3VuY2UtaW57YW5pbWF0aW9uLW5hbWU6Ym91bmNlSW47YW5pbWF0aW9uLWR1cmF0aW9uOi42czthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OjF9LmNkeC1ub3RpZnktLXN1Y2Nlc3N7YmFja2dyb3VuZDojZmFmZmZlIWltcG9ydGFudH0uY2R4LW5vdGlmeS0tc3VjY2Vzczo6YmVmb3Jle2JhY2tncm91bmQ6IzQxZmZiMSFpbXBvcnRhbnR9YCwgXCJcIl0pO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8pIHtcbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIG4gPSBbXTtcbiAgICAgICAgcmV0dXJuIG4udG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgdmFyIGEgPSBmdW5jdGlvbihsLCBjKSB7XG4gICAgICAgICAgICAgIHZhciB1ID0gbFsxXSB8fCBcIlwiLCBoID0gbFszXTtcbiAgICAgICAgICAgICAgaWYgKCFoKVxuICAgICAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICAgICAgICBpZiAoYyAmJiB0eXBlb2YgYnRvYSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IChwID0gaCwgXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkpKSArIFwiICovXCIpLCB2ID0gaC5zb3VyY2VzLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiICsgaC5zb3VyY2VSb290ICsgayArIFwiICovXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt1XS5jb25jYXQodikuY29uY2F0KFtmXSkuam9pbihgXG5gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgICAgcmV0dXJuIFt1XS5qb2luKGBcbmApO1xuICAgICAgICAgICAgfShyLCBpKTtcbiAgICAgICAgICAgIHJldHVybiByWzJdID8gXCJAbWVkaWEgXCIgKyByWzJdICsgXCJ7XCIgKyBhICsgXCJ9XCIgOiBhO1xuICAgICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIH0sIG4uaSA9IGZ1bmN0aW9uKHIsIGEpIHtcbiAgICAgICAgICB0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIChyID0gW1tudWxsLCByLCBcIlwiXV0pO1xuICAgICAgICAgIGZvciAodmFyIGwgPSB7fSwgYyA9IDA7IGMgPCB0aGlzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICB2YXIgdSA9IHRoaXNbY11bMF07XG4gICAgICAgICAgICB0eXBlb2YgdSA9PSBcIm51bWJlclwiICYmIChsW3VdID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGMgPSAwOyBjIDwgci5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdmFyIGggPSByW2NdO1xuICAgICAgICAgICAgdHlwZW9mIGhbMF0gPT0gXCJudW1iZXJcIiAmJiBsW2hbMF1dIHx8IChhICYmICFoWzJdID8gaFsyXSA9IGEgOiBhICYmIChoWzJdID0gXCIoXCIgKyBoWzJdICsgXCIpIGFuZCAoXCIgKyBhICsgXCIpXCIpLCBuLnB1c2goaCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgbjtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIG4sIHIsIGEgPSB7fSwgbCA9IChuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gciA9PT0gdm9pZCAwICYmIChyID0gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSwgcjtcbiAgICAgIH0pLCBjID0gZnVuY3Rpb24oYikge1xuICAgICAgICB2YXIgZyA9IHt9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oRSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgRSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gRSgpO1xuICAgICAgICAgIGlmIChnW0VdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhciBDID0gZnVuY3Rpb24oTykge1xuICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihPKTtcbiAgICAgICAgICAgIH0uY2FsbCh0aGlzLCBFKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgQyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudClcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBDID0gQy5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgQyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdbRV0gPSBDO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ1tFXTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSwgdSA9IG51bGwsIGggPSAwLCBmID0gW10sIHYgPSBpKDUpO1xuICAgICAgZnVuY3Rpb24gcChiLCBnKSB7XG4gICAgICAgIGZvciAodmFyIEUgPSAwOyBFIDwgYi5sZW5ndGg7IEUrKykge1xuICAgICAgICAgIHZhciBDID0gYltFXSwgTyA9IGFbQy5pZF07XG4gICAgICAgICAgaWYgKE8pIHtcbiAgICAgICAgICAgIE8ucmVmcysrO1xuICAgICAgICAgICAgZm9yICh2YXIgSSA9IDA7IEkgPCBPLnBhcnRzLmxlbmd0aDsgSSsrKVxuICAgICAgICAgICAgICBPLnBhcnRzW0ldKEMucGFydHNbSV0pO1xuICAgICAgICAgICAgZm9yICg7IEkgPCBDLnBhcnRzLmxlbmd0aDsgSSsrKVxuICAgICAgICAgICAgICBPLnBhcnRzLnB1c2goeChDLnBhcnRzW0ldLCBnKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBIID0gW107XG4gICAgICAgICAgICBmb3IgKEkgPSAwOyBJIDwgQy5wYXJ0cy5sZW5ndGg7IEkrKylcbiAgICAgICAgICAgICAgSC5wdXNoKHgoQy5wYXJ0c1tJXSwgZykpO1xuICAgICAgICAgICAgYVtDLmlkXSA9IHsgaWQ6IEMuaWQsIHJlZnM6IDEsIHBhcnRzOiBIIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBrKGIsIGcpIHtcbiAgICAgICAgZm9yICh2YXIgRSA9IFtdLCBDID0ge30sIE8gPSAwOyBPIDwgYi5sZW5ndGg7IE8rKykge1xuICAgICAgICAgIHZhciBJID0gYltPXSwgSCA9IGcuYmFzZSA/IElbMF0gKyBnLmJhc2UgOiBJWzBdLCBMID0geyBjc3M6IElbMV0sIG1lZGlhOiBJWzJdLCBzb3VyY2VNYXA6IElbM10gfTtcbiAgICAgICAgICBDW0hdID8gQ1tIXS5wYXJ0cy5wdXNoKEwpIDogRS5wdXNoKENbSF0gPSB7IGlkOiBILCBwYXJ0czogW0xdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gXyhiLCBnKSB7XG4gICAgICAgIHZhciBFID0gYyhiLmluc2VydEludG8pO1xuICAgICAgICBpZiAoIUUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgICAgIHZhciBDID0gZltmLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoYi5pbnNlcnRBdCA9PT0gXCJ0b3BcIilcbiAgICAgICAgICBDID8gQy5uZXh0U2libGluZyA/IEUuaW5zZXJ0QmVmb3JlKGcsIEMubmV4dFNpYmxpbmcpIDogRS5hcHBlbmRDaGlsZChnKSA6IEUuaW5zZXJ0QmVmb3JlKGcsIEUuZmlyc3RDaGlsZCksIGYucHVzaChnKTtcbiAgICAgICAgZWxzZSBpZiAoYi5pbnNlcnRBdCA9PT0gXCJib3R0b21cIilcbiAgICAgICAgICBFLmFwcGVuZENoaWxkKGcpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGIuaW5zZXJ0QXQgIT0gXCJvYmplY3RcIiB8fCAhYi5pbnNlcnRBdC5iZWZvcmUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtTdHlsZSBMb2FkZXJdXG5cbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcbmApO1xuICAgICAgICAgIHZhciBPID0gYyhiLmluc2VydEludG8gKyBcIiBcIiArIGIuaW5zZXJ0QXQuYmVmb3JlKTtcbiAgICAgICAgICBFLmluc2VydEJlZm9yZShnLCBPKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gQShiKSB7XG4gICAgICAgIGlmIChiLnBhcmVudE5vZGUgPT09IG51bGwpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7XG4gICAgICAgIHZhciBnID0gZi5pbmRleE9mKGIpO1xuICAgICAgICBnID49IDAgJiYgZi5zcGxpY2UoZywgMSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBSKGIpIHtcbiAgICAgICAgdmFyIGcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHJldHVybiBiLmF0dHJzLnR5cGUgPT09IHZvaWQgMCAmJiAoYi5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiKSwgeShnLCBiLmF0dHJzKSwgXyhiLCBnKSwgZztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHkoYiwgZykge1xuICAgICAgICBPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKEUpIHtcbiAgICAgICAgICBiLnNldEF0dHJpYnV0ZShFLCBnW0VdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB4KGIsIGcpIHtcbiAgICAgICAgdmFyIEUsIEMsIE8sIEk7XG4gICAgICAgIGlmIChnLnRyYW5zZm9ybSAmJiBiLmNzcykge1xuICAgICAgICAgIGlmICghKEkgPSBnLnRyYW5zZm9ybShiLmNzcykpKVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICBiLmNzcyA9IEk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGcuc2luZ2xldG9uKSB7XG4gICAgICAgICAgdmFyIEggPSBoKys7XG4gICAgICAgICAgRSA9IHUgfHwgKHUgPSBSKGcpKSwgQyA9IE4uYmluZChudWxsLCBFLCBILCAhMSksIE8gPSBOLmJpbmQobnVsbCwgRSwgSCwgITApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBiLnNvdXJjZU1hcCAmJiB0eXBlb2YgVVJMID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBCbG9iID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgYnRvYSA9PSBcImZ1bmN0aW9uXCIgPyAoRSA9IGZ1bmN0aW9uKEwpIHtcbiAgICAgICAgICAgIHZhciBXID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgICByZXR1cm4gTC5hdHRycy50eXBlID09PSB2b2lkIDAgJiYgKEwuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIiksIEwuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCIsIHkoVywgTC5hdHRycyksIF8oTCwgVyksIFc7XG4gICAgICAgICAgfShnKSwgQyA9IGZ1bmN0aW9uKEwsIFcsIGxlKSB7XG4gICAgICAgICAgICB2YXIgUSA9IGxlLmNzcywgRWUgPSBsZS5zb3VyY2VNYXAsIEl0ID0gVy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHZvaWQgMCAmJiBFZTtcbiAgICAgICAgICAgIChXLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBJdCkgJiYgKFEgPSB2KFEpKSwgRWUgJiYgKFEgKz0gYFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxgICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoRWUpKSkpICsgXCIgKi9cIik7XG4gICAgICAgICAgICB2YXIgTXQgPSBuZXcgQmxvYihbUV0sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pLCBYZSA9IEwuaHJlZjtcbiAgICAgICAgICAgIEwuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoTXQpLCBYZSAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKFhlKTtcbiAgICAgICAgICB9LmJpbmQobnVsbCwgRSwgZyksIE8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEEoRSksIEUuaHJlZiAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKEUuaHJlZik7XG4gICAgICAgICAgfSkgOiAoRSA9IFIoZyksIEMgPSBmdW5jdGlvbihMLCBXKSB7XG4gICAgICAgICAgICB2YXIgbGUgPSBXLmNzcywgUSA9IFcubWVkaWE7XG4gICAgICAgICAgICBpZiAoUSAmJiBMLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIFEpLCBMLnN0eWxlU2hlZXQpXG4gICAgICAgICAgICAgIEwuc3R5bGVTaGVldC5jc3NUZXh0ID0gbGU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yICg7IEwuZmlyc3RDaGlsZDsgKVxuICAgICAgICAgICAgICAgIEwucmVtb3ZlQ2hpbGQoTC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgTC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0uYmluZChudWxsLCBFKSwgTyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQShFKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEMoYiksIGZ1bmN0aW9uKEwpIHtcbiAgICAgICAgICBpZiAoTCkge1xuICAgICAgICAgICAgaWYgKEwuY3NzID09PSBiLmNzcyAmJiBMLm1lZGlhID09PSBiLm1lZGlhICYmIEwuc291cmNlTWFwID09PSBiLnNvdXJjZU1hcClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgQyhiID0gTCk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBPKCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbihiLCBnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgREVCVUcgPCBcInVcIiAmJiBERUJVRyAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG4gICAgICAgIChnID0gZyB8fCB7fSkuYXR0cnMgPSB0eXBlb2YgZy5hdHRycyA9PSBcIm9iamVjdFwiID8gZy5hdHRycyA6IHt9LCBnLnNpbmdsZXRvbiB8fCB0eXBlb2YgZy5zaW5nbGV0b24gPT0gXCJib29sZWFuXCIgfHwgKGcuc2luZ2xldG9uID0gbCgpKSwgZy5pbnNlcnRJbnRvIHx8IChnLmluc2VydEludG8gPSBcImhlYWRcIiksIGcuaW5zZXJ0QXQgfHwgKGcuaW5zZXJ0QXQgPSBcImJvdHRvbVwiKTtcbiAgICAgICAgdmFyIEUgPSBrKGIsIGcpO1xuICAgICAgICByZXR1cm4gcChFLCBnKSwgZnVuY3Rpb24oQykge1xuICAgICAgICAgIGZvciAodmFyIE8gPSBbXSwgSSA9IDA7IEkgPCBFLmxlbmd0aDsgSSsrKSB7XG4gICAgICAgICAgICB2YXIgSCA9IEVbSV07XG4gICAgICAgICAgICAoTCA9IGFbSC5pZF0pLnJlZnMtLSwgTy5wdXNoKEwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKEMgJiYgcChrKEMsIGcpLCBnKSwgSSA9IDA7IEkgPCBPLmxlbmd0aDsgSSsrKSB7XG4gICAgICAgICAgICB2YXIgTDtcbiAgICAgICAgICAgIGlmICgoTCA9IE9bSV0pLnJlZnMgPT09IDApIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgVyA9IDA7IFcgPCBMLnBhcnRzLmxlbmd0aDsgVysrKVxuICAgICAgICAgICAgICAgIEwucGFydHNbV10oKTtcbiAgICAgICAgICAgICAgZGVsZXRlIGFbTC5pZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHZhciB3LCBNID0gKHcgPSBbXSwgZnVuY3Rpb24oYiwgZykge1xuICAgICAgICByZXR1cm4gd1tiXSA9IGcsIHcuZmlsdGVyKEJvb2xlYW4pLmpvaW4oYFxuYCk7XG4gICAgICB9KTtcbiAgICAgIGZ1bmN0aW9uIE4oYiwgZywgRSwgQykge1xuICAgICAgICB2YXIgTyA9IEUgPyBcIlwiIDogQy5jc3M7XG4gICAgICAgIGlmIChiLnN0eWxlU2hlZXQpXG4gICAgICAgICAgYi5zdHlsZVNoZWV0LmNzc1RleHQgPSBNKGcsIE8pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgSSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKE8pLCBIID0gYi5jaGlsZE5vZGVzO1xuICAgICAgICAgIEhbZ10gJiYgYi5yZW1vdmVDaGlsZChIW2ddKSwgSC5sZW5ndGggPyBiLmluc2VydEJlZm9yZShJLCBIW2ddKSA6IGIuYXBwZW5kQ2hpbGQoSSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBuID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgICAgaWYgKCFuKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICAgICAgICBpZiAoIWkgfHwgdHlwZW9mIGkgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgdmFyIHIgPSBuLnByb3RvY29sICsgXCIvL1wiICsgbi5ob3N0LCBhID0gciArIG4ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG4gICAgICAgIHJldHVybiBpLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihsLCBjKSB7XG4gICAgICAgICAgdmFyIHUsIGggPSBjLnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24oZiwgdikge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfSkucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihmLCB2KSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdChoKSA/IGwgOiAodSA9IGguaW5kZXhPZihcIi8vXCIpID09PSAwID8gaCA6IGguaW5kZXhPZihcIi9cIikgPT09IDAgPyByICsgaCA6IGEgKyBoLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKSwgXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeSh1KSArIFwiKVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBuLCByLCBhLCBsLCBjLCB1LCBoLCBmLCB2O1xuICAgICAgdC5leHBvcnRzID0gKG4gPSBcImNkeC1ub3RpZmllc1wiLCByID0gXCJjZHgtbm90aWZ5XCIsIGEgPSBcImNkeC1ub3RpZnlfX2Nyb3NzXCIsIGwgPSBcImNkeC1ub3RpZnlfX2J1dHRvbi0tY29uZmlybVwiLCBjID0gXCJjZHgtbm90aWZ5X19idXR0b24tLWNhbmNlbFwiLCB1ID0gXCJjZHgtbm90aWZ5X19pbnB1dFwiLCBoID0gXCJjZHgtbm90aWZ5X19idXR0b25cIiwgZiA9IFwiY2R4LW5vdGlmeV9fYnRucy13cmFwcGVyXCIsIHsgYWxlcnQ6IHYgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSwgXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIiksIEEgPSBwLm1lc3NhZ2UsIFIgPSBwLnN0eWxlO1xuICAgICAgICByZXR1cm4gay5jbGFzc0xpc3QuYWRkKHIpLCBSICYmIGsuY2xhc3NMaXN0LmFkZChyICsgXCItLVwiICsgUiksIGsuaW5uZXJIVE1MID0gQSwgXy5jbGFzc0xpc3QuYWRkKGEpLCBfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgay5hcHBlbmRDaGlsZChfKSwgaztcbiAgICAgIH0sIGNvbmZpcm06IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGsgPSB2KHApLCBfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIFIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB5ID0gay5xdWVyeVNlbGVjdG9yKFwiLlwiICsgYSksIHggPSBwLmNhbmNlbEhhbmRsZXIsIHcgPSBwLm9rSGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIF8uY2xhc3NMaXN0LmFkZChmKSwgQS5pbm5lckhUTUwgPSBwLm9rVGV4dCB8fCBcIkNvbmZpcm1cIiwgUi5pbm5lckhUTUwgPSBwLmNhbmNlbFRleHQgfHwgXCJDYW5jZWxcIiwgQS5jbGFzc0xpc3QuYWRkKGgpLCBSLmNsYXNzTGlzdC5hZGQoaCksIEEuY2xhc3NMaXN0LmFkZChsKSwgUi5jbGFzc0xpc3QuYWRkKGMpLCB4ICYmIHR5cGVvZiB4ID09IFwiZnVuY3Rpb25cIiAmJiAoUi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgeCksIHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHgpKSwgdyAmJiB0eXBlb2YgdyA9PSBcImZ1bmN0aW9uXCIgJiYgQS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdyksIEEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGsucmVtb3ZlLmJpbmQoaykpLCBSLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgXy5hcHBlbmRDaGlsZChBKSwgXy5hcHBlbmRDaGlsZChSKSwgay5hcHBlbmRDaGlsZChfKSwgaztcbiAgICAgIH0sIHByb21wdDogZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIgayA9IHYocCksIF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgUiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgeSA9IGsucXVlcnlTZWxlY3RvcihcIi5cIiArIGEpLCB4ID0gcC5jYW5jZWxIYW5kbGVyLCB3ID0gcC5va0hhbmRsZXI7XG4gICAgICAgIHJldHVybiBfLmNsYXNzTGlzdC5hZGQoZiksIEEuaW5uZXJIVE1MID0gcC5va1RleHQgfHwgXCJPa1wiLCBBLmNsYXNzTGlzdC5hZGQoaCksIEEuY2xhc3NMaXN0LmFkZChsKSwgUi5jbGFzc0xpc3QuYWRkKHUpLCBwLnBsYWNlaG9sZGVyICYmIFIuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgcC5wbGFjZWhvbGRlciksIHAuZGVmYXVsdCAmJiAoUi52YWx1ZSA9IHAuZGVmYXVsdCksIHAuaW5wdXRUeXBlICYmIChSLnR5cGUgPSBwLmlucHV0VHlwZSksIHggJiYgdHlwZW9mIHggPT0gXCJmdW5jdGlvblwiICYmIHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHgpLCB3ICYmIHR5cGVvZiB3ID09IFwiZnVuY3Rpb25cIiAmJiBBLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB3KFIudmFsdWUpO1xuICAgICAgICB9KSwgQS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIF8uYXBwZW5kQ2hpbGQoUiksIF8uYXBwZW5kQ2hpbGQoQSksIGsuYXBwZW5kQ2hpbGQoXyksIGs7XG4gICAgICB9LCBnZXRXcmFwcGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xuICAgICAgICByZXR1cm4gcC5jbGFzc0xpc3QuYWRkKG4pLCBwO1xuICAgICAgfSB9KTtcbiAgICB9XSk7XG4gIH0pO1xufSkodG8pO1xuY29uc3Qgb28gPSAvKiBAX19QVVJFX18gKi8geGUoTGUpO1xuY2xhc3MgaW8ge1xuICAvKipcbiAgICogU2hvdyB3ZWIgbm90aWZpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7Tm90aWZpZXJPcHRpb25zIHwgQ29uZmlybU5vdGlmaWVyT3B0aW9ucyB8IFByb21wdE5vdGlmaWVyT3B0aW9uc30gb3B0aW9ucyAtIG5vdGlmaWNhdGlvbiBvcHRpb25zXG4gICAqL1xuICBzaG93KGUpIHtcbiAgICBvby5zaG93KGUpO1xuICB9XG59XG5jbGFzcyBubyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24gLSBNb2R1bGUgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5jb25maWcgLSBFZGl0b3IncyBjb25maWdcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uZXZlbnRzRGlzcGF0Y2hlciAtIEVkaXRvcidzIGV2ZW50IGRpc3BhdGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSksIHRoaXMubm90aWZpZXIgPSBuZXcgaW8oKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93OiAoZSkgPT4gdGhpcy5zaG93KGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2hvdyBub3RpZmljYXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtOb3RpZmllck9wdGlvbnN9IG9wdGlvbnMgLSBtZXNzYWdlIG9wdGlvblxuICAgKi9cbiAgc2hvdyhlKSB7XG4gICAgcmV0dXJuIHRoaXMubm90aWZpZXIuc2hvdyhlKTtcbiAgfVxufVxuY2xhc3Mgc28gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICBjb25zdCBlID0gKCkgPT4gdGhpcy5pc0VuYWJsZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvZ2dsZTogKHQpID0+IHRoaXMudG9nZ2xlKHQpLFxuICAgICAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb3IgdG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBzdGF0ZSAtIHNldCBvciB0b2dnbGUgc3RhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGN1cnJlbnQgdmFsdWVcbiAgICovXG4gIHRvZ2dsZShlKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlJlYWRPbmx5LnRvZ2dsZShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IHJlYWQtb25seSBzdGF0ZVxuICAgKi9cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkO1xuICB9XG59XG52YXIgT2UgPSB7fSwgcm8gPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBPZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIE9lID0gcztcbiAgfVxufTtcbihmdW5jdGlvbihzLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgcy5leHBvcnRzID0gbygpO1xuICB9KShMdCwgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gdChoKSB7XG4gICAgICB2YXIgZiA9IGgudGFncywgdiA9IE9iamVjdC5rZXlzKGYpLCBwID0gdi5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGZba107XG4gICAgICB9KS5ldmVyeShmdW5jdGlvbihrKSB7XG4gICAgICAgIHJldHVybiBrID09PSBcIm9iamVjdFwiIHx8IGsgPT09IFwiYm9vbGVhblwiIHx8IGsgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29uZmlndXJhdGlvbiB3YXMgaW52YWxpZFwiKTtcbiAgICAgIHRoaXMuY29uZmlnID0gaDtcbiAgICB9XG4gICAgdmFyIG8gPSBbXCJQXCIsIFwiTElcIiwgXCJURFwiLCBcIlRIXCIsIFwiRElWXCIsIFwiSDFcIiwgXCJIMlwiLCBcIkgzXCIsIFwiSDRcIiwgXCJINVwiLCBcIkg2XCIsIFwiUFJFXCJdO1xuICAgIGZ1bmN0aW9uIGkoaCkge1xuICAgICAgcmV0dXJuIG8uaW5kZXhPZihoLm5vZGVOYW1lKSAhPT0gLTE7XG4gICAgfVxuICAgIHZhciBuID0gW1wiQVwiLCBcIkJcIiwgXCJTVFJPTkdcIiwgXCJJXCIsIFwiRU1cIiwgXCJTVUJcIiwgXCJTVVBcIiwgXCJVXCIsIFwiU1RSSUtFXCJdO1xuICAgIGZ1bmN0aW9uIHIoaCkge1xuICAgICAgcmV0dXJuIG4uaW5kZXhPZihoLm5vZGVOYW1lKSAhPT0gLTE7XG4gICAgfVxuICAgIHQucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24oaCkge1xuICAgICAgY29uc3QgZiA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgpLCB2ID0gZi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcmV0dXJuIHYuaW5uZXJIVE1MID0gaCwgdGhpcy5fc2FuaXRpemUoZiwgdiksIHYuaW5uZXJIVE1MO1xuICAgIH0sIHQucHJvdG90eXBlLl9zYW5pdGl6ZSA9IGZ1bmN0aW9uKGgsIGYpIHtcbiAgICAgIHZhciB2ID0gYShoLCBmKSwgcCA9IHYuZmlyc3RDaGlsZCgpO1xuICAgICAgaWYgKHApXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAocC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpXG4gICAgICAgICAgICBpZiAocC5kYXRhLnRyaW0oKSA9PT0gXCJcIiAmJiAocC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIGkocC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB8fCBwLm5leHRFbGVtZW50U2libGluZyAmJiBpKHAubmV4dEVsZW1lbnRTaWJsaW5nKSkpIHtcbiAgICAgICAgICAgICAgZi5yZW1vdmVDaGlsZChwKSwgdGhpcy5fc2FuaXRpemUoaCwgZik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChwLm5vZGVUeXBlID09PSBOb2RlLkNPTU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgZi5yZW1vdmVDaGlsZChwKSwgdGhpcy5fc2FuaXRpemUoaCwgZik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGsgPSByKHApLCBfO1xuICAgICAgICAgIGsgJiYgKF8gPSBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKHAuY2hpbGROb2RlcywgaSkpO1xuICAgICAgICAgIHZhciBBID0gISFmLnBhcmVudE5vZGUsIFIgPSBpKGYpICYmIGkocCkgJiYgQSwgeSA9IHAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgeCA9IGwodGhpcy5jb25maWcsIHksIHApLCB3ID0gayAmJiBfO1xuICAgICAgICAgIGlmICh3IHx8IGMocCwgeCkgfHwgIXRoaXMuY29uZmlnLmtlZXBOZXN0ZWRCbG9ja0VsZW1lbnRzICYmIFIpIHtcbiAgICAgICAgICAgIGlmICghKHAubm9kZU5hbWUgPT09IFwiU0NSSVBUXCIgfHwgcC5ub2RlTmFtZSA9PT0gXCJTVFlMRVwiKSlcbiAgICAgICAgICAgICAgZm9yICg7IHAuY2hpbGROb2Rlcy5sZW5ndGggPiAwOyApXG4gICAgICAgICAgICAgICAgZi5pbnNlcnRCZWZvcmUocC5jaGlsZE5vZGVzWzBdLCBwKTtcbiAgICAgICAgICAgIGYucmVtb3ZlQ2hpbGQocCksIHRoaXMuX3Nhbml0aXplKGgsIGYpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIE0gPSAwOyBNIDwgcC5hdHRyaWJ1dGVzLmxlbmd0aDsgTSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgTiA9IHAuYXR0cmlidXRlc1tNXTtcbiAgICAgICAgICAgIHUoTiwgeCwgcCkgJiYgKHAucmVtb3ZlQXR0cmlidXRlKE4ubmFtZSksIE0gPSBNIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3Nhbml0aXplKGgsIHApO1xuICAgICAgICB9IHdoaWxlIChwID0gdi5uZXh0U2libGluZygpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGEoaCwgZikge1xuICAgICAgcmV0dXJuIGguY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZixcbiAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQgfCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCB8IE5vZGVGaWx0ZXIuU0hPV19DT01NRU5ULFxuICAgICAgICBudWxsLFxuICAgICAgICAhMVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbChoLCBmLCB2KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGgudGFnc1tmXSA9PSBcImZ1bmN0aW9uXCIgPyBoLnRhZ3NbZl0odikgOiBoLnRhZ3NbZl07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoaCwgZikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBmID4gXCJ1XCIgPyAhMCA6IHR5cGVvZiBmID09IFwiYm9vbGVhblwiID8gIWYgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdShoLCBmLCB2KSB7XG4gICAgICB2YXIgcCA9IGgubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGYgPT09ICEwID8gITEgOiB0eXBlb2YgZltwXSA9PSBcImZ1bmN0aW9uXCIgPyAhZltwXShoLnZhbHVlLCB2KSA6IHR5cGVvZiBmW3BdID4gXCJ1XCIgfHwgZltwXSA9PT0gITEgPyAhMCA6IHR5cGVvZiBmW3BdID09IFwic3RyaW5nXCIgPyBmW3BdICE9PSBoLnZhbHVlIDogITE7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9KTtcbn0pKHJvKTtcbmNvbnN0IGFvID0gT2U7XG5mdW5jdGlvbiBodChzLCBlKSB7XG4gIHJldHVybiBzLm1hcCgodCkgPT4ge1xuICAgIGNvbnN0IG8gPSBEKGUpID8gZSh0LnRvb2wpIDogZTtcbiAgICByZXR1cm4gVihvKSB8fCAodC5kYXRhID0gUGUodC5kYXRhLCBvKSksIHQ7XG4gIH0pO1xufVxuZnVuY3Rpb24gWihzLCBlID0ge30pIHtcbiAgY29uc3QgdCA9IHtcbiAgICB0YWdzOiBlXG4gIH07XG4gIHJldHVybiBuZXcgYW8odCkuY2xlYW4ocyk7XG59XG5mdW5jdGlvbiBQZShzLCBlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHMpID8gbG8ocywgZSkgOiBqKHMpID8gY28ocywgZSkgOiBKKHMpID8gaG8ocywgZSkgOiBzO1xufVxuZnVuY3Rpb24gbG8ocywgZSkge1xuICByZXR1cm4gcy5tYXAoKHQpID0+IFBlKHQsIGUpKTtcbn1cbmZ1bmN0aW9uIGNvKHMsIGUpIHtcbiAgY29uc3QgdCA9IHt9O1xuICBmb3IgKGNvbnN0IG8gaW4gcykge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIG8pKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgaSA9IHNbb10sIG4gPSB1byhlW29dKSA/IGVbb10gOiBlO1xuICAgIHRbb10gPSBQZShpLCBuKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIGhvKHMsIGUpIHtcbiAgcmV0dXJuIGooZSkgPyBaKHMsIGUpIDogZSA9PT0gITEgPyBaKHMsIHt9KSA6IHM7XG59XG5mdW5jdGlvbiB1byhzKSB7XG4gIHJldHVybiBqKHMpIHx8IE50KHMpIHx8IEQocyk7XG59XG5jbGFzcyBwbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1Nhbml0aXplckNvbmZpZ31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbGVhbjogKGUsIHQpID0+IHRoaXMuY2xlYW4oZSwgdClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIHNhbml0aXppbmcgb2YgYSBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhaW50U3RyaW5nIC0gd2hhdCB0byBzYW5pdGl6ZVxuICAgKiBAcGFyYW0ge1Nhbml0aXplckNvbmZpZ30gY29uZmlnIC0gc2FuaXRpemVyIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgY2xlYW4oZSwgdCkge1xuICAgIHJldHVybiBaKGUsIHQpO1xuICB9XG59XG5jbGFzcyBmbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1NhdmVyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhdmU6ICgpID0+IHRoaXMuc2F2ZSgpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEVkaXRvcidzIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge091dHB1dERhdGF9XG4gICAqL1xuICBzYXZlKCkge1xuICAgIGNvbnN0IGUgPSBcIkVkaXRvcidzIGNvbnRlbnQgY2FuIG5vdCBiZSBzYXZlZCBpbiByZWFkLW9ubHkgbW9kZVwiO1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQgPyAoSyhlLCBcIndhcm5cIiksIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihlKSkpIDogdGhpcy5FZGl0b3IuU2F2ZXIuc2F2ZSgpO1xuICB9XG59XG5jbGFzcyBnbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1NlbGVjdGlvbkFQSUludGVyZmFjZX1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5kUGFyZW50VGFnOiAoZSwgdCkgPT4gdGhpcy5maW5kUGFyZW50VGFnKGUsIHQpLFxuICAgICAgZXhwYW5kVG9UYWc6IChlKSA9PiB0aGlzLmV4cGFuZFRvVGFnKGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgYWhlYWQgZnJvbSBzZWxlY3Rpb24gYW5kIGZpbmQgcGFzc2VkIHRhZyB3aXRoIGNsYXNzIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgLSB0YWcgdG8gZmluZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gdGFnJ3MgY2xhc3MgbmFtZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGZpbmRQYXJlbnRUYWcoZSwgdCkge1xuICAgIHJldHVybiBuZXcgbSgpLmZpbmRQYXJlbnRUYWcoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEV4cGFuZCBzZWxlY3Rpb24gdG8gcGFzc2VkIHRhZ1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIC0gdGFnIHRoYXQgc2hvdWxkIGNvbnRhaW4gc2VsZWN0aW9uXG4gICAqL1xuICBleHBhbmRUb1RhZyhlKSB7XG4gICAgbmV3IG0oKS5leHBhbmRUb1RhZyhlKTtcbiAgfVxufVxuY2xhc3MgYm8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIEV4cG9ydGVkIGNsYXNzZXNcbiAgICovXG4gIGdldCBjbGFzc2VzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEJhc2UgQmxvY2sgc3R5bGVzXG4gICAgICAgKi9cbiAgICAgIGJsb2NrOiBcImNkeC1ibG9ja1wiLFxuICAgICAgLyoqXG4gICAgICAgKiBJbmxpbmUgVG9vbHMgc3R5bGVzXG4gICAgICAgKi9cbiAgICAgIGlubGluZVRvb2xCdXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGlubGluZVRvb2xCdXR0b25BY3RpdmU6IFwiY2UtaW5saW5lLXRvb2wtLWFjdGl2ZVwiLFxuICAgICAgLyoqXG4gICAgICAgKiBVSSBlbGVtZW50c1xuICAgICAgICovXG4gICAgICBpbnB1dDogXCJjZHgtaW5wdXRcIixcbiAgICAgIGxvYWRlcjogXCJjZHgtbG9hZGVyXCIsXG4gICAgICBidXR0b246IFwiY2R4LWJ1dHRvblwiLFxuICAgICAgLyoqXG4gICAgICAgKiBTZXR0aW5ncyBzdHlsZXNcbiAgICAgICAqL1xuICAgICAgc2V0dGluZ3NCdXR0b246IFwiY2R4LXNldHRpbmdzLWJ1dHRvblwiLFxuICAgICAgc2V0dGluZ3NCdXR0b25BY3RpdmU6IFwiY2R4LXNldHRpbmdzLWJ1dHRvbi0tYWN0aXZlXCJcbiAgICB9O1xuICB9XG59XG5jbGFzcyBtbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1Rvb2xiYXJ9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xvc2U6ICgpID0+IHRoaXMuY2xvc2UoKSxcbiAgICAgIG9wZW46ICgpID0+IHRoaXMub3BlbigpLFxuICAgICAgdG9nZ2xlQmxvY2tTZXR0aW5nczogKGUpID0+IHRoaXMudG9nZ2xlQmxvY2tTZXR0aW5ncyhlKSxcbiAgICAgIHRvZ2dsZVRvb2xib3g6IChlKSA9PiB0aGlzLnRvZ2dsZVRvb2xib3goZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHRvb2xiYXJcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0b29sYmFyIGFuZCBhbGwgaW5jbHVkZWQgZWxlbWVudHNcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBCbG9jayBTZXR0aW5nIG9mIHRoZSBjdXJyZW50IGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3BlbmluZ1N0YXRlIFx1MjAxNCAgb3BlbmluZyBzdGF0ZSBvZiBCbG9jayBTZXR0aW5nXG4gICAqL1xuICB0b2dnbGVCbG9ja1NldHRpbmdzKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4ID09PSAtMSkge1xuICAgICAgSyhcIkNvdWxkJ3QgdG9nZ2xlIHRoZSBUb29sYmFyIGJlY2F1c2UgdGhlcmUgaXMgbm8gYmxvY2sgc2VsZWN0ZWQgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA/PyAhdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgPyAodGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW4oKSkgOiB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gdG9vbGJveFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wZW5pbmdTdGF0ZSAtIE9wZW5pbmcgc3RhdGUgb2YgdG9vbGJveFxuICAgKi9cbiAgdG9nZ2xlVG9vbGJveChlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCA9PT0gLTEpIHtcbiAgICAgIEsoXCJDb3VsZCd0IHRvZ2dsZSB0aGUgVG9vbGJveCBiZWNhdXNlIHRoZXJlIGlzIG5vIGJsb2NrIHNlbGVjdGVkIFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUgPz8gIXRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQgPyAodGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbigpKSA6IHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5jbG9zZSgpO1xuICB9XG59XG52YXIgX2UgPSB7fSwga28gPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBfZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIF9lID0gcztcbiAgfVxufTtcbi8qIVxuICogQ29kZVguVG9vbHRpcHNcbiAqIFxuICogQHZlcnNpb24gMS4wLjVcbiAqIFxuICogQGxpY2VuY2UgTUlUXG4gKiBAYXV0aG9yIENvZGVYIDxodHRwczovL2NvZGV4LnNvPlxuICogXG4gKiBcbiAqL1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKG4pIHtcbiAgICAgICAgaWYgKG9bbl0pXG4gICAgICAgICAgcmV0dXJuIG9bbl0uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW25dID0geyBpOiBuLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24obiwgciwgYSkge1xuICAgICAgICBpLm8obiwgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogYSB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKG4gPSBpKG4pKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuICYmIG4uX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgdmFyIGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihhKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbiB9KSwgMiAmIHIgJiYgdHlwZW9mIG4gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBsIGluIG4pXG4gICAgICAgICAgICBpLmQoYSwgbCwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gbltjXTtcbiAgICAgICAgICAgIH0uYmluZChudWxsLCBsKSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IG4gJiYgbi5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG4uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdC5leHBvcnRzID0gaSgxKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICBpLnIobyksIGkuZChvLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSk7XG4gICAgICBjbGFzcyBuIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgdGhpcy5ub2RlcyA9IHsgd3JhcHBlcjogbnVsbCwgY29udGVudDogbnVsbCB9LCB0aGlzLnNob3dlZCA9ICExLCB0aGlzLm9mZnNldFRvcCA9IDEwLCB0aGlzLm9mZnNldExlZnQgPSAxMCwgdGhpcy5vZmZzZXRSaWdodCA9IDEwLCB0aGlzLmhpZGluZ0RlbGF5ID0gMCwgdGhpcy5oYW5kbGVXaW5kb3dTY3JvbGwgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dlZCAmJiB0aGlzLmhpZGUoITApO1xuICAgICAgICAgIH0sIHRoaXMubG9hZFN0eWxlcygpLCB0aGlzLnByZXBhcmUoKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVXaW5kb3dTY3JvbGwsIHsgcGFzc2l2ZTogITAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IENTUygpIHtcbiAgICAgICAgICByZXR1cm4geyB0b29sdGlwOiBcImN0XCIsIHRvb2x0aXBDb250ZW50OiBcImN0X19jb250ZW50XCIsIHRvb2x0aXBTaG93bjogXCJjdC0tc2hvd25cIiwgcGxhY2VtZW50OiB7IGxlZnQ6IFwiY3QtLWxlZnRcIiwgYm90dG9tOiBcImN0LS1ib3R0b21cIiwgcmlnaHQ6IFwiY3QtLXJpZ2h0XCIsIHRvcDogXCJjdC0tdG9wXCIgfSB9O1xuICAgICAgICB9XG4gICAgICAgIHNob3coYSwgbCwgYykge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlciB8fCB0aGlzLnByZXBhcmUoKSwgdGhpcy5oaWRpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmhpZGluZ1RpbWVvdXQpO1xuICAgICAgICAgIGNvbnN0IHUgPSBPYmplY3QuYXNzaWduKHsgcGxhY2VtZW50OiBcImJvdHRvbVwiLCBtYXJnaW5Ub3A6IDAsIG1hcmdpbkxlZnQ6IDAsIG1hcmdpblJpZ2h0OiAwLCBtYXJnaW5Cb3R0b206IDAsIGRlbGF5OiA3MCwgaGlkaW5nRGVsYXk6IDAgfSwgYyk7XG4gICAgICAgICAgaWYgKHUuaGlkaW5nRGVsYXkgJiYgKHRoaXMuaGlkaW5nRGVsYXkgPSB1LmhpZGluZ0RlbGF5KSwgdGhpcy5ub2Rlcy5jb250ZW50LmlubmVySFRNTCA9IFwiXCIsIHR5cGVvZiBsID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobCkpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEobCBpbnN0YW5jZW9mIE5vZGUpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIltDb2RlWCBUb29sdGlwXSBXcm9uZyB0eXBlIG9mIFx1MDBBQmNvbnRlbnRcdTAwQkIgcGFzc2VkLiBJdCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgTm9kZSBvciBTdHJpbmcuIEJ1dCBcIiArIHR5cGVvZiBsICsgXCIgZ2l2ZW4uXCIpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5jb250ZW50LmFwcGVuZENoaWxkKGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKC4uLk9iamVjdC52YWx1ZXModGhpcy5DU1MucGxhY2VtZW50KSksIHUucGxhY2VtZW50KSB7XG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VUb3AoYSwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgdGhpcy5wbGFjZUxlZnQoYSwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VSaWdodChhLCB1KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlQm90dG9tKGEsIHUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1ICYmIHUuZGVsYXkgPyB0aGlzLnNob3dpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICEwO1xuICAgICAgICAgIH0sIHUuZGVsYXkpIDogKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRvb2x0aXBTaG93biksIHRoaXMuc2hvd2VkID0gITApO1xuICAgICAgICB9XG4gICAgICAgIGhpZGUoYSA9ICExKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaGlkaW5nRGVsYXkgJiYgIWEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmhpZGluZ1RpbWVvdXQpLCB2b2lkICh0aGlzLmhpZGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCEwKTtcbiAgICAgICAgICAgIH0sIHRoaXMuaGlkaW5nRGVsYXkpKTtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICExLCB0aGlzLnNob3dpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnNob3dpbmdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBvbkhvdmVyKGEsIGwsIGMpIHtcbiAgICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhhLCBsLCBjKTtcbiAgICAgICAgICB9KSwgYS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5yZW1vdmUoKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmUoKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gdGhpcy5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2x0aXApLCB0aGlzLm5vZGVzLmNvbnRlbnQgPSB0aGlzLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbHRpcENvbnRlbnQpLCB0aGlzLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIHRoaXMuYXBwZW5kKGRvY3VtZW50LmJvZHksIHRoaXMubm9kZXMud3JhcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZFN0eWxlcygpIHtcbiAgICAgICAgICBjb25zdCBhID0gXCJjb2RleC10b29sdGlwcy1zdHlsZVwiO1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBsID0gaSgyKSwgYyA9IHRoaXMubWFrZShcInN0eWxlXCIsIG51bGwsIHsgdGV4dENvbnRlbnQ6IGwudG9TdHJpbmcoKSwgaWQ6IGEgfSk7XG4gICAgICAgICAgdGhpcy5wcmVwZW5kKGRvY3VtZW50LmhlYWQsIGMpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlQm90dG9tKGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGEuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGhpcy5vZmZzZXRUb3AgKyBsLm1hcmdpblRvcDtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwiYm90dG9tXCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlVG9wKGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGEuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gdGhpcy5ub2Rlcy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMub2Zmc2V0VG9wO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJ0b3BcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VMZWZ0KGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAtIHRoaXMub2Zmc2V0TGVmdCAtIGwubWFyZ2luTGVmdCwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgYS5jbGllbnRIZWlnaHQgLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDI7XG4gICAgICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChcImxlZnRcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VSaWdodChhLCBsKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLnJpZ2h0ICsgdGhpcy5vZmZzZXRSaWdodCArIGwubWFyZ2luUmlnaHQsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIGEuY2xpZW50SGVpZ2h0IC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJyaWdodFwiLCB1LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVBsYWNlbWVudChhLCBsLCBjKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MucGxhY2VtZW50W2FdKSwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBsICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gYyArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBtYWtlKGEsIGwgPSBudWxsLCBjID0ge30pIHtcbiAgICAgICAgICBjb25zdCB1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGwpID8gdS5jbGFzc0xpc3QuYWRkKC4uLmwpIDogbCAmJiB1LmNsYXNzTGlzdC5hZGQobCk7XG4gICAgICAgICAgZm9yIChjb25zdCBoIGluIGMpXG4gICAgICAgICAgICBjLmhhc093blByb3BlcnR5KGgpICYmICh1W2hdID0gY1toXSk7XG4gICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH1cbiAgICAgICAgYXBwZW5kKGEsIGwpIHtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGwpID8gbC5mb3JFYWNoKChjKSA9PiBhLmFwcGVuZENoaWxkKGMpKSA6IGEuYXBwZW5kQ2hpbGQobCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJlcGVuZChhLCBsKSB7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShsKSA/IChsID0gbC5yZXZlcnNlKCkpLmZvckVhY2goKGMpID0+IGEucHJlcGVuZChjKSkgOiBhLnByZXBlbmQobCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBgLmN0e3otaW5kZXg6OTk5O29wYWNpdHk6MDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSA1MG1zIGVhc2UtaW4sLXdlYmtpdC10cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbix0cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLHRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7d2lsbC1jaGFuZ2U6b3BhY2l0eSx0b3AsbGVmdDstd2Via2l0LWJveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JvcmRlci1yYWRpdXM6OXB4fS5jdCwuY3Q6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH0uY3Q6YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3R0b206MDtyaWdodDowO2JhY2tncm91bmQtY29sb3I6IzFkMjAyYjt6LWluZGV4Oi0xO2JvcmRlci1yYWRpdXM6NHB4fUBzdXBwb3J0cygtd2Via2l0LW1hc2stYm94LWltYWdlOnVybChcIlwiKSl7LmN0OmJlZm9yZXtib3JkZXItcmFkaXVzOjA7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTp1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiPjxwYXRoIGQ9XCJNMTAuNzEgMGgyLjU4YzMuMDIgMCA0LjY0LjQyIDYuMSAxLjJhOC4xOCA4LjE4IDAgMDEzLjQgMy40QzIzLjYgNi4wNyAyNCA3LjcgMjQgMTAuNzF2Mi41OGMwIDMuMDItLjQyIDQuNjQtMS4yIDYuMWE4LjE4IDguMTggMCAwMS0zLjQgMy40Yy0xLjQ3LjgtMy4xIDEuMjEtNi4xMSAxLjIxSDEwLjdjLTMuMDIgMC00LjY0LS40Mi02LjEtMS4yYTguMTggOC4xOCAwIDAxLTMuNC0zLjRDLjQgMTcuOTMgMCAxNi4zIDAgMTMuMjlWMTAuN2MwLTMuMDIuNDItNC42NCAxLjItNi4xYTguMTggOC4xOCAwIDAxMy40LTMuNEM2LjA3LjQgNy43IDAgMTAuNzEgMHpcIi8+PC9zdmc+JykgNDglIDQxJSAzNy45JSA1My4zJX19QG1lZGlhICgtLW1vYmlsZSl7LmN0e2Rpc3BsYXk6bm9uZX19LmN0X19jb250ZW50e3BhZGRpbmc6NnB4IDEwcHg7Y29sb3I6I2NkZDFlMDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjtsZXR0ZXItc3BhY2luZzouMDJlbTtsaW5lLWhlaWdodDoxZW19LmN0OmFmdGVye2NvbnRlbnQ6XCJcIjt3aWR0aDo4cHg7aGVpZ2h0OjhweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiMxZDIwMmI7ei1pbmRleDotMX0uY3QtLWJvdHRvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNXB4KX0uY3QtLWJvdHRvbTphZnRlcnt0b3A6LTNweDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpfS5jdC0tdG9wey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCl9LmN0LS10b3A6YWZ0ZXJ7dG9wOmF1dG87Ym90dG9tOi0zcHg7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLWxlZnR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KX0uY3QtLWxlZnQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OmF1dG87cmlnaHQ6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSg0MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXJpZ2h0ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCg1cHgpfS5jdC0tcmlnaHQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXNob3due29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfWA7XG4gICAgfV0pLmRlZmF1bHQ7XG4gIH0pO1xufSkoa28pO1xuY29uc3Qgdm8gPSAvKiBAX19QVVJFX18gKi8geGUoX2UpO1xuY2xhc3MgRmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxpYiA9IG5ldyB2bygpO1xuICB9XG4gIC8qKlxuICAgKiBSZWxlYXNlIHRoZSBsaWJyYXJ5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubGliLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgdG9vbHRpcCBvbiBlbGVtZW50IHdpdGggcGFzc2VkIEhUTUwgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gYW55IEhUTUwgZWxlbWVudCBpbiBET01cbiAgICogQHBhcmFtIGNvbnRlbnQgLSB0b29sdGlwJ3MgY29udGVudFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHNob3dpbmcgc2V0dGluZ3NcbiAgICovXG4gIHNob3coZSwgdCwgbykge1xuICAgIHRoaXMubGliLnNob3coZSwgdCwgbyk7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGVzIHRvb2x0aXBcbiAgICpcbiAgICogQHBhcmFtIHNraXBIaWRpbmdEZWxheSBcdTIwMTQgcGFzcyB0cnVlIHRvIGltbWVkaWF0ZWx5IGhpZGUgdGhlIHRvb2x0aXBcbiAgICovXG4gIGhpZGUoZSA9ICExKSB7XG4gICAgdGhpcy5saWIuaGlkZShlKTtcbiAgfVxuICAvKipcbiAgICogQmluZHMgJ21vdXNlZW50ZXInIGFuZCAnbW91c2VsZWF2ZScgZXZlbnRzIHRoYXQgc2hvd3MvaGlkZXMgdGhlIFRvb2x0aXBcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGFueSBIVE1MIGVsZW1lbnQgaW4gRE9NXG4gICAqIEBwYXJhbSBjb250ZW50IC0gdG9vbHRpcCdzIGNvbnRlbnRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBzaG93aW5nIHNldHRpbmdzXG4gICAqL1xuICBvbkhvdmVyKGUsIHQsIG8pIHtcbiAgICB0aGlzLmxpYi5vbkhvdmVyKGUsIHQsIG8pO1xuICB9XG59XG5jbGFzcyB4byBleHRlbmRzIFMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLnRvb2x0aXAgPSBuZXcgRmUoKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93OiAoZSwgdCwgbykgPT4gdGhpcy5zaG93KGUsIHQsIG8pLFxuICAgICAgaGlkZTogKCkgPT4gdGhpcy5oaWRlKCksXG4gICAgICBvbkhvdmVyOiAoZSwgdCwgbykgPT4gdGhpcy5vbkhvdmVyKGUsIHQsIG8pXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHNob3cgdG9vbHRpcCBvbiBlbGVtZW50IHdpdGggcGFzc2VkIEhUTUwgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBvbiB3aGljaCB0b29sdGlwIHNob3VsZCBiZSBzaG93blxuICAgKiBAcGFyYW0ge1Rvb2x0aXBDb250ZW50fSBjb250ZW50IC0gdG9vbHRpcCBjb250ZW50XG4gICAqIEBwYXJhbSB7VG9vbHRpcE9wdGlvbnN9IG9wdGlvbnMgLSB0b29sdGlwIG9wdGlvbnNcbiAgICovXG4gIHNob3coZSwgdCwgbykge1xuICAgIHRoaXMudG9vbHRpcC5zaG93KGUsIHQsIG8pO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgaGlkZXMgdG9vbHRpcCBvbiBIVE1MIHBhZ2VcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy50b29sdGlwLmhpZGUoKTtcbiAgfVxuICAvKipcbiAgICogRGVjb3JhdG9yIGZvciBzaG93aW5nIFRvb2x0aXAgYnkgbW91c2VlbnRlci9tb3VzZWxlYXZlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IG9uIHdoaWNoIHRvb2x0aXAgc2hvdWxkIGJlIHNob3duXG4gICAqIEBwYXJhbSB7VG9vbHRpcENvbnRlbnR9IGNvbnRlbnQgLSB0b29sdGlwIGNvbnRlbnRcbiAgICogQHBhcmFtIHtUb29sdGlwT3B0aW9uc30gb3B0aW9ucyAtIHRvb2x0aXAgb3B0aW9uc1xuICAgKi9cbiAgb25Ib3ZlcihlLCB0LCBvKSB7XG4gICAgdGhpcy50b29sdGlwLm9uSG92ZXIoZSwgdCwgbyk7XG4gIH1cbn1cbmNsYXNzIHdvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kcyAvIGdldHRlcnNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlczogdGhpcy5lZGl0b3JOb2Rlc1xuICAgICAgLyoqXG4gICAgICAgKiBUaGVyZSBjYW4gYmUgYWRkZWQgc29tZSBVSSBtZXRob2RzLCBsaWtlIHRvZ2dsZVRoaW5Nb2RlKCkgZXRjXG4gICAgICAgKi9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnRlZCBjbGFzc2VzXG4gICAqL1xuICBnZXQgZWRpdG9yTm9kZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVG9wLWxldmVsIGVkaXRvciBpbnN0YW5jZSB3cmFwcGVyXG4gICAgICAgKi9cbiAgICAgIHdyYXBwZXI6IHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsXG4gICAgICAvKipcbiAgICAgICAqIEVsZW1lbnQgdGhhdCBob2xkcyBhbGwgdGhlIEJsb2Nrc1xuICAgICAgICovXG4gICAgICByZWRhY3RvcjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiB1dChzLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHMpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgIGlmIChqKGkpKSB7XG4gICAgICBjb25zdCBuID0gZSA/IGAke2V9LiR7b31gIDogbztcbiAgICAgIE9iamVjdC52YWx1ZXMoaSkuZXZlcnkoKGEpID0+IEooYSkpID8gdFtvXSA9IG4gOiB0W29dID0gdXQoaSwgbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRbb10gPSBpO1xuICB9KSwgdDtcbn1cbmNvbnN0IFggPSB1dChydCk7XG5mdW5jdGlvbiB5byhzLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goKG8pID0+IHtcbiAgICBjb25zdCBpID0gZVtvXTtcbiAgICBpICE9PSB2b2lkIDAgPyB0W2ldID0gc1tvXSA6IHRbb10gPSBzW29dO1xuICB9KSwgdDtcbn1cbmNvbnN0IEVvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDEyTDkgNy4xQzkgNy4wNDQ3NyA5LjA0NDc3IDcgOS4xIDdIMTAuNEMxMS41IDcgMTQgNy4xIDE0IDkuNUMxNCA5LjUgMTQgMTIgMTEgMTJNOSAxMlYxNi44QzkgMTYuOTEwNSA5LjA4OTU0IDE3IDkuMiAxN0gxMi41QzE0IDE3IDE1IDE2IDE1IDE0LjVDMTUgMTEuNzA0NiAxMSAxMiAxMSAxMk05IDEySDExXCIvPjwvc3ZnPicsIHB0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDEwTDExLjg1ODYgMTQuODU4NkMxMS45MzY3IDE0LjkzNjcgMTIuMDYzMyAxNC45MzY3IDEyLjE0MTQgMTQuODU4NkwxNyAxMFwiLz48L3N2Zz4nLCBCbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAxNUwxMS44NTg2IDEwLjE0MTRDMTEuOTM2NyAxMC4wNjMzIDEyLjA2MzMgMTAuMDYzMyAxMi4xNDE0IDEwLjE0MTRMMTcgMTVcIi8+PC9zdmc+JywgQ28gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOEwxMiAxMk0xMiAxMkwxNiAxNk0xMiAxMkwxNiA4TTEyIDEyTDggMTZcIi8+PC9zdmc+JywgVG8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBTbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuMzQgMTBDMTIuNDIyMyAxMi43MzM3IDExIDE3IDExIDE3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC4yMSA3SDE0LjJcIi8+PC9zdmc+JywgcWUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNjk5OTggMTIuNkw3LjY3ODk2IDEyLjYyQzYuNTM5OTMgMTMuNzA0OCA2LjUyMDEyIDE1LjUxNTUgNy42MzUxNiAxNi42MjVWMTYuNjI1QzguNzIyOTMgMTcuNzA3MyAxMC40Nzk5IDE3LjcxMDIgMTEuNTcxMiAxNi42MzE0TDEzLjAyNjMgMTUuMTkzQzE0LjA3MDMgMTQuMTYwOSAxNC4yMTQxIDEyLjUyNSAxMy4zNjYyIDExLjMyNjZMMTMuMjIgMTEuMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjIyIDExLjEyTDE2LjM1NjQgMTAuOTgwNUMxNy4yODk1IDEwLjAyNjUgMTcuMzQ3OCA4LjUyMDcgMTYuNDkxNCA3LjQ5NzMzVjcuNDk3MzNDMTUuNTY5MSA2LjM5NTA5IDEzLjkyNjkgNi4yNTE0MyAxMi44MjcxIDcuMTc2NzVMMTEuMzkwMSA4LjM4NTg4QzEwLjA5MzUgOS40NzY3NCA5Ljk1NzA2IDExLjQyNDEgMTEuMDg4OCAxMi42ODUyTDExLjEyIDEyLjcyXCIvPjwvc3ZnPicsIElvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuNDA5OTkgNy4yOTk5OUg5LjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiA3LjI5OTk5SDE0LjU5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuMzA5OTkgMTJIOS4zXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTJIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSAxNi43SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE2LjdIMTQuNTlcIi8+PC9zdmc+JywgTW8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDdWMTJNMTIgMTdWMTJNMTcgMTJIMTJNMTIgMTJIN1wiLz48L3N2Zz4nLCBMbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Y2lyY2xlIGN4PVwiMTAuNVwiIGN5PVwiMTAuNVwiIHI9XCI1LjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTUuNDE0MlwiIHgyPVwiMTlcIiB5MT1cIjE1XCIgeTI9XCIxOC41ODU4XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgT28gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1Ljc3OTUgMTEuNUMxNS43Nzk1IDExLjUgMTYuMDUzIDExLjE5NjIgMTYuNTQ5NyAxMC42NzIyQzE3LjQ0NDIgOS43Mjg1NiAxNy40NzAxIDguMjQ3NSAxNi41NzgxIDcuMzAxNDVWNy4zMDE0NUMxNS42NDgyIDYuMzE1MjIgMTQuMDg3MyA2LjI5MjI3IDEzLjEyODggNy4yNTA3M0wxMS44Nzk2IDguNDk5OTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguMjQ1MTcgMTIuMzg4M0M4LjI0NTE3IDEyLjM4ODMgNy45NzE3MSAxMi42OTIyIDcuNDc1MDQgMTMuMjE2MUM2LjU4MDUxIDE0LjE1OTggNi41NTQ2NyAxNS42NDA4IDcuNDQ2NjYgMTYuNTg2OVYxNi41ODY5QzguMzc2NTMgMTcuNTczMSA5LjkzNzQ0IDE3LjU5NjEgMTAuODk1OSAxNi42Mzc2TDEyLjE0NTIgMTUuMzg4M1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcuNzgwMiAxNS4xMDMyTDE2LjU5NyAxNC45NDIyQzE2LjAxMDkgMTQuODYyNCAxNS40ODQxIDE1LjMwNTkgMTUuNDYyNyAxNS44OTY5TDE1LjQxOTkgMTcuMDgxOFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi4zOTA2NCA5LjAzMjM4TDcuNTg0MzIgOS4wNjY2OEM4LjE3NTUxIDkuMDgzNjYgOC42NTIyIDguNTg2NjUgOC42MTA1NiA3Ljk5NjY5TDguNTI3MSA2LjgxMzk3XCIvPjxsaW5lIHgxPVwiMTIuMTE0MlwiIHgyPVwiMTEuN1wiIHkxPVwiMTIuMlwiIHkyPVwiMTEuNzg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPic7XG5jbGFzcyBQIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgcG9wb3ZlciBpdGVtIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwb3BvdmVyIGl0ZW0gY29uc3RydWN0aW9uIHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMubm9kZXMgPSB7XG4gICAgICByb290OiBudWxsLFxuICAgICAgaWNvbjogbnVsbFxuICAgIH0sIHRoaXMuY29uZmlybWF0aW9uU3RhdGUgPSBudWxsLCB0aGlzLnJlbW92ZVNwZWNpYWxGb2N1c0JlaGF2aW9yID0gKCkgPT4ge1xuICAgICAgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoUC5DU1Mubm9Gb2N1cyk7XG4gICAgfSwgdGhpcy5yZW1vdmVTcGVjaWFsSG92ZXJCZWhhdmlvciA9ICgpID0+IHtcbiAgICAgIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLm5vSG92ZXIpO1xuICAgIH0sIHRoaXMub25FcnJvckFuaW1hdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgIHRoaXMubm9kZXMuaWNvbi5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLndvYmJsZUFuaW1hdGlvbiksIHRoaXMubm9kZXMuaWNvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMub25FcnJvckFuaW1hdGlvbkVuZCk7XG4gICAgfSwgdGhpcy5wYXJhbXMgPSBlLCB0aGlzLm5vZGVzLnJvb3QgPSB0aGlzLm1ha2UoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgaXRlbSBpcyBkaXNhYmxlZCBhbmQgaGVuY2Ugbm90IGNsaWNrYWJsZVxuICAgKi9cbiAgZ2V0IGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLmlzRGlzYWJsZWQ7XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9zZXMgcG9wb3ZlciBpdGVtIHRvZ2dsZSBwYXJhbWV0ZXJcbiAgICovXG4gIGdldCB0b2dnbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLnRvZ2dsZTtcbiAgfVxuICAvKipcbiAgICogSXRlbSB0aXRsZVxuICAgKi9cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50aXRsZTtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBwb3BvdmVyIHNob3VsZCBjbG9zZSBvbmNlIGl0ZW0gaXMgYWN0aXZhdGVkXG4gICAqL1xuICBnZXQgY2xvc2VPbkFjdGl2YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5jbG9zZU9uQWN0aXZhdGU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgY29uZmlybWF0aW9uIHN0YXRlIGlzIGVuYWJsZWQgZm9yIHBvcG92ZXIgaXRlbVxuICAgKi9cbiAgZ2V0IGlzQ29uZmlybWF0aW9uU3RhdGVFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpcm1hdGlvblN0YXRlICE9PSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgZm9jdXNlZCBpbiBrZXlib2FyZCBuYXZpZ2F0aW9uIHByb2Nlc3NcbiAgICovXG4gIGdldCBpc0ZvY3VzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QuY29udGFpbnMoUC5DU1MuZm9jdXNlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFBvcG92ZXIgaXRlbSBDU1MgY2xhc3Nlc1xuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRhaW5lcjogXCJjZS1wb3BvdmVyLWl0ZW1cIixcbiAgICAgIHRpdGxlOiBcImNlLXBvcG92ZXItaXRlbV9fdGl0bGVcIixcbiAgICAgIHNlY29uZGFyeVRpdGxlOiBcImNlLXBvcG92ZXItaXRlbV9fc2Vjb25kYXJ5LXRpdGxlXCIsXG4gICAgICBpY29uOiBcImNlLXBvcG92ZXItaXRlbV9faWNvblwiLFxuICAgICAgYWN0aXZlOiBcImNlLXBvcG92ZXItaXRlbS0tYWN0aXZlXCIsXG4gICAgICBkaXNhYmxlZDogXCJjZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVkXCIsXG4gICAgICBmb2N1c2VkOiBcImNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZFwiLFxuICAgICAgaGlkZGVuOiBcImNlLXBvcG92ZXItaXRlbS0taGlkZGVuXCIsXG4gICAgICBjb25maXJtYXRpb25TdGF0ZTogXCJjZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvblwiLFxuICAgICAgbm9Ib3ZlcjogXCJjZS1wb3BvdmVyLWl0ZW0tLW5vLWhvdmVyXCIsXG4gICAgICBub0ZvY3VzOiBcImNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXNcIixcbiAgICAgIHdvYmJsZUFuaW1hdGlvbjogXCJ3b2JibGVcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcG9wb3ZlciBpdGVtIHJvb3QgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5yb290O1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgb24gcG9wb3ZlciBpdGVtIGNsaWNrXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICBpZiAodGhpcy5pc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCkge1xuICAgICAgdGhpcy5hY3RpdmF0ZU9yRW5hYmxlQ29uZmlybWF0aW9uTW9kZSh0aGlzLmNvbmZpcm1hdGlvblN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZU9yRW5hYmxlQ29uZmlybWF0aW9uTW9kZSh0aGlzLnBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgaXRlbSBhY3RpdmUgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIGlzQWN0aXZlIC0gdHJ1ZSBpZiBpdGVtIHNob3VsZCBzdHJpY3RseSBzaG91bGQgYmVjb21lIGFjdGl2ZVxuICAgKi9cbiAgdG9nZ2xlQWN0aXZlKGUpIHtcbiAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LnRvZ2dsZShQLkNTUy5hY3RpdmUsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gaGlkZGVuIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0hpZGRlbiAtIHRydWUgaWYgaXRlbSBzaG91bGQgYmUgaGlkZGVuXG4gICAqL1xuICB0b2dnbGVIaWRkZW4oZSkge1xuICAgIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QudG9nZ2xlKFAuQ1NTLmhpZGRlbiwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0cyBwb3BvdmVyIGl0ZW0gdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLmlzQ29uZmlybWF0aW9uU3RhdGVFbmFibGVkICYmIHRoaXMuZGlzYWJsZUNvbmZpcm1hdGlvbk1vZGUoKTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIGNhbGxlZCBvbmNlIGl0ZW0gYmVjb21lcyBmb2N1c2VkIGR1cmluZyBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAqL1xuICBvbkZvY3VzKCkge1xuICAgIHRoaXMuZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBwb3BvdmVyIGl0ZW0gcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBpdGVtIGNvbnN0cnVjdGlvbiBwYXJhbXNcbiAgICovXG4gIG1ha2UoZSkge1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIiwgUC5DU1MuY29udGFpbmVyKTtcbiAgICByZXR1cm4gZS5uYW1lICYmICh0LmRhdGFzZXQuaXRlbU5hbWUgPSBlLm5hbWUpLCB0aGlzLm5vZGVzLmljb24gPSBkLm1ha2UoXCJkaXZcIiwgUC5DU1MuaWNvbiwge1xuICAgICAgaW5uZXJIVE1MOiBlLmljb24gfHwgVG9cbiAgICB9KSwgdC5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmljb24pLCB0LmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCBQLkNTUy50aXRsZSwge1xuICAgICAgaW5uZXJIVE1MOiBlLnRpdGxlIHx8IFwiXCJcbiAgICB9KSksIGUuc2Vjb25kYXJ5TGFiZWwgJiYgdC5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgUC5DU1Muc2Vjb25kYXJ5VGl0bGUsIHtcbiAgICAgIHRleHRDb250ZW50OiBlLnNlY29uZGFyeUxhYmVsXG4gICAgfSkpLCBlLmlzQWN0aXZlICYmIHQuY2xhc3NMaXN0LmFkZChQLkNTUy5hY3RpdmUpLCBlLmlzRGlzYWJsZWQgJiYgdC5jbGFzc0xpc3QuYWRkKFAuQ1NTLmRpc2FibGVkKSwgdDtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGNvbmZpcm1hdGlvbiBtb2RlIGZvciB0aGUgaXRlbS5cbiAgICpcbiAgICogQHBhcmFtIG5ld1N0YXRlIC0gbmV3IHBvcG92ZXIgaXRlbSBwYXJhbXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICAgKi9cbiAgZW5hYmxlQ29uZmlybWF0aW9uTW9kZShlKSB7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIC4uLnRoaXMucGFyYW1zLFxuICAgICAgLi4uZSxcbiAgICAgIGNvbmZpcm1hdGlvbjogZS5jb25maXJtYXRpb25cbiAgICB9LCBvID0gdGhpcy5tYWtlKHQpO1xuICAgIHRoaXMubm9kZXMucm9vdC5pbm5lckhUTUwgPSBvLmlubmVySFRNTCwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5hZGQoUC5DU1MuY29uZmlybWF0aW9uU3RhdGUpLCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gZSwgdGhpcy5lbmFibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaXRlbSB0byBpdHMgb3JpZ2luYWwgc3RhdGVcbiAgICovXG4gIGRpc2FibGVDb25maXJtYXRpb25Nb2RlKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLm1ha2UodGhpcy5wYXJhbXMpO1xuICAgIHRoaXMubm9kZXMucm9vdC5pbm5lckhUTUwgPSBlLmlubmVySFRNTCwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoUC5DU1MuY29uZmlybWF0aW9uU3RhdGUpLCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gbnVsbCwgdGhpcy5kaXNhYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIHNwZWNpYWwgZm9jdXMgYW5kIGhvdmVyIGJlaGF2aW9yIGZvciBpdGVtIGluIGNvbmZpcm1hdGlvbiBzdGF0ZS5cbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudCBpdGVtIGZyb20gYmVpbmcgaGlnaGxpZ2h0ZWQgYXMgaG92ZXJlZC9mb2N1c2VkIGp1c3QgYWZ0ZXIgY2xpY2suXG4gICAqL1xuICBlbmFibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCkge1xuICAgIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QuYWRkKFAuQ1NTLm5vSG92ZXIpLCB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmFkZChQLkNTUy5ub0ZvY3VzKSwgdGhpcy5ub2Rlcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IsIHsgb25jZTogITAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIHNwZWNpYWwgZm9jdXMgYW5kIGhvdmVyIGJlaGF2aW9yXG4gICAqL1xuICBkaXNhYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpIHtcbiAgICB0aGlzLnJlbW92ZVNwZWNpYWxGb2N1c0JlaGF2aW9yKCksIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IoKSwgdGhpcy5ub2Rlcy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlcyBpdGVtJ3Mgb25BY3RpdmF0ZSBjYWxsYmFjayBpZiB0aGUgaXRlbSBoYXMgbm8gY29uZmlybWF0aW9uIGNvbmZpZ3VyZWRcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGFjdGl2YXRlIG9yIGJyaW5nIHRvIGNvbmZpcm1hdGlvbiBtb2RlXG4gICAqL1xuICBhY3RpdmF0ZU9yRW5hYmxlQ29uZmlybWF0aW9uTW9kZShlKSB7XG4gICAgaWYgKGUuY29uZmlybWF0aW9uID09PSB2b2lkIDApXG4gICAgICB0cnkge1xuICAgICAgICBlLm9uQWN0aXZhdGUoZSksIHRoaXMuZGlzYWJsZUNvbmZpcm1hdGlvbk1vZGUoKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aGlzLmFuaW1hdGVFcnJvcigpO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIHRoaXMuZW5hYmxlQ29uZmlybWF0aW9uTW9kZShlLmNvbmZpcm1hdGlvbik7XG4gIH1cbiAgLyoqXG4gICAqIEFuaW1hdGVzIGl0ZW0gd2hpY2ggc3ltYm9saXplcyB0aGF0IGVycm9yIG9jY3VyZWQgd2hpbGUgZXhlY3V0aW5nICdvbkFjdGl2YXRlKCknIGNhbGxiYWNrXG4gICAqL1xuICBhbmltYXRlRXJyb3IoKSB7XG4gICAgdGhpcy5ub2Rlcy5pY29uLmNsYXNzTGlzdC5jb250YWlucyhQLkNTUy53b2JibGVBbmltYXRpb24pIHx8ICh0aGlzLm5vZGVzLmljb24uY2xhc3NMaXN0LmFkZChQLkNTUy53b2JibGVBbmltYXRpb24pLCB0aGlzLm5vZGVzLmljb24uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQpKTtcbiAgfVxufVxuY29uc3QgY2UgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50W119IG5vZGVMaXN0IFx1MjAxNCB0aGUgbGlzdCBvZiBpdGVyYWJsZSBIVE1MLWl0ZW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb2N1c2VkQ3NzQ2xhc3MgLSB1c2VyLXByb3ZpZGVkIENTUy1jbGFzcyB0aGF0IHdpbGwgYmUgc2V0IGluIGZsaXBwaW5nIHByb2Nlc3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKHMsIGUpIHtcbiAgICB0aGlzLmN1cnNvciA9IC0xLCB0aGlzLml0ZW1zID0gW10sIHRoaXMuaXRlbXMgPSBzIHx8IFtdLCB0aGlzLmZvY3VzZWRDc3NDbGFzcyA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgRm9jdXNlZCBidXR0b24gTm9kZVxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgY3VycmVudEl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAtMSA/IG51bGwgOiB0aGlzLml0ZW1zW3RoaXMuY3Vyc29yXTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgdG8gc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjdXJzb3JQb3NpdGlvbiAtIG5ldyBjdXJzb3IgcG9zaXRpb25cbiAgICovXG4gIHNldEN1cnNvcihzKSB7XG4gICAgcyA8IHRoaXMuaXRlbXMubGVuZ3RoICYmIHMgPj0gLTEgJiYgKHRoaXMuZHJvcEN1cnNvcigpLCB0aGlzLmN1cnNvciA9IHMsIHRoaXMuaXRlbXNbdGhpcy5jdXJzb3JdLmNsYXNzTGlzdC5hZGQodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBpdGVtcy4gQ2FuIGJlIHVzZWQgd2hlbiBpdGVyYWJsZSBpdGVtcyBjaGFuZ2VkIGR5bmFtaWNhbGx5XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnRbXX0gbm9kZUxpc3QgLSBub2RlcyB0byBpdGVyYXRlXG4gICAqL1xuICBzZXRJdGVtcyhzKSB7XG4gICAgdGhpcy5pdGVtcyA9IHM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIG5leHQgdG8gdGhlIGN1cnJlbnRcbiAgICovXG4gIG5leHQoKSB7XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmxlYWZOb2Rlc0FuZFJldHVybkluZGV4KGNlLmRpcmVjdGlvbnMuUklHSFQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciBiZWZvcmUgY3VycmVudFxuICAgKi9cbiAgcHJldmlvdXMoKSB7XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmxlYWZOb2Rlc0FuZFJldHVybkluZGV4KGNlLmRpcmVjdGlvbnMuTEVGVCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIHRvIHRoZSBkZWZhdWx0IHBvc2l0aW9uIGFuZCByZW1vdmVzIENTUy1jbGFzcyBmcm9tIHByZXZpb3VzbHkgZm9jdXNlZCBpdGVtXG4gICAqL1xuICBkcm9wQ3Vyc29yKCkge1xuICAgIHRoaXMuY3Vyc29yICE9PSAtMSAmJiAodGhpcy5pdGVtc1t0aGlzLmN1cnNvcl0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZvY3VzZWRDc3NDbGFzcyksIHRoaXMuY3Vyc29yID0gLTEpO1xuICB9XG4gIC8qKlxuICAgKiBMZWFmcyBub2RlcyBpbnNpZGUgdGhlIHRhcmdldCBsaXN0IGZyb20gYWN0aXZlIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGxlYWYgZGlyZWN0aW9uLiBDYW4gYmUgJ2xlZnQnIG9yICdyaWdodCdcbiAgICogQHJldHVybnMge251bWJlcn0gaW5kZXggb2YgZm9jdXNlZCBub2RlXG4gICAqL1xuICBsZWFmTm9kZXNBbmRSZXR1cm5JbmRleChzKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yO1xuICAgIGxldCBlID0gdGhpcy5jdXJzb3I7XG4gICAgcmV0dXJuIGUgPT09IC0xID8gZSA9IHMgPT09IGNlLmRpcmVjdGlvbnMuUklHSFQgPyAtMSA6IDAgOiB0aGlzLml0ZW1zW2VdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCBzID09PSBjZS5kaXJlY3Rpb25zLlJJR0hUID8gZSA9IChlICsgMSkgJSB0aGlzLml0ZW1zLmxlbmd0aCA6IGUgPSAodGhpcy5pdGVtcy5sZW5ndGggKyBlIC0gMSkgJSB0aGlzLml0ZW1zLmxlbmd0aCwgZC5jYW5TZXRDYXJldCh0aGlzLml0ZW1zW2VdKSAmJiBvZSgoKSA9PiBtLnNldEN1cnNvcih0aGlzLml0ZW1zW2VdKSwgNTApKCksIHRoaXMuaXRlbXNbZV0uY2xhc3NMaXN0LmFkZCh0aGlzLmZvY3VzZWRDc3NDbGFzcyksIGU7XG4gIH1cbn07XG5sZXQgbmUgPSBjZTtcbm5lLmRpcmVjdGlvbnMgPSB7XG4gIFJJR0hUOiBcInJpZ2h0XCIsXG4gIExFRlQ6IFwibGVmdFwiXG59O1xuY2xhc3MgRyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZsaXBwZXJPcHRpb25zfSBvcHRpb25zIC0gZGlmZmVyZW50IGNvbnN0cnVjdGluZyBzZXR0aW5nc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuaXRlcmF0b3IgPSBudWxsLCB0aGlzLmFjdGl2YXRlZCA9ICExLCB0aGlzLmZsaXBDYWxsYmFja3MgPSBbXSwgdGhpcy5vbktleURvd24gPSAodCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNFdmVudFJlYWR5Rm9ySGFuZGxpbmcodCkpXG4gICAgICAgIHN3aXRjaCAoRy51c2VkS2V5cy5pbmNsdWRlcyh0LmtleUNvZGUpICYmIHQucHJldmVudERlZmF1bHQoKSwgdC5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBCLlRBQjpcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVGFiUHJlc3ModCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEIuTEVGVDpcbiAgICAgICAgICBjYXNlIEIuVVA6XG4gICAgICAgICAgICB0aGlzLmZsaXBMZWZ0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEIuUklHSFQ6XG4gICAgICAgICAgY2FzZSBCLkRPV046XG4gICAgICAgICAgICB0aGlzLmZsaXBSaWdodCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLkVOVEVSOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbnRlclByZXNzKHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzLml0ZXJhdG9yID0gbmV3IG5lKGUuaXRlbXMsIGUuZm9jdXNlZEl0ZW1DbGFzcyksIHRoaXMuYWN0aXZhdGVDYWxsYmFjayA9IGUuYWN0aXZhdGVDYWxsYmFjaywgdGhpcy5hbGxvd2VkS2V5cyA9IGUuYWxsb3dlZEtleXMgfHwgRy51c2VkS2V5cztcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBmbGlwcGVyIGlzIGN1cnJlbnRseSBhY3RpdmF0ZWRcbiAgICovXG4gIGdldCBpc0FjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIEFycmF5IG9mIGtleXMgKGNvZGVzKSB0aGF0IGlzIGhhbmRsZWQgYnkgRmxpcHBlclxuICAgKiBVc2VkIHRvOlxuICAgKiAgLSBwcmV2ZW50RGVmYXVsdCBvbmx5IGZvciB0aGlzIGtleXMsIG5vdCBhbGwga2V5ZG93bnMgKEBzZWUgY29uc3RydWN0b3IpXG4gICAqICAtIHRvIHNraXAgZXh0ZXJuYWwgYmVoYXZpb3VycyBvbmx5IGZvciB0aGVzZSBrZXlzLCB3aGVuIGZpbGxlciBpcyBhY3RpdmF0ZWQgKEBzZWUgQmxvY2tFdmVudHNAYXJyb3dSaWdodEFuZERvd24pXG4gICAqL1xuICBzdGF0aWMgZ2V0IHVzZWRLZXlzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBCLlRBQixcbiAgICAgIEIuTEVGVCxcbiAgICAgIEIuUklHSFQsXG4gICAgICBCLkVOVEVSLFxuICAgICAgQi5VUCxcbiAgICAgIEIuRE9XTlxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2ZSB0YWIvYXJyb3dzIGhhbmRsaW5nIGJ5IGZsaXBwZXJcbiAgICpcbiAgICogQHBhcmFtIGl0ZW1zIC0gU29tZSBtb2R1bGVzIChsaWtlLCBJbmxpbmVUb29sYmFyLCBCbG9ja1NldHRpbmdzKSBtaWdodCByZWZyZXNoIGJ1dHRvbnMgZHluYW1pY2FsbHlcbiAgICogQHBhcmFtIGN1cnNvclBvc2l0aW9uIC0gaW5kZXggb2YgdGhlIGl0ZW0gdGhhdCBzaG91bGQgYmUgZm9jdXNlZCBvbmNlIGZsaXBwZXIgaXMgYWN0aXZhdGVkXG4gICAqL1xuICBhY3RpdmF0ZShlLCB0KSB7XG4gICAgdGhpcy5hY3RpdmF0ZWQgPSAhMCwgZSAmJiB0aGlzLml0ZXJhdG9yLnNldEl0ZW1zKGUpLCB0ICE9PSB2b2lkIDAgJiYgdGhpcy5pdGVyYXRvci5zZXRDdXJzb3IodCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgdGFiL2Fycm93cyBoYW5kbGluZyBieSBmbGlwcGVyXG4gICAqL1xuICBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMuYWN0aXZhdGVkID0gITEsIHRoaXMuZHJvcEN1cnNvcigpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bik7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzIGZpcnN0IGl0ZW1cbiAgICovXG4gIGZvY3VzRmlyc3QoKSB7XG4gICAgdGhpcy5kcm9wQ3Vyc29yKCksIHRoaXMuZmxpcFJpZ2h0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgcHJldmlvdXMgZmxpcHBlciBpdGVyYXRvciBpdGVtXG4gICAqL1xuICBmbGlwTGVmdCgpIHtcbiAgICB0aGlzLml0ZXJhdG9yLnByZXZpb3VzKCksIHRoaXMuZmxpcENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgbmV4dCBmbGlwcGVyIGl0ZXJhdG9yIGl0ZW1cbiAgICovXG4gIGZsaXBSaWdodCgpIHtcbiAgICB0aGlzLml0ZXJhdG9yLm5leHQoKSwgdGhpcy5mbGlwQ2FsbGJhY2soKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgc29tZSBidXR0b24gaXMgZm9jdXNlZFxuICAgKi9cbiAgaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXJlcyBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBleGVjdXRlZCBvbiBlYWNoIG5hdmlnYXRpb24gYWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYiAtIGZ1bmN0aW9uIHRvIGV4ZWN1dGVcbiAgICovXG4gIG9uRmxpcChlKSB7XG4gICAgdGhpcy5mbGlwQ2FsbGJhY2tzLnB1c2goZSk7XG4gIH1cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJlcyBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIG9uIGVhY2ggbmF2aWdhdGlvbiBhY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIGNiIC0gZnVuY3Rpb24gdG8gc3RvcCBleGVjdXRpbmdcbiAgICovXG4gIHJlbW92ZU9uRmxpcChlKSB7XG4gICAgdGhpcy5mbGlwQ2FsbGJhY2tzID0gdGhpcy5mbGlwQ2FsbGJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gZSk7XG4gIH1cbiAgLyoqXG4gICAqIERyb3BzIGZsaXBwZXIncyBpdGVyYXRvciBjdXJzb3JcbiAgICpcbiAgICogQHNlZSBEb21JdGVyYXRvciNkcm9wQ3Vyc29yXG4gICAqL1xuICBkcm9wQ3Vyc29yKCkge1xuICAgIHRoaXMuaXRlcmF0b3IuZHJvcEN1cnNvcigpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGZpcmVkIGJlZm9yZSBoYW5kbGluZyBmbGlwcGVyIGtleWNvZGVzXG4gICAqIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBkZWZpbmVzIGlmIGl0IGlzIG5lZWQgdG8gYmUgaGFuZGxlZCBvciBub3RcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd24ga2V5Ym9hcmQgZXZlbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0V2ZW50UmVhZHlGb3JIYW5kbGluZyhlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkICYmIHRoaXMuYWxsb3dlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiBmbGlwcGVyIGlzIGFjdGl2YXRlZCB0YWIgcHJlc3Mgd2lsbCBsZWFmIHRoZSBpdGVtc1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gdGFiIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZVRhYlByZXNzKGUpIHtcbiAgICBzd2l0Y2ggKGUuc2hpZnRLZXkgPyBuZS5kaXJlY3Rpb25zLkxFRlQgOiBuZS5kaXJlY3Rpb25zLlJJR0hUKSB7XG4gICAgICBjYXNlIG5lLmRpcmVjdGlvbnMuUklHSFQ6XG4gICAgICAgIHRoaXMuZmxpcFJpZ2h0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBuZS5kaXJlY3Rpb25zLkxFRlQ6XG4gICAgICAgIHRoaXMuZmxpcExlZnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbnRlciBwcmVzcyB3aWxsIGNsaWNrIGN1cnJlbnQgaXRlbSBpZiBmbGlwcGVyIGlzIGFjdGl2YXRlZFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgaGFuZGxlRW50ZXJQcmVzcyhlKSB7XG4gICAgdGhpcy5hY3RpdmF0ZWQgJiYgKHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0gJiYgKGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbS5jbGljaygpKSwgRCh0aGlzLmFjdGl2YXRlQ2FsbGJhY2spICYmIHRoaXMuYWN0aXZhdGVDYWxsYmFjayh0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVkIGFmdGVyIGZsaXBwaW5nIGluIGFueSBkaXJlY3Rpb25cbiAgICovXG4gIGZsaXBDYWxsYmFjaygpIHtcbiAgICB0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtICYmIHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpLCB0aGlzLmZsaXBDYWxsYmFja3MuZm9yRWFjaCgoZSkgPT4gZSgpKTtcbiAgfVxufVxuY2xhc3MgdWUge1xuICAvKipcbiAgICogU3R5bGVzXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JhcHBlcjogXCJjZHgtc2VhcmNoLWZpZWxkXCIsXG4gICAgICBpY29uOiBcImNkeC1zZWFyY2gtZmllbGRfX2ljb25cIixcbiAgICAgIGlucHV0OiBcImNkeC1zZWFyY2gtZmllbGRfX2lucHV0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGF2YWlsYWJsZSBjb25maWdcbiAgICogQHBhcmFtIG9wdGlvbnMuaXRlbXMgLSBzZWFyY2hhYmxlIGl0ZW1zIGxpc3RcbiAgICogQHBhcmFtIG9wdGlvbnMub25TZWFyY2ggLSBzZWFyY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG9wdGlvbnMucGxhY2Vob2xkZXIgLSBpbnB1dCBwbGFjZWhvbGRlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBpdGVtczogZSwgb25TZWFyY2g6IHQsIHBsYWNlaG9sZGVyOiBvIH0pIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBSZSgpLCB0aGlzLml0ZW1zID0gZSwgdGhpcy5vblNlYXJjaCA9IHQsIHRoaXMucmVuZGVyKG8pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlYXJjaCBmaWVsZCBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgZm9jdXMgdG8gdGhlIGlucHV0XG4gICAqL1xuICBmb2N1cygpIHtcbiAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBzZWFyY2ggcXVlcnkgYW5kIHJlc3VsdHNcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiLCB0aGlzLnNlYXJjaFF1ZXJ5ID0gXCJcIiwgdGhpcy5vblNlYXJjaChcIlwiLCB0aGlzLmZvdW5kSXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgbWVtb3J5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBzZWFyY2ggZmllbGRcbiAgICpcbiAgICogQHBhcmFtIHBsYWNlaG9sZGVyIC0gaW5wdXQgcGxhY2Vob2xkZXJcbiAgICovXG4gIHJlbmRlcihlKSB7XG4gICAgdGhpcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIHVlLkNTUy53cmFwcGVyKTtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwiZGl2XCIsIHVlLkNTUy5pY29uLCB7XG4gICAgICBpbm5lckhUTUw6IExvXG4gICAgfSk7XG4gICAgdGhpcy5pbnB1dCA9IGQubWFrZShcImlucHV0XCIsIHVlLkNTUy5pbnB1dCwge1xuICAgICAgcGxhY2Vob2xkZXI6IGVcbiAgICB9KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHQpLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dCksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMuaW5wdXQsIFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9IHRoaXMuaW5wdXQudmFsdWUsIHRoaXMub25TZWFyY2godGhpcy5zZWFyY2hRdWVyeSwgdGhpcy5mb3VuZEl0ZW1zKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIGZvdW5kIGl0ZW1zIGZvciB0aGUgY3VycmVudCBzZWFyY2ggcXVlcnlcbiAgICovXG4gIGdldCBmb3VuZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcigoZSkgPT4gdGhpcy5jaGVja0l0ZW0oZSkpO1xuICB9XG4gIC8qKlxuICAgKiBDb250YWlucyBsb2dpYyBmb3IgY2hlY2tpbmcgd2hldGhlciBwYXNzZWQgaXRlbSBjb25mb3JtcyB0aGUgc2VhcmNoIHF1ZXJ5XG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBiZSBjaGVja2VkXG4gICAqL1xuICBjaGVja0l0ZW0oZSkge1xuICAgIHZhciBpO1xuICAgIGNvbnN0IHQgPSAoKGkgPSBlLnRpdGxlKSA9PSBudWxsID8gdm9pZCAwIDogaS50b0xvd2VyQ2FzZSgpKSB8fCBcIlwiLCBvID0gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB0LmluY2x1ZGVzKG8pO1xuICB9XG59XG5jb25zdCBkZSA9IGNsYXNzIHtcbiAgLyoqXG4gICAqIExvY2tzIGJvZHkgZWxlbWVudCBzY3JvbGxcbiAgICovXG4gIGxvY2soKSB7XG4gICAgR2UgPyB0aGlzLmxvY2tIYXJkKCkgOiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoZGUuQ1NTLnNjcm9sbExvY2tlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVubG9ja3MgYm9keSBlbGVtZW50IHNjcm9sbFxuICAgKi9cbiAgdW5sb2NrKCkge1xuICAgIEdlID8gdGhpcy51bmxvY2tIYXJkKCkgOiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoZGUuQ1NTLnNjcm9sbExvY2tlZCk7XG4gIH1cbiAgLyoqXG4gICAqIExvY2tzIHNjcm9sbCBpbiBhIGhhcmQgd2F5ICh2aWEgc2V0dGluZyBmaXhlZCBwb3NpdGlvbiB0byBib2R5IGVsZW1lbnQpXG4gICAqL1xuICBsb2NrSGFyZCgpIHtcbiAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBcIi0td2luZG93LXNjcm9sbC1vZmZzZXRcIixcbiAgICAgIGAke3RoaXMuc2Nyb2xsUG9zaXRpb259cHhgXG4gICAgKSwgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGRlLkNTUy5zY3JvbGxMb2NrZWRIYXJkKTtcbiAgfVxuICAvKipcbiAgICogVW5sb2NrcyBoYXJkIHNjcm9sbCBsb2NrXG4gICAqL1xuICB1bmxvY2tIYXJkKCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShkZS5DU1Muc2Nyb2xsTG9ja2VkSGFyZCksIHRoaXMuc2Nyb2xsUG9zaXRpb24gIT09IG51bGwgJiYgd2luZG93LnNjcm9sbFRvKDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pLCB0aGlzLnNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgfVxufTtcbmxldCBmdCA9IGRlO1xuZnQuQ1NTID0ge1xuICBzY3JvbGxMb2NrZWQ6IFwiY2Utc2Nyb2xsLWxvY2tlZFwiLFxuICBzY3JvbGxMb2NrZWRIYXJkOiBcImNlLXNjcm9sbC1sb2NrZWQtLWhhcmRcIlxufTtcbnZhciBfbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgQW8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBObyA9IChzLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBBbyhlLCB0KSA6IGUsIG4gPSBzLmxlbmd0aCAtIDEsIHI7IG4gPj0gMDsgbi0tKVxuICAgIChyID0gc1tuXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBfbyhlLCB0LCBpKSwgaTtcbn0sIGZlID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuQ2xvc2UgPSBcImNsb3NlXCIsIHMpKShmZSB8fCB7fSk7XG5jb25zdCB6ID0gY2xhc3MgZXh0ZW5kcyB3ZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzKSB7XG4gICAgc3VwZXIoKSwgdGhpcy5zY29wZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5LCB0aGlzLmxpc3RlbmVycyA9IG5ldyBSZSgpLCB0aGlzLnNjcm9sbExvY2tlciA9IG5ldyBmdCgpLCB0aGlzLm5vZGVzID0ge1xuICAgICAgd3JhcHBlcjogbnVsbCxcbiAgICAgIHBvcG92ZXI6IG51bGwsXG4gICAgICBub3RoaW5nRm91bmRNZXNzYWdlOiBudWxsLFxuICAgICAgY3VzdG9tQ29udGVudDogbnVsbCxcbiAgICAgIGl0ZW1zOiBudWxsLFxuICAgICAgb3ZlcmxheTogbnVsbFxuICAgIH0sIHRoaXMubWVzc2FnZXMgPSB7XG4gICAgICBub3RoaW5nRm91bmQ6IFwiTm90aGluZyBmb3VuZFwiLFxuICAgICAgc2VhcmNoOiBcIlNlYXJjaFwiXG4gICAgfSwgdGhpcy5vbkZsaXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLml0ZW1zLmZpbmQoKHQpID0+IHQuaXNGb2N1c2VkKS5vbkZvY3VzKCk7XG4gICAgfSwgdGhpcy5pdGVtcyA9IHMuaXRlbXMubWFwKChlKSA9PiBuZXcgUChlKSksIHMuc2NvcGVFbGVtZW50ICE9PSB2b2lkIDAgJiYgKHRoaXMuc2NvcGVFbGVtZW50ID0gcy5zY29wZUVsZW1lbnQpLCBzLm1lc3NhZ2VzICYmICh0aGlzLm1lc3NhZ2VzID0ge1xuICAgICAgLi4udGhpcy5tZXNzYWdlcyxcbiAgICAgIC4uLnMubWVzc2FnZXNcbiAgICB9KSwgcy5jdXN0b21Db250ZW50RmxpcHBhYmxlSXRlbXMgJiYgKHRoaXMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zID0gcy5jdXN0b21Db250ZW50RmxpcHBhYmxlSXRlbXMpLCB0aGlzLm1ha2UoKSwgcy5jdXN0b21Db250ZW50ICYmIHRoaXMuYWRkQ3VzdG9tQ29udGVudChzLmN1c3RvbUNvbnRlbnQpLCBzLnNlYXJjaGFibGUgJiYgdGhpcy5hZGRTZWFyY2goKSwgdGhpcy5pbml0aWFsaXplRmxpcHBlcigpO1xuICB9XG4gIC8qKlxuICAgKiBQb3BvdmVyIENTUyBjbGFzc2VzXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9wb3ZlcjogXCJjZS1wb3BvdmVyXCIsXG4gICAgICBwb3BvdmVyT3BlblRvcDogXCJjZS1wb3BvdmVyLS1vcGVuLXRvcFwiLFxuICAgICAgcG9wb3Zlck9wZW5lZDogXCJjZS1wb3BvdmVyLS1vcGVuZWRcIixcbiAgICAgIHNlYXJjaDogXCJjZS1wb3BvdmVyX19zZWFyY2hcIixcbiAgICAgIG5vdGhpbmdGb3VuZE1lc3NhZ2U6IFwiY2UtcG9wb3Zlcl9fbm90aGluZy1mb3VuZC1tZXNzYWdlXCIsXG4gICAgICBub3RoaW5nRm91bmRNZXNzYWdlRGlzcGxheWVkOiBcImNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZS0tZGlzcGxheWVkXCIsXG4gICAgICBjdXN0b21Db250ZW50OiBcImNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50XCIsXG4gICAgICBjdXN0b21Db250ZW50SGlkZGVuOiBcImNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50LS1oaWRkZW5cIixcbiAgICAgIGl0ZW1zOiBcImNlLXBvcG92ZXJfX2l0ZW1zXCIsXG4gICAgICBvdmVybGF5OiBcImNlLXBvcG92ZXJfX292ZXJsYXlcIixcbiAgICAgIG92ZXJsYXlIaWRkZW46IFwiY2UtcG9wb3Zlcl9fb3ZlcmxheS0taGlkZGVuXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEhUTUwgZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwb3BvdmVyXG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBzb21lIGl0ZW0gaW5zaWRlIHBvcG92ZXIgaXMgZm9jdXNlZFxuICAgKi9cbiAgaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxpcHBlci5oYXNGb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBvcG92ZXJcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5zaG91bGRPcGVuQm90dG9tIHx8ICh0aGlzLm5vZGVzLnBvcG92ZXIuc3R5bGUuc2V0UHJvcGVydHkoXCItLXBvcG92ZXItaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0ICsgXCJweFwiKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5hZGQoei5DU1MucG9wb3Zlck9wZW5Ub3ApKSwgdGhpcy5ub2Rlcy5vdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoei5DU1Mub3ZlcmxheUhpZGRlbiksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QuYWRkKHouQ1NTLnBvcG92ZXJPcGVuZWQpLCB0aGlzLmZsaXBwZXIuYWN0aXZhdGUodGhpcy5mbGlwcGFibGVFbGVtZW50cyksIHRoaXMuc2VhcmNoICE9PSB2b2lkIDAgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNlYXJjaC5mb2N1cygpO1xuICAgIH0sIDEwMCksIGVlKCkgJiYgdGhpcy5zY3JvbGxMb2NrZXIubG9jaygpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgcG9wb3ZlclxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LnJlbW92ZSh6LkNTUy5wb3BvdmVyT3BlbmVkKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoei5DU1MucG9wb3Zlck9wZW5Ub3ApLCB0aGlzLm5vZGVzLm92ZXJsYXkuY2xhc3NMaXN0LmFkZCh6LkNTUy5vdmVybGF5SGlkZGVuKSwgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5pdGVtcy5mb3JFYWNoKChzKSA9PiBzLnJlc2V0KCkpLCB0aGlzLnNlYXJjaCAhPT0gdm9pZCAwICYmIHRoaXMuc2VhcmNoLmNsZWFyKCksIGVlKCkgJiYgdGhpcy5zY3JvbGxMb2NrZXIudW5sb2NrKCksIHRoaXMuZW1pdChcbiAgICAgIFwiY2xvc2VcIlxuICAgICAgLyogQ2xvc2UgKi9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgbWVtb3J5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMubGlzdGVuZXJzLnJlbW92ZUFsbCgpLCBlZSgpICYmIHRoaXMuc2Nyb2xsTG9ja2VyLnVubG9jaygpO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIEhUTUwgZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIHBvcG92ZXJcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy5wb3BvdmVyID0gZC5tYWtlKFwiZGl2XCIsIFt6LkNTUy5wb3BvdmVyXSksIHRoaXMubm9kZXMubm90aGluZ0ZvdW5kTWVzc2FnZSA9IGQubWFrZShcImRpdlwiLCBbei5DU1Mubm90aGluZ0ZvdW5kTWVzc2FnZV0sIHtcbiAgICAgIHRleHRDb250ZW50OiB0aGlzLm1lc3NhZ2VzLm5vdGhpbmdGb3VuZFxuICAgIH0pLCB0aGlzLm5vZGVzLnBvcG92ZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5ub3RoaW5nRm91bmRNZXNzYWdlKSwgdGhpcy5ub2Rlcy5pdGVtcyA9IGQubWFrZShcImRpdlwiLCBbei5DU1MuaXRlbXNdKSwgdGhpcy5pdGVtcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLml0ZW1zLmFwcGVuZENoaWxkKHMuZ2V0RWxlbWVudCgpKTtcbiAgICB9KSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuaXRlbXMpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBvcG92ZXIsIFwiY2xpY2tcIiwgKHMpID0+IHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLmdldFRhcmdldEl0ZW0ocyk7XG4gICAgICBlICE9PSB2b2lkIDAgJiYgdGhpcy5oYW5kbGVJdGVtQ2xpY2soZSk7XG4gICAgfSksIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiKSwgdGhpcy5ub2Rlcy5vdmVybGF5ID0gZC5tYWtlKFwiZGl2XCIsIFt6LkNTUy5vdmVybGF5LCB6LkNTUy5vdmVybGF5SGlkZGVuXSksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMubm9kZXMub3ZlcmxheSwgXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9KSwgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMub3ZlcmxheSksIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLnBvcG92ZXIpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIHNlYXJjaCB0byB0aGUgcG9wb3ZlclxuICAgKi9cbiAgYWRkU2VhcmNoKCkge1xuICAgIHRoaXMuc2VhcmNoID0gbmV3IHVlKHtcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zLFxuICAgICAgcGxhY2Vob2xkZXI6IHRoaXMubWVzc2FnZXMuc2VhcmNoLFxuICAgICAgb25TZWFyY2g6IChlLCB0KSA9PiB7XG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG4gPSAhdC5pbmNsdWRlcyhpKTtcbiAgICAgICAgICBpLnRvZ2dsZUhpZGRlbihuKTtcbiAgICAgICAgfSksIHRoaXMudG9nZ2xlTm90aGluZ0ZvdW5kTWVzc2FnZSh0Lmxlbmd0aCA9PT0gMCksIHRoaXMudG9nZ2xlQ3VzdG9tQ29udGVudChlICE9PSBcIlwiKTtcbiAgICAgICAgY29uc3QgbyA9IGUgPT09IFwiXCIgPyB0aGlzLmZsaXBwYWJsZUVsZW1lbnRzIDogdC5tYXAoKGkpID0+IGkuZ2V0RWxlbWVudCgpKTtcbiAgICAgICAgdGhpcy5mbGlwcGVyLmlzQWN0aXZhdGVkICYmICh0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmZsaXBwZXIuYWN0aXZhdGUobykpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHMgPSB0aGlzLnNlYXJjaC5nZXRFbGVtZW50KCk7XG4gICAgcy5jbGFzc0xpc3QuYWRkKHouQ1NTLnNlYXJjaCksIHRoaXMubm9kZXMucG9wb3Zlci5pbnNlcnRCZWZvcmUocywgdGhpcy5ub2Rlcy5wb3BvdmVyLmZpcnN0Q2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGN1c3RvbSBodG1sIGNvbnRlbnQgdG8gdGhlIHBvcG92ZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRlbnQgLSBodG1sIGNvbnRlbnQgdG8gYXBwZW5kXG4gICAqL1xuICBhZGRDdXN0b21Db250ZW50KHMpIHtcbiAgICB0aGlzLm5vZGVzLmN1c3RvbUNvbnRlbnQgPSBzLCB0aGlzLm5vZGVzLmN1c3RvbUNvbnRlbnQuY2xhc3NMaXN0LmFkZCh6LkNTUy5jdXN0b21Db250ZW50KSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmluc2VydEJlZm9yZShzLCB0aGlzLm5vZGVzLnBvcG92ZXIuZmlyc3RDaGlsZCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwb3BvdmVyIGl0ZW0gdGhhdCBpcyB0aGUgdGFyZ2V0IG9mIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gZXZlbnQgdG8gcmV0cmlldmUgcG9wb3ZlciBpdGVtIGZyb21cbiAgICovXG4gIGdldFRhcmdldEl0ZW0ocykge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbmQoKGUpID0+IHMuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZS5nZXRFbGVtZW50KCkpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBpdGVtIGNsaWNrc1xuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gaGFuZGxlIGNsaWNrIG9mXG4gICAqL1xuICBoYW5kbGVJdGVtQ2xpY2socykge1xuICAgIHMuaXNEaXNhYmxlZCB8fCAodGhpcy5pdGVtcy5maWx0ZXIoKGUpID0+IGUgIT09IHMpLmZvckVhY2goKGUpID0+IGUucmVzZXQoKSksIHMuaGFuZGxlQ2xpY2soKSwgdGhpcy50b2dnbGVJdGVtQWN0aXZlbmVzc0lmTmVlZGVkKHMpLCBzLmNsb3NlT25BY3RpdmF0ZSAmJiB0aGlzLmhpZGUoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgRmxpcHBlciBpbnN0YW5jZSB3aGljaCBhbGxvd3MgdG8gbmF2aWdhdGUgYmV0d2VlbiBwb3BvdmVyIGl0ZW1zIHZpYSBrZXlib2FyZFxuICAgKi9cbiAgaW5pdGlhbGl6ZUZsaXBwZXIoKSB7XG4gICAgdGhpcy5mbGlwcGVyID0gbmV3IEcoe1xuICAgICAgaXRlbXM6IHRoaXMuZmxpcHBhYmxlRWxlbWVudHMsXG4gICAgICBmb2N1c2VkSXRlbUNsYXNzOiBQLkNTUy5mb2N1c2VkLFxuICAgICAgYWxsb3dlZEtleXM6IFtcbiAgICAgICAgQi5UQUIsXG4gICAgICAgIEIuVVAsXG4gICAgICAgIEIuRE9XTixcbiAgICAgICAgQi5FTlRFUlxuICAgICAgXVxuICAgIH0pLCB0aGlzLmZsaXBwZXIub25GbGlwKHRoaXMub25GbGlwKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIGVsZW1lbnRzIGF2YWlsYWJsZSBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICogQ29udGFpbnMgYm90aCB1c3VhbCBwb3BvdmVyIGl0ZW1zIGVsZW1lbnRzIGFuZCBjdXN0b20gaHRtbCBjb250ZW50LlxuICAgKi9cbiAgZ2V0IGZsaXBwYWJsZUVsZW1lbnRzKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLml0ZW1zLm1hcCgodCkgPT4gdC5nZXRFbGVtZW50KCkpO1xuICAgIHJldHVybiAodGhpcy5jdXN0b21Db250ZW50RmxpcHBhYmxlSXRlbXMgfHwgW10pLmNvbmNhdChzKTtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIGxldCBzID0gMDtcbiAgICBpZiAodGhpcy5ub2Rlcy5wb3BvdmVyID09PSBudWxsKVxuICAgICAgcmV0dXJuIHM7XG4gICAgY29uc3QgZSA9IHRoaXMubm9kZXMucG9wb3Zlci5jbG9uZU5vZGUoITApO1xuICAgIHJldHVybiBlLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiLCBlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiLCBlLnN0eWxlLnRvcCA9IFwiLTEwMDBweFwiLCBlLmNsYXNzTGlzdC5hZGQoei5DU1MucG9wb3Zlck9wZW5lZCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksIHMgPSBlLm9mZnNldEhlaWdodCwgZS5yZW1vdmUoKSwgcztcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvcG92ZXIgc2hvdWxkIGJlIG9wZW5lZCBib3R0b20uXG4gICAqIEl0IHNob3VsZCBoYXBwZW4gd2hlbiB0aGVyZSBpcyBlbm91Z2ggc3BhY2UgYmVsb3cgb3Igbm90IGVub3VnaCBzcGFjZSBhYm92ZVxuICAgKi9cbiAgZ2V0IHNob3VsZE9wZW5Cb3R0b20oKSB7XG4gICAgY29uc3QgcyA9IHRoaXMubm9kZXMucG9wb3Zlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgZSA9IHRoaXMuc2NvcGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0ID0gdGhpcy5oZWlnaHQsIG8gPSBzLnRvcCArIHQsIGkgPSBzLnRvcCAtIHQsIG4gPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQsIGUuYm90dG9tKTtcbiAgICByZXR1cm4gaSA8IGUudG9wIHx8IG8gPD0gbjtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBub3RoaW5nIGZvdW5kIG1lc3NhZ2UgdmlzaWJpbGl0eVxuICAgKlxuICAgKiBAcGFyYW0gaXNEaXNwbGF5ZWQgLSB0cnVlIGlmIHRoZSBtZXNzYWdlIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICovXG4gIHRvZ2dsZU5vdGhpbmdGb3VuZE1lc3NhZ2Uocykge1xuICAgIHRoaXMubm9kZXMubm90aGluZ0ZvdW5kTWVzc2FnZS5jbGFzc0xpc3QudG9nZ2xlKHouQ1NTLm5vdGhpbmdGb3VuZE1lc3NhZ2VEaXNwbGF5ZWQsIHMpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGN1c3RvbSBjb250ZW50IHZpc2liaWxpdHlcbiAgICpcbiAgICogQHBhcmFtIGlzRGlzcGxheWVkIC0gdHJ1ZSBpZiBjdXN0b20gY29udGVudCBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqL1xuICB0b2dnbGVDdXN0b21Db250ZW50KHMpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMubm9kZXMuY3VzdG9tQ29udGVudCkgPT0gbnVsbCB8fCBlLmNsYXNzTGlzdC50b2dnbGUoei5DU1MuY3VzdG9tQ29udGVudEhpZGRlbiwgcyk7XG4gIH1cbiAgLyoqXG4gICAqIC0gVG9nZ2xlcyBpdGVtIGFjdGl2ZSBzdGF0ZSwgaWYgY2xpY2tlZCBwb3BvdmVyIGl0ZW0gaGFzIHByb3BlcnR5ICd0b2dnbGUnIHNldCB0byB0cnVlLlxuICAgKlxuICAgKiAtIFBlcmZvcm1zIHJhZGlvYnV0dG9uLWxpa2UgYmVoYXZpb3IgaWYgdGhlIGl0ZW0gaGFzIHByb3BlcnR5ICd0b2dnbGUnIHNldCB0byBzdHJpbmcga2V5LlxuICAgKiAoQWxsIHRoZSBvdGhlciBpdGVtcyB3aXRoIHRoZSBzYW1lIGtleSBnZXQgaW5hY3RpdmUsIGFuZCB0aGUgaXRlbSBnZXRzIGFjdGl2ZSlcbiAgICpcbiAgICogQHBhcmFtIGNsaWNrZWRJdGVtIC0gcG9wb3ZlciBpdGVtIHRoYXQgd2FzIGNsaWNrZWRcbiAgICovXG4gIHRvZ2dsZUl0ZW1BY3RpdmVuZXNzSWZOZWVkZWQocykge1xuICAgIGlmIChzLnRvZ2dsZSA9PT0gITAgJiYgcy50b2dnbGVBY3RpdmUoKSwgdHlwZW9mIHMudG9nZ2xlID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLml0ZW1zLmZpbHRlcigodCkgPT4gdC50b2dnbGUgPT09IHMudG9nZ2xlKTtcbiAgICAgIGlmIChlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBzLnRvZ2dsZUFjdGl2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgdC50b2dnbGVBY3RpdmUodCA9PT0gcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5sZXQgSGUgPSB6O1xuTm8oW1xuICBhZVxuXSwgSGUucHJvdG90eXBlLCBcImhlaWdodFwiLCAxKTtcbmNsYXNzIFJvIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMub3BlbmVkID0gITEsIHRoaXMuc2VsZWN0aW9uID0gbmV3IG0oKSwgdGhpcy5vblBvcG92ZXJDbG9zZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgRXZlbnRzXG4gICAqXG4gICAqIEByZXR1cm5zIHt7b3BlbmVkOiBzdHJpbmcsIGNsb3NlZDogc3RyaW5nfX1cbiAgICovXG4gIGdldCBldmVudHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW5lZDogXCJibG9jay1zZXR0aW5ncy1vcGVuZWRcIixcbiAgICAgIGNsb3NlZDogXCJibG9jay1zZXR0aW5ncy1jbG9zZWRcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIFNldHRpbmdzIENTU1xuICAgKi9cbiAgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0dGluZ3M6IFwiY2Utc2V0dGluZ3NcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldHRlciBmb3IgaW5uZXIgcG9wb3ZlcidzIGZsaXBwZXIgaW5zdGFuY2VcbiAgICpcbiAgICogQHRvZG8gcmVtb3ZlIG9uY2UgQmxvY2tTZXR0aW5ncyBiZWNvbWVzIHN0YW5kYWxvbmUgbm9uLW1vZHVsZSBjbGFzc1xuICAgKi9cbiAgZ2V0IGZsaXBwZXIoKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuIChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogZS5mbGlwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBQYW5lbCB3aXRoIGJsb2NrIHNldHRpbmdzIHdpdGggMiBzZWN0aW9uczpcbiAgICogIC0gVG9vbCdzIFNldHRpbmdzXG4gICAqICAtIERlZmF1bHQgU2V0dGluZ3MgW01vdmUsIFJlbW92ZSwgZXRjXVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgW3RoaXMuQ1NTLnNldHRpbmdzXSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIG1vZHVsZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gQmxvY2sgU2V0dGluZ3MgcGFuZVxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0QmxvY2sgLSBuZWFyIHdoaWNoIEJsb2NrIHdlIHNob3VsZCBvcGVuIEJsb2NrU2V0dGluZ3NcbiAgICovXG4gIG9wZW4oZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spIHtcbiAgICB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIGUuc2VsZWN0ZWQgPSAhMCwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJDYWNoZSgpO1xuICAgIGNvbnN0IFt0LCBvXSA9IGUuZ2V0VHVuZXMoKTtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdCh0aGlzLmV2ZW50cy5vcGVuZWQpLCB0aGlzLnBvcG92ZXIgPSBuZXcgSGUoe1xuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBpdGVtczogdC5tYXAoKGkpID0+IHRoaXMucmVzb2x2ZVR1bmVBbGlhc2VzKGkpKSxcbiAgICAgIGN1c3RvbUNvbnRlbnQ6IG8sXG4gICAgICBjdXN0b21Db250ZW50RmxpcHBhYmxlSXRlbXM6IHRoaXMuZ2V0Q29udHJvbHMobyksXG4gICAgICBzY29wZUVsZW1lbnQ6IHRoaXMuRWRpdG9yLkFQSS5tZXRob2RzLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgbm90aGluZ0ZvdW5kOiAkLnVpKFgudWkucG9wb3ZlciwgXCJOb3RoaW5nIGZvdW5kXCIpLFxuICAgICAgICBzZWFyY2g6ICQudWkoWC51aS5wb3BvdmVyLCBcIkZpbHRlclwiKVxuICAgICAgfVxuICAgIH0pLCB0aGlzLnBvcG92ZXIub24oZmUuQ2xvc2UsIHRoaXMub25Qb3BvdmVyQ2xvc2UpLCB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kKHRoaXMucG9wb3Zlci5nZXRFbGVtZW50KCkpLCB0aGlzLnBvcG92ZXIuc2hvdygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHJvb3QgYmxvY2sgc2V0dGluZ3MgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBCbG9jayBTZXR0aW5ncyBwYW5lXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLm9wZW5lZCA9ICExLCBtLmlzQXRFZGl0b3IgfHwgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5jbGVhclNhdmVkKCksICF0aGlzLkVkaXRvci5Dcm9zc0Jsb2NrU2VsZWN0aW9uLmlzQ3Jvc3NCbG9ja1NlbGVjdGlvblN0YXJ0ZWQgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5zZWxlY3RlZCA9ICExKSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMuY2xvc2VkKSwgdGhpcy5wb3BvdmVyICYmICh0aGlzLnBvcG92ZXIub2ZmKGZlLkNsb3NlLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5wb3BvdmVyLmRlc3Ryb3koKSwgdGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKS5yZW1vdmUoKSwgdGhpcy5wb3BvdmVyID0gbnVsbCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBidXR0b25zIGFuZCBpbnB1dHMgaW5zaWRlIHNwZWNpZmllZCBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRhaW5lciAtIGNvbnRhaW5lciB0byBxdWVyeSBjb250cm9scyBpbnNpZGUgb2ZcbiAgICovXG4gIGdldENvbnRyb2xzKGUpIHtcbiAgICBjb25zdCB7IFN0eWxlc0FQSTogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgLiR7dC5jbGFzc2VzLnNldHRpbmdzQnV0dG9ufSwgJHtkLmFsbElucHV0c1NlbGVjdG9yfWBcbiAgICApO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICB9XG4gIC8qKlxuICAgKiBSZXNvbHZlcyBhbGlhc2VzIGluIHR1bmVzIG1lbnUgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHdpdGggcmVzb2x2ZWQgYWxpYXNlc1xuICAgKi9cbiAgcmVzb2x2ZVR1bmVBbGlhc2VzKGUpIHtcbiAgICBjb25zdCB0ID0geW8oZSwgeyBsYWJlbDogXCJ0aXRsZVwiIH0pO1xuICAgIHJldHVybiBlLmNvbmZpcm1hdGlvbiAmJiAodC5jb25maXJtYXRpb24gPSB0aGlzLnJlc29sdmVUdW5lQWxpYXNlcyhlLmNvbmZpcm1hdGlvbikpLCB0O1xuICB9XG59XG5jbGFzcyBZIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMub3BlbmVkID0gITEsIHRoaXMudG9vbHMgPSBbXSwgdGhpcy5mbGlwcGVyID0gbnVsbCwgdGhpcy50b2dnbGluZ0NhbGxiYWNrID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ1NTIGdldHRlclxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnZlcnNpb25Ub29sYmFyV3JhcHBlcjogXCJjZS1jb252ZXJzaW9uLXRvb2xiYXJcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sYmFyU2hvd2VkOiBcImNlLWNvbnZlcnNpb24tdG9vbGJhci0tc2hvd2VkXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbGJhclRvb2xzOiBcImNlLWNvbnZlcnNpb24tdG9vbGJhcl9fdG9vbHNcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sYmFyTGFiZWw6IFwiY2UtY29udmVyc2lvbi10b29sYmFyX19sYWJlbFwiLFxuICAgICAgY29udmVyc2lvblRvb2w6IFwiY2UtY29udmVyc2lvbi10b29sXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbEhpZGRlbjogXCJjZS1jb252ZXJzaW9uLXRvb2wtLWhpZGRlblwiLFxuICAgICAgY29udmVyc2lvblRvb2xJY29uOiBcImNlLWNvbnZlcnNpb24tdG9vbF9faWNvblwiLFxuICAgICAgY29udmVyc2lvblRvb2xGb2N1c2VkOiBcImNlLWNvbnZlcnNpb24tdG9vbC0tZm9jdXNlZFwiLFxuICAgICAgY29udmVyc2lvblRvb2xBY3RpdmU6IFwiY2UtY29udmVyc2lvbi10b29sLS1hY3RpdmVcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBVSSBvZiBDb252ZXJzaW9uIFRvb2xiYXJcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFtcbiAgICAgIFkuQ1NTLmNvbnZlcnNpb25Ub29sYmFyV3JhcHBlcixcbiAgICAgIC4uLnRoaXMuaXNSdGwgPyBbdGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvclJ0bEZpeF0gOiBbXVxuICAgIF0pLCB0aGlzLm5vZGVzLnRvb2xzID0gZC5tYWtlKFwiZGl2XCIsIFkuQ1NTLmNvbnZlcnNpb25Ub29sYmFyVG9vbHMpO1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgWS5DU1MuY29udmVyc2lvblRvb2xiYXJMYWJlbCwge1xuICAgICAgdGV4dENvbnRlbnQ6ICQudWkoWC51aS5pbmxpbmVUb29sYmFyLmNvbnZlcnRlciwgXCJDb252ZXJ0IHRvXCIpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuYWRkVG9vbHMoKSwgdGhpcy5lbmFibGVGbGlwcGVyKCksIGQuYXBwZW5kKHRoaXMubm9kZXMud3JhcHBlciwgZSksIGQuYXBwZW5kKHRoaXMubm9kZXMud3JhcHBlciwgdGhpcy5ub2Rlcy50b29scyksIHRoaXMubm9kZXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogRGVhY3RpdmF0ZXMgZmxpcHBlciBhbmQgcmVtb3ZlcyBhbGwgbm9kZXNcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5mbGlwcGVyICYmICh0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmZsaXBwZXIgPSBudWxsKSwgdGhpcy5yZW1vdmVBbGxOb2RlcygpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgY29udmVyc2lvbiBkcm9wZG93biB2aXNpYmlsaXR5XG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFt0b2dnbGluZ0NhbGxiYWNrXSBcdTIwMTQgY2FsbGJhY2sgdGhhdCB3aWxsIGFjY2VwdCBvcGVuaW5nIHN0YXRlXG4gICAqL1xuICB0b2dnbGUoZSkge1xuICAgIHRoaXMub3BlbmVkID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCksIEQoZSkgJiYgKHRoaXMudG9nZ2xpbmdDYWxsYmFjayA9IGUpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyBDb252ZXJzaW9uIFRvb2xiYXJcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5maWx0ZXJUb29scygpLCB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZChZLkNTUy5jb252ZXJzaW9uVG9vbGJhclNob3dlZCksIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKHRoaXMudG9vbHMubWFwKChlKSA9PiBlLmJ1dHRvbikuZmlsdGVyKChlKSA9PiAhZS5jbGFzc0xpc3QuY29udGFpbnMoWS5DU1MuY29udmVyc2lvblRvb2xIaWRkZW4pKSksIHRoaXMuZmxpcHBlci5mb2N1c0ZpcnN0KCksIEQodGhpcy50b2dnbGluZ0NhbGxiYWNrKSAmJiB0aGlzLnRvZ2dsaW5nQ2FsbGJhY2soITApO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShZLkNTUy5jb252ZXJzaW9uVG9vbGJhclNob3dlZCksIEQodGhpcy50b2dnbGluZ0NhbGxiYWNrKSAmJiB0aGlzLnRvZ2dsaW5nQ2FsbGJhY2soITEpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaXQgaGFzIG1vcmUgdGhhbiBvbmUgdG9vbCBhdmFpbGFibGUgZm9yIGNvbnZlcnQgaW5cbiAgICovXG4gIGhhc1Rvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzLmxlbmd0aCA9PT0gMSA/IHRoaXMudG9vbHNbMF0ubmFtZSAhPT0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrIDogITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIG9uZSBCbG9jayB3aXRoIGFub3RoZXJcbiAgICogRm9yIHRoYXQgVG9vbHMgbXVzdCBwcm92aWRlIGltcG9ydC9leHBvcnQgbWV0aG9kc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVwbGFjaW5nVG9vbE5hbWUgLSBuYW1lIG9mIFRvb2wgd2hpY2ggcmVwbGFjZXMgY3VycmVudFxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gQmxvY2sgZGF0YSBvdmVycmlkZXMuIENvdWxkIGJlIHBhc3NlZCBpbiBjYXNlIGlmIE11bHRpcGxlIFRvb2xib3ggaXRlbXMgc3BlY2lmaWVkXG4gICAqL1xuICBhc3luYyByZXBsYWNlV2l0aEJsb2NrKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay50b29sLCBuID0gKGF3YWl0IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suc2F2ZSgpKS5kYXRhLCByID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy5nZXQoZSk7XG4gICAgbGV0IGEgPSBcIlwiO1xuICAgIGNvbnN0IGwgPSBvLmNvbnZlcnNpb25Db25maWcuZXhwb3J0O1xuICAgIGlmIChEKGwpKVxuICAgICAgYSA9IGwobik7XG4gICAgZWxzZSBpZiAoSihsKSlcbiAgICAgIGEgPSBuW2xdO1xuICAgIGVsc2Uge1xuICAgICAgVChcIkNvbnZlcnNpb24gXHUwMEFCZXhwb3J0XHUwMEJCIHByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb24uIFN0cmluZyBtZWFucyBrZXkgb2Ygc2F2ZWQgZGF0YSBvYmplY3QgdG8gZXhwb3J0LiBGdW5jdGlvbiBzaG91bGQgZXhwb3J0IHByb2Nlc3NlZCBzdHJpbmcgdG8gZXhwb3J0LlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYyA9IFooXG4gICAgICBhLFxuICAgICAgci5zYW5pdGl6ZUNvbmZpZ1xuICAgICk7XG4gICAgbGV0IHUgPSB7fTtcbiAgICBjb25zdCBoID0gci5jb252ZXJzaW9uQ29uZmlnLmltcG9ydDtcbiAgICBpZiAoRChoKSlcbiAgICAgIHUgPSBoKGMpO1xuICAgIGVsc2UgaWYgKEooaCkpXG4gICAgICB1W2hdID0gYztcbiAgICBlbHNlIHtcbiAgICAgIFQoXCJDb252ZXJzaW9uIFx1MDBBQmltcG9ydFx1MDBCQiBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLiBTdHJpbmcgbWVhbnMga2V5IG9mIHRvb2wgZGF0YSB0byBpbXBvcnQuIEZ1bmN0aW9uIGFjY2VwdHMgYSBpbXBvcnRlZCBzdHJpbmcgYW5kIHJldHVybiBjb21wb3NlZCB0b29sIGRhdGEuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ICYmICh1ID0gT2JqZWN0LmFzc2lnbih1LCB0KSksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5yZXBsYWNlKHtcbiAgICAgIHRvb2w6IGUsXG4gICAgICBkYXRhOiB1XG4gICAgfSksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuY2xvc2UoKSwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCBvZSgoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spO1xuICAgIH0sIDEwKSgpO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlcyBleGlzdGluZyBUb29scyBhbmQgaW5zZXJ0cyB0byB0aGUgQ29udmVyc2lvblRvb2xiYXJcbiAgICogaWYgdG9vbHMgaGF2ZSBhYmlsaXR5IHRvIGltcG9ydFxuICAgKi9cbiAgYWRkVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHM7XG4gICAgQXJyYXkuZnJvbShlLmVudHJpZXMoKSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICBjb25zdCBpID0gby5jb252ZXJzaW9uQ29uZmlnO1xuICAgICAgIWkgfHwgIWkuaW1wb3J0IHx8IG8udG9vbGJveC5mb3JFYWNoKFxuICAgICAgICAobikgPT4gdGhpcy5hZGRUb29sSWZWYWxpZCh0LCBuKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBhIHRvb2wgdG8gdGhlIENvbnZlcnNpb25Ub29sYmFyIGlmIHRoZSB0b29sJ3MgdG9vbGJveCBjb25maWcgaXMgdmFsaWRcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSB0b29sJ3MgbmFtZVxuICAgKiBAcGFyYW0gdG9vbGJveFNldHRpbmdzIC0gdG9vbCdzIHNpbmdsZSB0b29sYm94IHNldHRpbmdcbiAgICovXG4gIGFkZFRvb2xJZlZhbGlkKGUsIHQpIHtcbiAgICBWKHQpIHx8ICF0Lmljb24gfHwgdGhpcy5hZGRUb29sKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdG9vbCB0byB0aGUgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIG5hbWUgb2YgVG9vbCB0byBhZGRcbiAgICogQHBhcmFtIHRvb2xib3hJdGVtIC0gdG9vbCdzIHRvb2xib3ggaXRlbSBkYXRhXG4gICAqL1xuICBhZGRUb29sKGUsIHQpIHtcbiAgICBjb25zdCBvID0gZC5tYWtlKFwiZGl2XCIsIFtZLkNTUy5jb252ZXJzaW9uVG9vbF0pLCBpID0gZC5tYWtlKFwiZGl2XCIsIFtZLkNTUy5jb252ZXJzaW9uVG9vbEljb25dKTtcbiAgICBvLmRhdGFzZXQudG9vbCA9IGUsIGkuaW5uZXJIVE1MID0gdC5pY29uLCBkLmFwcGVuZChvLCBpKSwgZC5hcHBlbmQobywgZC50ZXh0KCQudChYLnRvb2xOYW1lcywgdC50aXRsZSB8fCBrZShlKSkpKSwgZC5hcHBlbmQodGhpcy5ub2Rlcy50b29scywgbyksIHRoaXMudG9vbHMucHVzaCh7XG4gICAgICBuYW1lOiBlLFxuICAgICAgYnV0dG9uOiBvLFxuICAgICAgdG9vbGJveEl0ZW06IHRcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24obywgXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnJlcGxhY2VXaXRoQmxvY2soZSwgdC5kYXRhKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGlkZSBjdXJyZW50IFRvb2wgYW5kIHNob3cgb3RoZXJzXG4gICAqL1xuICBhc3luYyBmaWx0ZXJUb29scygpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogZSB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCB0ID0gYXdhaXQgZS5nZXRBY3RpdmVUb29sYm94RW50cnkoKTtcbiAgICBmdW5jdGlvbiBvKGksIG4pIHtcbiAgICAgIHJldHVybiBpLmljb24gPT09IG4uaWNvbiAmJiBpLnRpdGxlID09PSBuLnRpdGxlO1xuICAgIH1cbiAgICB0aGlzLnRvb2xzLmZvckVhY2goKGkpID0+IHtcbiAgICAgIGxldCBuID0gITE7XG4gICAgICBpZiAodCkge1xuICAgICAgICBjb25zdCByID0gbyh0LCBpLnRvb2xib3hJdGVtKTtcbiAgICAgICAgbiA9IGkuYnV0dG9uLmRhdGFzZXQudG9vbCA9PT0gZS5uYW1lICYmIHI7XG4gICAgICB9XG4gICAgICBpLmJ1dHRvbi5oaWRkZW4gPSBuLCBpLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFkuQ1NTLmNvbnZlcnNpb25Ub29sSGlkZGVuLCBuKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUHJlcGFyZSBGbGlwcGVyIHRvIGJlIGFibGUgdG8gbGVhZiB0b29scyBieSBhcnJvd3MvdGFiXG4gICAqL1xuICBlbmFibGVGbGlwcGVyKCkge1xuICAgIHRoaXMuZmxpcHBlciA9IG5ldyBHKHtcbiAgICAgIGZvY3VzZWRJdGVtQ2xhc3M6IFkuQ1NTLmNvbnZlcnNpb25Ub29sRm9jdXNlZFxuICAgIH0pO1xuICB9XG59XG52YXIgQWUgPSB7fSwgRG8gPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBBZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIEFlID0gcztcbiAgfVxufTtcbi8qIVxuICogTGlicmFyeSBmb3IgaGFuZGxpbmcga2V5Ym9hcmQgc2hvcnRjdXRzXG4gKiBAY29weXJpZ2h0IENvZGVYIChodHRwczovL2NvZGV4LnNvKVxuICogQGxpY2Vuc2UgTUlUXG4gKiBAYXV0aG9yIENvZGVYIChodHRwczovL2NvZGV4LnNvKVxuICogQHZlcnNpb24gMS4yLjBcbiAqL1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKG4pIHtcbiAgICAgICAgaWYgKG9bbl0pXG4gICAgICAgICAgcmV0dXJuIG9bbl0uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW25dID0geyBpOiBuLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24obiwgciwgYSkge1xuICAgICAgICBpLm8obiwgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogYSB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKG4gPSBpKG4pKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuICYmIG4uX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgdmFyIGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihhKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbiB9KSwgMiAmIHIgJiYgdHlwZW9mIG4gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBsIGluIG4pXG4gICAgICAgICAgICBpLmQoYSwgbCwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gbltjXTtcbiAgICAgICAgICAgIH0uYmluZChudWxsLCBsKSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IG4gJiYgbi5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG4uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgZnVuY3Rpb24gbihsLCBjKSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgIHZhciBoID0gY1t1XTtcbiAgICAgICAgICBoLmVudW1lcmFibGUgPSBoLmVudW1lcmFibGUgfHwgITEsIGguY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBoICYmIChoLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobCwgaC5rZXksIGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKGwsIGMsIHUpIHtcbiAgICAgICAgcmV0dXJuIGMgJiYgbihsLnByb3RvdHlwZSwgYyksIHUgJiYgbihsLCB1KSwgbDtcbiAgICAgIH1cbiAgICAgIGkucihvKTtcbiAgICAgIHZhciBhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIGwoYykge1xuICAgICAgICAgIHZhciB1ID0gdGhpcztcbiAgICAgICAgICAoZnVuY3Rpb24oaCwgZikge1xuICAgICAgICAgICAgaWYgKCEoaCBpbnN0YW5jZW9mIGYpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIH0pKHRoaXMsIGwpLCB0aGlzLmNvbW1hbmRzID0ge30sIHRoaXMua2V5cyA9IHt9LCB0aGlzLm5hbWUgPSBjLm5hbWUsIHRoaXMucGFyc2VTaG9ydGN1dE5hbWUoYy5uYW1lKSwgdGhpcy5lbGVtZW50ID0gYy5vbiwgdGhpcy5jYWxsYmFjayA9IGMuY2FsbGJhY2ssIHRoaXMuZXhlY3V0ZVNob3J0Y3V0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgdS5leGVjdXRlKGgpO1xuICAgICAgICAgIH0sIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCwgITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByKGwsIG51bGwsIFt7IGtleTogXCJzdXBwb3J0ZWRDb21tYW5kc1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IFNISUZUOiBbXCJTSElGVFwiXSwgQ01EOiBbXCJDTURcIiwgXCJDT05UUk9MXCIsIFwiQ09NTUFORFwiLCBcIldJTkRPV1NcIiwgXCJDVFJMXCJdLCBBTFQ6IFtcIkFMVFwiLCBcIk9QVElPTlwiXSB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcImtleUNvZGVzXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgMDogNDgsIDE6IDQ5LCAyOiA1MCwgMzogNTEsIDQ6IDUyLCA1OiA1MywgNjogNTQsIDc6IDU1LCA4OiA1NiwgOTogNTcsIEE6IDY1LCBCOiA2NiwgQzogNjcsIEQ6IDY4LCBFOiA2OSwgRjogNzAsIEc6IDcxLCBIOiA3MiwgSTogNzMsIEo6IDc0LCBLOiA3NSwgTDogNzYsIE06IDc3LCBOOiA3OCwgTzogNzksIFA6IDgwLCBROiA4MSwgUjogODIsIFM6IDgzLCBUOiA4NCwgVTogODUsIFY6IDg2LCBXOiA4NywgWDogODgsIFk6IDg5LCBaOiA5MCwgQkFDS1NQQUNFOiA4LCBFTlRFUjogMTMsIEVTQ0FQRTogMjcsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIElOU0VSVDogNDUsIERFTEVURTogNDYsIFwiLlwiOiAxOTAgfTtcbiAgICAgICAgfSB9XSksIHIobCwgW3sga2V5OiBcInBhcnNlU2hvcnRjdXROYW1lXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgYyA9IGMuc3BsaXQoXCIrXCIpO1xuICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgY1t1XSA9IGNbdV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBoID0gITE7XG4gICAgICAgICAgICBmb3IgKHZhciBmIGluIGwuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICAgIGlmIChsLnN1cHBvcnRlZENvbW1hbmRzW2ZdLmluY2x1ZGVzKGNbdV0pKSB7XG4gICAgICAgICAgICAgICAgaCA9IHRoaXMuY29tbWFuZHNbZl0gPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCB8fCAodGhpcy5rZXlzW2NbdV1dID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciB2IGluIGwuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW3ZdIHx8ICh0aGlzLmNvbW1hbmRzW3ZdID0gITEpO1xuICAgICAgICB9IH0sIHsga2V5OiBcImV4ZWN1dGVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IHsgQ01EOiBjLmN0cmxLZXkgfHwgYy5tZXRhS2V5LCBTSElGVDogYy5zaGlmdEtleSwgQUxUOiBjLmFsdEtleSB9LCBmID0gITA7XG4gICAgICAgICAgZm9yICh1IGluIHRoaXMuY29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW3VdICE9PSBoW3VdICYmIChmID0gITEpO1xuICAgICAgICAgIHZhciB2LCBwID0gITA7XG4gICAgICAgICAgZm9yICh2IGluIHRoaXMua2V5cylcbiAgICAgICAgICAgIHAgPSBwICYmIGMua2V5Q29kZSA9PT0gbC5rZXlDb2Rlc1t2XTtcbiAgICAgICAgICBmICYmIHAgJiYgdGhpcy5jYWxsYmFjayhjKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW1vdmVcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCk7XG4gICAgICAgIH0gfV0pLCBsO1xuICAgICAgfSgpO1xuICAgICAgby5kZWZhdWx0ID0gYTtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KShEbyk7XG5jb25zdCBQbyA9IC8qIEBfX1BVUkVfXyAqLyB4ZShBZSk7XG5jbGFzcyBGbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IG9wdGlvbnNcbiAgICovXG4gIGFkZChlKSB7XG4gICAgaWYgKHRoaXMuZmluZFNob3J0Y3V0KGUub24sIGUubmFtZSkpXG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFNob3J0Y3V0ICR7ZS5uYW1lfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yICR7ZS5vbn0uIFBsZWFzZSByZW1vdmUgaXQgYmVmb3JlIGFkZCBhIG5ldyBoYW5kbGVyLmBcbiAgICAgICk7XG4gICAgY29uc3QgbyA9IG5ldyBQbyh7XG4gICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICBvbjogZS5vbixcbiAgICAgIGNhbGxiYWNrOiBlLmhhbmRsZXJcbiAgICB9KSwgaSA9IHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZS5vbikgfHwgW107XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLnNldChlLm9uLCBbLi4uaSwgb10pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgc2hvcnRjdXRcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBFbGVtZW50IHNob3J0Y3V0IGlzIHNldCBmb3JcbiAgICogQHBhcmFtIG5hbWUgLSBzaG9ydGN1dCBuYW1lXG4gICAqL1xuICByZW1vdmUoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmZpbmRTaG9ydGN1dChlLCB0KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgby5yZW1vdmUoKTtcbiAgICBjb25zdCBpID0gdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLmdldChlKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuc2V0KGUsIGkuZmlsdGVyKChuKSA9PiBuICE9PSBvKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBTaG9ydGN1dCBpbnN0YW5jZSBpZiBleGlzdFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIEVsZW1lbnQgc2hvcmN1dCBpcyBzZXQgZm9yXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IG5hbWVcbiAgICogQHJldHVybnMge251bWJlcn0gaW5kZXggLSBzaG9ydGN1dCBpbmRleCBpZiBleGlzdFxuICAgKi9cbiAgZmluZFNob3J0Y3V0KGUsIHQpIHtcbiAgICByZXR1cm4gKHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZSkgfHwgW10pLmZpbmQoKHsgbmFtZTogaSB9KSA9PiBpID09PSB0KTtcbiAgfVxufVxuY29uc3QgcmUgPSBuZXcgRm8oKTtcbnZhciBIbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgem8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBndCA9IChzLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyB6byhlLCB0KSA6IGUsIG4gPSBzLmxlbmd0aCAtIDEsIHI7IG4gPj0gMDsgbi0tKVxuICAgIChyID0gc1tuXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBIbyhlLCB0LCBpKSwgaTtcbn0sIGJlID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuT3BlbmVkID0gXCJ0b29sYm94LW9wZW5lZFwiLCBzLkNsb3NlZCA9IFwidG9vbGJveC1jbG9zZWRcIiwgcy5CbG9ja0FkZGVkID0gXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHMpKShiZSB8fCB7fSk7XG5jb25zdCBidCA9IGNsYXNzIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogVG9vbGJveCBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGF2YWlsYWJsZSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLmFwaSAtIEVkaXRvciBBUEkgbWV0aG9kc1xuICAgKiBAcGFyYW0gb3B0aW9ucy50b29scyAtIFRvb2xzIGF2YWlsYWJsZSB0byBjaGVjayB3aGV0aGVyIHNvbWUgb2YgdGhlbSBzaG91bGQgYmUgZGlzcGxheWVkIGF0IHRoZSBUb29sYm94IG9yIG5vdFxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IHMsIHRvb2xzOiBlLCBpMThuTGFiZWxzOiB0IH0pIHtcbiAgICBzdXBlcigpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLm5vZGVzID0ge1xuICAgICAgdG9vbGJveDogbnVsbFxuICAgIH0sIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmVtaXQoXG4gICAgICAgIFwidG9vbGJveC1jbG9zZWRcIlxuICAgICAgICAvKiBDbG9zZWQgKi9cbiAgICAgICk7XG4gICAgfSwgdGhpcy5hcGkgPSBzLCB0aGlzLnRvb2xzID0gZSwgdGhpcy5pMThuTGFiZWxzID0gdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIFRvb2xib3ggaXMgRW1wdHkgYW5kIG5vdGhpbmcgdG8gc2hvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5sZW5ndGggPT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBzdHlsZXNcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbGJveDogXCJjZS10b29sYm94XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNYWtlcyB0aGUgVG9vbGJveFxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3BvdmVyID0gbmV3IEhlKHtcbiAgICAgIHNjb3BlRWxlbWVudDogdGhpcy5hcGkudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBzZWFyY2hhYmxlOiAhMCxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogdGhpcy5pMThuTGFiZWxzLm5vdGhpbmdGb3VuZCxcbiAgICAgICAgc2VhcmNoOiB0aGlzLmkxOG5MYWJlbHMuZmlsdGVyXG4gICAgICB9LFxuICAgICAgaXRlbXM6IHRoaXMudG9vbGJveEl0ZW1zVG9CZURpc3BsYXllZFxuICAgIH0pLCB0aGlzLnBvcG92ZXIub24oZmUuQ2xvc2UsIHRoaXMub25Qb3BvdmVyQ2xvc2UpLCB0aGlzLmVuYWJsZVNob3J0Y3V0cygpLCB0aGlzLm5vZGVzLnRvb2xib3ggPSB0aGlzLnBvcG92ZXIuZ2V0RWxlbWVudCgpLCB0aGlzLm5vZGVzLnRvb2xib3guY2xhc3NMaXN0LmFkZChidC5DU1MudG9vbGJveCksIHRoaXMubm9kZXMudG9vbGJveDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBUb29sYm94IGhhcyB0aGUgRmxpcHBlciBhY3RpdmF0ZWQgYW5kIHRoZSBGbGlwcGVyIGhhcyBzZWxlY3RlZCBidXR0b25cbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHZhciBzO1xuICAgIHJldHVybiAocyA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaGFzRm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIHM7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLm5vZGVzICYmIHRoaXMubm9kZXMudG9vbGJveCAmJiAodGhpcy5ub2Rlcy50b29sYm94LnJlbW92ZSgpLCB0aGlzLm5vZGVzLnRvb2xib3ggPSBudWxsKSwgdGhpcy5yZW1vdmVBbGxTaG9ydGN1dHMoKSwgKHMgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgcy5vZmYoZmUuQ2xvc2UsIHRoaXMub25Qb3BvdmVyQ2xvc2UpO1xuICB9XG4gIC8qKlxuICAgKiBUb29sYm94IFRvb2wncyBidXR0b24gY2xpY2sgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgLSB0b29sIHR5cGUgdG8gYmUgYWN0aXZhdGVkXG4gICAqIEBwYXJhbSBibG9ja0RhdGFPdmVycmlkZXMgLSBCbG9jayBkYXRhIHByZWRlZmluZWQgYnkgdGhlIGFjdGl2YXRlZCBUb29sYm94IGl0ZW1cbiAgICovXG4gIHRvb2xCdXR0b25BY3RpdmF0ZWQocywgZSkge1xuICAgIHRoaXMuaW5zZXJ0TmV3QmxvY2socywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gVG9vbGJveCB3aXRoIFRvb2xzXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHZhciBzO1xuICAgIHRoaXMuaXNFbXB0eSB8fCAoKHMgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgcy5zaG93KCksIHRoaXMub3BlbmVkID0gITAsIHRoaXMuZW1pdChcbiAgICAgIFwidG9vbGJveC1vcGVuZWRcIlxuICAgICAgLyogT3BlbmVkICovXG4gICAgKSk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIFRvb2xib3hcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHZhciBzO1xuICAgIChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMuaGlkZSgpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmVtaXQoXG4gICAgICBcInRvb2xib3gtY2xvc2VkXCJcbiAgICAgIC8qIENsb3NlZCAqL1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIFRvb2xib3hcbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLm9wZW5lZCA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xuICB9XG4gIGdldCB0b29sc1RvQmVEaXNwbGF5ZWQoKSB7XG4gICAgY29uc3QgcyA9IFtdO1xuICAgIHJldHVybiB0aGlzLnRvb2xzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUudG9vbGJveCAmJiBzLnB1c2goZSk7XG4gICAgfSksIHM7XG4gIH1cbiAgZ2V0IHRvb2xib3hJdGVtc1RvQmVEaXNwbGF5ZWQoKSB7XG4gICAgY29uc3QgcyA9IChlLCB0KSA9PiAoe1xuICAgICAgaWNvbjogZS5pY29uLFxuICAgICAgdGl0bGU6ICQudChYLnRvb2xOYW1lcywgZS50aXRsZSB8fCBrZSh0Lm5hbWUpKSxcbiAgICAgIG5hbWU6IHQubmFtZSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy50b29sQnV0dG9uQWN0aXZhdGVkKHQubmFtZSwgZS5kYXRhKTtcbiAgICAgIH0sXG4gICAgICBzZWNvbmRhcnlMYWJlbDogdC5zaG9ydGN1dCA/IG50KHQuc2hvcnRjdXQpIDogXCJcIlxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5yZWR1Y2UoKGUsIHQpID0+IChBcnJheS5pc0FycmF5KHQudG9vbGJveCkgPyB0LnRvb2xib3guZm9yRWFjaCgobykgPT4ge1xuICAgICAgZS5wdXNoKHMobywgdCkpO1xuICAgIH0pIDogdC50b29sYm94ICE9PSB2b2lkIDAgJiYgZS5wdXNoKHModC50b29sYm94LCB0KSksIGUpLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZXJhdGUgYWxsIHRvb2xzIGFuZCBlbmFibGUgdGhlaXJzIHNob3J0Y3V0cyBpZiBzcGVjaWZpZWRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gcy5zaG9ydGN1dDtcbiAgICAgIGUgJiYgdGhpcy5lbmFibGVTaG9ydGN1dEZvclRvb2wocy5uYW1lLCBlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIHNob3J0Y3V0IEJsb2NrIFRvb2wgaW1wbGVtZW50ZWQgc2hvcnRjdXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvb2xOYW1lIC0gVG9vbCBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydGN1dCAtIHNob3J0Y3V0IGFjY29yZGluZyB0byB0aGUgU2hvcnRjdXREYXRhIE1vZHVsZSBmb3JtYXRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0Rm9yVG9vbChzLCBlKSB7XG4gICAgcmUuYWRkKHtcbiAgICAgIG5hbWU6IGUsXG4gICAgICBvbjogdGhpcy5hcGkudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBoYW5kbGVyOiAodCkgPT4ge1xuICAgICAgICB0LnByZXZlbnREZWZhdWx0KCksIHRoaXMuaW5zZXJ0TmV3QmxvY2socyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGFkZGVkIHNob3J0Y3V0c1xuICAgKiBGaXJlZCB3aGVuIHRoZSBSZWFkLU9ubHkgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgICovXG4gIHJlbW92ZUFsbFNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gcy5zaG9ydGN1dDtcbiAgICAgIGUgJiYgcmUucmVtb3ZlKHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLCBlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBuZXcgYmxvY2tcbiAgICogQ2FuIGJlIGNhbGxlZCB3aGVuIGJ1dHRvbiBjbGlja2VkIG9uIFRvb2xib3ggb3IgYnkgU2hvcnRjdXREYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gcHJlZGVmaW5lZCBCbG9jayBkYXRhXG4gICAqL1xuICBhc3luYyBpbnNlcnROZXdCbG9jayhzLCBlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCBvID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleCh0KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaSA9IG8uaXNFbXB0eSA/IHQgOiB0ICsgMTtcbiAgICBsZXQgbjtcbiAgICBpZiAoZSkge1xuICAgICAgY29uc3QgYSA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb21wb3NlQmxvY2tEYXRhKHMpO1xuICAgICAgbiA9IE9iamVjdC5hc3NpZ24oYSwgZSk7XG4gICAgfVxuICAgIGNvbnN0IHIgPSB0aGlzLmFwaS5ibG9ja3MuaW5zZXJ0KFxuICAgICAgcyxcbiAgICAgIG4sXG4gICAgICB2b2lkIDAsXG4gICAgICBpLFxuICAgICAgdm9pZCAwLFxuICAgICAgby5pc0VtcHR5XG4gICAgKTtcbiAgICByLmNhbGwocS5BUFBFTkRfQ0FMTEJBQ0spLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKGkpLCB0aGlzLmVtaXQoXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHtcbiAgICAgIGJsb2NrOiByXG4gICAgfSksIHRoaXMuYXBpLnRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufTtcbmxldCB6ZSA9IGJ0O1xuZ3QoW1xuICBhZVxuXSwgemUucHJvdG90eXBlLCBcInRvb2xzVG9CZURpc3BsYXllZFwiLCAxKTtcbmd0KFtcbiAgYWVcbl0sIHplLnByb3RvdHlwZSwgXCJ0b29sYm94SXRlbXNUb0JlRGlzcGxheWVkXCIsIDEpO1xuY29uc3QgbXQgPSBcImJsb2NrIGhvdmVyZWRcIjtcbmNsYXNzIGpvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24gLSBNb2R1bGUgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5jb25maWcgLSBFZGl0b3IncyBjb25maWdcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uZXZlbnRzRGlzcGF0Y2hlciAtIEVkaXRvcidzIGV2ZW50IGRpc3BhdGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSksIHRoaXMudG9vbHRpcCA9IG5ldyBGZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYmFyOiBcImNlLXRvb2xiYXJcIixcbiAgICAgIGNvbnRlbnQ6IFwiY2UtdG9vbGJhcl9fY29udGVudFwiLFxuICAgICAgYWN0aW9uczogXCJjZS10b29sYmFyX19hY3Rpb25zXCIsXG4gICAgICBhY3Rpb25zT3BlbmVkOiBcImNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZFwiLFxuICAgICAgdG9vbGJhck9wZW5lZDogXCJjZS10b29sYmFyLS1vcGVuZWRcIixcbiAgICAgIG9wZW5lZFRvb2xib3hIb2xkZXJNb2RpZmllcjogXCJjb2RleC1lZGl0b3ItLXRvb2xib3gtb3BlbmVkXCIsXG4gICAgICBwbHVzQnV0dG9uOiBcImNlLXRvb2xiYXJfX3BsdXNcIixcbiAgICAgIHBsdXNCdXR0b25TaG9ydGN1dDogXCJjZS10b29sYmFyX19wbHVzLXNob3J0Y3V0XCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXI6IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuXCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXJIaWRkZW46IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW5cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFRvb2xiYXIgb3BlbmluZyBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBvcGVuZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5DU1MudG9vbGJhck9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1YmxpYyBpbnRlcmZhY2UgZm9yIGFjY2Vzc2luZyB0aGUgVG9vbGJveFxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW5lZDogdGhpcy50b29sYm94SW5zdGFuY2Uub3BlbmVkLFxuICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgIH0sXG4gICAgICBvcGVuOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgPSB0aGlzLmhvdmVyZWRCbG9jaywgdGhpcy50b29sYm94SW5zdGFuY2Uub3BlbigpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZTogKCkgPT4gdGhpcy50b29sYm94SW5zdGFuY2UudG9nZ2xlKCksXG4gICAgICBoYXNGb2N1czogKCkgPT4gdGhpcy50b29sYm94SW5zdGFuY2UuaGFzRm9jdXMoKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIGFjdGlvbnMgYXBwZWFyYW5jZSBtYW5pcHVsYXRpb25zXG4gICAqL1xuICBnZXQgYmxvY2tBY3Rpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoaWRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmFjdGlvbnNPcGVuZWQpO1xuICAgICAgfSxcbiAgICAgIHNob3c6ICgpID0+IHtcbiAgICAgICAgdGhpcy5ub2Rlcy5hY3Rpb25zLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYWN0aW9uc09wZW5lZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kcyBmb3Igd29ya2luZyB3aXRoIEJsb2NrIFR1bmVzIHRvZ2dsZXJcbiAgICovXG4gIGdldCBibG9ja1R1bmVzVG9nZ2xlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZTogKCkgPT4gdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXJIaWRkZW4pLFxuICAgICAgc2hvdzogKCkgPT4gdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXJIaWRkZW4pXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyByZWFkLW9ubHkgbW9kZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIHJlYWQtb25seSBtb2RlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/ICh0aGlzLmRlc3Ryb3koKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5kZXN0cm95KCksIHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkpIDogKHRoaXMuZHJhd1VJKCksIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKSk7XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgVG9vbGJhciB0byB0aGUgcGFzc2VkIChvciBjdXJyZW50KSBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgLSBibG9jayB0byBtb3ZlIFRvb2xiYXIgbmVhciBpdFxuICAgKi9cbiAgbW92ZUFuZE9wZW4oZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spIHtcbiAgICBpZiAodGhpcy50b29sYm94SW5zdGFuY2Uub3BlbmVkICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkICYmIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSwgIWUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5ob3ZlcmVkQmxvY2sgPSBlO1xuICAgIGNvbnN0IHQgPSBlLmhvbGRlciwgeyBpc01vYmlsZTogbyB9ID0gdGhpcy5FZGl0b3IuVUksIGkgPSBlLnBsdWdpbnNDb250ZW50LCBuID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaSksIHIgPSBwYXJzZUludChuLnBhZGRpbmdUb3AsIDEwKSwgYSA9IHQub2Zmc2V0SGVpZ2h0O1xuICAgIGxldCBsO1xuICAgIG8gPyBsID0gdC5vZmZzZXRUb3AgKyBhIDogbCA9IHQub2Zmc2V0VG9wICsgciwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLnRvcCA9IGAke01hdGguZmxvb3IobCl9cHhgLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmxlbmd0aCA9PT0gMSAmJiBlLmlzRW1wdHkgPyB0aGlzLmJsb2NrVHVuZXNUb2dnbGVyLmhpZGUoKSA6IHRoaXMuYmxvY2tUdW5lc1RvZ2dsZXIuc2hvdygpLCB0aGlzLm9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdGhlIFRvb2xiYXJcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCB8fCAodGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MudG9vbGJhck9wZW5lZCksIHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKSwgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBUb29sYmFyIHdpdGggUGx1cyBCdXR0b24gYW5kIEFjdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB3aXRoQmxvY2tBY3Rpb25zIC0gYnkgZGVmYXVsdCwgVG9vbGJhciBvcGVucyB3aXRoIEJsb2NrIEFjdGlvbnMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgZmxhZyBhbGxvd3MgdG8gb3BlbiBUb29sYmFyIHdpdGhvdXQgQWN0aW9ucy5cbiAgICovXG4gIG9wZW4oZSA9ICEwKSB7XG4gICAgb2UoKCkgPT4ge1xuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MudG9vbGJhck9wZW5lZCksIGUgPyB0aGlzLmJsb2NrQWN0aW9ucy5zaG93KCkgOiB0aGlzLmJsb2NrQWN0aW9ucy5oaWRlKCk7XG4gICAgfSwgNTApKCk7XG4gIH1cbiAgLyoqXG4gICAqIERyYXdzIFRvb2xiYXIgZWxlbWVudHNcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2xiYXIpLCBbXCJjb250ZW50XCIsIFwiYWN0aW9uc1wiXS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0aGlzLm5vZGVzW3RdID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTW3RdKTtcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy53cmFwcGVyLCB0aGlzLm5vZGVzLmNvbnRlbnQpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmNvbnRlbnQsIHRoaXMubm9kZXMuYWN0aW9ucyksIHRoaXMubm9kZXMucGx1c0J1dHRvbiA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5wbHVzQnV0dG9uLCB7XG4gICAgICBpbm5lckhUTUw6IE1vXG4gICAgfSksIGQuYXBwZW5kKHRoaXMubm9kZXMuYWN0aW9ucywgdGhpcy5ub2Rlcy5wbHVzQnV0dG9uKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5wbHVzQnV0dG9uLCBcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMudG9vbHRpcC5oaWRlKCEwKSwgdGhpcy5wbHVzQnV0dG9uQ2xpY2tlZCgpO1xuICAgIH0sICExKTtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJC51aShYLnVpLnRvb2xiYXIudG9vbGJveCwgXCJBZGRcIikpKSwgZS5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MucGx1c0J1dHRvblNob3J0Y3V0LCB7XG4gICAgICB0ZXh0Q29udGVudDogXCJcdTIxRTUgVGFiXCJcbiAgICB9KSksIHRoaXMudG9vbHRpcC5vbkhvdmVyKHRoaXMubm9kZXMucGx1c0J1dHRvbiwgZSwge1xuICAgICAgaGlkaW5nRGVsYXk6IDQwMFxuICAgIH0pLCB0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlciA9IGQubWFrZShcInNwYW5cIiwgdGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVyLCB7XG4gICAgICBpbm5lckhUTUw6IElvXG4gICAgfSksIGQuYXBwZW5kKHRoaXMubm9kZXMuYWN0aW9ucywgdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIpLCB0aGlzLnRvb2x0aXAub25Ib3ZlcihcbiAgICAgIHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLFxuICAgICAgJC51aShYLnVpLmJsb2NrVHVuZXMudG9nZ2xlciwgXCJDbGljayB0byB0dW5lXCIpLFxuICAgICAge1xuICAgICAgICBoaWRpbmdEZWxheTogNDAwXG4gICAgICB9XG4gICAgKSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm1ha2VUb29sYm94KCkpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZ2V0RWxlbWVudCgpKSwgZC5hcHBlbmQodGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlciwgdGhpcy5ub2Rlcy53cmFwcGVyKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgVG9vbGJveCBpbnN0YW5jZSBhbmQgcmV0dXJuIGl0J3MgcmVuZGVyZWQgZWxlbWVudFxuICAgKi9cbiAgbWFrZVRvb2xib3goKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbGJveEluc3RhbmNlID0gbmV3IHplKHtcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMsXG4gICAgICB0b29sczogdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scyxcbiAgICAgIGkxOG5MYWJlbHM6IHtcbiAgICAgICAgZmlsdGVyOiAkLnVpKFgudWkucG9wb3ZlciwgXCJGaWx0ZXJcIiksXG4gICAgICAgIG5vdGhpbmdGb3VuZDogJC51aShYLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKVxuICAgICAgfVxuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihiZS5PcGVuZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihiZS5DbG9zZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihiZS5CbG9ja0FkZGVkLCAoeyBibG9jazogZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5nZXRCbG9ja0J5SWQoZS5pZCk7XG4gICAgICBpLmlucHV0cy5sZW5ndGggPT09IDAgJiYgKGkgPT09IHQubGFzdEJsb2NrID8gKHQuaW5zZXJ0QXRFbmQoKSwgby5zZXRUb0Jsb2NrKHQubGFzdEJsb2NrKSkgOiBvLnNldFRvQmxvY2sodC5uZXh0QmxvY2spKTtcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2UubWFrZSgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciBQbHVzIEJ1dHRvblxuICAgKi9cbiAgcGx1c0J1dHRvbkNsaWNrZWQoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCB0aGlzLnRvb2xib3hJbnN0YW5jZS50b2dnbGUoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIGJpbmRpbmdzXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlciwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCksIHRoaXMuc2V0dGluZ3NUb2dnbGVyQ2xpY2tlZCgpLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vcGVuZWQgJiYgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKSwgdGhpcy50b29sdGlwLmhpZGUoITApO1xuICAgIH0sICEwKSwgZWUoKSB8fCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24obXQsIChlKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCB8fCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vcGVuZWQgfHwgdGhpcy5tb3ZlQW5kT3BlbihlLmJsb2NrKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSBiaW5kaW5nc1xuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsaWNrcyBvbiB0aGUgQmxvY2sgU2V0dGluZ3MgdG9nZ2xlclxuICAgKi9cbiAgc2V0dGluZ3NUb2dnbGVyQ2xpY2tlZCgpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpIDogdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuKHRoaXMuaG92ZXJlZEJsb2NrKTtcbiAgfVxuICAvKipcbiAgICogRHJhd3MgVG9vbGJhciBVSVxuICAgKlxuICAgKiBUb29sYmFyIGNvbnRhaW5zIEJsb2NrU2V0dGluZ3MgYW5kIFRvb2xib3guXG4gICAqIFRoYXQncyB3aHkgYXQgZmlyc3Qgd2UgZHJhdyBpdHMgY29tcG9uZW50cyBhbmQgdGhlbiBUb29sYmFyIGl0c2VsZlxuICAgKlxuICAgKiBTdGVwczpcbiAgICogIC0gTWFrZSBUb29sYmFyIGRlcGVuZGVudCBjb21wb25lbnRzIGxpa2UgQmxvY2tTZXR0aW5ncywgVG9vbGJveCBhbmQgc28gb25cbiAgICogIC0gTWFrZSBpdHNlbGYgYW5kIGFwcGVuZCBkZXBlbmRlbnQgbm9kZXMgdG8gaXRzZWxmXG4gICAqXG4gICAqL1xuICBkcmF3VUkoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5tYWtlKCksIHRoaXMubWFrZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBjcmVhdGVkIGFuZCBzYXZlZCBIVE1MRWxlbWVudHNcbiAgICogSXQgaXMgdXNlZCBpbiBSZWFkLU9ubHkgbW9kZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMudG9vbGJveEluc3RhbmNlICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmRlc3Ryb3koKSwgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgfVxufVxudmFyIHllID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHNbcy5CbG9jayA9IDBdID0gXCJCbG9ja1wiLCBzW3MuSW5saW5lID0gMV0gPSBcIklubGluZVwiLCBzW3MuVHVuZSA9IDJdID0gXCJUdW5lXCIsIHMpKSh5ZSB8fCB7fSksIG1lID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuU2hvcnRjdXQgPSBcInNob3J0Y3V0XCIsIHMuVG9vbGJveCA9IFwidG9vbGJveFwiLCBzLkVuYWJsZWRJbmxpbmVUb29scyA9IFwiaW5saW5lVG9vbGJhclwiLCBzLkVuYWJsZWRCbG9ja1R1bmVzID0gXCJ0dW5lc1wiLCBzLkNvbmZpZyA9IFwiY29uZmlnXCIsIHMpKShtZSB8fCB7fSksIGt0ID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuU2hvcnRjdXQgPSBcInNob3J0Y3V0XCIsIHMuU2FuaXRpemVDb25maWcgPSBcInNhbml0aXplXCIsIHMpKShrdCB8fCB7fSksIHNlID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuSXNFbmFibGVkTGluZUJyZWFrcyA9IFwiZW5hYmxlTGluZUJyZWFrc1wiLCBzLlRvb2xib3ggPSBcInRvb2xib3hcIiwgcy5Db252ZXJzaW9uQ29uZmlnID0gXCJjb252ZXJzaW9uQ29uZmlnXCIsIHMuSXNSZWFkT25seVN1cHBvcnRlZCA9IFwiaXNSZWFkT25seVN1cHBvcnRlZFwiLCBzLlBhc3RlQ29uZmlnID0gXCJwYXN0ZUNvbmZpZ1wiLCBzKSkoc2UgfHwge30pLCBqZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLklzSW5saW5lID0gXCJpc0lubGluZVwiLCBzLlRpdGxlID0gXCJ0aXRsZVwiLCBzKSkoamUgfHwge30pLCB2dCA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLklzVHVuZSA9IFwiaXNUdW5lXCIsIHMpKSh2dCB8fCB7fSk7XG5jbGFzcyBVZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnMgLSBDb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZTogZSxcbiAgICBjb25zdHJ1Y3RhYmxlOiB0LFxuICAgIGNvbmZpZzogbyxcbiAgICBhcGk6IGksXG4gICAgaXNEZWZhdWx0OiBuLFxuICAgIGlzSW50ZXJuYWw6IHIgPSAhMSxcbiAgICBkZWZhdWx0UGxhY2Vob2xkZXI6IGFcbiAgfSkge1xuICAgIHRoaXMuYXBpID0gaSwgdGhpcy5uYW1lID0gZSwgdGhpcy5jb25zdHJ1Y3RhYmxlID0gdCwgdGhpcy5jb25maWcgPSBvLCB0aGlzLmlzRGVmYXVsdCA9IG4sIHRoaXMuaXNJbnRlcm5hbCA9IHIsIHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyID0gYTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbmZpZy5jb25maWcgfHwge307XG4gICAgcmV0dXJuIHRoaXMuaXNEZWZhdWx0ICYmICEoXCJwbGFjZWhvbGRlclwiIGluIGUpICYmIHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyICYmIChlLnBsYWNlaG9sZGVyID0gdGhpcy5kZWZhdWx0UGxhY2Vob2xkZXIpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBUb29sJ3MgcmVzZXQgbWV0aG9kXG4gICAqL1xuICByZXNldCgpIHtcbiAgICBpZiAoRCh0aGlzLmNvbnN0cnVjdGFibGUucmVzZXQpKVxuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5yZXNldCgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBUb29sJ3MgcHJlcGFyZSBtZXRob2RcbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgaWYgKEQodGhpcy5jb25zdHJ1Y3RhYmxlLnByZXBhcmUpKVxuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5wcmVwYXJlKHtcbiAgICAgICAgdG9vbE5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzXG4gICAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzaG9ydGN1dCBmb3IgVG9vbCAoaW50ZXJuYWwgb3Igc3BlY2lmaWVkIGJ5IHVzZXIpXG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuY29uc3RydWN0YWJsZS5zaG9ydGN1dDtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2hvcnRjdXQgfHwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sJ3Mgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBzYW5pdGl6ZUNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlLnNhbml0aXplIHx8IHt9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgaW5saW5lXG4gICAqL1xuICBpc0lubGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAxO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgYmxvY2tcbiAgICovXG4gIGlzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIHR1bmVcbiAgICovXG4gIGlzVHVuZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAyO1xuICB9XG59XG5jbGFzcyBVbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLkNTUyA9IHtcbiAgICAgIGlubGluZVRvb2xiYXI6IFwiY2UtaW5saW5lLXRvb2xiYXJcIixcbiAgICAgIGlubGluZVRvb2xiYXJTaG93ZWQ6IFwiY2UtaW5saW5lLXRvb2xiYXItLXNob3dlZFwiLFxuICAgICAgaW5saW5lVG9vbGJhckxlZnRPcmllbnRlZDogXCJjZS1pbmxpbmUtdG9vbGJhci0tbGVmdC1vcmllbnRlZFwiLFxuICAgICAgaW5saW5lVG9vbGJhclJpZ2h0T3JpZW50ZWQ6IFwiY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkXCIsXG4gICAgICBpbmxpbmVUb29sYmFyU2hvcnRjdXQ6IFwiY2UtaW5saW5lLXRvb2xiYXJfX3Nob3J0Y3V0XCIsXG4gICAgICBidXR0b25zV3JhcHBlcjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fYnV0dG9uc1wiLFxuICAgICAgYWN0aW9uc1dyYXBwZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2FjdGlvbnNcIixcbiAgICAgIGlubGluZVRvb2xCdXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGlucHV0RmllbGQ6IFwiY2R4LWlucHV0XCIsXG4gICAgICBmb2N1c2VkQnV0dG9uOiBcImNlLWlubGluZS10b29sLS1mb2N1c2VkXCIsXG4gICAgICBjb252ZXJzaW9uVG9nZ2xlcjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd25cIixcbiAgICAgIGNvbnZlcnNpb25Ub2dnbGVyQXJyb3c6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93XCIsXG4gICAgICBjb252ZXJzaW9uVG9nZ2xlckhpZGRlbjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tLWhpZGRlblwiLFxuICAgICAgY29udmVyc2lvblRvZ2dsZXJDb250ZW50OiBcImNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1jb250ZW50XCIsXG4gICAgICB0b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX3RvZ2dsZXItYW5kLWJ1dHRvbi13cmFwcGVyXCJcbiAgICB9LCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnRvb2xiYXJWZXJ0aWNhbE1hcmdpbiA9IGVlKCkgPyAyMCA6IDYsIHRoaXMuYnV0dG9uc0xpc3QgPSBudWxsLCB0aGlzLndpZHRoID0gMCwgdGhpcy5mbGlwcGVyID0gbnVsbCwgdGhpcy50b29sdGlwID0gbmV3IEZlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyAodGhpcy5kZXN0cm95KCksIHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLmRlc3Ryb3koKSkgOiB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogIE1vdmluZyAvIGFwcGVhcmFuY2VcbiAgICogIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICovXG4gIC8qKlxuICAgKiBTaG93cyBJbmxpbmUgVG9vbGJhciBpZiBzb21ldGhpbmcgaXMgc2VsZWN0ZWRcbiAgICpcbiAgICogQHBhcmFtIFtuZWVkVG9DbG9zZV0gLSBwYXNzIHRydWUgdG8gY2xvc2UgdG9vbGJhciBpZiBpdCBpcyBub3QgYWxsb3dlZC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXZvaWQgdG8gdXNlIGl0IGp1c3QgZm9yIGNsb3NpbmcgSVQsIGJldHRlciBjYWxsIC5jbG9zZSgpIGNsZWFybHkuXG4gICAqIEBwYXJhbSBbbmVlZFRvU2hvd0NvbnZlcnNpb25Ub29sYmFyXSAtIHBhc3MgZmFsc2UgdG8gbm90IHRvIHNob3cgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICB0cnlUb1Nob3coZSA9ICExLCB0ID0gITApIHtcbiAgICBpZiAoIXRoaXMuYWxsb3dlZFRvU2hvdygpKSB7XG4gICAgICBlICYmIHRoaXMuY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tb3ZlKCksIHRoaXMub3Blbih0KSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHNlbGVjdGVkIHRleHRcbiAgICovXG4gIG1vdmUoKSB7XG4gICAgY29uc3QgZSA9IG0ucmVjdCwgdCA9IHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSB7XG4gICAgICB4OiBlLnggLSB0LmxlZnQsXG4gICAgICB5OiBlLnkgKyBlLmhlaWdodCAtIC8vICsgd2luZG93LnNjcm9sbFlcbiAgICAgIHQudG9wICsgdGhpcy50b29sYmFyVmVydGljYWxNYXJnaW5cbiAgICB9O1xuICAgIGUud2lkdGggJiYgKG8ueCArPSBNYXRoLmZsb29yKGUud2lkdGggLyAyKSk7XG4gICAgY29uc3QgaSA9IG8ueCAtIHRoaXMud2lkdGggLyAyLCBuID0gby54ICsgdGhpcy53aWR0aCAvIDI7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyTGVmdE9yaWVudGVkLFxuICAgICAgaSA8IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LmxlZnRcbiAgICApLCB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIHRoaXMuQ1NTLmlubGluZVRvb2xiYXJSaWdodE9yaWVudGVkLFxuICAgICAgbiA+IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LnJpZ2h0XG4gICAgKSwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKG8ueCkgKyBcInB4XCIsIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS50b3AgPSBNYXRoLmZsb29yKG8ueSkgKyBcInB4XCI7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGVzIElubGluZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLm9wZW5lZCAmJiAodGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkIHx8ICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5pbmxpbmVUb29sYmFyU2hvd2VkKSwgQXJyYXkuZnJvbSh0aGlzLnRvb2xzSW5zdGFuY2VzLmVudHJpZXMoKSkuZm9yRWFjaCgoW2UsIHRdKSA9PiB7XG4gICAgICBjb25zdCBvID0gdGhpcy5nZXRUb29sU2hvcnRjdXQoZSk7XG4gICAgICBvICYmIHJlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgbyksIEQodC5jbGVhcikgJiYgdC5jbGVhcigpO1xuICAgIH0pLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5jbG9zZSgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSBbbmVlZFRvU2hvd0NvbnZlcnNpb25Ub29sYmFyXSAtIHBhc3MgZmFsc2UgdG8gbm90IHRvIHNob3cgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBvcGVuKGUgPSAhMCkge1xuICAgIGlmICh0aGlzLm9wZW5lZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFkZFRvb2xzRmlsdGVyZWQoKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuaW5saW5lVG9vbGJhclNob3dlZCksIHRoaXMuYnV0dG9uc0xpc3QgPSB0aGlzLm5vZGVzLmJ1dHRvbnMucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5DU1MuaW5saW5lVG9vbEJ1dHRvbn1gKSwgdGhpcy5vcGVuZWQgPSAhMCwgZSAmJiB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5oYXNUb29scygpID8gdGhpcy5zZXRDb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQoKSA6IHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuaGlkZGVuID0gITA7XG4gICAgbGV0IHQgPSBBcnJheS5mcm9tKHRoaXMuYnV0dG9uc0xpc3QpO1xuICAgIHQudW5zaGlmdCh0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyKSwgdCA9IHQuZmlsdGVyKChvKSA9PiAhby5oaWRkZW4pLCB0aGlzLmZsaXBwZXIuYWN0aXZhdGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG5vZGUgaXMgY29udGFpbmVkIGJ5IElubGluZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBcdTIwMTQgbm9kZSB0byBjaGVja1xuICAgKi9cbiAgY29udGFpbnNOb2RlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyLmNvbnRhaW5zKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIFVJIGFuZCBpdHMgY29tcG9uZW50c1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmZsaXBwZXIgJiYgKHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMuZmxpcHBlciA9IG51bGwpLCB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMudG9vbHRpcC5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2luZyBET01cbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFtcbiAgICAgIHRoaXMuQ1NTLmlubGluZVRvb2xiYXIsXG4gICAgICAuLi50aGlzLmlzUnRsID8gW3RoaXMuRWRpdG9yLlVJLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyKSwgdGhpcy5ub2Rlcy5idXR0b25zID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmJ1dHRvbnNXcmFwcGVyKSwgdGhpcy5ub2Rlcy5hY3Rpb25zID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmFjdGlvbnNXcmFwcGVyKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy53cmFwcGVyLCBcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgZS50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5DU1MuYWN0aW9uc1dyYXBwZXJ9YCkgfHwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIFt0aGlzLm5vZGVzLnRvZ2dsZXJBbmRCdXR0b25zV3JhcHBlciwgdGhpcy5ub2Rlcy5hY3Rpb25zXSksIGQuYXBwZW5kKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMud3JhcHBlciksIHRoaXMuYWRkQ29udmVyc2lvblRvZ2dsZXIoKSwgZC5hcHBlbmQodGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIsIHRoaXMubm9kZXMuYnV0dG9ucyksIHRoaXMucHJlcGFyZUNvbnZlcnNpb25Ub29sYmFyKCksIHRoaXMucmVjYWxjdWxhdGVXaWR0aCgpLCB0aGlzLmVuYWJsZUZsaXBwZXIoKTtcbiAgfVxuICAvKipcbiAgICogTmVlZCB0byBzaG93IElubGluZSBUb29sYmFyIG9yIG5vdFxuICAgKi9cbiAgYWxsb3dlZFRvU2hvdygpIHtcbiAgICBjb25zdCBlID0gW1wiSU1HXCIsIFwiSU5QVVRcIl0sIHQgPSBtLmdldCgpLCBvID0gbS50ZXh0O1xuICAgIGlmICghdCB8fCAhdC5hbmNob3JOb2RlIHx8IHQuaXNDb2xsYXBzZWQgfHwgby5sZW5ndGggPCAxKVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IGkgPSBkLmlzRWxlbWVudCh0LmFuY2hvck5vZGUpID8gdC5hbmNob3JOb2RlIDogdC5hbmNob3JOb2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHQgJiYgZS5pbmNsdWRlcyhpLnRhZ05hbWUpIHx8IGkuY2xvc2VzdCgnW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKSA9PT0gbnVsbClcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCByID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrKHQuYW5jaG9yTm9kZSk7XG4gICAgcmV0dXJuIHIgPyByLnRvb2wuaW5saW5lVG9vbHMuc2l6ZSAhPT0gMCA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZWNhbGN1bGF0ZSBpbmxpbmUgdG9vbGJhciB3aWR0aFxuICAgKi9cbiAgcmVjYWxjdWxhdGVXaWR0aCgpIHtcbiAgICB0aGlzLndpZHRoID0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0b2dnbGVyIGZvciBDb252ZXJzaW9uIERyb3Bkb3duXG4gICAqIGFuZCBwcmVwZW5kIGl0IHRvIHRoZSBidXR0b25zIGxpc3RcbiAgICovXG4gIGFkZENvbnZlcnNpb25Ub2dnbGVyKCkge1xuICAgIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuY29udmVyc2lvblRvZ2dsZXIpLCB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyQ29udGVudCA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5jb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQpO1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuY29udmVyc2lvblRvZ2dsZXJBcnJvdywge1xuICAgICAgaW5uZXJIVE1MOiBwdFxuICAgIH0pO1xuICAgIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQpLCB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLmFwcGVuZENoaWxkKGUpLCB0aGlzLm5vZGVzLnRvZ2dsZXJBbmRCdXR0b25zV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlciwgXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci50b2dnbGUoKHQpID0+IHtcbiAgICAgICAgIXQgJiYgdGhpcy5vcGVuZWQgPyB0aGlzLmZsaXBwZXIuYWN0aXZhdGUoKSA6IHRoaXMub3BlbmVkICYmIHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KSwgZWUoKSA9PT0gITEgJiYgdGhpcy50b29sdGlwLm9uSG92ZXIodGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlciwgJC51aShYLnVpLmlubGluZVRvb2xiYXIuY29udmVydGVyLCBcIkNvbnZlcnQgdG9cIiksIHtcbiAgICAgIHBsYWNlbWVudDogXCJ0b3BcIixcbiAgICAgIGhpZGluZ0RlbGF5OiAxMDBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlcyBDb252ZXJzaW9uIERyb3Bkb3duIGNvbnRlbnQgZm9yIGN1cnJlbnQgYmxvY2sncyBUb29sXG4gICAqL1xuICBhc3luYyBzZXRDb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogdCB9ID0gZSwgbyA9IHQubmFtZSwgaSA9IHQudG9vbC5jb252ZXJzaW9uQ29uZmlnLCBuID0gaSAmJiBpLmV4cG9ydDtcbiAgICB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLmhpZGRlbiA9ICFuLCB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLmNsYXNzTGlzdC50b2dnbGUodGhpcy5DU1MuY29udmVyc2lvblRvZ2dsZXJIaWRkZW4sICFuKTtcbiAgICBjb25zdCByID0gYXdhaXQgdC5nZXRBY3RpdmVUb29sYm94RW50cnkoKSB8fCB7fTtcbiAgICB0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyQ29udGVudC5pbm5lckhUTUwgPSByLmljb24gfHwgci50aXRsZSB8fCBrZShvKTtcbiAgfVxuICAvKipcbiAgICogTWFrZXMgdGhlIENvbnZlcnNpb24gRHJvcGRvd25cbiAgICovXG4gIHByZXBhcmVDb252ZXJzaW9uVG9vbGJhcigpIHtcbiAgICBjb25zdCBlID0gdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIubWFrZSgpO1xuICAgIGQuYXBwZW5kKHRoaXMubm9kZXMud3JhcHBlciwgZSk7XG4gIH1cbiAgLyoqXG4gICAqICBXb3JraW5nIHdpdGggVG9vbHNcbiAgICogIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICovXG4gIC8qKlxuICAgKiBBcHBlbmQgb25seSBhbGxvd2VkIFRvb2xzXG4gICAqL1xuICBhZGRUb29sc0ZpbHRlcmVkKCkge1xuICAgIGNvbnN0IGUgPSBtLmdldCgpLCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrKGUuYW5jaG9yTm9kZSk7XG4gICAgdGhpcy5ub2Rlcy5idXR0b25zLmlubmVySFRNTCA9IFwiXCIsIHRoaXMubm9kZXMuYWN0aW9ucy5pbm5lckhUTUwgPSBcIlwiLCB0aGlzLnRvb2xzSW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgQXJyYXkuZnJvbSh0LnRvb2wuaW5saW5lVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHRoaXMuYWRkVG9vbChvKTtcbiAgICB9KSwgdGhpcy5yZWNhbGN1bGF0ZVdpZHRoKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCB0b29sIGJ1dHRvbiBhbmQgYWN0aXZhdGUgY2xpY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7SW5saW5lVG9vbH0gdG9vbCAtIElubGluZVRvb2wgb2JqZWN0XG4gICAqL1xuICBhZGRUb29sKGUpIHtcbiAgICBjb25zdCB0ID0gZS5jcmVhdGUoKSwgbyA9IHQucmVuZGVyKCk7XG4gICAgaWYgKCFvKSB7XG4gICAgICBUKFwiUmVuZGVyIG1ldGhvZCBtdXN0IHJldHVybiBhbiBpbnN0YW5jZSBvZiBOb2RlXCIsIFwid2FyblwiLCBlLm5hbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoby5kYXRhc2V0LnRvb2wgPSBlLm5hbWUsIHRoaXMubm9kZXMuYnV0dG9ucy5hcHBlbmRDaGlsZChvKSwgdGhpcy50b29sc0luc3RhbmNlcy5zZXQoZS5uYW1lLCB0KSwgRCh0LnJlbmRlckFjdGlvbnMpKSB7XG4gICAgICBjb25zdCBhID0gdC5yZW5kZXJBY3Rpb25zKCk7XG4gICAgICB0aGlzLm5vZGVzLmFjdGlvbnMuYXBwZW5kQ2hpbGQoYSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzLm9uKG8sIFwiY2xpY2tcIiwgKGEpID0+IHtcbiAgICAgIHRoaXMudG9vbENsaWNrZWQodCksIGEucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICBjb25zdCBpID0gdGhpcy5nZXRUb29sU2hvcnRjdXQoZS5uYW1lKTtcbiAgICBpZiAoaSlcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZW5hYmxlU2hvcnRjdXRzKHQsIGkpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgY29uc3QgbiA9IGQubWFrZShcImRpdlwiKSwgciA9ICQudChcbiAgICAgIFgudG9vbE5hbWVzLFxuICAgICAgZS50aXRsZSB8fCBrZShlLm5hbWUpXG4gICAgKTtcbiAgICBuLmFwcGVuZENoaWxkKGQudGV4dChyKSksIGkgJiYgbi5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuaW5saW5lVG9vbGJhclNob3J0Y3V0LCB7XG4gICAgICB0ZXh0Q29udGVudDogbnQoaSlcbiAgICB9KSksIGVlKCkgPT09ICExICYmIHRoaXMudG9vbHRpcC5vbkhvdmVyKG8sIG4sIHtcbiAgICAgIHBsYWNlbWVudDogXCJ0b3BcIixcbiAgICAgIGhpZGluZ0RlbGF5OiAxMDBcbiAgICB9KSwgdC5jaGVja1N0YXRlKG0uZ2V0KCkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc2hvcnRjdXQgbmFtZSBmb3IgdG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgXHUyMDE0IFRvb2wgbmFtZVxuICAgKi9cbiAgZ2V0VG9vbFNob3J0Y3V0KGUpIHtcbiAgICBjb25zdCB7IFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IHQuaW5saW5lVG9vbHMuZ2V0KGUpLCBpID0gdC5pbnRlcm5hbC5pbmxpbmVUb29scztcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpLmtleXMoKSkuaW5jbHVkZXMoZSkgPyB0aGlzLmlubGluZVRvb2xzW2VdW2t0LlNob3J0Y3V0XSA6IG8uc2hvcnRjdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBUb29sIHNob3J0Y3V0IHdpdGggRWRpdG9yIFNob3J0Y3V0cyBNb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIHtJbmxpbmVUb29sfSB0b29sIC0gVG9vbCBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBzaG9ydGN1dCBhY2NvcmRpbmcgdG8gdGhlIFNob3J0Y3V0RGF0YSBNb2R1bGUgZm9ybWF0XG4gICAqL1xuICBlbmFibGVTaG9ydGN1dHMoZSwgdCkge1xuICAgIHJlLmFkZCh7XG4gICAgICBuYW1lOiB0LFxuICAgICAgaGFuZGxlcjogKG8pID0+IHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlcjtcbiAgICAgICAgaSAmJiBpLnRvb2wuZW5hYmxlZElubGluZVRvb2xzICYmIChvLnByZXZlbnREZWZhdWx0KCksIHRoaXMudG9vbENsaWNrZWQoZSkpO1xuICAgICAgfSxcbiAgICAgIG9uOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvclxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbmxpbmUgVG9vbCBidXR0b24gY2xpY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7SW5saW5lVG9vbH0gdG9vbCAtIFRvb2wncyBpbnN0YW5jZVxuICAgKi9cbiAgdG9vbENsaWNrZWQoZSkge1xuICAgIGNvbnN0IHQgPSBtLnJhbmdlO1xuICAgIGUuc3Vycm91bmQodCksIHRoaXMuY2hlY2tUb29sc1N0YXRlKCksIGUucmVuZGVyQWN0aW9ucyAhPT0gdm9pZCAwICYmIHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIFRvb2xzYCBzdGF0ZSBieSBzZWxlY3Rpb25cbiAgICovXG4gIGNoZWNrVG9vbHNTdGF0ZSgpIHtcbiAgICB0aGlzLnRvb2xzSW5zdGFuY2VzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUuY2hlY2tTdGF0ZShtLmdldCgpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGlubGluZSB0b29scyB0b29sc1xuICAgKiBUb29scyB0aGF0IGhhcyBpc0lubGluZSBpcyB0cnVlXG4gICAqL1xuICBnZXQgaW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuRWRpdG9yLlRvb2xzLmlubGluZVRvb2xzLmVudHJpZXMoKSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICBlW3RdID0gby5jcmVhdGUoKTtcbiAgICB9KSwgZTtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgdG8gbGVhZiBidXR0b25zIGJ5IGFycm93cyAvIHRhYlxuICAgKiBCdXR0b25zIHdpbGwgYmUgZmlsbGVkIG9uIG9wZW5pbmdcbiAgICovXG4gIGVuYWJsZUZsaXBwZXIoKSB7XG4gICAgdGhpcy5mbGlwcGVyID0gbmV3IEcoe1xuICAgICAgZm9jdXNlZEl0ZW1DbGFzczogdGhpcy5DU1MuZm9jdXNlZEJ1dHRvbixcbiAgICAgIGFsbG93ZWRLZXlzOiBbXG4gICAgICAgIEIuRU5URVIsXG4gICAgICAgIEIuVEFCXG4gICAgICBdXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzICRvIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBbGwga2V5ZG93bnMgb24gQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGtleWRvd24oZSkge1xuICAgIHN3aXRjaCAodGhpcy5iZWZvcmVLZXlkb3duUHJvY2Vzc2luZyhlKSwgZS5rZXlDb2RlKSB7XG4gICAgICBjYXNlIEIuQkFDS1NQQUNFOlxuICAgICAgICB0aGlzLmJhY2tzcGFjZShlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuRU5URVI6XG4gICAgICAgIHRoaXMuZW50ZXIoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLkRPV046XG4gICAgICBjYXNlIEIuUklHSFQ6XG4gICAgICAgIHRoaXMuYXJyb3dSaWdodEFuZERvd24oZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLlVQOlxuICAgICAgY2FzZSBCLkxFRlQ6XG4gICAgICAgIHRoaXMuYXJyb3dMZWZ0QW5kVXAoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLlRBQjpcbiAgICAgICAgdGhpcy50YWJQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVzIG9uIGtleWRvd24gYmVmb3JlIGV2ZW50IHByb2Nlc3NpbmdcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGJlZm9yZUtleWRvd25Qcm9jZXNzaW5nKGUpIHtcbiAgICB0aGlzLm5lZWRUb29sYmFyQ2xvc2luZyhlKSAmJiB0dChlLmtleUNvZGUpICYmICh0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksIHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLmNsb3NlKCksIGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5zaGlmdEtleSB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyRm9jdXNlZCgpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKSkpO1xuICB9XG4gIC8qKlxuICAgKiBLZXkgdXAgb24gQmxvY2s6XG4gICAqIC0gc2hvd3MgSW5saW5lIFRvb2xiYXIgaWYgc29tZXRoaW5nIHNlbGVjdGVkXG4gICAqIC0gc2hvd3MgY29udmVyc2lvbiB0b29sYmFyIHdpdGggODUlIG9mIGJsb2NrIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5dXAgZXZlbnRcbiAgICovXG4gIGtleXVwKGUpIHtcbiAgICBlLnNoaWZ0S2V5IHx8IHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gVG9vbGJveCB0byBsZWFmIFRvb2xzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSB0YWIga2V5ZG93biBldmVudFxuICAgKi9cbiAgdGFiUHJlc3NlZChlKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIElubGluZVRvb2xiYXI6IG8sIENvbnZlcnNpb25Ub29sYmFyOiBpIH0gPSB0aGlzLkVkaXRvciwgbiA9IHQuY3VycmVudEJsb2NrO1xuICAgIGlmICghbilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByID0gbi5pc0VtcHR5LCBhID0gbi50b29sLmlzRGVmYXVsdCAmJiByLCBsID0gIXIgJiYgaS5vcGVuZWQsIGMgPSAhciAmJiAhbS5pc0NvbGxhcHNlZCAmJiBvLm9wZW5lZDtcbiAgICBhID8gdGhpcy5hY3RpdmF0ZVRvb2xib3goKSA6ICFsICYmICFjICYmIHRoaXMuYWN0aXZhdGVCbG9ja1NldHRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBkcm9wIHRhcmdldCBzdHlsZXNcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGV2ZW50IC0gZHJhZyBvdmVyIGV2ZW50XG4gICAqL1xuICBkcmFnT3ZlcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGRyb3AgdGFyZ2V0IHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBldmVudCAtIGRyYWcgbGVhdmUgZXZlbnRcbiAgICovXG4gIGRyYWdMZWF2ZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogQ29weWluZyBzZWxlY3RlZCBibG9ja3NcbiAgICogQmVmb3JlIHB1dHRpbmcgdG8gdGhlIGNsaXBib2FyZCB3ZSBzYW5pdGl6ZSBhbGwgYmxvY2tzIGFuZCB0aGVuIGNvcHkgdG8gdGhlIGNsaXBib2FyZFxuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZEMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKTtcbiAgfVxuICAvKipcbiAgICogQ29weSBhbmQgRGVsZXRlIHNlbGVjdGVkIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZFgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQsIEJsb2NrTWFuYWdlcjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBvLnJlbW92ZVNlbGVjdGVkQmxvY2tzKCksIHIgPSBvLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgobiwgITApO1xuICAgICAgaS5zZXRUb0Jsb2NrKHIsIGkucG9zaXRpb25zLlNUQVJUKSwgdC5jbGVhclNlbGVjdGlvbihlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRU5URVIgcHJlc3NlZCBvbiBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgZW50ZXIoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBVSTogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaWYgKHQuY3VycmVudEJsb2NrLnRvb2wuaXNMaW5lQnJlYWtzRW5hYmxlZCB8fCBvLnNvbWVUb29sYmFyT3BlbmVkICYmIG8uc29tZUZsaXBwZXJCdXR0b25Gb2N1c2VkIHx8IGUuc2hpZnRLZXkpXG4gICAgICByZXR1cm47XG4gICAgbGV0IG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrO1xuICAgIHRoaXMuRWRpdG9yLkNhcmV0LmlzQXRTdGFydCAmJiAhdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5oYXNNZWRpYSA/IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCkgOiB0aGlzLkVkaXRvci5DYXJldC5pc0F0RW5kID8gbiA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCArIDEpIDogbiA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zcGxpdCgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKG4pLCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKG4pLCBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBiYWNrc3BhY2Uga2V5ZG93biBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgYmFja3NwYWNlKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvciwgbiA9IHQuY3VycmVudEJsb2NrLCByID0gbi50b29sO1xuICAgIGlmIChuLnNlbGVjdGVkIHx8IG4uaXNFbXB0eSAmJiBuLmN1cnJlbnRJbnB1dCA9PT0gbi5maXJzdElucHV0KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBjID0gdC5jdXJyZW50QmxvY2tJbmRleDtcbiAgICAgIHQucHJldmlvdXNCbG9jayAmJiB0LnByZXZpb3VzQmxvY2suaW5wdXRzLmxlbmd0aCA9PT0gMCA/IHQucmVtb3ZlQmxvY2soYyAtIDEpIDogdC5yZW1vdmVCbG9jaygpLCBpLnNldFRvQmxvY2soXG4gICAgICAgIHQuY3VycmVudEJsb2NrLFxuICAgICAgICBjID8gaS5wb3NpdGlvbnMuRU5EIDogaS5wb3NpdGlvbnMuU1RBUlRcbiAgICAgICksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgby5jbGVhclNlbGVjdGlvbihlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHIuaXNMaW5lQnJlYWtzRW5hYmxlZCAmJiAhaS5pc0F0U3RhcnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYSA9IHQuY3VycmVudEJsb2NrSW5kZXggPT09IDA7XG4gICAgaS5pc0F0U3RhcnQgJiYgbS5pc0NvbGxhcHNlZCAmJiBuLmN1cnJlbnRJbnB1dCA9PT0gbi5maXJzdElucHV0ICYmICFhICYmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMubWVyZ2VCbG9ja3MoKSk7XG4gIH1cbiAgLyoqXG4gICAqIE1lcmdlIGN1cnJlbnQgYW5kIHByZXZpb3VzIEJsb2NrcyBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdHlwZVxuICAgKi9cbiAgbWVyZ2VCbG9ja3MoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIENhcmV0OiB0LCBUb29sYmFyOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IGUucHJldmlvdXNCbG9jaywgbiA9IGUuY3VycmVudEJsb2NrO1xuICAgIGlmIChuLm5hbWUgIT09IGkubmFtZSB8fCAhaS5tZXJnZWFibGUpIHtcbiAgICAgIGlmIChpLmlucHV0cy5sZW5ndGggPT09IDAgfHwgaS5pc0VtcHR5KSB7XG4gICAgICAgIGUucmVtb3ZlQmxvY2soZS5jdXJyZW50QmxvY2tJbmRleCAtIDEpLCB0LnNldFRvQmxvY2soZS5jdXJyZW50QmxvY2spLCBvLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHQubmF2aWdhdGVQcmV2aW91cygpICYmIG8uY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdC5jcmVhdGVTaGFkb3coaS5wbHVnaW5zQ29udGVudCksIGUubWVyZ2VCbG9ja3MoaSwgbikudGhlbigoKSA9PiB7XG4gICAgICB0LnJlc3RvcmVDYXJldChpLnBsdWdpbnNDb250ZW50KSwgaS5wbHVnaW5zQ29udGVudC5ub3JtYWxpemUoKSwgby5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcmlnaHQgYW5kIGRvd24ga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93UmlnaHRBbmREb3duKGUpIHtcbiAgICBjb25zdCB0ID0gRy51c2VkS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpICYmICghZS5zaGlmdEtleSB8fCBlLmtleUNvZGUgPT09IEIuVEFCKTtcbiAgICBpZiAodGhpcy5FZGl0b3IuVUkuc29tZVRvb2xiYXJPcGVuZWQgJiYgdClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXJGb2N1c2VkKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQ2FyZXQuaXNBdEVuZCB8fCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbnlCbG9ja1NlbGVjdGVkO1xuICAgIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSA9PT0gQi5ET1dOICYmIG8pIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIChlLmtleUNvZGUgPT09IEIuRE9XTiB8fCBlLmtleUNvZGUgPT09IEIuUklHSFQgJiYgIXRoaXMuaXNSdGwgPyB0aGlzLkVkaXRvci5DYXJldC5uYXZpZ2F0ZU5leHQoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSkgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBvZSgoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCk7XG4gICAgfSwgMjApKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbGVmdCBhbmQgdXAga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93TGVmdEFuZFVwKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuVUkuc29tZVRvb2xiYXJPcGVuZWQpIHtcbiAgICAgIGlmIChHLnVzZWRLZXlzLmluY2x1ZGVzKGUua2V5Q29kZSkgJiYgKCFlLnNoaWZ0S2V5IHx8IGUua2V5Q29kZSA9PT0gQi5UQUIpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLkVkaXRvci5VSS5jbG9zZUFsbFRvb2xiYXJzKCk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhckZvY3VzZWQoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5DYXJldC5pc0F0U3RhcnQgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uYW55QmxvY2tTZWxlY3RlZDtcbiAgICBpZiAoZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT09IEIuVVAgJiYgdCkge1xuICAgICAgdGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi50b2dnbGVCbG9ja1NlbGVjdGVkU3RhdGUoITEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoZS5rZXlDb2RlID09PSBCLlVQIHx8IGUua2V5Q29kZSA9PT0gQi5MRUZUICYmICF0aGlzLmlzUnRsID8gdGhpcy5FZGl0b3IuQ2FyZXQubmF2aWdhdGVQcmV2aW91cygpIDogdGhpcy5FZGl0b3IuQ2FyZXQubmF2aWdhdGVOZXh0KCkpID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogb2UoKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLnVwZGF0ZUN1cnJlbnRJbnB1dCgpO1xuICAgIH0sIDIwKSgpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogQ2FzZXMgd2hlbiB3ZSBuZWVkIHRvIGNsb3NlIFRvb2xiYXJcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBuZWVkVG9vbGJhckNsb3NpbmcoZSkge1xuICAgIGNvbnN0IHQgPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW5lZCwgbyA9IGUua2V5Q29kZSA9PT0gQi5FTlRFUiAmJiB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCwgaSA9IGUua2V5Q29kZSA9PT0gQi5FTlRFUiAmJiB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLm9wZW5lZCwgbiA9IGUua2V5Q29kZSA9PT0gQi5FTlRFUiAmJiB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5vcGVuZWQsIHIgPSBlLmtleUNvZGUgPT09IEIuVEFCO1xuICAgIHJldHVybiAhKGUuc2hpZnRLZXkgfHwgciB8fCB0IHx8IG8gfHwgaSB8fCBuKTtcbiAgfVxuICAvKipcbiAgICogSWYgVG9vbGJveCBpcyBub3Qgb3BlbiwgdGhlbiBqdXN0IG9wZW4gaXQgYW5kIHNob3cgcGx1cyBidXR0b25cbiAgICovXG4gIGFjdGl2YXRlVG9vbGJveCgpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm9wZW5lZCB8fCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gVG9vbGJhciBhbmQgc2hvdyBCbG9ja1NldHRpbmdzIGJlZm9yZSBmbGlwcGluZyBUb29sc1xuICAgKi9cbiAgYWN0aXZhdGVCbG9ja1NldHRpbmdzKCkge1xuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIub3BlbmVkIHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmZvY3VzZWQgPSAhMCwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuKCk7XG4gIH1cbn1cbmNsYXNzIENlIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3b3JraW5nQXJlYSBcdTIwMTQgZWRpdG9yYHMgd29ya2luZyBub2RlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5ibG9ja3MgPSBbXSwgdGhpcy53b3JraW5nQXJlYSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBsZW5ndGggb2YgQmxvY2sgaW5zdGFuY2VzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jayBpbnN0YW5jZXMgYXJyYXlcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrW119XG4gICAqL1xuICBnZXQgYXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYmxvY2tzIGh0bWwgZWxlbWVudHMgYXJyYXlcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBnZXQgbm9kZXMoKSB7XG4gICAgcmV0dXJuIGl0KHRoaXMud29ya2luZ0FyZWEuY2hpbGRyZW4pO1xuICB9XG4gIC8qKlxuICAgKiBQcm94eSB0cmFwIHRvIGltcGxlbWVudCBhcnJheS1saWtlIHNldHRlclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBibG9ja3NbMF0gPSBuZXcgQmxvY2soLi4uKVxuICAgKiBAcGFyYW0ge0Jsb2Nrc30gaW5zdGFuY2UgXHUyMDE0IEJsb2NrcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBwcm9wZXJ0eSBcdTIwMTQgYmxvY2sgaW5kZXggb3IgYW55IEJsb2NrcyBjbGFzcyBwcm9wZXJ0eSBrZXkgdG8gc2V0XG4gICAqIEBwYXJhbSB7QmxvY2t9IHZhbHVlIFx1MjAxNCB2YWx1ZSB0byBzZXRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgc2V0KGUsIHQsIG8pIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHQpKSA/IChSZWZsZWN0LnNldChlLCB0LCBvKSwgITApIDogKGUuaW5zZXJ0KCt0LCBvKSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBQcm94eSB0cmFwIHRvIGltcGxlbWVudCBhcnJheS1saWtlIGdldHRlclxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2Nrc30gaW5zdGFuY2UgXHUyMDE0IEJsb2NrcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBwcm9wZXJ0eSBcdTIwMTQgQmxvY2tzIGNsYXNzIHByb3BlcnR5IGtleVxuICAgKiBAcmV0dXJucyB7QmxvY2t8Kn1cbiAgICovXG4gIHN0YXRpYyBnZXQoZSwgdCkge1xuICAgIHJldHVybiBpc05hTihOdW1iZXIodCkpID8gUmVmbGVjdC5nZXQoZSwgdCkgOiBlLmdldCgrdCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2ggbmV3IEJsb2NrIHRvIHRoZSBibG9ja3MgYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB3b3JraW5nIGFyZWFcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBhZGRcbiAgICovXG4gIHB1c2goZSkge1xuICAgIHRoaXMuYmxvY2tzLnB1c2goZSksIHRoaXMuaW5zZXJ0VG9ET00oZSk7XG4gIH1cbiAgLyoqXG4gICAqIFN3YXBzIGJsb2NrcyB3aXRoIGluZGV4ZXMgZmlyc3QgYW5kIHNlY29uZFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZmlyc3QgLSBmaXJzdCBibG9jayBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kIC0gc2Vjb25kIGJsb2NrIGluZGV4XG4gICAqIEBkZXByZWNhdGVkIFx1MjAxNCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmJsb2Nrc1t0XTtcbiAgICBkLnN3YXAodGhpcy5ibG9ja3NbZV0uaG9sZGVyLCBvLmhvbGRlciksIHRoaXMuYmxvY2tzW3RdID0gdGhpcy5ibG9ja3NbZV0sIHRoaXMuYmxvY2tzW2VdID0gbztcbiAgfVxuICAvKipcbiAgICogTW92ZSBhIGJsb2NrIGZyb20gb25lIHRvIGFub3RoZXIgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBuZXcgaW5kZXggb2YgdGhlIGJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBibG9jayB0byBtb3ZlXG4gICAqL1xuICBtb3ZlKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3Muc3BsaWNlKHQsIDEpWzBdLCBpID0gZSAtIDEsIG4gPSBNYXRoLm1heCgwLCBpKSwgciA9IHRoaXMuYmxvY2tzW25dO1xuICAgIGUgPiAwID8gdGhpcy5pbnNlcnRUb0RPTShvLCBcImFmdGVyZW5kXCIsIHIpIDogdGhpcy5pbnNlcnRUb0RPTShvLCBcImJlZm9yZWJlZ2luXCIsIHIpLCB0aGlzLmJsb2Nrcy5zcGxpY2UoZSwgMCwgbyk7XG4gICAgY29uc3QgYSA9IHRoaXMuY29tcG9zZUJsb2NrRXZlbnQoXCJtb3ZlXCIsIHtcbiAgICAgIGZyb21JbmRleDogdCxcbiAgICAgIHRvSW5kZXg6IGVcbiAgICB9KTtcbiAgICBvLmNhbGwocS5NT1ZFRCwgYSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2sgYXQgcGFzc2VkIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBcdTIwMTQgaW5kZXggdG8gaW5zZXJ0IEJsb2NrXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIFx1MjAxNCBCbG9jayB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlIFx1MjAxNCBpdCB0cnVlLCByZXBsYWNlIGJsb2NrIG9uIGdpdmVuIGluZGV4XG4gICAqL1xuICBpbnNlcnQoZSwgdCwgbyA9ICExKSB7XG4gICAgaWYgKCF0aGlzLmxlbmd0aCkge1xuICAgICAgdGhpcy5wdXNoKHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlID4gdGhpcy5sZW5ndGggJiYgKGUgPSB0aGlzLmxlbmd0aCksIG8gJiYgKHRoaXMuYmxvY2tzW2VdLmhvbGRlci5yZW1vdmUoKSwgdGhpcy5ibG9ja3NbZV0uY2FsbChxLlJFTU9WRUQpKTtcbiAgICBjb25zdCBpID0gbyA/IDEgOiAwO1xuICAgIGlmICh0aGlzLmJsb2Nrcy5zcGxpY2UoZSwgaSwgdCksIGUgPiAwKSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5ibG9ja3NbZSAtIDFdO1xuICAgICAgdGhpcy5pbnNlcnRUb0RPTSh0LCBcImFmdGVyZW5kXCIsIG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5ibG9ja3NbZSArIDFdO1xuICAgICAgbiA/IHRoaXMuaW5zZXJ0VG9ET00odCwgXCJiZWZvcmViZWdpblwiLCBuKSA6IHRoaXMuaW5zZXJ0VG9ET00odCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmUoZSkge1xuICAgIGlzTmFOKGUpICYmIChlID0gdGhpcy5sZW5ndGggLSAxKSwgdGhpcy5ibG9ja3NbZV0uaG9sZGVyLnJlbW92ZSgpLCB0aGlzLmJsb2Nrc1tlXS5jYWxsKHEuUkVNT1ZFRCksIHRoaXMuYmxvY2tzLnNwbGljZShlLCAxKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBibG9ja3NcbiAgICovXG4gIHJlbW92ZUFsbCgpIHtcbiAgICB0aGlzLndvcmtpbmdBcmVhLmlubmVySFRNTCA9IFwiXCIsIHRoaXMuYmxvY2tzLmZvckVhY2goKGUpID0+IGUuY2FsbChxLlJFTU9WRUQpKSwgdGhpcy5ibG9ja3MubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IEJsb2NrIGFmdGVyIHBhc3NlZCB0YXJnZXRcbiAgICpcbiAgICogQHRvZG8gZGVjaWRlIGlmIHRoaXMgbWV0aG9kIGlzIG5lY2Vzc2FyeVxuICAgKiBAcGFyYW0ge0Jsb2NrfSB0YXJnZXRCbG9jayBcdTIwMTQgdGFyZ2V0IGFmdGVyIHdoaWNoIEJsb2NrIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgKiBAcGFyYW0ge0Jsb2NrfSBuZXdCbG9jayBcdTIwMTQgQmxvY2sgdG8gaW5zZXJ0XG4gICAqL1xuICBpbnNlcnRBZnRlcihlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYmxvY2tzLmluZGV4T2YoZSk7XG4gICAgdGhpcy5pbnNlcnQobyArIDEsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgYnkgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFx1MjAxNCBCbG9jayBpbmRleFxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQoZSkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrc1tlXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGluZGV4IG9mIHBhc3NlZCBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIHRvIGZpbmRcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGluZGV4T2YoZSkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5pbmRleE9mKGUpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrIGludG8gRE9NXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7SW5zZXJ0UG9zaXRpb259IHBvc2l0aW9uIFx1MjAxNCBpbnNlcnQgcG9zaXRpb24gKGlmIHNldCwgd2lsbCB1c2UgaW5zZXJ0QWRqYWNlbnRFbGVtZW50KVxuICAgKiBAcGFyYW0ge0Jsb2NrfSB0YXJnZXQgXHUyMDE0IEJsb2NrIHJlbGF0ZWQgdG8gcG9zaXRpb25cbiAgICovXG4gIGluc2VydFRvRE9NKGUsIHQsIG8pIHtcbiAgICB0ID8gby5ob2xkZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHQsIGUuaG9sZGVyKSA6IHRoaXMud29ya2luZ0FyZWEuYXBwZW5kQ2hpbGQoZS5ob2xkZXIpLCBlLmNhbGwocS5SRU5ERVJFRCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXBvc2VzIEJsb2NrIGV2ZW50IHdpdGggcGFzc2VkIHR5cGUgYW5kIGRldGFpbHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkZXRhaWwgLSBldmVudCBkZXRhaWxcbiAgICovXG4gIGNvbXBvc2VCbG9ja0V2ZW50KGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KGUsIHtcbiAgICAgIGRldGFpbDogdFxuICAgIH0pO1xuICB9XG59XG5jb25zdCBKZSA9IFwiYmxvY2stcmVtb3ZlZFwiLCBRZSA9IFwiYmxvY2stYWRkZWRcIiwgV28gPSBcImJsb2NrLW1vdmVkXCIsIFlvID0gXCJibG9jay1jaGFuZ2VkXCI7XG5jbGFzcyBLbyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLl9ibG9ja3MgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBjdXJyZW50QmxvY2tJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBjdXJyZW50IEJsb2NrIGluZGV4IGFuZCBmaXJlIEJsb2NrIGxpZmVjeWNsZSBjYWxsYmFja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gc2V0IGFzIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2tJbmRleChlKSB7XG4gICAgdGhpcy5fY3VycmVudEJsb2NrSW5kZXggPSBlO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGZpcnN0IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldCBmaXJzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybnMgbGFzdCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgbGFzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgY3VycmVudEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tJbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBwYXNzZWQgQmxvY2sgYXMgYSBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIHNldCBhcyBhIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2soZSkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmdldEJsb2NrSW5kZXgoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbmV4dCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t8bnVsbH1cbiAgICovXG4gIGdldCBuZXh0QmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxID8gbnVsbCA6IHRoaXMuX2Jsb2Nrc1t0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBCbG9jayB3aXRoIGlucHV0cyBhZnRlciBjdXJyZW50IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9jayB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGdldCBuZXh0Q29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMSkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgQmxvY2sgd2l0aCBpbnB1dHMgYmVmb3JlIGN1cnJlbnQgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQ29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSgwLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KS5yZXZlcnNlKCkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHByZXZpb3VzIEJsb2NrIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3xudWxsfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IDAgPyBudWxsIDogdGhpcy5fYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrSW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFycmF5IG9mIEJsb2NrIGluc3RhbmNlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tbXX0ge0BsaW5rIEJsb2NrcyNhcnJheX1cbiAgICovXG4gIGdldCBibG9ja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWFjaCBCbG9jayBpcyBlbXB0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VkaXRvckVtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5ldmVyeSgoZSkgPT4gZS5pc0VtcHR5KTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGJlIGNhbGxlZCBhZnRlciBFZGl0b3IuVUkgcHJlcGFyYXRpb25cbiAgICogRGVmaW5lIHRoaXMuX2Jsb2NrcyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICBjb25zdCBlID0gbmV3IENlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yKTtcbiAgICB0aGlzLl9ibG9ja3MgPSBuZXcgUHJveHkoZSwge1xuICAgICAgc2V0OiBDZS5zZXQsXG4gICAgICBnZXQ6IENlLmdldFxuICAgIH0pLCB0aGlzLmxpc3RlbmVycy5vbihcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJjb3B5XCIsXG4gICAgICAodCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZEModClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIElmIHJlYWRPbmx5IGlzIHRydWU6XG4gICAqICAtIFVuYmluZCBldmVudCBoYW5kbGVycyBmcm9tIGNyZWF0ZWQgQmxvY2tzXG4gICAqXG4gICAqIGlmIHJlYWRPbmx5IGlzIGZhbHNlOlxuICAgKiAgLSBCaW5kIGV2ZW50IGhhbmRsZXJzIHRvIGFsbCBleGlzdGluZyBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgQmxvY2sgaW5zdGFuY2UgYnkgdG9vbCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gYmxvY2sgY3JlYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50b29sIC0gdG9vbHMgcGFzc2VkIGluIGVkaXRvciBjb25maWcge0BsaW5rIEVkaXRvckNvbmZpZyN0b29sc31cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkXSAtIHVuaXF1ZSBpZCBmb3IgdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IFtvcHRpb25zLmRhdGFdIC0gY29uc3RydWN0b3IgcGFyYW1zXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGNvbXBvc2VCbG9jayh7XG4gICAgdG9vbDogZSxcbiAgICBkYXRhOiB0ID0ge30sXG4gICAgaWQ6IG8gPSB2b2lkIDAsXG4gICAgdHVuZXM6IGkgPSB7fVxuICB9KSB7XG4gICAgY29uc3QgbiA9IHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCwgciA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpLCBhID0gbmV3IEYoe1xuICAgICAgaWQ6IG8sXG4gICAgICBkYXRhOiB0LFxuICAgICAgdG9vbDogcixcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLFxuICAgICAgcmVhZE9ubHk6IG4sXG4gICAgICB0dW5lc0RhdGE6IGlcbiAgICB9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIpO1xuICAgIHJldHVybiBuIHx8IHRoaXMuYmluZEJsb2NrRXZlbnRzKGEpLCBhO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IGJsb2NrIGludG8gX2Jsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGluc2VydCBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIHVuaXF1ZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudG9vbF0gLSBwbHVnaW4gbmFtZSwgYnkgZGVmYXVsdCBtZXRob2QgaW5zZXJ0cyB0aGUgZGVmYXVsdCBibG9jayB0eXBlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5kYXRhXSAtIHBsdWdpbiBkYXRhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gLSBpbmRleCB3aGVyZSB0byBpbnNlcnQgbmV3IEJsb2NrXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmVlZFRvRm9jdXNdIC0gZmxhZyBzaG93cyBpZiBuZWVkZWQgdG8gdXBkYXRlIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlXSAtIGZsYWcgc2hvd3MgaWYgYmxvY2sgYnkgcGFzc2VkIGluZGV4IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGluc2VydGVkIG9uZVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBpbnNlcnQoe1xuICAgIGlkOiBlID0gdm9pZCAwLFxuICAgIHRvb2w6IHQgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgZGF0YTogbyA9IHt9LFxuICAgIGluZGV4OiBpLFxuICAgIG5lZWRUb0ZvY3VzOiBuID0gITAsXG4gICAgcmVwbGFjZTogciA9ICExLFxuICAgIHR1bmVzOiBhID0ge31cbiAgfSA9IHt9KSB7XG4gICAgbGV0IGwgPSBpO1xuICAgIGwgPT09IHZvaWQgMCAmJiAobCA9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggKyAociA/IDAgOiAxKSk7XG4gICAgY29uc3QgYyA9IHRoaXMuY29tcG9zZUJsb2NrKHtcbiAgICAgIGlkOiBlLFxuICAgICAgdG9vbDogdCxcbiAgICAgIGRhdGE6IG8sXG4gICAgICB0dW5lczogYVxuICAgIH0pO1xuICAgIHJldHVybiByICYmIHRoaXMuYmxvY2tEaWRNdXRhdGVkKEplLCB0aGlzLmdldEJsb2NrQnlJbmRleChsKSwge1xuICAgICAgaW5kZXg6IGxcbiAgICB9KSwgdGhpcy5fYmxvY2tzLmluc2VydChsLCBjLCByKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQoUWUsIGMsIHtcbiAgICAgIGluZGV4OiBsXG4gICAgfSksIG4gPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gbCA6IGwgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIGM7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgY3VycmVudCB3b3JraW5nIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gcmVwbGFjZSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnRvb2wgXHUyMDE0IHBsdWdpbiBuYW1lXG4gICAqIEBwYXJhbSB7QmxvY2tUb29sRGF0YX0gb3B0aW9ucy5kYXRhIFx1MjAxNCBwbHVnaW4gZGF0YVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICByZXBsYWNlKHtcbiAgICB0b29sOiBlID0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLFxuICAgIGRhdGE6IHQgPSB7fVxuICB9KSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHtcbiAgICAgIHRvb2w6IGUsXG4gICAgICBkYXRhOiB0LFxuICAgICAgaW5kZXg6IHRoaXMuY3VycmVudEJsb2NrSW5kZXgsXG4gICAgICByZXBsYWNlOiAhMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgcGFzdGVkIGNvbnRlbnQuIENhbGwgb25QYXN0ZSBjYWxsYmFjayBhZnRlciBpbnNlcnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIG5hbWUgb2YgVG9vbCB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtQYXN0ZUV2ZW50fSBwYXN0ZUV2ZW50IC0gcGFzdGVkIGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlIC0gc2hvdWxkIHJlcGxhY2UgY3VycmVudCBibG9ja1xuICAgKi9cbiAgcGFzdGUoZSwgdCwgbyA9ICExKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuaW5zZXJ0KHtcbiAgICAgIHRvb2w6IGUsXG4gICAgICByZXBsYWNlOiBvXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGkuY2FsbChxLk9OX1BBU1RFLCB0KTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICBUKGAke2V9OiBvblBhc3RlIGNhbGxiYWNrIGNhbGwgaXMgZmFpbGVkYCwgXCJlcnJvclwiLCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgZGVmYXVsdCBibG9jayBhdCBwYXNzZWQgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggd2hlcmUgQmxvY2sgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmVlZFRvRm9jdXMgLSBpZiB0cnVlLCB1cGRhdGVzIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogVE9ETzogUmVtb3ZlIG1ldGhvZCBhbmQgdXNlIGluc2VydCgpIHdpdGggaW5kZXggaW5zdGVhZCAoPylcbiAgICogQHJldHVybnMge0Jsb2NrfSBpbnNlcnRlZCBCbG9ja1xuICAgKi9cbiAgaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChlLCB0ID0gITEpIHtcbiAgICBjb25zdCBvID0gdGhpcy5jb21wb3NlQmxvY2soeyB0b29sOiB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2sgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrc1tlXSA9IG8sIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFFlLCBvLCB7XG4gICAgICBpbmRleDogZVxuICAgIH0pLCB0ID8gdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IGUgOiBlIDw9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggJiYgdGhpcy5jdXJyZW50QmxvY2tJbmRleCsrLCBvO1xuICB9XG4gIC8qKlxuICAgKiBBbHdheXMgaW5zZXJ0cyBhdCB0aGUgZW5kXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGluc2VydEF0RW5kKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5ibG9ja3MubGVuZ3RoIC0gMSwgdGhpcy5pbnNlcnQoKTtcbiAgfVxuICAvKipcbiAgICogTWVyZ2UgdHdvIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSB0YXJnZXRCbG9jayAtIHByZXZpb3VzIGJsb2NrIHdpbGwgYmUgYXBwZW5kIHRvIHRoaXMgYmxvY2tcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tUb01lcmdlIC0gYmxvY2sgdGhhdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRhcmdldCBibG9ja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSB0aGUgc2VxdWVuY2UgdGhhdCBjYW4gYmUgY29udGludWVkXG4gICAqL1xuICBhc3luYyBtZXJnZUJsb2NrcyhlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuX2Jsb2Nrcy5pbmRleE9mKHQpO1xuICAgIGlmICh0LmlzRW1wdHkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaSA9IGF3YWl0IHQuZGF0YTtcbiAgICBWKGkpIHx8IGF3YWl0IGUubWVyZ2VXaXRoKGkpLCB0aGlzLnJlbW92ZUJsb2NrKG8pLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBibG9jayB3aXRoIHBhc3NlZCBpbmRleCBvciByZW1vdmUgbGFzdFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxudWxsfSBpbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIHJlbW92ZVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgQmxvY2sgdG8gcmVtb3ZlIGlzIG5vdCBmb3VuZFxuICAgKi9cbiAgcmVtb3ZlQmxvY2soZSA9IHRoaXMuY3VycmVudEJsb2NrSW5kZXgpIHtcbiAgICBpZiAoIXRoaXMudmFsaWRhdGVJbmRleChlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgYSBCbG9jayB0byByZW1vdmVcIik7XG4gICAgY29uc3QgdCA9IHRoaXMuX2Jsb2Nrc1tlXTtcbiAgICB0LmRlc3Ryb3koKSwgdGhpcy5fYmxvY2tzLnJlbW92ZShlKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQoSmUsIHQsIHtcbiAgICAgIGluZGV4OiBlXG4gICAgfSksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPj0gZSAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4LS0sIHRoaXMuYmxvY2tzLmxlbmd0aCA/IGUgPT09IDAgJiYgKHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSAwKSA6ICh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gLTEsIHRoaXMuaW5zZXJ0KCkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgb25seSBzZWxlY3RlZCBCbG9ja3NcbiAgICogYW5kIHJldHVybnMgZmlyc3QgQmxvY2sgaW5kZXggd2hlcmUgc3RhcnRlZCByZW1vdmluZy4uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICovXG4gIHJlbW92ZVNlbGVjdGVkQmxvY2tzKCkge1xuICAgIGxldCBlO1xuICAgIGZvciAobGV0IHQgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSlcbiAgICAgIHRoaXMuYmxvY2tzW3RdLnNlbGVjdGVkICYmICh0aGlzLnJlbW92ZUJsb2NrKHQpLCBlID0gdCk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVudGlvbiFcbiAgICogQWZ0ZXIgcmVtb3ZpbmcgaW5zZXJ0IHRoZSBuZXcgZGVmYXVsdCB0eXBlZCBCbG9jayBhbmQgZm9jdXMgb24gaXRcbiAgICogUmVtb3ZlcyBhbGwgYmxvY2tzXG4gICAqL1xuICByZW1vdmVBbGxCbG9ja3MoKSB7XG4gICAgZm9yIChsZXQgZSA9IHRoaXMuYmxvY2tzLmxlbmd0aCAtIDE7IGUgPj0gMDsgZS0tKVxuICAgICAgdGhpcy5fYmxvY2tzLnJlbW92ZShlKTtcbiAgICB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gLTEsIHRoaXMuaW5zZXJ0KCksIHRoaXMuY3VycmVudEJsb2NrLmZpcnN0SW5wdXQuZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgY3VycmVudCBCbG9ja1xuICAgKiAxLiBFeHRyYWN0IGNvbnRlbnQgZnJvbSBDYXJldCBwb3NpdGlvbiB0byB0aGUgQmxvY2tgcyBlbmRcbiAgICogMi4gSW5zZXJ0IGEgbmV3IEJsb2NrIGJlbG93IGN1cnJlbnQgb25lIHdpdGggZXh0cmFjdGVkIGNvbnRlbnRcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgc3BsaXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkNhcmV0LmV4dHJhY3RGcmFnbWVudEZyb21DYXJldFBvc2l0aW9uKCksIHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgdC5hcHBlbmRDaGlsZChlKTtcbiAgICBjb25zdCBvID0ge1xuICAgICAgdGV4dDogZC5pc0VtcHR5KHQpID8gXCJcIiA6IHQuaW5uZXJIVE1MXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoeyBkYXRhOiBvIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrIGJ5IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB0byBnZXQuIC0xIHRvIGdldCBsYXN0XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldEJsb2NrQnlJbmRleChlKSB7XG4gICAgcmV0dXJuIGUgPT09IC0xICYmIChlID0gdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDEpLCB0aGlzLl9ibG9ja3NbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gaW5kZXggZm9yIHBhc3NlZCBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgLSBibG9jayB0byBmaW5kIGluZGV4XG4gICAqL1xuICBnZXRCbG9ja0luZGV4KGUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEJsb2NrIGJ5IHBhc3NlZCBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiBibG9jayB0byBnZXRcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0QmxvY2tCeUlkKGUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmFycmF5LmZpbmQoKHQpID0+IHQuaWQgPT09IGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2UgYnkgaHRtbCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCAtIGh0bWwgZWxlbWVudCB0byBnZXQgQmxvY2sgYnlcbiAgICovXG4gIGdldEJsb2NrKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IHRoaXMuX2Jsb2Nrcy5ub2RlcywgbyA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKSwgaSA9IHQuaW5kZXhPZihvKTtcbiAgICBpZiAoaSA+PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrc1tpXTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBmcm9tIGFsbCBCbG9ja3MgdGhlbiBoaWdobGlnaHQgb25seSBDdXJyZW50IEJsb2NrXG4gICAqL1xuICBoaWdobGlnaHRDdXJyZW50Tm9kZSgpIHtcbiAgICB0aGlzLmNsZWFyRm9jdXNlZCgpLCB0aGlzLmN1cnJlbnRCbG9jay5mb2N1c2VkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBzZWxlY3Rpb24gZnJvbSBhbGwgQmxvY2tzXG4gICAqL1xuICBjbGVhckZvY3VzZWQoKSB7XG4gICAgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5mb2N1c2VkID0gITE7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIDEpIEZpbmQgZmlyc3QtbGV2ZWwgQmxvY2sgZnJvbSBwYXNzZWQgY2hpbGQgTm9kZVxuICAgKiAyKSBNYXJrIGl0IGFzIGN1cnJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBsb29rIGFoZWFkIGZyb20gdGhpcyBub2RlLlxuICAgKiBAcmV0dXJucyB7QmxvY2sgfCB1bmRlZmluZWR9IGNhbiByZXR1cm4gdW5kZWZpbmVkIGluIGNhc2Ugd2hlbiB0aGUgcGFzc2VkIGNoaWxkIG5vdGUgaXMgbm90IGEgcGFydCBvZiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICovXG4gIHNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9IHQuY2xvc2VzdChgLiR7dGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXJ9YCk7XG4gICAgaWYgKG8gIT0gbnVsbCAmJiBvLmlzRXF1YWxOb2RlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIpKVxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLl9ibG9ja3Mubm9kZXMuaW5kZXhPZih0KSwgdGhpcy5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMuY3VycmVudEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYmxvY2sgd2hpY2ggY29udGVudHMgcGFzc2VkIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBub2RlIHRvIGdldCBCbG9jayBieVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKTtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MuZmluZCgobykgPT4gby5ob2xkZXIgPT09IHQpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwIEJsb2NrcyBQb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggb2YgZmlyc3QgYmxvY2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCBvZiBzZWNvbmQgYmxvY2tcbiAgICogQGRlcHJlY2F0ZWQgXHUyMDE0IHVzZSAnbW92ZScgaW5zdGVhZFxuICAgKi9cbiAgc3dhcChlLCB0KSB7XG4gICAgdGhpcy5fYmxvY2tzLnN3YXAoZSwgdCksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0O1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIGEgYmxvY2sgdG8gYSBuZXcgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCB3aGVyZSB0byBtb3ZlIEJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBpbmRleCBvZiBCbG9jayB0byBtb3ZlXG4gICAqL1xuICBtb3ZlKGUsIHQgPSB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KSB7XG4gICAgaWYgKGlzTmFOKGUpIHx8IGlzTmFOKHQpKSB7XG4gICAgICBUKFwiV2FybmluZyBkdXJpbmcgJ21vdmUnIGNhbGw6IGluY29ycmVjdCBpbmRpY2VzIHByb3ZpZGVkLlwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy52YWxpZGF0ZUluZGV4KGUpIHx8ICF0aGlzLnZhbGlkYXRlSW5kZXgodCkpIHtcbiAgICAgIFQoXCJXYXJuaW5nIGR1cmluZyAnbW92ZScgY2FsbDogaW5kaWNlcyBjYW5ub3QgYmUgbG93ZXIgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGUgYW1vdW50IG9mIGJsb2Nrcy5cIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ibG9ja3MubW92ZShlLCB0KSwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IGUsIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFdvLCB0aGlzLmN1cnJlbnRCbG9jaywge1xuICAgICAgZnJvbUluZGV4OiB0LFxuICAgICAgdG9JbmRleDogZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnJlbnQgQmxvY2sgSW5kZXggLTEgd2hpY2ggbWVhbnMgdW5rbm93blxuICAgKiBhbmQgY2xlYXIgaGlnaGxpZ2h0c1xuICAgKi9cbiAgZHJvcFBvaW50ZXIoKSB7XG4gICAgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLmNsZWFyRm9jdXNlZCgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmVlZFRvQWRkRGVmYXVsdEJsb2NrIC0gMSkgaW4gaW50ZXJuYWwgY2FsbHMgKGZvciBleGFtcGxlLCBpbiBhcGkuYmxvY2tzLnJlbmRlcilcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZSBkb24ndCBuZWVkIHRvIGFkZCBhbiBlbXB0eSBkZWZhdWx0IGJsb2NrXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIpIGluIGFwaS5ibG9ja3MuY2xlYXIgd2Ugc2hvdWxkIGFkZCBlbXB0eSBibG9ja1xuICAgKi9cbiAgY2xlYXIoZSA9ICExKSB7XG4gICAgdGhpcy5fYmxvY2tzLnJlbW92ZUFsbCgpLCB0aGlzLmRyb3BQb2ludGVyKCksIGUgJiYgdGhpcy5pbnNlcnQoKSwgdGhpcy5FZGl0b3IuVUkuY2hlY2tFbXB0aW5lc3MoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYW5zIHVwIGFsbCB0aGUgYmxvY2sgdG9vbHMnIHJlc291cmNlc1xuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGVkaXRvciBpcyBkZXN0cm95ZWRcbiAgICovXG4gIGFzeW5jIGRlc3Ryb3koKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5ibG9ja3MubWFwKChlKSA9PiBlLmRlc3Ryb3koKSkpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kIEJsb2NrIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIHRvIHdoaWNoIGV2ZW50IHNob3VsZCBiZSBib3VuZFxuICAgKi9cbiAgYmluZEJsb2NrRXZlbnRzKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrRXZlbnRzOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJrZXlkb3duXCIsIChvKSA9PiB7XG4gICAgICB0LmtleWRvd24obyk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImtleXVwXCIsIChvKSA9PiB7XG4gICAgICB0LmtleXVwKG8pO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJkcmFnb3ZlclwiLCAobykgPT4ge1xuICAgICAgdC5kcmFnT3ZlcihvKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwiZHJhZ2xlYXZlXCIsIChvKSA9PiB7XG4gICAgICB0LmRyYWdMZWF2ZShvKTtcbiAgICB9KSwgZS5vbihcImRpZE11dGF0ZWRcIiwgKG8pID0+IHRoaXMuYmxvY2tEaWRNdXRhdGVkKFlvLCBvLCB7XG4gICAgICBpbmRleDogdGhpcy5nZXRCbG9ja0luZGV4KG8pXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIG11dGFibGUgaGFuZGxlcnMgYW5kIGJpbmRpbmdzXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBhbGwgbW9kdWxlIGhhbmRsZXJzIGFuZCBiaW5kaW5ncyBmb3IgYWxsIEJsb2Nrc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oXG4gICAgICBkb2N1bWVudCxcbiAgICAgIFwiY3V0XCIsXG4gICAgICAoZSkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZFgoZSlcbiAgICApLCB0aGlzLmJsb2Nrcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmJpbmRCbG9ja0V2ZW50cyhlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIGdpdmVuIGluZGV4IGlzIG5vdCBsb3dlciB0aGFuIDAgb3IgaGlnaGVyIHRoYW4gdGhlIGFtb3VudCBvZiBibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgYmxvY2tzIGFycmF5IHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVJbmRleChlKSB7XG4gICAgcmV0dXJuICEoZSA8IDAgfHwgZSA+PSB0aGlzLl9ibG9ja3MubGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogQmxvY2sgbXV0YXRpb24gY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uVHlwZSAtIHdoYXQgaGFwcGVuZWQgd2l0aCBibG9ja1xuICAgKiBAcGFyYW0gYmxvY2sgLSBtdXRhdGVkIGJsb2NrXG4gICAqIEBwYXJhbSBkZXRhaWxEYXRhIC0gYWRkaXRpb25hbCBkYXRhIHRvIHBhc3Mgd2l0aCBjaGFuZ2UgZXZlbnRcbiAgICovXG4gIGJsb2NrRGlkTXV0YXRlZChlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IG5ldyBDdXN0b21FdmVudChlLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgdGFyZ2V0OiBuZXcgaGUodCksXG4gICAgICAgIC4uLm9cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQobHQsIHtcbiAgICAgIGV2ZW50OiBpXG4gICAgfSksIHQ7XG4gIH1cbn1cbmNsYXNzIFhvIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID0gbnVsbCwgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMSwgdGhpcy5uYXRpdmVJbnB1dFNlbGVjdGVkID0gITEsIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBDb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Nhbml0aXplckNvbmZpZ31cbiAgICovXG4gIGdldCBzYW5pdGl6ZXJDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHA6IHt9LFxuICAgICAgaDE6IHt9LFxuICAgICAgaDI6IHt9LFxuICAgICAgaDM6IHt9LFxuICAgICAgaDQ6IHt9LFxuICAgICAgaDU6IHt9LFxuICAgICAgaDY6IHt9LFxuICAgICAgb2w6IHt9LFxuICAgICAgdWw6IHt9LFxuICAgICAgbGk6IHt9LFxuICAgICAgYnI6ICEwLFxuICAgICAgaW1nOiB7XG4gICAgICAgIHNyYzogITAsXG4gICAgICAgIHdpZHRoOiAhMCxcbiAgICAgICAgaGVpZ2h0OiAhMFxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgaHJlZjogITBcbiAgICAgIH0sXG4gICAgICBiOiB7fSxcbiAgICAgIGk6IHt9LFxuICAgICAgdToge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBGbGFnIHRoYXQgaWRlbnRpZmllcyBhbGwgQmxvY2tzIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBhbGxCbG9ja3NTZWxlY3RlZCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgcmV0dXJuIGUuYmxvY2tzLmV2ZXJ5KCh0KSA9PiB0LnNlbGVjdGVkID09PSAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBzZWxlY3RlZCBhbGwgYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSBzdGF0ZSB0byBzZXRcbiAgICovXG4gIHNldCBhbGxCbG9ja3NTZWxlY3RlZChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYmxvY2tzLmZvckVhY2goKG8pID0+IHtcbiAgICAgIG8uc2VsZWN0ZWQgPSBlO1xuICAgIH0pLCB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgfVxuICAvKipcbiAgICogRmxhZyB0aGF0IGlkZW50aWZpZXMgYW55IEJsb2NrIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBhbnlCbG9ja1NlbGVjdGVkKCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICByZXR1cm4gdGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGUgPT09IG51bGwgJiYgKHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID0gZS5ibG9ja3Muc29tZSgodCkgPT4gdC5zZWxlY3RlZCA9PT0gITApKSwgdGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBzZWxlY3RlZCBCbG9ja3MgYXJyYXlcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrW119XG4gICAqL1xuICBnZXQgc2VsZWN0ZWRCbG9ja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MuZmlsdGVyKChlKSA9PiBlLnNlbGVjdGVkKTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIFByZXBhcmF0aW9uXG4gICAqIFJlZ2lzdGVycyBTaG9ydGN1dHMgQ01EK0EgYW5kIENNRCtDXG4gICAqIHRvIHNlbGVjdCBhbGwgYW5kIGNvcHkgdGhlbVxuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBtKCksIHJlLmFkZCh7XG4gICAgICBuYW1lOiBcIkNNRCtBXCIsXG4gICAgICBoYW5kbGVyOiAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgUmVhZE9ubHk6IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgICAgICBpZiAoby5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuc2VsZWN0QWxsQmxvY2tzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHQuY3VycmVudEJsb2NrICYmIHRoaXMuaGFuZGxlQ29tbWFuZEEoZSk7XG4gICAgICB9LFxuICAgICAgb246IHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogIC0gUmVtb3ZlIGFsbCByYW5nZXNcbiAgICogIC0gVW5zZWxlY3QgYWxsIEJsb2Nrc1xuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoKSB7XG4gICAgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgdGhpcy5hbGxCbG9ja3NTZWxlY3RlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgc2VsZWN0aW9uIG9mIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyP30gaW5kZXggLSBCbG9jayBpbmRleCBhY2NvcmRpbmcgdG8gdGhlIEJsb2NrTWFuYWdlcidzIGluZGV4ZXNcbiAgICovXG4gIHVuU2VsZWN0QmxvY2tCeUluZGV4KGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgbGV0IG87XG4gICAgaXNOYU4oZSkgPyBvID0gdC5jdXJyZW50QmxvY2sgOiBvID0gdC5nZXRCbG9ja0J5SW5kZXgoZSksIG8uc2VsZWN0ZWQgPSAhMSwgdGhpcy5jbGVhckNhY2hlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIHNlbGVjdGlvbiBmcm9tIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSByZWFzb24gLSBldmVudCBjYXVzZWQgY2xlYXIgb2Ygc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzdG9yZVNlbGVjdGlvbiAtIGlmIHRydWUsIHJlc3RvcmUgc2F2ZWQgc2VsZWN0aW9uXG4gICAqL1xuICBjbGVhclNlbGVjdGlvbihlLCB0ID0gITEpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogbywgQ2FyZXQ6IGksIFJlY3RhbmdsZVNlbGVjdGlvbjogbiB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMSwgdGhpcy5uYXRpdmVJbnB1dFNlbGVjdGVkID0gITEsIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITE7XG4gICAgY29uc3QgciA9IGUgJiYgZSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQsIGEgPSByICYmIHR0KGUua2V5Q29kZSk7XG4gICAgaWYgKHRoaXMuYW55QmxvY2tTZWxlY3RlZCAmJiByICYmIGEgJiYgIW0uaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIGNvbnN0IGwgPSBvLnJlbW92ZVNlbGVjdGVkQmxvY2tzKCk7XG4gICAgICBvLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgobCwgITApLCBpLnNldFRvQmxvY2soby5jdXJyZW50QmxvY2spLCBvZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGMgPSBlLmtleTtcbiAgICAgICAgaS5pbnNlcnRDb250ZW50QXRDYXJldFBvc2l0aW9uKGMubGVuZ3RoID4gMSA/IFwiXCIgOiBjKTtcbiAgICAgIH0sIDIwKSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi5jbGVhcihlKSwgIXRoaXMuYW55QmxvY2tTZWxlY3RlZCB8fCBuLmlzUmVjdEFjdGl2YXRlZCgpKSB7XG4gICAgICB0aGlzLkVkaXRvci5SZWN0YW5nbGVTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdCAmJiB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmVkdWNlIGVhY2ggQmxvY2sgYW5kIGNvcHkgaXRzIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtDbGlwYm9hcmRFdmVudH0gZSAtIGNvcHkvY3V0IGV2ZW50XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgY29weVNlbGVjdGVkQmxvY2tzKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiKTtcbiAgICB0aGlzLnNlbGVjdGVkQmxvY2tzLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IHIgPSBaKG4uaG9sZGVyLmlubmVySFRNTCwgdGhpcy5zYW5pdGl6ZXJDb25maWcpLCBhID0gZC5tYWtlKFwicFwiKTtcbiAgICAgIGEuaW5uZXJIVE1MID0gciwgdC5hcHBlbmRDaGlsZChhKTtcbiAgICB9KTtcbiAgICBjb25zdCBvID0gQXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpLm1hcCgobikgPT4gbi50ZXh0Q29udGVudCkuam9pbihgXG5cbmApLCBpID0gdC5pbm5lckhUTUw7XG4gICAgcmV0dXJuIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBvKSwgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L2h0bWxcIiwgaSksIFByb21pc2UuYWxsKHRoaXMuc2VsZWN0ZWRCbG9ja3MubWFwKChuKSA9PiBuLnNhdmUoKSkpLnRoZW4oKG4pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKHRoaXMuRWRpdG9yLlBhc3RlLk1JTUVfVFlQRSwgSlNPTi5zdHJpbmdpZnkobikpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIHNlbGVjdCBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj99IGluZGV4IC0gQmxvY2sgaW5kZXggYWNjb3JkaW5nIHRvIHRoZSBCbG9ja01hbmFnZXIncyBpbmRleGVzXG4gICAqL1xuICBzZWxlY3RCbG9ja0J5SW5kZXgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmNsZWFyRm9jdXNlZCgpO1xuICAgIGxldCBvO1xuICAgIGlzTmFOKGUpID8gbyA9IHQuY3VycmVudEJsb2NrIDogbyA9IHQuZ2V0QmxvY2tCeUluZGV4KGUpLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIG8uc2VsZWN0ZWQgPSAhMCwgdGhpcy5jbGVhckNhY2hlKCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgYW55QmxvY2tTZWxlY3RlZCBjYWNoZVxuICAgKi9cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBkZXN0cnVjdGlvblxuICAgKiBEZS1yZWdpc3RlcnMgU2hvcnRjdXQgQ01EK0FcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgcmUucmVtb3ZlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yLCBcIkNNRCtBXCIpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJzdCBDTUQrQSBzZWxlY3RzIGFsbCBpbnB1dCBjb250ZW50IGJ5IG5hdGl2ZSBiZWhhdmlvdXIsXG4gICAqIG5leHQgQ01EK0Ega2V5cHJlc3Mgc2VsZWN0cyBhbGwgYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZEEoZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5SZWN0YW5nbGVTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSwgZC5pc05hdGl2ZUlucHV0KGUudGFyZ2V0KSAmJiAhdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG8gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2soZS50YXJnZXQpLmlucHV0cztcbiAgICBpZiAoby5sZW5ndGggPiAxICYmICF0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG8ubGVuZ3RoID09PSAxICYmICF0aGlzLm5lZWRUb1NlbGVjdEFsbCkge1xuICAgICAgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEFsbEJsb2NrcygpLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExLCB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5jbG9zZSgpKSA6IHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uICYmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuc2VsZWN0QmxvY2tCeUluZGV4KCksIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITApO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3QgQWxsIEJsb2Nrc1xuICAgKiBFYWNoIEJsb2NrIGhhcyBzZWxlY3RlZCBzZXR0ZXIgdGhhdCBtYWtlcyBCbG9jayBjb3B5YWJsZVxuICAgKi9cbiAgc2VsZWN0QWxsQmxvY2tzKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uLnNhdmUoKSwgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgdGhpcy5hbGxCbG9ja3NTZWxlY3RlZCA9ICEwLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIHZlIGV4dGVuZHMgUyB7XG4gIC8qKlxuICAgKiBBbGxvd2VkIGNhcmV0IHBvc2l0aW9ucyBpbiBpbnB1dFxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEByZXR1cm5zIHt7U1RBUlQ6IHN0cmluZywgRU5EOiBzdHJpbmcsIERFRkFVTFQ6IHN0cmluZ319XG4gICAqL1xuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBTVEFSVDogXCJzdGFydFwiLFxuICAgICAgRU5EOiBcImVuZFwiLFxuICAgICAgREVGQVVMVDogXCJkZWZhdWx0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBFbGVtZW50cyBzdHlsZXMgdGhhdCBjYW4gYmUgdXNlZnVsIGZvciBDYXJldCBNb2R1bGVcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaGFkb3dDYXJldDogXCJjZHgtc2hhZG93LWNhcmV0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQncyBkZWVwZXN0IGZpcnN0IG5vZGUgYW5kIGNoZWNrcyBpZiBvZmZzZXQgaXMgemVyb1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0F0U3RhcnQoKSB7XG4gICAgY29uc3QgZSA9IG0uZ2V0KCksIHQgPSBkLmdldERlZXBlc3ROb2RlKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suY3VycmVudElucHV0KTtcbiAgICBsZXQgbyA9IGUuZm9jdXNOb2RlO1xuICAgIGlmIChkLmlzTmF0aXZlSW5wdXQodCkpXG4gICAgICByZXR1cm4gdC5zZWxlY3Rpb25FbmQgPT09IDA7XG4gICAgaWYgKCFlLmFuY2hvck5vZGUpXG4gICAgICByZXR1cm4gITE7XG4gICAgbGV0IGkgPSBvLnRleHRDb250ZW50LnNlYXJjaCgvXFxTLyk7XG4gICAgaSA9PT0gLTEgJiYgKGkgPSAwKTtcbiAgICBsZXQgbiA9IGUuZm9jdXNPZmZzZXQ7XG4gICAgcmV0dXJuIG8ubm9kZVR5cGUgIT09IE5vZGUuVEVYVF9OT0RFICYmIG8uY2hpbGROb2Rlcy5sZW5ndGggJiYgKG8uY2hpbGROb2Rlc1tuXSA/IChvID0gby5jaGlsZE5vZGVzW25dLCBuID0gMCkgOiAobyA9IG8uY2hpbGROb2Rlc1tuIC0gMV0sIG4gPSBvLnRleHRDb250ZW50Lmxlbmd0aCkpLCAoZC5pc0xpbmVCcmVha1RhZyh0KSB8fCBkLmlzRW1wdHkodCkpICYmIHRoaXMuZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyhvLCBcImxlZnRcIikuZXZlcnkoKGwpID0+IHtcbiAgICAgIGNvbnN0IGMgPSBkLmlzTGluZUJyZWFrVGFnKGwpLCB1ID0gbC5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgZC5pc0xpbmVCcmVha1RhZyhsLmNoaWxkcmVuWzBdKSwgaCA9IGMgfHwgdTtcbiAgICAgIHJldHVybiBkLmlzRW1wdHkobCkgJiYgIWg7XG4gICAgfSkgJiYgbiA9PT0gaSA/ICEwIDogdCA9PT0gbnVsbCB8fCBvID09PSB0ICYmIG4gPD0gaTtcbiAgfVxuICAvKipcbiAgICogR2V0J3MgZGVlcGVzdCBsYXN0IG5vZGUgYW5kIGNoZWNrcyBpZiBvZmZzZXQgaXMgbGFzdCBub2RlIHRleHQgbGVuZ3RoXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzQXRFbmQoKSB7XG4gICAgY29uc3QgZSA9IG0uZ2V0KCk7XG4gICAgbGV0IHQgPSBlLmZvY3VzTm9kZTtcbiAgICBjb25zdCBvID0gZC5nZXREZWVwZXN0Tm9kZSh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dCwgITApO1xuICAgIGlmIChkLmlzTmF0aXZlSW5wdXQobykpXG4gICAgICByZXR1cm4gby5zZWxlY3Rpb25FbmQgPT09IG8udmFsdWUubGVuZ3RoO1xuICAgIGlmICghZS5mb2N1c05vZGUpXG4gICAgICByZXR1cm4gITE7XG4gICAgbGV0IGkgPSBlLmZvY3VzT2Zmc2V0O1xuICAgIGlmICh0Lm5vZGVUeXBlICE9PSBOb2RlLlRFWFRfTk9ERSAmJiB0LmNoaWxkTm9kZXMubGVuZ3RoICYmICh0LmNoaWxkTm9kZXNbaSAtIDFdID8gKHQgPSB0LmNoaWxkTm9kZXNbaSAtIDFdLCBpID0gdC50ZXh0Q29udGVudC5sZW5ndGgpIDogKHQgPSB0LmNoaWxkTm9kZXNbMF0sIGkgPSAwKSksIGQuaXNMaW5lQnJlYWtUYWcobykgfHwgZC5pc0VtcHR5KG8pKSB7XG4gICAgICBjb25zdCByID0gdGhpcy5nZXRIaWdoZXJMZXZlbFNpYmxpbmdzKHQsIFwicmlnaHRcIik7XG4gICAgICBpZiAoci5ldmVyeSgobCwgYykgPT4gYyA9PT0gci5sZW5ndGggLSAxICYmIGQuaXNMaW5lQnJlYWtUYWcobCkgfHwgZC5pc0VtcHR5KGwpICYmICFkLmlzTGluZUJyZWFrVGFnKGwpKSAmJiBpID09PSB0LnRleHRDb250ZW50Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBjb25zdCBuID0gby50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMrJC8sIFwiXCIpO1xuICAgIHJldHVybiB0ID09PSBvICYmIGkgPj0gbi5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBnZXRzIEJsb2NrIGluc3RhbmNlIGFuZCBwdXRzIGNhcmV0IHRvIHRoZSB0ZXh0IG5vZGUgd2l0aCBvZmZzZXRcbiAgICogVGhlcmUgdHdvIHdheXMgdGhhdCBtZXRob2QgYXBwbGllcyBjYXJldCBwb3NpdGlvbjpcbiAgICogICAtIGZpcnN0IGZvdW5kIHRleHQgbm9kZTogc2V0cyBhdCB0aGUgYmVnaW5uaW5nLCBidXQgeW91IGNhbiBwYXNzIGFuIG9mZnNldFxuICAgKiAgIC0gbGFzdCBmb3VuZCB0ZXh0IG5vZGU6IHNldHMgYXQgdGhlIGVuZCBvZiB0aGUgbm9kZS4gQWxzbywgeW91IGNhbiBjdXN0b21pemUgdGhlIGJlaGF2aW91clxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIGNsYXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIHBvc2l0aW9uIHdoZXJlIHRvIHNldCBjYXJldC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZGVmYXVsdCAtIGxlYXZlIGRlZmF1bHQgYmVoYXZpb3VyIGFuZCBhcHBseSBvZmZzZXQgaWYgaXQncyBwYXNzZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIGNhcmV0IG9mZnNldCByZWdhcmRpbmcgdG8gdGhlIHRleHQgbm9kZVxuICAgKi9cbiAgc2V0VG9CbG9jayhlLCB0ID0gdGhpcy5wb3NpdGlvbnMuREVGQVVMVCwgbyA9IDApIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgbGV0IG47XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICBuID0gZS5maXJzdElucHV0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuRU5EOlxuICAgICAgICBuID0gZS5sYXN0SW5wdXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbiA9IGUuY3VycmVudElucHV0O1xuICAgIH1cbiAgICBpZiAoIW4pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgciA9IGQuZ2V0RGVlcGVzdE5vZGUobiwgdCA9PT0gdGhpcy5wb3NpdGlvbnMuRU5EKSwgYSA9IGQuZ2V0Q29udGVudExlbmd0aChyKTtcbiAgICBzd2l0Y2ggKCEwKSB7XG4gICAgICBjYXNlIHQgPT09IHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICBvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHQgPT09IHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgIGNhc2UgbyA+IGE6XG4gICAgICAgIG8gPSBhO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgb2UoKCkgPT4ge1xuICAgICAgdGhpcy5zZXQociwgbyk7XG4gICAgfSwgMjApKCksIGkuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUoZS5ob2xkZXIpLCBpLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQgPSBuO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgY2FyZXQgdG8gdGhlIGN1cnJlbnQgaW5wdXQgb2YgY3VycmVudCBCbG9jay5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaW5wdXQgLSBpbnB1dCB3aGVyZSBjYXJldCBzaG91bGQgYmUgc2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIHBvc2l0aW9uIG9mIHRoZSBjYXJldC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZGVmYXVsdCAtIGxlYXZlIGRlZmF1bHQgYmVoYXZpb3VyIGFuZCBhcHBseSBvZmZzZXQgaWYgaXQncyBwYXNzZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIGNhcmV0IG9mZnNldCByZWdhcmRpbmcgdG8gdGhlIHRleHQgbm9kZVxuICAgKi9cbiAgc2V0VG9JbnB1dChlLCB0ID0gdGhpcy5wb3NpdGlvbnMuREVGQVVMVCwgbyA9IDApIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogaSB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCBuID0gZC5nZXREZWVwZXN0Tm9kZShlKTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuU1RBUlQ6XG4gICAgICAgIHRoaXMuc2V0KG4sIDApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuRU5EOlxuICAgICAgICB0aGlzLnNldChuLCBkLmdldENvbnRlbnRMZW5ndGgobikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG8gJiYgdGhpcy5zZXQobiwgbyk7XG4gICAgfVxuICAgIGkuY3VycmVudElucHV0ID0gZTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBEb2N1bWVudCBSYW5nZSBhbmQgc2V0cyBjYXJldCB0byB0aGUgZWxlbWVudCB3aXRoIG9mZnNldFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGFyZ2V0IG5vZGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBvZmZzZXRcbiAgICovXG4gIHNldChlLCB0ID0gMCkge1xuICAgIGNvbnN0IHsgdG9wOiBvLCBib3R0b206IGkgfSA9IG0uc2V0Q3Vyc29yKGUsIHQpLCB7IGlubmVySGVpZ2h0OiBuIH0gPSB3aW5kb3c7XG4gICAgbyA8IDAgJiYgd2luZG93LnNjcm9sbEJ5KDAsIG8pLCBpID4gbiAmJiB3aW5kb3cuc2Nyb2xsQnkoMCwgaSAtIG4pO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgQ2FyZXQgdG8gdGhlIGxhc3QgQmxvY2tcbiAgICogSWYgbGFzdCBibG9jayBpcyBub3QgZW1wdHksIGFwcGVuZCBhbm90aGVyIGVtcHR5IGJsb2NrXG4gICAqL1xuICBzZXRUb1RoZUxhc3RCbG9jaygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmxhc3RCbG9jaztcbiAgICBpZiAoZSlcbiAgICAgIGlmIChlLnRvb2wuaXNEZWZhdWx0ICYmIGUuaXNFbXB0eSlcbiAgICAgICAgdGhpcy5zZXRUb0Jsb2NrKGUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0QXRFbmQoKTtcbiAgICAgICAgdGhpcy5zZXRUb0Jsb2NrKHQpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0IGNvbnRlbnQgZnJhZ21lbnQgb2YgY3VycmVudCBCbG9jayBmcm9tIENhcmV0IHBvc2l0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIEJsb2NrXG4gICAqL1xuICBleHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvbigpIHtcbiAgICBjb25zdCBlID0gbS5nZXQoKTtcbiAgICBpZiAoZS5yYW5nZUNvdW50KSB7XG4gICAgICBjb25zdCB0ID0gZS5nZXRSYW5nZUF0KDApLCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQ7XG4gICAgICBpZiAodC5kZWxldGVDb250ZW50cygpLCBvKVxuICAgICAgICBpZiAoZC5pc05hdGl2ZUlucHV0KG8pKSB7XG4gICAgICAgICAgY29uc3QgaSA9IG8sIG4gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIHIgPSBpLnZhbHVlLnN1YnN0cmluZygwLCBpLnNlbGVjdGlvblN0YXJ0KSwgYSA9IGkudmFsdWUuc3Vic3RyaW5nKGkuc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgIHJldHVybiBuLnRleHRDb250ZW50ID0gYSwgaS52YWx1ZSA9IHIsIG47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaSA9IHQuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgIHJldHVybiBpLnNlbGVjdE5vZGVDb250ZW50cyhvKSwgaS5zZXRTdGFydCh0LmVuZENvbnRhaW5lciwgdC5lbmRPZmZzZXQpLCBpLmV4dHJhY3RDb250ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXQncyBjYXJldCB0byB0aGUgbmV4dCBCbG9jayBvciBUb29sYHMgaW5wdXRcbiAgICogQmVmb3JlIG1vdmluZyBjYXJldCwgd2Ugc2hvdWxkIGNoZWNrIGlmIGNhcmV0IHBvc2l0aW9uIGlzIGF0IHRoZSBlbmQgb2YgUGx1Z2lucyBub2RlXG4gICAqIFVzaW5nIHtAbGluayBEb20jZ2V0RGVlcGVzdE5vZGV9IHRvIGdldCBhIGxhc3Qgbm9kZSBhbmQgbWF0Y2ggd2l0aCBjdXJyZW50IHNlbGVjdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIG5hdmlnYXRlTmV4dCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiB0LCBuZXh0Q29udGVudGZ1bEJsb2NrOiBvIH0gPSBlLCB7IG5leHRJbnB1dDogaSB9ID0gdCwgbiA9IHRoaXMuaXNBdEVuZDtcbiAgICBsZXQgciA9IG87XG4gICAgaWYgKCFyICYmICFpKSB7XG4gICAgICBpZiAodC50b29sLmlzRGVmYXVsdCB8fCAhbilcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgciA9IGUuaW5zZXJ0QXRFbmQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gPyAoaSA/IHRoaXMuc2V0VG9JbnB1dChpLCB0aGlzLnBvc2l0aW9ucy5TVEFSVCkgOiB0aGlzLnNldFRvQmxvY2sociwgdGhpcy5wb3NpdGlvbnMuU1RBUlQpLCAhMCkgOiAhMTtcbiAgfVxuICAvKipcbiAgICogU2V0J3MgY2FyZXQgdG8gdGhlIHByZXZpb3VzIFRvb2xgcyBpbnB1dCBvciBCbG9ja1xuICAgKiBCZWZvcmUgbW92aW5nIGNhcmV0LCB3ZSBzaG91bGQgY2hlY2sgaWYgY2FyZXQgcG9zaXRpb24gaXMgc3RhcnQgb2YgdGhlIFBsdWdpbnMgbm9kZVxuICAgKiBVc2luZyB7QGxpbmsgRG9tI2dldERlZXBlc3ROb2RlfSB0byBnZXQgYSBsYXN0IG5vZGUgYW5kIG1hdGNoIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBuYXZpZ2F0ZVByZXZpb3VzKCkge1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiBlLCBwcmV2aW91c0NvbnRlbnRmdWxCbG9jazogdCB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCB7IHByZXZpb3VzSW5wdXQ6IG8gfSA9IGU7XG4gICAgcmV0dXJuICF0ICYmICFvID8gITEgOiB0aGlzLmlzQXRTdGFydCA/IChvID8gdGhpcy5zZXRUb0lucHV0KG8sIHRoaXMucG9zaXRpb25zLkVORCkgOiB0aGlzLnNldFRvQmxvY2sodCwgdGhpcy5wb3NpdGlvbnMuRU5EKSwgITApIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgc2hhZG93IGVsZW1lbnQgYWZ0ZXIgcGFzc2VkIGVsZW1lbnQgd2hlcmUgY2FyZXQgY2FuIGJlIHBsYWNlZFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IGFmdGVyIHdoaWNoIHNoYWRvdyBjYXJldCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICovXG4gIGNyZWF0ZVNoYWRvdyhlKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHQuY2xhc3NMaXN0LmFkZCh2ZS5DU1Muc2hhZG93Q2FyZXQpLCBlLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCB0KTtcbiAgfVxuICAvKipcbiAgICogUmVzdG9yZXMgY2FyZXQgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgY2FyZXQgc2hvdWxkIGJlIHJlc3RvcmVkXG4gICAqL1xuICByZXN0b3JlQ2FyZXQoZSkge1xuICAgIGNvbnN0IHQgPSBlLnF1ZXJ5U2VsZWN0b3IoYC4ke3ZlLkNTUy5zaGFkb3dDYXJldH1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgbmV3IG0oKS5leHBhbmRUb1RhZyh0KSwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGkuc2VsZWN0Tm9kZSh0KSwgaS5leHRyYWN0Q29udGVudHMoKTtcbiAgICB9LCA1MCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgcGFzc2VkIGNvbnRlbnQgYXQgY2FyZXQgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSBjb250ZW50IHRvIGluc2VydFxuICAgKi9cbiAgaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihlKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGkgPSBtLmdldCgpLCBuID0gbS5yYW5nZTtcbiAgICBvLmlubmVySFRNTCA9IGUsIEFycmF5LmZyb20oby5jaGlsZE5vZGVzKS5mb3JFYWNoKChsKSA9PiB0LmFwcGVuZENoaWxkKGwpKSwgdC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCAmJiB0LmFwcGVuZENoaWxkKG5ldyBUZXh0KCkpO1xuICAgIGNvbnN0IHIgPSB0Lmxhc3RDaGlsZDtcbiAgICBuLmRlbGV0ZUNvbnRlbnRzKCksIG4uaW5zZXJ0Tm9kZSh0KTtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBhLnNldFN0YXJ0KHIsIHIudGV4dENvbnRlbnQubGVuZ3RoKSwgaS5yZW1vdmVBbGxSYW5nZXMoKSwgaS5hZGRSYW5nZShhKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFsbCBmaXJzdC1sZXZlbCAoZmlyc3QgY2hpbGQgb2YgW2NvbnRlbnRlZGl0YWJsZV0pIHNpYmxpbmdzIGZyb20gcGFzc2VkIG5vZGVcbiAgICogVGhlbiB5b3UgY2FuIGNoZWNrIGl0IGZvciBlbXB0aW5lc3NcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjb250ZW50ZWRpdGFibGU+XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgbGVmdCBmaXJzdC1sZXZlbCBzaWJsaW5nc1xuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogPGJsb2NrcXVvdGU+PGE+PGI+YWRhZGRhZDwvYj48YT48YmxvY2txdW90ZT4gICAgICAgPC0tIHBhc3NlZCBub2RlIGZvciBleGFtcGxlIDxiPlxuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHJpZ2h0IGZpcnN0LWxldmVsIHNpYmxpbmdzXG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8L2Rpdj5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZnJvbSAtIGVsZW1lbnQgZnJvbSB3aGljaCBzaWJsaW5ncyBzaG91bGQgYmUgc2VhcmNoZWRcbiAgICogQHBhcmFtIHsnbGVmdCcgfCAncmlnaHQnfSBkaXJlY3Rpb24gLSBkaXJlY3Rpb24gb2Ygc2VhcmNoXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyhlLCB0KSB7XG4gICAgbGV0IG8gPSBlO1xuICAgIGNvbnN0IGkgPSBbXTtcbiAgICBmb3IgKDsgby5wYXJlbnROb2RlICYmIG8ucGFyZW50Tm9kZS5jb250ZW50RWRpdGFibGUgIT09IFwidHJ1ZVwiOyApXG4gICAgICBvID0gby5wYXJlbnROb2RlO1xuICAgIGNvbnN0IG4gPSB0ID09PSBcImxlZnRcIiA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCI7XG4gICAgZm9yICg7IG9bbl07IClcbiAgICAgIG8gPSBvW25dLCBpLnB1c2gobyk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbn1cbmNsYXNzIFZvIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMub25Nb3VzZVVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5saXN0ZW5lcnMub2ZmKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB0aGlzLm9uTW91c2VPdmVyKSwgdGhpcy5saXN0ZW5lcnMub2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuICAgIH0sIHRoaXMub25Nb3VzZU92ZXIgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IHQuZ2V0QmxvY2tCeUNoaWxkTm9kZShlLnJlbGF0ZWRUYXJnZXQpIHx8IHRoaXMubGFzdFNlbGVjdGVkQmxvY2ssIG4gPSB0LmdldEJsb2NrQnlDaGlsZE5vZGUoZS50YXJnZXQpO1xuICAgICAgaWYgKCEoIWkgfHwgIW4pICYmIG4gIT09IGkpIHtcbiAgICAgICAgaWYgKGkgPT09IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrKSB7XG4gICAgICAgICAgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgaS5zZWxlY3RlZCA9ICEwLCBuLnNlbGVjdGVkID0gITAsIG8uY2xlYXJDYWNoZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA9PT0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2spIHtcbiAgICAgICAgICBpLnNlbGVjdGVkID0gITEsIG4uc2VsZWN0ZWQgPSAhMSwgby5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKSwgdGhpcy50b2dnbGVCbG9ja3NTZWxlY3RlZFN0YXRlKGksIG4pLCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgcHJlcGFyYXRpb25cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5lbmFibGVDcm9zc0Jsb2NrU2VsZWN0aW9uKGUpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGxpc3RlbmVyc1xuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZG93biBldmVudFxuICAgKi9cbiAgd2F0Y2hTZWxlY3Rpb24oZSkge1xuICAgIGlmIChlLmJ1dHRvbiAhPT0gX3QuTEVGVClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPSB0LmdldEJsb2NrKGUudGFyZ2V0KSwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrLCB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdGhpcy5vbk1vdXNlT3ZlciksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm4gYm9vbGVhbiBpcyBjcm9zcyBibG9jayBzZWxlY3Rpb24gc3RhcnRlZFxuICAgKi9cbiAgZ2V0IGlzQ3Jvc3NCbG9ja1NlbGVjdGlvblN0YXJ0ZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgJiYgISF0aGlzLmxhc3RTZWxlY3RlZEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugc2VsZWN0aW9uIHN0YXRlIG9mIHRoZSBuZXh0IEJsb2NrXG4gICAqIFVzZWQgZm9yIENCUyB2aWEgU2hpZnQgKyBhcnJvdyBrZXlzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmV4dCAtIGlmIHRydWUsIHRvZ2dsZSBuZXh0IGJsb2NrLiBQcmV2aW91cyBvdGhlcndpc2VcbiAgICovXG4gIHRvZ2dsZUJsb2NrU2VsZWN0ZWRTdGF0ZShlID0gITApIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgfHwgKHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHQuY3VycmVudEJsb2NrKSwgdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPT09IHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgJiYgKHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrLnNlbGVjdGVkID0gITAsIG8uY2xlYXJDYWNoZSgpLCBtLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpKTtcbiAgICBjb25zdCBpID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmxhc3RTZWxlY3RlZEJsb2NrKSArIChlID8gMSA6IC0xKSwgbiA9IHQuYmxvY2tzW2ldO1xuICAgIG4gJiYgKHRoaXMubGFzdFNlbGVjdGVkQmxvY2suc2VsZWN0ZWQgIT09IG4uc2VsZWN0ZWQgPyAobi5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKSkgOiAodGhpcy5sYXN0U2VsZWN0ZWRCbG9jay5zZWxlY3RlZCA9ICExLCBvLmNsZWFyQ2FjaGUoKSksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBuLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksIG4uaG9sZGVyLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJsb2NrOiBcIm5lYXJlc3RcIlxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgc2F2ZWQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gcmVhc29uIC0gZXZlbnQgY2F1c2VkIGNsZWFyIG9mIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXIoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yLCBuID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayksIHIgPSB0LmJsb2Nrcy5pbmRleE9mKHRoaXMubGFzdFNlbGVjdGVkQmxvY2spO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgbiA+IC0xICYmIHIgPiAtMSlcbiAgICAgIGlmIChlICYmIGUgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50KVxuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgQi5ET1dOOlxuICAgICAgICAgIGNhc2UgQi5SSUdIVDpcbiAgICAgICAgICAgIGkuc2V0VG9CbG9jayh0LmJsb2Nrc1tNYXRoLm1heChuLCByKV0sIGkucG9zaXRpb25zLkVORCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEIuVVA6XG4gICAgICAgICAgY2FzZSBCLkxFRlQ6XG4gICAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5taW4obiwgcildLCBpLnBvc2l0aW9ucy5TVEFSVCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWF4KG4sIHIpXSwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5tYXgobiwgcildLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgQ3Jvc3MgQmxvY2sgU2VsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBtb3VzZSBkb3duIGV2ZW50XG4gICAqL1xuICBlbmFibGVDcm9zc0Jsb2NrU2VsZWN0aW9uKGUpIHtcbiAgICBjb25zdCB7IFVJOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBtLmlzQ29sbGFwc2VkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpLCB0Lm5vZGVzLnJlZGFjdG9yLmNvbnRhaW5zKGUudGFyZ2V0KSA/IHRoaXMud2F0Y2hTZWxlY3Rpb24oZSkgOiB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIGJsb2NrcyBzZWxlY3Rpb24gc3RhdGUgYmV0d2VlbiBwYXNzZWQgdHdvIGJsb2Nrcy5cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gZmlyc3RCbG9jayAtIGZpcnN0IGJsb2NrIGluIHJhbmdlXG4gICAqIEBwYXJhbSB7QmxvY2t9IGxhc3RCbG9jayAtIGxhc3QgYmxvY2sgaW4gcmFuZ2VcbiAgICovXG4gIHRvZ2dsZUJsb2Nrc1NlbGVjdGVkU3RhdGUoZSwgdCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvLCBCbG9ja1NlbGVjdGlvbjogaSB9ID0gdGhpcy5FZGl0b3IsIG4gPSBvLmJsb2Nrcy5pbmRleE9mKGUpLCByID0gby5ibG9ja3MuaW5kZXhPZih0KSwgYSA9IGUuc2VsZWN0ZWQgIT09IHQuc2VsZWN0ZWQ7XG4gICAgZm9yIChsZXQgbCA9IE1hdGgubWluKG4sIHIpOyBsIDw9IE1hdGgubWF4KG4sIHIpOyBsKyspIHtcbiAgICAgIGNvbnN0IGMgPSBvLmJsb2Nrc1tsXTtcbiAgICAgIGMgIT09IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrICYmIGMgIT09IChhID8gZSA6IHQpICYmIChvLmJsb2Nrc1tsXS5zZWxlY3RlZCA9ICFvLmJsb2Nrc1tsXS5zZWxlY3RlZCwgaS5jbGVhckNhY2hlKCkpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgWm8gZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIGlmIHN0YXRlIGlzIHRydWU6XG4gICAqICAtIGRpc2FibGUgYWxsIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqXG4gICAqIGlmIHN0YXRlIGlzIGZhbHNlOlxuICAgKiAgLSByZXN0b3JlIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gXCJyZWFkIG9ubHlcIiBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpIDogdGhpcy5lbmFibGVNb2R1bGVCaW5kaW5ncygpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZHJhZyBldmVudHMgbGlzdGVuZXJzIHRvIGVkaXRvciB6b25lXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICBjb25zdCB7IFVJOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLm5vZGVzLmhvbGRlciwgXCJkcm9wXCIsIGFzeW5jICh0KSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnByb2Nlc3NEcm9wKHQpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJhZ3N0YXJ0XCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc0RyYWdTdGFydCgpO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLm5vZGVzLmhvbGRlciwgXCJkcmFnb3ZlclwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzRHJhZ092ZXIodCk7XG4gICAgfSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBVbmJpbmQgZHJhZy1uLWRyb3AgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgZHJvcCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZHJvcEV2ZW50IC0gZHJvcCBldmVudFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0Ryb3AoZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIEJsb2NrTWFuYWdlcjogdCxcbiAgICAgIENhcmV0OiBvLFxuICAgICAgUGFzdGU6IGlcbiAgICB9ID0gdGhpcy5FZGl0b3I7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0LmJsb2Nrcy5mb3JFYWNoKChyKSA9PiB7XG4gICAgICByLmRyb3BUYXJnZXQgPSAhMTtcbiAgICB9KSwgbS5pc0F0RWRpdG9yICYmICFtLmlzQ29sbGFwc2VkICYmIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgJiYgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJkZWxldGVcIiksIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgPSAhMTtcbiAgICBjb25zdCBuID0gdC5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgaWYgKG4pXG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLkVORCk7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCByID0gdC5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZSh0Lmxhc3RCbG9jay5ob2xkZXIpO1xuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhyLCBvLnBvc2l0aW9ucy5FTkQpO1xuICAgIH1cbiAgICBhd2FpdCBpLnByb2Nlc3NEYXRhVHJhbnNmZXIoZS5kYXRhVHJhbnNmZXIsICEwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGRyYWcgc3RhcnQgZXZlbnRcbiAgICovXG4gIHByb2Nlc3NEcmFnU3RhcnQoKSB7XG4gICAgbS5pc0F0RWRpdG9yICYmICFtLmlzQ29sbGFwc2VkICYmICh0aGlzLmlzU3RhcnRlZEF0RWRpdG9yID0gITApLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBkcmFnRXZlbnQgLSBkcmFnIGV2ZW50XG4gICAqL1xuICBwcm9jZXNzRHJhZ092ZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuY2xhc3MgR28gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIFByZXBhcmUgdGhlIG1vZHVsZVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbnMgdXNlZCBieSB0aGUgbW9kaWZpY2F0aW9uIG9ic2VydmVyIG1vZHVsZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5jb25maWcgLSBFZGl0b3IgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICogQHBhcmFtIG9wdGlvbnMuZXZlbnRzRGlzcGF0Y2hlciAtIGNvbW1vbiBFZGl0b3IgZXZlbnQgYnVzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLmRpc2FibGVkID0gITEsIHRoaXMuYmF0Y2hpbmdUaW1lb3V0ID0gbnVsbCwgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLmJhdGNoVGltZSA9IDQwMCwgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG8pID0+IHtcbiAgICAgIHRoaXMucmVkYWN0b3JDaGFuZ2VkKG8pO1xuICAgIH0pLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24obHQsIChvKSA9PiB7XG4gICAgICB0aGlzLnBhcnRpY3VsYXJCbG9ja0NoYW5nZWQoby5ldmVudCk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihjdCwgKCkgPT4ge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihkdCwgKCkgPT4ge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvbkNoYW5nZSBldmVudFxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKFxuICAgICAgdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3IsXG4gICAgICB7XG4gICAgICAgIGNoaWxkTGlzdDogITAsXG4gICAgICAgIHN1YnRyZWU6ICEwLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiAhMCxcbiAgICAgICAgYXR0cmlidXRlczogITBcbiAgICAgIH1cbiAgICApLCB0aGlzLmRpc2FibGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIG9uQ2hhbmdlIGV2ZW50XG4gICAqL1xuICBkaXNhYmxlKCkge1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCksIHRoaXMuZGlzYWJsZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBvbkNoYW5nZSBldmVudCBwYXNzZWQgdG8gRWRpdG9yLmpzIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gc29tZSBvZiBvdXIgY3VzdG9tIGNoYW5nZSBldmVudHNcbiAgICovXG4gIHBhcnRpY3VsYXJCbG9ja0NoYW5nZWQoZSkge1xuICAgIHRoaXMuZGlzYWJsZWQgfHwgIUQodGhpcy5jb25maWcub25DaGFuZ2UpIHx8ICh0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5zZXQoYGJsb2NrOiR7ZS5kZXRhaWwudGFyZ2V0LmlkfTpldmVudDoke2UudHlwZX1gLCBlKSwgdGhpcy5iYXRjaGluZ1RpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hpbmdUaW1lb3V0KSwgdGhpcy5iYXRjaGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxldCB0O1xuICAgICAgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUuc2l6ZSA9PT0gMSA/IHQgPSB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS52YWx1ZXMoKS5uZXh0KCkudmFsdWUgOiB0ID0gQXJyYXkuZnJvbSh0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS52YWx1ZXMoKSksIHRoaXMuY29uZmlnLm9uQ2hhbmdlICYmIHRoaXMuY29uZmlnLm9uQ2hhbmdlKHRoaXMuRWRpdG9yLkFQSS5tZXRob2RzLCB0KSwgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUuY2xlYXIoKTtcbiAgICB9LCB0aGlzLmJhdGNoVGltZSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlZCBvbiBldmVyeSBibG9ja3Mgd3JhcHBlciBkb20gY2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvbnMgLSBtdXRhdGlvbnMgaGFwcGVuZWRcbiAgICovXG4gIHJlZGFjdG9yQ2hhbmdlZChlKSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoTWUsIHtcbiAgICAgIG11dGF0aW9uczogZVxuICAgIH0pO1xuICB9XG59XG5jb25zdCB4dCA9IGNsYXNzIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuTUlNRV9UWVBFID0gXCJhcHBsaWNhdGlvbi94LWVkaXRvci1qc1wiLCB0aGlzLnRvb2xzVGFncyA9IHt9LCB0aGlzLnRhZ3NCeVRvb2wgPSB7fSwgdGhpcy50b29sc1BhdHRlcm5zID0gW10sIHRoaXMudG9vbHNGaWxlcyA9IHt9LCB0aGlzLmV4Y2VwdGlvbkxpc3QgPSBbXSwgdGhpcy5wcm9jZXNzVG9vbCA9IChzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gcy5jcmVhdGUoe30sIHt9LCAhMSk7XG4gICAgICAgIGlmIChzLnBhc3RlQ29uZmlnID09PSAhMSkge1xuICAgICAgICAgIHRoaXMuZXhjZXB0aW9uTGlzdC5wdXNoKHMubmFtZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRChlLm9uUGFzdGUpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5nZXRUYWdzQ29uZmlnKHMpLCB0aGlzLmdldEZpbGVzQ29uZmlnKHMpLCB0aGlzLmdldFBhdHRlcm5zQ29uZmlnKHMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBUKFxuICAgICAgICAgIGBQYXN0ZSBoYW5kbGluZyBmb3IgXHUwMEFCJHtzLm5hbWV9XHUwMEJCIFRvb2wgaGFzbid0IGJlZW4gc2V0IHVwIGJlY2F1c2Ugb2YgdGhlIGVycm9yYCxcbiAgICAgICAgICBcIndhcm5cIixcbiAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5oYW5kbGVQYXN0ZUV2ZW50ID0gYXN5bmMgKHMpID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBUb29sYmFyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgICFlLmN1cnJlbnRCbG9jayB8fCB0aGlzLmlzTmF0aXZlQmVoYXZpb3VyKHMudGFyZ2V0KSAmJiAhcy5jbGlwYm9hcmREYXRhLnR5cGVzLmluY2x1ZGVzKFwiRmlsZXNcIikgfHwgZS5jdXJyZW50QmxvY2sgJiYgdGhpcy5leGNlcHRpb25MaXN0LmluY2x1ZGVzKGUuY3VycmVudEJsb2NrLm5hbWUpIHx8IChzLnByZXZlbnREZWZhdWx0KCksIHRoaXMucHJvY2Vzc0RhdGFUcmFuc2ZlcihzLmNsaXBib2FyZERhdGEpLCBlLmNsZWFyRm9jdXNlZCgpLCB0LmNsb3NlKCkpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBvblBhc3RlIGNhbGxiYWNrIGFuZCBjb2xsZWN0IHRvb2xzYCBwYXN0ZSBjb25maWd1cmF0aW9uc1xuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLnByb2Nlc3NUb29scygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gcmVhZCBvbmx5IGZsYWcgdmFsdWVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KHMpIHtcbiAgICBzID8gdGhpcy51bnNldENhbGxiYWNrKCkgOiB0aGlzLnNldENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBwYXN0ZWQgb3IgZHJvcHBlZCBkYXRhIHRyYW5zZmVyIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge0RhdGFUcmFuc2Zlcn0gZGF0YVRyYW5zZmVyIC0gcGFzdGVkIG9yIGRyb3BwZWQgZGF0YSB0cmFuc2ZlciBvYmplY3RcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0RyYWdORHJvcCAtIHRydWUgaWYgZGF0YSB0cmFuc2ZlciBjb21lcyBmcm9tIGRyYWcnbidkcm9wIGV2ZW50c1xuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0RhdGFUcmFuc2ZlcihzLCBlID0gITEpIHtcbiAgICBjb25zdCB7IFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IHMudHlwZXM7XG4gICAgaWYgKChvLmluY2x1ZGVzID8gby5pbmNsdWRlcyhcIkZpbGVzXCIpIDogby5jb250YWlucyhcIkZpbGVzXCIpKSAmJiAhVih0aGlzLnRvb2xzRmlsZXMpKSB7XG4gICAgICBhd2FpdCB0aGlzLnByb2Nlc3NGaWxlcyhzLmZpbGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbiA9IHMuZ2V0RGF0YSh0aGlzLk1JTUVfVFlQRSksIHIgPSBzLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgIGxldCBhID0gcy5nZXREYXRhKFwidGV4dC9odG1sXCIpO1xuICAgIGlmIChuKVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnNlcnRFZGl0b3JKU0RhdGEoSlNPTi5wYXJzZShuKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIGUgJiYgci50cmltKCkgJiYgYS50cmltKCkgJiYgKGEgPSBcIjxwPlwiICsgKGEudHJpbSgpID8gYSA6IHIpICsgXCI8L3A+XCIpO1xuICAgIGNvbnN0IGwgPSBPYmplY3Qua2V5cyh0aGlzLnRvb2xzVGFncykucmVkdWNlKChoLCBmKSA9PiAoaFtmLnRvTG93ZXJDYXNlKCldID0gdGhpcy50b29sc1RhZ3NbZl0uc2FuaXRpemF0aW9uQ29uZmlnID8/IHt9LCBoKSwge30pLCBjID0gT2JqZWN0LmFzc2lnbih7fSwgbCwgdC5nZXRBbGxJbmxpbmVUb29sc1Nhbml0aXplQ29uZmlnKCksIHsgYnI6IHt9IH0pLCB1ID0gWihhLCBjKTtcbiAgICAhdS50cmltKCkgfHwgdS50cmltKCkgPT09IHIgfHwgIWQuaXNIVE1MU3RyaW5nKHUpID8gYXdhaXQgdGhpcy5wcm9jZXNzVGV4dChyKSA6IGF3YWl0IHRoaXMucHJvY2Vzc1RleHQodSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBQcm9jZXNzIHBhc3RlZCB0ZXh0IGFuZCBkaXZpZGUgdGhlbSBpbnRvIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAtIHRleHQgdG8gcHJvY2Vzcy4gQ2FuIGJlIEhUTUwgb3IgcGxhaW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIVE1MIC0gaWYgcGFzc2VkIHN0cmluZyBpcyBIVE1MLCB0aGlzIHBhcmFtZXRlciBzaG91bGQgYmUgdHJ1ZVxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1RleHQocywgZSA9ICExKSB7XG4gICAgY29uc3QgeyBDYXJldDogdCwgQmxvY2tNYW5hZ2VyOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IGUgPyB0aGlzLnByb2Nlc3NIVE1MKHMpIDogdGhpcy5wcm9jZXNzUGxhaW4ocyk7XG4gICAgaWYgKCFpLmxlbmd0aClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlbMF0uaXNCbG9jayA/IHRoaXMucHJvY2Vzc1NpbmdsZUJsb2NrKGkucG9wKCkpIDogdGhpcy5wcm9jZXNzSW5saW5lUGFzdGUoaS5wb3AoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHIgPSBvLmN1cnJlbnRCbG9jayAmJiBvLmN1cnJlbnRCbG9jay50b29sLmlzRGVmYXVsdCAmJiBvLmN1cnJlbnRCbG9jay5pc0VtcHR5O1xuICAgIGkubWFwKFxuICAgICAgYXN5bmMgKGEsIGwpID0+IHRoaXMuaW5zZXJ0QmxvY2soYSwgbCA9PT0gMCAmJiByKVxuICAgICksIG8uY3VycmVudEJsb2NrICYmIHQuc2V0VG9CbG9jayhvLmN1cnJlbnRCbG9jaywgdC5wb3NpdGlvbnMuRU5EKTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9uUGFzdGUgY2FsbGJhY2sgaGFuZGxlclxuICAgKi9cbiAgc2V0Q2FsbGJhY2soKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub24odGhpcy5FZGl0b3IuVUkubm9kZXMuaG9sZGVyLCBcInBhc3RlXCIsIHRoaXMuaGFuZGxlUGFzdGVFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc2V0IG9uUGFzdGUgY2FsbGJhY2sgaGFuZGxlclxuICAgKi9cbiAgdW5zZXRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vZmYodGhpcy5FZGl0b3IuVUkubm9kZXMuaG9sZGVyLCBcInBhc3RlXCIsIHRoaXMuaGFuZGxlUGFzdGVFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbmQgcHJvY2VzcyB0b29sYHMgcGFzdGUgY29uZmlnc1xuICAgKi9cbiAgcHJvY2Vzc1Rvb2xzKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzO1xuICAgIEFycmF5LmZyb20ocy52YWx1ZXMoKSkuZm9yRWFjaCh0aGlzLnByb2Nlc3NUb29sKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZ3MgbmFtZSBsaXN0IGZyb20gZWl0aGVyIHRhZyBuYW1lIG9yIHNhbml0aXphdGlvbiBjb25maWcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgb2JqZWN0fSB0YWdPclNhbml0aXplQ29uZmlnIC0gdGFnIG5hbWUgb3Igc2FuaXRpemUgY29uZmlnIG9iamVjdC5cbiAgICogQHJldHVybnMge3N0cmluZ1tdfSBhcnJheSBvZiB0YWdzLlxuICAgKi9cbiAgY29sbGVjdFRhZ05hbWVzKHMpIHtcbiAgICByZXR1cm4gSihzKSA/IFtzXSA6IGoocykgPyBPYmplY3Qua2V5cyhzKSA6IFtdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFncyB0byBzdWJzdGl0dXRlIGJ5IFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBCbG9ja1Rvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRUYWdzQ29uZmlnKHMpIHtcbiAgICBpZiAocy5wYXN0ZUNvbmZpZyA9PT0gITEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHMucGFzdGVDb25maWcudGFncyB8fCBbXSwgdCA9IFtdO1xuICAgIGUuZm9yRWFjaCgobykgPT4ge1xuICAgICAgY29uc3QgaSA9IHRoaXMuY29sbGVjdFRhZ05hbWVzKG8pO1xuICAgICAgdC5wdXNoKC4uLmkpLCBpLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnRvb2xzVGFncywgbikpIHtcbiAgICAgICAgICBUKFxuICAgICAgICAgICAgYFBhc3RlIGhhbmRsZXIgZm9yIFx1MDBBQiR7cy5uYW1lfVx1MDBCQiBUb29sIG9uIFx1MDBBQiR7bn1cdTAwQkIgdGFnIGlzIHNraXBwZWQgYmVjYXVzZSBpdCBpcyBhbHJlYWR5IHVzZWQgYnkgXHUwMEFCJHt0aGlzLnRvb2xzVGFnc1tuXS50b29sLm5hbWV9XHUwMEJCIFRvb2wuYCxcbiAgICAgICAgICAgIFwid2FyblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IGoobykgPyBvW25dIDogbnVsbDtcbiAgICAgICAgdGhpcy50b29sc1RhZ3Nbbi50b1VwcGVyQ2FzZSgpXSA9IHtcbiAgICAgICAgICB0b29sOiBzLFxuICAgICAgICAgIHNhbml0aXphdGlvbkNvbmZpZzogclxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSksIHRoaXMudGFnc0J5VG9vbFtzLm5hbWVdID0gdC5tYXAoKG8pID0+IG8udG9VcHBlckNhc2UoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlc2AgdHlwZXMgYW5kIGV4dGVuc2lvbnMgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0RmlsZXNDb25maWcocykge1xuICAgIGlmIChzLnBhc3RlQ29uZmlnID09PSAhMSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGZpbGVzOiBlID0ge30gfSA9IHMucGFzdGVDb25maWc7XG4gICAgbGV0IHsgZXh0ZW5zaW9uczogdCwgbWltZVR5cGVzOiBvIH0gPSBlO1xuICAgICF0ICYmICFvIHx8ICh0ICYmICFBcnJheS5pc0FycmF5KHQpICYmIChUKGBcdTAwQUJleHRlbnNpb25zXHUwMEJCIHByb3BlcnR5IG9mIHRoZSBvbkRyb3AgY29uZmlnIGZvciBcdTAwQUIke3MubmFtZX1cdTAwQkIgVG9vbCBzaG91bGQgYmUgYW4gYXJyYXlgKSwgdCA9IFtdKSwgbyAmJiAhQXJyYXkuaXNBcnJheShvKSAmJiAoVChgXHUwMEFCbWltZVR5cGVzXHUwMEJCIHByb3BlcnR5IG9mIHRoZSBvbkRyb3AgY29uZmlnIGZvciBcdTAwQUIke3MubmFtZX1cdTAwQkIgVG9vbCBzaG91bGQgYmUgYW4gYXJyYXlgKSwgbyA9IFtdKSwgbyAmJiAobyA9IG8uZmlsdGVyKChpKSA9PiBEdChpKSA/ICEwIDogKFQoYE1JTUUgdHlwZSB2YWx1ZSBcdTAwQUIke2l9XHUwMEJCIGZvciB0aGUgXHUwMEFCJHtzLm5hbWV9XHUwMEJCIFRvb2wgaXMgbm90IGEgdmFsaWQgTUlNRSB0eXBlYCwgXCJ3YXJuXCIpLCAhMSkpKSwgdGhpcy50b29sc0ZpbGVzW3MubmFtZV0gPSB7XG4gICAgICBleHRlbnNpb25zOiB0IHx8IFtdLFxuICAgICAgbWltZVR5cGVzOiBvIHx8IFtdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBSZWdFeHAgcGF0dGVybnMgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0UGF0dGVybnNDb25maWcocykge1xuICAgIHMucGFzdGVDb25maWcgPT09ICExIHx8ICFzLnBhc3RlQ29uZmlnLnBhdHRlcm5zIHx8IFYocy5wYXN0ZUNvbmZpZy5wYXR0ZXJucykgfHwgT2JqZWN0LmVudHJpZXMocy5wYXN0ZUNvbmZpZy5wYXR0ZXJucykuZm9yRWFjaCgoW2UsIHRdKSA9PiB7XG4gICAgICB0IGluc3RhbmNlb2YgUmVnRXhwIHx8IFQoXG4gICAgICAgIGBQYXR0ZXJuICR7dH0gZm9yIFx1MDBBQiR7cy5uYW1lfVx1MDBCQiBUb29sIGlzIHNraXBwZWQgYmVjYXVzZSBpdCBzaG91bGQgYmUgYSBSZWdleHAgaW5zdGFuY2UuYCxcbiAgICAgICAgXCJ3YXJuXCJcbiAgICAgICksIHRoaXMudG9vbHNQYXR0ZXJucy5wdXNoKHtcbiAgICAgICAga2V5OiBlLFxuICAgICAgICBwYXR0ZXJuOiB0LFxuICAgICAgICB0b29sOiBzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYnJvd3NlciBiZWhhdmlvciBzdWl0cyBiZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgY29udGVudCBoYXMgYmVlbiBwYXN0ZWRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc05hdGl2ZUJlaGF2aW91cihzKSB7XG4gICAgcmV0dXJuIGQuaXNOYXRpdmVJbnB1dChzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGZpbGVzIGZyb20gZGF0YSB0cmFuc2ZlciBvYmplY3QgYW5kIGluc2VydCByZWxhdGVkIFRvb2xzXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3R9IGl0ZW1zIC0gcGFzdGVkIG9yIGRyb3BwZWQgaXRlbXNcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NGaWxlcyhzKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCB0O1xuICAgIHQgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIEFycmF5LmZyb20ocykubWFwKChuKSA9PiB0aGlzLnByb2Nlc3NGaWxlKG4pKVxuICAgICksIHQgPSB0LmZpbHRlcigobikgPT4gISFuKTtcbiAgICBjb25zdCBpID0gZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgZS5jdXJyZW50QmxvY2suaXNFbXB0eTtcbiAgICB0LmZvckVhY2goXG4gICAgICAobiwgcikgPT4ge1xuICAgICAgICBlLnBhc3RlKG4udHlwZSwgbi5ldmVudCwgciA9PT0gMCAmJiBpKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgZmlsZSBhbmQgZmluZCBUb29sIHRvIGhhbmRsZSBpdFxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBmaWxlIHRvIHByb2Nlc3NcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NGaWxlKHMpIHtcbiAgICBjb25zdCBlID0gUnQocyksIHQgPSBPYmplY3QuZW50cmllcyh0aGlzLnRvb2xzRmlsZXMpLmZpbmQoKFtuLCB7IG1pbWVUeXBlczogciwgZXh0ZW5zaW9uczogYSB9XSkgPT4ge1xuICAgICAgY29uc3QgW2wsIGNdID0gcy50eXBlLnNwbGl0KFwiL1wiKSwgdSA9IGEuZmluZCgoZikgPT4gZi50b0xvd2VyQ2FzZSgpID09PSBlLnRvTG93ZXJDYXNlKCkpLCBoID0gci5maW5kKChmKSA9PiB7XG4gICAgICAgIGNvbnN0IFt2LCBwXSA9IGYuc3BsaXQoXCIvXCIpO1xuICAgICAgICByZXR1cm4gdiA9PT0gbCAmJiAocCA9PT0gYyB8fCBwID09PSBcIipcIik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXUgfHwgISFoO1xuICAgIH0pO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBbb10gPSB0O1xuICAgIHJldHVybiB7XG4gICAgICBldmVudDogdGhpcy5jb21wb3NlUGFzdGVFdmVudChcImZpbGVcIiwge1xuICAgICAgICBmaWxlOiBzXG4gICAgICB9KSxcbiAgICAgIHR5cGU6IG9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdCBIVE1MIHN0cmluZyB0byBibG9ja3MgYW5kIHJldHVybiBpdCBhcyBhcnJheSBvZiBCbG9jayBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbm5lckhUTUwgLSBodG1sIHN0cmluZyB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQYXN0ZURhdGFbXX1cbiAgICovXG4gIHByb2Nlc3NIVE1MKHMpIHtcbiAgICBjb25zdCB7IFRvb2xzOiBlIH0gPSB0aGlzLkVkaXRvciwgdCA9IGQubWFrZShcIkRJVlwiKTtcbiAgICByZXR1cm4gdC5pbm5lckhUTUwgPSBzLCB0aGlzLmdldE5vZGVzKHQpLm1hcCgoaSkgPT4ge1xuICAgICAgbGV0IG4sIHIgPSBlLmRlZmF1bHRUb29sLCBhID0gITE7XG4gICAgICBzd2l0Y2ggKGkubm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU6XG4gICAgICAgICAgbiA9IGQubWFrZShcImRpdlwiKSwgbi5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICBuID0gaSwgYSA9ICEwLCB0aGlzLnRvb2xzVGFnc1tuLnRhZ05hbWVdICYmIChyID0gdGhpcy50b29sc1RhZ3Nbbi50YWdOYW1lXS50b29sKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdGFnczogbCB9ID0gci5wYXN0ZUNvbmZpZyB8fCB7IHRhZ3M6IFtdIH0sIGMgPSBsLnJlZHVjZSgoZiwgdikgPT4gKHRoaXMuY29sbGVjdFRhZ05hbWVzKHYpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgY29uc3QgXyA9IGoodikgPyB2W2tdIDogbnVsbDtcbiAgICAgICAgZltrLnRvTG93ZXJDYXNlKCldID0gXyB8fCB7fTtcbiAgICAgIH0pLCBmKSwge30pLCB1ID0gT2JqZWN0LmFzc2lnbih7fSwgYywgci5iYXNlU2FuaXRpemVDb25maWcpO1xuICAgICAgaWYgKG4udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgY29uc3QgZiA9IFoobi5vdXRlckhUTUwsIHUpO1xuICAgICAgICBuID0gZC5tYWtlKFwiZGl2XCIsIHZvaWQgMCwge1xuICAgICAgICAgIGlubmVySFRNTDogZlxuICAgICAgICB9KS5maXJzdENoaWxkO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG4uaW5uZXJIVE1MID0gWihuLmlubmVySFRNTCwgdSk7XG4gICAgICBjb25zdCBoID0gdGhpcy5jb21wb3NlUGFzdGVFdmVudChcInRhZ1wiLCB7XG4gICAgICAgIGRhdGE6IG5cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udGVudDogbixcbiAgICAgICAgaXNCbG9jazogYSxcbiAgICAgICAgdG9vbDogci5uYW1lLFxuICAgICAgICBldmVudDogaFxuICAgICAgfTtcbiAgICB9KS5maWx0ZXIoKGkpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBkLmlzRW1wdHkoaS5jb250ZW50KSwgciA9IGQuaXNTaW5nbGVUYWcoaS5jb250ZW50KTtcbiAgICAgIHJldHVybiAhbiB8fCByO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdCBwbGFpbiB0ZXh0IGJ5IG5ldyBsaW5lIHN5bWJvbHMgYW5kIHJldHVybiBpdCBhcyBhcnJheSBvZiBCbG9jayBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwbGFpbiAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQYXN0ZURhdGFbXX1cbiAgICovXG4gIHByb2Nlc3NQbGFpbihzKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0QmxvY2s6IGUgfSA9IHRoaXMuY29uZmlnO1xuICAgIGlmICghcylcbiAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCB0ID0gZTtcbiAgICByZXR1cm4gcy5zcGxpdCgvXFxyP1xcbi8pLmZpbHRlcigobykgPT4gby50cmltKCkpLm1hcCgobykgPT4ge1xuICAgICAgY29uc3QgaSA9IGQubWFrZShcImRpdlwiKTtcbiAgICAgIGkudGV4dENvbnRlbnQgPSBvO1xuICAgICAgY29uc3QgbiA9IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJ0YWdcIiwge1xuICAgICAgICBkYXRhOiBpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IGksXG4gICAgICAgIHRvb2w6IHQsXG4gICAgICAgIGlzQmxvY2s6ICExLFxuICAgICAgICBldmVudDogblxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZSBvZiBzaW5nbGUgQmxvY2sgdG9vbCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVEYXRhfSBkYXRhVG9JbnNlcnQgLSBkYXRhIG9mIEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1NpbmdsZUJsb2NrKHMpIHtcbiAgICBjb25zdCB7IENhcmV0OiBlLCBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogbyB9ID0gdDtcbiAgICBpZiAoIW8gfHwgcy50b29sICE9PSBvLm5hbWUgfHwgIWQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMocy5jb250ZW50LmlubmVySFRNTCkpIHtcbiAgICAgIHRoaXMuaW5zZXJ0QmxvY2socywgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8udG9vbC5pc0RlZmF1bHQpICYmIG8uaXNFbXB0eSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihzLmNvbnRlbnQuaW5uZXJIVE1MKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZSB0byBzaW5nbGUgQmxvY2s6XG4gICAqIDEuIEZpbmQgcGF0dGVybnNgIG1hdGNoZXNcbiAgICogMi4gSW5zZXJ0IG5ldyBibG9jayBpZiBpdCBpcyBub3QgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IG9uZVxuICAgKiAzLiBKdXN0IGluc2VydCB0ZXh0IGlmIHRoZXJlIGlzIG5vIHN1YnN0aXR1dGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZURhdGF9IGRhdGFUb0luc2VydCAtIGRhdGEgb2YgQmxvY2sgdG8gaW5zZXJ0XG4gICAqL1xuICBhc3luYyBwcm9jZXNzSW5saW5lUGFzdGUocykge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBDYXJldDogdCB9ID0gdGhpcy5FZGl0b3IsIHsgY29udGVudDogbyB9ID0gcztcbiAgICBpZiAoZS5jdXJyZW50QmxvY2sgJiYgZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgby50ZXh0Q29udGVudC5sZW5ndGggPCB4dC5QQVRURVJOX1BST0NFU1NJTkdfTUFYX0xFTkdUSCkge1xuICAgICAgY29uc3QgbiA9IGF3YWl0IHRoaXMucHJvY2Vzc1BhdHRlcm4oby50ZXh0Q29udGVudCk7XG4gICAgICBpZiAobikge1xuICAgICAgICBjb25zdCByID0gZS5jdXJyZW50QmxvY2sgJiYgZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgZS5jdXJyZW50QmxvY2suaXNFbXB0eSwgYSA9IGUucGFzdGUobi50b29sLCBuLmV2ZW50LCByKTtcbiAgICAgICAgdC5zZXRUb0Jsb2NrKGEsIHQucG9zaXRpb25zLkVORCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dCkge1xuICAgICAgY29uc3QgbiA9IGUuY3VycmVudEJsb2NrLnRvb2wuYmFzZVNhbml0aXplQ29uZmlnO1xuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXG4gICAgICAgIFwiaW5zZXJ0SFRNTFwiLFxuICAgICAgICAhMSxcbiAgICAgICAgWihvLmlubmVySFRNTCwgbilcbiAgICAgICk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLmluc2VydEJsb2NrKHMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcGF0dGVybnNgIG1hdGNoZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIHByb2Nlc3NcbiAgICogQHJldHVybnMge1Byb21pc2U8e2V2ZW50OiBQYXN0ZUV2ZW50LCB0b29sOiBzdHJpbmd9Pn1cbiAgICovXG4gIGFzeW5jIHByb2Nlc3NQYXR0ZXJuKHMpIHtcbiAgICBjb25zdCBlID0gdGhpcy50b29sc1BhdHRlcm5zLmZpbmQoKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSBvLnBhdHRlcm4uZXhlYyhzKTtcbiAgICAgIHJldHVybiBpID8gcyA9PT0gaS5zaGlmdCgpIDogITE7XG4gICAgfSk7XG4gICAgcmV0dXJuIGUgPyB7XG4gICAgICBldmVudDogdGhpcy5jb21wb3NlUGFzdGVFdmVudChcInBhdHRlcm5cIiwge1xuICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICBkYXRhOiBzXG4gICAgICB9KSxcbiAgICAgIHRvb2w6IGUudG9vbC5uYW1lXG4gICAgfSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHBhc3RlZCBCbG9jayBjb250ZW50IHRvIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRGF0YX0gZGF0YSAtIGRhdGEgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuUmVwbGFjZUN1cnJlbnRCbG9jayAtIGlmIHRydWUgYW5kIGlzIGN1cnJlbnQgQmxvY2sgaXMgZW1wdHksIHdpbGwgcmVwbGFjZSBjdXJyZW50IEJsb2NrXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgaW5zZXJ0QmxvY2socywgZSA9ICExKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHQ7XG4gICAgbGV0IG47XG4gICAgaWYgKGUgJiYgaSAmJiBpLmlzRW1wdHkpIHtcbiAgICAgIG4gPSB0LnBhc3RlKHMudG9vbCwgcy5ldmVudCwgITApLCBvLnNldFRvQmxvY2sobiwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbiA9IHQucGFzdGUocy50b29sLCBzLmV2ZW50KSwgby5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBkYXRhIHBhc3NlZCBhcyBhcHBsaWNhdGlvbi94LWVkaXRvci1qcyBKU09OXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJsb2NrcyBcdTIwMTQgQmxvY2tzJyBkYXRhIHRvIGluc2VydFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGluc2VydEVkaXRvckpTRGF0YShzKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIENhcmV0OiB0LCBUb29sczogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaHQoXG4gICAgICBzLFxuICAgICAgKG4pID0+IG8uYmxvY2tUb29scy5nZXQobikuc2FuaXRpemVDb25maWdcbiAgICApLmZvckVhY2goKHsgdG9vbDogbiwgZGF0YTogciB9LCBhKSA9PiB7XG4gICAgICBsZXQgbCA9ICExO1xuICAgICAgYSA9PT0gMCAmJiAobCA9IGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGUuY3VycmVudEJsb2NrLmlzRW1wdHkpO1xuICAgICAgY29uc3QgYyA9IGUuaW5zZXJ0KHtcbiAgICAgICAgdG9vbDogbixcbiAgICAgICAgZGF0YTogcixcbiAgICAgICAgcmVwbGFjZTogbFxuICAgICAgfSk7XG4gICAgICB0LnNldFRvQmxvY2soYywgdC5wb3NpdGlvbnMuRU5EKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbm9kZXMgZnJvbSBFbGVtZW50IG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gY3VycmVudCBub2RlXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBub2RlcyAtIHByb2Nlc3NlZCBub2Rlc1xuICAgKiBAcGFyYW0ge05vZGV9IGRlc3ROb2RlIC0gZGVzdGluYXRpb24gbm9kZVxuICAgKi9cbiAgcHJvY2Vzc0VsZW1lbnROb2RlKHMsIGUsIHQpIHtcbiAgICBjb25zdCBvID0gT2JqZWN0LmtleXModGhpcy50b29sc1RhZ3MpLCBpID0gcywgeyB0b29sOiBuIH0gPSB0aGlzLnRvb2xzVGFnc1tpLnRhZ05hbWVdIHx8IHt9LCByID0gdGhpcy50YWdzQnlUb29sW24gPT0gbnVsbCA/IHZvaWQgMCA6IG4ubmFtZV0gfHwgW10sIGEgPSBvLmluY2x1ZGVzKGkudGFnTmFtZSksIGwgPSBkLmJsb2NrRWxlbWVudHMuaW5jbHVkZXMoaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpLCBjID0gQXJyYXkuZnJvbShpLmNoaWxkcmVuKS5zb21lKFxuICAgICAgKHsgdGFnTmFtZTogaCB9KSA9PiBvLmluY2x1ZGVzKGgpICYmICFyLmluY2x1ZGVzKGgpXG4gICAgKSwgdSA9IEFycmF5LmZyb20oaS5jaGlsZHJlbikuc29tZShcbiAgICAgICh7IHRhZ05hbWU6IGggfSkgPT4gZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKGgudG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICAgIGlmICghbCAmJiAhYSAmJiAhYylcbiAgICAgIHJldHVybiB0LmFwcGVuZENoaWxkKGkpLCBbLi4uZSwgdF07XG4gICAgaWYgKGEgJiYgIWMgfHwgbCAmJiAhdSAmJiAhYylcbiAgICAgIHJldHVybiBbLi4uZSwgdCwgaV07XG4gIH1cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGRpdmlkZSBIVE1MIHN0cmluZyB0byB0d28gdHlwZXMgb2Ygbm9kZXM6XG4gICAqIDEuIEJsb2NrIGVsZW1lbnRcbiAgICogMi4gRG9jdW1lbnQgRnJhZ21lbnRzIGNvbnRhaW5lZCB0ZXh0IGFuZCBtYXJrdXAgdGFncyBsaWtlIGEsIGIsIGkgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IHdyYXBwZXIgLSB3cmFwcGVyIG9mIHBhc3RlciBIVE1MIGNvbnRlbnRcbiAgICogQHJldHVybnMge05vZGVbXX1cbiAgICovXG4gIGdldE5vZGVzKHMpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbShzLmNoaWxkTm9kZXMpO1xuICAgIGxldCB0O1xuICAgIGNvbnN0IG8gPSAoaSwgbikgPT4ge1xuICAgICAgaWYgKGQuaXNFbXB0eShuKSAmJiAhZC5pc1NpbmdsZVRhZyhuKSlcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBjb25zdCByID0gaVtpLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IGEgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgc3dpdGNoIChyICYmIGQuaXNGcmFnbWVudChyKSAmJiAoYSA9IGkucG9wKCkpLCBuLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgaWYgKHQgPSB0aGlzLnByb2Nlc3NFbGVtZW50Tm9kZShuLCBpLCBhKSwgdClcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgIHJldHVybiBhLmFwcGVuZENoaWxkKG4pLCBbLi4uaSwgYV07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFsuLi5pLCBhXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbLi4uaSwgLi4uQXJyYXkuZnJvbShuLmNoaWxkTm9kZXMpLnJlZHVjZShvLCBbXSldO1xuICAgIH07XG4gICAgcmV0dXJuIGUucmVkdWNlKG8sIFtdKTtcbiAgfVxuICAvKipcbiAgICogQ29tcG9zZSBwYXN0ZSBldmVudCB3aXRoIHBhc3NlZCB0eXBlIGFuZCBkZXRhaWxcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudERldGFpbH0gZGV0YWlsIC0gZXZlbnQgZGV0YWlsXG4gICAqL1xuICBjb21wb3NlUGFzdGVFdmVudChzLCBlKSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChzLCB7XG4gICAgICBkZXRhaWw6IGVcbiAgICB9KTtcbiAgfVxufTtcbmxldCB3dCA9IHh0O1xud3QuUEFUVEVSTl9QUk9DRVNTSU5HX01BWF9MRU5HVEggPSA0NTA7XG5jbGFzcyBxbyBleHRlbmRzIFMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnRvb2xzRG9udFN1cHBvcnRSZWFkT25seSA9IFtdLCB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHN0YXRlIG9mIHJlYWQgb25seSBtb2RlXG4gICAqL1xuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgfVxuICAvKipcbiAgICogU2V0IGluaXRpYWwgc3RhdGVcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgY29uc3QgeyBUb29sczogZSB9ID0gdGhpcy5FZGl0b3IsIHsgYmxvY2tUb29sczogdCB9ID0gZSwgbyA9IFtdO1xuICAgIEFycmF5LmZyb20odC5lbnRyaWVzKCkpLmZvckVhY2goKFtpLCBuXSkgPT4ge1xuICAgICAgbi5pc1JlYWRPbmx5U3VwcG9ydGVkIHx8IG8ucHVzaChpKTtcbiAgICB9KSwgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkgPSBvLCB0aGlzLmNvbmZpZy5yZWFkT25seSAmJiBvLmxlbmd0aCA+IDAgJiYgdGhpcy50aHJvd0NyaXRpY2FsRXJyb3IoKSwgdGhpcy50b2dnbGUodGhpcy5jb25maWcucmVhZE9ubHkpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgcmVhZC1vbmx5IG1vZGUgb3IgdG9nZ2xlIGN1cnJlbnQgc3RhdGVcbiAgICogQ2FsbCBhbGwgTW9kdWxlcyBgdG9nZ2xlUmVhZE9ubHlgIG1ldGhvZCBhbmQgcmUtcmVuZGVyIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gKG9wdGlvbmFsKSByZWFkLW9ubHkgc3RhdGUgb3IgdG9nZ2xlXG4gICAqL1xuICBhc3luYyB0b2dnbGUoZSA9ICF0aGlzLnJlYWRPbmx5RW5hYmxlZCkge1xuICAgIGUgJiYgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkubGVuZ3RoID4gMCAmJiB0aGlzLnRocm93Q3JpdGljYWxFcnJvcigpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgICB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9IGU7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuRWRpdG9yKVxuICAgICAgdGhpcy5FZGl0b3JbaV0udG9nZ2xlUmVhZE9ubHkgJiYgdGhpcy5FZGl0b3JbaV0udG9nZ2xlUmVhZE9ubHkoZSk7XG4gICAgaWYgKHQgPT09IGUpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgY29uc3QgbyA9IGF3YWl0IHRoaXMuRWRpdG9yLlNhdmVyLnNhdmUoKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCksIGF3YWl0IHRoaXMuRWRpdG9yLlJlbmRlcmVyLnJlbmRlcihvLmJsb2NrcyksIHRoaXMucmVhZE9ubHlFbmFibGVkO1xuICB9XG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgYWJvdXQgdG9vbHMgd2hpY2ggZG9uJ3Qgc3VwcG9ydCByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdGhyb3dDcml0aWNhbEVycm9yKCkge1xuICAgIHRocm93IG5ldyBhdChcbiAgICAgIGBUbyBlbmFibGUgcmVhZC1vbmx5IG1vZGUgYWxsIGNvbm5lY3RlZCB0b29scyBzaG91bGQgc3VwcG9ydCBpdC4gVG9vbHMgJHt0aGlzLnRvb2xzRG9udFN1cHBvcnRSZWFkT25seS5qb2luKFwiLCBcIil9IGRvbid0IHN1cHBvcnQgcmVhZC1vbmx5IG1vZGUuYFxuICAgICk7XG4gIH1cbn1cbmNsYXNzIHBlIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITEsIHRoaXMuU0NST0xMX1NQRUVEID0gMywgdGhpcy5IRUlHSFRfT0ZfU0NST0xMX1pPTkUgPSA0MCwgdGhpcy5CT1RUT01fU0NST0xMX1pPTkUgPSAxLCB0aGlzLlRPUF9TQ1JPTExfWk9ORSA9IDIsIHRoaXMuTUFJTl9NT1VTRV9CVVRUT04gPSAwLCB0aGlzLm1vdXNlZG93biA9ICExLCB0aGlzLmlzU2Nyb2xsaW5nID0gITEsIHRoaXMuaW5TY3JvbGxab25lID0gbnVsbCwgdGhpcy5zdGFydFggPSAwLCB0aGlzLnN0YXJ0WSA9IDAsIHRoaXMubW91c2VYID0gMCwgdGhpcy5tb3VzZVkgPSAwLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZCA9IFtdLCB0aGlzLmxpc3RlbmVySWRzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIENTUyBjbGFzc2VzIGZvciB0aGUgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge3t3cmFwcGVyOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcmxheTogXCJjb2RleC1lZGl0b3Itb3ZlcmxheVwiLFxuICAgICAgb3ZlcmxheUNvbnRhaW5lcjogXCJjb2RleC1lZGl0b3Itb3ZlcmxheV9fY29udGFpbmVyXCIsXG4gICAgICByZWN0OiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19yZWN0YW5nbGVcIixcbiAgICAgIHRvcFNjcm9sbFpvbmU6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX3Njcm9sbC16b25lLS10b3BcIixcbiAgICAgIGJvdHRvbVNjcm9sbFpvbmU6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX3Njcm9sbC16b25lLS1ib3R0b21cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBQcmVwYXJhdGlvblxuICAgKiBDcmVhdGluZyByZWN0IGFuZCBoYW5nIGhhbmRsZXJzXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogSW5pdCByZWN0IHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVggLSBYIGNvb3JkIG9mIG1vdXNlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlWSAtIFkgY29vcmQgb2YgbW91c2VcbiAgICovXG4gIHN0YXJ0U2VsZWN0aW9uKGUsIHQpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlIC0gd2luZG93LnBhZ2VYT2Zmc2V0LCB0IC0gd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICBvLmNsb3Nlc3QoYC4ke3RoaXMuRWRpdG9yLlRvb2xiYXIuQ1NTLnRvb2xiYXJ9YCkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFsbEJsb2Nrc1NlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQgPSBbXSk7XG4gICAgY29uc3QgbiA9IFtcbiAgICAgIGAuJHtGLkNTUy5jb250ZW50fWAsXG4gICAgICBgLiR7dGhpcy5FZGl0b3IuVG9vbGJhci5DU1MudG9vbGJhcn1gLFxuICAgICAgYC4ke3RoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuQ1NTLmlubGluZVRvb2xiYXJ9YFxuICAgIF0sIHIgPSBvLmNsb3Nlc3QoXCIuXCIgKyB0aGlzLkVkaXRvci5VSS5DU1MuZWRpdG9yV3JhcHBlciksIGEgPSBuLnNvbWUoKGwpID0+ICEhby5jbG9zZXN0KGwpKTtcbiAgICAhciB8fCBhIHx8ICh0aGlzLm1vdXNlZG93biA9ICEwLCB0aGlzLnN0YXJ0WCA9IGUsIHRoaXMuc3RhcnRZID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBwYXJhbXMgdG8gZW5kIHNlbGVjdGlvblxuICAgKi9cbiAgZW5kU2VsZWN0aW9uKCkge1xuICAgIHRoaXMubW91c2Vkb3duID0gITEsIHRoaXMuc3RhcnRYID0gMCwgdGhpcy5zdGFydFkgPSAwLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG4gIC8qKlxuICAgKiBpcyBSZWN0U2VsZWN0aW9uIEFjdGl2YXRlZFxuICAgKi9cbiAgaXNSZWN0QWN0aXZhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZDtcbiAgfVxuICAvKipcbiAgICogTWFyayB0aGF0IHNlbGVjdGlvbiBpcyBlbmRcbiAgICovXG4gIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgTW9kdWxlIG5lY2Vzc2FyeSBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXI6IGUgfSA9IHRoaXMuZ2VuSFRNTCgpO1xuICAgIHRoaXMubGlzdGVuZXJzLm9uKGUsIFwibW91c2Vkb3duXCIsICh0KSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZURvd24odCk7XG4gICAgfSwgITEpLCB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudC5ib2R5LCBcIm1vdXNlbW92ZVwiLCBUZSgodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTW91c2VNb3ZlKHQpO1xuICAgIH0sIDEwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlTGVhdmUoKTtcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24od2luZG93LCBcInNjcm9sbFwiLCBUZSgodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzU2Nyb2xsKHQpO1xuICAgIH0sIDEwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlVXAoKTtcbiAgICB9LCAhMSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBkb3duIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBtb3VzZSBldmVudCBwYXlsb2FkXG4gICAqL1xuICBwcm9jZXNzTW91c2VEb3duKGUpIHtcbiAgICBpZiAoZS5idXR0b24gIT09IHRoaXMuTUFJTl9NT1VTRV9CVVRUT04pXG4gICAgICByZXR1cm47XG4gICAgZS50YXJnZXQuY2xvc2VzdChkLmFsbElucHV0c1NlbGVjdG9yKSAhPT0gbnVsbCB8fCB0aGlzLnN0YXJ0U2VsZWN0aW9uKGUucGFnZVgsIGUucGFnZVkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbW92ZSBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc01vdXNlTW92ZShlKSB7XG4gICAgdGhpcy5jaGFuZ2luZ1JlY3RhbmdsZShlKSwgdGhpcy5zY3JvbGxCeVpvbmVzKGUuY2xpZW50WSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBsZWF2ZVxuICAgKi9cbiAgcHJvY2Vzc01vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpLCB0aGlzLmVuZFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBtb3VzZSBldmVudCBwYXlsb2FkXG4gICAqL1xuICBwcm9jZXNzU2Nyb2xsKGUpIHtcbiAgICB0aGlzLmNoYW5naW5nUmVjdGFuZ2xlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgdXBcbiAgICovXG4gIHByb2Nlc3NNb3VzZVVwKCkge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5lbmRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogU2Nyb2xsIElmIG1vdXNlIGluIHNjcm9sbCB6b25lXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRZIC0gWSBjb29yZCBvZiBtb3VzZVxuICAgKi9cbiAgc2Nyb2xsQnlab25lcyhlKSB7XG4gICAgaWYgKHRoaXMuaW5TY3JvbGxab25lID0gbnVsbCwgZSA8PSB0aGlzLkhFSUdIVF9PRl9TQ1JPTExfWk9ORSAmJiAodGhpcy5pblNjcm9sbFpvbmUgPSB0aGlzLlRPUF9TQ1JPTExfWk9ORSksIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBlIDw9IHRoaXMuSEVJR0hUX09GX1NDUk9MTF9aT05FICYmICh0aGlzLmluU2Nyb2xsWm9uZSA9IHRoaXMuQk9UVE9NX1NDUk9MTF9aT05FKSwgIXRoaXMuaW5TY3JvbGxab25lKSB7XG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gITE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaXNTY3JvbGxpbmcgfHwgKHRoaXMuc2Nyb2xsVmVydGljYWwodGhpcy5pblNjcm9sbFpvbmUgPT09IHRoaXMuVE9QX1NDUk9MTF9aT05FID8gLXRoaXMuU0NST0xMX1NQRUVEIDogdGhpcy5TQ1JPTExfU1BFRUQpLCB0aGlzLmlzU2Nyb2xsaW5nID0gITApO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgcmVxdWlyZWQgSFRNTCBlbGVtZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgRWxlbWVudD59XG4gICAqL1xuICBnZW5IVE1MKCkge1xuICAgIGNvbnN0IHsgVUk6IGUgfSA9IHRoaXMuRWRpdG9yLCB0ID0gZS5ub2Rlcy5ob2xkZXIucXVlcnlTZWxlY3RvcihcIi5cIiArIGUuQ1NTLmVkaXRvcldyYXBwZXIpLCBvID0gZC5tYWtlKFwiZGl2XCIsIHBlLkNTUy5vdmVybGF5LCB7fSksIGkgPSBkLm1ha2UoXCJkaXZcIiwgcGUuQ1NTLm92ZXJsYXlDb250YWluZXIsIHt9KSwgbiA9IGQubWFrZShcImRpdlwiLCBwZS5DU1MucmVjdCwge30pO1xuICAgIHJldHVybiBpLmFwcGVuZENoaWxkKG4pLCBvLmFwcGVuZENoaWxkKGkpLCB0LmFwcGVuZENoaWxkKG8pLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUgPSBuLCB7XG4gICAgICBjb250YWluZXI6IHQsXG4gICAgICBvdmVybGF5OiBvXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIHNjcm9sbGluZyBpZiBibG9ja1NlbGVjdGlvbiBpcyBhY3RpdmUgYW5kIG1vdXNlIGlzIGluIHNjcm9sbCB6b25lXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCAtIHNwZWVkIG9mIHNjcm9sbGluZ1xuICAgKi9cbiAgc2Nyb2xsVmVydGljYWwoZSkge1xuICAgIGlmICghKHRoaXMuaW5TY3JvbGxab25lICYmIHRoaXMubW91c2Vkb3duKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBlKSwgdGhpcy5tb3VzZVkgKz0gd2luZG93LnBhZ2VZT2Zmc2V0IC0gdCwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNjcm9sbFZlcnRpY2FsKGUpO1xuICAgIH0sIDApO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjaGFuZ2UgaW4gdGhlIHJlY3RhbmdsZSBhbmQgaXRzIGVmZmVjdFxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZXZlbnRcbiAgICovXG4gIGNoYW5naW5nUmVjdGFuZ2xlKGUpIHtcbiAgICBpZiAoIXRoaXMubW91c2Vkb3duKVxuICAgICAgcmV0dXJuO1xuICAgIGUucGFnZVkgIT09IHZvaWQgMCAmJiAodGhpcy5tb3VzZVggPSBlLnBhZ2VYLCB0aGlzLm1vdXNlWSA9IGUucGFnZVkpO1xuICAgIGNvbnN0IHsgcmlnaHRQb3M6IHQsIGxlZnRQb3M6IG8sIGluZGV4OiBpIH0gPSB0aGlzLmdlbkluZm9Gb3JNb3VzZVNlbGVjdGlvbigpLCBuID0gdGhpcy5zdGFydFggPiB0ICYmIHRoaXMubW91c2VYID4gdCwgciA9IHRoaXMuc3RhcnRYIDwgbyAmJiB0aGlzLm1vdXNlWCA8IG87XG4gICAgdGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyA9ICEobiB8fCByKSwgdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQgfHwgKHRoaXMucmVjdENyb3NzZXNCbG9ja3MgPSAhMSwgdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQgPSAhMCwgdGhpcy5zaHJpbmtSZWN0YW5nbGVUb1BvaW50KCksIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiKSwgdGhpcy51cGRhdGVSZWN0YW5nbGVTaXplKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgaSAhPT0gdm9pZCAwICYmICh0aGlzLnRyeVNlbGVjdE5leHRCbG9jayhpKSwgdGhpcy5pbnZlcnNlU2VsZWN0aW9uKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBTaHJpbmsgcmVjdCB0byBzaW5ndWxhciBwb2ludFxuICAgKi9cbiAgc2hyaW5rUmVjdGFuZ2xlVG9Qb2ludCgpIHtcbiAgICB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnRvcCA9IGAke3RoaXMuc3RhcnRZIC0gd2luZG93LnBhZ2VZT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmJvdHRvbSA9IGBjYWxjKDEwMCUgLSAke3RoaXMuc3RhcnRZIC0gd2luZG93LnBhZ2VZT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3Qgb3IgdW5zZWxlY3QgYWxsIG9mIGJsb2NrcyBpbiBhcnJheSBpZiByZWN0IGlzIG91dCBvciBpbiBzZWxlY3RhYmxlIGFyZWFcbiAgICovXG4gIGludmVyc2VTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgodGhpcy5zdGFja09mU2VsZWN0ZWRbMF0pLnNlbGVjdGVkO1xuICAgIGlmICh0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmICF0KVxuICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuc3RhY2tPZlNlbGVjdGVkKVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5zZWxlY3RCbG9ja0J5SW5kZXgobyk7XG4gICAgaWYgKCF0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHQpXG4gICAgICBmb3IgKGNvbnN0IG8gb2YgdGhpcy5zdGFja09mU2VsZWN0ZWQpXG4gICAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnVuU2VsZWN0QmxvY2tCeUluZGV4KG8pO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHNpemUgb2YgcmVjdGFuZ2xlXG4gICAqL1xuICB1cGRhdGVSZWN0YW5nbGVTaXplKCkge1xuICAgIHRoaXMubW91c2VZID49IHRoaXMuc3RhcnRZID8gKHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGApIDogKHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGApLCB0aGlzLm1vdXNlWCA+PSB0aGlzLnN0YXJ0WCA/ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5tb3VzZVggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgKSA6ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUucmlnaHQgPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5tb3VzZVggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgKTtcbiAgfVxuICAvKipcbiAgICogQ29sbGVjdHMgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGRldGVybWluZSB0aGUgYmVoYXZpb3Igb2YgdGhlIHJlY3RhbmdsZVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBpbmRleCAtIGluZGV4IG5leHQgQmxvY2ssIGxlZnRQb3MgLSBzdGFydCBvZiBsZWZ0IGJvcmRlciBvZiBCbG9jaywgcmlnaHRQb3MgLSByaWdodCBib3JkZXJcbiAgICovXG4gIGdlbkluZm9Gb3JNb3VzZVNlbGVjdGlvbigpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAvIDIsIG8gPSB0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCwgaSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodCwgbyksIG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShpKTtcbiAgICBsZXQgcjtcbiAgICBuICE9PSB2b2lkIDAgJiYgKHIgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmZpbmRJbmRleCgoaCkgPT4gaC5ob2xkZXIgPT09IG4uaG9sZGVyKSk7XG4gICAgY29uc3QgYSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2suaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBGLkNTUy5jb250ZW50KSwgbCA9IE51bWJlci5wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKS53aWR0aCwgMTApIC8gMiwgYyA9IHQgLSBsLCB1ID0gdCArIGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiByLFxuICAgICAgbGVmdFBvczogYyxcbiAgICAgIHJpZ2h0UG9zOiB1XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IGJsb2NrIHdpdGggaW5kZXggaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIGluZGV4IC0gaW5kZXggb2YgYmxvY2sgaW4gcmVkYWN0b3JcbiAgICovXG4gIGFkZEJsb2NrSW5TZWxlY3Rpb24oZSkge1xuICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uc2VsZWN0QmxvY2tCeUluZGV4KGUpLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgYmxvY2sgdG8gdGhlIHNlbGVjdGlvbiBhbmQgZGV0ZXJtaW5lcyB3aGljaCBibG9ja3Mgc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbmRleCAtIGluZGV4IG9mIG5ldyBibG9jayBpbiB0aGUgcmVhY3RvclxuICAgKi9cbiAgdHJ5U2VsZWN0TmV4dEJsb2NrKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbdGhpcy5zdGFja09mU2VsZWN0ZWQubGVuZ3RoIC0gMV0gPT09IGUsIG8gPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5sZW5ndGgsIGkgPSAxLCBuID0gLTEsIHIgPSAwO1xuICAgIGlmICh0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGEgPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gLSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMl0gPiAwO1xuICAgIGxldCBsID0gcjtcbiAgICBvID4gMSAmJiAobCA9IGEgPyBpIDogbik7XG4gICAgY29uc3QgYyA9IGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gJiYgbCA9PT0gaSwgdSA9IGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gJiYgbCA9PT0gbiwgZiA9ICEoYyB8fCB1IHx8IGwgPT09IHIpO1xuICAgIGlmICghZiAmJiAoZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSB8fCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gPT09IHZvaWQgMCkpIHtcbiAgICAgIGxldCBrID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICsgMSB8fCBlO1xuICAgICAgZm9yIChrOyBrIDw9IGU7IGsrKylcbiAgICAgICAgdGhpcy5hZGRCbG9ja0luU2VsZWN0aW9uKGspO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWYgJiYgZSA8IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSkge1xuICAgICAgZm9yIChsZXQgayA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSAtIDE7IGsgPj0gZTsgay0tKVxuICAgICAgICB0aGlzLmFkZEJsb2NrSW5TZWxlY3Rpb24oayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZilcbiAgICAgIHJldHVybjtcbiAgICBsZXQgdiA9IG8gLSAxLCBwO1xuICAgIGZvciAoZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSA/IHAgPSAoKSA9PiBlID4gdGhpcy5zdGFja09mU2VsZWN0ZWRbdl0gOiBwID0gKCkgPT4gZSA8IHRoaXMuc3RhY2tPZlNlbGVjdGVkW3ZdOyBwKCk7IClcbiAgICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24udW5TZWxlY3RCbG9ja0J5SW5kZXgodGhpcy5zdGFja09mU2VsZWN0ZWRbdl0pLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5wb3AoKSwgdi0tO1xuICB9XG59XG5jbGFzcyBKbyBleHRlbmRzIFMge1xuICAvKipcbiAgICogQHR5cGVkZWYge29iamVjdH0gUmVuZGVyZXJCbG9ja3NcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgLSB0b29sIG5hbWVcbiAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgLSB0b29sIGRhdGFcbiAgICovXG4gIC8qKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBibG9ja3M6IFtcbiAgICogICB7XG4gICAqICAgICBpZCAgIDogJ29EZS1FVnJHV0EnLFxuICAgKiAgICAgdHlwZSA6ICdwYXJhZ3JhcGgnLFxuICAgKiAgICAgZGF0YSA6IHtcbiAgICogICAgICAgdGV4dCA6ICdIZWxsbyBmcm9tIENvZGV4ISdcbiAgICogICAgIH1cbiAgICogICB9LFxuICAgKiAgIHtcbiAgICogICAgIGlkICAgOiAnTGQ1QkpqSkNIcycsXG4gICAqICAgICB0eXBlIDogJ3BhcmFncmFwaCcsXG4gICAqICAgICBkYXRhIDoge1xuICAgKiAgICAgICB0ZXh0IDogJ0xlYXZlIGZlZWRiYWNrIGlmIHlvdSBsaWtlIGl0ISdcbiAgICogICAgIH1cbiAgICogICB9LFxuICAgKiBdXG4gICAqL1xuICAvKipcbiAgICogTWFrZSBwbHVnaW4gYmxvY2tzIGZyb20gYXJyYXkgb2YgcGx1Z2luYHMgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge091dHB1dEJsb2NrRGF0YVtdfSBibG9ja3MgLSBibG9ja3MgdG8gcmVuZGVyXG4gICAqL1xuICBhc3luYyByZW5kZXIoZSkge1xuICAgIGNvbnN0IHQgPSBlLm1hcCgoaSkgPT4gKHsgZnVuY3Rpb246ICgpID0+IHRoaXMuaW5zZXJ0QmxvY2soaSkgfSkpO1xuICAgIHRoaXMuRWRpdG9yLk1vZGlmaWNhdGlvbnNPYnNlcnZlci5kaXNhYmxlKCk7XG4gICAgY29uc3QgbyA9IGF3YWl0IG90KHQpO1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5Nb2RpZmljYXRpb25zT2JzZXJ2ZXIuZW5hYmxlKCksIHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCksIG87XG4gIH1cbiAgLyoqXG4gICAqIEdldCBwbHVnaW4gaW5zdGFuY2VcbiAgICogQWRkIHBsdWdpbiBpbnN0YW5jZSB0byBCbG9ja01hbmFnZXJcbiAgICogSW5zZXJ0IGJsb2NrIHRvIHdvcmtpbmcgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaXRlbSAtIEJsb2NrIGRhdGEgdG8gaW5zZXJ0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgaW5zZXJ0QmxvY2soZSkge1xuICAgIHZhciBsO1xuICAgIGNvbnN0IHsgVG9vbHM6IHQsIEJsb2NrTWFuYWdlcjogbyB9ID0gdGhpcy5FZGl0b3IsIHsgdHlwZTogaSwgZGF0YTogbiwgdHVuZXM6IHIsIGlkOiBhIH0gPSBlO1xuICAgIGlmICh0LmF2YWlsYWJsZS5oYXMoaSkpXG4gICAgICB0cnkge1xuICAgICAgICBvLmluc2VydCh7XG4gICAgICAgICAgaWQ6IGEsXG4gICAgICAgICAgdG9vbDogaSxcbiAgICAgICAgICBkYXRhOiBuLFxuICAgICAgICAgIHR1bmVzOiByXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICB0aHJvdyBUKGBCbG9jayBcdTAwQUIke2l9XHUwMEJCIHNraXBwZWQgYmVjYXVzZSBvZiBwbHVnaW5zIGVycm9yYCwgXCJ3YXJuXCIsIHtcbiAgICAgICAgICBkYXRhOiBuLFxuICAgICAgICAgIGVycm9yOiBjXG4gICAgICAgIH0pLCBFcnJvcihjKTtcbiAgICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IGMgPSB7XG4gICAgICAgIHNhdmVkRGF0YToge1xuICAgICAgICAgIGlkOiBhLFxuICAgICAgICAgIHR5cGU6IGksXG4gICAgICAgICAgZGF0YTogblxuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogaVxuICAgICAgfTtcbiAgICAgIGlmICh0LnVuYXZhaWxhYmxlLmhhcyhpKSkge1xuICAgICAgICBjb25zdCBmID0gKGwgPSB0LnVuYXZhaWxhYmxlLmdldChpKS50b29sYm94WzBdKSA9PSBudWxsID8gdm9pZCAwIDogbC50aXRsZTtcbiAgICAgICAgYy50aXRsZSA9IGYgfHwgYy50aXRsZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHUgPSBvLmluc2VydCh7XG4gICAgICAgIGlkOiBhLFxuICAgICAgICB0b29sOiB0LnN0dWJUb29sLFxuICAgICAgICBkYXRhOiBjXG4gICAgICB9KTtcbiAgICAgIHUuc3RyZXRjaGVkID0gITAsIFQoYFRvb2wgXHUwMEFCJHtpfVx1MDBCQiBpcyBub3QgZm91bmQuIENoZWNrICd0b29scycgcHJvcGVydHkgYXQgeW91ciBpbml0aWFsIEVkaXRvci5qcyBjb25maWcuYCwgXCJ3YXJuXCIpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgUW8gZXh0ZW5kcyBTIHtcbiAgLyoqXG4gICAqIENvbXBvc2VzIG5ldyBjaGFpbiBvZiBQcm9taXNlcyB0byBmaXJlIHRoZW0gYWx0ZXJuYXRlbGx5XG4gICAqXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgYXN5bmMgc2F2ZSgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSwgVG9vbHM6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gZS5ibG9ja3MsIGkgPSBbXTtcbiAgICB0cnkge1xuICAgICAgby5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgIGkucHVzaCh0aGlzLmdldFNhdmVkRGF0YShhKSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG4gPSBhd2FpdCBQcm9taXNlLmFsbChpKSwgciA9IGF3YWl0IGh0KG4sIChhKSA9PiB0LmJsb2NrVG9vbHMuZ2V0KGEpLnNhbml0aXplQ29uZmlnKTtcbiAgICAgIHJldHVybiB0aGlzLm1ha2VPdXRwdXQocik7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgSyhcIlNhdmluZyBmYWlsZWQgZHVlIHRvIHRoZSBFcnJvciAlb1wiLCBcImVycm9yXCIsIG4pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2F2ZXMgYW5kIHZhbGlkYXRlc1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEVkaXRvcidzIFRvb2xcbiAgICogQHJldHVybnMge1ZhbGlkYXRlZERhdGF9IC0gVG9vbCdzIHZhbGlkYXRlZCBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRTYXZlZERhdGEoZSkge1xuICAgIGNvbnN0IHQgPSBhd2FpdCBlLnNhdmUoKSwgbyA9IHQgJiYgYXdhaXQgZS52YWxpZGF0ZSh0LmRhdGEpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi50LFxuICAgICAgaXNWYWxpZDogb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgb3V0cHV0IG9iamVjdCB3aXRoIHNhdmVkIGRhdGEsIHRpbWUgYW5kIHZlcnNpb24gb2YgZWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7VmFsaWRhdGVkRGF0YX0gYWxsRXh0cmFjdGVkRGF0YSAtIGRhdGEgZXh0cmFjdGVkIGZyb20gQmxvY2tzXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgbWFrZU91dHB1dChlKSB7XG4gICAgbGV0IHQgPSAwO1xuICAgIGNvbnN0IG8gPSBbXTtcbiAgICByZXR1cm4gVChcIltFZGl0b3IuanMgc2F2aW5nXTpcIiwgXCJncm91cENvbGxhcHNlZFwiKSwgZS5mb3JFYWNoKCh7IGlkOiBpLCB0b29sOiBuLCBkYXRhOiByLCB0dW5lczogYSwgdGltZTogbCwgaXNWYWxpZDogYyB9KSA9PiB7XG4gICAgICBpZiAodCArPSBsLCBUKGAke24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuLnNsaWNlKDEpfWAsIFwiZ3JvdXBcIiksIGMpXG4gICAgICAgIFQociksIFQodm9pZCAwLCBcImdyb3VwRW5kXCIpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIFQoYEJsb2NrIFx1MDBBQiR7bn1cdTAwQkIgc2tpcHBlZCBiZWNhdXNlIHNhdmVkIGRhdGEgaXMgaW52YWxpZGApLCBUKHZvaWQgMCwgXCJncm91cEVuZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG4gPT09IHRoaXMuRWRpdG9yLlRvb2xzLnN0dWJUb29sKSB7XG4gICAgICAgIG8ucHVzaChyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdSA9IHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHR5cGU6IG4sXG4gICAgICAgIGRhdGE6IHIsXG4gICAgICAgIC4uLiFWKGEpICYmIHtcbiAgICAgICAgICB0dW5lczogYVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgby5wdXNoKHUpO1xuICAgIH0pLCBUKFwiVG90YWxcIiwgXCJsb2dcIiwgdCksIFQodm9pZCAwLCBcImdyb3VwRW5kXCIpLCB7XG4gICAgICB0aW1lOiArLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICBibG9ja3M6IG8sXG4gICAgICB2ZXJzaW9uOiBcIjIuMjcuMFwiXG4gICAgfTtcbiAgfVxufVxudmFyIE5lID0ge30sIGVpID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gTmU7XG4gIH0sXG4gIHNldCBleHBvcnRzKHMpIHtcbiAgICBOZSA9IHM7XG4gIH1cbn07XG4oZnVuY3Rpb24ocywgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIHMuZXhwb3J0cyA9IG8oKTtcbiAgfSkod2luZG93LCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgdmFyIG8gPSB7fTtcbiAgICAgIGZ1bmN0aW9uIGkobikge1xuICAgICAgICBpZiAob1tuXSlcbiAgICAgICAgICByZXR1cm4gb1tuXS5leHBvcnRzO1xuICAgICAgICB2YXIgciA9IG9bbl0gPSB7IGk6IG4sIGw6ICExLCBleHBvcnRzOiB7fSB9O1xuICAgICAgICByZXR1cm4gdFtuXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCBpKSwgci5sID0gITAsIHIuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLm0gPSB0LCBpLmMgPSBvLCBpLmQgPSBmdW5jdGlvbihuLCByLCBhKSB7XG4gICAgICAgIGkubyhuLCByKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgciwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBhIH0pO1xuICAgICAgfSwgaS5yID0gZnVuY3Rpb24obikge1xuICAgICAgICB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gICAgICB9LCBpLnQgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIGlmICgxICYgciAmJiAobiA9IGkobikpLCA4ICYgciB8fCA0ICYgciAmJiB0eXBlb2YgbiA9PSBcIm9iamVjdFwiICYmIG4gJiYgbi5fX2VzTW9kdWxlKVxuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB2YXIgYSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAoaS5yKGEpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogITAsIHZhbHVlOiBuIH0pLCAyICYgciAmJiB0eXBlb2YgbiAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIGZvciAodmFyIGwgaW4gbilcbiAgICAgICAgICAgIGkuZChhLCBsLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuW2NdO1xuICAgICAgICAgICAgfS5iaW5kKG51bGwsIGwpKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9LCBpLm4gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByID0gbiAmJiBuLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbi5kZWZhdWx0O1xuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpLmQociwgXCJhXCIsIHIpLCByO1xuICAgICAgfSwgaS5vID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpO1xuICAgICAgfSwgaS5wID0gXCIvXCIsIGkoaS5zID0gNCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIG4gPSBpKDEpLCByID0gaSgyKTtcbiAgICAgIHR5cGVvZiAociA9IHIuX19lc01vZHVsZSA/IHIuZGVmYXVsdCA6IHIpID09IFwic3RyaW5nXCIgJiYgKHIgPSBbW3QuaSwgciwgXCJcIl1dKTtcbiAgICAgIHZhciBhID0geyBpbnNlcnQ6IFwiaGVhZFwiLCBzaW5nbGV0b246ICExIH07XG4gICAgICBuKHIsIGEpLCB0LmV4cG9ydHMgPSByLmxvY2FscyB8fCB7fTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgbiwgciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbiA9PT0gdm9pZCAwICYmIChuID0gISEod2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpKSwgbjtcbiAgICAgIH0sIGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHkgPSB7fTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICBpZiAoeVt4XSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YXIgdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoeCk7XG4gICAgICAgICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHcgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdyA9IHcuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIHcgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB5W3hdID0gdztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHlbeF07XG4gICAgICAgIH07XG4gICAgICB9KCksIGwgPSBbXTtcbiAgICAgIGZ1bmN0aW9uIGMoeSkge1xuICAgICAgICBmb3IgKHZhciB4ID0gLTEsIHcgPSAwOyB3IDwgbC5sZW5ndGg7IHcrKylcbiAgICAgICAgICBpZiAobFt3XS5pZGVudGlmaWVyID09PSB5KSB7XG4gICAgICAgICAgICB4ID0gdztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1KHksIHgpIHtcbiAgICAgICAgZm9yICh2YXIgdyA9IHt9LCBNID0gW10sIE4gPSAwOyBOIDwgeS5sZW5ndGg7IE4rKykge1xuICAgICAgICAgIHZhciBiID0geVtOXSwgZyA9IHguYmFzZSA/IGJbMF0gKyB4LmJhc2UgOiBiWzBdLCBFID0gd1tnXSB8fCAwLCBDID0gXCJcIi5jb25jYXQoZywgXCIgXCIpLmNvbmNhdChFKTtcbiAgICAgICAgICB3W2ddID0gRSArIDE7XG4gICAgICAgICAgdmFyIE8gPSBjKEMpLCBJID0geyBjc3M6IGJbMV0sIG1lZGlhOiBiWzJdLCBzb3VyY2VNYXA6IGJbM10gfTtcbiAgICAgICAgICBPICE9PSAtMSA/IChsW09dLnJlZmVyZW5jZXMrKywgbFtPXS51cGRhdGVyKEkpKSA6IGwucHVzaCh7IGlkZW50aWZpZXI6IEMsIHVwZGF0ZXI6IFIoSSwgeCksIHJlZmVyZW5jZXM6IDEgfSksIE0ucHVzaChDKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGgoeSkge1xuICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSwgdyA9IHkuYXR0cmlidXRlcyB8fCB7fTtcbiAgICAgICAgaWYgKHcubm9uY2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgIHZhciBNID0gaS5uYztcbiAgICAgICAgICBNICYmICh3Lm5vbmNlID0gTSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHcpLmZvckVhY2goZnVuY3Rpb24oYikge1xuICAgICAgICAgIHguc2V0QXR0cmlidXRlKGIsIHdbYl0pO1xuICAgICAgICB9KSwgdHlwZW9mIHkuaW5zZXJ0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICB5Lmluc2VydCh4KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIE4gPSBhKHkuaW5zZXJ0IHx8IFwiaGVhZFwiKTtcbiAgICAgICAgICBpZiAoIU4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgIE4uYXBwZW5kQ2hpbGQoeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9XG4gICAgICB2YXIgZiwgdiA9IChmID0gW10sIGZ1bmN0aW9uKHksIHgpIHtcbiAgICAgICAgcmV0dXJuIGZbeV0gPSB4LCBmLmZpbHRlcihCb29sZWFuKS5qb2luKGBcbmApO1xuICAgICAgfSk7XG4gICAgICBmdW5jdGlvbiBwKHksIHgsIHcsIE0pIHtcbiAgICAgICAgdmFyIE4gPSB3ID8gXCJcIiA6IE0ubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQoTS5tZWRpYSwgXCIge1wiKS5jb25jYXQoTS5jc3MsIFwifVwiKSA6IE0uY3NzO1xuICAgICAgICBpZiAoeS5zdHlsZVNoZWV0KVxuICAgICAgICAgIHkuc3R5bGVTaGVldC5jc3NUZXh0ID0gdih4LCBOKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShOKSwgZyA9IHkuY2hpbGROb2RlcztcbiAgICAgICAgICBnW3hdICYmIHkucmVtb3ZlQ2hpbGQoZ1t4XSksIGcubGVuZ3RoID8geS5pbnNlcnRCZWZvcmUoYiwgZ1t4XSkgOiB5LmFwcGVuZENoaWxkKGIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBrKHksIHgsIHcpIHtcbiAgICAgICAgdmFyIE0gPSB3LmNzcywgTiA9IHcubWVkaWEsIGIgPSB3LnNvdXJjZU1hcDtcbiAgICAgICAgaWYgKE4gPyB5LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIE4pIDogeS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKSwgYiAmJiBidG9hICYmIChNICs9IGBcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsYC5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYikpKSksIFwiICovXCIpKSwgeS5zdHlsZVNoZWV0KVxuICAgICAgICAgIHkuc3R5bGVTaGVldC5jc3NUZXh0ID0gTTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm9yICg7IHkuZmlyc3RDaGlsZDsgKVxuICAgICAgICAgICAgeS5yZW1vdmVDaGlsZCh5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoTSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgXyA9IG51bGwsIEEgPSAwO1xuICAgICAgZnVuY3Rpb24gUih5LCB4KSB7XG4gICAgICAgIHZhciB3LCBNLCBOO1xuICAgICAgICBpZiAoeC5zaW5nbGV0b24pIHtcbiAgICAgICAgICB2YXIgYiA9IEErKztcbiAgICAgICAgICB3ID0gXyB8fCAoXyA9IGgoeCkpLCBNID0gcC5iaW5kKG51bGwsIHcsIGIsICExKSwgTiA9IHAuYmluZChudWxsLCB3LCBiLCAhMCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHcgPSBoKHgpLCBNID0gay5iaW5kKG51bGwsIHcsIHgpLCBOID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgICBpZiAoZy5wYXJlbnROb2RlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcpO1xuICAgICAgICAgICAgfSkodyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE0oeSksIGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICBpZiAoZykge1xuICAgICAgICAgICAgaWYgKGcuY3NzID09PSB5LmNzcyAmJiBnLm1lZGlhID09PSB5Lm1lZGlhICYmIGcuc291cmNlTWFwID09PSB5LnNvdXJjZU1hcClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgTSh5ID0gZyk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBOKCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbih5LCB4KSB7XG4gICAgICAgICh4ID0geCB8fCB7fSkuc2luZ2xldG9uIHx8IHR5cGVvZiB4LnNpbmdsZXRvbiA9PSBcImJvb2xlYW5cIiB8fCAoeC5zaW5nbGV0b24gPSByKCkpO1xuICAgICAgICB2YXIgdyA9IHUoeSA9IHkgfHwgW10sIHgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oTSkge1xuICAgICAgICAgIGlmIChNID0gTSB8fCBbXSwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKE0pID09PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIE4gPSAwOyBOIDwgdy5sZW5ndGg7IE4rKykge1xuICAgICAgICAgICAgICB2YXIgYiA9IGMod1tOXSk7XG4gICAgICAgICAgICAgIGxbYl0ucmVmZXJlbmNlcy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgZyA9IHUoTSwgeCksIEUgPSAwOyBFIDwgdy5sZW5ndGg7IEUrKykge1xuICAgICAgICAgICAgICB2YXIgQyA9IGMod1tFXSk7XG4gICAgICAgICAgICAgIGxbQ10ucmVmZXJlbmNlcyA9PT0gMCAmJiAobFtDXS51cGRhdGVyKCksIGwuc3BsaWNlKEMsIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHcgPSBnO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgKG8gPSBpKDMpKCExKSkucHVzaChbdC5pLCBgLmNlLXBhcmFncmFwaCB7XG4gICAgbGluZS1oZWlnaHQ6IDEuNmVtO1xuICAgIG91dGxpbmU6IG5vbmU7XG59XG5cbi5jZS1wYXJhZ3JhcGhbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6OmJlZm9yZXtcbiAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcbiAgY29sb3I6ICM3MDc2ODQ7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi8qKiBTaG93IHBsYWNlaG9sZGVyIGF0IHRoZSBmaXJzdCBwYXJhZ3JhcGggaWYgRWRpdG9yIGlzIGVtcHR5ICovXG4uY29kZXgtZWRpdG9yLS1lbXB0eSAuY2UtYmxvY2s6Zmlyc3QtY2hpbGQgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTo6YmVmb3JlIHtcbiAgb3BhY2l0eTogMTtcbn1cblxuLmNvZGV4LWVkaXRvci0tdG9vbGJveC1vcGVuZWQgLmNlLWJsb2NrOmZpcnN0LWNoaWxkIC5jZS1wYXJhZ3JhcGhbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6OmJlZm9yZSxcbi5jb2RleC1lZGl0b3ItLWVtcHR5IC5jZS1ibG9jazpmaXJzdC1jaGlsZCAuY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmZvY3VzOjpiZWZvcmUge1xuICBvcGFjaXR5OiAwO1xufVxuXG4uY2UtcGFyYWdyYXBoIHA6Zmlyc3Qtb2YtdHlwZXtcbiAgICBtYXJnaW4tdG9wOiAwO1xufVxuXG4uY2UtcGFyYWdyYXBoIHA6bGFzdC1vZi10eXBle1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG59XG5gLCBcIlwiXSksIHQuZXhwb3J0cyA9IG87XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IFtdO1xuICAgICAgICByZXR1cm4gci50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICB2YXIgbCA9IGZ1bmN0aW9uKGMsIHUpIHtcbiAgICAgICAgICAgICAgdmFyIGggPSBjWzFdIHx8IFwiXCIsIGYgPSBjWzNdO1xuICAgICAgICAgICAgICBpZiAoIWYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgICAgICAgIGlmICh1ICYmIHR5cGVvZiBidG9hID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gKGsgPSBmLCBfID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaykpKSksIEEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChfKSwgXCIvKiMgXCIuY29uY2F0KEEsIFwiICovXCIpKSwgcCA9IGYuc291cmNlcy5tYXAoZnVuY3Rpb24oUikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoZi5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChSLCBcIiAqL1wiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2hdLmNvbmNhdChwKS5jb25jYXQoW3ZdKS5qb2luKGBcbmApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBrLCBfLCBBO1xuICAgICAgICAgICAgICByZXR1cm4gW2hdLmpvaW4oYFxuYCk7XG4gICAgICAgICAgICB9KGEsIG4pO1xuICAgICAgICAgICAgcmV0dXJuIGFbMl0gPyBcIkBtZWRpYSBcIi5jb25jYXQoYVsyXSwgXCIge1wiKS5jb25jYXQobCwgXCJ9XCIpIDogbDtcbiAgICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgICAgICB9LCByLmkgPSBmdW5jdGlvbihhLCBsLCBjKSB7XG4gICAgICAgICAgdHlwZW9mIGEgPT0gXCJzdHJpbmdcIiAmJiAoYSA9IFtbbnVsbCwgYSwgXCJcIl1dKTtcbiAgICAgICAgICB2YXIgdSA9IHt9O1xuICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCB0aGlzLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgICAgICAgIHZhciBmID0gdGhpc1toXVswXTtcbiAgICAgICAgICAgICAgZiAhPSBudWxsICYmICh1W2ZdID0gITApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwgYS5sZW5ndGg7IHYrKykge1xuICAgICAgICAgICAgdmFyIHAgPSBbXS5jb25jYXQoYVt2XSk7XG4gICAgICAgICAgICBjICYmIHVbcFswXV0gfHwgKGwgJiYgKHBbMl0gPyBwWzJdID0gXCJcIi5jb25jYXQobCwgXCIgYW5kIFwiKS5jb25jYXQocFsyXSkgOiBwWzJdID0gbCksIHIucHVzaChwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCByO1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICBpLnIobyksIGkuZChvLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSksIGkoMCk7XG4gICAgICBmdW5jdGlvbiBuKGwsIGMpIHtcbiAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBjLmxlbmd0aDsgdSsrKSB7XG4gICAgICAgICAgdmFyIGggPSBjW3VdO1xuICAgICAgICAgIGguZW51bWVyYWJsZSA9IGguZW51bWVyYWJsZSB8fCAhMSwgaC5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGggJiYgKGgud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLCBoLmtleSwgaCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHIobCwgYywgdSkge1xuICAgICAgICByZXR1cm4gYyAmJiBuKGwucHJvdG90eXBlLCBjKSwgdSAmJiBuKGwsIHUpLCBsO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBCYXNlIFBhcmFncmFwaCBCbG9jayBmb3IgdGhlIEVkaXRvci5qcy5cbiAgICAgICAqIFJlcHJlc2VudHMgc2ltcGxlIHBhcmFncmFwaFxuICAgICAgICpcbiAgICAgICAqIEBhdXRob3IgQ29kZVggKHRlYW1AY29kZXguc28pXG4gICAgICAgKiBAY29weXJpZ2h0IENvZGVYIDIwMThcbiAgICAgICAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICAgICAgICovXG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBsKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IGMuZGF0YSwgaCA9IGMuY29uZmlnLCBmID0gYy5hcGksIHYgPSBjLnJlYWRPbmx5O1xuICAgICAgICAgIChmdW5jdGlvbihwLCBrKSB7XG4gICAgICAgICAgICBpZiAoIShwIGluc3RhbmNlb2YgaykpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgfSkodGhpcywgbCksIHRoaXMuYXBpID0gZiwgdGhpcy5yZWFkT25seSA9IHYsIHRoaXMuX0NTUyA9IHsgYmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jaywgd3JhcHBlcjogXCJjZS1wYXJhZ3JhcGhcIiB9LCB0aGlzLnJlYWRPbmx5IHx8ICh0aGlzLm9uS2V5VXAgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSksIHRoaXMuX3BsYWNlaG9sZGVyID0gaC5wbGFjZWhvbGRlciA/IGgucGxhY2Vob2xkZXIgOiBsLkRFRkFVTFRfUExBQ0VIT0xERVIsIHRoaXMuX2RhdGEgPSB7fSwgdGhpcy5fZWxlbWVudCA9IHRoaXMuZHJhd1ZpZXcoKSwgdGhpcy5fcHJlc2VydmVCbGFuayA9IGgucHJlc2VydmVCbGFuayAhPT0gdm9pZCAwICYmIGgucHJlc2VydmVCbGFuaywgdGhpcy5kYXRhID0gdTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcihsLCBudWxsLCBbeyBrZXk6IFwiREVGQVVMVF9QTEFDRUhPTERFUlwiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9IH1dKSwgcihsLCBbeyBrZXk6IFwib25LZXlVcFwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIGMuY29kZSAhPT0gXCJCYWNrc3BhY2VcIiAmJiBjLmNvZGUgIT09IFwiRGVsZXRlXCIgfHwgdGhpcy5fZWxlbWVudC50ZXh0Q29udGVudCA9PT0gXCJcIiAmJiAodGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJkcmF3Vmlld1wiLCB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xuICAgICAgICAgIHJldHVybiBjLmNsYXNzTGlzdC5hZGQodGhpcy5fQ1NTLndyYXBwZXIsIHRoaXMuX0NTUy5ibG9jayksIGMuY29udGVudEVkaXRhYmxlID0gITEsIGMuZGF0YXNldC5wbGFjZWhvbGRlciA9IHRoaXMuYXBpLmkxOG4udCh0aGlzLl9wbGFjZWhvbGRlciksIHRoaXMucmVhZE9ubHkgfHwgKGMuY29udGVudEVkaXRhYmxlID0gITAsIGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcCkpLCBjO1xuICAgICAgICB9IH0sIHsga2V5OiBcInJlbmRlclwiLCB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwibWVyZ2VcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IHsgdGV4dDogdGhpcy5kYXRhLnRleHQgKyBjLnRleHQgfTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB1O1xuICAgICAgICB9IH0sIHsga2V5OiBcInZhbGlkYXRlXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgcmV0dXJuICEoYy50ZXh0LnRyaW0oKSA9PT0gXCJcIiAmJiAhdGhpcy5fcHJlc2VydmVCbGFuayk7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwic2F2ZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHJldHVybiB7IHRleHQ6IGMuaW5uZXJIVE1MIH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwib25QYXN0ZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHZhciB1ID0geyB0ZXh0OiBjLmRldGFpbC5kYXRhLmlubmVySFRNTCB9O1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHU7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiZGF0YVwiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjID0gdGhpcy5fZWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEudGV4dCA9IGMsIHRoaXMuX2RhdGE7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHRoaXMuX2RhdGEgPSBjIHx8IHt9LCB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCB8fCBcIlwiO1xuICAgICAgICB9IH1dLCBbeyBrZXk6IFwiY29udmVyc2lvbkNvbmZpZ1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IGV4cG9ydDogXCJ0ZXh0XCIsIGltcG9ydDogXCJ0ZXh0XCIgfTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJzYW5pdGl6ZVwiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IHRleHQ6IHsgYnI6ICEwIH0gfTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJpc1JlYWRPbmx5U3VwcG9ydGVkXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9IH0sIHsga2V5OiBcInBhc3RlQ29uZmlnXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdGFnczogW1wiUFwiXSB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcInRvb2xib3hcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyBpY29uOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOVY3LjJDOCA3LjA4OTU0IDguMDg5NTQgNyA4LjIgN0wxMiA3TTE2IDlWNy4yQzE2IDcuMDg5NTQgMTUuOTEwNSA3IDE1LjggN0wxMiA3TTEyIDdMMTIgMTdNMTIgMTdIMTBNMTIgMTdIMTRcIi8+PC9zdmc+JywgdGl0bGU6IFwiVGV4dFwiIH07XG4gICAgICAgIH0gfV0pLCBsO1xuICAgICAgfSgpO1xuICAgIH1dKS5kZWZhdWx0O1xuICB9KTtcbn0pKGVpKTtcbmNvbnN0IHRpID0gLyogQF9fUFVSRV9fICovIHhlKE5lKTtcbmNsYXNzICRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiYm9sZFwiLCB0aGlzLkNTUyA9IHtcbiAgICAgIGJ1dHRvbjogXCJjZS1pbmxpbmUtdG9vbFwiLFxuICAgICAgYnV0dG9uQWN0aXZlOiBcImNlLWlubGluZS10b29sLS1hY3RpdmVcIixcbiAgICAgIGJ1dHRvbk1vZGlmaWVyOiBcImNlLWlubGluZS10b29sLS1ib2xkXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgUnVsZVxuICAgKiBMZWF2ZSA8Yj4gdGFnc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYjoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYnV0dG9uIGZvciBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIHRoaXMubm9kZXMuYnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbiwgdGhpcy5DU1MuYnV0dG9uTW9kaWZpZXIpLCB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBFbywgdGhpcy5ub2Rlcy5idXR0b247XG4gIH1cbiAgLyoqXG4gICAqIFdyYXAgcmFuZ2Ugd2l0aCA8Yj4gdGFnXG4gICAqL1xuICBzdXJyb3VuZCgpIHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmROYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgc2VsZWN0aW9uIGFuZCBzZXQgYWN0aXZhdGVkIHN0YXRlIHRvIGJ1dHRvbiBpZiB0aGVyZSBhcmUgPGI+IHRhZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKHRoaXMuY29tbWFuZE5hbWUpO1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSwgZSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIHJldHVybiBcIkNNRCtCXCI7XG4gIH1cbn1cbiRlLmlzSW5saW5lID0gITA7XG4kZS50aXRsZSA9IFwiQm9sZFwiO1xuY2xhc3MgV2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbW1hbmROYW1lID0gXCJpdGFsaWNcIiwgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0taXRhbGljXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiBudWxsXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIFJ1bGVcbiAgICogTGVhdmUgPGk+IHRhZ3NcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGk6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gU28sIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwIHJhbmdlIHdpdGggPGk+IHRhZ1xuICAgKi9cbiAgc3Vycm91bmQoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxpPiB0YWdcbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKHRoaXMuY29tbWFuZE5hbWUpO1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSwgZSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgcmV0dXJuIFwiQ01EK0lcIjtcbiAgfVxufVxuV2UuaXNJbmxpbmUgPSAhMDtcbldlLnRpdGxlID0gXCJJdGFsaWNcIjtcbmNsYXNzIFllIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBhcGkgLSBFZGl0b3IuanMgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5jb21tYW5kTGluayA9IFwiY3JlYXRlTGlua1wiLCB0aGlzLmNvbW1hbmRVbmxpbmsgPSBcInVubGlua1wiLCB0aGlzLkVOVEVSX0tFWSA9IDEzLCB0aGlzLkNTUyA9IHtcbiAgICAgIGJ1dHRvbjogXCJjZS1pbmxpbmUtdG9vbFwiLFxuICAgICAgYnV0dG9uQWN0aXZlOiBcImNlLWlubGluZS10b29sLS1hY3RpdmVcIixcbiAgICAgIGJ1dHRvbk1vZGlmaWVyOiBcImNlLWlubGluZS10b29sLS1saW5rXCIsXG4gICAgICBidXR0b25Vbmxpbms6IFwiY2UtaW5saW5lLXRvb2wtLXVubGlua1wiLFxuICAgICAgaW5wdXQ6IFwiY2UtaW5saW5lLXRvb2wtaW5wdXRcIixcbiAgICAgIGlucHV0U2hvd2VkOiBcImNlLWlubGluZS10b29sLWlucHV0LS1zaG93ZWRcIlxuICAgIH0sIHRoaXMubm9kZXMgPSB7XG4gICAgICBidXR0b246IG51bGwsXG4gICAgICBpbnB1dDogbnVsbFxuICAgIH0sIHRoaXMuaW5wdXRPcGVuZWQgPSAhMSwgdGhpcy50b29sYmFyID0gZS50b29sYmFyLCB0aGlzLmlubGluZVRvb2xiYXIgPSBlLmlubGluZVRvb2xiYXIsIHRoaXMubm90aWZpZXIgPSBlLm5vdGlmaWVyLCB0aGlzLmkxOG4gPSBlLmkxOG4sIHRoaXMuc2VsZWN0aW9uID0gbmV3IG0oKTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIFJ1bGVcbiAgICogTGVhdmUgPGE+IHRhZ3NcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGE6IHtcbiAgICAgICAgaHJlZjogITAsXG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgcmVsOiBcIm5vZm9sbG93XCJcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYnV0dG9uIGZvciBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIHRoaXMubm9kZXMuYnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbiwgdGhpcy5DU1MuYnV0dG9uTW9kaWZpZXIpLCB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBxZSwgdGhpcy5ub2Rlcy5idXR0b247XG4gIH1cbiAgLyoqXG4gICAqIElucHV0IGZvciB0aGUgbGlua1xuICAgKi9cbiAgcmVuZGVyQWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgdGhpcy5ub2Rlcy5pbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMuaTE4bi50KFwiQWRkIGEgbGlua1wiKSwgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0KSwgdGhpcy5ub2Rlcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgZS5rZXlDb2RlID09PSB0aGlzLkVOVEVSX0tFWSAmJiB0aGlzLmVudGVyUHJlc3NlZChlKTtcbiAgICB9KSwgdGhpcy5ub2Rlcy5pbnB1dDtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGNsaWNrcyBvbiB0aGUgSW5saW5lIFRvb2xiYXIgaWNvblxuICAgKlxuICAgKiBAcGFyYW0ge1JhbmdlfSByYW5nZSAtIHJhbmdlIHRvIHdyYXAgd2l0aCBsaW5rXG4gICAqL1xuICBzdXJyb3VuZChlKSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIHRoaXMuaW5wdXRPcGVuZWQgPyAodGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpKSA6ICh0aGlzLnNlbGVjdGlvbi5zZXRGYWtlQmFja2dyb3VuZCgpLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCkpO1xuICAgICAgY29uc3QgdCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCksIHRoaXMudW5saW5rKCksIHRoaXMuY2xvc2VBY3Rpb25zKCksIHRoaXMuY2hlY2tTdGF0ZSgpLCB0aGlzLnRvb2xiYXIuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRvZ2dsZUFjdGlvbnMoKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgc2VsZWN0aW9uIGFuZCBzZXQgYWN0aXZhdGVkIHN0YXRlIHRvIGJ1dHRvbiBpZiB0aGVyZSBhcmUgPGE+IHRhZ1xuICAgKi9cbiAgY2hlY2tTdGF0ZSgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyhcIkFcIik7XG4gICAgaWYgKGUpIHtcbiAgICAgIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IE9vLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvblVubGluayksIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uQWN0aXZlKSwgdGhpcy5vcGVuQWN0aW9ucygpO1xuICAgICAgY29uc3QgdCA9IGUuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIHRoaXMubm9kZXMuaW5wdXQudmFsdWUgPSB0ICE9PSBcIm51bGxcIiA/IHQgOiBcIlwiLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBxZSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25VbmxpbmspLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSk7XG4gICAgcmV0dXJuICEhZTtcbiAgfVxuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdpdGggSW5saW5lIFRvb2xiYXIgY2xvc2luZ1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGEgc2hvcnRjdXRcbiAgICovXG4gIGdldCBzaG9ydGN1dCgpIHtcbiAgICByZXR1cm4gXCJDTUQrS1wiO1xuICB9XG4gIC8qKlxuICAgKiBTaG93L2Nsb3NlIGxpbmsgaW5wdXRcbiAgICovXG4gIHRvZ2dsZUFjdGlvbnMoKSB7XG4gICAgdGhpcy5pbnB1dE9wZW5lZCA/IHRoaXMuY2xvc2VBY3Rpb25zKCExKSA6IHRoaXMub3BlbkFjdGlvbnMoITApO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5lZWRGb2N1cyAtIG9uIGxpbmsgY3JlYXRpb24gd2UgbmVlZCB0byBmb2N1cyBpbnB1dC4gT24gZWRpdGluZyAtIG5vcGUuXG4gICAqL1xuICBvcGVuQWN0aW9ucyhlID0gITEpIHtcbiAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuaW5wdXRTaG93ZWQpLCBlICYmIHRoaXMubm9kZXMuaW5wdXQuZm9jdXMoKSwgdGhpcy5pbnB1dE9wZW5lZCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyU2F2ZWRTZWxlY3Rpb24gXHUyMDE0IHdlIGRvbid0IG5lZWQgdG8gY2xlYXIgc2F2ZWQgc2VsZWN0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uIHRvZ2dsZS1jbGlja3Mgb24gdGhlIGljb24gb2Ygb3BlbmVkIFRvb2xiYXJcbiAgICovXG4gIGNsb3NlQWN0aW9ucyhlID0gITApIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IHQgPSBuZXcgbSgpO1xuICAgICAgdC5zYXZlKCksIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24ucmVtb3ZlRmFrZUJhY2tncm91bmQoKSwgdC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5pbnB1dFNob3dlZCksIHRoaXMubm9kZXMuaW5wdXQudmFsdWUgPSBcIlwiLCBlICYmIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2F2ZWQoKSwgdGhpcy5pbnB1dE9wZW5lZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBFbnRlciBwcmVzc2VkIG9uIGlucHV0XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBlbnRlciBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBlbnRlclByZXNzZWQoZSkge1xuICAgIGxldCB0ID0gdGhpcy5ub2Rlcy5pbnB1dC52YWx1ZSB8fCBcIlwiO1xuICAgIGlmICghdC50cmltKCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy51bmxpbmsoKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmNsb3NlQWN0aW9ucygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVVUkwodCkpIHtcbiAgICAgIHRoaXMubm90aWZpZXIuc2hvdyh7XG4gICAgICAgIG1lc3NhZ2U6IFwiUGFzdGVkIGxpbmsgaXMgbm90IHZhbGlkLlwiLFxuICAgICAgICBzdHlsZTogXCJlcnJvclwiXG4gICAgICB9KSwgVChcIkluY29ycmVjdCBMaW5rIHBhc3RlZFwiLCBcIndhcm5cIiwgdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHQgPSB0aGlzLnByZXBhcmVMaW5rKHQpLCB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCksIHRoaXMuaW5zZXJ0TGluayh0KSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCB0aGlzLnNlbGVjdGlvbi5jb2xsYXBzZVRvRW5kKCksIHRoaXMuaW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlY3RzIGlmIHBhc3NlZCBzdHJpbmcgaXMgVVJMXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBzdHJpbmcgdG8gdmFsaWRhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICB2YWxpZGF0ZVVSTChlKSB7XG4gICAgcmV0dXJuICEvXFxzLy50ZXN0KGUpO1xuICB9XG4gIC8qKlxuICAgKiBQcm9jZXNzIGxpbmsgYmVmb3JlIGluamVjdGlvblxuICAgKiAtIHNhbml0aXplXG4gICAqIC0gYWRkIHByb3RvY29sIGZvciBsaW5rcyBsaWtlICdnb29nbGUuY29tJ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIHJhdyB1c2VyIGlucHV0XG4gICAqL1xuICBwcmVwYXJlTGluayhlKSB7XG4gICAgcmV0dXJuIGUgPSBlLnRyaW0oKSwgZSA9IHRoaXMuYWRkUHJvdG9jb2woZSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCAnaHR0cCcgcHJvdG9jb2wgdG8gdGhlIGxpbmtzIGxpa2UgJ3ZjLnJ1JywgJ2dvb2dsZS5jb20nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5rIC0gc3RyaW5nIHRvIHByb2Nlc3NcbiAgICovXG4gIGFkZFByb3RvY29sKGUpIHtcbiAgICBpZiAoL14oXFx3Kyk6KFxcL1xcLyk/Ly50ZXN0KGUpKVxuICAgICAgcmV0dXJuIGU7XG4gICAgY29uc3QgdCA9IC9eXFwvW14vXFxzXS8udGVzdChlKSwgbyA9IGUuc3Vic3RyaW5nKDAsIDEpID09PSBcIiNcIiwgaSA9IC9eXFwvXFwvW14vXFxzXS8udGVzdChlKTtcbiAgICByZXR1cm4gIXQgJiYgIW8gJiYgIWkgJiYgKGUgPSBcImh0dHA6Ly9cIiArIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIDxhPiB0YWcgd2l0aCBcImhyZWZcIlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIFwiaHJlZlwiIHZhbHVlXG4gICAqL1xuICBpbnNlcnRMaW5rKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyhcIkFcIik7XG4gICAgdCAmJiB0aGlzLnNlbGVjdGlvbi5leHBhbmRUb1RhZyh0KSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kTGluaywgITEsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIDxhPiB0YWdcbiAgICovXG4gIHVubGluaygpIHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRVbmxpbmspO1xuICB9XG59XG5ZZS5pc0lubGluZSA9ICEwO1xuWWUudGl0bGUgPSBcIkxpbmtcIjtcbmNsYXNzIHl0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gc3R1YiB0b29sIGRhdGFcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBhcGk6IHQgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgd3JhcHBlcjogXCJjZS1zdHViXCIsXG4gICAgICBpbmZvOiBcImNlLXN0dWJfX2luZm9cIixcbiAgICAgIHRpdGxlOiBcImNlLXN0dWJfX3RpdGxlXCIsXG4gICAgICBzdWJ0aXRsZTogXCJjZS1zdHViX19zdWJ0aXRsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSB0LCB0aGlzLnRpdGxlID0gZS50aXRsZSB8fCB0aGlzLmFwaS5pMThuLnQoXCJFcnJvclwiKSwgdGhpcy5zdWJ0aXRsZSA9IHRoaXMuYXBpLmkxOG4udChcIlRoZSBibG9jayBjYW4gbm90IGJlIGRpc3BsYXllZCBjb3JyZWN0bHkuXCIpLCB0aGlzLnNhdmVkRGF0YSA9IGUuc2F2ZWREYXRhLCB0aGlzLndyYXBwZXIgPSB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdHViIGhvbGRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG9yaWdpbmFsIFRvb2wgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tUb29sRGF0YX1cbiAgICovXG4gIHNhdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZWREYXRhO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCBodG1sIG1hcmt1cFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBtYWtlKCkge1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Mud3JhcHBlciksIHQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCI1MlwiIGhlaWdodD1cIjUyXCIgdmlld0JveD1cIjAgMCA1MiA1MlwiPjxwYXRoIGZpbGw9XCIjRDc2QjZCXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiIGQ9XCJNMjYgNTJDMTEuNjQgNTIgMCA0MC4zNiAwIDI2UzExLjY0IDAgMjYgMHMyNiAxMS42NCAyNiAyNi0xMS42NCAyNi0yNiAyNnptMC0zLjI1YzEyLjU2NCAwIDIyLjc1LTEwLjE4NiAyMi43NS0yMi43NVMzOC41NjQgMy4yNSAyNiAzLjI1IDMuMjUgMTMuNDM2IDMuMjUgMjYgMTMuNDM2IDQ4Ljc1IDI2IDQ4Ljc1ek0xNS43MDggMzMuMDQyYTIuMTY3IDIuMTY3IDAgMSAxIDAtNC4zMzQgMi4xNjcgMi4xNjcgMCAwIDEgMCA0LjMzNHptMjMuODM0IDBhMi4xNjcgMi4xNjcgMCAxIDEgMC00LjMzNCAyLjE2NyAyLjE2NyAwIDAgMSAwIDQuMzM0em0tMTUuODc1IDUuNDUyYTEuMDgzIDEuMDgzIDAgMSAxLTEuODM0LTEuMTU1YzEuMzMxLTIuMTE0IDMuNDktMy4xNzkgNi4zMzQtMy4xNzkgMi44NDQgMCA1LjAwMiAxLjA2NSA2LjMzMyAzLjE4YTEuMDgzIDEuMDgzIDAgMSAxLTEuODMzIDEuMTU0Yy0uOTEzLTEuNDUtMi4zNjYtMi4xNjctNC41LTIuMTY3cy0zLjU4Ny43MTctNC41IDIuMTY3elwiLz48L3N2Zz4nLCBvID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmluZm8pLCBpID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRpdGxlLCB7XG4gICAgICB0ZXh0Q29udGVudDogdGhpcy50aXRsZVxuICAgIH0pLCBuID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnN1YnRpdGxlLCB7XG4gICAgICB0ZXh0Q29udGVudDogdGhpcy5zdWJ0aXRsZVxuICAgIH0pO1xuICAgIHJldHVybiBlLmlubmVySFRNTCA9IHQsIG8uYXBwZW5kQ2hpbGQoaSksIG8uYXBwZW5kQ2hpbGQobiksIGUuYXBwZW5kQ2hpbGQobyksIGU7XG4gIH1cbn1cbnl0LmlzUmVhZE9ubHlTdXBwb3J0ZWQgPSAhMDtcbmNsYXNzIG9pIGV4dGVuZHMgVWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnR5cGUgPSB5ZS5JbmxpbmU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGl0bGUgZm9yIElubGluZSBUb29sIGlmIHNwZWNpZmllZCBieSB1c2VyXG4gICAqL1xuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtqZS5UaXRsZV07XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IElubGluZVRvb2wgaW5zdGFuY2UgZnJvbSBjb25zdHJ1Y3RhYmxlXG4gICAqL1xuICBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdGFibGUoe1xuICAgICAgYXBpOiB0aGlzLmFwaS5nZXRNZXRob2RzRm9yVG9vbCh0aGlzKSxcbiAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5nc1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBpaSBleHRlbmRzIFVlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0geWUuVHVuZTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBuZXcgQmxvY2tUdW5lIGluc3RhbmNlIGZyb20gY29uc3RydWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFR1bmUgZGF0YVxuICAgKiBAcGFyYW0gYmxvY2sgLSBCbG9jayBBUEkgb2JqZWN0XG4gICAqL1xuICBjcmVhdGUoZSwgdCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RhYmxlKHtcbiAgICAgIGFwaTogdGhpcy5hcGkuZ2V0TWV0aG9kc0ZvclRvb2wodGhpcyksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3MsXG4gICAgICBibG9jazogdCxcbiAgICAgIGRhdGE6IGVcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgVSBleHRlbmRzIE1hcCB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrIFRvb2xzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBibG9ja1Rvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzQmxvY2soKSk7XG4gICAgcmV0dXJuIG5ldyBVKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIElubGluZSBUb29scyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgaW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpLmZpbHRlcigoWywgdF0pID0+IHQuaXNJbmxpbmUoKSk7XG4gICAgcmV0dXJuIG5ldyBVKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrIFR1bmVzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBibG9ja1R1bmVzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzVHVuZSgpKTtcbiAgICByZXR1cm4gbmV3IFUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaW50ZXJuYWwgVG9vbHMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGludGVybmFsVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpLmZpbHRlcigoWywgdF0pID0+IHQuaXNJbnRlcm5hbCk7XG4gICAgcmV0dXJuIG5ldyBVKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2xzIGNvbGxlY3Rpb24gcHJvdmlkZWQgYnkgdXNlclxuICAgKi9cbiAgZ2V0IGV4dGVybmFsVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpLmZpbHRlcigoWywgdF0pID0+ICF0LmlzSW50ZXJuYWwpO1xuICAgIHJldHVybiBuZXcgVShlKTtcbiAgfVxufVxudmFyIG5pID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIEV0ID0gKHMsIGUsIHQsIG8pID0+IHtcbiAgZm9yICh2YXIgaSA9IG8gPiAxID8gdm9pZCAwIDogbyA/IHNpKGUsIHQpIDogZSwgbiA9IHMubGVuZ3RoIC0gMSwgcjsgbiA+PSAwOyBuLS0pXG4gICAgKHIgPSBzW25dKSAmJiAoaSA9IChvID8gcihlLCB0LCBpKSA6IHIoaSkpIHx8IGkpO1xuICByZXR1cm4gbyAmJiBpICYmIG5pKGUsIHQsIGkpLCBpO1xufTtcbmNsYXNzIEtlIGV4dGVuZHMgVWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnR5cGUgPSB5ZS5CbG9jaywgdGhpcy5pbmxpbmVUb29scyA9IG5ldyBVKCksIHRoaXMudHVuZXMgPSBuZXcgVSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG5ldyBUb29sIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIC0gVG9vbCBkYXRhXG4gICAqIEBwYXJhbSBibG9jayAtIEJsb2NrQVBJIGZvciBjdXJyZW50IEJsb2NrXG4gICAqIEBwYXJhbSByZWFkT25seSAtIFRydWUgaWYgRWRpdG9yIGlzIGluIHJlYWQtb25seSBtb2RlXG4gICAqL1xuICBjcmVhdGUoZSwgdCwgbykge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RhYmxlKHtcbiAgICAgIGRhdGE6IGUsXG4gICAgICBibG9jazogdCxcbiAgICAgIHJlYWRPbmx5OiBvLFxuICAgICAgYXBpOiB0aGlzLmFwaS5nZXRNZXRob2RzRm9yVG9vbCh0aGlzKSxcbiAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5nc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkIGJ5IFRvb2xcbiAgICovXG4gIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbc2UuSXNSZWFkT25seVN1cHBvcnRlZF0gPT09ICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbCBzdXBwb3J0cyBsaW5lYnJlYWtzXG4gICAqL1xuICBnZXQgaXNMaW5lQnJlYWtzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW3NlLklzRW5hYmxlZExpbmVCcmVha3NdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2wgdG9vbGJveCBjb25maWd1cmF0aW9uIChpbnRlcm5hbCBvciB1c2VyLXNwZWNpZmllZCkuXG4gICAqXG4gICAqIE1lcmdlcyBpbnRlcm5hbCBhbmQgdXNlci1kZWZpbmVkIHRvb2xib3ggY29uZmlncyBiYXNlZCBvbiB0aGUgZm9sbG93aW5nIHJ1bGVzOlxuICAgKlxuICAgKiAtIElmIGJvdGggaW50ZXJuYWwgYW5kIHVzZXItZGVmaW5lZCB0b29sYm94IGNvbmZpZ3MgYXJlIGFycmF5cyB0aGVpciBpdGVtcyBhcmUgbWVyZ2VkLlxuICAgKiBMZW5ndGggb2YgdGhlIHNlY29uZCBvbmUgaXMga2VwdC5cbiAgICpcbiAgICogLSBJZiBib3RoIGFyZSBvYmplY3RzIHRoZWlyIHByb3BlcnRpZXMgYXJlIG1lcmdlZC5cbiAgICpcbiAgICogLSBJZiBvbmUgaXMgYW4gb2JqZWN0IGFuZCBhbm90aGVyIGlzIGFuIGFycmF5IHRoYW4gaW50ZXJuYWwgY29uZmlnIGlzIHJlcGxhY2VkIHdpdGggdXNlci1kZWZpbmVkXG4gICAqIGNvbmZpZy4gVGhpcyBpcyBtYWRlIHRvIGFsbG93IHVzZXIgdG8gb3ZlcnJpZGUgZGVmYXVsdCB0b29sJ3MgdG9vbGJveCByZXByZXNlbnRhdGlvbiAoc2luZ2xlL211bHRpcGxlIGVudHJpZXMpXG4gICAqL1xuICBnZXQgdG9vbGJveCgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5jb25zdHJ1Y3RhYmxlW3NlLlRvb2xib3hdLCB0ID0gdGhpcy5jb25maWdbbWUuVG9vbGJveF07XG4gICAgaWYgKCFWKGUpICYmIHQgIT09ICExKVxuICAgICAgcmV0dXJuIHQgPyBBcnJheS5pc0FycmF5KGUpID8gQXJyYXkuaXNBcnJheSh0KSA/IHQubWFwKChvLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBlW2ldO1xuICAgICAgICByZXR1cm4gbiA/IHtcbiAgICAgICAgICAuLi5uLFxuICAgICAgICAgIC4uLm9cbiAgICAgICAgfSA6IG87XG4gICAgICB9KSA6IFt0XSA6IEFycmF5LmlzQXJyYXkodCkgPyB0IDogW1xuICAgICAgICB7XG4gICAgICAgICAgLi4uZSxcbiAgICAgICAgICAuLi50XG4gICAgICAgIH1cbiAgICAgIF0gOiBBcnJheS5pc0FycmF5KGUpID8gZSA6IFtlXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIGNvbnZlcnNpb24gY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0IGNvbnZlcnNpb25Db25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtzZS5Db252ZXJzaW9uQ29uZmlnXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBlbmFibGVkIGlubGluZSB0b29scyBmb3IgVG9vbFxuICAgKi9cbiAgZ2V0IGVuYWJsZWRJbmxpbmVUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdbbWUuRW5hYmxlZElubGluZVRvb2xzXSB8fCAhMTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBlbmFibGVkIHR1bmVzIGZvciBUb29sXG4gICAqL1xuICBnZXQgZW5hYmxlZEJsb2NrVHVuZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnW21lLkVuYWJsZWRCbG9ja1R1bmVzXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHBhc3RlIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW3NlLlBhc3RlQ29uZmlnXSA/PyB7fTtcbiAgfVxuICBnZXQgc2FuaXRpemVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHN1cGVyLnNhbml0aXplQ29uZmlnLCB0ID0gdGhpcy5iYXNlU2FuaXRpemVDb25maWc7XG4gICAgaWYgKFYoZSkpXG4gICAgICByZXR1cm4gdDtcbiAgICBjb25zdCBvID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIGUpXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIGkpKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlW2ldO1xuICAgICAgICBqKG4pID8gb1tpXSA9IE9iamVjdC5hc3NpZ24oe30sIHQsIG4pIDogb1tpXSA9IG47XG4gICAgICB9XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgZ2V0IGJhc2VTYW5pdGl6ZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4gT2JqZWN0LmFzc2lnbihlLCB0LnNhbml0aXplQ29uZmlnKSksIEFycmF5LmZyb20odGhpcy50dW5lcy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4gT2JqZWN0LmFzc2lnbihlLCB0LnNhbml0aXplQ29uZmlnKSksIGU7XG4gIH1cbn1cbkV0KFtcbiAgYWVcbl0sIEtlLnByb3RvdHlwZSwgXCJzYW5pdGl6ZUNvbmZpZ1wiLCAxKTtcbkV0KFtcbiAgYWVcbl0sIEtlLnByb3RvdHlwZSwgXCJiYXNlU2FuaXRpemVDb25maWdcIiwgMSk7XG5jbGFzcyByaSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIGNvbmZpZyAtIHRvb2xzIGNvbmZpZ1xuICAgKiBAcGFyYW0gZWRpdG9yQ29uZmlnIC0gRWRpdG9ySlMgY29uZmlnXG4gICAqIEBwYXJhbSBhcGkgLSBFZGl0b3JKUyBBUEkgbW9kdWxlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlLCB0LCBvKSB7XG4gICAgdGhpcy5hcGkgPSBvLCB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZWRpdG9yQ29uZmlnID0gdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIG9iamVjdCBiYXNlZCBvbiBpdCdzIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSB0b29sIG5hbWVcbiAgICovXG4gIGdldChlKSB7XG4gICAgY29uc3QgeyBjbGFzczogdCwgaXNJbnRlcm5hbDogbyA9ICExLCAuLi5pIH0gPSB0aGlzLmNvbmZpZ1tlXSwgbiA9IHRoaXMuZ2V0Q29uc3RydWN0b3IodCk7XG4gICAgcmV0dXJuIG5ldyBuKHtcbiAgICAgIG5hbWU6IGUsXG4gICAgICBjb25zdHJ1Y3RhYmxlOiB0LFxuICAgICAgY29uZmlnOiBpLFxuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGlzRGVmYXVsdDogZSA9PT0gdGhpcy5lZGl0b3JDb25maWcuZGVmYXVsdEJsb2NrLFxuICAgICAgZGVmYXVsdFBsYWNlaG9sZGVyOiB0aGlzLmVkaXRvckNvbmZpZy5wbGFjZWhvbGRlcixcbiAgICAgIGlzSW50ZXJuYWw6IG9cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhcHByb3ByaWF0ZSBUb29sIG9iamVjdCBjb25zdHJ1Y3RvciBmb3IgVG9vbCBjb25zdHJ1Y3RhYmxlXG4gICAqXG4gICAqIEBwYXJhbSBjb25zdHJ1Y3RhYmxlIC0gVG9vbHMgY29uc3RydWN0YWJsZVxuICAgKi9cbiAgZ2V0Q29uc3RydWN0b3IoZSkge1xuICAgIHN3aXRjaCAoITApIHtcbiAgICAgIGNhc2UgZVtqZS5Jc0lubGluZV06XG4gICAgICAgIHJldHVybiBvaTtcbiAgICAgIGNhc2UgZVt2dC5Jc1R1bmVdOlxuICAgICAgICByZXR1cm4gaWk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gS2U7XG4gICAgfVxuICB9XG59XG5jbGFzcyBCdCB7XG4gIC8qKlxuICAgKiBNb3ZlRG93blR1bmUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtBUEl9IGFwaSBcdTIwMTQgRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5DU1MgPSB7XG4gICAgICBhbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9LCB0aGlzLmFwaSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFR1bmUncyBhcHBlYXJhbmNlIGluIGJsb2NrIHNldHRpbmdzIG1lbnVcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcHQsXG4gICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiTW92ZSBkb3duXCIpLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5oYW5kbGVDbGljaygpLFxuICAgICAgbmFtZTogXCJtb3ZlLWRvd25cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3Mgb24gJ21vdmUgZG93bicgYnV0dG9uXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGUgKyAxKTtcbiAgICBpZiAoIXQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbW92ZSBCbG9jayBkb3duIHNpbmNlIGl0IGlzIGFscmVhZHkgdGhlIGxhc3RcIik7XG4gICAgY29uc3QgbyA9IHQuaG9sZGVyLCBpID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbiA9IE1hdGguYWJzKHdpbmRvdy5pbm5lckhlaWdodCAtIG8ub2Zmc2V0SGVpZ2h0KTtcbiAgICBpLnRvcCA8IHdpbmRvdy5pbm5lckhlaWdodCAmJiAobiA9IHdpbmRvdy5zY3JvbGxZICsgby5vZmZzZXRIZWlnaHQpLCB3aW5kb3cuc2Nyb2xsVG8oMCwgbiksIHRoaXMuYXBpLmJsb2Nrcy5tb3ZlKGUgKyAxKSwgdGhpcy5hcGkudG9vbGJhci50b2dnbGVCbG9ja1NldHRpbmdzKCEwKTtcbiAgfVxufVxuQnQuaXNUdW5lID0gITA7XG5jbGFzcyBDdCB7XG4gIC8qKlxuICAgKiBEZWxldGVUdW5lIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7QVBJfSBhcGkgLSBFZGl0b3IncyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBlIH0pIHtcbiAgICB0aGlzLmFwaSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFR1bmUncyBhcHBlYXJhbmNlIGluIGJsb2NrIHNldHRpbmdzIG1lbnVcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogQ28sXG4gICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiRGVsZXRlXCIpLFxuICAgICAgbmFtZTogXCJkZWxldGVcIixcbiAgICAgIGNvbmZpcm1hdGlvbjoge1xuICAgICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiQ2xpY2sgdG8gZGVsZXRlXCIpLFxuICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKClcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYmxvY2sgY29uZGl0aW9ucyBwYXNzZWRcbiAgICovXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIHRoaXMuYXBpLmJsb2Nrcy5kZWxldGUoKTtcbiAgfVxufVxuQ3QuaXNUdW5lID0gITA7XG5jbGFzcyBUdCB7XG4gIC8qKlxuICAgKiBNb3ZlVXBUdW5lIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7QVBJfSBhcGkgLSBFZGl0b3IncyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBlIH0pIHtcbiAgICB0aGlzLkNTUyA9IHtcbiAgICAgIGFuaW1hdGlvbjogXCJ3b2JibGVcIlxuICAgIH0sIHRoaXMuYXBpID0gZTtcbiAgfVxuICAvKipcbiAgICogVHVuZSdzIGFwcGVhcmFuY2UgaW4gYmxvY2sgc2V0dGluZ3MgbWVudVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBCbyxcbiAgICAgIHRpdGxlOiB0aGlzLmFwaS5pMThuLnQoXCJNb3ZlIHVwXCIpLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5oYW5kbGVDbGljaygpLFxuICAgICAgbmFtZTogXCJtb3ZlLXVwXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIGN1cnJlbnQgYmxvY2sgdXBcbiAgICovXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSwgdCA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgoZSksIG8gPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGUgLSAxKTtcbiAgICBpZiAoZSA9PT0gMCB8fCAhdCB8fCAhbylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBtb3ZlIEJsb2NrIHVwIHNpbmNlIGl0IGlzIGFscmVhZHkgdGhlIGZpcnN0XCIpO1xuICAgIGNvbnN0IGkgPSB0LmhvbGRlciwgbiA9IG8uaG9sZGVyLCByID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgYSA9IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGw7XG4gICAgYS50b3AgPiAwID8gbCA9IE1hdGguYWJzKHIudG9wKSAtIE1hdGguYWJzKGEudG9wKSA6IGwgPSBNYXRoLmFicyhyLnRvcCkgKyBhLmhlaWdodCwgd2luZG93LnNjcm9sbEJ5KDAsIC0xICogbCksIHRoaXMuYXBpLmJsb2Nrcy5tb3ZlKGUgLSAxKSwgdGhpcy5hcGkudG9vbGJhci50b2dnbGVCbG9ja1NldHRpbmdzKCEwKTtcbiAgfVxufVxuVHQuaXNUdW5lID0gITA7XG52YXIgYWkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIGxpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgY2kgPSAocywgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gbGkoZSwgdCkgOiBlLCBuID0gcy5sZW5ndGggLSAxLCByOyBuID49IDA7IG4tLSlcbiAgICAociA9IHNbbl0pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgYWkoZSwgdCwgaSksIGk7XG59O1xuY2xhc3MgU3QgZXh0ZW5kcyBTIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5zdHViVG9vbCA9IFwic3R1YlwiLCB0aGlzLnRvb2xzQXZhaWxhYmxlID0gbmV3IFUoKSwgdGhpcy50b29sc1VuYXZhaWxhYmxlID0gbmV3IFUoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhdmFpbGFibGUgVG9vbHNcbiAgICovXG4gIGdldCBhdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbHNBdmFpbGFibGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdW5hdmFpbGFibGUgVG9vbHNcbiAgICovXG4gIGdldCB1bmF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sc1VuYXZhaWxhYmxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbHMgZm9yIHRoZSBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgZ2V0IGlubGluZVRvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5pbmxpbmVUb29scztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGVkaXRvciBibG9jayB0b29sc1xuICAgKi9cbiAgZ2V0IGJsb2NrVG9vbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmJsb2NrVG9vbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhdmFpbGFibGUgQmxvY2sgVHVuZXNcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gLSBvYmplY3Qgb2YgSW5saW5lIFRvb2wncyBjbGFzc2VzXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lcygpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuYmxvY2tUdW5lcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBkZWZhdWx0IFRvb2wgb2JqZWN0XG4gICAqL1xuICBnZXQgZGVmYXVsdFRvb2woKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tUb29scy5nZXQodGhpcy5jb25maWcuZGVmYXVsdEJsb2NrKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbnRlcm5hbCB0b29sc1xuICAgKi9cbiAgZ2V0IGludGVybmFsKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5pbnRlcm5hbFRvb2xzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGluc3RhbmNlcyB2aWEgcGFzc2VkIG9yIGRlZmF1bHQgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgaWYgKHRoaXMudmFsaWRhdGVUb29scygpLCB0aGlzLmNvbmZpZy50b29scyA9IFNlKHt9LCB0aGlzLmludGVybmFsVG9vbHMsIHRoaXMuY29uZmlnLnRvb2xzKSwgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvbmZpZywgXCJ0b29sc1wiKSB8fCBPYmplY3Qua2V5cyh0aGlzLmNvbmZpZy50b29scykubGVuZ3RoID09PSAwKVxuICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBzdGFydCB3aXRob3V0IHRvb2xzXCIpO1xuICAgIGNvbnN0IGUgPSB0aGlzLnByZXBhcmVDb25maWcoKTtcbiAgICB0aGlzLmZhY3RvcnkgPSBuZXcgcmkoZSwgdGhpcy5jb25maWcsIHRoaXMuRWRpdG9yLkFQSSk7XG4gICAgY29uc3QgdCA9IHRoaXMuZ2V0TGlzdE9mUHJlcGFyZUZ1bmN0aW9ucyhlKTtcbiAgICBpZiAodC5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgYXdhaXQgb3QodCwgKG8pID0+IHtcbiAgICAgIHRoaXMudG9vbFByZXBhcmVNZXRob2RTdWNjZXNzKG8pO1xuICAgIH0sIChvKSA9PiB7XG4gICAgICB0aGlzLnRvb2xQcmVwYXJlTWV0aG9kRmFsbGJhY2sobyk7XG4gICAgfSksIHRoaXMucHJlcGFyZUJsb2NrVG9vbHMoKTtcbiAgfVxuICBnZXRBbGxJbmxpbmVUb29sc1Nhbml0aXplQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSB7fTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmlubGluZVRvb2xzLnZhbHVlcygpKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKGUsIHQuc2FuaXRpemVDb25maWcpO1xuICAgIH0pLCBlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBlYWNoIFRvb2wgcmVzZXQgbWV0aG9kIHRvIGNsZWFuIHVwIGFueXRoaW5nIHNldCBieSBUb29sXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIE9iamVjdC52YWx1ZXModGhpcy5hdmFpbGFibGUpLmZvckVhY2goYXN5bmMgKGUpID0+IHtcbiAgICAgIEQoZS5yZXNldCkgJiYgYXdhaXQgZS5yZXNldCgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGludGVybmFsIHRvb2xzXG4gICAqIEluY2x1ZGVzIEJvbGQsIEl0YWxpYywgTGluayBhbmQgUGFyYWdyYXBoXG4gICAqL1xuICBnZXQgaW50ZXJuYWxUb29scygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9sZDoge1xuICAgICAgICBjbGFzczogJGUsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgaXRhbGljOiB7XG4gICAgICAgIGNsYXNzOiBXZSxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBsaW5rOiB7XG4gICAgICAgIGNsYXNzOiBZZSxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgY2xhc3M6IHRpLFxuICAgICAgICBpbmxpbmVUb29sYmFyOiAhMCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBzdHViOiB7XG4gICAgICAgIGNsYXNzOiB5dCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBtb3ZlVXA6IHtcbiAgICAgICAgY2xhc3M6IFR0LFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIGRlbGV0ZToge1xuICAgICAgICBjbGFzczogQ3QsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbW92ZURvd246IHtcbiAgICAgICAgY2xhc3M6IEJ0LFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2Qgc3VjY2VzcyBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIGF2YWlsYWJsZSBsaXN0XG4gICAqL1xuICB0b29sUHJlcGFyZU1ldGhvZFN1Y2Nlc3MoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmZhY3RvcnkuZ2V0KGUudG9vbE5hbWUpO1xuICAgIGlmICh0LmlzSW5saW5lKCkpIHtcbiAgICAgIGNvbnN0IGkgPSBbXCJyZW5kZXJcIiwgXCJzdXJyb3VuZFwiLCBcImNoZWNrU3RhdGVcIl0uZmlsdGVyKChuKSA9PiAhdC5jcmVhdGUoKVtuXSk7XG4gICAgICBpZiAoaS5sZW5ndGgpIHtcbiAgICAgICAgVChcbiAgICAgICAgICBgSW5jb3JyZWN0IElubGluZSBUb29sOiAke3QubmFtZX0uIFNvbWUgb2YgcmVxdWlyZWQgbWV0aG9kcyBpcyBub3QgaW1wbGVtZW50ZWQgJW9gLFxuICAgICAgICAgIFwid2FyblwiLFxuICAgICAgICAgIGlcbiAgICAgICAgKSwgdGhpcy50b29sc1VuYXZhaWxhYmxlLnNldCh0Lm5hbWUsIHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudG9vbHNBdmFpbGFibGUuc2V0KHQubmFtZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2QgZmFpbCBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIHVuYXZhaWxhYmxlIGxpc3RcbiAgICovXG4gIHRvb2xQcmVwYXJlTWV0aG9kRmFsbGJhY2soZSkge1xuICAgIHRoaXMudG9vbHNVbmF2YWlsYWJsZS5zZXQoZS50b29sTmFtZSwgdGhpcy5mYWN0b3J5LmdldChlLnRvb2xOYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmRzIHByZXBhcmUgZnVuY3Rpb24gb2YgcGx1Z2lucyB3aXRoIHVzZXIgb3IgZGVmYXVsdCBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IG5lZWRzIHRvIGJlIGZpcmVkIHNlcXVlbnRpYWxseVxuICAgKiBAcGFyYW0gY29uZmlnIC0gdG9vbHMgY29uZmlnXG4gICAqL1xuICBnZXRMaXN0T2ZQcmVwYXJlRnVuY3Rpb25zKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgICAgdC5wdXNoKHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgICAgICBmdW5jdGlvbjogRChpLmNsYXNzLnByZXBhcmUpID8gaS5jbGFzcy5wcmVwYXJlIDogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9vbE5hbWU6IG8sXG4gICAgICAgICAgY29uZmlnOiBpLmNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSwgdDtcbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgSW5saW5lIFRvb2xzIGFuZCBCbG9jayBUdW5lcyBmb3IgQmxvY2sgVG9vbFxuICAgKi9cbiAgcHJlcGFyZUJsb2NrVG9vbHMoKSB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLmJsb2NrVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuYXNzaWduSW5saW5lVG9vbHNUb0Jsb2NrVG9vbChlKSwgdGhpcy5hc3NpZ25CbG9ja1R1bmVzVG9CbG9ja1Rvb2woZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbiBlbmFibGVkIElubGluZSBUb29scyBmb3IgQmxvY2sgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbklubGluZVRvb2xzVG9CbG9ja1Rvb2woZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyICE9PSAhMSkge1xuICAgICAgaWYgKGUuZW5hYmxlZElubGluZVRvb2xzID09PSAhMCkge1xuICAgICAgICBlLmlubGluZVRvb2xzID0gbmV3IFUoXG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyKSA/IHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIubWFwKCh0KSA9PiBbdCwgdGhpcy5pbmxpbmVUb29scy5nZXQodCldKSA6IEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy5lbnRyaWVzKCkpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEFycmF5LmlzQXJyYXkoZS5lbmFibGVkSW5saW5lVG9vbHMpICYmIChlLmlubGluZVRvb2xzID0gbmV3IFUoXG4gICAgICAgIGUuZW5hYmxlZElubGluZVRvb2xzLm1hcCgodCkgPT4gW3QsIHRoaXMuaW5saW5lVG9vbHMuZ2V0KHQpXSlcbiAgICAgICkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgQmxvY2sgVHVuZXMgZm9yIEJsb2NrIFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgXHUyMDE0IEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbkJsb2NrVHVuZXNUb0Jsb2NrVG9vbChlKSB7XG4gICAgaWYgKGUuZW5hYmxlZEJsb2NrVHVuZXMgIT09ICExKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlLmVuYWJsZWRCbG9ja1R1bmVzKSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IFUoXG4gICAgICAgICAgZS5lbmFibGVkQmxvY2tUdW5lcy5tYXAoKG8pID0+IFtvLCB0aGlzLmJsb2NrVHVuZXMuZ2V0KG8pXSlcbiAgICAgICAgKTtcbiAgICAgICAgZS50dW5lcyA9IG5ldyBVKFsuLi50LCAuLi50aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29sc10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy50dW5lcykpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBVKFxuICAgICAgICAgIHRoaXMuY29uZmlnLnR1bmVzLm1hcCgobykgPT4gW28sIHRoaXMuYmxvY2tUdW5lcy5nZXQobyldKVxuICAgICAgICApO1xuICAgICAgICBlLnR1bmVzID0gbmV3IFUoWy4uLnQsIC4uLnRoaXMuYmxvY2tUdW5lcy5pbnRlcm5hbFRvb2xzXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGUudHVuZXMgPSB0aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29scztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIFRvb2xzIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyBhbmQgdGhyb3cgRXJyb3IgZm9yIHVzZXIgaWYgaXQgaXMgaW52YWxpZFxuICAgKi9cbiAgdmFsaWRhdGVUb29scygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5jb25maWcudG9vbHMpXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uZmlnLnRvb2xzLCBlKSkge1xuICAgICAgICBpZiAoZSBpbiB0aGlzLmludGVybmFsVG9vbHMpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb25maWcudG9vbHNbZV07XG4gICAgICAgIGlmICghRCh0KSAmJiAhRCh0LmNsYXNzKSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBUb29sIFx1MDBBQiR7ZX1cdTAwQkIgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGZ1bmN0aW9uIGluIHRoZSBcdTAwQUJjbGFzc1x1MDBCQiBwcm9wZXJ0eWBcbiAgICAgICAgICApO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBVbmlmeSB0b29scyBjb25maWdcbiAgICovXG4gIHByZXBhcmVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIGZvciAoY29uc3QgdCBpbiB0aGlzLmNvbmZpZy50b29scylcbiAgICAgIGoodGhpcy5jb25maWcudG9vbHNbdF0pID8gZVt0XSA9IHRoaXMuY29uZmlnLnRvb2xzW3RdIDogZVt0XSA9IHsgY2xhc3M6IHRoaXMuY29uZmlnLnRvb2xzW3RdIH07XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cbmNpKFtcbiAgYWVcbl0sIFN0LnByb3RvdHlwZSwgXCJnZXRBbGxJbmxpbmVUb29sc1Nhbml0aXplQ29uZmlnXCIsIDEpO1xuY29uc3QgZGkgPSBgOnJvb3R7LS1zZWxlY3Rpb25Db2xvcjogI2UxZjJmZjstLWlubGluZVNlbGVjdGlvbkNvbG9yOiAjZDRlY2ZmOy0tYmctbGlnaHQ6ICNlZmYyZjU7LS1ncmF5VGV4dDogIzcwNzY4NDstLWNvbG9yLWRhcms6ICMxRDIwMkI7LS1jb2xvci1hY3RpdmUtaWNvbjogIzM4OEFFNTstLWNvbG9yLWdyYXktYm9yZGVyOiByZ2JhKDIwMSwgMjAxLCAyMDQsIC40OCk7LS1jb250ZW50LXdpZHRoOiA2NTBweDstLW5hcnJvdy1tb2RlLXJpZ2h0LXBhZGRpbmc6IDUwcHg7LS10b29sYm94LWJ1dHRvbnMtc2l6ZTogMjZweDstLXRvb2xib3gtYnV0dG9ucy1zaXplLS1tb2JpbGU6IDM2cHg7LS1pY29uLXNpemU6IDIwcHg7LS1pY29uLXNpemUtLW1vYmlsZTogMjhweDstLWJsb2NrLXBhZGRpbmctdmVydGljYWw6IC40ZW07LS1jb2xvci1saW5lLWdyYXk6ICNFRkYwRjEgfS5jb2RleC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3otaW5kZXg6MX0uY29kZXgtZWRpdG9yIC5oaWRlLC5jb2RleC1lZGl0b3JfX3JlZGFjdG9yLS1oaWRkZW57ZGlzcGxheTpub25lfS5jb2RleC1lZGl0b3JfX3JlZGFjdG9yIFtjb250ZW50ZWRpdGFibGVdOmVtcHR5OmFmdGVye2NvbnRlbnQ6XCJcXFxcZmVmZlwifUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jb2RleC1lZGl0b3JfX3JlZGFjdG9ye21hcmdpbi1yaWdodDo1MHB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY29kZXgtZWRpdG9yX19yZWRhY3RvcnttYXJnaW4tbGVmdDo1MHB4O21hcmdpbi1yaWdodDowfX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDotNXB4fX0uY29kZXgtZWRpdG9yX19sb2FkZXJ7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMwdmh9LmNvZGV4LWVkaXRvcl9fbG9hZGVyOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDozMHB4O2hlaWdodDozMHB4O21hcmdpbi10b3A6LTE1cHg7bWFyZ2luLWxlZnQ6LTE1cHg7Ym9yZGVyLXJhZGl1czo1MCU7Ym9yZGVyOjJweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Ym9yZGVyLXRvcC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1hbmltYXRpb246ZWRpdG9yLWxvYWRlci1zcGluIC44cyBpbmZpbml0ZSBsaW5lYXI7YW5pbWF0aW9uOmVkaXRvci1sb2FkZXItc3BpbiAuOHMgaW5maW5pdGUgbGluZWFyO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uY29kZXgtZWRpdG9yLWNvcHlhYmxle3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxcHg7d2lkdGg6MXB4O3RvcDotNDAwJTtvcGFjaXR5Oi4wMDF9LmNvZGV4LWVkaXRvci1vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowcHg7bGVmdDowcHg7cmlnaHQ6MHB4O2JvdHRvbTowcHg7ei1pbmRleDo5OTk7cG9pbnRlci1ldmVudHM6bm9uZTtvdmVyZmxvdzpoaWRkZW59LmNvZGV4LWVkaXRvci1vdmVybGF5X19jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7cG9pbnRlci1ldmVudHM6YXV0bzt6LWluZGV4OjB9LmNvZGV4LWVkaXRvci1vdmVybGF5X19yZWN0YW5nbGV7cG9zaXRpb246YWJzb2x1dGU7cG9pbnRlci1ldmVudHM6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiMyZWFhZGMzMztib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jb2RleC1lZGl0b3Igc3Zne21heC1oZWlnaHQ6MTAwJX0uY29kZXgtZWRpdG9yIHBhdGh7c3Ryb2tlOmN1cnJlbnRDb2xvcn06Oi1tb3otc2VsZWN0aW9ue2JhY2tncm91bmQtY29sb3I6I2Q0ZWNmZn06OnNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9LmNvZGV4LWVkaXRvci0tdG9vbGJveC1vcGVuZWQgW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTpmb2N1czpiZWZvcmV7b3BhY2l0eTowIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgZWRpdG9yLWxvYWRlci1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBlZGl0b3ItbG9hZGVyLXNwaW57MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uY2Utc2Nyb2xsLWxvY2tlZHtvdmVyZmxvdzpoaWRkZW59LmNlLXNjcm9sbC1sb2NrZWQtLWhhcmR7b3ZlcmZsb3c6aGlkZGVuO3RvcDpjYWxjKC0xICogdmFyKC0td2luZG93LXNjcm9sbC1vZmZzZXQpKTtwb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDAlfS5jZS10b29sYmFye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO3RvcDowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZTt3aWxsLWNoYW5nZTpvcGFjaXR5LHRvcDtkaXNwbGF5Om5vbmV9LmNlLXRvb2xiYXItLW9wZW5lZHtkaXNwbGF5OmJsb2NrfS5jZS10b29sYmFyX19jb250ZW50e21heC13aWR0aDo2NTBweDttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5jZS10b29sYmFyX19wbHVze2NvbG9yOiMxZDIwMmI7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19wbHVze3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtdG9vbGJhcl9fcGx1czpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS10b29sYmFyX19wbHVzLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfS5jZS10b29sYmFyX19wbHVzLXNob3J0Y3V0e29wYWNpdHk6LjY7d29yZC1zcGFjaW5nOi0ycHg7bWFyZ2luLXRvcDo1cHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fcGx1c3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19wbHVzLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtdG9vbGJhcl9fcGx1cy0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9fS5jZS10b29sYmFyX19hY3Rpb25ze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwMCU7b3BhY2l0eTowO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZy1yaWdodDo1cHh9LmNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZHtvcGFjaXR5OjF9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDphdXRvfX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue2NvbG9yOiMxZDIwMmI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTttYXJnaW4tbGVmdDozcHg7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG57d2lkdGg6MzZweDtoZWlnaHQ6MzZweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bnt3aWR0aDoyNHB4fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfX0uY2UtdG9vbGJhcl9fcGx1cyBzdmcsLmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0biBzdmd7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJhcl9fcGx1c3tsZWZ0OjVweH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xib3ggLmNlLXBvcG92ZXJ7cmlnaHQ6MDtsZWZ0OmF1dG87bGVmdDppbml0aWFsfX0uY2UtaW5saW5lLXRvb2xiYXJ7LS15LW9mZnNldDogOHB4O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNFOEU4RUI7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCByZ2JhKDEzLDIwLDMzLC4xMyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggIzBkMTQyMTIxO2JvcmRlci1yYWRpdXM6NnB4O3otaW5kZXg6Mjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjE1cyBlYXNlLG9wYWNpdHkgLjI1cyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIC4xNXMgZWFzZSxvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7dG9wOjA7bGVmdDowO3otaW5kZXg6M30uY2UtaW5saW5lLXRvb2xiYXItLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1pbmxpbmUtdG9vbGJhci0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9LmNlLWlubGluZS10b29sYmFyLS1zaG93ZWR7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LmNlLWlubGluZS10b29sYmFyLS1sZWZ0LW9yaWVudGVkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTIzcHgpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTIzcHgpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpfS5jZS1pbmxpbmUtdG9vbGJhci0tbGVmdC1vcmllbnRlZC5jZS1pbmxpbmUtdG9vbGJhci0tc2hvd2Vkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTIzcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTIzcHgpfS5jZS1pbmxpbmUtdG9vbGJhci0tcmlnaHQtb3JpZW50ZWR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7bWFyZ2luLWxlZnQ6MjNweH0uY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkLmNlLWlubGluZS10b29sYmFyLS1zaG93ZWR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSl9LmNlLWlubGluZS10b29sYmFyIFtoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmNlLWlubGluZS10b29sYmFyX190b2dnbGVyLWFuZC1idXR0b24td3JhcHBlcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzowIDZweH0uY2UtaW5saW5lLXRvb2xiYXJfX2J1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3due2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo2cHg7bWFyZ2luOjAgNnB4IDAgLTZweDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd246aG92ZXJ7YmFja2dyb3VuZDojZWZmMmY1fX0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudCwuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93e2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1jb250ZW50IHN2ZywuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93IHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5jZS1pbmxpbmUtdG9vbGJhcl9fc2hvcnRjdXR7b3BhY2l0eTouNjt3b3JkLXNwYWNpbmc6LTNweDttYXJnaW4tdG9wOjNweH0uY2UtaW5saW5lLXRvb2x7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6NnB4IDFweDtjdXJzb3I6cG9pbnRlcjtib3JkZXI6MDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207Y29sb3I6aW5oZXJpdDttYXJnaW46MDtib3JkZXItcmFkaXVzOjA7bGluZS1oZWlnaHQ6bm9ybWFsfS5jZS1pbmxpbmUtdG9vbCBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1pbmxpbmUtdG9vbCBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS1pbmxpbmUtdG9vbC0tYWN0aXZle2NvbG9yOiMzODhhZTV9LmNlLWlubGluZS10b29sLS1mb2N1c2Vke2JhY2tncm91bmQ6cmdiYSgzNCwxODYsMjU1LC4wOCkhaW1wb3J0YW50fS5jZS1pbmxpbmUtdG9vbC0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNlLWlubGluZS10b29sLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNlLWlubGluZS10b29sLS1saW5rIC5pY29uLS11bmxpbmssLmNlLWlubGluZS10b29sLS11bmxpbmsgLmljb24tLWxpbmt7ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbC0tdW5saW5rIC5pY29uLS11bmxpbmt7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWJvdHRvbTotMXB4fS5jZS1pbmxpbmUtdG9vbC1pbnB1dHtvdXRsaW5lOm5vbmU7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czowIDAgNHB4IDRweDttYXJnaW46MDtmb250LXNpemU6MTNweDtwYWRkaW5nOjEwcHg7d2lkdGg6MTAwJTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpub25lO2ZvbnQtd2VpZ2h0OjUwMDtib3JkZXItdG9wOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1pbmxpbmUtdG9vbC1pbnB1dHtmb250LXNpemU6MTVweDtmb250LXdlaWdodDo1MDB9fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQtLXNob3dlZHtkaXNwbGF5OmJsb2NrfS5jZS1jb252ZXJzaW9uLXRvb2xiYXJ7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI0U4RThFQjstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHJnYmEoMTMsMjAsMzMsLjEzKTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCAjMGQxNDIxMjE7Ym9yZGVyLXJhZGl1czo2cHg7ei1pbmRleDoyO29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sb3BhY2l0eTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjFzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjFzIGVhc2Usb3BhY2l0eSAuMXMgZWFzZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMXMgZWFzZSxvcGFjaXR5IC4xcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIC4xcyBlYXNlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCk7bGVmdDotMXB4O3dpZHRoOjE1MHB4O21hcmdpbi10b3A6NXB4Oy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLXNob3dlZHtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9LmNlLWNvbnZlcnNpb24tdG9vbGJhciBbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jZS1jb252ZXJzaW9uLXRvb2xiYXJfX2J1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtY29udmVyc2lvbi10b29sYmFyX19sYWJlbHtjb2xvcjojNzA3Njg0O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzouMzNweDtwYWRkaW5nOjEwcHggMTBweCA1cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS5jZS1jb252ZXJzaW9uLXRvb2x7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjVweCAxMHB4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5jZS1jb252ZXJzaW9uLXRvb2wtLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLWNvbnZlcnNpb24tdG9vbC0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sLS1mb2N1c2Vkey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCByZ2JhKDcsMTYxLDIyNywuMDgpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMwN2ExZTMxNH0uY2UtY29udmVyc2lvbi10b29sLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNlLWNvbnZlcnNpb24tdG9vbDpob3ZlcntiYWNrZ3JvdW5kOiNlZmYyZjV9LmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Ym94LXNoYWRvdzowIDAgMCAxcHggI2M5YzljYzdhO2JvcmRlci1yYWRpdXM6NXB4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YmFja2dyb3VuZDojZmZmOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDttYXJnaW4tcmlnaHQ6MTBweH0uY2UtY29udmVyc2lvbi10b29sX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fS5jZS1jb252ZXJzaW9uLXRvb2xfX2ljb24gc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fS5jZS1jb252ZXJzaW9uLXRvb2wtLWxhc3R7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50fS5jZS1jb252ZXJzaW9uLXRvb2wtLWFjdGl2ZXtjb2xvcjojMzg4YWU1IWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sLS1hY3RpdmV7LXdlYmtpdC1hbmltYXRpb246Ym91bmNlSW4gLjc1cyAxO2FuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHN9LmNlLXNldHRpbmdzX19idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6NnB4IDFweDtib3JkZXItcmFkaXVzOjNweDtjdXJzb3I6cG9pbnRlcjtib3JkZXI6MDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207Y29sb3I6aW5oZXJpdDttYXJnaW46MDtsaW5lLWhlaWdodDozMnB4fS5jZS1zZXR0aW5nc19fYnV0dG9uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXNldHRpbmdzX19idXR0b24gc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2Utc2V0dGluZ3NfX2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1hY3RpdmV7Y29sb3I6IzM4OGFlNX0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNlLXNldHRpbmdzX19idXR0b24tLWZvY3VzZWQtYW5pbWF0ZWR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkO2FuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjI1czthbmltYXRpb24tZHVyYXRpb246LjI1c30uY2Utc2V0dGluZ3NfX2J1dHRvbjpub3QoOm50aC1jaGlsZCgzbiszKSl7bWFyZ2luLXJpZ2h0OjNweH0uY2Utc2V0dGluZ3NfX2J1dHRvbjpudGgtY2hpbGQobis0KXttYXJnaW4tdG9wOjNweH0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tZGlzYWJsZWR7Y3Vyc29yOm5vdC1hbGxvd2VkIWltcG9ydGFudH0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tZGlzYWJsZWR7b3BhY2l0eTouM30uY2Utc2V0dGluZ3NfX2J1dHRvbi0tc2VsZWN0ZWR7Y29sb3I6IzM4OGFlNX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2Utc2V0dGluZ3MgLmNlLXBvcG92ZXJ7cmlnaHQ6MDtsZWZ0OmF1dG87bGVmdDppbml0aWFsfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZS1pbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGZhZGUtaW57MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19LmNlLWJsb2Nrey13ZWJraXQtYW5pbWF0aW9uOmZhZGUtaW4gLjNzIGVhc2U7YW5pbWF0aW9uOmZhZGUtaW4gLjNzIGVhc2U7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOm5vbmU7YW5pbWF0aW9uLWZpbGwtbW9kZTpub25lOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTppbml0aWFsO2FuaW1hdGlvbi1maWxsLW1vZGU6aW5pdGlhbH0uY2UtYmxvY2s6Zmlyc3Qtb2YtdHlwZXttYXJnaW4tdG9wOjB9LmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnR7YmFja2dyb3VuZDojZTFmMmZmfS5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50IFtjb250ZW50ZWRpdGFibGVdey13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudCBpbWcsLmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnQgLmNlLXN0dWJ7b3BhY2l0eTouNTV9LmNlLWJsb2NrLS1zdHJldGNoZWQgLmNlLWJsb2NrX19jb250ZW50e21heC13aWR0aDpub25lfS5jZS1ibG9ja19fY29udGVudHtwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6NjUwcHg7bWFyZ2luOjAgYXV0bzstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMTVzIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZX0uY2UtYmxvY2stLWRyb3AtdGFyZ2V0IC5jZS1ibG9ja19fY29udGVudDpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMDAlO2xlZnQ6LTIwcHg7bWFyZ2luLXRvcDotMXB4O2hlaWdodDo4cHg7d2lkdGg6OHB4O2JvcmRlcjpzb2xpZCAjMzg4QUU1O2JvcmRlci13aWR0aDoxcHggMXB4IDAgMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpyaWdodDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5jZS1ibG9jay0tZHJvcC10YXJnZXQgLmNlLWJsb2NrX19jb250ZW50OmFmdGVye2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtoZWlnaHQ6MXB4O3dpZHRoOjEwMCU7Y29sb3I6IzM4OGFlNTtiYWNrZ3JvdW5kOnJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoOTBkZWcsIzM4OEFFNSwjMzg4QUU1IDFweCwjZmZmIDFweCwjZmZmIDZweCl9LmNlLWJsb2NrIGF7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC10ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNlLWJsb2NrIGJ7Zm9udC13ZWlnaHQ6NzAwfS5jZS1ibG9jayBpe2ZvbnQtc3R5bGU6aXRhbGljfUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jZS1ibG9jay0tZm9jdXNlZHttYXJnaW4tcmlnaHQ6LTUwcHg7cGFkZGluZy1yaWdodDo1MHB4fX1ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlSW57MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KX0yMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1Aa2V5ZnJhbWVzIGJvdW5jZUluezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9MjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QC13ZWJraXQta2V5ZnJhbWVzIHNlbGVjdGlvbkJvdW5jZXswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKX03MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QGtleWZyYW1lcyBzZWxlY3Rpb25Cb3VuY2V7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSl9NzAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUAtd2Via2l0LWtleWZyYW1lcyBidXR0b25DbGlja2VkezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KTt0cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QGtleWZyYW1lcyBidXR0b25DbGlja2VkezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KTt0cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19LmNkeC1ibG9ja3twYWRkaW5nOi40ZW0gMH0uY2R4LWJsb2NrOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2xpbmUtaGVpZ2h0Om5vcm1hbCFpbXBvcnRhbnR9LmNkeC1pbnB1dHtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAxcHggMnB4IDAgcmdiYSgzNSw0NCw3MiwuMDYpO2JveC1zaGFkb3c6aW5zZXQgMCAxcHggMnB4ICMyMzJjNDgwZjtib3JkZXItcmFkaXVzOjNweDtwYWRkaW5nOjEwcHggMTJweDtvdXRsaW5lOm5vbmU7d2lkdGg6MTAwJTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmNkeC1pbnB1dFtkYXRhLXBsYWNlaG9sZGVyXTpiZWZvcmV7cG9zaXRpb246c3RhdGljIWltcG9ydGFudH0uY2R4LWlucHV0W2RhdGEtcGxhY2Vob2xkZXJdOmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDowO3doaXRlLXNwYWNlOm5vd3JhcDtwb2ludGVyLWV2ZW50czpub25lfS5jZHgtc2V0dGluZ3MtYnV0dG9ue2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOjZweCAxcHg7Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246Ym90dG9tO2NvbG9yOmluaGVyaXQ7bWFyZ2luOjA7bWluLXdpZHRoOjI2cHg7bWluLWhlaWdodDoyNnB4fS5jZHgtc2V0dGluZ3MtYnV0dG9uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNkeC1zZXR0aW5ncy1idXR0b24gc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2R4LXNldHRpbmdzLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1mb2N1c2Vke2JhY2tncm91bmQ6cmdiYSgzNCwxODYsMjU1LC4wOCkhaW1wb3J0YW50fS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1mb2N1c2Vkey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCByZ2JhKDcsMTYxLDIyNywuMDgpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMwN2ExZTMxNH0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZC1hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7YW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouMjVzO2FuaW1hdGlvbi1kdXJhdGlvbjouMjVzfS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmV7Y29sb3I6IzM4OGFlNX0uY2R4LXNldHRpbmdzLWJ1dHRvbiBzdmd7d2lkdGg6YXV0bztoZWlnaHQ6YXV0b31AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZHgtc2V0dGluZ3MtYnV0dG9ue3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7Ym9yZGVyLXJhZGl1czo4cHh9fS5jZHgtbG9hZGVye3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpfS5jZHgtbG9hZGVyOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O21hcmdpbjotMTFweCAwIDAgLTExcHg7Ym9yZGVyOjJweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Ym9yZGVyLWxlZnQtY29sb3I6IzM4OGFlNTtib3JkZXItcmFkaXVzOjUwJTstd2Via2l0LWFuaW1hdGlvbjpjZHhSb3RhdGlvbiAxLjJzIGluZmluaXRlIGxpbmVhcjthbmltYXRpb246Y2R4Um90YXRpb24gMS4ycyBpbmZpbml0ZSBsaW5lYXJ9QC13ZWJraXQta2V5ZnJhbWVzIGNkeFJvdGF0aW9uezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBjZHhSb3RhdGlvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5jZHgtYnV0dG9ue3BhZGRpbmc6MTNweDtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTtmb250LXNpemU6MTQuOXB4O2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LWJveC1zaGFkb3c6MCAycHggMnB4IDAgcmdiYSgxOCwzMCw1NywuMDQpO2JveC1zaGFkb3c6MCAycHggMnB4ICMxMjFlMzkwYTtjb2xvcjojNzA3Njg0O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2R4LWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOiNGQkZDRkU7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDNweCAwIHJnYmEoMTgsMzAsNTcsLjA4KTtib3gtc2hhZG93OjAgMXB4IDNweCAjMTIxZTM5MTR9fS5jZHgtYnV0dG9uIHN2Z3toZWlnaHQ6MjBweDttYXJnaW4tcmlnaHQ6LjJlbTttYXJnaW4tdG9wOi0ycHh9LmNlLXN0dWJ7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7cGFkZGluZzozLjVlbSAwO21hcmdpbjoxN3B4IDA7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZDojZmNmN2Y3O2NvbG9yOiNiNDYyNjJ9LmNlLXN0dWJfX2luZm97bWFyZ2luLWxlZnQ6MjBweH0uY2Utc3R1Yl9fdGl0bGV7bWFyZ2luLWJvdHRvbTozcHg7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxOHB4O3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemV9LmNlLXN0dWJfX3N1YnRpdGxle2ZvbnQtc2l6ZToxNnB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGx7ZGlyZWN0aW9uOnJ0bH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZHgtbGlzdHtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjQwcHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fcGx1c3tyaWdodDotMjZweDtsZWZ0OmF1dG99LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDphdXRvO2xlZnQ6LTI2cHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19hY3Rpb25ze21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OmF1dG87cGFkZGluZy1yaWdodDowO3BhZGRpbmctbGVmdDoxMHB4fX0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nc3tsZWZ0OjVweDtyaWdodDphdXRvfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXNldHRpbmdzOmJlZm9yZXtyaWdodDphdXRvO2xlZnQ6MjVweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nc19fYnV0dG9uOm5vdCg6bnRoLWNoaWxkKDNuKzMpKXttYXJnaW4tbGVmdDozcHg7bWFyZ2luLXJpZ2h0OjB9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtY29udmVyc2lvbi10b29sX19pY29ue21hcmdpbi1yaWdodDowO21hcmdpbi1sZWZ0OjEwcHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3due2JvcmRlci1yaWdodDowcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTttYXJnaW46MCAtNnB4IDAgNnB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93biAuaWNvbi0tdG9nZ2xlci1kb3due21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fcGx1c3tsZWZ0OjBweDtyaWdodDo1cHh9fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93LmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19hY3Rpb25ze2xlZnQ6LTVweH19LmNkeC1zZWFyY2gtZmllbGR7LS1pY29uLW1hcmdpbi1yaWdodDogMTBweDtiYWNrZ3JvdW5kOnJnYmEoMjMyLDIzMiwyMzUsLjQ5KTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjI2LDIyNiwyMjksLjIpO2JvcmRlci1yYWRpdXM6NnB4O3BhZGRpbmc6MnB4O2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6YXV0byBhdXRvIDFmcjtncmlkLXRlbXBsYXRlLXJvd3M6YXV0b30uY2R4LXNlYXJjaC1maWVsZF9faWNvbnt3aWR0aDoyNnB4O2hlaWdodDoyNnB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW4tcmlnaHQ6dmFyKC0taWNvbi1tYXJnaW4tcmlnaHQpfS5jZHgtc2VhcmNoLWZpZWxkX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4O2NvbG9yOiM3MDc2ODR9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0e2ZvbnQtc2l6ZToxNHB4O291dGxpbmU6bm9uZTtmb250LXdlaWdodDo1MDA7Zm9udC1mYW1pbHk6aW5oZXJpdDtib3JkZXI6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O21hcmdpbjowO3BhZGRpbmc6MDtsaW5lLWhlaWdodDoyMnB4O21pbi13aWR0aDpjYWxjKDEwMCUgLSAyNnB4IC0gdmFyKC0taWNvbi1tYXJnaW4tcmlnaHQpKX0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0OjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0OjpwbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2UtcG9wb3ZlcnstLWJvcmRlci1yYWRpdXM6IDZweDstLXdpZHRoOiAyMDBweDstLW1heC1oZWlnaHQ6IDI3MHB4Oy0tcGFkZGluZzogNnB4Oy0tb2Zmc2V0LWZyb20tdGFyZ2V0OiA4cHg7LS1jb2xvci1ib3JkZXI6ICNlOGU4ZWI7LS1jb2xvci1zaGFkb3c6IHJnYmEoMTMsMjAsMzMsLjEzKTstLWNvbG9yLWJhY2tncm91bmQ6IHdoaXRlOy0tY29sb3ItdGV4dC1wcmltYXJ5OiBibGFjazstLWNvbG9yLXRleHQtc2Vjb25kYXJ5OiAjNzA3Njg0Oy0tY29sb3ItYm9yZGVyLWljb246IHJnYmEoMjAxLCAyMDEsIDIwNCwgLjQ4KTstLWNvbG9yLWJvcmRlci1pY29uLWRpc2FibGVkOiAjRUZGMEYxOy0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZTogIzM4OEFFNTstLWNvbG9yLWJhY2tncm91bmQtaWNvbi1hY3RpdmU6IHJnYmEoNTYsIDEzOCwgMjI5LCAuMSk7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tZm9jdXM6IHJnYmEoMzQsIDE4NiwgMjU1LCAuMDgpOy0tY29sb3Itc2hhZG93LWl0ZW0tZm9jdXM6IHJnYmEoNywgMTYxLCAyMjcsIC4wOCk7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0taG92ZXI6ICNlZmYyZjU7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybTogI0UyNEE0QTstLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyOiAjQ0U0MzQzO21pbi13aWR0aDp2YXIoLS13aWR0aCk7d2lkdGg6dmFyKC0td2lkdGgpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggdmFyKC0tY29sb3Itc2hhZG93KTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCB2YXIoLS1jb2xvci1zaGFkb3cpO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6Y2FsYygxMDAlICsgdmFyKC0tb2Zmc2V0LWZyb20tdGFyZ2V0KSk7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3otaW5kZXg6NDtvcGFjaXR5OjA7bWF4LWhlaWdodDowO3BvaW50ZXItZXZlbnRzOm5vbmU7cGFkZGluZzowO2JvcmRlcjpub25lfS5jZS1wb3BvdmVyLS1vcGVuZWR7b3BhY2l0eToxO3BhZGRpbmc6dmFyKC0tcGFkZGluZyk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtwb2ludGVyLWV2ZW50czphdXRvOy13ZWJraXQtYW5pbWF0aW9uOnBhbmVsU2hvd2luZyAuMXMgZWFzZTthbmltYXRpb246cGFuZWxTaG93aW5nIC4xcyBlYXNlO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLS1vcGVuZWR7LXdlYmtpdC1hbmltYXRpb246cGFuZWxTaG93aW5nTW9iaWxlIC4yNXMgZWFzZTthbmltYXRpb246cGFuZWxTaG93aW5nTW9iaWxlIC4yNXMgZWFzZX19LmNlLXBvcG92ZXJfX2l0ZW1ze292ZXJmbG93LXk6YXV0bzstbXMtc2Nyb2xsLWNoYWluaW5nOm5vbmU7b3ZlcnNjcm9sbC1iZWhhdmlvcjpjb250YWlufUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXJfX292ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7YmFja2dyb3VuZDojMUQyMDJCO3otaW5kZXg6MztvcGFjaXR5Oi41Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xMnMgZWFzZS1pbjt0cmFuc2l0aW9uOm9wYWNpdHkgLjEycyBlYXNlLWluO3dpbGwtY2hhbmdlOm9wYWNpdHk7dmlzaWJpbGl0eTp2aXNpYmxlfX0uY2UtcG9wb3Zlcl9fb3ZlcmxheS0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY2UtcG9wb3Zlci0tb3Blbi10b3B7dG9wOmNhbGMoLTEgKiAodmFyKC0tb2Zmc2V0LWZyb20tdGFyZ2V0KSArIHZhcigtLXBvcG92ZXItaGVpZ2h0KSkpfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXJ7LS1vZmZzZXQ6IDVweDtwb3NpdGlvbjpmaXhlZDttYXgtd2lkdGg6bm9uZTttaW4td2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tb2Zmc2V0KSAqIDIpO2xlZnQ6dmFyKC0tb2Zmc2V0KTtyaWdodDp2YXIoLS1vZmZzZXQpO2JvdHRvbTpjYWxjKHZhcigtLW9mZnNldCkgKyBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpO3RvcDphdXRvO2JvcmRlci1yYWRpdXM6MTBweH0uY2UtcG9wb3ZlciAuY2UtcG9wb3Zlcl9fc2VhcmNoe2Rpc3BsYXk6bm9uZX19LmNlLXBvcG92ZXJfX3NlYXJjaCwuY2UtcG9wb3Zlcl9fY3VzdG9tLWNvbnRlbnQ6bm90KDplbXB0eSl7bWFyZ2luLWJvdHRvbTo1cHh9LmNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZXtjb2xvcjojNzA3Njg0O2Rpc3BsYXk6bm9uZTtjdXJzb3I6ZGVmYXVsdDtwYWRkaW5nOjNweDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O2ZvbnQtd2VpZ2h0OjUwMDt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZS0tZGlzcGxheWVke2Rpc3BsYXk6YmxvY2t9LmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50Om5vdCg6ZW1wdHkpe3BhZGRpbmc6NHB4fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50Om5vdCg6ZW1wdHkpe3BhZGRpbmc6MH19LmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50LS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1wb3BvdmVyLWl0ZW17LS1ib3JkZXItcmFkaXVzOiA2cHg7LS1pY29uLXNpemU6IDIwcHg7LS1pY29uLXNpemUtbW9iaWxlOiAyOHB4O2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjNweDtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW17cGFkZGluZzo0cHh9fS5jZS1wb3BvdmVyLWl0ZW06bm90KDpsYXN0LW9mLXR5cGUpe21hcmdpbi1ib3R0b206MXB4fS5jZS1wb3BvdmVyLWl0ZW1fX2ljb257Ym9yZGVyLXJhZGl1czo1cHg7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDAgMXB4IHZhcigtLWNvbG9yLWJvcmRlci1pY29uKTtib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbik7YmFja2dyb3VuZDojZmZmO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW4tcmlnaHQ6MTBweH0uY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9faWNvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fS5jZS1wb3BvdmVyLWl0ZW1fX2ljb24gc3Zne3dpZHRoOnZhcigtLWljb24tc2l6ZS1tb2JpbGUpO2hlaWdodDp2YXIoLS1pY29uLXNpemUtbW9iaWxlKX19LmNlLXBvcG92ZXItaXRlbV9fdGl0bGV7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MjBweDtmb250LXdlaWdodDo1MDA7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9fdGl0bGV7Zm9udC1zaXplOjE2cHh9fS5jZS1wb3BvdmVyLWl0ZW1fX3NlY29uZGFyeS10aXRsZXtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSk7Zm9udC1zaXplOjEycHg7bWFyZ2luLWxlZnQ6YXV0bzt3aGl0ZS1zcGFjZTpub3dyYXA7bGV0dGVyLXNwYWNpbmc6LS4xZW07cGFkZGluZy1yaWdodDo1cHg7bWFyZ2luLWJvdHRvbTotMnB4O29wYWNpdHk6LjZ9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVtX19zZWNvbmRhcnktdGl0bGV7ZGlzcGxheTpub25lfX0uY2UtcG9wb3Zlci1pdGVtLS1hY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlKTtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LWljb24tYWN0aXZlKX0uY2UtcG9wb3Zlci1pdGVtLS1hY3RpdmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbnstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9LmNlLXBvcG92ZXItaXRlbS0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpO2N1cnNvcjpkZWZhdWx0O3BvaW50ZXItZXZlbnRzOm5vbmV9LmNlLXBvcG92ZXItaXRlbS0tZGlzYWJsZWQgLmNlLXBvcG92ZXItaXRlbV9faWNvbnstd2Via2l0LWJveC1zaGFkb3c6MCAwIDAgMXB4IHZhcigtLWNvbG9yLWJvcmRlci1pY29uLWRpc2FibGVkKTtib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZCl9LmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZDpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXMpe2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWZvY3VzKSFpbXBvcnRhbnR9LmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZDpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXMpey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCB2YXIoLS1jb2xvci1zaGFkb3ctaXRlbS1mb2N1cyk7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdmFyKC0tY29sb3Itc2hhZG93LWl0ZW0tZm9jdXMpfS5jZS1wb3BvdmVyLWl0ZW0tLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1wb3BvdmVyLWl0ZW06aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9LmNlLXBvcG92ZXItaXRlbTpob3Zlcjpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8taG92ZXIpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWhvdmVyKX0uY2UtcG9wb3Zlci1pdGVtOmhvdmVyIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfX0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb257YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybSl9LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257Y29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0pfS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbiAuY2UtcG9wb3Zlci1pdGVtX190aXRsZXtjb2xvcjojZmZmfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb246bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWhvdmVyKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyKX19LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uOm5vdCguY2UtcG9wb3Zlci1pdGVtLS1uby1mb2N1cykuY2UtcG9wb3Zlci1pdGVtLS1mb2N1c2Vke2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0taG92ZXIpIWltcG9ydGFudH0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb24gLmNlLXBvcG92ZXItaXRlbV9faWNvbiwuY2UtcG9wb3Zlci1pdGVtLS1hY3RpdmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbiwuY2UtcG9wb3Zlci1pdGVtLS1mb2N1c2VkIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfUAtd2Via2l0LWtleWZyYW1lcyBwYW5lbFNob3dpbmd7MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgcGFuZWxTaG93aW5nezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgcGFuZWxTaG93aW5nTW9iaWxlezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QGtleWZyYW1lcyBwYW5lbFNob3dpbmdNb2JpbGV7MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxNHB4KSBzY2FsZSguOTgpfTcwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtNHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNHB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX0ud29iYmxley13ZWJraXQtYW5pbWF0aW9uLW5hbWU6d29iYmxlO2FuaW1hdGlvbi1uYW1lOndvYmJsZTstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNHM7YW5pbWF0aW9uLWR1cmF0aW9uOi40c31ALXdlYmtpdC1rZXlmcmFtZXMgd29iYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0xNSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTklLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApfTQ1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCl9NzUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fUBrZXlmcmFtZXMgd29iYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0xNSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTklLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApfTQ1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCl9NzUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fVxuYDtcbmNsYXNzIGhpIGV4dGVuZHMgUyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNNb2JpbGUgPSAhMSwgdGhpcy5jb250ZW50UmVjdENhY2hlID0gdm9pZCAwLCB0aGlzLnJlc2l6ZURlYm91bmNlciA9IFB0KCgpID0+IHtcbiAgICAgIHRoaXMud2luZG93UmVzaXplKCk7XG4gICAgfSwgMjAwKTtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yLmpzIFVJIENTUyBjbGFzcyBuYW1lc1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2VkaXRvcldyYXBwZXI6IHN0cmluZywgZWRpdG9yWm9uZTogc3RyaW5nfX1cbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkaXRvcldyYXBwZXI6IFwiY29kZXgtZWRpdG9yXCIsXG4gICAgICBlZGl0b3JXcmFwcGVyTmFycm93OiBcImNvZGV4LWVkaXRvci0tbmFycm93XCIsXG4gICAgICBlZGl0b3Jab25lOiBcImNvZGV4LWVkaXRvcl9fcmVkYWN0b3JcIixcbiAgICAgIGVkaXRvclpvbmVIaWRkZW46IFwiY29kZXgtZWRpdG9yX19yZWRhY3Rvci0taGlkZGVuXCIsXG4gICAgICBlZGl0b3JMb2FkZXI6IFwiY29kZXgtZWRpdG9yX19sb2FkZXJcIixcbiAgICAgIGVkaXRvckVtcHR5OiBcImNvZGV4LWVkaXRvci0tZW1wdHlcIixcbiAgICAgIGVkaXRvclJ0bEZpeDogXCJjb2RleC1lZGl0b3ItLXJ0bFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFdpZHRoIG9mIGNlbnRlciBjb2x1bW4gb2YgRWRpdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHtET01SZWN0fVxuICAgKi9cbiAgZ2V0IGNvbnRlbnRSZWN0KCkge1xuICAgIGlmICh0aGlzLmNvbnRlbnRSZWN0Q2FjaGUpXG4gICAgICByZXR1cm4gdGhpcy5jb250ZW50UmVjdENhY2hlO1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLndyYXBwZXIucXVlcnlTZWxlY3RvcihgLiR7Ri5DU1MuY29udGVudH1gKTtcbiAgICByZXR1cm4gZSA/ICh0aGlzLmNvbnRlbnRSZWN0Q2FjaGUgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0aGlzLmNvbnRlbnRSZWN0Q2FjaGUpIDoge1xuICAgICAgd2lkdGg6IDY1MCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgbG9hZGVyIHRvIGVkaXRvciB3aGlsZSBjb250ZW50IGlzIG5vdCByZWFkeVxuICAgKi9cbiAgYWRkTG9hZGVyKCkge1xuICAgIHRoaXMubm9kZXMubG9hZGVyID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmVkaXRvckxvYWRlciksIHRoaXMubm9kZXMud3JhcHBlci5wcmVwZW5kKHRoaXMubm9kZXMubG9hZGVyKSwgdGhpcy5ub2Rlcy5yZWRhY3Rvci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmVkaXRvclpvbmVIaWRkZW4pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGxvYWRlciB3aGVuIGNvbnRlbnQgaGFzIGxvYWRlZFxuICAgKi9cbiAgcmVtb3ZlTG9hZGVyKCkge1xuICAgIHRoaXMubm9kZXMubG9hZGVyLnJlbW92ZSgpLCB0aGlzLm5vZGVzLnJlZGFjdG9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuZWRpdG9yWm9uZUhpZGRlbik7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2luZyBtYWluIGludGVyZmFjZVxuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmNoZWNrSXNNb2JpbGUoKSwgdGhpcy5tYWtlKCksIHRoaXMuYWRkTG9hZGVyKCksIHRoaXMubG9hZFN0eWxlcygpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIElmIHJlYWRPbmx5IGlzIHRydWU6XG4gICAqICAtIHJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIG1haW4gVUkgbW9kdWxlIGVsZW1lbnRzXG4gICAqXG4gICAqIGlmIHJlYWRPbmx5IGlzIGZhbHNlOlxuICAgKiAgLSBlbmFibGVzIGFsbCBsaXN0ZW5lcnMgdG8gVUkgbW9kdWxlIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gXCJyZWFkIG9ubHlcIiBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpIDogdGhpcy5lbmFibGVNb2R1bGVCaW5kaW5ncygpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBFZGl0b3IgaXMgZW1wdHkgYW5kIHNldCBDU1MgY2xhc3MgdG8gd3JhcHBlclxuICAgKi9cbiAgY2hlY2tFbXB0aW5lc3MoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ1NTLmVkaXRvckVtcHR5LCBlLmlzRWRpdG9yRW1wdHkpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBvbmUgb2YgVG9vbGJhciBpcyBvcGVuZWRcbiAgICogVXNlZCB0byBwcmV2ZW50IGdsb2JhbCBrZXlkb3ducyAoZm9yIGV4YW1wbGUsIEVudGVyKSBjb25mbGljdHMgd2l0aCBFbnRlci1vbi10b29sYmFyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHNvbWVUb29sYmFyT3BlbmVkKCkge1xuICAgIGNvbnN0IHsgVG9vbGJhcjogZSwgQmxvY2tTZXR0aW5nczogdCwgSW5saW5lVG9vbGJhcjogbywgQ29udmVyc2lvblRvb2xiYXI6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiB0Lm9wZW5lZCB8fCBvLm9wZW5lZCB8fCBpLm9wZW5lZCB8fCBlLnRvb2xib3gub3BlbmVkO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBmb3Igc29tZSBGbGlwcGVyLWJ1dHRvbnMgaXMgdW5kZXIgZm9jdXNcbiAgICovXG4gIGdldCBzb21lRmxpcHBlckJ1dHRvbkZvY3VzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5oYXNGb2N1cygpID8gITAgOiBPYmplY3QuZW50cmllcyh0aGlzLkVkaXRvcikuZmlsdGVyKChbZSwgdF0pID0+IHQuZmxpcHBlciBpbnN0YW5jZW9mIEcpLnNvbWUoKFtlLCB0XSkgPT4gdC5mbGlwcGVyLmhhc0ZvY3VzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhbiBlZGl0b3JgcyBVSVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm5vZGVzLmhvbGRlci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBhbGwgRWRpdG9yJ3MgdG9vbGJhcnNcbiAgICovXG4gIGNsb3NlQWxsVG9vbGJhcnMoKSB7XG4gICAgY29uc3QgeyBUb29sYmFyOiBlLCBCbG9ja1NldHRpbmdzOiB0LCBJbmxpbmVUb29sYmFyOiBvLCBDb252ZXJzaW9uVG9vbGJhcjogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5jbG9zZSgpLCBvLmNsb3NlKCksIGkuY2xvc2UoKSwgZS50b29sYm94LmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGZvciBtb2JpbGUgbW9kZSBhbmQgY2FjaGUgYSByZXN1bHRcbiAgICovXG4gIGNoZWNrSXNNb2JpbGUoKSB7XG4gICAgdGhpcy5pc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgc3Q7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIEVkaXRvci5qcyBpbnRlcmZhY2VcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy5ob2xkZXIgPSBkLmdldEhvbGRlcih0aGlzLmNvbmZpZy5ob2xkZXIpLCB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgW1xuICAgICAgdGhpcy5DU1MuZWRpdG9yV3JhcHBlcixcbiAgICAgIC4uLnRoaXMuaXNSdGwgPyBbdGhpcy5DU1MuZWRpdG9yUnRsRml4XSA6IFtdXG4gICAgXSksIHRoaXMubm9kZXMucmVkYWN0b3IgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuZWRpdG9yWm9uZSksIHRoaXMubm9kZXMuaG9sZGVyLm9mZnNldFdpZHRoIDwgdGhpcy5jb250ZW50UmVjdC53aWR0aCAmJiB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5lZGl0b3JXcmFwcGVyTmFycm93KSwgdGhpcy5ub2Rlcy5yZWRhY3Rvci5zdHlsZS5wYWRkaW5nQm90dG9tID0gdGhpcy5jb25maWcubWluSGVpZ2h0ICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5yZWRhY3RvciksIHRoaXMubm9kZXMuaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMud3JhcHBlcik7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZHMgQ1NTXG4gICAqL1xuICBsb2FkU3R5bGVzKCkge1xuICAgIGNvbnN0IGUgPSBcImVkaXRvci1qcy1zdHlsZXNcIjtcbiAgICBpZiAoZC5nZXQoZSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGQubWFrZShcInN0eWxlXCIsIG51bGwsIHtcbiAgICAgIGlkOiBlLFxuICAgICAgdGV4dENvbnRlbnQ6IGRpLnRvU3RyaW5nKClcbiAgICB9KTtcbiAgICBkLnByZXBlbmQoZG9jdW1lbnQuaGVhZCwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnRzIG9uIHRoZSBFZGl0b3IuanMgaW50ZXJmYWNlXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLnJlZGFjdG9yQ2xpY2tlZChlKTtcbiAgICB9LCAhMSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50VG91Y2hlZChlKTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwidG91Y2hzdGFydFwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudFRvdWNoZWQoZSk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50S2V5ZG93bihlKTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudENsaWNrZWQoZSk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJzZWxlY3Rpb25jaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih3aW5kb3csIFwicmVzaXplXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVzaXplRGVib3VuY2VyKCk7XG4gICAgfSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy53YXRjaEJsb2NrSG92ZXJlZEV2ZW50cygpO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gcmVkYWN0b3IgbW91c2Vtb3ZlIHRvIGVtaXQgJ2Jsb2NrLWhvdmVyZWQnIGV2ZW50XG4gICAqL1xuICB3YXRjaEJsb2NrSG92ZXJlZEV2ZW50cygpIHtcbiAgICBsZXQgZTtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcIm1vdXNlbW92ZVwiLCBUZSgodCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHQudGFyZ2V0LmNsb3Nlc3QoXCIuY2UtYmxvY2tcIik7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbnlCbG9ja1NlbGVjdGVkIHx8IG8gJiYgZSAhPT0gbyAmJiAoZSA9IG8sIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KG10LCB7XG4gICAgICAgIGJsb2NrOiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShvKVxuICAgICAgfSkpO1xuICAgIH0sIDIwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVW5iaW5kIGV2ZW50cyBvbiB0aGUgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB3aW5kb3cgaGFuZGxlclxuICAgKi9cbiAgd2luZG93UmVzaXplKCkge1xuICAgIHRoaXMuY29udGVudFJlY3RDYWNoZSA9IG51bGwsIHRoaXMuY2hlY2tJc01vYmlsZSgpO1xuICB9XG4gIC8qKlxuICAgKiBBbGwga2V5ZG93bnMgb24gZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudEtleWRvd24oZSkge1xuICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICBjYXNlIEIuRU5URVI6XG4gICAgICAgIHRoaXMuZW50ZXJQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5CQUNLU1BBQ0U6XG4gICAgICAgIHRoaXMuYmFja3NwYWNlUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuRVNDOlxuICAgICAgICB0aGlzLmVzY2FwZVByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5kZWZhdWx0QmVoYXZpb3VyKGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIElnbm9yZSBhbGwgb3RoZXIgZG9jdW1lbnQncyBrZXlkb3duIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGRlZmF1bHRCZWhhdmlvdXIoZSkge1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiB0IH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIsIG8gPSBlLnRhcmdldC5jbG9zZXN0KGAuJHt0aGlzLkNTUy5lZGl0b3JXcmFwcGVyfWApLCBpID0gZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5O1xuICAgIGlmICh0ICE9PSB2b2lkIDAgJiYgbyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMua2V5ZG93bihlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbyB8fCB0ICYmIGkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5kcm9wUG9pbnRlcigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGJhY2tzcGFjZVByZXNzZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgIW0uaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIGNvbnN0IG4gPSB0LnJlbW92ZVNlbGVjdGVkQmxvY2tzKCk7XG4gICAgICBpLnNldFRvQmxvY2sodC5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KG4sICEwKSwgaS5wb3NpdGlvbnMuU1RBUlQpLCBvLmNsZWFyU2VsZWN0aW9uKGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFc2NhcGUgcHJlc3NlZFxuICAgKiBJZiBzb21lIG9mIFRvb2xiYXIgY29tcG9uZW50cyBhcmUgb3BlbmVkLCB0aGVuIGNsb3NlIGl0IG90aGVyd2lzZSBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gZXNjYXBlIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGVzY2FwZVByZXNzZWQoZSkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5jbG9zZSgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpIDogdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIub3BlbmVkID8gdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIub3BlbmVkID8gdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpIDogdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBFbnRlciBwcmVzc2VkIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5jdXJyZW50QmxvY2tJbmRleCA+PSAwO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgIW0uaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIG8uY2xlYXJTZWxlY3Rpb24oZSksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNvbWVUb29sYmFyT3BlbmVkICYmIGkgJiYgZS50YXJnZXQudGFnTmFtZSA9PT0gXCJCT0RZXCIpIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KCk7XG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKG4pLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaGlnaGxpZ2h0Q3VycmVudE5vZGUoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbihuKTtcbiAgICB9XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbCBjbGlja3Mgb24gZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIENsaWNrIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudENsaWNrZWQoZSkge1xuICAgIGlmICghZS5pc1RydXN0ZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGUudGFyZ2V0O1xuICAgIHRoaXMubm9kZXMuaG9sZGVyLmNvbnRhaW5zKHQpIHx8IG0uaXNBdEVkaXRvciB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmRyb3BQb2ludGVyKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSk7XG4gICAgY29uc3QgaSA9IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mubm9kZXMud3JhcHBlci5jb250YWlucyh0KSwgbiA9IHRoaXMuRWRpdG9yLlRvb2xiYXIubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNvbnRhaW5zKHQpLCByID0gaSB8fCBuO1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCAmJiAhcikge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpO1xuICAgICAgY29uc3QgYSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKHQpO1xuICAgICAgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbihhKTtcbiAgICB9XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcnN0IHRvdWNoIG9uIGVkaXRvclxuICAgKiBGaXJlZCBiZWZvcmUgY2xpY2tcbiAgICpcbiAgICogVXNlZCB0byBjaGFuZ2UgY3VycmVudCBibG9jayBcdTIwMTQgd2UgbmVlZCB0byBkbyBpdCBiZWZvcmUgJ3NlbGVjdGlvbkNoYW5nZScgZXZlbnQuXG4gICAqIEFsc286XG4gICAqIC0gTW92ZSBhbmQgc2hvdyB0aGUgVG9vbGJhclxuICAgKiAtIFNldCBhIENhcmV0XG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudCB8IFRvdWNoRXZlbnR9IGV2ZW50IC0gdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICovXG4gIGRvY3VtZW50VG91Y2hlZChlKSB7XG4gICAgbGV0IHQgPSBlLnRhcmdldDtcbiAgICBpZiAodCA9PT0gdGhpcy5ub2Rlcy5yZWRhY3Rvcikge1xuICAgICAgY29uc3QgbyA9IGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ID8gZS5jbGllbnRYIDogZS50b3VjaGVzWzBdLmNsaWVudFgsIGkgPSBlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WSA6IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgdCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobywgaSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUodCksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5oaWdobGlnaHRDdXJyZW50Tm9kZSgpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmlzUmVjdEFjdGl2YXRlZCgpIHx8IHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvVGhlTGFzdEJsb2NrKCk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGNsaWNrcyBvbiB0aGUgcmVkYWN0b3Igem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gY2xpY2sgZXZlbnRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIC0gQnkgY2xpY2tzIG9uIHRoZSBFZGl0b3IncyBib3R0b20gem9uZTpcbiAgICogICAgICAtIGlmIGxhc3QgQmxvY2sgaXMgZW1wdHksIHNldCBhIENhcmV0IHRvIHRoaXNcbiAgICogICAgICAtIG90aGVyd2lzZSwgYWRkIGEgbmV3IGVtcHR5IEJsb2NrIGFuZCBzZXQgYSBDYXJldCB0byB0aGF0XG4gICAqL1xuICByZWRhY3RvckNsaWNrZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmICghbS5pc0NvbGxhcHNlZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9LCBpID0gZS50YXJnZXQsIG4gPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5O1xuICAgIGlmIChkLmlzQW5jaG9yKGkpICYmIG4pIHtcbiAgICAgIG8oKTtcbiAgICAgIGNvbnN0IHUgPSBpLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIGggPSBIdCh1KTtcbiAgICAgIGp0KGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleCgtMSksIGEgPSBkLm9mZnNldChyLmhvbGRlcikuYm90dG9tLCBsID0gZS5wYWdlWTtcbiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGUudGFyZ2V0LmlzRXF1YWxOb2RlKHRoaXMubm9kZXMucmVkYWN0b3IpICYmIC8qKlxuICAgICogSWYgdGhlcmUgaXMgY3Jvc3MgYmxvY2sgc2VsZWN0aW9uIHN0YXJ0ZWQsIHRhcmdldCB3aWxsIGJlIGVxdWFsIHRvIHJlZGFjdG9yIHNvIHdlIG5lZWQgYWRkaXRpb25hbCBjaGVja1xuICAgICovXG4gICAgIXQuYW55QmxvY2tTZWxlY3RlZCAmJiAvKipcbiAgICAqIFByZXZlbnQgY2FyZXQganVtcGluZyAodG8gbGFzdCBibG9jaykgd2hlbiBjbGlja2luZyBiZXR3ZWVuIGJsb2Nrc1xuICAgICovXG4gICAgYSA8IGwpIHtcbiAgICAgIG8oKTtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB1LCBDYXJldDogaCwgVG9vbGJhcjogZiB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICAoIXUubGFzdEJsb2NrLnRvb2wuaXNEZWZhdWx0IHx8ICF1Lmxhc3RCbG9jay5pc0VtcHR5KSAmJiB1Lmluc2VydEF0RW5kKCksIGguc2V0VG9UaGVMYXN0QmxvY2soKSwgZi5tb3ZlQW5kT3Blbih1Lmxhc3RCbG9jayk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgc2VsZWN0aW9uIGNoYW5nZXMgb24gbW9iaWxlIGRldmljZXNcbiAgICogVXNlcyBmb3Igc2hvd2luZyB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHNlbGVjdGlvbkNoYW5nZWQoKSB7XG4gICAgY29uc3QgeyBDcm9zc0Jsb2NrU2VsZWN0aW9uOiBlLCBCbG9ja1NlbGVjdGlvbjogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBtLmFuY2hvckVsZW1lbnQ7XG4gICAgaWYgKGUuaXNDcm9zc0Jsb2NrU2VsZWN0aW9uU3RhcnRlZCAmJiB0LmFueUJsb2NrU2VsZWN0ZWQgJiYgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgIW8pIHtcbiAgICAgIG0ucmFuZ2UgfHwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpID0gby5jbG9zZXN0KGAuJHtGLkNTUy5jb250ZW50fWApID09PSBudWxsO1xuICAgIGlmIChpICYmICh0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNvbnRhaW5zTm9kZShvKSB8fCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksICEoby5kYXRhc2V0LmlubGluZVRvb2xiYXIgPT09IFwidHJ1ZVwiKSkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayB8fCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUobyk7XG4gICAgY29uc3QgbiA9IGkgIT09ICEwO1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIudHJ5VG9TaG93KCEwLCBuKTtcbiAgfVxufVxuY29uc3QgdWkgPSB7XG4gIC8vIEFQSSBNb2R1bGVzXG4gIEJsb2Nrc0FQSTogWnQsXG4gIENhcmV0QVBJOiBHdCxcbiAgRXZlbnRzQVBJOiBxdCxcbiAgSTE4bkFQSTogRGUsXG4gIEFQSTogSnQsXG4gIElubGluZVRvb2xiYXJBUEk6IFF0LFxuICBMaXN0ZW5lcnNBUEk6IGVvLFxuICBOb3RpZmllckFQSTogbm8sXG4gIFJlYWRPbmx5QVBJOiBzbyxcbiAgU2FuaXRpemVyQVBJOiBwbyxcbiAgU2F2ZXJBUEk6IGZvLFxuICBTZWxlY3Rpb25BUEk6IGdvLFxuICBTdHlsZXNBUEk6IGJvLFxuICBUb29sYmFyQVBJOiBtbyxcbiAgVG9vbHRpcEFQSTogeG8sXG4gIFVpQVBJOiB3byxcbiAgLy8gVG9vbGJhciBNb2R1bGVzXG4gIEJsb2NrU2V0dGluZ3M6IFJvLFxuICBDb252ZXJzaW9uVG9vbGJhcjogWSxcbiAgVG9vbGJhcjogam8sXG4gIElubGluZVRvb2xiYXI6IFVvLFxuICAvLyBNb2R1bGVzXG4gIEJsb2NrRXZlbnRzOiAkbyxcbiAgQmxvY2tNYW5hZ2VyOiBLbyxcbiAgQmxvY2tTZWxlY3Rpb246IFhvLFxuICBDYXJldDogdmUsXG4gIENyb3NzQmxvY2tTZWxlY3Rpb246IFZvLFxuICBEcmFnTkRyb3A6IFpvLFxuICBNb2RpZmljYXRpb25zT2JzZXJ2ZXI6IEdvLFxuICBQYXN0ZTogd3QsXG4gIFJlYWRPbmx5OiBxbyxcbiAgUmVjdGFuZ2xlU2VsZWN0aW9uOiBwZSxcbiAgUmVuZGVyZXI6IEpvLFxuICBTYXZlcjogUW8sXG4gIFRvb2xzOiBTdCxcbiAgVUk6IGhpXG59O1xuY2xhc3MgcGkge1xuICAvKipcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd9IGNvbmZpZyAtIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMubW9kdWxlSW5zdGFuY2VzID0ge30sIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IG5ldyB3ZSgpO1xuICAgIGxldCB0LCBvO1xuICAgIHRoaXMuaXNSZWFkeSA9IG5ldyBQcm9taXNlKChpLCBuKSA9PiB7XG4gICAgICB0ID0gaSwgbyA9IG47XG4gICAgfSksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gZSwgYXdhaXQgdGhpcy52YWxpZGF0ZSgpLCBhd2FpdCB0aGlzLmluaXQoKSwgYXdhaXQgdGhpcy5zdGFydCgpLCBLKFwiSSdtIHJlYWR5ISAoXHVGRjg5XHUyNUQ1XHUzMEVFXHUyNUQ1KVx1RkY4OSo6XHVGRjY1XHVGRjlGXHUyNzI3XCIsIFwibG9nXCIsIFwiXCIsIFwiY29sb3I6ICNFMjRBNzVcIiksIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYXdhaXQgdGhpcy5yZW5kZXIoKSwgdGhpcy5jb25maWd1cmF0aW9uLmF1dG9mb2N1cykge1xuICAgICAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBpLCBDYXJldDogbiB9ID0gdGhpcy5tb2R1bGVJbnN0YW5jZXM7XG4gICAgICAgICAgbi5zZXRUb0Jsb2NrKGkuYmxvY2tzWzBdLCBuLnBvc2l0aW9ucy5TVEFSVCksIGkuaGlnaGxpZ2h0Q3VycmVudE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZHVsZUluc3RhbmNlcy5VSS5yZW1vdmVMb2FkZXIoKSwgdCgpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9KS5jYXRjaCgoaSkgPT4ge1xuICAgICAgVChgRWRpdG9yLmpzIGlzIG5vdCByZWFkeSBiZWNhdXNlIG9mICR7aX1gLCBcImVycm9yXCIpLCBvKGkpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXR0aW5nIGZvciBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfHN0cmluZ30gY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnIHRvIHNldFxuICAgKi9cbiAgc2V0IGNvbmZpZ3VyYXRpb24oZSkge1xuICAgIHZhciBvLCBpO1xuICAgIGooZSkgPyB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIC4uLmVcbiAgICB9IDogdGhpcy5jb25maWcgPSB7XG4gICAgICBob2xkZXI6IGVcbiAgICB9LCBJZSghIXRoaXMuY29uZmlnLmhvbGRlcklkLCBcImNvbmZpZy5ob2xkZXJJZFwiLCBcImNvbmZpZy5ob2xkZXJcIiksIHRoaXMuY29uZmlnLmhvbGRlcklkICYmICF0aGlzLmNvbmZpZy5ob2xkZXIgJiYgKHRoaXMuY29uZmlnLmhvbGRlciA9IHRoaXMuY29uZmlnLmhvbGRlcklkLCB0aGlzLmNvbmZpZy5ob2xkZXJJZCA9IG51bGwpLCB0aGlzLmNvbmZpZy5ob2xkZXIgPT0gbnVsbCAmJiAodGhpcy5jb25maWcuaG9sZGVyID0gXCJlZGl0b3Jqc1wiKSwgdGhpcy5jb25maWcubG9nTGV2ZWwgfHwgKHRoaXMuY29uZmlnLmxvZ0xldmVsID0gZXQuVkVSQk9TRSksIEF0KHRoaXMuY29uZmlnLmxvZ0xldmVsKSwgSWUoISF0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2ssIFwiY29uZmlnLmluaXRpYWxCbG9ja1wiLCBcImNvbmZpZy5kZWZhdWx0QmxvY2tcIiksIHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA9IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayB8fCB0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2sgfHwgXCJwYXJhZ3JhcGhcIiwgdGhpcy5jb25maWcubWluSGVpZ2h0ID0gdGhpcy5jb25maWcubWluSGVpZ2h0ICE9PSB2b2lkIDAgPyB0aGlzLmNvbmZpZy5taW5IZWlnaHQgOiAzMDA7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIHR5cGU6IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMuY29uZmlnLnBsYWNlaG9sZGVyIHx8ICExLCB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgPSB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgfHwge1xuICAgICAgcDogITAsXG4gICAgICBiOiAhMCxcbiAgICAgIGE6ICEwXG4gICAgfSwgdGhpcy5jb25maWcuaGlkZVRvb2xiYXIgPSB0aGlzLmNvbmZpZy5oaWRlVG9vbGJhciA/IHRoaXMuY29uZmlnLmhpZGVUb29sYmFyIDogITEsIHRoaXMuY29uZmlnLnRvb2xzID0gdGhpcy5jb25maWcudG9vbHMgfHwge30sIHRoaXMuY29uZmlnLmkxOG4gPSB0aGlzLmNvbmZpZy5pMThuIHx8IHt9LCB0aGlzLmNvbmZpZy5kYXRhID0gdGhpcy5jb25maWcuZGF0YSB8fCB7IGJsb2NrczogW10gfSwgdGhpcy5jb25maWcub25SZWFkeSA9IHRoaXMuY29uZmlnLm9uUmVhZHkgfHwgKCgpID0+IHtcbiAgICB9KSwgdGhpcy5jb25maWcub25DaGFuZ2UgPSB0aGlzLmNvbmZpZy5vbkNoYW5nZSB8fCAoKCkgPT4ge1xuICAgIH0pLCB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyID0gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciAhPT0gdm9pZCAwID8gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciA6ICEwLCAoVih0aGlzLmNvbmZpZy5kYXRhKSB8fCAhdGhpcy5jb25maWcuZGF0YS5ibG9ja3MgfHwgdGhpcy5jb25maWcuZGF0YS5ibG9ja3MubGVuZ3RoID09PSAwKSAmJiAodGhpcy5jb25maWcuZGF0YSA9IHsgYmxvY2tzOiBbdF0gfSksIHRoaXMuY29uZmlnLnJlYWRPbmx5ID0gdGhpcy5jb25maWcucmVhZE9ubHkgfHwgITEsIChvID0gdGhpcy5jb25maWcuaTE4bikgIT0gbnVsbCAmJiBvLm1lc3NhZ2VzICYmICQuc2V0RGljdGlvbmFyeSh0aGlzLmNvbmZpZy5pMThuLm1lc3NhZ2VzKSwgdGhpcy5jb25maWcuaTE4bi5kaXJlY3Rpb24gPSAoKGkgPSB0aGlzLmNvbmZpZy5pMThuKSA9PSBudWxsID8gdm9pZCAwIDogaS5kaXJlY3Rpb24pIHx8IFwibHRyXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7RWRpdG9yQ29uZmlnfVxuICAgKi9cbiAgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHJlcXVpcmVkIGZpZWxkcyBpbiBFZGl0b3IncyBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyB2YWxpZGF0ZSgpIHtcbiAgICBjb25zdCB7IGhvbGRlcklkOiBlLCBob2xkZXI6IHQgfSA9IHRoaXMuY29uZmlnO1xuICAgIGlmIChlICYmIHQpXG4gICAgICB0aHJvdyBFcnJvcihcIlx1MDBBQmhvbGRlcklkXHUwMEJCIGFuZCBcdTAwQUJob2xkZXJcdTAwQkIgcGFyYW0gY2FuJ3QgYXNzaWduIGF0IHRoZSBzYW1lIHRpbWUuXCIpO1xuICAgIGlmIChKKHQpICYmICFkLmdldCh0KSlcbiAgICAgIHRocm93IEVycm9yKGBlbGVtZW50IHdpdGggSUQgXHUwMEFCJHt0fVx1MDBCQiBpcyBtaXNzaW5nLiBQYXNzIGNvcnJlY3QgaG9sZGVyJ3MgSUQuYCk7XG4gICAgaWYgKHQgJiYgaih0KSAmJiAhZC5pc0VsZW1lbnQodCkpXG4gICAgICB0aHJvdyBFcnJvcihcIlx1MDBBQmhvbGRlclx1MDBCQiB2YWx1ZSBtdXN0IGJlIGFuIEVsZW1lbnQgbm9kZVwiKTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgbW9kdWxlczpcbiAgICogIC0gbWFrZSBhbmQgc2F2ZSBpbnN0YW5jZXNcbiAgICogIC0gY29uZmlndXJlXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuY29uc3RydWN0TW9kdWxlcygpLCB0aGlzLmNvbmZpZ3VyZU1vZHVsZXMoKTtcbiAgfVxuICAvKipcbiAgICogU3RhcnQgRWRpdG9yIVxuICAgKlxuICAgKiBHZXQgbGlzdCBvZiBtb2R1bGVzIHRoYXQgbmVlZHMgdG8gYmUgcHJlcGFyZWQgYW5kIHJldHVybiBhIHNlcXVlbmNlIChQcm9taXNlKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIHN0YXJ0KCkge1xuICAgIGF3YWl0IFtcbiAgICAgIFwiVG9vbHNcIixcbiAgICAgIFwiVUlcIixcbiAgICAgIFwiQmxvY2tNYW5hZ2VyXCIsXG4gICAgICBcIlBhc3RlXCIsXG4gICAgICBcIkJsb2NrU2VsZWN0aW9uXCIsXG4gICAgICBcIlJlY3RhbmdsZVNlbGVjdGlvblwiLFxuICAgICAgXCJDcm9zc0Jsb2NrU2VsZWN0aW9uXCIsXG4gICAgICBcIlJlYWRPbmx5XCJcbiAgICBdLnJlZHVjZShcbiAgICAgICh0LCBvKSA9PiB0LnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMubW9kdWxlSW5zdGFuY2VzW29dLnByZXBhcmUoKTtcbiAgICAgICAgfSBjYXRjaCAoaSkge1xuICAgICAgICAgIGlmIChpIGluc3RhbmNlb2YgYXQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaS5tZXNzYWdlKTtcbiAgICAgICAgICBUKGBNb2R1bGUgJHtvfSB3YXMgc2tpcHBlZCBiZWNhdXNlIG9mICVvYCwgXCJ3YXJuXCIsIGkpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIGluaXRpYWwgZGF0YVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm1vZHVsZUluc3RhbmNlcy5SZW5kZXJlci5yZW5kZXIodGhpcy5jb25maWcuZGF0YS5ibG9ja3MpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIG1vZHVsZXMgaW5zdGFuY2VzIGFuZCBzYXZlIGl0IHRvIHRoZSBAcHJvcGVydHkgdGhpcy5tb2R1bGVJbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdE1vZHVsZXMoKSB7XG4gICAgT2JqZWN0LmVudHJpZXModWkpLmZvckVhY2goKFtlLCB0XSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5tb2R1bGVJbnN0YW5jZXNbZV0gPSBuZXcgdCh7XG4gICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdGhpcy5ldmVudHNEaXNwYXRjaGVyXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICBUKFwiW2NvbnN0cnVjdE1vZHVsZXNdXCIsIGBNb2R1bGUgJHtlfSBza2lwcGVkIGJlY2F1c2VgLCBcImVycm9yXCIsIG8pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGVzIGluc3RhbmNlcyBjb25maWd1cmF0aW9uOlxuICAgKiAgLSBwYXNzIG90aGVyIG1vZHVsZXMgdG8gdGhlICdzdGF0ZScgcHJvcGVydHlcbiAgICogIC0gLi4uXG4gICAqL1xuICBjb25maWd1cmVNb2R1bGVzKCkge1xuICAgIGZvciAoY29uc3QgZSBpbiB0aGlzLm1vZHVsZUluc3RhbmNlcylcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm1vZHVsZUluc3RhbmNlcywgZSkgJiYgKHRoaXMubW9kdWxlSW5zdGFuY2VzW2VdLnN0YXRlID0gdGhpcy5nZXRNb2R1bGVzRGlmZihlKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBtb2R1bGVzIHdpdGhvdXQgcGFzc2VkIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBtb2R1bGUgZm9yIHdpdGNoIG1vZHVsZXMgZGlmZmVyZW5jZSBzaG91bGQgYmUgY2FsY3VsYXRlZFxuICAgKi9cbiAgZ2V0TW9kdWxlc0RpZmYoZSkge1xuICAgIGNvbnN0IHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG8gaW4gdGhpcy5tb2R1bGVJbnN0YW5jZXMpXG4gICAgICBvICE9PSBlICYmICh0W29dID0gdGhpcy5tb2R1bGVJbnN0YW5jZXNbb10pO1xuICAgIHJldHVybiB0O1xuICB9XG59XG4vKipcbiAqIEVkaXRvci5qc1xuICpcbiAqIEBsaWNlbnNlIEFwYWNoZS0yLjBcbiAqIEBzZWUgRWRpdG9yLmpzIDxodHRwczovL2VkaXRvcmpzLmlvPlxuICogQGF1dGhvciBDb2RlWCBUZWFtIDxodHRwczovL2NvZGV4LnNvPlxuICovXG5jbGFzcyBmaSB7XG4gIC8qKiBFZGl0b3IgdmVyc2lvbiAqL1xuICBzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG4gICAgcmV0dXJuIFwiMi4yNy4wXCI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfHN0cmluZ3x1bmRlZmluZWR9IFtjb25maWd1cmF0aW9uXSAtIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIGxldCB0ID0gKCkgPT4ge1xuICAgIH07XG4gICAgaihlKSAmJiBEKGUub25SZWFkeSkgJiYgKHQgPSBlLm9uUmVhZHkpO1xuICAgIGNvbnN0IG8gPSBuZXcgcGkoZSk7XG4gICAgdGhpcy5pc1JlYWR5ID0gby5pc1JlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5leHBvcnRBUEkobyksIHQoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRXhwb3J0IGV4dGVybmFsIEFQSSBtZXRob2RzXG4gICAqXG4gICAqIEBwYXJhbSB7Q29yZX0gZWRpdG9yIFx1MjAxNCBFZGl0b3IncyBpbnN0YW5jZVxuICAgKi9cbiAgZXhwb3J0QVBJKGUpIHtcbiAgICBjb25zdCB0ID0gW1wiY29uZmlndXJhdGlvblwiXSwgbyA9ICgpID0+IHtcbiAgICAgIE9iamVjdC52YWx1ZXMoZS5tb2R1bGVJbnN0YW5jZXMpLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgRChuLmRlc3Ryb3kpICYmIG4uZGVzdHJveSgpLCBuLmxpc3RlbmVycy5yZW1vdmVBbGwoKTtcbiAgICAgIH0pLCBlID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgbiBpbiB0aGlzKVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgbikgJiYgZGVsZXRlIHRoaXNbbl07XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbnVsbCk7XG4gICAgfTtcbiAgICB0LmZvckVhY2goKG4pID0+IHtcbiAgICAgIHRoaXNbbl0gPSBlW25dO1xuICAgIH0pLCB0aGlzLmRlc3Ryb3kgPSBvLCBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgZS5tb2R1bGVJbnN0YW5jZXMuQVBJLm1ldGhvZHMpLCBkZWxldGUgdGhpcy5leHBvcnRBUEksIE9iamVjdC5lbnRyaWVzKHtcbiAgICAgIGJsb2Nrczoge1xuICAgICAgICBjbGVhcjogXCJjbGVhclwiLFxuICAgICAgICByZW5kZXI6IFwicmVuZGVyXCJcbiAgICAgIH0sXG4gICAgICBjYXJldDoge1xuICAgICAgICBmb2N1czogXCJmb2N1c1wiXG4gICAgICB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIG9uOiBcIm9uXCIsXG4gICAgICAgIG9mZjogXCJvZmZcIixcbiAgICAgICAgZW1pdDogXCJlbWl0XCJcbiAgICAgIH0sXG4gICAgICBzYXZlcjoge1xuICAgICAgICBzYXZlOiBcInNhdmVcIlxuICAgICAgfVxuICAgIH0pLmZvckVhY2goKFtuLCByXSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW2EsIGxdKSA9PiB7XG4gICAgICAgIHRoaXNbbF0gPSBlLm1vZHVsZUluc3RhbmNlcy5BUEkubWV0aG9kc1tuXVthXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5leHBvcnQge1xuICBmaSBhcyBkZWZhdWx0XG59O1xuIiwgImltcG9ydCBFZGl0b3JKUyBmcm9tICdAZWRpdG9yanMvZWRpdG9yanMnO1xuaW1wb3J0IFVuZG8gZnJvbSAnZWRpdG9yanMtdW5kbyc7XG5cbmltcG9ydCB7IGJsb2NrcyBhcyBndWlndUJsb2NrcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uLy4uL2d1aWd1L2d1aWd1L3B1YmxpYy9qcy9leHRlbmRzL3BhdGNoZXMvd29ya3NwYWNlL2NvbmZpZ0RpYWxvZ3MnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya3NwYWNlIGV4dGVuZHMgZnJhcHBlLnZpZXdzLldvcmtzcGFjZSB7XG5cdGNvbnN0cnVjdG9yKHdyYXBwZXIsIG9yZ2FuaXphdGlvbl9uYW1lKSB7XG5cdFx0c3VwZXIod3JhcHBlcik7XG5cdFx0dGhpcy53cmFwcGVyID0gJCh3cmFwcGVyKTtcblx0XHR0aGlzLnBhZ2UgPSB3cmFwcGVyLnBhZ2U7XG5cdFx0dGhpcy5ibG9ja3MgPSBmcmFwcGUud29ya3NwYWNlX2Jsb2NrLmJsb2Nrcztcblx0XHR0aGlzLmlzX3JlYWRfb25seSA9IHRydWU7XG5cdFx0dGhpcy5wYWdlcyA9IHt9O1xuXHRcdHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyA9IFtdO1xuXHRcdHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMgPSBbXTtcblx0XHR0aGlzLmN1cnJlbnRfcGFnZSA9IHt9O1xuXHRcdHRoaXMuc2lkZWJhcl9pdGVtcyA9IHtcblx0XHRcdHB1YmxpYzoge30sXG5cdFx0XHRwcml2YXRlOiB7fSxcblx0XHR9O1xuXHRcdHRoaXMub3JnYW5pemF0aW9uX25hbWUgPSBvcmdhbml6YXRpb25fbmFtZTtcblx0XHR0aGlzLnNpZGViYXJfY2F0ZWdvcmllcyA9IFsnTXkgV29ya3NwYWNlcycsICdQdWJsaWMnXTtcblxuXHRcdHRoaXMucHJlcGFyZV9jb250YWluZXIoKTtcblx0XHR0aGlzLnNldHVwX3BhZ2VzKCk7XG5cdFx0dGhpcy5yZWdpc3Rlcl9hd2Vzb21lYmFyX3Nob3J0Y3V0KCk7XG5cdH1cblxuXHRwcmVwYXJlX2NvbnRhaW5lcigpIHtcblx0XHRpZiAoIXRoaXMub3JnYW5pemF0aW9uX25hbWUpe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRsZXQgbGlzdF9zaWRlYmFyID0gJChgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibGlzdC1zaWRlYmFyIG92ZXJsYXktc2lkZWJhciBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJkZXNrLXNpZGViYXIgbGlzdC11bnN0eWxlZCBzaWRlYmFyLW1lbnVcIj48L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGApLmFwcGVuZFRvKHRoaXMud3JhcHBlci5maW5kKCcubGF5b3V0LXNpZGUtc2VjdGlvbicpKTtcblx0XHR0aGlzLnNpZGViYXIgPSBsaXN0X3NpZGViYXIuZmluZCgnLmRlc2stc2lkZWJhcicpO1xuXHRcdHRoaXMuYm9keSA9IHRoaXMud3JhcHBlci5maW5kKCcubGF5b3V0LW1haW4tc2VjdGlvbicpO1xuXHR9XG5cblx0YXN5bmMgc2V0dXBfcGFnZXMocmVsb2FkKSB7XG5cdFx0aWYgKCF0aGlzLm9yZ2FuaXphdGlvbl9uYW1lKXtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0IXRoaXMuZGlzY2FyZCAmJiB0aGlzLmNyZWF0ZV9wYWdlX3NrZWxldG9uKCk7XG5cdFx0IXRoaXMuZGlzY2FyZCAmJiB0aGlzLmNyZWF0ZV9zaWRlYmFyX3NrZWxldG9uKCk7XG5cdFx0dGhpcy5zaWRlYmFyX3BhZ2VzID0gdGhpcy5kaXNjYXJkID8gdGhpcy5zaWRlYmFyX3BhZ2VzIDogYXdhaXQgdGhpcy5nZXRfcGFnZXMoKTtcblx0XHR0aGlzLmNhY2hlZF9wYWdlcyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLnNpZGViYXJfcGFnZXMpO1xuXHRcdHRoaXMuYWxsX3BhZ2VzID0gdGhpcy5zaWRlYmFyX3BhZ2VzLnBhZ2VzO1xuXHRcdHRoaXMuaGFzX2FjY2VzcyA9IHRoaXMuc2lkZWJhcl9wYWdlcy5oYXNfYWNjZXNzO1xuXG5cdFx0Zm9yIChjb25zdCBwYWdlIG9mIHRoaXMuYWxsX3BhZ2VzKSB7XG5cdFx0XHRwYWdlLmlzX2VkaXRhYmxlID0gIXBhZ2UucHVibGljIHx8IHRoaXMuaGFzX2FjY2Vzcztcblx0XHR9XG5cblx0XHR0aGlzLnB1YmxpY19wYWdlcyA9IHRoaXMuYWxsX3BhZ2VzLmZpbHRlcihwYWdlID0+IHBhZ2UucHVibGljKTtcblx0XHR0aGlzLnByaXZhdGVfcGFnZXMgPSB0aGlzLmFsbF9wYWdlcy5maWx0ZXIocGFnZSA9PiAhcGFnZS5wdWJsaWMpO1xuXG5cdFx0aWYgKHRoaXMuYWxsX3BhZ2VzKSB7XG5cdFx0XHRmcmFwcGUud29ya3NwYWNlcyA9IHt9O1xuXHRcdFx0Zm9yIChsZXQgcGFnZSBvZiB0aGlzLmFsbF9wYWdlcykge1xuXHRcdFx0XHRmcmFwcGUud29ya3NwYWNlc1tmcmFwcGUucm91dGVyLnNsdWcocGFnZS5uYW1lKV0gPSB7XG5cdFx0XHRcdFx0dGl0bGU6IHBhZ2UudGl0bGUsXG5cdFx0XHRcdFx0cHVibGljOiBwYWdlLnB1YmxpYyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHRoaXMubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRyZWxvYWQgJiYgdGhpcy5zaG93KCk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0X3BhZ2VzKCkge1xuXHRcdHJldHVybiBmcmFwcGUueGNhbGwoJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLmdldF93b3Jrc3BhY2Vfc2lkZWJhcl9pdGVtcycsIHtcblx0XHRcdG9yZ2FuaXphdGlvbl9uYW1lOiB0aGlzLm9yZ2FuaXphdGlvbl9uYW1lLFxuXHRcdH0pO1xuXHR9XG5cblx0c2lkZWJhcl9pdGVtX2NvbnRhaW5lcihpdGVtKSB7XG5cdFx0cmV0dXJuICQoYFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRjbGFzcz1cInNpZGViYXItaXRlbS1jb250YWluZXIgJHtpdGVtLmlzX2VkaXRhYmxlID8gJ2lzLWRyYWdnYWJsZScgOiAnJ31cIlxuXHRcdFx0XHRpdGVtLXBhcmVudD1cIiR7aXRlbS5wYXJlbnRfcGFnZX1cIlxuXHRcdFx0XHRpdGVtLW5hbWU9XCIke2l0ZW0udGl0bGV9XCJcblx0XHRcdFx0aXRlbS1wdWJsaWM9XCIke2l0ZW0ucHVibGljIHx8IDB9XCJcblx0XHRcdFx0aXRlbS1pcy1oaWRkZW49XCIke2l0ZW0uaXNfaGlkZGVuIHx8IDB9XCJcblx0XHRcdD5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImRlc2stc2lkZWJhci1pdGVtIHN0YW5kYXJkLXNpZGViYXItaXRlbSAke2l0ZW0uc2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9XCI+XG5cdFx0XHRcdFx0PGFcblx0XHRcdFx0XHRcdGNsYXNzPVwiaXRlbS1hbmNob3IgJHtpdGVtLmlzX2VkaXRhYmxlID8gJycgOiAnYmxvY2stY2xpY2snfSBpdGVtLWFcIiB0aXRsZT1cIiR7X18oaXRlbS50aXRsZSl9XCJcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInNpZGViYXItaXRlbS1pY29uXCIgaXRlbS1pY29uPSR7aXRlbS5pY29uIHx8ICdmb2xkZXItbm9ybWFsJ30+JHtmcmFwcGUudXRpbHMuaWNvbihcblx0aXRlbS5pY29uIHx8ICdmb2xkZXItbm9ybWFsJyxcblx0J21kJyxcbil9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJzaWRlYmFyLWl0ZW0tbGFiZWxcIj4ke19fKGl0ZW0udGl0bGUucmVwbGFjZUFsbCgve3soW159XSspfX0vZywgJycpKX08c3Bhbj5cblx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNpZGViYXItaXRlbS1jb250cm9sXCI+PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2lkZWJhci1jaGlsZC1pdGVtIG5lc3RlZC1jb250YWluZXJcIj48L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGApO1xuXHR9XG5cblx0bWFrZV9zaWRlYmFyKCkge1xuXHRcdGlmICh0aGlzLnNpZGViYXIuZmluZCgnLnN0YW5kYXJkLXNpZGViYXItc2VjdGlvbicpWzBdKSB7XG5cdFx0XHR0aGlzLnNpZGViYXIuZmluZCgnLnN0YW5kYXJkLXNpZGViYXItc2VjdGlvbicpLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgdGhpcy5zaWRlYmFyX2NhdGVnb3JpZXMpIHtcblx0XHRcdGlmIChjYXRlZ29yeSAhPSAnUHVibGljJyl7IGNvbnRpbnVlOyB9XG5cdFx0XHRsZXQgcm9vdF9wYWdlcyA9IHRoaXMucHVibGljX3BhZ2VzLmZpbHRlcihcblx0XHRcdFx0cGFnZSA9PiBwYWdlLnBhcmVudF9wYWdlID09ICcnIHx8IHBhZ2UucGFyZW50X3BhZ2UgPT0gbnVsbCxcblx0XHRcdCk7XG5cdFx0XHRpZiAoY2F0ZWdvcnkgIT0gJ1B1YmxpYycpIHtcblx0XHRcdFx0cm9vdF9wYWdlcyA9IHRoaXMucHJpdmF0ZV9wYWdlcy5maWx0ZXIoXG5cdFx0XHRcdFx0cGFnZSA9PiBwYWdlLnBhcmVudF9wYWdlID09ICcnIHx8IHBhZ2UucGFyZW50X3BhZ2UgPT0gbnVsbCxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdHJvb3RfcGFnZXMgPSByb290X3BhZ2VzLnVuaXFCeShkID0+IGQudGl0bGUpO1xuXHRcdFx0dGhpcy5idWlsZF9zaWRlYmFyX3NlY3Rpb24oY2F0ZWdvcnksIHJvb3RfcGFnZXMpO1xuXHRcdH1cblxuXHRcdC8vIFNjcm9sbCBzaWRlYmFyIHRvIHNlbGVjdGVkIHBhZ2UgaWYgaXQgaXMgbm90IGluIHZpZXdwb3J0LlxuXHRcdHRoaXMuc2lkZWJhci5maW5kKCcuc2VsZWN0ZWQnKS5sZW5ndGggJiZcblx0XHRcdCFmcmFwcGUuZG9tLmlzX2VsZW1lbnRfaW5fdmlld3BvcnQodGhpcy5zaWRlYmFyLmZpbmQoJy5zZWxlY3RlZCcpKSAmJlxuXHRcdFx0dGhpcy5zaWRlYmFyLmZpbmQoJy5zZWxlY3RlZCcpWzBdLnNjcm9sbEludG9WaWV3KCk7XG5cblx0XHR0aGlzLnJlbW92ZV9zaWRlYmFyX3NrZWxldG9uKCk7XG5cdH1cblxuXHRidWlsZF9zaWRlYmFyX3NlY3Rpb24odGl0bGUsIHJvb3RfcGFnZXMpIHtcblx0XHRsZXQgc2lkZWJhcl9zZWN0aW9uID0gJChcblx0XHRcdGA8ZGl2IGNsYXNzPVwic3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uIG5lc3RlZC1jb250YWluZXJcIiBkYXRhLXRpdGxlPVwiJHt0aXRsZX1cIj48L2Rpdj5gLFxuXHRcdCk7XG5cblx0XHRsZXQgJHRpdGxlID0gJChgPGRpdiBjbGFzcz1cInN0YW5kYXJkLXNpZGViYXItbGFiZWxcIj5cblx0XHRcdDxzcGFuPiR7ZnJhcHBlLnV0aWxzLmljb24oJ3NtYWxsLWRvd24nLCAneHMnKX08L3NwYW4+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj4ke19fKHRpdGxlKX08c3Bhbj5cblx0XHQ8L2Rpdj5gKS5hcHBlbmRUbyhzaWRlYmFyX3NlY3Rpb24pO1xuXHRcdHRoaXMucHJlcGFyZV9zaWRlYmFyKHJvb3RfcGFnZXMsIHNpZGViYXJfc2VjdGlvbiwgdGhpcy5zaWRlYmFyKTtcblxuXHRcdCR0aXRsZS5vbignY2xpY2snLCBlID0+IHtcblx0XHRcdGxldCBpY29uID1cblx0XHRcdFx0JChlLnRhcmdldCkuZmluZCgnc3BhbiB1c2UnKS5hdHRyKCdocmVmJykgPT09ICcjaWNvbi1zbWFsbC1kb3duJ1xuXHRcdFx0XHRcdD8gJyNpY29uLXJpZ2h0J1xuXHRcdFx0XHRcdDogJyNpY29uLXNtYWxsLWRvd24nO1xuXHRcdFx0JChlLnRhcmdldCkuZmluZCgnc3BhbiB1c2UnKS5hdHRyKCdocmVmJywgaWNvbik7XG5cdFx0XHQkKGUudGFyZ2V0KS5wYXJlbnQoKS5maW5kKCcuc2lkZWJhci1pdGVtLWNvbnRhaW5lcicpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0fSk7XG5cblx0XHRpZiAoT2JqZWN0LmtleXMocm9vdF9wYWdlcykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRzaWRlYmFyX3NlY3Rpb24uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHNpZGViYXJfc2VjdGlvbi5maW5kKCcuc2lkZWJhci1pdGVtLWNvbnRhaW5lcicpLmxlbmd0aCAmJlxuXHRcdFx0c2lkZWJhcl9zZWN0aW9uLmZpbmQoXCI+IFtpdGVtLWlzLWhpZGRlbj0nMCddXCIpLmxlbmd0aCA9PSAwXG5cdFx0KSB7XG5cdFx0XHRzaWRlYmFyX3NlY3Rpb24uYWRkQ2xhc3MoJ2hpZGRlbiBzaG93LWluLWVkaXQtbW9kZScpO1xuXHRcdH1cblx0fVxuXG5cdHByZXBhcmVfc2lkZWJhcihpdGVtcywgY2hpbGRfY29udGFpbmVyLCBpdGVtX2NvbnRhaW5lcikge1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykgeyB0aGlzLmFwcGVuZF9pdGVtKGl0ZW0sIGNoaWxkX2NvbnRhaW5lcik7IH1cblx0XHRjaGlsZF9jb250YWluZXIuYXBwZW5kVG8oaXRlbV9jb250YWluZXIpO1xuXHR9XG5cblx0YXBwZW5kX2l0ZW0oaXRlbSwgY29udGFpbmVyKSB7XG5cdFx0bGV0IGlzX2N1cnJlbnRfcGFnZSA9XG5cdFx0XHRmcmFwcGUucm91dGVyLnNsdWcoaXRlbS50aXRsZSkgPT0gZnJhcHBlLnJvdXRlci5zbHVnKHRoaXMuZ2V0X3BhZ2VfdG9fc2hvdygpLm5hbWUpICYmXG5cdFx0XHRpdGVtLnB1YmxpYyA9PSB0aGlzLmdldF9wYWdlX3RvX3Nob3coKS5wdWJsaWM7XG5cdFx0aXRlbS5zZWxlY3RlZCA9IGlzX2N1cnJlbnRfcGFnZTtcblx0XHRpZiAoaXNfY3VycmVudF9wYWdlKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRfcGFnZSA9IHsgbmFtZTogaXRlbS50aXRsZSwgcHVibGljOiBpdGVtLnB1YmxpYyB9O1xuXHRcdH1cblxuXHRcdGxldCAkaXRlbV9jb250YWluZXIgPSB0aGlzLnNpZGViYXJfaXRlbV9jb250YWluZXIoaXRlbSk7XG5cdFx0Ly8gVE9ETyBcdThCQkVcdTdGNkVcdTVGNTNcdTUyNER3b3Jrc3BhY2Vcblx0XHQkaXRlbV9jb250YWluZXIuZmluZCgnLml0ZW0tYScpLm9uKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMudXBkYXRlX3NlbGVjdGVkX3NpZGViYXIodGhpcy5jdXJyZW50X3BhZ2UsIGZhbHNlKTtcblx0XHRcdHRoaXMuY3VycmVudF9wYWdlPXtcblx0XHRcdFx0bmFtZTppdGVtLnRpdGxlLFxuXHRcdFx0XHRwdWJsaWM6IGl0ZW0ucHVibGljLFxuXHRcdFx0fTtcblx0XHRcdHRoaXMuc2hvdygpO1xuXHRcdH0pO1xuXG5cdFx0bGV0IHNpZGViYXJfY29udHJvbCA9ICRpdGVtX2NvbnRhaW5lci5maW5kKCcuc2lkZWJhci1pdGVtLWNvbnRyb2wnKTtcblxuXHRcdHRoaXMuYWRkX3NpZGViYXJfYWN0aW9ucyhpdGVtLCBzaWRlYmFyX2NvbnRyb2wpO1xuXHRcdGxldCBwYWdlcyA9IGl0ZW0ucHVibGljID8gdGhpcy5wdWJsaWNfcGFnZXMgOiB0aGlzLnByaXZhdGVfcGFnZXM7XG5cblx0XHQvLyBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTVCNTBcdTdFQTdcdUZGMENcdTUyMjRcdTY1QURcdTVCNTBcdTdFQTdcdTkxQ0NcdTk3NjJcdTY3MDlcdTZDQTFcdTY3MDlcdTVGNTNcdTUyNERcdTk4NzVcdTk3NjJcdUZGMENcdTY3MDlcdTVGNTNcdTUyNERcdTk4NzVcdTk3NjJcdTVDMzFcdTRFMERcdThCQkVcdTdGNkVoaWRkZW5cdUZGMENcdTRFNUZcdTVDMzFcdTY2MkZcdTVDNTVcdTVGMDBcdTcyQjZcdTYwMDFcblx0XHRsZXQgZGVzY2VuZGFudD1bXTtcblx0XHRmdW5jdGlvbiBnZXREZXNjZW5kYW50KHBhZ2VzLCB0aXRsZSkge1xuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBwYWdlcy5maWx0ZXIocGFnZSA9PiBwYWdlLnBhcmVudF9wYWdlID09IHRpdGxlKTtcblx0XHRcdGRlc2NlbmRhbnQgPSBbLi4uZGVzY2VuZGFudCwgLi4uY2hpbGRyZW5dO1xuXHRcdFx0Zm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuXHRcdFx0XHRnZXREZXNjZW5kYW50KHBhZ2VzLCBjaGlsZC50aXRsZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGdldERlc2NlbmRhbnQocGFnZXMsIGl0ZW0udGl0bGUpO1xuXHRcdGNvbnN0IGlzQ3VycmVudFBhcmVudCA9IGRlc2NlbmRhbnQuc29tZShwYWdlPT5wYWdlLm5hbWU9PT0gdGhpcy5nZXRfcGFnZV90b19zaG93KCkubmFtZSYmXG5cdFx0XHRwYWdlLnB1YmxpYyA9PT0gdGhpcy5nZXRfcGFnZV90b19zaG93KCkucHVibGljKTtcblxuXHRcdGxldCBjaGlsZF9pdGVtcyA9IHBhZ2VzLmZpbHRlcihwYWdlID0+IHBhZ2UucGFyZW50X3BhZ2UgPT0gaXRlbS50aXRsZSk7XG5cdFx0aWYgKGNoaWxkX2l0ZW1zLmxlbmd0aCA+IDApIHtcblx0XHRcdGxldCBjaGlsZF9jb250YWluZXIgPSAkaXRlbV9jb250YWluZXIuZmluZCgnLnNpZGViYXItY2hpbGQtaXRlbScpO1xuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NjJGXHU0RTBEXHU2NjJGXHU1RjUzXHU1MjREXHU5ODc1XHU5NzYyXHU3Njg0XHU3OTU2XHU1MTQ4XHVGRjBDXHU2MjREXHU4QkJFXHU3RjZFXHU0RTBEXHU2NjNFXHU3OTNBXHU1QjUwXHU3RUE3XG5cdFx0XHRpZiAoIWlzQ3VycmVudFBhcmVudCkge1xuXHRcdFx0XHRjaGlsZF9jb250YWluZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wcmVwYXJlX3NpZGViYXIoY2hpbGRfaXRlbXMsIGNoaWxkX2NvbnRhaW5lciwgJGl0ZW1fY29udGFpbmVyKTtcblx0XHR9XG5cblx0XHQkaXRlbV9jb250YWluZXIuYXBwZW5kVG8oY29udGFpbmVyKTtcblx0XHR0aGlzLnNpZGViYXJfaXRlbXNbaXRlbS5wdWJsaWMgPyAncHVibGljJyA6ICdwcml2YXRlJ11baXRlbS50aXRsZV0gPSAkaXRlbV9jb250YWluZXI7XG5cdFx0Y29uc3QgcGFyZW50cyA9ICRpdGVtX2NvbnRhaW5lci5wYXJlbnRzKCk7XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NjJGXHU1RjUzXHU1MjREXHU5ODc1XHU5NzYyXHVGRjBDXHU2MjhBXHU1QjgzXHU3Njg0XHU3MjM2XHU3RUE3XHU5MEZEXHU2NjNFXHU3OTNBXHU1MUZBXHU2NzY1XG5cdFx0aWYgKGlzX2N1cnJlbnRfcGFnZSl7XG5cdFx0XHRwYXJlbnRzLmVhY2gocGFyZW50PT57XG5cdFx0XHRcdGlmICgkKHBhcmVudCkuaGFzQ2xhc3MoJ2hpZGRlbicpKSB7XG5cdFx0XHRcdFx0cGFyZW50LnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIGlmICgkaXRlbV9jb250YWluZXIucGFyZW50KCkuaGFzQ2xhc3MoXCJoaWRkZW5cIikgJiYgaXNfY3VycmVudF9wYWdlKSB7XG5cdFx0Ly8gXHQkaXRlbV9jb250YWluZXIucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdFx0Ly8gfVxuXG5cdFx0dGhpcy5hZGRfZHJvcF9pY29uKGl0ZW0sIHNpZGViYXJfY29udHJvbCwgJGl0ZW1fY29udGFpbmVyKTtcblxuXHRcdGlmIChjaGlsZF9pdGVtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHQkaXRlbV9jb250YWluZXIuZmluZCgnLmRyb3AtaWNvbicpLmZpcnN0KCkuYWRkQ2xhc3MoJ3Nob3ctaW4tZWRpdC1tb2RlJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBvcmdhbml6YXRpb24gfSA9IGl0ZW07XG5cdFx0aWYgKCF0aGlzLm9yZ2FuaXphdGlvbl9uYW1lKSB7IHJldHVybjsgfVxuXHRcdGlmICghb3JnYW5pemF0aW9uKXtcblx0XHRcdCRpdGVtX2NvbnRhaW5lci5oaWRlKCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm9yZ2FuaXphdGlvbl9uYW1lID09PSBvcmdhbml6YXRpb24pIHsgcmV0dXJuOyB9XG5cdFx0JGl0ZW1fY29udGFpbmVyLmhpZGUoKTtcblx0fVxuXG5cdGFkZF9kcm9wX2ljb24oaXRlbSwgc2lkZWJhcl9jb250cm9sLCBpdGVtX2NvbnRhaW5lcikge1xuXHRcdGxldCBkcm9wX2ljb24gPSAnc21hbGwtZG93bic7XG5cdFx0aWYgKGl0ZW1fY29udGFpbmVyLmZpbmQoYFtpdGVtLW5hbWU9XCIke3RoaXMuY3VycmVudF9wYWdlLm5hbWV9XCJdYCkubGVuZ3RoKSB7XG5cdFx0XHRkcm9wX2ljb24gPSAnc21hbGwtdXAnO1xuXHRcdH1cblx0XHQvLyBcdTRGRUVcdTY1MzlcdTZFOTBcdTc4MDFcdUZGMENcdThGRDlcdTkxQ0NcdTUzRUFcdTVDNTVcdTVGMDBcdTUyMzBcdTVCNTBcdTdFQTdcdUZGMENcdTgwMENcdTRFMERcdTY2MkZcdTY3RTVcdTYyN0VcdTYyNDBcdTY3MDlcdTU0MEVcdTRFRTNcblx0XHRsZXQgJGNoaWxkX2l0ZW1fc2VjdGlvbiA9IGl0ZW1fY29udGFpbmVyLmNoaWxkcmVuKCcuc2lkZWJhci1jaGlsZC1pdGVtJyk7XG5cdFx0bGV0ICRkcm9wX2ljb24gPSAkKFxuXHRcdFx0YDxzcGFuIGNsYXNzPVwiZHJvcC1pY29uIGhpZGRlblwiPiR7ZnJhcHBlLnV0aWxzLmljb24oZHJvcF9pY29uLCAnc20nKX08L3NwYW4+YCxcblx0XHQpLmFwcGVuZFRvKHNpZGViYXJfY29udHJvbCk7XG5cdFx0bGV0IHBhZ2VzID0gaXRlbS5wdWJsaWMgPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblx0XHRpZiAoXG5cdFx0XHRwYWdlcy5zb21lKFxuXHRcdFx0XHRlID0+IGUucGFyZW50X3BhZ2UgPT0gaXRlbS50aXRsZSAmJiAoZS5pc19oaWRkZW4gPT0gMCB8fCAhdGhpcy5pc19yZWFkX29ubHkpLFxuXHRcdFx0KVxuXHRcdCkge1xuXHRcdFx0JGRyb3BfaWNvbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0fVxuXHRcdCRkcm9wX2ljb24ub24oJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0bGV0IGljb24gPVxuXHRcdFx0XHQkZHJvcF9pY29uLmZpbmQoJ3VzZScpLmF0dHIoJ2hyZWYnKSA9PT0gJyNpY29uLXNtYWxsLWRvd24nXG5cdFx0XHRcdFx0PyAnI2ljb24tc21hbGwtdXAnXG5cdFx0XHRcdFx0OiAnI2ljb24tc21hbGwtZG93bic7XG5cdFx0XHQkZHJvcF9pY29uLmZpbmQoJ3VzZScpLmF0dHIoJ2hyZWYnLCBpY29uKTtcblx0XHRcdCRjaGlsZF9pdGVtX3NlY3Rpb24udG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH0pO1xuXHR9XG5cblx0c2hvdygpIHtcblx0XHRpZiAoIXRoaXMuYWxsX3BhZ2VzKSB7XG5cdFx0XHQvLyBwYWdlcyBub3QgeWV0IGxvYWRlZCwgY2FsbCBhZ2FpbiBhZnRlciBhIGJpdFxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB0aGlzLnNob3coKSwgMTAwKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgcGFnZSA9IHRoaXMuZ2V0X3BhZ2VfdG9fc2hvdygpO1xuXHRcdHRoaXMucGFnZS5zZXRfdGl0bGUoX18ocGFnZS5uYW1lKSk7XG5cblx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHRoaXMuY3VycmVudF9wYWdlLCBmYWxzZSk7IC8vcmVtb3ZlIHNlbGVjdGVkIGZyb20gb2xkIHBhZ2Vcblx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHBhZ2UsIHRydWUpOyAvL2FkZCBzZWxlY3RlZCBvbiBuZXcgcGFnZVxuXG5cdFx0dGhpcy5zaG93X3BhZ2UocGFnZSk7XG5cdH1cblxuXHR1cGRhdGVfc2VsZWN0ZWRfc2lkZWJhcihwYWdlLCBhZGQpIHtcblx0XHRsZXQgc2VjdGlvbiA9IHBhZ2UucHVibGljID8gJ3B1YmxpYycgOiAncHJpdmF0ZSc7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5zaWRlYmFyICYmXG5cdFx0XHR0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl0gJiZcblx0XHRcdHRoaXMuc2lkZWJhcl9pdGVtc1tzZWN0aW9uXVtwYWdlLm5hbWVdXG5cdFx0KSB7XG5cdFx0XHRsZXQgJHNpZGViYXIgPSB0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl1bcGFnZS5uYW1lXTtcblx0XHRcdGxldCBwYWdlcyA9IHBhZ2UucHVibGljID8gdGhpcy5wdWJsaWNfcGFnZXMgOiB0aGlzLnByaXZhdGVfcGFnZXM7XG5cdFx0XHRsZXQgc2lkZWJhcl9wYWdlID0gcGFnZXMuZmluZChwID0+IHAudGl0bGUgPT0gcGFnZS5uYW1lKTtcblxuXHRcdFx0aWYgKGFkZCkge1xuXHRcdFx0XHQkc2lkZWJhclswXS5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXHRcdFx0XHRpZiAoc2lkZWJhcl9wYWdlKSB7IHNpZGViYXJfcGFnZS5zZWxlY3RlZCA9IHRydWU7IH1cblxuXHRcdFx0XHQvLyBvcGVuIGNoaWxkIHNpZGViYXIgc2VjdGlvbiBpZiBjbG9zZWRcblx0XHRcdFx0JHNpZGViYXIucGFyZW50KCkuaGFzQ2xhc3MoJ3NpZGViYXItY2hpbGQtaXRlbScpICYmXG5cdFx0XHRcdFx0JHNpZGViYXIucGFyZW50KCkuaGFzQ2xhc3MoJ2hpZGRlbicpICYmXG5cdFx0XHRcdFx0JHNpZGViYXIucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG5cdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlID0geyBuYW1lOiBwYWdlLm5hbWUsIHB1YmxpYzogcGFnZS5wdWJsaWMgfTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlLmN1cnJlbnRfcGFnZSA9IHBhZ2UubmFtZTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlLmlzX2N1cnJlbnRfcGFnZV9wdWJsaWMgPSBwYWdlLnB1YmxpYztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRzaWRlYmFyWzBdLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cdFx0XHRcdGlmIChzaWRlYmFyX3BhZ2UpIHsgc2lkZWJhcl9wYWdlLnNlbGVjdGVkID0gZmFsc2U7IH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRnZXRfZGF0YShwYWdlKSB7XG5cdFx0cmV0dXJuIGZyYXBwZVxuXHRcdFx0LmNhbGwoJ2ZyYXBwZS5kZXNrLmRlc2t0b3AuZ2V0X2Rlc2t0b3BfcGFnZScsIHtcblx0XHRcdFx0cGFnZTogcGFnZSxcblx0XHRcdH0pXG5cdFx0XHQudGhlbihkYXRhID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlX2RhdGEgPSBkYXRhLm1lc3NhZ2U7XG5cblx0XHRcdFx0Ly8gY2FjaGluZyBwYWdlIGRhdGFcblx0XHRcdFx0dGhpcy5wYWdlc1twYWdlLm5hbWVdICYmIGRlbGV0ZSB0aGlzLnBhZ2VzW3BhZ2UubmFtZV07XG5cdFx0XHRcdHRoaXMucGFnZXNbcGFnZS5uYW1lXSA9IGRhdGEubWVzc2FnZTtcblxuXHRcdFx0XHRpZiAoIXRoaXMucGFnZV9kYXRhIHx8IE9iamVjdC5rZXlzKHRoaXMucGFnZV9kYXRhKS5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGlmICh0aGlzLnBhZ2VfZGF0YS5jaGFydHMgJiYgdGhpcy5wYWdlX2RhdGEuY2hhcnRzLml0ZW1zLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuXHRcdFx0XHRyZXR1cm4gZnJhcHBlLmRhc2hib2FyZF91dGlscy5nZXRfZGFzaGJvYXJkX3NldHRpbmdzKCkudGhlbihzZXR0aW5ncyA9PiB7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzKSB7XG5cdFx0XHRcdFx0XHRsZXQgY2hhcnRfY29uZmlnID0gc2V0dGluZ3MuY2hhcnRfY29uZmlnXG5cdFx0XHRcdFx0XHRcdD8gSlNPTi5wYXJzZShzZXR0aW5ncy5jaGFydF9jb25maWcpXG5cdFx0XHRcdFx0XHRcdDoge307XG5cdFx0XHRcdFx0XHR0aGlzLnBhZ2VfZGF0YS5jaGFydHMuaXRlbXMubWFwKGNoYXJ0ID0+IHtcblx0XHRcdFx0XHRcdFx0Y2hhcnQuY2hhcnRfc2V0dGluZ3MgPSBjaGFydF9jb25maWdbY2hhcnQuY2hhcnRfbmFtZV0gfHwge307XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRoaXMucGFnZXNbcGFnZS5uYW1lXSA9IHRoaXMucGFnZV9kYXRhO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdGdldF9wYWdlX3RvX3Nob3coKSB7XG5cdFx0bGV0IGRlZmF1bHRfcGFnZTtcblx0XHRjb25zdCBmaXJzdE9yZ2FuaXphdGlvblBhZ2UgPSB0aGlzLmFsbF9wYWdlcz8uZmluZChpdGVtPT5pdGVtLm9yZ2FuaXphdGlvbiA9PT0gdGhpcy5vcmdhbml6YXRpb25fbmFtZSk7XG5cdFx0Y29uc3QgZGVmYXVsdE9yZ2FuaXphdGlvblBhZ2UgPSB0aGlzLmFsbF9wYWdlcz8uZmluZChpdGVtPT5pdGVtLm9yZ2FuaXphdGlvbiA9PT0gdGhpcy5vcmdhbml6YXRpb25fbmFtZSYmaXRlbS5kZWZhdWx0PT09MSk7XG5cblx0XHRpZiAoZGVmYXVsdE9yZ2FuaXphdGlvblBhZ2UpIHtcblx0XHRcdGRlZmF1bHRfcGFnZSA9IHsgbmFtZTogZGVmYXVsdE9yZ2FuaXphdGlvblBhZ2UudGl0bGUsIHB1YmxpYzogZGVmYXVsdE9yZ2FuaXphdGlvblBhZ2UucHVibGljIH07XG5cdFx0fSBlbHNlIGlmIChmaXJzdE9yZ2FuaXphdGlvblBhZ2Upe1xuXHRcdFx0ZGVmYXVsdF9wYWdlID0geyBuYW1lOiBmaXJzdE9yZ2FuaXphdGlvblBhZ2UudGl0bGUsIHB1YmxpYzogZmlyc3RPcmdhbml6YXRpb25QYWdlLnB1YmxpYyB9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZWZhdWx0X3BhZ2UgPSB7IG5hbWU6ICdCdWlsZCcsIHB1YmxpYzogdHJ1ZSB9O1xuXHRcdH1cblxuXHRcdGxldCBwYWdlID0gdGhpcy5jdXJyZW50X3BhZ2UubmFtZSB8fFxuXHRcdFx0ZGVmYXVsdF9wYWdlLm5hbWU7XG5cdFx0bGV0IGlzX3B1YmxpYyA9IHRoaXMuY3VycmVudF9wYWdlLm5hbWU/IHRoaXMuY3VycmVudF9wYWdlLnB1YmxpYzogZGVmYXVsdF9wYWdlLnB1YmxpYztcblx0XHRyZXR1cm4geyBuYW1lOiBwYWdlLCBwdWJsaWM6IGlzX3B1YmxpYyB9O1xuXHR9XG5cblx0YXN5bmMgc2hvd19wYWdlKHBhZ2UpIHtcblx0XHRpZiAoIXRoaXMuYm9keS5maW5kKCcjZWRpdG9yanMnKVswXSkge1xuXHRcdFx0dGhpcy4kcGFnZSA9ICQoYFxuXHRcdFx0XHQ8ZGl2IGlkPVwiZWRpdG9yanNcIiBjbGFzcz1cImRlc2stcGFnZSBwYWdlLW1haW4tY29udGVudFwiPjwvZGl2PlxuXHRcdFx0YCkuYXBwZW5kVG8odGhpcy5ib2R5KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5hbGxfcGFnZXMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmNyZWF0ZV9wYWdlX3NrZWxldG9uKCk7XG5cblx0XHRcdGxldCBwYWdlcyA9XG5cdFx0XHRcdHBhZ2UucHVibGljICYmIHRoaXMucHVibGljX3BhZ2VzLmxlbmd0aCA/IHRoaXMucHVibGljX3BhZ2VzIDogdGhpcy5wcml2YXRlX3BhZ2VzO1xuXHRcdFx0bGV0IGN1cnJlbnRfcGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLnRpdGxlID09IHBhZ2UubmFtZSk7XG5cdFx0XHR0aGlzLmNvbnRlbnQgPSBjdXJyZW50X3BhZ2UgJiYgSlNPTi5wYXJzZShjdXJyZW50X3BhZ2UuY29udGVudCk7XG5cblx0XHRcdHRoaXMuY29udGVudCAmJiB0aGlzLmFkZF9jdXN0b21fY2FyZHNfaW5fY29udGVudCgpO1xuXG5cdFx0XHQkKCcuaXRlbS1hbmNob3InKS5hZGRDbGFzcygnZGlzYWJsZS1jbGljaycpO1xuXG5cdFx0XHRpZiAodGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzW2N1cnJlbnRfcGFnZS5uYW1lXSkge1xuXHRcdFx0XHR0aGlzLnBhZ2VfZGF0YSA9IHRoaXMucGFnZXNbY3VycmVudF9wYWdlLm5hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXdhaXQgZnJhcHBlLmFmdGVyX2FqYXgoKCkgPT4gdGhpcy5nZXRfZGF0YShjdXJyZW50X3BhZ2UpKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zZXR1cF9hY3Rpb25zKHBhZ2UpO1xuXG5cdFx0XHR0aGlzLnByZXBhcmVfZWRpdG9yanMoKTtcblx0XHRcdCQoJy5pdGVtLWFuY2hvcicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlLWNsaWNrJyk7XG5cblx0XHRcdHRoaXMucmVtb3ZlX3BhZ2Vfc2tlbGV0b24oKTtcblx0XHR9XG5cdH1cblxuXHRhZGRfY3VzdG9tX2NhcmRzX2luX2NvbnRlbnQoKSB7XG5cdFx0bGV0IGluZGV4ID0gLTE7XG5cdFx0dGhpcy5jb250ZW50LmZpbmQoKGl0ZW0sIGkpID0+IHtcblx0XHRcdGlmIChpdGVtLnR5cGUgPT0gJ2NhcmQnKSB7IGluZGV4ID0gaTsgfVxuXHRcdH0pO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHRoaXMuY29udGVudC5zcGxpY2UoaW5kZXggKyAxLCAwLCB7XG5cdFx0XHRcdHR5cGU6ICdjYXJkJyxcblx0XHRcdFx0ZGF0YTogeyBjYXJkX25hbWU6ICdDdXN0b20gRG9jdW1lbnRzJywgY29sOiA0IH0sXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuY29udGVudC5zcGxpY2UoaW5kZXggKyAyLCAwLCB7XG5cdFx0XHRcdHR5cGU6ICdjYXJkJyxcblx0XHRcdFx0ZGF0YTogeyBjYXJkX25hbWU6ICdDdXN0b20gUmVwb3J0cycsIGNvbDogNCB9LFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cHJlcGFyZV9lZGl0b3JqcygpIHtcblx0XHRpZiAodGhpcy5lZGl0b3IpIHtcblx0XHRcdHRoaXMuZWRpdG9yLmlzUmVhZHkudGhlbigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMuY2hhcnQuY29uZmlnLnBhZ2VfZGF0YSA9IHRoaXMucGFnZV9kYXRhO1xuXHRcdFx0XHR0aGlzLmVkaXRvci5jb25maWd1cmF0aW9uLnRvb2xzLnNob3J0Y3V0LmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi50b29scy5jYXJkLmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi50b29scy5vbmJvYXJkaW5nLmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi50b29scy5xdWlja19saXN0LmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi50b29scy5udW1iZXJfY2FyZC5jb25maWcucGFnZV9kYXRhID0gdGhpcy5wYWdlX2RhdGE7XG5cdFx0XHRcdHRoaXMuZWRpdG9yLmNvbmZpZ3VyYXRpb24udG9vbHMuY3VzdG9tX2Jsb2NrLmNvbmZpZy5wYWdlX2RhdGEgPSB0aGlzLnBhZ2VfZGF0YTtcblx0XHRcdFx0dGhpcy5lZGl0b3IucmVuZGVyKHsgYmxvY2tzOiB0aGlzLmNvbnRlbnQgfHwgW10gfSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5pbml0aWFsaXplX2VkaXRvcmpzKHRoaXMuY29udGVudCk7XG5cdFx0fVxuXHR9XG5cblx0c2V0dXBfYWN0aW9ucyhwYWdlKSB7XG5cdFx0bGV0IHBhZ2VzID0gcGFnZS5wdWJsaWMgPyB0aGlzLnB1YmxpY19wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYWdlcztcblx0XHRsZXQgY3VycmVudF9wYWdlID0gcGFnZXMuZmluZChwID0+IHAudGl0bGUgPT0gcGFnZS5uYW1lKTtcblxuXHRcdGlmICghdGhpcy5pc19yZWFkX29ubHkpIHtcblx0XHRcdHRoaXMuc2V0dXBfY3VzdG9taXphdGlvbl9idXR0b25zKGN1cnJlbnRfcGFnZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5jbGVhcl9wYWdlX2FjdGlvbnMoKTtcblxuXHRcdHRoaXMucGFnZS5zZXRfc2Vjb25kYXJ5X2FjdGlvbihfXygnRWRpdCcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIXRoaXMuZWRpdG9yIHx8ICF0aGlzLmVkaXRvci5yZWFkT25seSkgeyByZXR1cm47IH1cblx0XHRcdHRoaXMuaXNfcmVhZF9vbmx5ID0gZmFsc2U7XG5cdFx0XHR0aGlzLnRvZ2dsZV9oaWRkZW5fd29ya3NwYWNlcyh0cnVlKTtcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlYWRPbmx5LnRvZ2dsZSgpO1xuXHRcdFx0dGhpcy5lZGl0b3IuaXNSZWFkeS50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5pbml0aWFsaXplX2VkaXRvcmpzX3VuZG8oKTtcblx0XHRcdFx0dGhpcy5zZXR1cF9jdXN0b21pemF0aW9uX2J1dHRvbnMoY3VycmVudF9wYWdlKTtcblx0XHRcdFx0dGhpcy5zaG93X3NpZGViYXJfYWN0aW9ucygpO1xuXHRcdFx0XHR0aGlzLm1ha2VfYmxvY2tzX3NvcnRhYmxlKCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMucGFnZS5hZGRfaW5uZXJfYnV0dG9uKF9fKCdDcmVhdGUgV29ya3NwYWNlJyksICgpID0+IHtcblx0XHRcdHRoaXMuaW5pdGlhbGl6ZV9uZXdfcGFnZSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0aW5pdGlhbGl6ZV9lZGl0b3Jqc191bmRvKCkge1xuXHRcdHRoaXMudW5kbyA9IG5ldyBVbmRvKHsgZWRpdG9yOiB0aGlzLmVkaXRvciB9KTtcblx0XHR0aGlzLnVuZG8uaW5pdGlhbGl6ZSh7IGJsb2NrczogdGhpcy5jb250ZW50IHx8IFtdIH0pO1xuXHRcdHRoaXMudW5kby5yZWFkT25seSA9IGZhbHNlO1xuXHR9XG5cblx0Y2xlYXJfcGFnZV9hY3Rpb25zKCkge1xuXHRcdHRoaXMucGFnZS5jbGVhcl9wcmltYXJ5X2FjdGlvbigpO1xuXHRcdHRoaXMucGFnZS5jbGVhcl9zZWNvbmRhcnlfYWN0aW9uKCk7XG5cdFx0dGhpcy5wYWdlLmNsZWFyX2lubmVyX3Rvb2xiYXIoKTtcblx0fVxuXG5cdHNldHVwX2N1c3RvbWl6YXRpb25fYnV0dG9ucyhwYWdlKSB7XG5cdFx0dGhpcy5jbGVhcl9wYWdlX2FjdGlvbnMoKTtcblxuXHRcdHBhZ2UuaXNfZWRpdGFibGUgJiZcblx0XHRcdHRoaXMucGFnZS5zZXRfcHJpbWFyeV9hY3Rpb24oXG5cdFx0XHRcdF9fKCdTYXZlJyksXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNsZWFyX3BhZ2VfYWN0aW9ucygpO1xuXHRcdFx0XHRcdHRoaXMuc2F2ZV9wYWdlKHBhZ2UpLnRoZW4oc2F2ZWQgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKCFzYXZlZCkgeyByZXR1cm47IH1cblx0XHRcdFx0XHRcdHRoaXMudW5kby5yZWFkT25seSA9IHRydWU7XG5cdFx0XHRcdFx0XHR0aGlzLmVkaXRvci5yZWFkT25seS50b2dnbGUoKTtcblx0XHRcdFx0XHRcdHRoaXMuaXNfcmVhZF9vbmx5ID0gdHJ1ZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0X18oJ1NhdmluZycpLFxuXHRcdFx0KTtcblxuXHRcdHRoaXMucGFnZS5zZXRfc2Vjb25kYXJ5X2FjdGlvbihfXygnRGlzY2FyZCcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmRpc2NhcmQgPSB0cnVlO1xuXHRcdFx0dGhpcy5jbGVhcl9wYWdlX2FjdGlvbnMoKTtcblx0XHRcdHRoaXMudG9nZ2xlX2hpZGRlbl93b3Jrc3BhY2VzKGZhbHNlKTtcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlYWRPbmx5LnRvZ2dsZSgpO1xuXHRcdFx0dGhpcy5pc19yZWFkX29ubHkgPSB0cnVlO1xuXHRcdFx0dGhpcy5zaWRlYmFyX3BhZ2VzID0gdGhpcy5jYWNoZWRfcGFnZXM7XG5cdFx0XHR0aGlzLnJlbG9hZCgpO1xuXHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoeyBtZXNzYWdlOiBfXygnQ3VzdG9taXphdGlvbnMgRGlzY2FyZGVkJyksIGluZGljYXRvcjogJ2luZm8nIH0pO1xuXHRcdH0pO1xuXG5cdFx0aWYgKHBhZ2UubmFtZSAmJiB0aGlzLmhhc19hY2Nlc3MpIHtcblx0XHRcdHRoaXMucGFnZS5hZGRfaW5uZXJfYnV0dG9uKF9fKCdTZXR0aW5ncycpLCAoKSA9PiB7XG5cdFx0XHRcdGZyYXBwZS5zZXRfcm91dGUoYHdvcmtzcGFjZS8ke3BhZ2UubmFtZX1gKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHRvZ2dsZV9oaWRkZW5fd29ya3NwYWNlcyhzaG93KSB7XG5cdFx0JCgnLmRlc2stc2lkZWJhcicpLnRvZ2dsZUNsYXNzKCdzaG93LWhpZGRlbi13b3Jrc3BhY2VzJywgc2hvdyk7XG5cdH1cblxuXHRzaG93X3NpZGViYXJfYWN0aW9ucygpIHtcblx0XHR0aGlzLnNpZGViYXIuZmluZCgnLnN0YW5kYXJkLXNpZGViYXItc2VjdGlvbicpLmFkZENsYXNzKCdzaG93LWNvbnRyb2wnKTtcblx0XHR0aGlzLm1ha2Vfc2lkZWJhcl9zb3J0YWJsZSgpO1xuXHR9XG5cblx0YWRkX3NpZGViYXJfYWN0aW9ucyhpdGVtLCBzaWRlYmFyX2NvbnRyb2wsIGlzX25ldykge1xuXHRcdGlmICghaXRlbS5pc19lZGl0YWJsZSkge1xuXHRcdFx0c2lkZWJhcl9jb250cm9sLnBhcmVudCgpLmNsaWNrKCgpID0+IHtcblx0XHRcdFx0IXRoaXMuaXNfcmVhZF9vbmx5ICYmXG5cdFx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IF9fKCdPbmx5IFdvcmtzcGFjZSBNYW5hZ2VyIGNhbiBzb3J0IG9yIGVkaXQgdGhpcyBwYWdlJyksXG5cdFx0XHRcdFx0XHRcdGluZGljYXRvcjogJ2luZm8nLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDUsXG5cdFx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmcmFwcGUudXRpbHMuYWRkX2N1c3RvbV9idXR0b24oXG5cdFx0XHRcdGZyYXBwZS51dGlscy5pY29uKCdkdXBsaWNhdGUnLCAnc20nKSxcblx0XHRcdFx0KCkgPT4gdGhpcy5kdXBsaWNhdGVfcGFnZShpdGVtKSxcblx0XHRcdFx0J2R1cGxpY2F0ZS1wYWdlJyxcblx0XHRcdFx0X18oJ0R1cGxpY2F0ZSBXb3Jrc3BhY2UnKSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0c2lkZWJhcl9jb250cm9sLFxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGl0ZW0uaXNfaGlkZGVuKSB7XG5cdFx0XHRmcmFwcGUudXRpbHMuYWRkX2N1c3RvbV9idXR0b24oXG5cdFx0XHRcdGZyYXBwZS51dGlscy5pY29uKCd1bmhpZGUnLCAnc20nKSxcblx0XHRcdFx0ZSA9PiB0aGlzLnVuaGlkZV93b3Jrc3BhY2UoaXRlbSwgZSksXG5cdFx0XHRcdCd1bmhpZGUtd29ya3NwYWNlLWJ0bicsXG5cdFx0XHRcdF9fKCdVbmhpZGUgV29ya3NwYWNlJyksXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHNpZGViYXJfY29udHJvbCxcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYXBwZS51dGlscy5hZGRfY3VzdG9tX2J1dHRvbihcblx0XHRcdFx0ZnJhcHBlLnV0aWxzLmljb24oJ2RyYWcnLCAneHMnKSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0J2RyYWctaGFuZGxlJyxcblx0XHRcdFx0X18oJ0RyYWcnKSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0c2lkZWJhcl9jb250cm9sLFxuXHRcdFx0KTtcblxuXHRcdFx0IWlzX25ldyAmJiB0aGlzLmFkZF9zZXR0aW5nc19idXR0b24oaXRlbSwgc2lkZWJhcl9jb250cm9sKTtcblx0XHR9XG5cdH1cblxuXHRnZXRfcGFyZW50X3BhZ2VzKHBhZ2UpIHtcblx0XHR0aGlzLnB1YmxpY19wYXJlbnRfcGFnZXMgPSBbXG5cdFx0XHQnJyxcblx0XHRcdC4uLnRoaXMucHVibGljX3BhZ2VzLmZpbHRlcihwID0+IHAub3JnYW5pemF0aW9uPT09dGhpcy5vcmdhbml6YXRpb25fbmFtZSkubWFwKHAgPT4gcC50aXRsZSksXG5cdFx0XTtcblx0XHR0aGlzLnByaXZhdGVfcGFyZW50X3BhZ2VzID0gW1xuXHRcdFx0JycsXG5cdFx0XHQuLi50aGlzLnByaXZhdGVfcGFnZXMuZmlsdGVyKHAgPT4gcC5vcmdhbml6YXRpb249PT10aGlzLm9yZ2FuaXphdGlvbl9uYW1lKS5tYXAocCA9PiBwLnRpdGxlKSxcblx0XHRdO1xuXG5cdFx0aWYgKHBhZ2UpIHtcblx0XHRcdHJldHVybiBwYWdlLnB1YmxpYyA/IHRoaXMucHVibGljX3BhcmVudF9wYWdlcyA6IHRoaXMucHJpdmF0ZV9wYXJlbnRfcGFnZXM7XG5cdFx0fVxuXHR9XG5cblx0ZWRpdF9wYWdlKGl0ZW0pIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGxldCBvbGRfaXRlbSA9IGl0ZW07XG5cdFx0bGV0IHBhcmVudF9wYWdlcyA9IHRoaXMuZ2V0X3BhcmVudF9wYWdlcyhpdGVtKTtcblx0XHRsZXQgaWR4ID0gcGFyZW50X3BhZ2VzLmZpbmRJbmRleCh4ID0+IHggPT0gaXRlbS50aXRsZSk7XG5cdFx0aWYgKGlkeCAhPT0gLTEpIHsgcGFyZW50X3BhZ2VzLnNwbGljZShpZHgsIDEpOyB9XG5cdFx0Y29uc3QgdGl0bGUgPSBpdGVtLnRpdGxlLnJlcGxhY2VBbGwoL3t7KFtefV0rKX19L2csICcnKTtcblx0XHRjb25zdCByZXMgPSBpdGVtLnRpdGxlLm1hdGNoKC97eyhbXn1dKyl9fS8pO1xuXHRcdGNvbnN0IHN1ZmZpeCA9IHJlcz8uWzFdIHx8ICcnO1xuXHRcdGNvbnN0IGQgPSBuZXcgZnJhcHBlLnVpLkRpYWxvZyh7XG5cdFx0XHR0aXRsZTogX18oJ1VwZGF0ZSBEZXRhaWxzJyksXG5cdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnVGl0bGUnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdEYXRhJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICd0aXRsZScsXG5cdFx0XHRcdFx0cmVxZDogMSxcblx0XHRcdFx0XHRkZWZhdWx0OiB0aXRsZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnU3VmZml4JyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnRGF0YScsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAnc3VmZml4Jyxcblx0XHRcdFx0XHRkZWZhdWx0OiBzdWZmaXgsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1BhcmVudCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ1NlbGVjdCcsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAncGFyZW50Jyxcblx0XHRcdFx0XHRvcHRpb25zOiBwYXJlbnRfcGFnZXMsXG5cdFx0XHRcdFx0ZGVmYXVsdDogaXRlbS5wYXJlbnRfcGFnZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnRGVmYXVsdCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0NoZWNrJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdkZWZhdWx0Jyxcblx0XHRcdFx0XHRkZWZhdWx0Oml0ZW0uZGVmYXVsdCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0NvbHVtbiBCcmVhaycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ0ljb24nKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdJY29uJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdpY29uJyxcblx0XHRcdFx0XHRkZWZhdWx0OiBpdGVtLmljb24sXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKCdVcGRhdGUnKSxcblx0XHRcdHByaW1hcnlfYWN0aW9uOiB2YWx1ZXMgPT4ge1xuXHRcdFx0XHR2YWx1ZXMudGl0bGUgPSBmcmFwcGUudXRpbHMuZXNjYXBlX2h0bWwoYCR7dmFsdWVzLnRpdGxlfSR7dmFsdWVzLnN1ZmZpeCA/IGB7eyR7dmFsdWVzLnN1ZmZpeH19fWAgOiAnJ31gKTtcblx0XHRcdFx0dmFsdWVzLmlzX3B1YmxpYyA9IDE7XG5cdFx0XHRcdGxldCBpc190aXRsZV9jaGFuZ2VkID0gdmFsdWVzLnRpdGxlICE9IG9sZF9pdGVtLnRpdGxlO1xuXHRcdFx0XHRsZXQgaXNfc2VjdGlvbl9jaGFuZ2VkID0gdmFsdWVzLmlzX3B1YmxpYyAhPSBvbGRfaXRlbS5wdWJsaWM7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQoaXNfdGl0bGVfY2hhbmdlZCB8fCBpc19zZWN0aW9uX2NoYW5nZWQpICYmXG5cdFx0XHRcdFx0IXRoaXMudmFsaWRhdGVfcGFnZSh2YWx1ZXMsIG9sZF9pdGVtKVxuXHRcdFx0XHQpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZG9jdHlwZS53b3Jrc3BhY2Uud29ya3NwYWNlLnVwZGF0ZV9wYWdlJyxcblx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiBvbGRfaXRlbS5uYW1lLFxuXHRcdFx0XHRcdFx0dGl0bGU6IHZhbHVlcy50aXRsZSxcblx0XHRcdFx0XHRcdGljb246IHZhbHVlcy5pY29uIHx8ICcnLFxuXHRcdFx0XHRcdFx0cGFyZW50OiB2YWx1ZXMucGFyZW50IHx8ICcnLFxuXHRcdFx0XHRcdFx0cHVibGljOiB2YWx1ZXMuaXNfcHVibGljIHx8IDAsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjYWxsYmFjayhyZXMpIHtcblx0XHRcdFx0XHRcdGlmIChyZXMubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0XHRcdFx0bWV0aG9kOiAndGlhbmp5X29yZ2FuaXphdGlvbi50aWFuanlfb3JnYW5pemF0aW9uLnBhZ2UudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcudGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcuc2V0X29yZ2FuaXphdGlvbl93b3Jrc3BhY2UnLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHdvcmtzcGFjZV9uYW1lOiByZXMubWVzc2FnZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3JnYW5pemF0aW9uX25hbWU6IG1lLm9yZ2FuaXphdGlvbl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogdmFsdWVzLmRlZmF1bHQsXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGxldCBtZXNzYWdlID0gX18oJ1dvcmtzcGFjZSB7MH0gRWRpdGVkIFN1Y2Nlc3NmdWxseScsIFtcblx0XHRcdFx0XHRcdFx0XHRvbGRfaXRlbS50aXRsZS5ib2xkKCksXG5cdFx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdFx0XHRmcmFwcGUuc2hvd19hbGVydCh7IG1lc3NhZ2UsIGluZGljYXRvcjogJ2dyZWVuJyB9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLnVwZGF0ZV9zaWRlYmFyKG9sZF9pdGVtLCB2YWx1ZXMpO1xuXG5cdFx0XHRcdGlmICh0aGlzLm1ha2VfcGFnZV9zZWxlY3RlZCkge1xuXHRcdFx0XHRcdHRoaXMudXBkYXRlX3NlbGVjdGVkX3NpZGViYXIodGhpcy5jdXJyZW50X3BhZ2UsIGZhbHNlKTtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZT17XG5cdFx0XHRcdFx0XHRuYW1lOiB2YWx1ZXMudGl0bGUsXG5cdFx0XHRcdFx0XHRwdWJsaWM6IHZhbHVlcy5pc19wdWJsaWMsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR0aGlzLnNob3coKTtcblx0XHRcdFx0XHR0aGlzLm1ha2VfcGFnZV9zZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5tYWtlX3NpZGViYXIoKTtcblx0XHRcdFx0dGhpcy5zaG93X3NpZGViYXJfYWN0aW9ucygpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHRkLnNob3coKTtcblx0fVxuXG5cdHVwZGF0ZV9zaWRlYmFyKG9sZF9pdGVtLCBuZXdfaXRlbSkge1xuXHRcdGxldCBpc19zZWN0aW9uX2NoYW5nZWQgPSBvbGRfaXRlbS5wdWJsaWMgIT0gKG5ld19pdGVtLmlzX3B1YmxpYyB8fCAwKTtcblx0XHRsZXQgaXNfdGl0bGVfY2hhbmdlZCA9IG9sZF9pdGVtLnRpdGxlICE9IG5ld19pdGVtLnRpdGxlO1xuXHRcdGxldCBuZXdfdXBkYXRlZF9pdGVtID0geyAuLi5vbGRfaXRlbSB9O1xuXG5cdFx0bGV0IHBhZ2VzID0gb2xkX2l0ZW0ucHVibGljID8gdGhpcy5wdWJsaWNfcGFnZXMgOiB0aGlzLnByaXZhdGVfcGFnZXM7XG5cblx0XHRsZXQgY2hpbGRfaXRlbXMgPSBwYWdlcy5maWx0ZXIocGFnZSA9PiBwYWdlLnBhcmVudF9wYWdlID09IG9sZF9pdGVtLnRpdGxlKTtcblxuXHRcdHRoaXMubWFrZV9wYWdlX3NlbGVjdGVkID0gb2xkX2l0ZW0uc2VsZWN0ZWQ7XG5cblx0XHRuZXdfdXBkYXRlZF9pdGVtLnRpdGxlID0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0bmV3X3VwZGF0ZWRfaXRlbS5pY29uID0gbmV3X2l0ZW0uaWNvbjtcblx0XHRuZXdfdXBkYXRlZF9pdGVtLnBhcmVudF9wYWdlID0gbmV3X2l0ZW0ucGFyZW50IHx8ICcnO1xuXHRcdG5ld191cGRhdGVkX2l0ZW0ucHVibGljID0gbmV3X2l0ZW0uaXNfcHVibGljO1xuXG5cdFx0aWYgKGlzX3RpdGxlX2NoYW5nZWQgfHwgaXNfc2VjdGlvbl9jaGFuZ2VkKSB7XG5cdFx0XHRpZiAobmV3X2l0ZW0uaXNfcHVibGljKSB7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0ubmFtZSA9IG5ld19pdGVtLnRpdGxlO1xuXHRcdFx0XHRuZXdfdXBkYXRlZF9pdGVtLmxhYmVsID0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0XHRcdG5ld191cGRhdGVkX2l0ZW0uZm9yX3VzZXIgPSAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxldCB7dXNlcn0gPSBmcmFwcGUuc2Vzc2lvbjtcblx0XHRcdFx0bmV3X3VwZGF0ZWRfaXRlbS5uYW1lID0gYCR7bmV3X2l0ZW0udGl0bGV9LSR7dXNlcn1gO1xuXHRcdFx0XHRuZXdfdXBkYXRlZF9pdGVtLmxhYmVsID0gYCR7bmV3X2l0ZW0udGl0bGV9LSR7dXNlcn1gO1xuXHRcdFx0XHRuZXdfdXBkYXRlZF9pdGVtLmZvcl91c2VyID0gdXNlcjtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy51cGRhdGVfY2FjaGVkX3ZhbHVlcyhvbGRfaXRlbSwgbmV3X3VwZGF0ZWRfaXRlbSk7XG5cblx0XHRpZiAoY2hpbGRfaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkX2l0ZW1zKSB7XG5cdFx0XHRcdGNoaWxkLnBhcmVudF9wYWdlID0gbmV3X2l0ZW0udGl0bGU7XG5cdFx0XHRcdGlzX3NlY3Rpb25fY2hhbmdlZCAmJiB0aGlzLnVwZGF0ZV9jaGlsZF9zaWRlYmFyKGNoaWxkLCBuZXdfaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlX2NoaWxkX3NpZGViYXIoY2hpbGQsIG5ld19pdGVtKSB7XG5cdFx0bGV0IG9sZF9jaGlsZCA9IHsgLi4uY2hpbGQgfTtcblx0XHR0aGlzLm1ha2VfcGFnZV9zZWxlY3RlZCA9IGNoaWxkLnNlbGVjdGVkO1xuXG5cdFx0Y2hpbGQucHVibGljID0gbmV3X2l0ZW0uaXNfcHVibGljO1xuXHRcdGlmIChuZXdfaXRlbS5pc19wdWJsaWMpIHtcblx0XHRcdGNoaWxkLm5hbWUgPSBjaGlsZC50aXRsZTtcblx0XHRcdGNoaWxkLmxhYmVsID0gY2hpbGQudGl0bGU7XG5cdFx0XHRjaGlsZC5mb3JfdXNlciA9ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQge3VzZXJ9ID0gZnJhcHBlLnNlc3Npb247XG5cdFx0XHRjaGlsZC5uYW1lID0gYCR7Y2hpbGQudGl0bGV9LSR7dXNlcn1gO1xuXHRcdFx0Y2hpbGQubGFiZWwgPSBgJHtjaGlsZC50aXRsZX0tJHt1c2VyfWA7XG5cdFx0XHRjaGlsZC5mb3JfdXNlciA9IHVzZXI7XG5cdFx0fVxuXG5cdFx0dGhpcy51cGRhdGVfY2FjaGVkX3ZhbHVlcyhvbGRfY2hpbGQsIGNoaWxkKTtcblx0fVxuXG5cdHVwZGF0ZV9jYWNoZWRfdmFsdWVzKG9sZF9pdGVtLCBuZXdfaXRlbSwgZHVwbGljYXRlLCBuZXdfcGFnZSkge1xuXHRcdGxldCBbZnJvbV9wYWdlcywgdG9fcGFnZXNdID0gb2xkX2l0ZW0ucHVibGljXG5cdFx0XHQ/IFt0aGlzLnB1YmxpY19wYWdlcywgdGhpcy5wcml2YXRlX3BhZ2VzXVxuXHRcdFx0OiBbdGhpcy5wcml2YXRlX3BhZ2VzLCB0aGlzLnB1YmxpY19wYWdlc107XG5cblx0XHRsZXQgb2xkX2l0ZW1faW5kZXggPSBmcm9tX3BhZ2VzLmZpbmRJbmRleChwYWdlID0+IHBhZ2UudGl0bGUgPT0gb2xkX2l0ZW0udGl0bGUpO1xuXHRcdGR1cGxpY2F0ZSAmJiBvbGRfaXRlbV9pbmRleCsrO1xuXG5cdFx0Ly8gdXBkYXRlIGZyYXBwZS53b3Jrc3BhY2VzXG5cdFx0aWYgKGZyYXBwZS53b3Jrc3BhY2VzW2ZyYXBwZS5yb3V0ZXIuc2x1ZyhvbGRfaXRlbS5uYW1lKV0gfHwgbmV3X3BhZ2UpIHtcblx0XHRcdCFkdXBsaWNhdGUgJiYgZGVsZXRlIGZyYXBwZS53b3Jrc3BhY2VzW2ZyYXBwZS5yb3V0ZXIuc2x1ZyhvbGRfaXRlbS5uYW1lKV07XG5cdFx0XHRpZiAobmV3X2l0ZW0pIHtcblx0XHRcdFx0ZnJhcHBlLndvcmtzcGFjZXNbZnJhcHBlLnJvdXRlci5zbHVnKG5ld19pdGVtLm5hbWUpXSA9IHsgdGl0bGU6IG5ld19pdGVtLnRpdGxlIH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdXBkYXRlIHBhZ2UgYmxvY2sgZGF0YVxuXHRcdGlmICgodGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzW29sZF9pdGVtLm5hbWVdKSB8fCBuZXdfcGFnZSkge1xuXHRcdFx0aWYgKG5ld19pdGVtKSB7XG5cdFx0XHRcdHRoaXMucGFnZXNbbmV3X2l0ZW0ubmFtZV0gPSB0aGlzLnBhZ2VzW29sZF9pdGVtLm5hbWVdIHx8IHt9O1xuXHRcdFx0fVxuXHRcdFx0IWR1cGxpY2F0ZSAmJiBkZWxldGUgdGhpcy5wYWdlc1tvbGRfaXRlbS5uYW1lXTtcblx0XHR9XG5cblx0XHQvLyB1cGRhdGUgcHVibGljIGFuZCBwcml2YXRlIHBhZ2VzXG5cdFx0aWYgKG5ld19pdGVtKSB7XG5cdFx0XHRsZXQgaXNfc2VjdGlvbl9jaGFuZ2VkID1cblx0XHRcdFx0b2xkX2l0ZW0ucHVibGljICE9IChuZXdfaXRlbS5pc19wdWJsaWMgfHwgbmV3X2l0ZW0ucHVibGljIHx8IDApO1xuXG5cdFx0XHRpZiAoaXNfc2VjdGlvbl9jaGFuZ2VkKSB7XG5cdFx0XHRcdCFkdXBsaWNhdGUgJiYgZnJvbV9wYWdlcy5zcGxpY2Uob2xkX2l0ZW1faW5kZXgsIDEpO1xuXHRcdFx0XHR0b19wYWdlcy5wdXNoKG5ld19pdGVtKTtcblx0XHRcdH0gZWxzZSBpZiAobmV3X3BhZ2UpIHtcblx0XHRcdFx0ZnJvbV9wYWdlcy5wdXNoKG5ld19pdGVtKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZyb21fcGFnZXMuc3BsaWNlKG9sZF9pdGVtX2luZGV4LCBkdXBsaWNhdGUgPyAwIDogMSwgbmV3X2l0ZW0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmcm9tX3BhZ2VzLnNwbGljZShvbGRfaXRlbV9pbmRleCwgMSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zaWRlYmFyX3BhZ2VzLnBhZ2VzID0gWy4uLnRoaXMucHVibGljX3BhZ2VzLCAuLi50aGlzLnByaXZhdGVfcGFnZXNdO1xuXHRcdHRoaXMuY2FjaGVkX3BhZ2VzID0gdGhpcy5zaWRlYmFyX3BhZ2VzO1xuXHR9XG5cblx0YWRkX3NldHRpbmdzX2J1dHRvbihpdGVtLCBzaWRlYmFyX2NvbnRyb2wpIHtcblx0XHR0aGlzLmRyb3Bkb3duX2xpc3QgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiBfXygnRWRpdCcpLFxuXHRcdFx0XHR0aXRsZTogX18oJ0VkaXQgV29ya3NwYWNlJyksXG5cdFx0XHRcdGljb246IGZyYXBwZS51dGlscy5pY29uKCdlZGl0JywgJ3NtJyksXG5cdFx0XHRcdGFjdGlvbjogKCkgPT4gdGhpcy5lZGl0X3BhZ2UoaXRlbSksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogX18oJ0R1cGxpY2F0ZScpLFxuXHRcdFx0XHR0aXRsZTogX18oJ0R1cGxpY2F0ZSBXb3Jrc3BhY2UnKSxcblx0XHRcdFx0aWNvbjogZnJhcHBlLnV0aWxzLmljb24oJ2R1cGxpY2F0ZScsICdzbScpLFxuXHRcdFx0XHRhY3Rpb246ICgpID0+IHRoaXMuZHVwbGljYXRlX3BhZ2UoaXRlbSksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogX18oJ0hpZGUnKSxcblx0XHRcdFx0dGl0bGU6IF9fKCdIaWRlIFdvcmtzcGFjZScpLFxuXHRcdFx0XHRpY29uOiBmcmFwcGUudXRpbHMuaWNvbignaGlkZScsICdzbScpLFxuXHRcdFx0XHRhY3Rpb246IGUgPT4gdGhpcy5oaWRlX3dvcmtzcGFjZShpdGVtLCBlKSxcblx0XHRcdH0sXG5cdFx0XTtcblxuXHRcdGlmICh0aGlzLmlzX2l0ZW1fZGVsZXRhYmxlKGl0ZW0pKSB7XG5cdFx0XHR0aGlzLmRyb3Bkb3duX2xpc3QucHVzaCh7XG5cdFx0XHRcdGxhYmVsOiBfXygnRGVsZXRlJyksXG5cdFx0XHRcdHRpdGxlOiBfXygnRGVsZXRlIFdvcmtzcGFjZScpLFxuXHRcdFx0XHRpY29uOiBmcmFwcGUudXRpbHMuaWNvbignZGVsZXRlLWFjdGl2ZScsICdzbScpLFxuXHRcdFx0XHRhY3Rpb246ICgpID0+IHRoaXMuZGVsZXRlX3BhZ2UoaXRlbSksXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRsZXQgJGJ1dHRvbiA9ICQoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi14cyBzZXR0aW5nLWJ0biBkcm9wZG93bi1idG5cIiB0aXRsZT1cIiR7X18oJ1NldHRpbmcnKX1cIj5cblx0XHRcdFx0JHtmcmFwcGUudXRpbHMuaWNvbignZG90LWhvcml6b250YWwnLCAneHMnKX1cblx0XHRcdDwvZGl2PlxuXHRcdFx0PGRpdiBjbGFzcz1cImRyb3Bkb3duLWxpc3QgaGlkZGVuXCI+PC9kaXY+XG5cdFx0YCk7XG5cblx0XHRsZXQgZHJvcGRvd25faXRlbSA9IGZ1bmN0aW9uIChsYWJlbCwgdGl0bGUsIGljb24sIGFjdGlvbikge1xuXHRcdFx0bGV0IGh0bWwgPSAkKGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiB0aXRsZT1cIiR7dGl0bGV9XCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkcm9wZG93bi1pdGVtLWljb25cIj4ke2ljb259PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZHJvcGRvd24taXRlbS1sYWJlbFwiPiR7bGFiZWx9PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGApO1xuXG5cdFx0XHRodG1sLmNsaWNrKGV2ZW50ID0+IHtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdGFjdGlvbiAmJiBhY3Rpb24oZXZlbnQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBodG1sO1xuXHRcdH07XG5cblx0XHQkYnV0dG9uLmZpbHRlcignLmRyb3Bkb3duLWJ0bicpLmNsaWNrKGV2ZW50ID0+IHtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0aWYgKCRidXR0b24uZmlsdGVyKCcuZHJvcGRvd24tbGlzdC5oaWRkZW4nKS5sZW5ndGgpIHtcblx0XHRcdFx0JCgnLmRyb3Bkb3duLWxpc3Q6bm90KC5oaWRkZW4pJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0fVxuXHRcdFx0JGJ1dHRvbi5maWx0ZXIoJy5kcm9wZG93bi1saXN0JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH0pO1xuXG5cdFx0c2lkZWJhcl9jb250cm9sLmFwcGVuZCgkYnV0dG9uKTtcblxuXHRcdGZvciAoY29uc3QgaSBvZiB0aGlzLmRyb3Bkb3duX2xpc3QpIHtcblx0XHRcdCRidXR0b25cblx0XHRcdFx0LmZpbHRlcignLmRyb3Bkb3duLWxpc3QnKVxuXHRcdFx0XHQuYXBwZW5kKGRyb3Bkb3duX2l0ZW0oaS5sYWJlbCwgaS50aXRsZSwgaS5pY29uLCBpLmFjdGlvbikpO1xuXHRcdH1cblx0fVxuXG5cdGlzX2l0ZW1fZGVsZXRhYmxlKGl0ZW0pIHtcblx0XHQvLyBpZiBpdGVtIGlzIHByaXZhdGVcblx0XHQvLyBpZiBpdGVtIGlzIHB1YmxpYyBidXQgZG9lc24ndCBoYXZlIG1vZHVsZSBzZXRcblx0XHQvLyBpZiBpdGVtIGlzIHB1YmxpYyBhbmQgaGFzIG1vZHVsZSBzZXQgYnV0IGRldmVsb3BlciBtb2RlIGlzIG9uXG5cdFx0Ly8gdGhlbiBpdGVtIGlzIGRlbGV0YWJsZVxuXHRcdGlmIChcblx0XHRcdCFpdGVtLnB1YmxpYyB8fFxuXHRcdFx0KGl0ZW0ucHVibGljICYmICghaXRlbS5tb2R1bGUgfHwgKGl0ZW0ubW9kdWxlICYmIGZyYXBwZS5ib290LmRldmVsb3Blcl9tb2RlKSkpXG5cdFx0KVxuXHRcdHsgcmV0dXJuIHRydWU7IH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRkZWxldGVfcGFnZShwYWdlKSB7XG5cdFx0ZnJhcHBlLmNvbmZpcm0oXG5cdFx0XHRfXygnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBwYWdlIHswfT8nLCBbcGFnZS50aXRsZS5ib2xkKCldKSxcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLmRlbGV0ZV9wYWdlJyxcblx0XHRcdFx0XHRhcmdzOiB7IHBhZ2U6IHBhZ2UgfSxcblx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cblx0XHRcdFx0XHRcdFx0bGV0IHBhZ2UgPSByZXMubWVzc2FnZTtcblx0XHRcdFx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBfXygnV29ya3NwYWNlIHswfSBEZWxldGVkIFN1Y2Nlc3NmdWxseScsIFtcblx0XHRcdFx0XHRcdFx0XHRwYWdlLnRpdGxlLmJvbGQoKSxcblx0XHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHsgbWVzc2FnZTogbWVzc2FnZSwgaW5kaWNhdG9yOiAnZ3JlZW4nIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMucGFnZS5jbGVhcl9wcmltYXJ5X2FjdGlvbigpO1xuXHRcdFx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKHBhZ2UpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZS5uYW1lID09IHBhZ2UudGl0bGUgJiZcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfcGFnZS5wdWJsaWMgPT0gcGFnZS5wdWJsaWNcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy51cGRhdGVfc2VsZWN0ZWRfc2lkZWJhcih0aGlzLmN1cnJlbnRfcGFnZSwgZmFsc2UpO1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlID0ge307XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50X3BhZ2UgPSB0aGlzLmdldF9wYWdlX3RvX3Nob3coKTtcblx0XHRcdFx0XHR0aGlzLnNob3coKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubWFrZV9zaWRlYmFyKCk7XG5cdFx0XHRcdHRoaXMuc2hvd19zaWRlYmFyX2FjdGlvbnMoKTtcblx0XHRcdH0sXG5cdFx0KTtcblx0fVxuXG5cdGR1cGxpY2F0ZV9wYWdlKHBhZ2UpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdGxldCBuZXdfcGFnZSA9IHsgLi4ucGFnZSB9O1xuXHRcdGlmICghdGhpcy5oYXNfYWNjZXNzICYmIG5ld19wYWdlLnB1YmxpYykge1xuXHRcdFx0bmV3X3BhZ2UucHVibGljID0gMDtcblx0XHR9XG5cdFx0bGV0IHBhcmVudF9wYWdlcyA9IHRoaXMuZ2V0X3BhcmVudF9wYWdlcyh7IHB1YmxpYzogbmV3X3BhZ2UucHVibGljIH0pO1xuXHRcdGNvbnN0IGQgPSBuZXcgZnJhcHBlLnVpLkRpYWxvZyh7XG5cdFx0XHR0aXRsZTogX18oJ0NyZWF0ZSBEdXBsaWNhdGUnKSxcblx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdUaXRsZScpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0RhdGEnLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ3RpdGxlJyxcblx0XHRcdFx0XHRyZXFkOiAxLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdTdWZmaXgnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdEYXRhJyxcblx0XHRcdFx0XHRmaWVsZG5hbWU6ICdzdWZmaXgnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdQYXJlbnQnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdTZWxlY3QnLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ3BhcmVudCcsXG5cdFx0XHRcdFx0b3B0aW9uczogcGFyZW50X3BhZ2VzLFxuXHRcdFx0XHRcdGRlZmF1bHQ6IG5ld19wYWdlLnBhcmVudF9wYWdlLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdEZWZhdWx0JyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnQ2hlY2snLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ2RlZmF1bHQnLFxuXHRcdFx0XHRcdGRlZmF1bHQ6aXRlbS5kZWZhdWx0LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnQ29sdW1uIEJyZWFrJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBfXygnSWNvbicpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0ljb24nLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ2ljb24nLFxuXHRcdFx0XHRcdGRlZmF1bHQ6IG5ld19wYWdlLmljb24sXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKCdEdXBsaWNhdGUnKSxcblx0XHRcdHByaW1hcnlfYWN0aW9uOiB2YWx1ZXMgPT4ge1xuXHRcdFx0XHR2YWx1ZXMudGl0bGUgPSBgJHt2YWx1ZXMudGl0bGV9JHt2YWx1ZXMuc3VmZml4ID8gYHt7JHt2YWx1ZXMuc3VmZml4fX19YCA6ICcnfWA7XG5cdFx0XHRcdHZhbHVlcy5pc19wdWJsaWMgPSAxO1xuXHRcdFx0XHRpZiAoIXRoaXMudmFsaWRhdGVfcGFnZSh2YWx1ZXMpKSB7IHJldHVybjsgfVxuXHRcdFx0XHRkLmhpZGUoKTtcblx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ2ZyYXBwZS5kZXNrLmRvY3R5cGUud29ya3NwYWNlLndvcmtzcGFjZS5kdXBsaWNhdGVfcGFnZScsXG5cdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0cGFnZV9uYW1lOiBwYWdlLm5hbWUsXG5cdFx0XHRcdFx0XHRuZXdfcGFnZTogdmFsdWVzLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Y2FsbGJhY2socmVzKSB7XG5cdFx0XHRcdFx0XHRpZiAocmVzLm1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdFx0XHRcdG1ldGhvZDogJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnNhdmVfb3JnYW5pemF0aW9uX3dvcmtzcGFjZScsXG5cdFx0XHRcdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0d29ya3NwYWNlX25hbWU6IHJlcy5tZXNzYWdlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRvcmdhbml6YXRpb25fbmFtZTogbWUub3JnYW5pemF0aW9uX25hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OiB2YWx1ZXMuZGVmYXVsdCxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0bGV0IG5ld19wYWdlID0gcmVzLm1lc3NhZ2U7XG5cdFx0XHRcdFx0XHRcdGxldCBtZXNzYWdlID0gX18oXG5cdFx0XHRcdFx0XHRcdFx0J0R1cGxpY2F0ZSBvZiB7MH0gbmFtZWQgYXMgezF9IGlzIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyxcblx0XHRcdFx0XHRcdFx0XHRbcGFnZS50aXRsZS5ib2xkKCksIG5ld19wYWdlLnRpdGxlLmJvbGQoKV0sXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHsgbWVzc2FnZSwgaW5kaWNhdG9yOiAnZ3JlZW4nIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG5ld19wYWdlLnRpdGxlID0gdmFsdWVzLnRpdGxlO1xuXHRcdFx0XHRuZXdfcGFnZS5wdWJsaWMgPSB2YWx1ZXMuaXNfcHVibGljIHx8IDA7XG5cdFx0XHRcdG5ld19wYWdlLm5hbWUgPSB2YWx1ZXMudGl0bGUgKyAobmV3X3BhZ2UucHVibGljID8gJycgOiBgLSR7ZnJhcHBlLnNlc3Npb24udXNlcn1gKTtcblx0XHRcdFx0bmV3X3BhZ2UubGFiZWwgPSBuZXdfcGFnZS5uYW1lO1xuXHRcdFx0XHRuZXdfcGFnZS5pY29uID0gdmFsdWVzLmljb247XG5cdFx0XHRcdG5ld19wYWdlLnBhcmVudF9wYWdlID0gdmFsdWVzLnBhcmVudCB8fCAnJztcblx0XHRcdFx0bmV3X3BhZ2UuZm9yX3VzZXIgPSBuZXdfcGFnZS5wdWJsaWMgPyAnJyA6IGZyYXBwZS5zZXNzaW9uLnVzZXI7XG5cdFx0XHRcdG5ld19wYWdlLmlzX2VkaXRhYmxlID0gIW5ld19wYWdlLnB1YmxpYztcblx0XHRcdFx0bmV3X3BhZ2Uuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRuZXdfcGFnZS5vcmdhbml6YXRpb24gPSB0aGlzLm9yZ2FuaXphdGlvbl9uYW1lO1xuXHRcdFx0XHR0aGlzLnVwZGF0ZV9jYWNoZWRfdmFsdWVzKHBhZ2UsIG5ld19wYWdlLCB0cnVlKTtcblxuXHRcdFx0XHR0aGlzLnVwZGF0ZV9zZWxlY3RlZF9zaWRlYmFyKHRoaXMuY3VycmVudF9wYWdlLCBmYWxzZSk7XG5cdFx0XHRcdHRoaXMuY3VycmVudF9wYWdlPXtcblx0XHRcdFx0XHRuYW1lOiBuZXdfcGFnZS5uYW1lLFxuXHRcdFx0XHRcdHB1YmxpYzogbmV3X3BhZ2UucHVibGljLFxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLnNob3coKTtcblxuXHRcdFx0XHRtZS5tYWtlX3NpZGViYXIoKTtcblx0XHRcdFx0bWUuc2hvd19zaWRlYmFyX2FjdGlvbnMoKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdFx0ZC5zaG93KCk7XG5cdH1cblxuXHRoaWRlX3VuaGlkZV93b3Jrc3BhY2UocGFnZSwgZXZlbnQsIGhpZGUpIHtcblx0XHRwYWdlLmlzX2hpZGRlbiA9IGhpZGU7XG5cblx0XHRsZXQgc2lkZWJhcl9jb250cm9sID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5zaWRlYmFyLWl0ZW0tY29udHJvbCcpO1xuXHRcdGxldCBzaWRlYmFyX2l0ZW1fY29udGFpbmVyID0gc2lkZWJhcl9jb250cm9sLmNsb3Nlc3QoJy5zaWRlYmFyLWl0ZW0tY29udGFpbmVyJyk7XG5cdFx0JChzaWRlYmFyX2l0ZW1fY29udGFpbmVyKS5hdHRyKCdpdGVtLWlzLWhpZGRlbicsIGhpZGUpO1xuXG5cdFx0JChzaWRlYmFyX2NvbnRyb2wpLmVtcHR5KCk7XG5cdFx0dGhpcy5hZGRfc2lkZWJhcl9hY3Rpb25zKHBhZ2UsICQoc2lkZWJhcl9jb250cm9sKSk7XG5cblx0XHR0aGlzLmFkZF9kcm9wX2ljb24ocGFnZSwgJChzaWRlYmFyX2NvbnRyb2wpLCAkKHNpZGViYXJfaXRlbV9jb250YWluZXIpKTtcblxuXHRcdGxldCBjYWNoZWRfcGFnZSA9IHRoaXMuY2FjaGVkX3BhZ2VzLnBhZ2VzLmZpbmRJbmRleChwID0+IHAubmFtZSA9PT0gcGFnZS5uYW1lKTtcblx0XHRpZiAoY2FjaGVkX3BhZ2UgIT09IC0xKSB7XG5cdFx0XHR0aGlzLmNhY2hlZF9wYWdlcy5wYWdlc1tjYWNoZWRfcGFnZV0uaXNfaGlkZGVuID0gaGlkZTtcblx0XHR9XG5cblx0XHRsZXQgbWV0aG9kID0gaGlkZSA/ICdoaWRlX3BhZ2UnIDogJ3VuaGlkZV9wYWdlJztcblx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRtZXRob2Q6IGBmcmFwcGUuZGVzay5kb2N0eXBlLndvcmtzcGFjZS53b3Jrc3BhY2UuJHttZXRob2R9YCxcblx0XHRcdGFyZ3M6IHtcblx0XHRcdFx0cGFnZV9uYW1lOiBwYWdlLm5hbWUsXG5cdFx0XHR9LFxuXHRcdFx0Y2FsbGJhY2s6IHIgPT4ge1xuXHRcdFx0XHRpZiAoIXIubWVzc2FnZSkgeyByZXR1cm47IH1cblxuXHRcdFx0XHRsZXQgbWVzc2FnZSA9IGhpZGUgPyAnezB9IGlzIGhpZGRlbiBzdWNjZXNzZnVsbHknIDogJ3swfSBpcyB1bmhpZGRlbiBzdWNjZXNzZnVsbHknO1xuXHRcdFx0XHRtZXNzYWdlID0gX18obWVzc2FnZSwgW3BhZ2UudGl0bGUuYm9sZCgpXSk7XG5cdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHsgbWVzc2FnZTogbWVzc2FnZSwgaW5kaWNhdG9yOiAnZ3JlZW4nIH0pO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdGhpZGVfd29ya3NwYWNlKHBhZ2UsIGV2ZW50KSB7XG5cdFx0dGhpcy5oaWRlX3VuaGlkZV93b3Jrc3BhY2UocGFnZSwgZXZlbnQsIDEpO1xuXHR9XG5cblx0dW5oaWRlX3dvcmtzcGFjZShwYWdlLCBldmVudCkge1xuXHRcdHRoaXMuaGlkZV91bmhpZGVfd29ya3NwYWNlKHBhZ2UsIGV2ZW50LCAwKTtcblx0fVxuXG5cdG1ha2Vfc2lkZWJhcl9zb3J0YWJsZSgpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdCQoJy5uZXN0ZWQtY29udGFpbmVyJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRuZXcgU29ydGFibGUodGhpcywge1xuXHRcdFx0XHRoYW5kbGU6ICcuZHJhZy1oYW5kbGUnLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICcuc2lkZWJhci1pdGVtLWNvbnRhaW5lci5pcy1kcmFnZ2FibGUnLFxuXHRcdFx0XHRncm91cDogJ25lc3RlZCcsXG5cdFx0XHRcdGFuaW1hdGlvbjogMTUwLFxuXHRcdFx0XHRmYWxsYmFja09uQm9keTogdHJ1ZSxcblx0XHRcdFx0c3dhcFRocmVzaG9sZDogMC42NSxcblx0XHRcdFx0b25FbmQ6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdFx0XHRsZXQgaXNfcHVibGljID0gJChldnQuaXRlbSkuYXR0cignaXRlbS1wdWJsaWMnKSA9PSAnMSc7XG5cdFx0XHRcdFx0bWUucHJlcGFyZV9zb3J0ZWRfc2lkZWJhcihpc19wdWJsaWMpO1xuXHRcdFx0XHRcdG1lLnVwZGF0ZV9zb3J0ZWRfc2lkZWJhcigpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcmVwYXJlX3NvcnRlZF9zaWRlYmFyKGlzX3B1YmxpYykge1xuXHRcdGxldCBwYWdlcyA9IGlzX3B1YmxpYyA/IHRoaXMucHVibGljX3BhZ2VzIDogdGhpcy5wcml2YXRlX3BhZ2VzO1xuXHRcdGlmIChpc19wdWJsaWMpIHtcblx0XHRcdHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyA9IHRoaXMuc29ydF9zaWRlYmFyKFxuXHRcdFx0XHR0aGlzLnNpZGViYXIuZmluZCgnLnN0YW5kYXJkLXNpZGViYXItc2VjdGlvbicpLmxhc3QoKSxcblx0XHRcdFx0cGFnZXMsXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNvcnRlZF9wcml2YXRlX2l0ZW1zID0gdGhpcy5zb3J0X3NpZGViYXIoXG5cdFx0XHRcdHRoaXMuc2lkZWJhci5maW5kKCcuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uJykuZmlyc3QoKSxcblx0XHRcdFx0cGFnZXMsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMuc2lkZWJhcl9wYWdlcy5wYWdlcyA9IFsuLi50aGlzLnB1YmxpY19wYWdlcywgLi4udGhpcy5wcml2YXRlX3BhZ2VzXTtcblx0XHR0aGlzLmNhY2hlZF9wYWdlcyA9IHRoaXMuc2lkZWJhcl9wYWdlcztcblx0fVxuXG5cdHNvcnRfc2lkZWJhcigkc2lkZWJhcl9zZWN0aW9uLCBwYWdlcykge1xuXHRcdGxldCBzb3J0ZWRfaXRlbXMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IFtpLCBwYWdlXSBvZiBBcnJheS5mcm9tKCRzaWRlYmFyX3NlY3Rpb24uZmluZCgnLnNpZGViYXItaXRlbS1jb250YWluZXInKSkuZW50cmllcygpKSB7XG5cdFx0XHRsZXQgcGFyZW50X3BhZ2UgPSAnJztcblxuXHRcdFx0aWYgKHBhZ2UuY2xvc2VzdCgnLm5lc3RlZC1jb250YWluZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGViYXItY2hpbGQtaXRlbScpKSB7XG5cdFx0XHRcdHBhcmVudF9wYWdlID0gcGFnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuYXR0cmlidXRlc1snaXRlbS1uYW1lJ10udmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdHNvcnRlZF9pdGVtcy5wdXNoKHtcblx0XHRcdFx0dGl0bGU6IHBhZ2UuYXR0cmlidXRlc1snaXRlbS1uYW1lJ10udmFsdWUsXG5cdFx0XHRcdHBhcmVudF9wYWdlOiBwYXJlbnRfcGFnZSxcblx0XHRcdFx0cHVibGljOiBwYWdlLmF0dHJpYnV0ZXNbJ2l0ZW0tcHVibGljJ10udmFsdWUsXG5cdFx0XHR9KTtcblxuXHRcdFx0bGV0ICRkcm9wX2ljb24gPSAkKHBhZ2UpLmZpbmQoJy5zaWRlYmFyLWl0ZW0tY29udHJvbCAuZHJvcC1pY29uJykuZmlyc3QoKTtcblx0XHRcdGlmICgkKHBhZ2UpLmZpbmQoJy5zaWRlYmFyLWNoaWxkLWl0ZW0gPiAqJykubGVuZ3RoID09IDApIHtcblx0XHRcdFx0JGRyb3BfaWNvbi5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZHJvcF9pY29uLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGZyb21faW5kZXggPSBwYWdlcy5maW5kSW5kZXgocCA9PiBwLnRpdGxlID09IHBhZ2UuYXR0cmlidXRlc1snaXRlbS1uYW1lJ10udmFsdWUpO1xuXHRcdFx0bGV0IGVsZW1lbnQgPSBwYWdlc1tmcm9tX2luZGV4XTtcblx0XHRcdGVsZW1lbnQucGFyZW50X3BhZ2UgPSBwYXJlbnRfcGFnZTtcblx0XHRcdGlmIChmcm9tX2luZGV4ICE9IGkpIHtcblx0XHRcdFx0cGFnZXMuc3BsaWNlKGZyb21faW5kZXgsIDEpO1xuXHRcdFx0XHRwYWdlcy5zcGxpY2UoaSwgMCwgZWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBzb3J0ZWRfaXRlbXM7XG5cdH1cblxuXHR1cGRhdGVfc29ydGVkX3NpZGViYXIoKSB7XG5cdFx0aWYgKHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyB8fCB0aGlzLnNvcnRlZF9wcml2YXRlX2l0ZW1zKSB7XG5cdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdG1ldGhvZDogJ2ZyYXBwZS5kZXNrLmRvY3R5cGUud29ya3NwYWNlLndvcmtzcGFjZS5zb3J0X3BhZ2VzJyxcblx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdHNiX3B1YmxpY19pdGVtczogdGhpcy5zb3J0ZWRfcHVibGljX2l0ZW1zLFxuXHRcdFx0XHRcdHNiX3ByaXZhdGVfaXRlbXM6IHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWVzc2FnZSA9IGBTaWRlYmFyIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5YDtcblx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHsgbWVzc2FnZTogX18obWVzc2FnZSksIGluZGljYXRvcjogJ2dyZWVuJyB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRtYWtlX2Jsb2Nrc19zb3J0YWJsZSgpIHtcblx0XHRsZXQgbWUgPSB0aGlzO1xuXHRcdHRoaXMucGFnZV9zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShcblx0XHRcdHRoaXMucGFnZS5tYWluLmZpbmQoJy5jb2RleC1lZGl0b3JfX3JlZGFjdG9yJykuZ2V0KDApLFxuXHRcdFx0e1xuXHRcdFx0XHRoYW5kbGU6ICcuZHJhZy1oYW5kbGUnLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICcuY2UtYmxvY2snLFxuXHRcdFx0XHRhbmltYXRpb246IDE1MCxcblx0XHRcdFx0b25FbmQ6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdFx0XHRtZS5lZGl0b3IuYmxvY2tzLm1vdmUoZXZ0Lm5ld0luZGV4LCBldnQub2xkSW5kZXgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXREYXRhOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly9EbyBOb3RoaW5nXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdCk7XG5cdH1cblxuXHRpbml0aWFsaXplX25ld19wYWdlKCkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0dGhpcy5nZXRfcGFyZW50X3BhZ2VzKCk7XG5cdFx0Y29uc3QgZCA9IG5ldyBmcmFwcGUudWkuRGlhbG9nKHtcblx0XHRcdHRpdGxlOiBfXygnTmV3IFdvcmtzcGFjZScpLFxuXHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1RpdGxlJyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnRGF0YScsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAndGl0bGUnLFxuXHRcdFx0XHRcdHJlcWQ6IDEsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1N1ZmZpeCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ0RhdGEnLFxuXHRcdFx0XHRcdGZpZWxkbmFtZTogJ3N1ZmZpeCcsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ1BhcmVudCcpLFxuXHRcdFx0XHRcdGZpZWxkdHlwZTogJ1NlbGVjdCcsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAncGFyZW50Jyxcblx0XHRcdFx0XHRvcHRpb25zOiB0aGlzLnB1YmxpY19wYXJlbnRfcGFnZXMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogX18oJ0RlZmF1bHQnKSxcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdDaGVjaycsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAnZGVmYXVsdCcsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZHR5cGU6ICdDb2x1bW4gQnJlYWsnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdJY29uJyksXG5cdFx0XHRcdFx0ZmllbGR0eXBlOiAnSWNvbicsXG5cdFx0XHRcdFx0ZmllbGRuYW1lOiAnaWNvbicsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0cHJpbWFyeV9hY3Rpb25fbGFiZWw6IF9fKCdDcmVhdGUnKSxcblx0XHRcdHByaW1hcnlfYWN0aW9uOiB2YWx1ZXMgPT4ge1xuXHRcdFx0XHR2YWx1ZXMudGl0bGUgPSBmcmFwcGUudXRpbHMuZXNjYXBlX2h0bWwoYCR7dmFsdWVzLnRpdGxlfSR7dmFsdWVzLnN1ZmZpeCA/IGB7eyR7dmFsdWVzLnN1ZmZpeH19fWAgOiAnJ31gKTtcblx0XHRcdFx0dmFsdWVzLmlzX3B1YmxpYyA9IDE7XG5cdFx0XHRcdGlmICghdGhpcy52YWxpZGF0ZV9wYWdlKHZhbHVlcykpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdGQuaGlkZSgpO1xuXHRcdFx0XHR0aGlzLmluaXRpYWxpemVfZWRpdG9yanNfdW5kbygpO1xuXHRcdFx0XHR0aGlzLnNldHVwX2N1c3RvbWl6YXRpb25fYnV0dG9ucyh7IGlzX2VkaXRhYmxlOiB0cnVlIH0pO1xuXG5cdFx0XHRcdGxldCBuYW1lID0gdmFsdWVzLnRpdGxlICsgKHZhbHVlcy5pc19wdWJsaWMgPyAnJyA6IGAtJHtmcmFwcGUuc2Vzc2lvbi51c2VyfWApO1xuXHRcdFx0XHRsZXQgYmxvY2tzID0gW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHR5cGU6ICdoZWFkZXInLFxuXHRcdFx0XHRcdFx0ZGF0YTogeyB0ZXh0OiB2YWx1ZXMudGl0bGUgfSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRdO1xuXG5cdFx0XHRcdGxldCBuZXdfcGFnZSA9IHtcblx0XHRcdFx0XHRjb250ZW50OiBKU09OLnN0cmluZ2lmeShibG9ja3MpLFxuXHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0bGFiZWw6IG5hbWUsXG5cdFx0XHRcdFx0dGl0bGU6IHZhbHVlcy50aXRsZSxcblx0XHRcdFx0XHRwdWJsaWM6IHZhbHVlcy5pc19wdWJsaWMgfHwgMCxcblx0XHRcdFx0XHRmb3JfdXNlcjogdmFsdWVzLmlzX3B1YmxpYyA/ICcnIDogZnJhcHBlLnNlc3Npb24udXNlcixcblx0XHRcdFx0XHRpY29uOiB2YWx1ZXMuaWNvbixcblx0XHRcdFx0XHRwYXJlbnRfcGFnZTogdmFsdWVzLnBhcmVudCB8fCAnJyxcblx0XHRcdFx0XHRpc19lZGl0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRzZWxlY3RlZDogdHJ1ZSxcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29uc3QgbWUgPSB0aGlzO1xuXHRcdFx0XHR0aGlzLmVkaXRvclxuXHRcdFx0XHRcdC5yZW5kZXIoe1xuXHRcdFx0XHRcdFx0YmxvY2tzOiBibG9ja3MsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5lZGl0b3IuY29uZmlndXJhdGlvbi5yZWFkT25seSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmlzX3JlYWRfb25seSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5yZWFkT25seS50b2dnbGUoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdFx0XHRtZXRob2Q6ICdmcmFwcGUuZGVzay5kb2N0eXBlLndvcmtzcGFjZS53b3Jrc3BhY2UubmV3X3BhZ2UnLFxuXHRcdFx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3X3BhZ2U6IG5ld19wYWdlLFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXMubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnJhcHBlLmNhbGwoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtZXRob2Q6ICd0aWFuanlfb3JnYW5pemF0aW9uLnRpYW5qeV9vcmdhbml6YXRpb24ucGFnZS50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy5zYXZlX29yZ2FuaXphdGlvbl93b3Jrc3BhY2UnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d29ya3NwYWNlX25hbWU6IHJlcy5tZXNzYWdlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3JnYW5pemF0aW9uX25hbWU6IG1lLm9yZ2FuaXphdGlvbl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6IHZhbHVlcy5kZWZhdWx0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRsZXQgbWVzc2FnZSA9IF9fKCdXb3Jrc3BhY2UgezB9IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5JywgW1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXdfcGFnZS50aXRsZS5ib2xkKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW5kaWNhdG9yOiAnZ3JlZW4nLFxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRuZXdfcGFnZS5vcmdhbml6YXRpb24gPSB0aGlzLm9yZ2FuaXphdGlvbl9uYW1lO1xuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVfY2FjaGVkX3ZhbHVlcyhuZXdfcGFnZSwgbmV3X3BhZ2UsIHRydWUsIHRydWUpO1xuXG5cdFx0XHRcdFx0XHR0aGlzLm1ha2Vfc2lkZWJhcigpO1xuXHRcdFx0XHRcdFx0dGhpcy5zaG93X3NpZGViYXJfYWN0aW9ucygpO1xuXG5cdFx0XHRcdFx0XHQvLyBUT0RPIFx1NjYzRVx1NzkzQVx1NjVCMFx1NURFNVx1NEY1Q1x1NTMzQVxuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVfc2VsZWN0ZWRfc2lkZWJhcih0aGlzLmN1cnJlbnRfcGFnZSwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0dGhpcy5jdXJyZW50X3BhZ2U9e1xuXHRcdFx0XHRcdFx0XHRuYW1lOiBuZXdfcGFnZS50aXRsZSxcblx0XHRcdFx0XHRcdFx0cHVibGljOiBuZXdfcGFnZS5wdWJsaWMsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0dGhpcy5zaG93KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGQuc2hvdygpO1xuXHR9XG5cblx0dmFsaWRhdGVfcGFnZShuZXdfcGFnZSwgb2xkX3BhZ2UpIHtcblx0XHRsZXQgbWVzc2FnZSA9ICcnO1xuXHRcdGxldCBbZnJvbV9wYWdlcywgdG9fcGFnZXNdID0gbmV3X3BhZ2UuaXNfcHVibGljXG5cdFx0XHQ/IFt0aGlzLnByaXZhdGVfcGFnZXMsIHRoaXMucHVibGljX3BhZ2VzXVxuXHRcdFx0OiBbdGhpcy5wdWJsaWNfcGFnZXMsIHRoaXMucHJpdmF0ZV9wYWdlc107XG5cblx0XHRsZXQgc2VjdGlvbiA9IHRoaXMuc2lkZWJhcl9jYXRlZ29yaWVzW25ld19wYWdlLmlzX3B1YmxpY107XG5cblx0XHRpZiAodG9fcGFnZXMgJiYgdG9fcGFnZXMuZmluZChwID0+IHAudGl0bGUgPT0gbmV3X3BhZ2UudGl0bGUpKSB7XG5cdFx0XHRtZXNzYWdlID0gX18oJ1BhZ2Ugd2l0aCB0aXRsZSB7MH0gYWxyZWFkeSBleGlzdC4nLCBbbmV3X3BhZ2UudGl0bGUuYm9sZCgpXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGZyYXBwZS5yb3V0ZXIuZG9jdHlwZV9yb3V0ZV9leGlzdChmcmFwcGUucm91dGVyLnNsdWcobmV3X3BhZ2UudGl0bGUpKSkge1xuXHRcdFx0bWVzc2FnZSA9IF9fKCdEb2N0eXBlIHdpdGggc2FtZSByb3V0ZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgY2hvb3NlIGRpZmZlcmVudCB0aXRsZS4nKTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRfcGFnZXMgPSBvbGRfcGFnZSAmJiBmcm9tX3BhZ2VzLmZpbHRlcihwID0+IHAucGFyZW50X3BhZ2UgPT0gb2xkX3BhZ2UudGl0bGUpO1xuXHRcdGlmIChjaGlsZF9wYWdlcykge1xuXHRcdFx0Y2hpbGRfcGFnZXMuZXZlcnkoY2hpbGRfcGFnZSA9PiB7XG5cdFx0XHRcdGlmICh0b19wYWdlcyAmJiB0b19wYWdlcy5maW5kKHAgPT4gcC50aXRsZSA9PSBjaGlsZF9wYWdlLnRpdGxlKSkge1xuXHRcdFx0XHRcdG1lc3NhZ2UgPSBfXyhcblx0XHRcdFx0XHRcdCdPbmUgb2YgdGhlIGNoaWxkIHBhZ2Ugd2l0aCBuYW1lIHswfSBhbHJlYWR5IGV4aXN0IGluIHsxfSBTZWN0aW9uLiBQbGVhc2UgdXBkYXRlIHRoZSBuYW1lIG9mIHRoZSBjaGlsZCBwYWdlIGZpcnN0IGJlZm9yZSBtb3ZpbmcnLFxuXHRcdFx0XHRcdFx0W2NoaWxkX3BhZ2UudGl0bGUuYm9sZCgpLCBzZWN0aW9uLmJvbGQoKV0sXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjdXJfZGlhbG9nLmhpZGUoKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAobWVzc2FnZSkge1xuXHRcdFx0ZnJhcHBlLnRocm93KF9fKG1lc3NhZ2UpKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRhZGRfcGFnZV90b19zaWRlYmFyKHBhZ2UpIHtcblx0XHRsZXQgJHNpZGViYXIgPSAkKCcuc3RhbmRhcmQtc2lkZWJhci1zZWN0aW9uJyk7XG5cdFx0bGV0IGl0ZW0gPSB7IC4uLnBhZ2UgfTtcblxuXHRcdGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdGl0ZW0uaXNfZWRpdGFibGUgPSB0cnVlO1xuXG5cdFx0bGV0ICRzaWRlYmFyX2l0ZW0gPSB0aGlzLnNpZGViYXJfaXRlbV9jb250YWluZXIoaXRlbSk7XG5cblx0XHR0aGlzLmFkZF9zaWRlYmFyX2FjdGlvbnMoaXRlbSwgJHNpZGViYXJfaXRlbS5maW5kKCcuc2lkZWJhci1pdGVtLWNvbnRyb2wnKSwgdHJ1ZSk7XG5cblx0XHQkc2lkZWJhcl9pdGVtLmZpbmQoJy5zaWRlYmFyLWl0ZW0tY29udHJvbCAuZHJhZy1oYW5kbGUnKS5jc3MoJ21hcmdpbi1yaWdodCcsICc4cHgnKTtcblxuXHRcdGxldCBzaWRlYmFyX3NlY3Rpb24gPSBpdGVtLmlzX3B1YmxpYyA/ICRzaWRlYmFyWzFdIDogJHNpZGViYXJbMF07XG5cblx0XHRpZiAoaXRlbS5wYXJlbnQpIHtcblx0XHRcdGxldCAkaXRlbV9jb250YWluZXIgPSAkKHNpZGViYXJfc2VjdGlvbikuZmluZChgW2l0ZW0tbmFtZT1cIiR7aXRlbS5wYXJlbnR9XCJdYCk7XG5cdFx0XHRsZXQgJGNoaWxkX3NlY3Rpb24gPSAkaXRlbV9jb250YWluZXIuZmluZCgnLnNpZGViYXItY2hpbGQtaXRlbScpO1xuXHRcdFx0bGV0ICRkcm9wX2ljb24gPSAkaXRlbV9jb250YWluZXIuZmluZCgnLmRyb3AtaWNvbicpO1xuXHRcdFx0aWYgKCEkY2hpbGRfc2VjdGlvblswXSkge1xuXHRcdFx0XHQkY2hpbGRfc2VjdGlvbiA9ICQoXG5cdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJzaWRlYmFyLWNoaWxkLWl0ZW0gaGlkZGVuIG5lc3RlZC1jb250YWluZXJcIj48L2Rpdj5gLFxuXHRcdFx0XHQpLmFwcGVuZFRvKCRpdGVtX2NvbnRhaW5lcik7XG5cdFx0XHRcdCRkcm9wX2ljb24udG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0fVxuXHRcdFx0JHNpZGViYXJfaXRlbS5hcHBlbmRUbygkY2hpbGRfc2VjdGlvbik7XG5cdFx0XHQkY2hpbGRfc2VjdGlvbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHQkaXRlbV9jb250YWluZXIuZmluZCgnLmRyb3AtaWNvbi5oaWRkZW4nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHQkaXRlbV9jb250YWluZXIuZmluZCgnLmRyb3AtaWNvbiB1c2UnKS5hdHRyKCdocmVmJywgJyNpY29uLXNtYWxsLXVwJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCFpdGVtLmlzX3B1YmxpYyAmJiAkc2lkZWJhci5maXJzdCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdCRzaWRlYmFyX2l0ZW0uYXBwZW5kVG8oc2lkZWJhcl9zZWN0aW9uKTtcblx0XHR9XG5cblx0XHRsZXQgc2VjdGlvbiA9IGl0ZW0uaXNfcHVibGljID8gJ3B1YmxpYycgOiAncHJpdmF0ZSc7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5zaWRlYmFyX2l0ZW1zICYmXG5cdFx0XHR0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl0gJiZcblx0XHRcdCF0aGlzLnNpZGViYXJfaXRlbXNbc2VjdGlvbl1baXRlbS50aXRsZV1cblx0XHQpIHtcblx0XHRcdHRoaXMuc2lkZWJhcl9pdGVtc1tzZWN0aW9uXVtpdGVtLnRpdGxlXSA9ICRzaWRlYmFyX2l0ZW07XG5cdFx0fVxuXHR9XG5cblx0aW5pdGlhbGl6ZV9lZGl0b3JqcyhibG9ja3MpIHtcblx0XHR0aGlzLnRvb2xzID0ge1xuXHRcdFx0aGVhZGVyOiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrcy5oZWFkZXIsXG5cdFx0XHRcdGlubGluZVRvb2xiYXI6IFsnSGVhZGVyU2l6ZScsICdib2xkJywgJ2l0YWxpYycsICdsaW5rJ10sXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdGRlZmF1bHRfc2l6ZTogNCxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRwYXJhZ3JhcGg6IHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuYmxvY2tzLnBhcmFncmFwaCxcblx0XHRcdFx0aW5saW5lVG9vbGJhcjogWydIZWFkZXJTaXplJywgJ2JvbGQnLCAnaXRhbGljJywgJ2xpbmsnXSxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6IF9fKCdDaG9vc2UgYSBibG9jayBvciBjb250aW51ZSB0eXBpbmcnKSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRjaGFydDoge1xuXHRcdFx0XHRjbGFzczogdGhpcy5ibG9ja3MuY2hhcnQsXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdHBhZ2VfZGF0YTogdGhpcy5wYWdlX2RhdGEgfHwgW10sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y2FyZDoge1xuXHRcdFx0XHRjbGFzczogdGhpcy5ibG9ja3MuY2FyZCxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRzaG9ydGN1dDoge1xuXHRcdFx0XHRjbGFzczogdGhpcy5ibG9ja3Muc2hvcnRjdXQsXG5cdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdHBhZ2VfZGF0YTogdGhpcy5wYWdlX2RhdGEgfHwgW10sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0b25ib2FyZGluZzoge1xuXHRcdFx0XHRjbGFzczogdGhpcy5ibG9ja3Mub25ib2FyZGluZyxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRxdWlja19saXN0OiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrcy5xdWlja19saXN0LFxuXHRcdFx0XHRjb25maWc6IHtcblx0XHRcdFx0XHRwYWdlX2RhdGE6IHRoaXMucGFnZV9kYXRhIHx8IFtdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdG51bWJlcl9jYXJkOiB7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLmJsb2Nrcy5udW1iZXJfY2FyZCxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRjdXN0b21fYmxvY2s6IHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuYmxvY2tzLmN1c3RvbV9ibG9jayxcblx0XHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdFx0cGFnZV9kYXRhOiB0aGlzLnBhZ2VfZGF0YSB8fCBbXSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRzcGFjZXI6IHRoaXMuYmxvY2tzLnNwYWNlcixcblx0XHRcdEhlYWRlclNpemU6IGZyYXBwZS53b3Jrc3BhY2VfYmxvY2sudHVuZXMuaGVhZGVyX3NpemUsXG5cdFx0fTtcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3JKUyh7XG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGJsb2NrczogYmxvY2tzIHx8IFtdLFxuXHRcdFx0fSxcblx0XHRcdHRvb2xzOiB0aGlzLnRvb2xzLFxuXHRcdFx0YXV0b2ZvY3VzOiBmYWxzZSxcblx0XHRcdHJlYWRPbmx5OiB0cnVlLFxuXHRcdFx0bG9nTGV2ZWw6ICdFUlJPUicsXG5cdFx0fSk7XG5cdH1cblxuXHRzYXZlX3BhZ2UocGFnZSkge1xuXHRcdGxldCBtZSA9IHRoaXM7XG5cdFx0dGhpcy5jdXJyZW50X3BhZ2UgPSB7IG5hbWU6IHBhZ2UudGl0bGUsIHB1YmxpYzogcGFnZS5wdWJsaWMgfTtcblxuXHRcdHJldHVybiB0aGlzLmVkaXRvclxuXHRcdFx0LnNhdmUoKVxuXHRcdFx0LnRoZW4ob3V0cHV0RGF0YSA9PiB7XG5cdFx0XHRcdGxldCBuZXdfd2lkZ2V0cyA9IHt9O1xuXG5cdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBvdXRwdXREYXRhLmJsb2Nrcykge1xuXHRcdFx0XHRcdGlmIChpdGVtLmRhdGEubmV3KSB7XG5cdFx0XHRcdFx0XHRpZiAoIW5ld193aWRnZXRzW2l0ZW0udHlwZV0pIHtcblx0XHRcdFx0XHRcdFx0bmV3X3dpZGdldHNbaXRlbS50eXBlXSA9IFtdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3X3dpZGdldHNbaXRlbS50eXBlXS5wdXNoKGl0ZW0uZGF0YS5uZXcpO1xuXHRcdFx0XHRcdFx0ZGVsZXRlIGl0ZW0uZGF0YS5uZXc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IGJsb2NrcyA9IG91dHB1dERhdGEuYmxvY2tzLmZpbHRlcihcblx0XHRcdFx0XHRpdGVtID0+XG5cdFx0XHRcdFx0XHRpdGVtLnR5cGUgIT0gJ2NhcmQnIHx8XG5cdFx0XHRcdFx0XHQoaXRlbS5kYXRhLmNhcmRfbmFtZSAhPT0gJ0N1c3RvbSBEb2N1bWVudHMnICYmXG5cdFx0XHRcdFx0XHRcdGl0ZW0uZGF0YS5jYXJkX25hbWUgIT09ICdDdXN0b20gUmVwb3J0cycpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYWdlLmNvbnRlbnQgPT0gSlNPTi5zdHJpbmdpZnkoYmxvY2tzKSAmJlxuXHRcdFx0XHRcdE9iamVjdC5rZXlzKG5ld193aWRnZXRzKS5sZW5ndGggPT09IDBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR1cF9jdXN0b21pemF0aW9uX2J1dHRvbnMocGFnZSk7XG5cdFx0XHRcdFx0ZnJhcHBlLnNob3dfYWxlcnQoe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogX18oJ05vIGNoYW5nZXMgbWFkZSBvbiB0aGUgcGFnZScpLFxuXHRcdFx0XHRcdFx0aW5kaWNhdG9yOiAnd2FybmluZycsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5jcmVhdGVfcGFnZV9za2VsZXRvbigpO1xuXHRcdFx0XHRwYWdlLmNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShibG9ja3MpO1xuXHRcdFx0XHRmcmFwcGUuY2FsbCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnZnJhcHBlLmRlc2suZG9jdHlwZS53b3Jrc3BhY2Uud29ya3NwYWNlLnNhdmVfcGFnZScsXG5cdFx0XHRcdFx0YXJnczoge1xuXHRcdFx0XHRcdFx0dGl0bGU6IHBhZ2UudGl0bGUsXG5cdFx0XHRcdFx0XHRwdWJsaWM6IHBhZ2UucHVibGljIHx8IDAsXG5cdFx0XHRcdFx0XHRuZXdfd2lkZ2V0czogbmV3X3dpZGdldHMsXG5cdFx0XHRcdFx0XHRibG9ja3M6IEpTT04uc3RyaW5naWZ5KGJsb2NrcyksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdG1lLmRpc2NhcmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRtZS51cGRhdGVfY2FjaGVkX3ZhbHVlcyhwYWdlLCBwYWdlKTtcblx0XHRcdFx0XHRcdFx0bWUucmVsb2FkKCk7XG5cdFx0XHRcdFx0XHRcdGZyYXBwZS5zaG93X2FsZXJ0KHtcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBfXygnUGFnZSBTYXZlZCBTdWNjZXNzZnVsbHknKSxcblx0XHRcdFx0XHRcdFx0XHRpbmRpY2F0b3I6ICdncmVlbicsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRlcnJvcjtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ1NhdmluZyBmYWlsZWQ6ICcsIGVycm9yKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0cmVsb2FkKCkge1xuXHRcdHRoaXMuc29ydGVkX3B1YmxpY19pdGVtcyA9IFtdO1xuXHRcdHRoaXMuc29ydGVkX3ByaXZhdGVfaXRlbXMgPSBbXTtcblx0XHR0aGlzLnNldHVwX3BhZ2VzKHRydWUpO1xuXHRcdHRoaXMuZGlzY2FyZCA9IGZhbHNlO1xuXHRcdHRoaXMudW5kby5yZWFkT25seSA9IHRydWU7XG5cdH1cblxuXHRjcmVhdGVfcGFnZV9za2VsZXRvbigpIHtcblx0XHRpZiAodGhpcy5ib2R5LmZpbmQoJy53b3Jrc3BhY2Utc2tlbGV0b24nKS5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLmJvZHkucHJlcGVuZChmcmFwcGUucmVuZGVyX3RlbXBsYXRlKCd3b3Jrc3BhY2VfbG9hZGluZ19za2VsZXRvbicpKTtcblx0XHR0aGlzLmJvZHkuZmluZCgnLmNvZGV4LWVkaXRvcicpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0fVxuXG5cdHJlbW92ZV9wYWdlX3NrZWxldG9uKCkge1xuXHRcdHRoaXMuYm9keS5maW5kKCcuY29kZXgtZWRpdG9yJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdHRoaXMuYm9keS5maW5kKCcud29ya3NwYWNlLXNrZWxldG9uJykucmVtb3ZlKCk7XG5cdH1cblxuXHRjcmVhdGVfc2lkZWJhcl9za2VsZXRvbigpIHtcblx0XHRpZiAoJCgnLndvcmtzcGFjZS1zaWRlYmFyLXNrZWxldG9uJykubGVuZ3RoKSB7IHJldHVybjsgfVxuXG5cdFx0JChmcmFwcGUucmVuZGVyX3RlbXBsYXRlKCd3b3Jrc3BhY2Vfc2lkZWJhcl9sb2FkaW5nX3NrZWxldG9uJykpLmluc2VydEJlZm9yZSh0aGlzLnNpZGViYXIpO1xuXHRcdHRoaXMuc2lkZWJhci5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdH1cblxuXHRyZW1vdmVfc2lkZWJhcl9za2VsZXRvbigpIHtcblx0XHR0aGlzLnNpZGViYXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdCQoJy53b3Jrc3BhY2Utc2lkZWJhci1za2VsZXRvbicpLnJlbW92ZSgpO1xuXHR9XG5cblx0cmVnaXN0ZXJfYXdlc29tZWJhcl9zaG9ydGN1dCgpIHtcblx0XHRpZiAoIXRoaXMub3JnYW5pemF0aW9uX25hbWUpe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IGxldHRlciBvZiAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLnNwbGl0KCcnKSkge1xuXHRcdFx0Y29uc3QgZGVmYXVsdF9zaG9ydGN1dCA9IHtcblx0XHRcdFx0YWN0aW9uOiBlID0+IHtcblx0XHRcdFx0XHQkKCcjbmF2YmFyLXNlYXJjaCcpLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlOyAvLyBkb24ndCBwcmV2ZW50IGRlZmF1bHQgPSB0eXBlIHRoZSBsZXR0ZXIgaW4gYXdlc29tZWJhclxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwYWdlOiB0aGlzLnBhZ2UsXG5cdFx0XHR9O1xuXHRcdFx0ZnJhcHBlLnVpLmtleXMuYWRkX3Nob3J0Y3V0KHsgc2hvcnRjdXQ6IGxldHRlciwgLi4uZGVmYXVsdF9zaG9ydGN1dCB9KTtcblx0XHRcdGZyYXBwZS51aS5rZXlzLmFkZF9zaG9ydGN1dCh7IHNob3J0Y3V0OiBgc2hpZnQrJHtsZXR0ZXJ9YCwgLi4uZGVmYXVsdF9zaG9ydGN1dCB9KTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoXCJkYXRhLXYtODlhMDI3ZjNcIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKVxuY29uc3QgX2hvaXN0ZWRfMSA9IHtcbiAgcmVmOiBcIndyYXBwZXJSZWZcIixcbiAgY2xhc3M6IFwiY29udGVudCBwYWdlLWNvbnRhaW5lclwiLFxuICBpZDogXCJwYWdlLVdvcmtzcGFjZXNcIixcbiAgXCJkYXRhLXBhZ2Utcm91dGVcIjogXCJXb3Jrc3BhY2VzXCJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfMSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Xb3Jrc3BhY2UudnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Xb3Jrc3BhY2UudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvV29ya3NwYWNlLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi04OWEwMjdmM1wiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IGNsYXNzPVwibWVtYmVyXCIgdi1sb2FkaW5nPVwibG9hZGluZ1wiPlxuXHRcdDxkaXYgY2xhc3M9XCJidG4tY29udGFpbmVyXCI+XG5cdFx0XHQ8RWxCdXR0b24gdi1pZj1cInBlcm1pc3Npb25zLmNyZWF0ZVBlcm1pc3Npb25cIiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImNyZWF0ZU1lbWJlclwiPlx1NjVCMFx1NTg5RVx1NEVCQVx1NTQ1ODwvRWxCdXR0b24+XG5cdFx0PC9kaXY+XG5cdFx0PGVsLXRhYmxlIDpkYXRhPVwibWVtYmVyTGlzdFwiIGJvcmRlciBzdHlsZT1cIndpZHRoOiAxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBmaXhlZCBwcm9wPVwidXNlcl9kb2MuZnVsbF9uYW1lXCIgbGFiZWw9XCJcdTc1MjhcdTYyMzdcIiB3aWR0aD1cIjE4MFwiIC8+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJyb2xlXCIgbGFiZWw9XCJcdTg5RDJcdTgyNzJcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJyb2xlXCIgQGNsaWNrPVwic2hvd1Blcm1pc3Npb25zKHJvbGVEb2Mucm9sZSlcIiB2LWZvcj1cInJvbGVEb2MgaW4gc2NvcGUucm93LnJvbGVzXCI+e3sgdHQocm9sZURvYy5yb2xlKSB9fTwvc3Bhbj5cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwidmlzaWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU4OUMxXCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cudmlzaWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJ2aWV3YWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU2N0U1XHU3NzBCXCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cudmlld2FibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwiYWRkaWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU2REZCXHU1MkEwXCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cuYWRkaWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJlZGl0YWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU3RjE2XHU4RjkxXCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cuZWRpdGFibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwiZGVsZXRhYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTUyMjBcdTk2NjRcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy5kZWxldGFibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwibWFuYWdlYWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU3QkExXHU3NDA2XCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cubWFuYWdlYWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gdi1pZj1cInBlcm1pc3Npb25zLndyaXRlUGVybWlzc2lvbnx8cGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvblwiIHByb3A9XCJhZGRyZXNzXCIgbGFiZWw9XCJcdTY0Q0RcdTRGNUNcIiB3aWR0aD1cIjEzMFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHQ8RWxCdXR0b24gdi1pZj1cInBlcm1pc3Npb25zLndyaXRlUGVybWlzc2lvblwiIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwiZWRpdE1lbWJlcihzY29wZS5yb3cpXCI+XHU3RjE2XHU4RjkxPC9FbEJ1dHRvbj5cblx0XHRcdFx0XHQ8RWxCdXR0b24gdi1pZj1cInBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb25cIiB0eXBlPVwiZGFuZ2VyXCIgQGNsaWNrPVwiZGVsZXRlTWVtYmVyKHNjb3BlLnJvdylcIj5cdTUyMjBcdTk2NjQ8L0VsQnV0dG9uPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0PC9lbC10YWJsZT5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cbmltcG9ydCB7IG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgRWxNZXNzYWdlQm94LCBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnO1xuXG5pbXBvcnQgdHlwZSB7IE1lbWJlciwgUGVybWlzc2lvbnMgfSBmcm9tICcuLi90eXBlJztcblxuaW1wb3J0IHtzaG93UGVybWlzc2lvbnN9IGZyb20gJy4vaGVscGVyJztcbmludGVyZmFjZSBQcm9wc3tcblx0b3JnYW5pemF0aW9uOnN0cmluZ1xuXHRwZXJtaXNzaW9uczpQZXJtaXNzaW9uc1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmNvbnN0IG1lbWJlckxpc3QgPSByZWY8TWVtYmVyW10+KFtdKTtcbmNvbnN0IGxvYWRpbmcgPSByZWY8Ym9vbGVhbj4oZmFsc2UpO1xuY29uc3QgdHQgPSBfXztcblxud2F0Y2goKCk9PnByb3BzLm9yZ2FuaXphdGlvbiwgKCk9Pntcblx0Z2V0TWVtYmVycygpO1xufSwge2ltbWVkaWF0ZTogdHJ1ZX0pO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW1iZXJzKCl7XG5cdGlmICghcHJvcHMub3JnYW5pemF0aW9uKXtcblx0XHRyZXR1cm47XG5cdH1cblx0bG9hZGluZy52YWx1ZSA9IHRydWU7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGZyYXBwZS5jYWxsPHsgbWVzc2FnZTogTWVtYmVyW10gfT4oe1xuXHRcdG1ldGhvZDogJ3RpYW5qeV9vcmdhbml6YXRpb24udGlhbmp5X29yZ2FuaXphdGlvbi5wYWdlLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLnRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnLmdldF9tZW1iZXJzJyxcblx0XHRhcmdzOntcblx0XHRcdG9yZ2FuaXphdGlvbl9uYW1lOnByb3BzLm9yZ2FuaXphdGlvbixcblx0XHRcdGlzX2luaGVyaXQ6MCxcblx0XHR9LFxuXHR9KTtcblx0bWVtYmVyTGlzdC52YWx1ZSA9IHJlcz8ubWVzc2FnZXx8W107XG5cdGxvYWRpbmcudmFsdWUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWVtYmVyKCl7XG5cdGNvbnN0IG5ld0RvYyA9IGZyYXBwZS5tb2RlbC5tYWtlX25ld19kb2NfYW5kX2dldF9uYW1lKCdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicpO1xuXHRmcmFwcGUubW9kZWwuc2V0X3ZhbHVlKCdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicsIG5ld0RvYywgJ29yZ2FuaXphdGlvbicsIHByb3BzLm9yZ2FuaXphdGlvbik7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJywgbmV3RG9jXSk7XG59XG5cbmZ1bmN0aW9uIGVkaXRNZW1iZXIobWVtYmVyOk1lbWJlcil7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJywgbWVtYmVyLm5hbWVdKTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZU1lbWJlcihtZW1iZXI6TWVtYmVyKXtcblx0RWxNZXNzYWdlQm94LmNvbmZpcm0oXG5cdFx0J1x1NjBBOFx1Nzg2RVx1OEJBNFx1NTIyMFx1OTY2NFx1NkI2NFx1NEVCQVx1NTQ1OFx1NTQxNz8nLFxuXHRcdCdcdThCRjdcdTc4NkVcdThCQTQnLFxuXHRcdHtcblx0XHRcdGNvbmZpcm1CdXR0b25UZXh0OiAnXHU3ODZFXHU1QjlBJyxcblx0XHRcdGNhbmNlbEJ1dHRvblRleHQ6ICdcdTUzRDZcdTZEODgnLFxuXHRcdFx0dHlwZTogJ3dhcm5pbmcnLFxuXHRcdH0sXG5cdCkudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0bG9hZGluZy52YWx1ZSA9IHRydWU7XG5cdFx0YXdhaXQgZnJhcHBlLmRiLmRlbGV0ZV9kb2MoJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJywgbWVtYmVyLm5hbWUpO1xuXHRcdGdldE1lbWJlcnMoKTtcblx0XHRFbE1lc3NhZ2Uoe1xuXHRcdFx0dHlwZTogJ3N1Y2Nlc3MnLFxuXHRcdFx0bWVzc2FnZTogJ1x1NTIyMFx1OTY2NFx1NjIxMFx1NTI5RicsXG5cdFx0fSk7XG5cdH0pLmNhdGNoKCgpID0+IHtcblx0XHRFbE1lc3NhZ2Uoe1xuXHRcdFx0dHlwZTogJ2luZm8nLFxuXHRcdFx0bWVzc2FnZTogJ1x1NTNENlx1NkQ4OFx1NTIyMFx1OTY2NCcsXG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mcmFwcGUuc29ja2V0aW8uZG9jdHlwZV9zdWJzY3JpYmUoJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJyk7XG5cbmZyYXBwZS5yZWFsdGltZS5vbignbGlzdF91cGRhdGUnLCBwID0+IHtcblx0aWYgKHAuZG9jdHlwZSAhPT0gJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJyYmcC5kb2N0eXBlICE9PSAnVGlhbmp5IE9yZ2FuaXphdGlvbiBSb2xlJykgeyByZXR1cm47IH1cblx0Z2V0TWVtYmVycygpO1xufSk7XG5cbmNvbnN0IHBvcHN0YXRlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQ6YW55KSB7XG5cdGdldE1lbWJlcnMoKTtcbn07XG5vbk1vdW50ZWQoKCkgPT4ge1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BzdGF0ZUxpc3RlbmVyKTtcbn0pO1xub25Vbm1vdW50ZWQoKCkgPT4ge1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BzdGF0ZUxpc3RlbmVyKTtcbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPSdsZXNzJyBzY29wZWQ+XG4ubWVtYmVye1xuXHRoZWlnaHQ6IDEwMCU7XG5cdGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0LmJ0bi1jb250YWluZXJ7XG5cdFx0dGV4dC1hbGlnbjogcmlnaHQ7XG5cdFx0bWFyZ2luLWJvdHRvbTogOHB4O1xuXHR9XG5cdC5yb2xle1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRtYXJnaW4tcmlnaHQ6IDRweDtcblx0XHQmOmhvdmVye1xuXHRcdFx0dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG5cdFx0fVxuXHR9XG59XG5cbjwvc3R5bGU+XG4iLCAiZnVuY3Rpb24gc2hvd1Blcm1EaWFsb2cocm9sZTpzdHJpbmcsIHBlcm1pc3Npb25zOmFueVtdKSB7XG5cdGNvbnN0IHBlcm1fZGlhbG9nID0gbmV3IGZyYXBwZS51aS5EaWFsb2coeyB0aXRsZTogX18ocm9sZSkgfSk7XG5cdHBlcm1fZGlhbG9nLiR3cmFwcGVyXG5cdFx0LmZpbmQoJy5tb2RhbC1kaWFsb2cnKVxuXHRcdC5jc3MoJ3dpZHRoJywgJzEyMDBweCcpXG5cdFx0LmNzcygnbWF4LXdpZHRoJywgJzgwdncnKTtcblx0cGVybV9kaWFsb2cuc2hvdygpO1xuXHRjb25zdCAkYm9keSA9ICQocGVybV9kaWFsb2cuYm9keSk7XG5cdGlmICghcGVybWlzc2lvbnMubGVuZ3RoKSB7XG5cdFx0JGJvZHkuYXBwZW5kKGA8ZGl2IGNsYXNzPVwidGV4dC1tdXRlZCB0ZXh0LWNlbnRlciBwYWRkaW5nXCI+XG5cdFx0XHQke19fKCd7MH0gcm9sZSBkb2VzIG5vdCBoYXZlIHBlcm1pc3Npb24gb24gYW55IGRvY3R5cGUnLCBbcm9sZV0pfVxuXHRcdDwvZGl2PmApO1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG5cdHRhYmxlLmNsYXNzTmFtZSA9ICd1c2VyLXBlcm0nO1xuXHRjb25zdCB0aGVhZCA9IHRhYmxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJykpO1xuXHRjb25zdCB0ciA9IHRoZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykpO1xuXHR0ci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuXHRcdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShfXygnRG9jdW1lbnQgVHlwZScpKSk7XG5cdHRyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJykpXG5cdFx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKF9fKCdMZXZlbCcpKSk7XG5cdGZvciAoY29uc3QgcCBvZiBmcmFwcGUucGVybS5yaWdodHMpIHtcblx0XHR0ci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuXHRcdFx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZyYXBwZS51bnNjcnViKHApKSk7XG5cdH1cblxuXHRjb25zdCB0Ym9keSA9IHRhYmxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJykpO1xuXHRmb3IgKGNvbnN0IHBlcm0gb2YgcGVybWlzc2lvbnMpIHtcblx0XHRjb25zdCB0ciA9IHRib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykpO1xuXHRcdHRyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpXG5cdFx0XHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGVybS5wYXJlbnQpKTtcblx0XHR0ci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKVxuXHRcdFx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBlcm0ucGVybWxldmVsKSk7XG5cdFx0Zm9yIChjb25zdCBwIG9mIGZyYXBwZS5wZXJtLnJpZ2h0cykge1xuXHRcdFx0Y29uc3QgdGQgPSB0ci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKTtcblx0XHRcdHRkLmNsYXNzTmFtZSA9ICd0ZXh0LW11dGVkIGJvbGQnO1xuXHRcdFx0aWYgKHBlcm1bcF0pIHtcblx0XHRcdFx0dGQuaW5uZXJIVE1MID0gZnJhcHBlLnV0aWxzLmljb24oJ2NoZWNrJywgJ3hzJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLScpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0fVxuXHQkYm9keS5hcHBlbmQodGFibGUpO1xuXG59XG5leHBvcnQgZnVuY3Rpb24gc2hvd1Blcm1pc3Npb25zKHJvbGU6c3RyaW5nKXtcblx0ZnJhcHBlXG5cdFx0LnhjYWxsKCdmcmFwcGUuY29yZS5kb2N0eXBlLnVzZXIudXNlci5nZXRfcGVybV9pbmZvJywgeyByb2xlIH0pXG5cdFx0LnRoZW4ocCA9PiBzaG93UGVybURpYWxvZyhyb2xlLCBwIGFzIGFueVtdKSk7XG59XG4iLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL01lbWJlci52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MFwiO2V4cG9ydCBkZWZhdWx0ICgpID0+e30iLCAiaW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgcmVzb2x2ZURpcmVjdGl2ZSBhcyBfcmVzb2x2ZURpcmVjdGl2ZSwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LWI0ODdkYzIyXCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7IGNsYXNzOiBcIm1lbWJlclwiIH1cbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcImJ0bi1jb250YWluZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8zID0gW1wib25DbGlja1wiXVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X0VsQnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoXCJFbEJ1dHRvblwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdGFibGUtY29sdW1uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXRhYmxlXCIpXG4gIGNvbnN0IF9kaXJlY3RpdmVfbG9hZGluZyA9IF9yZXNvbHZlRGlyZWN0aXZlKFwibG9hZGluZ1wiKVxuXG4gIHJldHVybiBfd2l0aERpcmVjdGl2ZXMoKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAoJHByb3BzLnBlcm1pc3Npb25zLmNyZWF0ZVBlcm1pc3Npb24pXG4gICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfRWxCdXR0b24sIHtcbiAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgIHR5cGU6IFwicHJpbWFyeVwiLFxuICAgICAgICAgICAgb25DbGljazogJHNldHVwLmNyZWF0ZU1lbWJlclxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1NjVCMFx1NTg5RVx1NEVCQVx1NTQ1OFwiKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pKVxuICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgXSksXG4gICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGUsIHtcbiAgICAgIGRhdGE6ICRzZXR1cC5tZW1iZXJMaXN0LFxuICAgICAgYm9yZGVyOiBcIlwiLFxuICAgICAgc3R5bGU6IHtcIndpZHRoXCI6XCIxMDAlXCJ9LFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgIH0sIHtcbiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgZml4ZWQ6IFwiXCIsXG4gICAgICAgICAgcHJvcDogXCJ1c2VyX2RvYy5mdWxsX25hbWVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTc1MjhcdTYyMzdcIixcbiAgICAgICAgICB3aWR0aDogXCIxODBcIlxuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJyb2xlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU4OUQyXHU4MjcyXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChzY29wZS5yb3cucm9sZXMsIChyb2xlRG9jKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwicm9sZVwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLnNob3dQZXJtaXNzaW9ucyhyb2xlRG9jLnJvbGUpKVxuICAgICAgICAgICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC50dChyb2xlRG9jLnJvbGUpKSwgOSAvKiBURVhULCBQUk9QUyAqLywgX2hvaXN0ZWRfMykpXG4gICAgICAgICAgICB9KSwgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcInZpc2libGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTg5QzFcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cudmlzaWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJ2aWV3YWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NjdFNVx1NzcwQlwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy52aWV3YWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJhZGRpYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU2REZCXHU1MkEwXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmFkZGlibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiZWRpdGFibGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTdGMTZcdThGOTFcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cuZWRpdGFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiZGVsZXRhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU1MjIwXHU5NjY0XCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmRlbGV0YWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJtYW5hZ2VhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU3QkExXHU3NDA2XCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93Lm1hbmFnZWFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgICgkcHJvcHMucGVybWlzc2lvbnMud3JpdGVQZXJtaXNzaW9ufHwkcHJvcHMucGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvbilcbiAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgIHByb3A6IFwiYWRkcmVzc1wiLFxuICAgICAgICAgICAgICBsYWJlbDogXCJcdTY0Q0RcdTRGNUNcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTMwXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICAgICAgKCRwcm9wcy5wZXJtaXNzaW9ucy53cml0ZVBlcm1pc3Npb24pXG4gICAgICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0VsQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLmVkaXRNZW1iZXIoc2NvcGUucm93KSlcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCJcdTdGMTZcdThGOTFcIilcbiAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi9cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgW1wib25DbGlja1wiXSkpXG4gICAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgICAgICAgICgkcHJvcHMucGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvbilcbiAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfRWxCdXR0b24sIHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gKCRzZXR1cC5kZWxldGVNZW1iZXIoc2NvcGUucm93KSlcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCJcdTUyMjBcdTk2NjRcIilcbiAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi9cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgW1wib25DbGlja1wiXSkpXG4gICAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgXSksXG4gICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgIH0sIDggLyogUFJPUFMgKi8sIFtcImRhdGFcIl0pXG4gIF0pKSwgW1xuICAgIFtfZGlyZWN0aXZlX2xvYWRpbmcsICRzZXR1cC5sb2FkaW5nXVxuICBdKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9NZW1iZXIudnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9NZW1iZXIudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvTWVtYmVyLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1iNDg3ZGMyMlwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiPHRlbXBsYXRlPlxuXHQ8ZGl2IGNsYXNzPVwiaW5oZXJpdGFibGUtb3JnYW5pemF0aW9uIFwiIHYtbG9hZGluZz1cImxvYWRpbmdcIj5cblx0XHQ8ZGl2IGNsYXNzPVwiYnRuLWNvbnRhaW5lclwiPlxuXHRcdFx0PEVsQnV0dG9uIHYtaWY9XCJwZXJtaXNzaW9ucy5jcmVhdGVQZXJtaXNzaW9uXCIgdHlwZT1cInByaW1hcnlcIiBAY2xpY2s9XCJjcmVhdGVJbmhlcml0XCI+XHU3RUU3XHU2MjdGXHU3RUM0XHU3RUM3PC9FbEJ1dHRvbj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZWwtdGFibGUgOmRhdGE9XCJpbmhlcml0TGlzdFwiIGJvcmRlciBzdHlsZT1cIndpZHRoOiAxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwiaW5oZXJpdF9mcm9tX29yZ2FuaXphdGlvbl9kb2MubGFiZWxcIiBsYWJlbD1cIlx1N0VFN1x1NjI3Rlx1ODFFQVwiID48L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cInZpc2libGVcIiBsYWJlbD1cIlx1NTNFRlx1ODlDMVwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LnZpc2libGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwidmlld2FibGVcIiBsYWJlbD1cIlx1NTNFRlx1NjdFNVx1NzcwQlwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LnZpZXdhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cImFkZGlibGVcIiBsYWJlbD1cIlx1NTNFRlx1NkRGQlx1NTJBMFwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LmFkZGlibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiBwcm9wPVwiZWRpdGFibGVcIiBsYWJlbD1cIlx1NTNFRlx1N0YxNlx1OEY5MVwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LmVkaXRhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cImRlbGV0YWJsZVwiIGxhYmVsPVwiXHU1M0VGXHU1MjIwXHU5NjY0XCIgd2lkdGg9XCI2MFwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHR7eyBzY29wZS5yb3cuZGVsZXRhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cIm1hbmFnZWFibGVcIiBsYWJlbD1cIlx1NTNFRlx1N0JBMVx1NzQwNlwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93Lm1hbmFnZWFibGU/J1x1NjYyRic6J1x1NTQyNicgfX1cblx0XHRcdFx0PC90ZW1wbGF0ZT5cblx0XHRcdDwvZWwtdGFibGUtY29sdW1uPlxuXG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHYtaWY9XCJwZXJtaXNzaW9ucy53cml0ZVBlcm1pc3Npb258fHBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb25cIiBwcm9wPVwiYWRkcmVzc1wiIGxhYmVsPVwiXHU2NENEXHU0RjVDXCIgd2lkdGg9XCIxMzBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0PEVsQnV0dG9uIHYtaWY9XCJwZXJtaXNzaW9ucy53cml0ZVBlcm1pc3Npb25cIiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImVkaXRJbmhlcml0KHNjb3BlLnJvdylcIj5cdTdGMTZcdThGOTE8L0VsQnV0dG9uPlxuXHRcdFx0XHRcdDxFbEJ1dHRvbiB2LWlmPVwicGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvblwiIHR5cGU9XCJkYW5nZXJcIiBAY2xpY2s9XCJkZWxldGVJbmhlcml0KHNjb3BlLnJvdylcIj5cdTUyMjBcdTk2NjQ8L0VsQnV0dG9uPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0PC9lbC10YWJsZT5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9J3RzJz5cbmltcG9ydCB7IG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgRWxNZXNzYWdlQm94LCBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnO1xuXG5pbXBvcnQgdHlwZSB7IEluaGVyaXRPcmdhbml6YXRpb24sIFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vdHlwZSc7XG5cbmludGVyZmFjZSBQcm9wc3tcblx0b3JnYW5pemF0aW9uOnN0cmluZ1xuXHRwZXJtaXNzaW9uczpQZXJtaXNzaW9uc1xufVxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcbmNvbnN0IGluaGVyaXRMaXN0ID0gcmVmPEluaGVyaXRPcmdhbml6YXRpb25bXT4oW10pO1xuY29uc3QgbG9hZGluZyA9IHJlZjxib29sZWFuPihmYWxzZSk7XG5cbndhdGNoKCgpPT5wcm9wcy5vcmdhbml6YXRpb24sICgpPT57XG5cdGdldEluaGVyaXRzKCk7XG59LCB7aW1tZWRpYXRlOiB0cnVlfSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEluaGVyaXRzKCl7XG5cdGlmICghcHJvcHMub3JnYW5pemF0aW9uKXtcblx0XHRyZXR1cm47XG5cdH1cblx0bG9hZGluZy52YWx1ZSA9IHRydWU7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGZyYXBwZS5jYWxsPHsgbWVzc2FnZTogSW5oZXJpdE9yZ2FuaXphdGlvbltdIH0+KHtcblx0XHRtZXRob2Q6ICd0aWFuanlfb3JnYW5pemF0aW9uLnRpYW5qeV9vcmdhbml6YXRpb24ucGFnZS50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy5nZXRfaW5oZXJpdCcsXG5cdFx0YXJnczp7XG5cdFx0XHRvcmdhbml6YXRpb25fbmFtZTpwcm9wcy5vcmdhbml6YXRpb24sXG5cdFx0fSxcblx0fSk7XG5cdGluaGVyaXRMaXN0LnZhbHVlID0gcmVzPy5tZXNzYWdlfHxbXTtcblx0bG9hZGluZy52YWx1ZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbmhlcml0KCl7XG5cdGNvbnN0IG5ld0RvYyA9IGZyYXBwZS5tb2RlbC5tYWtlX25ld19kb2NfYW5kX2dldF9uYW1lKCdUaWFuankgT3JnYW5pemF0aW9uIEluaGVyaXRhYmxlJyk7XG5cdGZyYXBwZS5tb2RlbC5zZXRfdmFsdWUoJ1RpYW5qeSBPcmdhbml6YXRpb24gSW5oZXJpdGFibGUnLCBuZXdEb2MsICdvcmdhbml6YXRpb24nLCBwcm9wcy5vcmdhbml6YXRpb24pO1xuXHRmcmFwcGUuc2V0X3JvdXRlKFsnZm9ybScsICdUaWFuankgT3JnYW5pemF0aW9uIEluaGVyaXRhYmxlJywgbmV3RG9jXSk7XG59XG5cbmZ1bmN0aW9uIGVkaXRJbmhlcml0KGluaGVyaXRPcmdhbml6YXRpb246SW5oZXJpdE9yZ2FuaXphdGlvbil7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24gSW5oZXJpdGFibGUnLCBpbmhlcml0T3JnYW5pemF0aW9uLm5hbWVdKTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUluaGVyaXQoaW5oZXJpdE9yZ2FuaXphdGlvbjpJbmhlcml0T3JnYW5pemF0aW9uKXtcblx0RWxNZXNzYWdlQm94LmNvbmZpcm0oXG5cdFx0J1x1NjBBOFx1Nzg2RVx1OEJBNFx1NTIyMFx1OTY2NFx1NkI2NFx1NEVCQVx1NTQ1OFx1NTQxNz8nLFxuXHRcdCdcdThCRjdcdTc4NkVcdThCQTQnLFxuXHRcdHtcblx0XHRcdGNvbmZpcm1CdXR0b25UZXh0OiAnXHU3ODZFXHU1QjlBJyxcblx0XHRcdGNhbmNlbEJ1dHRvblRleHQ6ICdcdTUzRDZcdTZEODgnLFxuXHRcdFx0dHlwZTogJ3dhcm5pbmcnLFxuXHRcdH0sXG5cdCkudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0bG9hZGluZy52YWx1ZSA9IHRydWU7XG5cdFx0YXdhaXQgZnJhcHBlLmRiLmRlbGV0ZV9kb2MoJ1RpYW5qeSBPcmdhbml6YXRpb24gSW5oZXJpdGFibGUnLCBpbmhlcml0T3JnYW5pemF0aW9uLm5hbWUpO1xuXHRcdGdldEluaGVyaXRzKCk7XG5cdFx0RWxNZXNzYWdlKHtcblx0XHRcdHR5cGU6ICdzdWNjZXNzJyxcblx0XHRcdG1lc3NhZ2U6ICdcdTUyMjBcdTk2NjRcdTYyMTBcdTUyOUYnLFxuXHRcdH0pO1xuXHR9KS5jYXRjaCgoKSA9PiB7XG5cdFx0RWxNZXNzYWdlKHtcblx0XHRcdHR5cGU6ICdpbmZvJyxcblx0XHRcdG1lc3NhZ2U6ICdcdTUzRDZcdTZEODhcdTUyMjBcdTk2NjQnLFxuXHRcdH0pO1xuXHR9KTtcbn1cblxuZnJhcHBlLnNvY2tldGlvLmRvY3R5cGVfc3Vic2NyaWJlKCdUaWFuankgT3JnYW5pemF0aW9uIEluaGVyaXRhYmxlJyk7XG5cbmZyYXBwZS5yZWFsdGltZS5vbignbGlzdF91cGRhdGUnLCBwID0+IHtcblx0aWYgKHAuZG9jdHlwZSAhPT0gJ1RpYW5qeSBPcmdhbml6YXRpb24gSW5oZXJpdGFibGUnKSB7IHJldHVybjsgfVxuXHRnZXRJbmhlcml0cygpO1xufSk7XG5cbi8vIGNvbnN0IHBvcHN0YXRlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQ6YW55KSB7XG4vLyBcdGdldEluaGVyaXRzKCk7XG4vLyB9O1xuLy8gb25Nb3VudGVkKCgpID0+IHtcbi8vIFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wc3RhdGVMaXN0ZW5lcik7XG4vLyB9KTtcbi8vIG9uVW5tb3VudGVkKCgpID0+IHtcbi8vIFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wc3RhdGVMaXN0ZW5lcik7XG4vLyB9KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLmluaGVyaXRhYmxlLW9yZ2FuaXphdGlvbntcblx0aGVpZ2h0OiAxMDAlO1xuXHRkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdC5idG4tY29udGFpbmVye1xuXHRcdHRleHQtYWxpZ246IHJpZ2h0O1xuXHRcdG1hcmdpbi1ib3R0b206IDhweDtcblx0fVxufVxuXG48L3N0eWxlPlxuIiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0LnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCByZXNvbHZlRGlyZWN0aXZlIGFzIF9yZXNvbHZlRGlyZWN0aXZlLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tIFwidnVlXCJcblxuY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKFwiZGF0YS12LTRlMmM5Y2I2XCIpLG49bigpLF9wb3BTY29wZUlkKCksbilcbmNvbnN0IF9ob2lzdGVkXzEgPSB7IGNsYXNzOiBcImluaGVyaXRhYmxlLW9yZ2FuaXphdGlvblwiIH1cbmNvbnN0IF9ob2lzdGVkXzIgPSB7IGNsYXNzOiBcImJ0bi1jb250YWluZXJcIiB9XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfRWxCdXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudChcIkVsQnV0dG9uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC10YWJsZS1jb2x1bW5cIilcbiAgY29uc3QgX2NvbXBvbmVudF9lbF90YWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdGFibGVcIilcbiAgY29uc3QgX2RpcmVjdGl2ZV9sb2FkaW5nID0gX3Jlc29sdmVEaXJlY3RpdmUoXCJsb2FkaW5nXCIpXG5cbiAgcmV0dXJuIF93aXRoRGlyZWN0aXZlcygoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIF9ob2lzdGVkXzIsIFtcbiAgICAgICgkcHJvcHMucGVybWlzc2lvbnMuY3JlYXRlUGVybWlzc2lvbilcbiAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9FbEJ1dHRvbiwge1xuICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgdHlwZTogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiAkc2V0dXAuY3JlYXRlSW5oZXJpdFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1N0VFN1x1NjI3Rlx1N0VDNFx1N0VDN1wiKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pKVxuICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgXSksXG4gICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGUsIHtcbiAgICAgIGRhdGE6ICRzZXR1cC5pbmhlcml0TGlzdCxcbiAgICAgIGJvcmRlcjogXCJcIixcbiAgICAgIHN0eWxlOiB7XCJ3aWR0aFwiOlwiMTAwJVwifSxcbiAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICB9LCB7XG4gICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiaW5oZXJpdF9mcm9tX29yZ2FuaXphdGlvbl9kb2MubGFiZWxcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTdFRTdcdTYyN0ZcdTgxRUFcIlxuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU4OUMxXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LnZpc2libGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwidmlld2FibGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTY3RTVcdTc3MEJcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cudmlld2FibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiYWRkaWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NkRGQlx1NTJBMFwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5hZGRpYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcImVkaXRhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU3RjE2XHU4RjkxXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmVkaXRhYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcImRlbGV0YWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NTIyMFx1OTY2NFwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5kZWxldGFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwibWFuYWdlYWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1N0JBMVx1NzQwNlwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5tYW5hZ2VhYmxlPydcdTY2MkYnOidcdTU0MjYnKSwgMSAvKiBURVhUICovKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICAoJHByb3BzLnBlcm1pc3Npb25zLndyaXRlUGVybWlzc2lvbnx8JHByb3BzLnBlcm1pc3Npb25zLmRlbGV0ZVBlcm1pc3Npb24pXG4gICAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICBwcm9wOiBcImFkZHJlc3NcIixcbiAgICAgICAgICAgICAgbGFiZWw6IFwiXHU2NENEXHU0RjVDXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEzMFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgICAgICgkcHJvcHMucGVybWlzc2lvbnMud3JpdGVQZXJtaXNzaW9uKVxuICAgICAgICAgICAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9FbEJ1dHRvbiwge1xuICAgICAgICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInByaW1hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gKCRzZXR1cC5lZGl0SW5oZXJpdChzY29wZS5yb3cpKVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1N0YxNlx1OEY5MVwiKVxuICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqL1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKSlcbiAgICAgICAgICAgICAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgKCRwcm9wcy5wZXJtaXNzaW9ucy5kZWxldGVQZXJtaXNzaW9uKVxuICAgICAgICAgICAgICAgICAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9FbEJ1dHRvbiwge1xuICAgICAgICAgICAgICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLmRlbGV0ZUluaGVyaXQoc2NvcGUucm93KSlcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoXCJcdTUyMjBcdTk2NjRcIilcbiAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi9cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgW1wib25DbGlja1wiXSkpXG4gICAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgXSksXG4gICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgIH0sIDggLyogUFJPUFMgKi8sIFtcImRhdGFcIl0pXG4gIF0pKSwgW1xuICAgIFtfZGlyZWN0aXZlX2xvYWRpbmcsICRzZXR1cC5sb2FkaW5nXVxuICBdKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdC52dWU/dHlwZT1zY3JpcHRcIjtpbXBvcnQgc3R5bGUwIGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdC52dWU/dHlwZT1zdHlsZSZpbmRleD0wXCI7c3R5bGUwKHNjcmlwdCk7aW1wb3J0IHtyZW5kZXIgfSBmcm9tIFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9jb21wb25lbnRzL0luaGVyaXQudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdC52dWVcIjtzY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtNGUyYzljYjZcIjtleHBvcnQgZGVmYXVsdCBzY3JpcHQ7IiwgIjx0ZW1wbGF0ZT5cblx0PGRpdiBjbGFzcz1cIm1lbWJlclwiIHYtbG9hZGluZz1cImxvYWRpbmdcIj5cblx0XHQ8ZWwtdGFibGUgOmRhdGE9XCJtZW1iZXJMaXN0XCIgYm9yZGVyIHN0eWxlPVwid2lkdGg6IDEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIGZpeGVkIHByb3A9XCJ1c2VyX2RvYy5mdWxsX25hbWVcIiBsYWJlbD1cIlx1NzUyOFx1NjIzN1wiIHdpZHRoPVwiMTgwXCIgLz5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cInJvbGVcIiBsYWJlbD1cIlx1ODlEMlx1ODI3MlwiID5cblx0XHRcdFx0PHRlbXBsYXRlICNkZWZhdWx0PVwic2NvcGVcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInJvbGVcIiBAY2xpY2s9XCJzaG93UGVybWlzc2lvbnMocm9sZURvYy5yb2xlKVwiIHYtZm9yPVwicm9sZURvYyBpbiBzY29wZS5yb3cucm9sZXNcIj57eyB0dChyb2xlRG9jLnJvbGUpIH19PC9zcGFuPlxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJ2aXNpYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTg5QzFcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy52aXNpYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cInZpZXdhYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTY3RTVcdTc3MEJcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy52aWV3YWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJhZGRpYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTZERkJcdTUyQTBcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy5hZGRpYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHRcdDxlbC10YWJsZS1jb2x1bW4gcHJvcD1cImVkaXRhYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTdGMTZcdThGOTFcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy5lZGl0YWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJkZWxldGFibGVcIiBsYWJlbD1cIlx1NTNFRlx1NTIyMFx1OTY2NFwiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0e3sgc2NvcGUucm93LmRlbGV0YWJsZT8nXHU2NjJGJzonXHU1NDI2JyB9fVxuXHRcdFx0XHQ8L3RlbXBsYXRlPlxuXHRcdFx0PC9lbC10YWJsZS1jb2x1bW4+XG5cdFx0XHQ8ZWwtdGFibGUtY29sdW1uIHByb3A9XCJtYW5hZ2VhYmxlXCIgbGFiZWw9XCJcdTUzRUZcdTdCQTFcdTc0MDZcIiB3aWR0aD1cIjYwXCIgPlxuXHRcdFx0XHQ8dGVtcGxhdGUgI2RlZmF1bHQ9XCJzY29wZVwiPlxuXHRcdFx0XHRcdHt7IHNjb3BlLnJvdy5tYW5hZ2VhYmxlPydcdTY2MkYnOidcdTU0MjYnIH19XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblxuXHRcdFx0PGVsLXRhYmxlLWNvbHVtbiB2LWlmPVwicGVybWlzc2lvbnMud3JpdGVQZXJtaXNzaW9ufHxwZXJtaXNzaW9ucy5kZWxldGVQZXJtaXNzaW9uXCIgcHJvcD1cImFkZHJlc3NcIiBsYWJlbD1cIlx1NjRDRFx1NEY1Q1wiIHdpZHRoPVwiNjBcIiA+XG5cdFx0XHRcdDx0ZW1wbGF0ZSAjZGVmYXVsdD1cInNjb3BlXCI+XG5cdFx0XHRcdFx0PEVsQnV0dG9uIHYtaWY9XCJwZXJtaXNzaW9ucy53cml0ZVBlcm1pc3Npb25cIiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImVkaXRNZW1iZXIoc2NvcGUucm93KVwiPlx1OEJFNlx1NjBDNTwvRWxCdXR0b24+XG5cdFx0XHRcdDwvdGVtcGxhdGU+XG5cdFx0XHQ8L2VsLXRhYmxlLWNvbHVtbj5cblx0XHQ8L2VsLXRhYmxlPlxuXHQ8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz0ndHMnPlxuaW1wb3J0IHsgb25Nb3VudGVkLCBvblVubW91bnRlZCwgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBFbE1lc3NhZ2VCb3gsIEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7XG5cbmltcG9ydCB0eXBlIHsgTWVtYmVyLCBQZXJtaXNzaW9ucyB9IGZyb20gJy4uL3R5cGUnO1xuXG5pbXBvcnQge3Nob3dQZXJtaXNzaW9uc30gZnJvbSAnLi9oZWxwZXInO1xuXG5pbnRlcmZhY2UgUHJvcHN7XG5cdG9yZ2FuaXphdGlvbjpzdHJpbmdcblx0cGVybWlzc2lvbnM6UGVybWlzc2lvbnNcbn1cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5jb25zdCBtZW1iZXJMaXN0ID0gcmVmPE1lbWJlcltdPihbXSk7XG5jb25zdCBsb2FkaW5nID0gcmVmPGJvb2xlYW4+KGZhbHNlKTtcbmNvbnN0IHR0ID0gX187XG5cbndhdGNoKCgpPT5wcm9wcy5vcmdhbml6YXRpb24sICgpPT57XG5cdGdldE1lbWJlcnMoKTtcbn0sIHtpbW1lZGlhdGU6IHRydWV9KTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVtYmVycygpe1xuXHRpZiAoIXByb3BzLm9yZ2FuaXphdGlvbil7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGxvYWRpbmcudmFsdWUgPSB0cnVlO1xuXHRjb25zdCByZXMgPSBhd2FpdCBmcmFwcGUuY2FsbDx7IG1lc3NhZ2U6IE1lbWJlcltdIH0+KHtcblx0XHRtZXRob2Q6ICd0aWFuanlfb3JnYW5pemF0aW9uLnRpYW5qeV9vcmdhbml6YXRpb24ucGFnZS50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy50aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy5nZXRfbWVtYmVycycsXG5cdFx0YXJnczp7XG5cdFx0XHRvcmdhbml6YXRpb25fbmFtZTpwcm9wcy5vcmdhbml6YXRpb24sXG5cdFx0XHRpc19pbmhlcml0OjEsXG5cdFx0fSxcblx0fSk7XG5cdG1lbWJlckxpc3QudmFsdWUgPSByZXM/Lm1lc3NhZ2V8fFtdO1xuXHRsb2FkaW5nLnZhbHVlID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGVkaXRNZW1iZXIobWVtYmVyOk1lbWJlcil7XG5cdGZyYXBwZS5zZXRfcm91dGUoWydmb3JtJywgJ1RpYW5qeSBPcmdhbml6YXRpb24gTWVtYmVyJywgbWVtYmVyLm5hbWVdKTtcbn1cblxuZnJhcHBlLnNvY2tldGlvLmRvY3R5cGVfc3Vic2NyaWJlKCdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicpO1xuXG5mcmFwcGUucmVhbHRpbWUub24oJ2xpc3RfdXBkYXRlJywgcCA9PiB7XG5cdGlmIChwLmRvY3R5cGUgIT09ICdUaWFuankgT3JnYW5pemF0aW9uIE1lbWJlcicmJnAuZG9jdHlwZSAhPT0gJ1RpYW5qeSBPcmdhbml6YXRpb24gUm9sZScpIHsgcmV0dXJuOyB9XG5cdGdldE1lbWJlcnMoKTtcbn0pO1xuXG5jb25zdCBwb3BzdGF0ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50OmFueSkge1xuXHRnZXRNZW1iZXJzKCk7XG59O1xub25Nb3VudGVkKCgpID0+IHtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wc3RhdGVMaXN0ZW5lcik7XG59KTtcbm9uVW5tb3VudGVkKCgpID0+IHtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wc3RhdGVMaXN0ZW5lcik7XG59KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz0nbGVzcycgc2NvcGVkPlxuLm1lbWJlcntcblx0aGVpZ2h0OiAxMDAlO1xuXHRkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdC5idG4tY29udGFpbmVye1xuXHRcdHRleHQtYWxpZ246IHJpZ2h0O1xuXHRcdG1hcmdpbi1ib3R0b206IDhweDtcblx0fVxuXHQucm9sZXtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0bWFyZ2luLXJpZ2h0OiA0cHg7XG5cdFx0Jjpob3Zlcntcblx0XHRcdHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuXHRcdH1cblx0fVxufVxuXG48L3N0eWxlPlxuIiwgImltcG9ydCBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0TWVtYmVyLnZ1ZT90eXBlPXN0eWxlLWNzcyZpbmRleD0wXCI7ZXhwb3J0IGRlZmF1bHQgKCkgPT57fSIsICJpbXBvcnQgeyByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVEaXJlY3RpdmUgYXMgX3Jlc29sdmVEaXJlY3RpdmUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSBcInZ1ZVwiXG5cbmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZChcImRhdGEtdi1iMjhhZTY3NVwiKSxuPW4oKSxfcG9wU2NvcGVJZCgpLG4pXG5jb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogXCJtZW1iZXJcIiB9XG5jb25zdCBfaG9pc3RlZF8yID0gW1wib25DbGlja1wiXVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiA9IF9yZXNvbHZlQ29tcG9uZW50KFwiZWwtdGFibGUtY29sdW1uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfRWxCdXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudChcIkVsQnV0dG9uXCIpXG4gIGNvbnN0IF9jb21wb25lbnRfZWxfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXRhYmxlXCIpXG4gIGNvbnN0IF9kaXJlY3RpdmVfbG9hZGluZyA9IF9yZXNvbHZlRGlyZWN0aXZlKFwibG9hZGluZ1wiKVxuXG4gIHJldHVybiBfd2l0aERpcmVjdGl2ZXMoKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGUsIHtcbiAgICAgIGRhdGE6ICRzZXR1cC5tZW1iZXJMaXN0LFxuICAgICAgYm9yZGVyOiBcIlwiLFxuICAgICAgc3R5bGU6IHtcIndpZHRoXCI6XCIxMDAlXCJ9LFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgIH0sIHtcbiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgZml4ZWQ6IFwiXCIsXG4gICAgICAgICAgcHJvcDogXCJ1c2VyX2RvYy5mdWxsX25hbWVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTc1MjhcdTYyMzdcIixcbiAgICAgICAgICB3aWR0aDogXCIxODBcIlxuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJyb2xlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU4OUQyXHU4MjcyXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChzY29wZS5yb3cucm9sZXMsIChyb2xlRG9jKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwicm9sZVwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAoJHNldHVwLnNob3dQZXJtaXNzaW9ucyhyb2xlRG9jLnJvbGUpKVxuICAgICAgICAgICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC50dChyb2xlRG9jLnJvbGUpKSwgOSAvKiBURVhULCBQUk9QUyAqLywgX2hvaXN0ZWRfMikpXG4gICAgICAgICAgICB9KSwgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgIH0pLFxuICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHtcbiAgICAgICAgICBwcm9wOiBcInZpc2libGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTg5QzFcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cudmlzaWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJ2aWV3YWJsZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIlx1NTNFRlx1NjdFNVx1NzcwQlwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KChzY29wZSkgPT4gW1xuICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy52aWV3YWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJhZGRpYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU2REZCXHU1MkEwXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmFkZGlibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiZWRpdGFibGVcIixcbiAgICAgICAgICBsYWJlbDogXCJcdTUzRUZcdTdGMTZcdThGOTFcIixcbiAgICAgICAgICB3aWR0aDogXCI2MFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cuZWRpdGFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgIHByb3A6IFwiZGVsZXRhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU1MjIwXHU5NjY0XCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmRlbGV0YWJsZT8nXHU2NjJGJzonXHU1NDI2JyksIDEgLyogVEVYVCAqLylcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICB9KSxcbiAgICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7XG4gICAgICAgICAgcHJvcDogXCJtYW5hZ2VhYmxlXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXHU1M0VGXHU3QkExXHU3NDA2XCIsXG4gICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKHNjb3BlKSA9PiBbXG4gICAgICAgICAgICBfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93Lm1hbmFnZWFibGU/J1x1NjYyRic6J1x1NTQyNicpLCAxIC8qIFRFWFQgKi8pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgfSksXG4gICAgICAgICgkcHJvcHMucGVybWlzc2lvbnMud3JpdGVQZXJtaXNzaW9ufHwkcHJvcHMucGVybWlzc2lvbnMuZGVsZXRlUGVybWlzc2lvbilcbiAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwge1xuICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgIHByb3A6IFwiYWRkcmVzc1wiLFxuICAgICAgICAgICAgICBsYWJlbDogXCJcdTY0Q0RcdTRGNUNcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNjBcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoc2NvcGUpID0+IFtcbiAgICAgICAgICAgICAgICAoJHByb3BzLnBlcm1pc3Npb25zLndyaXRlUGVybWlzc2lvbilcbiAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfRWxCdXR0b24sIHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogJGV2ZW50ID0+ICgkc2V0dXAuZWRpdE1lbWJlcihzY29wZS5yb3cpKVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZVRleHRWTm9kZShcIlx1OEJFNlx1NjBDNVwiKVxuICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqL1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbXCJvbkNsaWNrXCJdKSlcbiAgICAgICAgICAgICAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICBdKSxcbiAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgfSwgOCAvKiBQUk9QUyAqLywgW1wiZGF0YVwiXSlcbiAgXSkpLCBbXG4gICAgW19kaXJlY3RpdmVfbG9hZGluZywgJHNldHVwLmxvYWRpbmddXG4gIF0pXG59IiwgImltcG9ydCBzY3JpcHQgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0TWVtYmVyLnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0TWVtYmVyLnZ1ZT90eXBlPXN0eWxlJmluZGV4PTBcIjtzdHlsZTAoc2NyaXB0KTtpbXBvcnQge3JlbmRlciB9IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2NvbXBvbmVudHMvSW5oZXJpdE1lbWJlci52dWU/dHlwZT10ZW1wbGF0ZVwiOyBzY3JpcHQucmVuZGVyID0gcmVuZGVyO3NjcmlwdC5fX2ZpbGUgPSBcIi4uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvY29tcG9uZW50cy9Jbmhlcml0TWVtYmVyLnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1iMjhhZTY3NVwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiLCAiaW1wb3J0IFwiL1VzZXJzL3B4L0NvZGUvZnJhcHBlLWJlbmNoL2FwcHMvdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vcGFnZS90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy90aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZy9pbmRleC52dWU/dHlwZT1zdHlsZS1jc3MmaW5kZXg9MFwiO2V4cG9ydCBkZWZhdWx0ICgpID0+e30iLCAiaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gXCJ2dWVcIlxuXG5jb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoXCJkYXRhLXYtY2IyODBhY2RcIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKVxuY29uc3QgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKFwiaDNcIiwgeyBjbGFzczogXCJ0aXRsZVwiIH0sIFwiXHU3RUM0XHU3RUM3XHU5MTREXHU3RjZFXCIsIC0xIC8qIEhPSVNURUQgKi8pKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykge1xuICBjb25zdCBfY29tcG9uZW50X2VsX3RhYl9wYW5lID0gX3Jlc29sdmVDb21wb25lbnQoXCJlbC10YWItcGFuZVwiKVxuICBjb25zdCBfY29tcG9uZW50X2VsX3RhYnMgPSBfcmVzb2x2ZUNvbXBvbmVudChcImVsLXRhYnNcIilcblxuICByZXR1cm4gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCRzZXR1cFtcIlBhZ2VcIl0sIG51bGwsIHtcbiAgICB0aXRsZTogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgX2hvaXN0ZWRfMVxuICAgIF0pLFxuICAgIHNpZGVyOiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICBfY3JlYXRlVk5vZGUoJHNldHVwW1wiT3JnYW5pemF0aW9uVHJlZVwiXSwge1xuICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAub3JnYW5pemF0aW9uLFxuICAgICAgICBcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gKCgkc2V0dXAub3JnYW5pemF0aW9uKSA9ICRldmVudCkpLFxuICAgICAgICBwZXJtaXNzaW9uczogJHNldHVwLm9yZ2FuaXphdGlvblBlcm1pc3Npb25zXG4gICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbXCJtb2RlbFZhbHVlXCIsIFwicGVybWlzc2lvbnNcIl0pXG4gICAgXSksXG4gICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFicywge1xuICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuYWN0aXZlTmFtZSxcbiAgICAgICAgXCJvblVwZGF0ZTptb2RlbFZhbHVlXCI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICgoJHNldHVwLmFjdGl2ZU5hbWUpID0gJGV2ZW50KSksXG4gICAgICAgIGNsYXNzOiBcIm9yZ2FuaXphdGlvbi10YWJzXCJcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYl9wYW5lLCB7XG4gICAgICAgICAgICBjbGFzczogXCJ0YWItY29udGFpbmVyXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJcdTU3RkFcdTY3MkNcdTRGRTFcdTYwNkZcIixcbiAgICAgICAgICAgIG5hbWU6IFwiaW5mb1wiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICBfY3JlYXRlVk5vZGUoJHNldHVwW1wiRm9ybURldGFpbFwiXSwge1xuICAgICAgICAgICAgICAgIG5hbWU6ICRzZXR1cC5vcmdhbml6YXRpb24/Lm5hbWUsXG4gICAgICAgICAgICAgICAgZG9jdHlwZTogXCJUaWFuankgT3JnYW5pemF0aW9uXCJcbiAgICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wibmFtZVwiXSlcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi9cbiAgICAgICAgICB9KSxcbiAgICAgICAgICAoJHNldHVwLm9yZ2FuaXphdGlvbj8udHlwZV9kb2Mubm9fd29ya3NwYWNlPT09MClcbiAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHtcbiAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwidGFiLWNvbnRhaW5lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlx1NURFNVx1NEY1Q1x1NTMzQVwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwid29ya3NwYWNlXCJcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICAgICgkc2V0dXAub3JnYW5pemF0aW9uKVxuICAgICAgICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJXb3Jrc3BhY2VcIl0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogJHNldHVwLm9yZ2FuaXphdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wib3JnYW5pemF0aW9uXCJdKSlcbiAgICAgICAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKSxcbiAgICAgICAgICBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJfcGFuZSwge1xuICAgICAgICAgICAgY2xhc3M6IFwidGFiLWNvbnRhaW5lclwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiXHU2MjEwXHU1NDU4XCIsXG4gICAgICAgICAgICBuYW1lOiBcInVzZXJzXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICgkc2V0dXAub3JnYW5pemF0aW9uKVxuICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCRzZXR1cFtcIk1lbWJlclwiXSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogJHNldHVwLm9yZ2FuaXphdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogJHNldHVwLm1lbWJlclBlcm1pc3Npb25zXG4gICAgICAgICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbXCJvcmdhbml6YXRpb25cIiwgXCJwZXJtaXNzaW9uc1wiXSkpXG4gICAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYl9wYW5lLCB7XG4gICAgICAgICAgICBjbGFzczogXCJ0YWItY29udGFpbmVyXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJcdTdFRTdcdTYyN0ZcIixcbiAgICAgICAgICAgIG5hbWU6IFwiaW5oZXJpdFwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAoJHNldHVwLm9yZ2FuaXphdGlvbilcbiAgICAgICAgICAgICAgICA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygkc2V0dXBbXCJJbmhlcml0XCJdLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiAkc2V0dXAub3JnYW5pemF0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiAkc2V0dXAuaW5oZXJpdFBlcm1pc3Npb25zXG4gICAgICAgICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbXCJvcmdhbml6YXRpb25cIiwgXCJwZXJtaXNzaW9uc1wiXSkpXG4gICAgICAgICAgICAgICAgOiBfY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqL1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYl9wYW5lLCB7XG4gICAgICAgICAgICBjbGFzczogXCJ0YWItY29udGFpbmVyXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJcdTdFRTdcdTYyN0ZcdTRFQkFcdTU0NThcIixcbiAgICAgICAgICAgIG5hbWU6IFwiaW5oZXJpdF9tZW1iZXJzXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICgkc2V0dXAub3JnYW5pemF0aW9uKVxuICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCRzZXR1cFtcIkluaGVyaXRNZW1iZXJcIl0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246ICRzZXR1cC5vcmdhbml6YXRpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6ICRzZXR1cC5pbmhlcml0UGVybWlzc2lvbnNcbiAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm9yZ2FuaXphdGlvblwiLCBcInBlcm1pc3Npb25zXCJdKSlcbiAgICAgICAgICAgICAgICA6IF9jcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICAgICAgfSlcbiAgICAgICAgXSksXG4gICAgICAgIF86IDEgLyogU1RBQkxFICovXG4gICAgICB9LCA4IC8qIFBST1BTICovLCBbXCJtb2RlbFZhbHVlXCJdKVxuICAgIF0pLFxuICAgIF86IDEgLyogU1RBQkxFICovXG4gIH0pKVxufSIsICJpbXBvcnQgc2NyaXB0IGZyb20gXCIvVXNlcnMvcHgvQ29kZS9mcmFwcGUtYmVuY2gvYXBwcy90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZT90eXBlPXNjcmlwdFwiO2ltcG9ydCBzdHlsZTAgZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9c3R5bGUmaW5kZXg9MFwiO3N0eWxlMChzY3JpcHQpO2ltcG9ydCB7cmVuZGVyIH0gZnJvbSBcIi9Vc2Vycy9weC9Db2RlL2ZyYXBwZS1iZW5jaC9hcHBzL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi90aWFuanlfb3JnYW5pemF0aW9uL3BhZ2UvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvdGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWcvaW5kZXgudnVlP3R5cGU9dGVtcGxhdGVcIjsgc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtzY3JpcHQuX19maWxlID0gXCIuLi90aWFuanlfb3JnYW5pemF0aW9uL3RpYW5qeV9vcmdhbml6YXRpb24vdGlhbmp5X29yZ2FuaXphdGlvbi9wYWdlL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL3RpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnL2luZGV4LnZ1ZVwiO3NjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1jYjI4MGFjZFwiO2V4cG9ydCBkZWZhdWx0IHNjcmlwdDsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBLE9BQUMsU0FBUyxHQUFFLEdBQUU7QUFBQyxvQkFBVSxPQUFPLFdBQVMsWUFBVSxPQUFPLFNBQU8sT0FBTyxVQUFRLEVBQUUsSUFBRSxjQUFZLE9BQU8sVUFBUSxPQUFPLE1BQUksT0FBTyxDQUFDLEdBQUUsQ0FBQyxJQUFFLFlBQVUsT0FBTyxVQUFRLFFBQVEsT0FBSyxFQUFFLElBQUUsRUFBRSxPQUFLLEVBQUU7QUFBQSxNQUFDLEVBQUUsUUFBUSxXQUFVO0FBQUMsZUFBTyxTQUFTLEdBQUU7QUFBQyxjQUFJLElBQUUsQ0FBQztBQUFFLG1CQUFTLEVBQUUsR0FBRTtBQUFDLGdCQUFHLEVBQUU7QUFBRyxxQkFBTyxFQUFFLEdBQUc7QUFBUSxnQkFBSSxJQUFFLEVBQUUsS0FBRyxFQUFDLEdBQUksR0FBRSxPQUFHLFNBQVEsQ0FBQyxFQUFDO0FBQUUsbUJBQU8sRUFBRSxHQUFHLEtBQUssRUFBRSxTQUFRLEdBQUUsRUFBRSxTQUFRLENBQUMsR0FBRSxFQUFFLElBQUUsTUFBRyxFQUFFO0FBQUEsVUFBTztBQUFDLGlCQUFPLEVBQUUsSUFBRSxHQUFFLEVBQUUsSUFBRSxHQUFFLEVBQUUsSUFBRSxTQUFTQSxJQUFFQyxJQUFFLEdBQUU7QUFBQyxjQUFFLEVBQUVELElBQUVDLEVBQUMsS0FBRyxPQUFPLGVBQWVELElBQUVDLElBQUUsRUFBQyxZQUFXLE1BQUcsS0FBSSxFQUFDLENBQUM7QUFBQSxVQUFDLEdBQUUsRUFBRSxJQUFFLFNBQVNELElBQUU7QUFBQywyQkFBYSxPQUFPLFVBQVEsT0FBTyxlQUFhLE9BQU8sZUFBZUEsSUFBRSxPQUFP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QUFNLFNBQVMsUUFBUSxhQUFBQyxRQUFLLENBQUM7QUFDcEQsUUFBSSxNQUFNLEtBQUssTUFBTTtBQUFBLEVBQ3RCOyIsCiAgIm5hbWVzIjogWyJ0IiwgImUiLCAibiIsICJpIiwgIm8iLCAiciIsICJzIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfdnVlIiwgIlRvZ2dsZUJ0bl9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX3B1c2hTY29wZUlkIiwgIl9wb3BTY29wZUlkIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlRWxlbWVudEJsb2NrIiwgIlRvZ2dsZUJ0bl9kZWZhdWx0IiwgIl9hIiwgInBhZ2VfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJfaG9pc3RlZF8zIiwgIl9ob2lzdGVkXzQiLCAicmVuZGVyIiwgIl9yZXNvbHZlQ29tcG9uZW50IiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfRnJhZ21lbnQiLCAiX2NyZWF0ZVZOb2RlIiwgIl9yZW5kZXJTbG90IiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfd2l0aERpcmVjdGl2ZXMiLCAiX3ZTaG93IiwgIl9jcmVhdGVCbG9jayIsICJfd2l0aEN0eCIsICJfbm9ybWFsaXplQ2xhc3MiLCAiX25vcm1hbGl6ZVN0eWxlIiwgInBhZ2VfZGVmYXVsdCIsICJyZW5kZXIiLCAiaW1wb3J0X3Z1ZSIsICJpdGVtIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X2ljb25zX3Z1ZSIsICJ0dCIsICJUcmVlSXRlbV9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX3dpdGhTY29wZUlkIiwgIl9wdXNoU2NvcGVJZCIsICJfcG9wU2NvcGVJZCIsICJfaG9pc3RlZF8xIiwgIl9ob2lzdGVkXzIiLCAiX2hvaXN0ZWRfMyIsICJfY3JlYXRlRWxlbWVudFZOb2RlIiwgInJlbmRlciIsICJfcmVzb2x2ZUNvbXBvbmVudCIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX3RvRGlzcGxheVN0cmluZyIsICJfY3JlYXRlQmxvY2siLCAiX3dpdGhDdHgiLCAiX2NyZWF0ZVZOb2RlIiwgIl9GcmFnbWVudCIsICJfcmVuZGVyTGlzdCIsICJfY3JlYXRlVGV4dFZOb2RlIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiVHJlZUl0ZW1fZGVmYXVsdCIsICJyZW5kZXIiLCAiYmVmb3JlIiwgIk9yZ2FuaXphdGlvblRyZWVfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJfaG9pc3RlZF8zIiwgInJlbmRlciIsICJfcmVzb2x2ZUNvbXBvbmVudCIsICJfcmVzb2x2ZURpcmVjdGl2ZSIsICJfd2l0aERpcmVjdGl2ZXMiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlRWxlbWVudEJsb2NrIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX2NyZWF0ZUJsb2NrIiwgIl93aXRoQ3R4IiwgIl9jcmVhdGVUZXh0Vk5vZGUiLCAiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsICJfY3JlYXRlVk5vZGUiLCAiT3JnYW5pemF0aW9uVHJlZV9kZWZhdWx0IiwgInJlbmRlciIsICJpbXBvcnRfdnVlIiwgImltcG9ydF92dWUiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfdnVlIiwgInR0IiwgIkhlYWRlcl9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX2hvaXN0ZWRfMSIsICJfaG9pc3RlZF8yIiwgIl9ob2lzdGVkXzMiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfaG9pc3RlZF80IiwgIl9ob2lzdGVkXzUiLCAiX2hvaXN0ZWRfNiIsICJfY3JlYXRlU3RhdGljVk5vZGUiLCAiX2hvaXN0ZWRfMTIiLCAiX2hvaXN0ZWRfMTMiLCAiX2hvaXN0ZWRfMTQiLCAiX2hvaXN0ZWRfMTUiLCAicmVuZGVyIiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfbm9ybWFsaXplQ2xhc3MiLCAiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsICJfdG9EaXNwbGF5U3RyaW5nIiwgIkhlYWRlcl9kZWZhdWx0IiwgInJlbmRlciIsICJtZSIsICJsaSIsICJtZSIsICJpbnB1dF9uYW1lIiwgImoiLCAicmVuZGVyIiwgIm1lIiwgIm1lIiwgImR0IiwgImQiLCAia2V5IiwgImZpZWxkIiwgImNoaWxkIiwgIm5hbWUiLCAiaW1wb3J0X3Z1ZSIsICJ0dCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJfaG9pc3RlZF8zIiwgIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCAiX2hvaXN0ZWRfNCIsICJfaG9pc3RlZF81IiwgIl9ob2lzdGVkXzYiLCAiX2hvaXN0ZWRfNyIsICJfaG9pc3RlZF84IiwgIl9ob2lzdGVkXzkiLCAiX2NyZWF0ZVN0YXRpY1ZOb2RlIiwgIl9ob2lzdGVkXzEwIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX2NyZWF0ZVZOb2RlIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAicmVuZGVyIiwgIk1haW5fZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVCbG9jayIsICJfY3JlYXRlQ29tbWVudFZOb2RlIiwgInJlbmRlciIsICJGb3JtRGV0YWlsX2RlZmF1bHQiLCAiRGV0YWlsX2RlZmF1bHQiLCAiaW1wb3J0X3Z1ZSIsICJfaG9pc3RlZF8xIiwgInJlbmRlciIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX2NyZWF0ZUJsb2NrIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiRGV0YWlsX2RlZmF1bHQiLCAicmVuZGVyIiwgImltcG9ydF92dWUiLCAiZSIsICIkIiwgIml0ZW0iLCAiZCIsICJwYWdlcyIsICJVbmRvIiwgIm1lIiwgInJlcyIsICJwYWdlIiwgIm5ld19wYWdlIiwgImJsb2NrcyIsICJXb3Jrc3BhY2VfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAicmVuZGVyIiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJXb3Jrc3BhY2VfZGVmYXVsdCIsICJyZW5kZXIiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfZWxlbWVudF9wbHVzIiwgInRyIiwgInR0IiwgIk1lbWJlcl9kZWZhdWx0IiwgImltcG9ydF92dWUiLCAiX2hvaXN0ZWRfMSIsICJfaG9pc3RlZF8yIiwgIl9ob2lzdGVkXzMiLCAicmVuZGVyIiwgIl9yZXNvbHZlQ29tcG9uZW50IiwgIl9yZXNvbHZlRGlyZWN0aXZlIiwgIl93aXRoRGlyZWN0aXZlcyIsICJfb3BlbkJsb2NrIiwgIl9jcmVhdGVFbGVtZW50QmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJfY3JlYXRlQmxvY2siLCAiX3dpdGhDdHgiLCAiX2NyZWF0ZVRleHRWTm9kZSIsICJfY3JlYXRlQ29tbWVudFZOb2RlIiwgIl9jcmVhdGVWTm9kZSIsICJfRnJhZ21lbnQiLCAiX3JlbmRlckxpc3QiLCAiX3RvRGlzcGxheVN0cmluZyIsICJNZW1iZXJfZGVmYXVsdCIsICJyZW5kZXIiLCAiaW1wb3J0X3Z1ZSIsICJpbXBvcnRfZWxlbWVudF9wbHVzIiwgIkluaGVyaXRfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJyZW5kZXIiLCAiX3Jlc29sdmVDb21wb25lbnQiLCAiX3Jlc29sdmVEaXJlY3RpdmUiLCAiX3dpdGhEaXJlY3RpdmVzIiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfY3JlYXRlRWxlbWVudFZOb2RlIiwgIl9jcmVhdGVCbG9jayIsICJfd2l0aEN0eCIsICJfY3JlYXRlVGV4dFZOb2RlIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAiX2NyZWF0ZVZOb2RlIiwgIl90b0Rpc3BsYXlTdHJpbmciLCAiSW5oZXJpdF9kZWZhdWx0IiwgInJlbmRlciIsICJpbXBvcnRfdnVlIiwgInR0IiwgIkluaGVyaXRNZW1iZXJfZGVmYXVsdCIsICJpbXBvcnRfdnVlIiwgIl9ob2lzdGVkXzEiLCAiX2hvaXN0ZWRfMiIsICJyZW5kZXIiLCAiX3Jlc29sdmVDb21wb25lbnQiLCAiX3Jlc29sdmVEaXJlY3RpdmUiLCAiX3dpdGhEaXJlY3RpdmVzIiwgIl9vcGVuQmxvY2siLCAiX2NyZWF0ZUVsZW1lbnRCbG9jayIsICJfY3JlYXRlVk5vZGUiLCAiX3dpdGhDdHgiLCAiX0ZyYWdtZW50IiwgIl9yZW5kZXJMaXN0IiwgIl90b0Rpc3BsYXlTdHJpbmciLCAiX2NyZWF0ZVRleHRWTm9kZSIsICJfY3JlYXRlQmxvY2siLCAiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsICJJbmhlcml0TWVtYmVyX2RlZmF1bHQiLCAicmVuZGVyIiwgInRpYW5qeV9vcmdhbml6YXRpb25fY29uZmlnX2RlZmF1bHQiLCAiaW1wb3J0X3Z1ZSIsICJfd2l0aFNjb3BlSWQiLCAiX3B1c2hTY29wZUlkIiwgIl9wb3BTY29wZUlkIiwgIl9ob2lzdGVkXzEiLCAiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsICJyZW5kZXIiLCAiX3Jlc29sdmVDb21wb25lbnQiLCAiX29wZW5CbG9jayIsICJfY3JlYXRlQmxvY2siLCAiX3dpdGhDdHgiLCAiX2NyZWF0ZVZOb2RlIiwgIl9hIiwgIl9jcmVhdGVDb21tZW50Vk5vZGUiLCAidGlhbmp5X29yZ2FuaXphdGlvbl9jb25maWdfZGVmYXVsdCIsICJyZW5kZXIiLCAiaW1wb3J0X2VsZW1lbnRfcGx1cyIsICJ0aWFuanlfb3JnYW5pemF0aW9uX2NvbmZpZ19kZWZhdWx0IiwgImFwcCIsICJFbGVtZW50UGx1cyIsICJ6aENuIl0KfQo=

})();